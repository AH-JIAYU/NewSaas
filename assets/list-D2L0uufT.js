
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{d as ce,aF as de,r as s,a1 as _e,C as fe,a as n,aj as ge,o as I,b as ve,f as e,w as t,ak as D,g as m,E as U,e as x,j as be,i as _,O as he,K as we,aH as ke,aI as Ce,s as ye,aD as Ee,aE as Ve,l as Se,aK as F,_ as ze}from"./index-CnQ4xoV5.js";import{_ as Ie}from"./index.vue_vue_type_style_index_0_lang-aE_FxSXD.js";import{_ as De}from"./index.vue_vue_type_script_setup_true_lang-BVZHZ78K.js";import{v as Le,a as Me}from"./index--wQqSmo3.js";import"./stagedData-BMdSSPBU.js";import"./apiLoading-Bi9sUNe-.js";const Ne=f=>(Ee("data-v-d534e2b8"),f=f(),Ve(),f),Ge=Ne(()=>Se("div",{class:"i-grommet-icons:power-reset h-1em w-1em"},null,-1)),Ue=ce({name:"SurveyVipGroupList",__name:"list",setup(f){const{pagination:p,getParams:$,onSizeChange:B,onCurrentChange:H}=de(),v=s(!1),L=s([]),P=s(),b=s(),R=s(),h=s(!0),w=s(!1),k=s("default"),g=s([]),C=s(!1),y=s([{label:"等级名称",prop:"a",sortable:!0,disableCheck:!1,checked:!0}]),i=_e({memberGroupId:"",memberGroupName:"",groupLeaderMemberName:"",groupStatus:"",time:[]});function A(){b.value.showEdit()}function T(a){b.value.showEdit(a)}function Y(a){R.value.showEdit(a)}function j(){p.value.page=1,c()}function q(a){B(a).then(()=>c())}function M(a=1){H(a).then(()=>c())}async function c(){v.value=!0;const a={...$(),...i};i.time&&(a.beginTime=i.time[0]||"",a.endTime=i.time[1]||"");const{data:o}=await Me.list(a);L.value=o.getMemberGroupInfoList,p.value.total=o.total,v.value=!1}function K(){Object.assign(i,{memberGroupId:"",memberGroupName:"",groupLeaderMemberName:"",groupStatus:"",time:[]}),c()}function O(a){P.value=a}return fe(()=>{y.value.forEach(a=>{a.checked&&g.value.push(a.prop)}),c()}),(a,o)=>{const E=n("el-input"),d=n("el-form-item"),N=n("el-option"),Q=n("el-select"),J=n("el-date-picker"),G=we,V=n("ElButton"),W=n("ElFormItem"),X=n("ElForm"),Z=De,ee=n("ElDivider"),S=n("el-button"),te=Ie,oe=ke,le=Ce,ae=n("el-row"),u=n("el-table-column"),ne=n("el-link"),ie=n("ElSwitch"),se=n("el-empty"),re=n("el-table"),ue=n("ElPagination"),pe=ye,me=ge("loading");return I(),ve("div",{class:he({"absolute-container":C.value})},[e(pe,null,{default:t(()=>[e(Z,{"show-toggle":!1},{default:t(({fold:l,toggle:z})=>[e(X,{model:i,size:"default","label-width":"100px","inline-message":"",inline:"",class:"search-form"},{default:t(()=>[e(d,{label:""},{default:t(()=>[e(E,{modelValue:i.memberGroupId,"onUpdate:modelValue":o[0]||(o[0]=r=>i.memberGroupId=r),modelModifiers:{trim:!0},clearable:"",inline:!1,placeholder:"会员组ID"},null,8,["modelValue"])]),_:1}),e(d,{label:""},{default:t(()=>[e(E,{modelValue:i.memberGroupName,"onUpdate:modelValue":o[1]||(o[1]=r=>i.memberGroupName=r),modelModifiers:{trim:!0},clearable:"",inline:!1,placeholder:"会员组名称"},null,8,["modelValue"])]),_:1}),e(d,{label:""},{default:t(()=>[e(E,{modelValue:i.groupLeaderMemberName,"onUpdate:modelValue":o[2]||(o[2]=r=>i.groupLeaderMemberName=r),modelModifiers:{trim:!0},clearable:"",inline:!1,placeholder:"组长ID、组长名称"},null,8,["modelValue"])]),_:1}),D(e(d,{label:""},{default:t(()=>[e(Q,{modelValue:i.groupStatus,"onUpdate:modelValue":o[3]||(o[3]=r=>i.groupStatus=r),clearable:"",placeholder:"会员组状态"},{default:t(()=>[e(N,{label:"关闭",value:1}),e(N,{label:"开启",value:2})]),_:1},8,["modelValue"])]),_:2},1536),[[F,!l]]),D(e(d,null,{default:t(()=>[e(J,{modelValue:i.time,"onUpdate:modelValue":o[4]||(o[4]=r=>i.time=r),type:"datetimerange","unlink-panels":"","range-separator":"-","start-placeholder":"创建开始日期","end-placeholder":"创建结束日期","value-format":"YYYY-MM-DD hh:mm:ss",size:"default"},null,8,["modelValue"])]),_:2},1536),[[F,!l]]),e(W,null,{default:t(()=>[e(V,{type:"primary",onClick:o[5]||(o[5]=r=>M())},{icon:t(()=>[e(G,{name:"i-ep:search"})]),default:t(()=>[m(" 筛选 ")]),_:1}),e(V,{onClick:K},{icon:t(()=>[Ge]),default:t(()=>[m(" 重置 ")]),_:1}),e(V,{link:"",onClick:z},{icon:t(()=>[e(G,{name:l?"i-ep:caret-bottom":"i-ep:caret-top"},null,8,["name"])]),default:t(()=>[m(" "+U(l?"展开":"收起"),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1032,["model"])]),_:1}),e(ee,{"border-style":"dashed"}),e(ae,null,{default:t(()=>[e(te,null,{default:t(()=>[e(S,{type:"primary",size:"default",onClick:A},{default:t(()=>[m(" 新增 ")]),_:1})]),_:1}),e(le,null,{default:t(()=>[e(S,{size:"default"},{default:t(()=>[m(" 导出 ")]),_:1}),e(oe,{border:h.value,"onUpdate:border":o[6]||(o[6]=l=>h.value=l),tableAutoHeight:C.value,"onUpdate:tableAutoHeight":o[7]||(o[7]=l=>C.value=l),checkList:g.value,"onUpdate:checkList":o[8]||(o[8]=l=>g.value=l),columns:y.value,"onUpdate:columns":o[9]||(o[9]=l=>y.value=l),"line-height":k.value,"onUpdate:lineHeight":o[10]||(o[10]=l=>k.value=l),stripe:w.value,"onUpdate:stripe":o[11]||(o[11]=l=>w.value=l),style:{"margin-left":"12px"},onQueryData:j},null,8,["border","tableAutoHeight","checkList","columns","line-height","stripe"])]),_:1})]),_:1}),D((I(),x(re,{border:h.value,data:L.value,size:k.value,stripe:w.value,onSelectionChange:O},{empty:t(()=>[e(se,{class:"vab-data-empty",description:"暂无数据"})]),default:t(()=>[g.value.includes("a")?(I(),x(u,{key:0,align:"center",prop:"id","show-overflow-tooltip":"",label:"会员组ID"})):be("",!0),e(u,{align:"center",prop:"b","show-overflow-tooltip":"",label:"会员组名称"}),e(u,{align:"center",prop:"c","show-overflow-tooltip":"",label:"组长名称(ID)"}),e(u,{align:"center",prop:"e","show-overflow-tooltip":"",label:"成员"}),e(u,{align:"center",prop:"d","show-overflow-tooltip":"",label:"项目数"},{default:t(({row:l})=>[e(ne,{type:"primary",onClick:z=>Y(l)},{default:t(()=>[m(U(l.d),1)]),_:2},1032,["onClick"])]),_:1}),e(u,{align:"center",prop:"r","show-overflow-tooltip":"",label:"创建日期"}),e(u,{align:"center",prop:"a","show-overflow-tooltip":"",label:"组状态"},{default:t(()=>[e(ie,{"inline-prompt":"","active-text":"启用","inactive-text":"禁用"})]),_:1}),e(u,{align:"center",prop:"i",label:"操作","show-overflow-tooltip":"",width:"180"},{default:t(({row:l})=>[e(S,{size:"small",plain:"",type:"primary",onClick:z=>T(l)},{default:t(()=>[m(" 编辑 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["border","data","size","stripe"])),[[me,v.value]]),e(ue,{"current-page":_(p).page,total:_(p).total,"page-size":_(p).size,"page-sizes":_(p).sizes,layout:_(p).layout,"hide-on-single-page":!1,class:"pagination",background:"",onSizeChange:q,onCurrentChange:M},null,8,["current-page","total","page-size","page-sizes","layout"])]),_:1}),e(Le,{ref_key:"editRef",ref:b,onFetchData:c},null,512)],2)}}}),Re=ze(Ue,[["__scopeId","data-v-d534e2b8"]]);export{Re as default};
