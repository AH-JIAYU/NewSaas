
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{d as J,r as f,n as K,a as r,o,e as _,w as e,y as c,f as t,g as s,b as m,z as d,t as y,j as V,F as g,p as O,aH as Q,aI as W,L as X}from"./index-Cl5NW3fG.js";import{u as Y}from"./department-fEbj4HDl.js";import{u as Z}from"./tenant_role-C98ObWZ0.js";import{u as $}from"./configuration_manager-B6o4vsoH.js";import{u as ee}from"./position_manage-BITrV8n4.js";import"./department-BoJODq-S.js";import"./configuration_role-BNJeC5ZF.js";import"./position_manage-BlGD67Cp.js";const M=v=>(Q("data-v-c7014423"),v=v(),W(),v),ae=M(()=>c("div",{class:"card-header"},[c("div",{class:"leftTitle"},"基本信息")],-1)),te={key:1,class:"avatar"},le={style:{"font-size":"14px"}},oe=M(()=>c("div",{class:"card-header"},[c("div",{class:"leftTitle"},"角色信息")],-1)),se={class:"card-header"},ne={class:"leftTitle"},ue={style:{"margin-left":"20px","font-size":"14px"}},de={class:"flex-c"},re=J({__name:"index",emits:["fetch-data"],setup(v,{expose:z,emit:L}){const B=$(),I=f([]),P=ee(),N=f(),j=Z(),T=f(),U=Y(),C=f(),x=f({}),E=L,b=f(!1),l=f();async function F(h){x.value=h;const p={id:h.id},{status:n,data:w}=await O.list(p);l.value=w.data[0],b.value=!0}function D(){E("fetch-data"),b.value=!1}return K(async()=>{N.value=await P.getPositionManage(),I.value=await B.getStaff(),T.value=await j.getRole(),C.value=await U.getDepartment()}),z({showEdit:F}),(h,p)=>{const n=r("el-col"),w=r("el-avatar"),S=r("el-row"),u=r("el-text"),i=r("el-form-item"),k=r("el-card"),R=r("el-radio"),H=r("el-radio-group"),q=r("el-form"),A=r("el-button"),G=r("el-drawer");return o(),_(G,{modelValue:b.value,"onUpdate:modelValue":p[1]||(p[1]=a=>b.value=a),"append-to-body":"","close-on-click-modal":!1,"destroy-on-close":"",draggable:"",size:"60%",title:"详情",onClose:D},{footer:e(()=>[c("div",de,[t(A,{type:"primary",onClick:D},{default:e(()=>[s(" 关闭 ")]),_:1})])]),default:e(()=>[t(q,{"label-width":"100px","label-position":"right"},{default:e(()=>[t(k,{class:"box-card"},{header:e(()=>[ae]),default:e(()=>[t(S,{gutter:20},{default:e(()=>[t(n,{span:1}),t(n,{style:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"flex-start"},span:1.5},{default:e(()=>[l.value.avatar?(o(),_(w,{key:0,size:50,src:l.value.avatar},null,8,["src"])):(o(),m("div",te,d(l.value.name),1))]),_:1}),t(n,{style:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"flex-start"},span:6},{default:e(()=>[c("p",null,d(l.value.userName),1),c("p",le,[s("账号:"),c("span",null,d(l.value.userName),1)])]),_:1})]),_:1}),t(S,{gutter:24},{default:e(()=>[t(n,{span:6},{default:e(()=>[t(i,{label:"员工ID:"},{default:e(()=>[t(u,{class:"mx-1"},{default:e(()=>{var a;return[s(d((a=l.value)!=null&&a.id?l.value.id:"-"),1)]}),_:1})]),_:1})]),_:1}),t(n,{span:6},{default:e(()=>[t(i,{label:"姓名:"},{default:e(()=>[t(u,{class:"mx-1"},{default:e(()=>{var a;return[s(d((a=l.value)!=null&&a.name?l.value.name:"-"),1)]}),_:1})]),_:1})]),_:1}),t(n,{span:6},{default:e(()=>[t(i,{label:"手机号:"},{default:e(()=>[t(u,{class:"mx-1"},{default:e(()=>{var a;return[s(d((a=l.value)!=null&&a.phone?l.value.phone:"-"),1)]}),_:1})]),_:1})]),_:1}),t(n,{span:6},{default:e(()=>[t(i,{label:"邮箱:"},{default:e(()=>[t(u,{class:"mx-1"},{default:e(()=>{var a;return[s(d((a=l.value)!=null&&a.email?l.value.email:"-"),1)]}),_:1})]),_:1})]),_:1}),t(n,{span:6},{default:e(()=>[t(i,{label:"部门:"},{default:e(()=>[(o(!0),m(g,null,y(C.value,a=>(o(),_(u,null,{default:e(()=>[l.value.departmentId===a.id?(o(),_(u,{key:0},{default:e(()=>[s(d(a.name?a.name:"-"),1)]),_:2},1024)):V("",!0)]),_:2},1024))),256))]),_:1})]),_:1}),t(n,{span:6},{default:e(()=>[t(i,{label:"职位:"},{default:e(()=>[(o(!0),m(g,null,y(N.value,a=>(o(),_(u,null,{default:e(()=>[l.value.positionId===a.id?(o(),_(u,{key:0},{default:e(()=>[s(d(a.name?a.name:"-"),1)]),_:2},1024)):V("",!0)]),_:2},1024))),256))]),_:1})]),_:1}),t(n,{span:6},{default:e(()=>[t(i,{label:"帐号状态:"},{default:e(()=>[t(u,{class:"mx-1"},{default:e(()=>{var a;return[s(d((a=l.value)!=null&&a.active?"启用":"禁用"),1)]}),_:1})]),_:1})]),_:1}),t(n,{span:6},{default:e(()=>[t(i,{label:"创建时间:"},{default:e(()=>[t(u,{class:"mx-1"},{default:e(()=>{var a;return[s(d((a=l.value)!=null&&a.createTime?l.value.createTime:"-"),1)]}),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(k,{class:"box-card"},{header:e(()=>[oe]),default:e(()=>[t(S,{gutter:24},{default:e(()=>[t(i,{label:"分配角色:"},{default:e(()=>[t(H,{modelValue:x.value.role,"onUpdate:modelValue":p[0]||(p[0]=a=>x.value.role=a)},{default:e(()=>[(o(!0),m(g,null,y(T.value,a=>(o(),_(R,{key:a.id,value:a.roleName,label:a.roleName,disabled:""},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(k,{class:"box-card"},{header:e(()=>[c("div",se,[c("div",ne,[s(" 小组信息"),c("span",ue,[s("PM:"),(o(!0),m(g,null,y(I.value,a=>(o(),_(u,{key:a.id},{default:e(()=>[a.id===x.value.director?(o(),_(u,{key:0},{default:e(()=>[s(d(a.name),1)]),_:2},1024)):V("",!0)]),_:2},1024))),128))])])])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),be=X(re,[["__scopeId","data-v-c7014423"]]);export{be as default};
