
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{aC as zi,aD as Wi,d as Jw,$ as Qw,r as Hh,a as Bh,i as Au,o as Uh,e as zh,w as xf,f as tb,g as Wh,j as Gh,v as eb,a0 as rb,E as Kh}from"./index-SHuwLsia.js";import{a as $h}from"./configuration_homepageSetting-CL0ow9o0.js";var nb={410:(R,dt,wt)=>{var ht,_t,ot;/*!
* Backbone.Undo.js v0.2
*
* Copyright (c)2013 Oliver Sartun
* Released under the MIT License
*
* Documentation and full license available at
* https://github.com/osartun/Backbone.Undo.js
*/(function(J){_t=[wt(50),wt(316)],ht=J,ot=typeof ht=="function"?ht.apply(dt,_t):ht,ot!==void 0&&(R.exports=ot)})(function(J,C){var M=Array.prototype.slice;function m(T,z,I){return I.length<=4?T.call(z,I[0],I[1],I[2],I[3]):T.apply(z,I)}function A(T,z){return M.call(T,z)}function w(T,z){return T==null?!1:(J.isArray(z)||(z=A(arguments,1)),J.all(z,function(I){return I in T}))}var _=function(){var T=!1,z=-1;function I(){z++,T=!0,J.defer(function(){T=!1})}return function(){return T||I(),z}}();function O(){this.registeredObjects=[],this.cidIndexes=[]}O.prototype={isRegistered:function(T){return T&&T.cid?this.registeredObjects[T.cid]:J.contains(this.registeredObjects,T)},register:function(T){return this.isRegistered(T)?!1:(T&&T.cid?(this.registeredObjects[T.cid]=T,this.cidIndexes.push(T.cid)):this.registeredObjects.push(T),!0)},unregister:function(T){if(this.isRegistered(T)){if(T&&T.cid)delete this.registeredObjects[T.cid],this.cidIndexes.splice(J.indexOf(this.cidIndexes,T.cid),1);else{var z=J.indexOf(this.registeredObjects,T);this.registeredObjects.splice(z,1)}return!0}return!1},get:function(){return J.map(this.cidIndexes,function(T){return this.registeredObjects[T]},this).concat(this.registeredObjects)}};function L(T,z,I,N){for(var G=0,E=z.length,$;G<E;G++)if($=z[G],!!$){if(T==="on"){if(!N.objectRegistry.register($))continue}else if(!N.objectRegistry.unregister($))continue;J.isFunction($[T])&&$[T]("all",I,N)}}function Q(T,z){var I=z.type,N=z.undoTypes,G=!N[I]||N[I][T];J.isFunction(G)&&G(z.object,z.before,z.after,z.options)}function X(T,z,I,N,G){if(!(I.isCurrentlyUndoRedoing||T==="undo"&&I.pointer===-1||T==="redo"&&I.pointer===I.length-1)){I.isCurrentlyUndoRedoing=!0;var E,$,x=T==="undo";for(G?$=x&&I.pointer===I.length-1||!x&&I.pointer===-1?J.clone(I.models):M.apply(I.models,x?[0,I.pointer]:[I.pointer,I.length-1]):(E=I.at(x?I.pointer:I.pointer+1),$=N?I.where({magicFusionIndex:E.get("magicFusionIndex")}):[E]),I.pointer+=(x?-1:1)*$.length;E=x?$.pop():$.shift();)E[T]();I.isCurrentlyUndoRedoing=!1,z.trigger(T,z)}}function U(T,z){var I=T.condition,N=typeof I;return N==="function"?!!m(I,T,z):N==="boolean"?I:!0}function V(T,z,I,N){if(T.track&&!T.isCurrentlyUndoRedoing&&z in N&&U(N[z],I)){var G=m(N[z].on,N[z],I),E;if(w(G,"object","before","after")){if(G.type=z,G.magicFusionIndex=_(),G.undoTypes=N,T.pointer<T.length-1)for(var E=T.length-T.pointer-1;E--;)T.pop();T.pointer=T.length,T.add(G),T.length>T.maximumStackLength&&(T.shift(),T.pointer--)}}}var j={add:{undo:function(T,z,I,N){T.remove(I,N)},redo:function(T,z,I,N){N.index&&(N.at=N.index),T.add(I,N)},on:function(T,z,I){return{object:z,before:void 0,after:T,options:J.clone(I)}}},remove:{undo:function(T,z,I,N){"index"in N&&(N.at=N.index),T.add(z,N)},redo:function(T,z,I,N){T.remove(z,N)},on:function(T,z,I){return{object:z,before:T,after:void 0,options:J.clone(I)}}},change:{undo:function(T,z,I,N){J.isEmpty(z)?J.each(J.keys(I),T.unset,T):(T.set(z),N&&N.unsetData&&N.unsetData.before&&N.unsetData.before.length&&J.each(N.unsetData.before,T.unset,T))},redo:function(T,z,I,N){J.isEmpty(I)?J.each(J.keys(z),T.unset,T):(T.set(I),N&&N.unsetData&&N.unsetData.after&&N.unsetData.after.length&&J.each(N.unsetData.after,T.unset,T))},on:function(T,z){var I=T.changedAttributes(),N=J.keys(I),G=J.pick(T.previousAttributes(),N),E=J.keys(G),$=(z||(z={})).unsetData={after:[],before:[]};return N.length!=E.length&&(N.length>E.length?J.each(N,function(x){x in G||$.before.push(x)},this):J.each(E,function(x){x in I||$.after.push(x)})),{object:T,before:G,after:I,options:J.clone(z)}}},reset:{undo:function(T,z,I){T.reset(z)},redo:function(T,z,I){T.reset(I)},on:function(T,z){return{object:T,before:z.previousModels,after:J.clone(T.models)}}}};function k(){}k.prototype=j;function q(T,z,I,N){if(typeof z=="object")return J.each(z,function(G,E){T===2?q(T,G,I,N):q(T,E,G,I)});switch(T){case 0:w(I,"undo","redo","on")&&J.all(J.pick(I,"undo","redo","on"),J.isFunction)&&(N[z]=I);break;case 1:N[z]&&J.isObject(I)&&(N[z]=J.extend({},N[z],I));break;case 2:delete N[z];break}return this}var et=C.Model.extend({defaults:{type:null,object:null,before:null,after:null,magicFusionIndex:null},undo:function(T){Q("undo",this.attributes)},redo:function(T){Q("redo",this.attributes)}}),Z=C.Collection.extend({model:et,pointer:-1,track:!1,isCurrentlyUndoRedoing:!1,maximumStackLength:1/0,setMaxLength:function(T){this.maximumStackLength=T}}),rt=C.Model.extend({defaults:{maximumStackLength:1/0,track:!1},initialize:function(T){this.stack=new Z,this.objectRegistry=new O,this.undoTypes=new k,this.stack.setMaxLength(this.get("maximumStackLength")),this.on("change:maximumStackLength",function(z,I){this.stack.setMaxLength(I)},this),T&&T.track&&this.startTracking(),T&&T.register&&(J.isArray(T.register)||J.isArguments(T.register)?m(this.register,this,T.register):this.register(T.register))},startTracking:function(){this.set("track",!0),this.stack.track=!0},stopTracking:function(){this.set("track",!1),this.stack.track=!1},isTracking:function(){return this.get("track")},_addToStack:function(T){V(this.stack,T,A(arguments,1),this.undoTypes)},register:function(){L("on",arguments,this._addToStack,this)},unregister:function(){L("off",arguments,this._addToStack,this)},unregisterAll:function(){m(this.unregister,this,this.objectRegistry.get())},undo:function(T){X("undo",this,this.stack,T)},undoAll:function(){X("undo",this,this.stack,!1,!0)},redo:function(T){X("redo",this,this.stack,T)},redoAll:function(){X("redo",this,this.stack,!1,!0)},isAvailable:function(T){var z=this.stack,I=z.length;switch(T){case"undo":return I>0&&z.pointer>-1;case"redo":return I>0&&z.pointer<I-1;default:return!1}},merge:function(T){for(var z=J.isArray(T)?T:A(arguments),I;I=z.pop();)I instanceof rt&&I.stack instanceof Z&&(I.stack=this.stack)},addUndoType:function(T,z){q(0,T,z,this.undoTypes)},changeUndoType:function(T,z){q(1,T,z,this.undoTypes)},removeUndoType:function(T){q(2,T,void 0,this.undoTypes)},clear:function(){this.stack.reset(),this.stack.pointer=-1}});return J.extend(rt,{defaults:function(T){J.extend(rt.prototype.defaults,T)},addUndoType:function(T,z){q(0,T,z,j)},changeUndoType:function(T,z){q(1,T,z,j)},removeUndoType:function(T){q(2,T,void 0,j)}}),C.UndoManager=rt})},316:(R,dt,wt)=>{var ht,_t;(function(ot){var J=typeof self=="object"&&self.self===self&&self||typeof wt.g=="object"&&wt.g.global===wt.g&&wt.g;ht=[wt(50),wt(895),dt],_t=(function(C,M,m){J.Backbone=ot(J,m,C,M)}).apply(dt,ht),_t!==void 0&&(R.exports=_t)})(function(ot,J,C,M){var m=ot.Backbone,A=Array.prototype.slice;J.VERSION="1.4.1",J.$=M,J.noConflict=function(){return ot.Backbone=m,this},J.emulateHTTP=!1,J.emulateJSON=!1;var w=J.Events={},_=/\s+/,O,L=function(K,it,mt,kt,Ht){var vt=0,Vt;if(mt&&typeof mt=="object")for(kt!==void 0&&("context"in Ht)&&Ht.context===void 0&&(Ht.context=kt),Vt=C.keys(mt);vt<Vt.length;vt++)it=L(K,it,Vt[vt],mt[Vt[vt]],Ht);else if(mt&&_.test(mt))for(Vt=mt.split(_);vt<Vt.length;vt++)it=K(it,Vt[vt],kt,Ht);else it=K(it,mt,kt,Ht);return it};w.on=function(K,it,mt){if(this._events=L(Q,this._events||{},K,it,{context:mt,ctx:this,listening:O}),O){var kt=this._listeners||(this._listeners={});kt[O.id]=O,O.interop=!1}return this},w.listenTo=function(K,it,mt){if(!K)return this;var kt=K._listenId||(K._listenId=C.uniqueId("l")),Ht=this._listeningTo||(this._listeningTo={}),vt=O=Ht[kt];vt||(this._listenId||(this._listenId=C.uniqueId("l")),vt=O=Ht[kt]=new q(this,K));var Vt=X(K,it,mt,this);if(O=void 0,Vt)throw Vt;return vt.interop&&vt.on(it,mt),this};var Q=function(K,it,mt,kt){if(mt){var Ht=K[it]||(K[it]=[]),vt=kt.context,Vt=kt.ctx,Pt=kt.listening;Pt&&Pt.count++,Ht.push({callback:mt,context:vt,ctx:vt||Vt,listening:Pt})}return K},X=function(K,it,mt,kt){try{K.on(it,mt,kt)}catch(Ht){return Ht}};w.off=function(K,it,mt){return this._events?(this._events=L(U,this._events,K,it,{context:mt,listeners:this._listeners}),this):this},w.stopListening=function(K,it,mt){var kt=this._listeningTo;if(!kt)return this;for(var Ht=K?[K._listenId]:C.keys(kt),vt=0;vt<Ht.length;vt++){var Vt=kt[Ht[vt]];if(!Vt)break;Vt.obj.off(it,mt,this),Vt.interop&&Vt.off(it,mt)}return C.isEmpty(kt)&&(this._listeningTo=void 0),this};var U=function(K,it,mt,kt){if(K){var Ht=kt.context,vt=kt.listeners,Vt=0,Pt;if(!it&&!Ht&&!mt){for(Pt=C.keys(vt);Vt<Pt.length;Vt++)vt[Pt[Vt]].cleanup();return}for(Pt=it?[it]:C.keys(K);Vt<Pt.length;Vt++){it=Pt[Vt];var Ce=K[it];if(!Ce)break;for(var Ke=[],Ve=0;Ve<Ce.length;Ve++){var ze=Ce[Ve];if(mt&&mt!==ze.callback&&mt!==ze.callback._callback||Ht&&Ht!==ze.context)Ke.push(ze);else{var or=ze.listening;or&&or.off(it,mt)}}Ke.length?K[it]=Ke:delete K[it]}return K}};w.once=function(K,it,mt){var kt=L(V,{},K,it,this.off.bind(this));return typeof K=="string"&&mt==null&&(it=void 0),this.on(kt,it,mt)},w.listenToOnce=function(K,it,mt){var kt=L(V,{},it,mt,this.stopListening.bind(this,K));return this.listenTo(K,kt)};var V=function(K,it,mt,kt){if(mt){var Ht=K[it]=C.once(function(){kt(it,Ht),mt.apply(this,arguments)});Ht._callback=mt}return K};w.trigger=function(K){if(!this._events)return this;for(var it=Math.max(0,arguments.length-1),mt=Array(it),kt=0;kt<it;kt++)mt[kt]=arguments[kt+1];return L(j,this._events,K,void 0,mt),this};var j=function(K,it,mt,kt){if(K){var Ht=K[it],vt=K.all;Ht&&vt&&(vt=vt.slice()),Ht&&k(Ht,kt),vt&&k(vt,[it].concat(kt))}return K},k=function(K,it){var mt,kt=-1,Ht=K.length,vt=it[0],Vt=it[1],Pt=it[2];switch(it.length){case 0:for(;++kt<Ht;)(mt=K[kt]).callback.call(mt.ctx);return;case 1:for(;++kt<Ht;)(mt=K[kt]).callback.call(mt.ctx,vt);return;case 2:for(;++kt<Ht;)(mt=K[kt]).callback.call(mt.ctx,vt,Vt);return;case 3:for(;++kt<Ht;)(mt=K[kt]).callback.call(mt.ctx,vt,Vt,Pt);return;default:for(;++kt<Ht;)(mt=K[kt]).callback.apply(mt.ctx,it);return}},q=function(K,it){this.id=K._listenId,this.listener=K,this.obj=it,this.interop=!0,this.count=0,this._events=void 0};q.prototype.on=w.on,q.prototype.off=function(K,it){var mt;this.interop?(this._events=L(U,this._events,K,it,{context:void 0,listeners:void 0}),mt=!this._events):(this.count--,mt=this.count===0),mt&&this.cleanup()},q.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},w.bind=w.on,w.unbind=w.off,C.extend(J,w);var et=J.Model=function(K,it){var mt=K||{};it||(it={}),this.preinitialize.apply(this,arguments),this.cid=C.uniqueId(this.cidPrefix),this.attributes={},it.collection&&(this.collection=it.collection),it.parse&&(mt=this.parse(mt,it)||{});var kt=C.result(this,"defaults");mt=C.defaults(C.extend({},kt,mt),kt),this.set(mt,it),this.changed={},this.initialize.apply(this,arguments)};C.extend(et.prototype,w,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(K){return C.clone(this.attributes)},sync:function(){return J.sync.apply(this,arguments)},get:function(K){return this.attributes[K]},escape:function(K){return C.escape(this.get(K))},has:function(K){return this.get(K)!=null},matches:function(K){return!!C.iteratee(K,this)(this.attributes)},set:function(K,it,mt){if(K==null)return this;var kt;if(typeof K=="object"?(kt=K,mt=it):(kt={})[K]=it,mt||(mt={}),!this._validate(kt,mt))return!1;var Ht=mt.unset,vt=mt.silent,Vt=[],Pt=this._changing;this._changing=!0,Pt||(this._previousAttributes=C.clone(this.attributes),this.changed={});var Ce=this.attributes,Ke=this.changed,Ve=this._previousAttributes;for(var ze in kt)it=kt[ze],C.isEqual(Ce[ze],it)||Vt.push(ze),C.isEqual(Ve[ze],it)?delete Ke[ze]:Ke[ze]=it,Ht?delete Ce[ze]:Ce[ze]=it;if(this.idAttribute in kt){var or=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,or,mt)}if(!vt){Vt.length&&(this._pending=mt);for(var ye=0;ye<Vt.length;ye++)this.trigger("change:"+Vt[ye],this,Ce[Vt[ye]],mt)}if(Pt)return this;if(!vt)for(;this._pending;)mt=this._pending,this._pending=!1,this.trigger("change",this,mt);return this._pending=!1,this._changing=!1,this},unset:function(K,it){return this.set(K,void 0,C.extend({},it,{unset:!0}))},clear:function(K){var it={};for(var mt in this.attributes)it[mt]=void 0;return this.set(it,C.extend({},K,{unset:!0}))},hasChanged:function(K){return K==null?!C.isEmpty(this.changed):C.has(this.changed,K)},changedAttributes:function(K){if(!K)return this.hasChanged()?C.clone(this.changed):!1;var it=this._changing?this._previousAttributes:this.attributes,mt={},kt;for(var Ht in K){var vt=K[Ht];C.isEqual(it[Ht],vt)||(mt[Ht]=vt,kt=!0)}return kt?mt:!1},previous:function(K){return K==null||!this._previousAttributes?null:this._previousAttributes[K]},previousAttributes:function(){return C.clone(this._previousAttributes)},fetch:function(K){K=C.extend({parse:!0},K);var it=this,mt=K.success;return K.success=function(kt){var Ht=K.parse?it.parse(kt,K):kt;if(!it.set(Ht,K))return!1;mt&&mt.call(K.context,it,kt,K),it.trigger("sync",it,kt,K)},ve(this,K),this.sync("read",this,K)},save:function(K,it,mt){var kt;K==null||typeof K=="object"?(kt=K,mt=it):(kt={})[K]=it,mt=C.extend({validate:!0,parse:!0},mt);var Ht=mt.wait;if(kt&&!Ht){if(!this.set(kt,mt))return!1}else if(!this._validate(kt,mt))return!1;var vt=this,Vt=mt.success,Pt=this.attributes;mt.success=function(Ve){vt.attributes=Pt;var ze=mt.parse?vt.parse(Ve,mt):Ve;if(Ht&&(ze=C.extend({},kt,ze)),ze&&!vt.set(ze,mt))return!1;Vt&&Vt.call(mt.context,vt,Ve,mt),vt.trigger("sync",vt,Ve,mt)},ve(this,mt),kt&&Ht&&(this.attributes=C.extend({},Pt,kt));var Ce=this.isNew()?"create":mt.patch?"patch":"update";Ce==="patch"&&!mt.attrs&&(mt.attrs=kt);var Ke=this.sync(Ce,this,mt);return this.attributes=Pt,Ke},destroy:function(K){K=K?C.clone(K):{};var it=this,mt=K.success,kt=K.wait,Ht=function(){it.stopListening(),it.trigger("destroy",it,it.collection,K)};K.success=function(Vt){kt&&Ht(),mt&&mt.call(K.context,it,Vt,K),it.isNew()||it.trigger("sync",it,Vt,K)};var vt=!1;return this.isNew()?C.defer(K.success):(ve(this,K),vt=this.sync("delete",this,K)),kt||Ht(),vt},url:function(){var K=C.result(this,"urlRoot")||C.result(this.collection,"url")||nr();if(this.isNew())return K;var it=this.get(this.idAttribute);return K.replace(/[^\/]$/,"$&/")+encodeURIComponent(it)},parse:function(K,it){return K},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(K){return this._validate({},C.extend({},K,{validate:!0}))},_validate:function(K,it){if(!it.validate||!this.validate)return!0;K=C.extend({},this.attributes,K);var mt=this.validationError=this.validate(K,it)||null;return mt?(this.trigger("invalid",this,mt,C.extend(it,{validationError:mt})),!1):!0}});var Z=J.Collection=function(K,it){it||(it={}),this.preinitialize.apply(this,arguments),it.model&&(this.model=it.model),it.comparator!==void 0&&(this.comparator=it.comparator),this._reset(),this.initialize.apply(this,arguments),K&&this.reset(K,C.extend({silent:!0},it))},rt={add:!0,remove:!0,merge:!0},T={add:!0,remove:!1},z=function(K,it,mt){mt=Math.min(Math.max(mt,0),K.length);var kt=Array(K.length-mt),Ht=it.length,vt;for(vt=0;vt<kt.length;vt++)kt[vt]=K[vt+mt];for(vt=0;vt<Ht;vt++)K[vt+mt]=it[vt];for(vt=0;vt<kt.length;vt++)K[vt+Ht+mt]=kt[vt]};C.extend(Z.prototype,w,{model:et,preinitialize:function(){},initialize:function(){},toJSON:function(K){return this.map(function(it){return it.toJSON(K)})},sync:function(){return J.sync.apply(this,arguments)},add:function(K,it){return this.set(K,C.extend({merge:!1},it,T))},remove:function(K,it){it=C.extend({},it);var mt=!C.isArray(K);K=mt?[K]:K.slice();var kt=this._removeModels(K,it);return!it.silent&&kt.length&&(it.changes={added:[],merged:[],removed:kt},this.trigger("update",this,it)),mt?kt[0]:kt},set:function(K,it){if(K!=null){it=C.extend({},rt,it),it.parse&&!this._isModel(K)&&(K=this.parse(K,it)||[]);var mt=!C.isArray(K);K=mt?[K]:K.slice();var kt=it.at;kt!=null&&(kt=+kt),kt>this.length&&(kt=this.length),kt<0&&(kt+=this.length+1);var Ht=[],vt=[],Vt=[],Pt=[],Ce={},Ke=it.add,Ve=it.merge,ze=it.remove,or=!1,ye=this.comparator&&kt==null&&it.sort!==!1,tr=C.isString(this.comparator)?this.comparator:null,De,$e;for($e=0;$e<K.length;$e++){De=K[$e];var Ar=this.get(De);if(Ar){if(Ve&&De!==Ar){var _e=this._isModel(De)?De.attributes:De;it.parse&&(_e=Ar.parse(_e,it)),Ar.set(_e,it),Vt.push(Ar),ye&&!or&&(or=Ar.hasChanged(tr))}Ce[Ar.cid]||(Ce[Ar.cid]=!0,Ht.push(Ar)),K[$e]=Ar}else Ke&&(De=K[$e]=this._prepareModel(De,it),De&&(vt.push(De),this._addReference(De,it),Ce[De.cid]=!0,Ht.push(De)))}if(ze){for($e=0;$e<this.length;$e++)De=this.models[$e],Ce[De.cid]||Pt.push(De);Pt.length&&this._removeModels(Pt,it)}var Tr=!1,ke=!ye&&Ke&&ze;if(Ht.length&&ke?(Tr=this.length!==Ht.length||C.some(this.models,function(sr,cr){return sr!==Ht[cr]}),this.models.length=0,z(this.models,Ht,0),this.length=this.models.length):vt.length&&(ye&&(or=!0),z(this.models,vt,kt??this.length),this.length=this.models.length),or&&this.sort({silent:!0}),!it.silent){for($e=0;$e<vt.length;$e++)kt!=null&&(it.index=kt+$e),De=vt[$e],De.trigger("add",De,this,it);(or||Tr)&&this.trigger("sort",this,it),(vt.length||Pt.length||Vt.length)&&(it.changes={added:vt,removed:Pt,merged:Vt},this.trigger("update",this,it))}return mt?K[0]:K}},reset:function(K,it){it=it?C.clone(it):{};for(var mt=0;mt<this.models.length;mt++)this._removeReference(this.models[mt],it);return it.previousModels=this.models,this._reset(),K=this.add(K,C.extend({silent:!0},it)),it.silent||this.trigger("reset",this,it),K},push:function(K,it){return this.add(K,C.extend({at:this.length},it))},pop:function(K){var it=this.at(this.length-1);return this.remove(it,K)},unshift:function(K,it){return this.add(K,C.extend({at:0},it))},shift:function(K){var it=this.at(0);return this.remove(it,K)},slice:function(){return A.apply(this.models,arguments)},get:function(K){if(K!=null)return this._byId[K]||this._byId[this.modelId(this._isModel(K)?K.attributes:K,K.idAttribute)]||K.cid&&this._byId[K.cid]},has:function(K){return this.get(K)!=null},at:function(K){return K<0&&(K+=this.length),this.models[K]},where:function(K,it){return this[it?"find":"filter"](K)},findWhere:function(K){return this.where(K,!0)},sort:function(K){var it=this.comparator;if(!it)throw new Error("Cannot sort a set without a comparator");K||(K={});var mt=it.length;return C.isFunction(it)&&(it=it.bind(this)),mt===1||C.isString(it)?this.models=this.sortBy(it):this.models.sort(it),K.silent||this.trigger("sort",this,K),this},pluck:function(K){return this.map(K+"")},fetch:function(K){K=C.extend({parse:!0},K);var it=K.success,mt=this;return K.success=function(kt){var Ht=K.reset?"reset":"set";mt[Ht](kt,K),it&&it.call(K.context,mt,kt,K),mt.trigger("sync",mt,kt,K)},ve(this,K),this.sync("read",this,K)},create:function(K,it){it=it?C.clone(it):{};var mt=it.wait;if(K=this._prepareModel(K,it),!K)return!1;mt||this.add(K,it);var kt=this,Ht=it.success;return it.success=function(vt,Vt,Pt){mt&&kt.add(vt,Pt),Ht&&Ht.call(Pt.context,vt,Vt,Pt)},K.save(null,it),K},parse:function(K,it){return K},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(K,it){return K[it||this.model.prototype.idAttribute||"id"]},values:function(){return new N(this,G)},keys:function(){return new N(this,E)},entries:function(){return new N(this,$)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(K,it){if(this._isModel(K))return K.collection||(K.collection=this),K;it=it?C.clone(it):{},it.collection=this;var mt;return this.model.prototype?mt=new this.model(K,it):mt=this.model(K,it),mt.validationError?(this.trigger("invalid",this,mt.validationError,it),!1):mt},_removeModels:function(K,it){for(var mt=[],kt=0;kt<K.length;kt++){var Ht=this.get(K[kt]);if(Ht){var vt=this.indexOf(Ht);this.models.splice(vt,1),this.length--,delete this._byId[Ht.cid];var Vt=this.modelId(Ht.attributes,Ht.idAttribute);Vt!=null&&delete this._byId[Vt],it.silent||(it.index=vt,Ht.trigger("remove",Ht,this,it)),mt.push(Ht),this._removeReference(Ht,it)}}return mt},_isModel:function(K){return K instanceof et},_addReference:function(K,it){this._byId[K.cid]=K;var mt=this.modelId(K.attributes,K.idAttribute);mt!=null&&(this._byId[mt]=K),K.on("all",this._onModelEvent,this)},_removeReference:function(K,it){delete this._byId[K.cid];var mt=this.modelId(K.attributes,K.idAttribute);mt!=null&&delete this._byId[mt],this===K.collection&&delete K.collection,K.off("all",this._onModelEvent,this)},_onModelEvent:function(K,it,mt,kt){if(it){if((K==="add"||K==="remove")&&mt!==this)return;if(K==="destroy"&&this.remove(it,kt),K==="changeId"){var Ht=this.modelId(it.previousAttributes(),it.idAttribute),vt=this.modelId(it.attributes,it.idAttribute);Ht!=null&&delete this._byId[Ht],vt!=null&&(this._byId[vt]=it)}}this.trigger.apply(this,arguments)}});var I=typeof Symbol=="function"&&Symbol.iterator;I&&(Z.prototype[I]=Z.prototype.values);var N=function(K,it){this._collection=K,this._kind=it,this._index=0},G=1,E=2,$=3;I&&(N.prototype[I]=function(){return this}),N.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var K=this._collection.at(this._index);this._index++;var it;if(this._kind===G)it=K;else{var mt=this._collection.modelId(K.attributes,K.idAttribute);this._kind===E?it=mt:it=[mt,K]}return{value:it,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var x=J.View=function(K){this.cid=C.uniqueId("view"),this.preinitialize.apply(this,arguments),C.extend(this,C.pick(K,at)),this._ensureElement(),this.initialize.apply(this,arguments)},gt=/^(\S+)\s*(.*)$/,at=["model","collection","el","id","attributes","className","tagName","events"];C.extend(x.prototype,w,{tagName:"div",$:function(K){return this.$el.find(K)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(K){return this.undelegateEvents(),this._setElement(K),this.delegateEvents(),this},_setElement:function(K){this.$el=K instanceof J.$?K:J.$(K),this.el=this.$el[0]},delegateEvents:function(K){if(K||(K=C.result(this,"events")),!K)return this;this.undelegateEvents();for(var it in K){var mt=K[it];if(C.isFunction(mt)||(mt=this[mt]),!!mt){var kt=it.match(gt);this.delegate(kt[1],kt[2],mt.bind(this))}}return this},delegate:function(K,it,mt){return this.$el.on(K+".delegateEvents"+this.cid,it,mt),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(K,it,mt){return this.$el.off(K+".delegateEvents"+this.cid,it,mt),this},_createElement:function(K){return document.createElement(K)},_ensureElement:function(){if(this.el)this.setElement(C.result(this,"el"));else{var K=C.extend({},C.result(this,"attributes"));this.id&&(K.id=C.result(this,"id")),this.className&&(K.class=C.result(this,"className")),this.setElement(this._createElement(C.result(this,"tagName"))),this._setAttributes(K)}},_setAttributes:function(K){this.$el.attr(K)}});var Lt=function(K,it,mt,kt){switch(it){case 1:return function(){return K[mt](this[kt])};case 2:return function(Ht){return K[mt](this[kt],Ht)};case 3:return function(Ht,vt){return K[mt](this[kt],St(Ht,this),vt)};case 4:return function(Ht,vt,Vt){return K[mt](this[kt],St(Ht,this),vt,Vt)};default:return function(){var Ht=A.call(arguments);return Ht.unshift(this[kt]),K[mt].apply(K,Ht)}}},Xt=function(K,it,mt,kt){C.each(mt,function(Ht,vt){it[vt]&&(K.prototype[vt]=Lt(it,Ht,vt,kt))})},St=function(K,it){return C.isFunction(K)?K:C.isObject(K)&&!it._isModel(K)?Ut(K):C.isString(K)?function(mt){return mt.get(K)}:K},Ut=function(K){var it=C.matches(K);return function(mt){return it(mt.attributes)}},Yt={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},Bt={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};C.each([[Z,Yt,"models"],[et,Bt,"attributes"]],function(K){var it=K[0],mt=K[1],kt=K[2];it.mixin=function(Ht){var vt=C.reduce(C.functions(Ht),function(Vt,Pt){return Vt[Pt]=0,Vt},{});Xt(it,Ht,vt,kt)},Xt(it,C,mt,kt)}),J.sync=function(K,it,mt){var kt=ne[K];C.defaults(mt||(mt={}),{emulateHTTP:J.emulateHTTP,emulateJSON:J.emulateJSON});var Ht={type:kt,dataType:"json"};if(mt.url||(Ht.url=C.result(it,"url")||nr()),mt.data==null&&it&&(K==="create"||K==="update"||K==="patch")&&(Ht.contentType="application/json",Ht.data=JSON.stringify(mt.attrs||it.toJSON(mt))),mt.emulateJSON&&(Ht.contentType="application/x-www-form-urlencoded",Ht.data=Ht.data?{model:Ht.data}:{}),mt.emulateHTTP&&(kt==="PUT"||kt==="DELETE"||kt==="PATCH")){Ht.type="POST",mt.emulateJSON&&(Ht.data._method=kt);var vt=mt.beforeSend;mt.beforeSend=function(Ce){if(Ce.setRequestHeader("X-HTTP-Method-Override",kt),vt)return vt.apply(this,arguments)}}Ht.type!=="GET"&&!mt.emulateJSON&&(Ht.processData=!1);var Vt=mt.error;mt.error=function(Ce,Ke,Ve){mt.textStatus=Ke,mt.errorThrown=Ve,Vt&&Vt.call(mt.context,Ce,Ke,Ve)};var Pt=mt.xhr=J.ajax(C.extend(Ht,mt));return it.trigger("request",it,Pt,mt),Pt};var ne={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};J.ajax=function(){return J.$.ajax.apply(J.$,arguments)};var Ot=J.Router=function(K){K||(K={}),this.preinitialize.apply(this,arguments),K.routes&&(this.routes=K.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},Rt=/\((.*?)\)/g,Wt=/(\(\?)?:\w+/g,ae=/\*\w+/g,$t=/[\-{}\[\]+?.,\\\^$|#\s]/g;C.extend(Ot.prototype,w,{preinitialize:function(){},initialize:function(){},route:function(K,it,mt){C.isRegExp(K)||(K=this._routeToRegExp(K)),C.isFunction(it)&&(mt=it,it=""),mt||(mt=this[it]);var kt=this;return J.history.route(K,function(Ht){var vt=kt._extractParameters(K,Ht);kt.execute(mt,vt,it)!==!1&&(kt.trigger.apply(kt,["route:"+it].concat(vt)),kt.trigger("route",it,vt),J.history.trigger("route",kt,it,vt))}),this},execute:function(K,it,mt){K&&K.apply(this,it)},navigate:function(K,it){return J.history.navigate(K,it),this},_bindRoutes:function(){if(this.routes){this.routes=C.result(this,"routes");for(var K,it=C.keys(this.routes);(K=it.pop())!=null;)this.route(K,this.routes[K])}},_routeToRegExp:function(K){return K=K.replace($t,"\\$&").replace(Rt,"(?:$1)?").replace(Wt,function(it,mt){return mt?it:"([^/?]+)"}).replace(ae,"([^?]*?)"),new RegExp("^"+K+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(K,it){var mt=K.exec(it).slice(1);return C.map(mt,function(kt,Ht){return Ht===mt.length-1?kt||null:kt?decodeURIComponent(kt):null})}});var Jt=J.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),typeof window<"u"&&(this.location=window.location,this.history=window.history)},de=/^[#\/]|\s+$/g,Ne=/^\/+|\/+$/g,Je=/#.*$/;Jt.started=!1,C.extend(Jt.prototype,w,{interval:50,atRoot:function(){var K=this.location.pathname.replace(/[^\/]$/,"$&/");return K===this.root&&!this.getSearch()},matchRoot:function(){var K=this.decodeFragment(this.location.pathname),it=K.slice(0,this.root.length-1)+"/";return it===this.root},decodeFragment:function(K){return decodeURI(K.replace(/%25/g,"%2525"))},getSearch:function(){var K=this.location.href.replace(/#.*/,"").match(/\?.+/);return K?K[0]:""},getHash:function(K){var it=(K||this).location.href.match(/#(.*)$/);return it?it[1]:""},getPath:function(){var K=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return K.charAt(0)==="/"?K.slice(1):K},getFragment:function(K){return K==null&&(this._usePushState||!this._wantsHashChange?K=this.getPath():K=this.getHash()),K.replace(de,"")},start:function(K){if(Jt.started)throw new Error("Backbone.history has already been started");if(Jt.started=!0,this.options=C.extend({root:"/"},this.options,K),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.history&&this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(Ne,"/"),this._wantsHashChange&&this._wantsPushState)if(!this._hasPushState&&!this.atRoot()){var it=this.root.slice(0,-1)||"/";return this.location.replace(it+"#"+this.getPath()),!0}else this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0});if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var mt=document.body,kt=mt.insertBefore(this.iframe,mt.firstChild).contentWindow;kt.document.open(),kt.document.close(),kt.location.hash="#"+this.fragment}var Ht=window.addEventListener||function(vt,Vt){return attachEvent("on"+vt,Vt)};if(this._usePushState?Ht("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?Ht("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var K=window.removeEventListener||function(it,mt){return detachEvent("on"+it,mt)};this._usePushState?K("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&K("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),Jt.started=!1},route:function(K,it){this.handlers.unshift({route:K,callback:it})},checkUrl:function(K){var it=this.getFragment();if(it===this.fragment&&this.iframe&&(it=this.getHash(this.iframe.contentWindow)),it===this.fragment)return!1;this.iframe&&this.navigate(it),this.loadUrl()},loadUrl:function(K){return this.matchRoot()?(K=this.fragment=this.getFragment(K),C.some(this.handlers,function(it){if(it.route.test(K))return it.callback(K),!0})):!1},navigate:function(K,it){if(!Jt.started)return!1;(!it||it===!0)&&(it={trigger:!!it}),K=this.getFragment(K||"");var mt=this.root;(K===""||K.charAt(0)==="?")&&(mt=mt.slice(0,-1)||"/");var kt=mt+K;K=K.replace(Je,"");var Ht=this.decodeFragment(K);if(this.fragment!==Ht){if(this.fragment=Ht,this._usePushState)this.history[it.replace?"replaceState":"pushState"]({},document.title,kt);else if(this._wantsHashChange){if(this._updateHash(this.location,K,it.replace),this.iframe&&K!==this.getHash(this.iframe.contentWindow)){var vt=this.iframe.contentWindow;it.replace||(vt.document.open(),vt.document.close()),this._updateHash(vt.location,K,it.replace)}}else return this.location.assign(kt);if(it.trigger)return this.loadUrl(K)}},_updateHash:function(K,it,mt){if(mt){var kt=K.href.replace(/(javascript:|#).*$/,"");K.replace(kt+"#"+it)}else K.hash="#"+it}}),J.history=new Jt;var mr=function(K,it){var mt=this,kt;return K&&C.has(K,"constructor")?kt=K.constructor:kt=function(){return mt.apply(this,arguments)},C.extend(kt,mt,it),kt.prototype=C.create(mt.prototype,K),kt.prototype.constructor=kt,kt.__super__=mt.prototype,kt};et.extend=Z.extend=Ot.extend=x.extend=Jt.extend=mr;var nr=function(){throw new Error('A "url" property or function must be specified')},ve=function(K,it){var mt=it.error;it.error=function(kt){mt&&mt.call(it.context,K,kt,it),K.trigger("error",K,kt,it)}};return J})},210:(R,dt,wt)=>{(function(ht){ht(wt(631))})(function(ht){ht.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(ot,J){return/^[;{}]$/.test(J)}}),ht.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(ot,J,C,M){return this.jsonMode?/^[\[,{]$/.test(J)||/^}/.test(C):J==";"&&M.lexical&&M.lexical.type==")"?!1:/^[;{}]$/.test(J)&&!/^;/.test(C)}});var _t=/^(a|abbr|acronym|area|base|bdo|big|br|button|caption|cite|code|col|colgroup|dd|del|dfn|em|frame|hr|iframe|img|input|ins|kbd|label|legend|link|map|object|optgroup|option|param|q|samp|script|select|small|span|strong|sub|sup|textarea|tt|var)$/;ht.extendMode("xml",{commentStart:"<!--",commentEnd:"-->",newlineAfterToken:function(ot,J,C,M){var m=!1;return this.configuration=="html"&&(m=M.context?_t.test(M.context.tagName):!1),!m&&(ot=="tag"&&/>$/.test(J)&&M.context||/^</.test(C))}}),ht.defineExtension("commentRange",function(ot,J,C){var M=this,m=ht.innerMode(M.getMode(),M.getTokenAt(J).state).mode;M.operation(function(){if(ot)M.replaceRange(m.commentEnd,C),M.replaceRange(m.commentStart,J),J.line==C.line&&J.ch==C.ch&&M.setCursor(J.line,J.ch+m.commentStart.length);else{var A=M.getRange(J,C),w=A.indexOf(m.commentStart),_=A.lastIndexOf(m.commentEnd);w>-1&&_>-1&&_>w&&(A=A.substr(0,w)+A.substring(w+m.commentStart.length,_)+A.substr(_+m.commentEnd.length)),M.replaceRange(A,J,C)}})}),ht.defineExtension("autoIndentRange",function(ot,J){var C=this;this.operation(function(){for(var M=ot.line;M<=J.line;M++)C.indentLine(M,"smart")})}),ht.defineExtension("autoFormatRange",function(ot,J){var C=this,M=C.getMode(),m=C.getRange(ot,J).split(`
`),A=ht.copyState(M,C.getTokenAt(ot).state),w=C.getOption("tabSize"),_="",O=0,L=ot.ch===0;function Q(){_+=`
`,L=!0,++O}for(var X=0;X<m.length;++X){for(var U=new ht.StringStream(m[X],w);!U.eol();){var V=ht.innerMode(M,A),j=M.token(U,A),k=U.current();U.start=U.pos,(!L||/\S/.test(k))&&(_+=k,L=!1),!L&&V.mode.newlineAfterToken&&V.mode.newlineAfterToken(j,k,U.string.slice(U.pos)||m[X+1]||"",V.state)&&Q()}!U.pos&&M.blankLine&&M.blankLine(A),!L&&X<m.length-1&&Q()}C.operation(function(){C.replaceRange(_,ot,J);for(var q=ot.line+1,et=ot.line+O;q<=et;++q)C.indentLine(q,"smart");C.setSelection(ot,C.getCursor(!1))})})})},631:function(R){(function(dt,wt){R.exports=wt()})(this,function(){var dt=navigator.userAgent,wt=navigator.platform,ht=/gecko\/\d/i.test(dt),_t=/MSIE \d/.test(dt),ot=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(dt),J=/Edge\/(\d+)/.exec(dt),C=_t||ot||J,M=C&&(_t?document.documentMode||6:+(J||ot)[1]),m=!J&&/WebKit\//.test(dt),A=m&&/Qt\/\d+\.\d+/.test(dt),w=!J&&/Chrome\/(\d+)/.exec(dt),_=w&&+w[1],O=/Opera\//.test(dt),L=/Apple Computer/.test(navigator.vendor),Q=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(dt),X=/PhantomJS/.test(dt),U=L&&(/Mobile\/\w+/.test(dt)||navigator.maxTouchPoints>2),V=/Android/.test(dt),j=U||V||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(dt),k=U||/Mac/.test(wt),q=/\bCrOS\b/.test(dt),et=/win/i.test(wt),Z=O&&dt.match(/Version\/(\d*\.\d*)/);Z&&(Z=Number(Z[1])),Z&&Z>=15&&(O=!1,m=!0);var rt=k&&(A||O&&(Z==null||Z<12.11)),T=ht||C&&M>=9;function z(i){return new RegExp("(^|\\s)"+i+"(?:$|\\s)\\s*")}var I=function(i,s){var c=i.className,u=z(s).exec(c);if(u){var d=c.slice(u.index+u[0].length);i.className=c.slice(0,u.index)+(d?u[1]+d:"")}};function N(i){for(var s=i.childNodes.length;s>0;--s)i.removeChild(i.firstChild);return i}function G(i,s){return N(i).appendChild(s)}function E(i,s,c,u){var d=document.createElement(i);if(c&&(d.className=c),u&&(d.style.cssText=u),typeof s=="string")d.appendChild(document.createTextNode(s));else if(s)for(var g=0;g<s.length;++g)d.appendChild(s[g]);return d}function $(i,s,c,u){var d=E(i,s,c,u);return d.setAttribute("role","presentation"),d}var x;document.createRange?x=function(i,s,c,u){var d=document.createRange();return d.setEnd(u||i,c),d.setStart(i,s),d}:x=function(i,s,c){var u=document.body.createTextRange();try{u.moveToElementText(i.parentNode)}catch{return u}return u.collapse(!0),u.moveEnd("character",c),u.moveStart("character",s),u};function gt(i,s){if(s.nodeType==3&&(s=s.parentNode),i.contains)return i.contains(s);do if(s.nodeType==11&&(s=s.host),s==i)return!0;while(s=s.parentNode)}function at(i){var s;try{s=i.activeElement}catch{s=i.body||null}for(;s&&s.shadowRoot&&s.shadowRoot.activeElement;)s=s.shadowRoot.activeElement;return s}function Lt(i,s){var c=i.className;z(s).test(c)||(i.className+=(c?" ":"")+s)}function Xt(i,s){for(var c=i.split(" "),u=0;u<c.length;u++)c[u]&&!z(c[u]).test(s)&&(s+=" "+c[u]);return s}var St=function(i){i.select()};U?St=function(i){i.selectionStart=0,i.selectionEnd=i.value.length}:C&&(St=function(i){try{i.select()}catch{}});function Ut(i){return i.display.wrapper.ownerDocument}function Yt(i){return Ut(i).defaultView}function Bt(i){var s=Array.prototype.slice.call(arguments,1);return function(){return i.apply(null,s)}}function ne(i,s,c){s||(s={});for(var u in i)i.hasOwnProperty(u)&&(c!==!1||!s.hasOwnProperty(u))&&(s[u]=i[u]);return s}function Ot(i,s,c,u,d){s==null&&(s=i.search(/[^\s\u00a0]/),s==-1&&(s=i.length));for(var g=u||0,y=d||0;;){var S=i.indexOf("	",g);if(S<0||S>=s)return y+(s-g);y+=S-g,y+=c-y%c,g=S+1}}var Rt=function(){this.id=null,this.f=null,this.time=0,this.handler=Bt(this.onTimeout,this)};Rt.prototype.onTimeout=function(i){i.id=0,i.time<=+new Date?i.f():setTimeout(i.handler,i.time-+new Date)},Rt.prototype.set=function(i,s){this.f=s;var c=+new Date+i;(!this.id||c<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,i),this.time=c)};function Wt(i,s){for(var c=0;c<i.length;++c)if(i[c]==s)return c;return-1}var ae=50,$t={toString:function(){return"CodeMirror.Pass"}},Jt={scroll:!1},de={origin:"*mouse"},Ne={origin:"+move"};function Je(i,s,c){for(var u=0,d=0;;){var g=i.indexOf("	",u);g==-1&&(g=i.length);var y=g-u;if(g==i.length||d+y>=s)return u+Math.min(y,s-d);if(d+=g-u,d+=c-d%c,u=g+1,d>=s)return u}}var mr=[""];function nr(i){for(;mr.length<=i;)mr.push(ve(mr)+" ");return mr[i]}function ve(i){return i[i.length-1]}function K(i,s){for(var c=[],u=0;u<i.length;u++)c[u]=s(i[u],u);return c}function it(i,s,c){for(var u=0,d=c(s);u<i.length&&c(i[u])<=d;)u++;i.splice(u,0,s)}function mt(){}function kt(i,s){var c;return Object.create?c=Object.create(i):(mt.prototype=i,c=new mt),s&&ne(s,c),c}var Ht=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function vt(i){return/\w/.test(i)||i>""&&(i.toUpperCase()!=i.toLowerCase()||Ht.test(i))}function Vt(i,s){return s?s.source.indexOf("\\w")>-1&&vt(i)?!0:s.test(i):vt(i)}function Pt(i){for(var s in i)if(i.hasOwnProperty(s)&&i[s])return!1;return!0}var Ce=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function Ke(i){return i.charCodeAt(0)>=768&&Ce.test(i)}function Ve(i,s,c){for(;(c<0?s>0:s<i.length)&&Ke(i.charAt(s));)s+=c;return s}function ze(i,s,c){for(var u=s>c?-1:1;;){if(s==c)return s;var d=(s+c)/2,g=u<0?Math.ceil(d):Math.floor(d);if(g==s)return i(g)?s:c;i(g)?c=g:s=g+u}}function or(i,s,c,u){if(!i)return u(s,c,"ltr",0);for(var d=!1,g=0;g<i.length;++g){var y=i[g];(y.from<c&&y.to>s||s==c&&y.to==s)&&(u(Math.max(y.from,s),Math.min(y.to,c),y.level==1?"rtl":"ltr",g),d=!0)}d||u(s,c,"ltr")}var ye=null;function tr(i,s,c){var u;ye=null;for(var d=0;d<i.length;++d){var g=i[d];if(g.from<s&&g.to>s)return d;g.to==s&&(g.from!=g.to&&c=="before"?u=d:ye=d),g.from==s&&(g.from!=g.to&&c!="before"?u=d:ye=d)}return u??ye}var De=function(){var i="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",s="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function c(W){return W<=247?i.charAt(W):1424<=W&&W<=1524?"R":1536<=W&&W<=1785?s.charAt(W-1536):1774<=W&&W<=2220?"r":8192<=W&&W<=8203?"w":W==8204?"b":"L"}var u=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,d=/[stwN]/,g=/[LRr]/,y=/[Lb1n]/,S=/[1n]/;function D(W,ft,bt){this.level=W,this.from=ft,this.to=bt}return function(W,ft){var bt=ft=="ltr"?"L":"R";if(W.length==0||ft=="ltr"&&!u.test(W))return!1;for(var Dt=W.length,Et=[],zt=0;zt<Dt;++zt)Et.push(c(W.charCodeAt(zt)));for(var Gt=0,oe=bt;Gt<Dt;++Gt){var le=Et[Gt];le=="m"?Et[Gt]=oe:oe=le}for(var ge=0,ue=bt;ge<Dt;++ge){var me=Et[ge];me=="1"&&ue=="r"?Et[ge]="n":g.test(me)&&(ue=me,me=="r"&&(Et[ge]="R"))}for(var Te=1,Oe=Et[0];Te<Dt-1;++Te){var We=Et[Te];We=="+"&&Oe=="1"&&Et[Te+1]=="1"?Et[Te]="1":We==","&&Oe==Et[Te+1]&&(Oe=="1"||Oe=="n")&&(Et[Te]=Oe),Oe=We}for(var gr=0;gr<Dt;++gr){var Zr=Et[gr];if(Zr==",")Et[gr]="N";else if(Zr=="%"){var Or=void 0;for(Or=gr+1;Or<Dt&&Et[Or]=="%";++Or);for(var nn=gr&&Et[gr-1]=="!"||Or<Dt&&Et[Or]=="1"?"1":"N",bn=gr;bn<Or;++bn)Et[bn]=nn;gr=Or-1}}for(var hr=0,kn=bt;hr<Dt;++hr){var Yr=Et[hr];kn=="L"&&Yr=="1"?Et[hr]="L":g.test(Yr)&&(kn=Yr)}for(var Gr=0;Gr<Dt;++Gr)if(d.test(Et[Gr])){var Br=void 0;for(Br=Gr+1;Br<Dt&&d.test(Et[Br]);++Br);for(var Er=(Gr?Et[Gr-1]:bt)=="L",An=(Br<Dt?Et[Br]:bt)=="L",xa=Er==An?Er?"L":"R":bt,ai=Gr;ai<Br;++ai)Et[ai]=xa;Gr=Br-1}for(var on=[],Hn,Xr=0;Xr<Dt;)if(y.test(Et[Xr])){var Vi=Xr;for(++Xr;Xr<Dt&&y.test(Et[Xr]);++Xr);on.push(new D(0,Vi,Xr))}else{var Yn=Xr,Ri=on.length,si=ft=="rtl"?1:0;for(++Xr;Xr<Dt&&Et[Xr]!="L";++Xr);for(var _n=Yn;_n<Xr;)if(S.test(Et[_n])){Yn<_n&&(on.splice(Ri,0,new D(1,Yn,_n)),Ri+=si);var Ca=_n;for(++_n;_n<Xr&&S.test(Et[_n]);++_n);on.splice(Ri,0,new D(2,Ca,_n)),Ri+=si,Yn=_n}else++_n;Yn<Xr&&on.splice(Ri,0,new D(1,Yn,Xr))}return ft=="ltr"&&(on[0].level==1&&(Hn=W.match(/^\s+/))&&(on[0].from=Hn[0].length,on.unshift(new D(0,0,Hn[0].length))),ve(on).level==1&&(Hn=W.match(/\s+$/))&&(ve(on).to-=Hn[0].length,on.push(new D(0,Dt-Hn[0].length,Dt)))),ft=="rtl"?on.reverse():on}}();function $e(i,s){var c=i.order;return c==null&&(c=i.order=De(i.text,s)),c}var Ar=[],_e=function(i,s,c){if(i.addEventListener)i.addEventListener(s,c,!1);else if(i.attachEvent)i.attachEvent("on"+s,c);else{var u=i._handlers||(i._handlers={});u[s]=(u[s]||Ar).concat(c)}};function Tr(i,s){return i._handlers&&i._handlers[s]||Ar}function ke(i,s,c){if(i.removeEventListener)i.removeEventListener(s,c,!1);else if(i.detachEvent)i.detachEvent("on"+s,c);else{var u=i._handlers,d=u&&u[s];if(d){var g=Wt(d,c);g>-1&&(u[s]=d.slice(0,g).concat(d.slice(g+1)))}}}function sr(i,s){var c=Tr(i,s);if(c.length)for(var u=Array.prototype.slice.call(arguments,2),d=0;d<c.length;++d)c[d].apply(null,u)}function cr(i,s,c){return typeof s=="string"&&(s={type:s,preventDefault:function(){this.defaultPrevented=!0}}),sr(i,c||s.type,i,s),Mt(s)||s.codemirrorIgnore}function pr(i){var s=i._handlers&&i._handlers.cursorActivity;if(s)for(var c=i.curOp.cursorActivityHandlers||(i.curOp.cursorActivityHandlers=[]),u=0;u<s.length;++u)Wt(c,s[u])==-1&&c.push(s[u])}function te(i,s){return Tr(i,s).length>0}function Kn(i){i.prototype.on=function(s,c){_e(this,s,c)},i.prototype.off=function(s,c){ke(this,s,c)}}function nt(i){i.preventDefault?i.preventDefault():i.returnValue=!1}function Ct(i){i.stopPropagation?i.stopPropagation():i.cancelBubble=!0}function Mt(i){return i.defaultPrevented!=null?i.defaultPrevented:i.returnValue==!1}function qt(i){nt(i),Ct(i)}function he(i){return i.target||i.srcElement}function Ae(i){var s=i.which;return s==null&&(i.button&1?s=1:i.button&2?s=3:i.button&4&&(s=2)),k&&i.ctrlKey&&s==1&&(s=3),s}var qe=function(){if(C&&M<9)return!1;var i=E("div");return"draggable"in i||"dragDrop"in i}(),ln;function xn(i){if(ln==null){var s=E("span","​");G(i,E("span",[s,document.createTextNode("x")])),i.firstChild.offsetHeight!=0&&(ln=s.offsetWidth<=1&&s.offsetHeight>2&&!(C&&M<8))}var c=ln?E("span","​"):E("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return c.setAttribute("cm-text",""),c}var xr;function Lo(i){if(xr!=null)return xr;var s=G(i,document.createTextNode("AخA")),c=x(s,0,1).getBoundingClientRect(),u=x(s,1,2).getBoundingClientRect();return N(i),!c||c.left==c.right?!1:xr=u.right-c.right<3}var vn=`

b`.split(/\n/).length!=3?function(i){for(var s=0,c=[],u=i.length;s<=u;){var d=i.indexOf(`
`,s);d==-1&&(d=i.length);var g=i.slice(s,i.charAt(d-1)=="\r"?d-1:d),y=g.indexOf("\r");y!=-1?(c.push(g.slice(0,y)),s+=y+1):(c.push(g),s=d+1)}return c}:function(i){return i.split(/\r\n?|\n/)},Cn=window.getSelection?function(i){try{return i.selectionStart!=i.selectionEnd}catch{return!1}}:function(i){var s;try{s=i.ownerDocument.selection.createRange()}catch{}return!s||s.parentElement()!=i?!1:s.compareEndPoints("StartToEnd",s)!=0},wo=function(){var i=E("div");return"oncopy"in i?!0:(i.setAttribute("oncopy","return;"),typeof i.oncopy=="function")}(),Mr=null;function Cr(i){if(Mr!=null)return Mr;var s=G(i,E("span","x")),c=s.getBoundingClientRect(),u=x(s,0,1).getBoundingClientRect();return Mr=Math.abs(c.left-u.left)>1}var zr={},Sn={};function $n(i,s){arguments.length>2&&(s.dependencies=Array.prototype.slice.call(arguments,2)),zr[i]=s}function Do(i,s){Sn[i]=s}function Vn(i){if(typeof i=="string"&&Sn.hasOwnProperty(i))i=Sn[i];else if(i&&typeof i.name=="string"&&Sn.hasOwnProperty(i.name)){var s=Sn[i.name];typeof s=="string"&&(s={name:s}),i=kt(s,i),i.name=s.name}else{if(typeof i=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(i))return Vn("application/xml");if(typeof i=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(i))return Vn("application/json")}return typeof i=="string"?{name:i}:i||{name:"null"}}function Qr(i,s){s=Vn(s);var c=zr[s.name];if(!c)return Qr(i,"text/plain");var u=c(i,s);if(Wr.hasOwnProperty(s.name)){var d=Wr[s.name];for(var g in d)d.hasOwnProperty(g)&&(u.hasOwnProperty(g)&&(u["_"+g]=u[g]),u[g]=d[g])}if(u.name=s.name,s.helperType&&(u.helperType=s.helperType),s.modeProps)for(var y in s.modeProps)u[y]=s.modeProps[y];return u}var Wr={};function qn(i,s){var c=Wr.hasOwnProperty(i)?Wr[i]:Wr[i]={};ne(s,c)}function Mn(i,s){if(s===!0)return s;if(i.copyState)return i.copyState(s);var c={};for(var u in s){var d=s[u];d instanceof Array&&(d=d.concat([])),c[u]=d}return c}function On(i,s){for(var c;i.innerMode&&(c=i.innerMode(s),!(!c||c.mode==i));)s=c.state,i=c.mode;return c||{mode:i,state:s}}function Lr(i,s,c){return i.startState?i.startState(s,c):!0}var ir=function(i,s,c){this.pos=this.start=0,this.string=i,this.tabSize=s||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=c};ir.prototype.eol=function(){return this.pos>=this.string.length},ir.prototype.sol=function(){return this.pos==this.lineStart},ir.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},ir.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},ir.prototype.eat=function(i){var s=this.string.charAt(this.pos),c;if(typeof i=="string"?c=s==i:c=s&&(i.test?i.test(s):i(s)),c)return++this.pos,s},ir.prototype.eatWhile=function(i){for(var s=this.pos;this.eat(i););return this.pos>s},ir.prototype.eatSpace=function(){for(var i=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>i},ir.prototype.skipToEnd=function(){this.pos=this.string.length},ir.prototype.skipTo=function(i){var s=this.string.indexOf(i,this.pos);if(s>-1)return this.pos=s,!0},ir.prototype.backUp=function(i){this.pos-=i},ir.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Ot(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Ot(this.string,this.lineStart,this.tabSize):0)},ir.prototype.indentation=function(){return Ot(this.string,null,this.tabSize)-(this.lineStart?Ot(this.string,this.lineStart,this.tabSize):0)},ir.prototype.match=function(i,s,c){if(typeof i=="string"){var u=function(y){return c?y.toLowerCase():y},d=this.string.substr(this.pos,i.length);if(u(d)==u(i))return s!==!1&&(this.pos+=i.length),!0}else{var g=this.string.slice(this.pos).match(i);return g&&g.index>0?null:(g&&s!==!1&&(this.pos+=g[0].length),g)}},ir.prototype.current=function(){return this.string.slice(this.start,this.pos)},ir.prototype.hideFirstChars=function(i,s){this.lineStart+=i;try{return s()}finally{this.lineStart-=i}},ir.prototype.lookAhead=function(i){var s=this.lineOracle;return s&&s.lookAhead(i)},ir.prototype.baseToken=function(){var i=this.lineOracle;return i&&i.baseToken(this.pos)};function be(i,s){if(s-=i.first,s<0||s>=i.size)throw new Error("There is no line "+(s+i.first)+" in the document.");for(var c=i;!c.lines;)for(var u=0;;++u){var d=c.children[u],g=d.chunkSize();if(s<g){c=d;break}s-=g}return c.lines[s]}function un(i,s,c){var u=[],d=s.line;return i.iter(s.line,c.line+1,function(g){var y=g.text;d==c.line&&(y=y.slice(0,c.ch)),d==s.line&&(y=y.slice(s.ch)),u.push(y),++d}),u}function yr(i,s,c){var u=[];return i.iter(s,c,function(d){u.push(d.text)}),u}function Nr(i,s){var c=s-i.height;if(c)for(var u=i;u;u=u.parent)u.height+=c}function Ze(i){if(i.parent==null)return null;for(var s=i.parent,c=Wt(s.lines,i),u=s.parent;u;s=u,u=u.parent)for(var d=0;u.children[d]!=s;++d)c+=u.children[d].chunkSize();return c+s.first}function tn(i,s){var c=i.first;t:do{for(var u=0;u<i.children.length;++u){var d=i.children[u],g=d.height;if(s<g){i=d;continue t}s-=g,c+=d.chunkSize()}return c}while(!i.lines);for(var y=0;y<i.lines.length;++y){var S=i.lines[y],D=S.height;if(s<D)break;s-=D}return c+y}function Dr(i,s){return s>=i.first&&s<i.first+i.size}function gn(i,s){return String(i.lineNumberFormatter(s+i.firstLineNumber))}function F(i,s,c){if(c===void 0&&(c=null),!(this instanceof F))return new F(i,s,c);this.line=i,this.ch=s,this.sticky=c}function lt(i,s){return i.line-s.line||i.ch-s.ch}function Kt(i,s){return i.sticky==s.sticky&&lt(i,s)==0}function ee(i){return F(i.line,i.ch)}function je(i,s){return lt(i,s)<0?s:i}function Ye(i,s){return lt(i,s)<0?i:s}function rr(i,s){return Math.max(i.first,Math.min(s,i.first+i.size-1))}function xe(i,s){if(s.line<i.first)return F(i.first,0);var c=i.first+i.size-1;return s.line>c?F(c,be(i,c).text.length):br(s,be(i,s.line).text.length)}function br(i,s){var c=i.ch;return c==null||c>s?F(i.line,s):c<0?F(i.line,0):i}function bo(i,s){for(var c=[],u=0;u<s.length;u++)c[u]=xe(i,s[u]);return c}var gi=function(i,s){this.state=i,this.lookAhead=s},cn=function(i,s,c,u){this.state=s,this.doc=i,this.line=c,this.maxLookAhead=u||0,this.baseTokens=null,this.baseTokenPos=1};cn.prototype.lookAhead=function(i){var s=this.doc.getLine(this.line+i);return s!=null&&i>this.maxLookAhead&&(this.maxLookAhead=i),s},cn.prototype.baseToken=function(i){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=i;)this.baseTokenPos+=2;var s=this.baseTokens[this.baseTokenPos+1];return{type:s&&s.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-i}},cn.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},cn.fromSaved=function(i,s,c){return s instanceof gi?new cn(i,Mn(i.mode,s.state),c,s.lookAhead):new cn(i,Mn(i.mode,s),c)},cn.prototype.save=function(i){var s=i!==!1?Mn(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new gi(s,this.maxLookAhead):s};function Gi(i,s,c,u){var d=[i.state.modeGen],g={};fn(i,s.text,i.doc.mode,c,function(W,ft){return d.push(W,ft)},g,u);for(var y=c.state,S=function(W){c.baseTokens=d;var ft=i.state.overlays[W],bt=1,Dt=0;c.state=!0,fn(i,s.text,ft.mode,c,function(Et,zt){for(var Gt=bt;Dt<Et;){var oe=d[bt];oe>Et&&d.splice(bt,1,Et,d[bt+1],oe),bt+=2,Dt=Math.min(Et,oe)}if(zt)if(ft.opaque)d.splice(Gt,bt-Gt,Et,"overlay "+zt),bt=Gt+2;else for(;Gt<bt;Gt+=2){var le=d[Gt+1];d[Gt+1]=(le?le+" ":"")+"overlay "+zt}},g),c.state=y,c.baseTokens=null,c.baseTokenPos=1},D=0;D<i.state.overlays.length;++D)S(D);return{styles:d,classes:g.bgClass||g.textClass?g:null}}function Ma(i,s,c){if(!s.styles||s.styles[0]!=i.state.modeGen){var u=Qn(i,Ze(s)),d=s.text.length>i.options.maxHighlightLength&&Mn(i.doc.mode,u.state),g=Gi(i,s,u);d&&(u.state=d),s.stateAfter=u.save(!d),s.styles=g.styles,g.classes?s.styleClasses=g.classes:s.styleClasses&&(s.styleClasses=null),c===i.doc.highlightFrontier&&(i.doc.modeFrontier=Math.max(i.doc.modeFrontier,++i.doc.highlightFrontier))}return s.styles}function Qn(i,s,c){var u=i.doc,d=i.display;if(!u.mode.startState)return new cn(u,!0,s);var g=fo(i,s,c),y=g>u.first&&be(u,g-1).stateAfter,S=y?cn.fromSaved(u,y,g):new cn(u,Lr(u.mode),g);return u.iter(g,s,function(D){Ki(i,D.text,S);var W=S.line;D.stateAfter=W==s-1||W%5==0||W>=d.viewFrom&&W<d.viewTo?S.save():null,S.nextLine()}),c&&(u.modeFrontier=S.line),S}function Ki(i,s,c,u){var d=i.doc.mode,g=new ir(s,i.options.tabSize,c);for(g.start=g.pos=u||0,s==""&&jo(d,c.state);!g.eol();)Io(d,g,c.state),g.start=g.pos}function jo(i,s){if(i.blankLine)return i.blankLine(s);if(i.innerMode){var c=On(i,s);if(c.mode.blankLine)return c.mode.blankLine(c.state)}}function Io(i,s,c,u){for(var d=0;d<10;d++){u&&(u[0]=On(i,c).mode);var g=i.token(s,c);if(s.pos>s.start)return g}throw new Error("Mode "+i.name+" failed to advance stream.")}var mi=function(i,s,c){this.start=i.start,this.end=i.pos,this.string=i.current(),this.type=s||null,this.state=c};function jr(i,s,c,u){var d=i.doc,g=d.mode,y;s=xe(d,s);var S=be(d,s.line),D=Qn(i,s.line,c),W=new ir(S.text,i.options.tabSize,D),ft;for(u&&(ft=[]);(u||W.pos<s.ch)&&!W.eol();)W.start=W.pos,y=Io(g,W,D.state),u&&ft.push(new mi(W,y,Mn(d.mode,D.state)));return u?ft:new mi(W,y,D.state)}function $i(i,s){if(i)for(;;){var c=i.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!c)break;i=i.slice(0,c.index)+i.slice(c.index+c[0].length);var u=c[1]?"bgClass":"textClass";s[u]==null?s[u]=c[2]:new RegExp("(?:^|\\s)"+c[2]+"(?:$|\\s)").test(s[u])||(s[u]+=" "+c[2])}return i}function fn(i,s,c,u,d,g,y){var S=c.flattenSpans;S==null&&(S=i.options.flattenSpans);var D=0,W=null,ft=new ir(s,i.options.tabSize,u),bt,Dt=i.options.addModeClass&&[null];for(s==""&&$i(jo(c,u.state),g);!ft.eol();){if(ft.pos>i.options.maxHighlightLength?(S=!1,y&&Ki(i,s,u,ft.pos),ft.pos=s.length,bt=null):bt=$i(Io(c,ft,u.state,Dt),g),Dt){var Et=Dt[0].name;Et&&(bt="m-"+(bt?Et+" "+bt:Et))}if(!S||W!=bt){for(;D<ft.start;)D=Math.min(ft.start,D+5e3),d(D,W);W=bt}ft.start=ft.pos}for(;D<ft.pos;){var zt=Math.min(ft.pos,D+5e3);d(zt,W),D=zt}}function fo(i,s,c){for(var u,d,g=i.doc,y=c?-1:s-(i.doc.mode.innerMode?1e3:100),S=s;S>y;--S){if(S<=g.first)return g.first;var D=be(g,S-1),W=D.stateAfter;if(W&&(!c||S+(W instanceof gi?W.lookAhead:0)<=g.modeFrontier))return S;var ft=Ot(D.text,null,i.options.tabSize);(d==null||u>ft)&&(d=S-1,u=ft)}return d}function to(i,s){if(i.modeFrontier=Math.min(i.modeFrontier,s),!(i.highlightFrontier<s-10)){for(var c=i.first,u=s-1;u>c;u--){var d=be(i,u).stateAfter;if(d&&(!(d instanceof gi)||u+d.lookAhead<s)){c=u+1;break}}i.highlightFrontier=Math.min(i.highlightFrontier,c)}}var La=!1,Ln=!1;function Ps(){La=!0}function Vo(){Ln=!0}function Ro(i,s,c){this.marker=i,this.from=s,this.to=c}function No(i,s){if(i)for(var c=0;c<i.length;++c){var u=i[c];if(u.marker==s)return u}}function yi(i,s){for(var c,u=0;u<i.length;++u)i[u]!=s&&(c||(c=[])).push(i[u]);return c}function Da(i,s,c){var u=c&&window.WeakSet&&(c.markedSpans||(c.markedSpans=new WeakSet));u&&i.markedSpans&&u.has(i.markedSpans)?i.markedSpans.push(s):(i.markedSpans=i.markedSpans?i.markedSpans.concat([s]):[s],u&&u.add(i.markedSpans)),s.marker.attachLine(i)}function ks(i,s,c){var u;if(i)for(var d=0;d<i.length;++d){var g=i[d],y=g.marker,S=g.from==null||(y.inclusiveLeft?g.from<=s:g.from<s);if(S||g.from==s&&y.type=="bookmark"&&(!c||!g.marker.insertLeft)){var D=g.to==null||(y.inclusiveRight?g.to>=s:g.to>s);(u||(u=[])).push(new Ro(y,g.from,D?null:g.to))}}return u}function qi(i,s,c){var u;if(i)for(var d=0;d<i.length;++d){var g=i[d],y=g.marker,S=g.to==null||(y.inclusiveRight?g.to>=s:g.to>s);if(S||g.from==s&&y.type=="bookmark"&&(!c||g.marker.insertLeft)){var D=g.from==null||(y.inclusiveLeft?g.from<=s:g.from<s);(u||(u=[])).push(new Ro(y,D?null:g.from-s,g.to==null?null:g.to-s))}}return u}function _o(i,s){if(s.full)return null;var c=Dr(i,s.from.line)&&be(i,s.from.line).markedSpans,u=Dr(i,s.to.line)&&be(i,s.to.line).markedSpans;if(!c&&!u)return null;var d=s.from.ch,g=s.to.ch,y=lt(s.from,s.to)==0,S=ks(c,d,y),D=qi(u,g,y),W=s.text.length==1,ft=ve(s.text).length+(W?d:0);if(S)for(var bt=0;bt<S.length;++bt){var Dt=S[bt];if(Dt.to==null){var Et=No(D,Dt.marker);Et?W&&(Dt.to=Et.to==null?null:Et.to+ft):Dt.to=d}}if(D)for(var zt=0;zt<D.length;++zt){var Gt=D[zt];if(Gt.to!=null&&(Gt.to+=ft),Gt.from==null){var oe=No(S,Gt.marker);oe||(Gt.from=ft,W&&(S||(S=[])).push(Gt))}else Gt.from+=ft,W&&(S||(S=[])).push(Gt)}S&&(S=xo(S)),D&&D!=S&&(D=xo(D));var le=[S];if(!W){var ge=s.text.length-2,ue;if(ge>0&&S)for(var me=0;me<S.length;++me)S[me].to==null&&(ue||(ue=[])).push(new Ro(S[me].marker,null,null));for(var Te=0;Te<ge;++Te)le.push(ue);le.push(D)}return le}function xo(i){for(var s=0;s<i.length;++s){var c=i[s];c.from!=null&&c.from==c.to&&c.marker.clearWhenEmpty!==!1&&i.splice(s--,1)}return i.length?i:null}function Zi(i,s,c){var u=null;if(i.iter(s.line,c.line+1,function(Et){if(Et.markedSpans)for(var zt=0;zt<Et.markedSpans.length;++zt){var Gt=Et.markedSpans[zt].marker;Gt.readOnly&&(!u||Wt(u,Gt)==-1)&&(u||(u=[])).push(Gt)}}),!u)return null;for(var d=[{from:s,to:c}],g=0;g<u.length;++g)for(var y=u[g],S=y.find(0),D=0;D<d.length;++D){var W=d[D];if(!(lt(W.to,S.from)<0||lt(W.from,S.to)>0)){var ft=[D,1],bt=lt(W.from,S.from),Dt=lt(W.to,S.to);(bt<0||!y.inclusiveLeft&&!bt)&&ft.push({from:W.from,to:S.from}),(Dt>0||!y.inclusiveRight&&!Dt)&&ft.push({from:S.to,to:W.to}),d.splice.apply(d,ft),D+=ft.length-3}}return d}function wi(i){var s=i.markedSpans;if(s){for(var c=0;c<s.length;++c)s[c].marker.detachLine(i);i.markedSpans=null}}function Co(i,s){if(s){for(var c=0;c<s.length;++c)s[c].marker.attachLine(i);i.markedSpans=s}}function Fo(i){return i.inclusiveLeft?-1:0}function po(i){return i.inclusiveRight?1:0}function bi(i,s){var c=i.lines.length-s.lines.length;if(c!=0)return c;var u=i.find(),d=s.find(),g=lt(u.from,d.from)||Fo(i)-Fo(s);if(g)return-g;var y=lt(u.to,d.to)||po(i)-po(s);return y||s.id-i.id}function ja(i,s){var c=Ln&&i.markedSpans,u;if(c)for(var d=void 0,g=0;g<c.length;++g)d=c[g],d.marker.collapsed&&(s?d.from:d.to)==null&&(!u||bi(u,d.marker)<0)&&(u=d.marker);return u}function Ho(i){return ja(i,!0)}function _i(i){return ja(i,!1)}function mn(i,s){var c=Ln&&i.markedSpans,u;if(c)for(var d=0;d<c.length;++d){var g=c[d];g.marker.collapsed&&(g.from==null||g.from<s)&&(g.to==null||g.to>s)&&(!u||bi(u,g.marker)<0)&&(u=g.marker)}return u}function Zn(i,s,c,u,d){var g=be(i,s),y=Ln&&g.markedSpans;if(y)for(var S=0;S<y.length;++S){var D=y[S];if(D.marker.collapsed){var W=D.marker.find(0),ft=lt(W.from,c)||Fo(D.marker)-Fo(d),bt=lt(W.to,u)||po(D.marker)-po(d);if(!(ft>=0&&bt<=0||ft<=0&&bt>=0)&&(ft<=0&&(D.marker.inclusiveRight&&d.inclusiveLeft?lt(W.to,c)>=0:lt(W.to,c)>0)||ft>=0&&(D.marker.inclusiveRight&&d.inclusiveLeft?lt(W.from,u)<=0:lt(W.from,u)<0)))return!0}}}function Xe(i){for(var s;s=Ho(i);)i=s.find(-1,!0).line;return i}function Bo(i){for(var s;s=_i(i);)i=s.find(1,!0).line;return i}function yn(i){for(var s,c;s=_i(i);)i=s.find(1,!0).line,(c||(c=[])).push(i);return c}function Rn(i,s){var c=be(i,s),u=Xe(c);return c==u?s:Ze(u)}function So(i,s){if(s>i.lastLine())return s;var c=be(i,s),u;if(!Tn(i,c))return s;for(;u=_i(c);)c=u.find(1,!0).line;return Ze(c)+1}function Tn(i,s){var c=Ln&&s.markedSpans;if(c){for(var u=void 0,d=0;d<c.length;++d)if(u=c[d],!!u.marker.collapsed){if(u.from==null)return!0;if(!u.marker.widgetNode&&u.from==0&&u.marker.inclusiveLeft&&Fr(i,s,u))return!0}}}function Fr(i,s,c){if(c.to==null){var u=c.marker.find(1,!0);return Fr(i,u.line,No(u.line.markedSpans,c.marker))}if(c.marker.inclusiveRight&&c.to==s.text.length)return!0;for(var d=void 0,g=0;g<s.markedSpans.length;++g)if(d=s.markedSpans[g],d.marker.collapsed&&!d.marker.widgetNode&&d.from==c.to&&(d.to==null||d.to!=c.from)&&(d.marker.inclusiveLeft||c.marker.inclusiveRight)&&Fr(i,s,d))return!0}function ar(i){i=Xe(i);for(var s=0,c=i.parent,u=0;u<c.lines.length;++u){var d=c.lines[u];if(d==i)break;s+=d.height}for(var g=c.parent;g;c=g,g=c.parent)for(var y=0;y<g.children.length;++y){var S=g.children[y];if(S==c)break;s+=S.height}return s}function eo(i){if(i.height==0)return 0;for(var s=i.text.length,c,u=i;c=Ho(u);){var d=c.find(0,!0);u=d.from.line,s+=d.from.ch-d.to.ch}for(u=i;c=_i(u);){var g=c.find(0,!0);s-=u.text.length-g.from.ch,u=g.to.line,s+=u.text.length-g.to.ch}return s}function ro(i){var s=i.display,c=i.doc;s.maxLine=be(c,c.first),s.maxLineLength=eo(s.maxLine),s.maxLineChanged=!0,c.iter(function(u){var d=eo(u);d>s.maxLineLength&&(s.maxLineLength=d,s.maxLine=u)})}var no=function(i,s,c){this.text=i,Co(this,s),this.height=c?c(this):1};no.prototype.lineNo=function(){return Ze(this)},Kn(no);function Ia(i,s,c,u){i.text=s,i.stateAfter&&(i.stateAfter=null),i.styles&&(i.styles=null),i.order!=null&&(i.order=null),wi(i),Co(i,c);var d=u?u(i):1;d!=i.height&&Nr(i,d)}function Kr(i){i.parent=null,wi(i)}var El={},Uo={};function oo(i,s){if(!i||/^\s*$/.test(i))return null;var c=s.addModeClass?Uo:El;return c[i]||(c[i]=i.replace(/\S+/g,"cm-$&"))}function Va(i,s){var c=$("span",null,null,m?"padding-right: .1px":null),u={pre:$("pre",[c],"CodeMirror-line"),content:c,col:0,pos:0,cm:i,trailingSpace:!1,splitSpaces:i.getOption("lineWrapping")};s.measure={};for(var d=0;d<=(s.rest?s.rest.length:0);d++){var g=d?s.rest[d-1]:s.line,y=void 0;u.pos=0,u.addToken=Yi,Lo(i.display.measure)&&(y=$e(g,i.doc.direction))&&(u.addToken=Ms(u.addToken,y)),u.map=[];var S=s!=i.display.externalMeasured&&Ze(g);Ls(g,u,Ma(i,g,S)),g.styleClasses&&(g.styleClasses.bgClass&&(u.bgClass=Xt(g.styleClasses.bgClass,u.bgClass||"")),g.styleClasses.textClass&&(u.textClass=Xt(g.styleClasses.textClass,u.textClass||""))),u.map.length==0&&u.map.push(0,0,u.content.appendChild(xn(i.display.measure))),d==0?(s.measure.map=u.map,s.measure.cache={}):((s.measure.maps||(s.measure.maps=[])).push(u.map),(s.measure.caches||(s.measure.caches=[])).push({}))}if(m){var D=u.content.lastChild;(/\bcm-tab\b/.test(D.className)||D.querySelector&&D.querySelector(".cm-tab"))&&(u.content.className="cm-tab-wrap-hack")}return sr(i,"renderLine",i,s.line,u.pre),u.pre.className&&(u.textClass=Xt(u.pre.className,u.textClass||"")),u}function As(i){var s=E("span","•","cm-invalidchar");return s.title="\\u"+i.charCodeAt(0).toString(16),s.setAttribute("aria-label",s.title),s}function Yi(i,s,c,u,d,g,y){if(s){var S=i.splitSpaces?Xi(s,i.trailingSpace):s,D=i.cm.state.specialChars,W=!1,ft;if(!D.test(s))i.col+=s.length,ft=document.createTextNode(S),i.map.push(i.pos,i.pos+s.length,ft),C&&M<9&&(W=!0),i.pos+=s.length;else{ft=document.createDocumentFragment();for(var bt=0;;){D.lastIndex=bt;var Dt=D.exec(s),Et=Dt?Dt.index-bt:s.length-bt;if(Et){var zt=document.createTextNode(S.slice(bt,bt+Et));C&&M<9?ft.appendChild(E("span",[zt])):ft.appendChild(zt),i.map.push(i.pos,i.pos+Et,zt),i.col+=Et,i.pos+=Et}if(!Dt)break;bt+=Et+1;var Gt=void 0;if(Dt[0]=="	"){var oe=i.cm.options.tabSize,le=oe-i.col%oe;Gt=ft.appendChild(E("span",nr(le),"cm-tab")),Gt.setAttribute("role","presentation"),Gt.setAttribute("cm-text","	"),i.col+=le}else Dt[0]=="\r"||Dt[0]==`
`?(Gt=ft.appendChild(E("span",Dt[0]=="\r"?"␍":"␤","cm-invalidchar")),Gt.setAttribute("cm-text",Dt[0]),i.col+=1):(Gt=i.cm.options.specialCharPlaceholder(Dt[0]),Gt.setAttribute("cm-text",Dt[0]),C&&M<9?ft.appendChild(E("span",[Gt])):ft.appendChild(Gt),i.col+=1);i.map.push(i.pos,i.pos+1,Gt),i.pos++}}if(i.trailingSpace=S.charCodeAt(s.length-1)==32,c||u||d||W||g||y){var ge=c||"";u&&(ge+=u),d&&(ge+=d);var ue=E("span",[ft],ge,g);if(y)for(var me in y)y.hasOwnProperty(me)&&me!="style"&&me!="class"&&ue.setAttribute(me,y[me]);return i.content.appendChild(ue)}i.content.appendChild(ft)}}function Xi(i,s){if(i.length>1&&!/  /.test(i))return i;for(var c=s,u="",d=0;d<i.length;d++){var g=i.charAt(d);g==" "&&c&&(d==i.length-1||i.charCodeAt(d+1)==32)&&(g=" "),u+=g,c=g==" "}return u}function Ms(i,s){return function(c,u,d,g,y,S,D){d=d?d+" cm-force-border":"cm-force-border";for(var W=c.pos,ft=W+u.length;;){for(var bt=void 0,Dt=0;Dt<s.length&&(bt=s[Dt],!(bt.to>W&&bt.from<=W));Dt++);if(bt.to>=ft)return i(c,u,d,g,y,S,D);i(c,u.slice(0,bt.to-W),d,g,null,S,D),g=null,u=u.slice(bt.to-W),W=bt.to}}}function Ra(i,s,c,u){var d=!u&&c.widgetNode;d&&i.map.push(i.pos,i.pos+s,d),!u&&i.cm.display.input.needsContentAttribute&&(d||(d=i.content.appendChild(document.createElement("span"))),d.setAttribute("cm-marker",c.id)),d&&(i.cm.display.input.setUneditable(d),i.content.appendChild(d)),i.pos+=s,i.trailingSpace=!1}function Ls(i,s,c){var u=i.markedSpans,d=i.text,g=0;if(!u){for(var y=1;y<c.length;y+=2)s.addToken(s,d.slice(g,g=c[y]),oo(c[y+1],s.cm.options));return}for(var S=d.length,D=0,W=1,ft="",bt,Dt,Et=0,zt,Gt,oe,le,ge;;){if(Et==D){zt=Gt=oe=Dt="",ge=null,le=null,Et=1/0;for(var ue=[],me=void 0,Te=0;Te<u.length;++Te){var Oe=u[Te],We=Oe.marker;if(We.type=="bookmark"&&Oe.from==D&&We.widgetNode)ue.push(We);else if(Oe.from<=D&&(Oe.to==null||Oe.to>D||We.collapsed&&Oe.to==D&&Oe.from==D)){if(Oe.to!=null&&Oe.to!=D&&Et>Oe.to&&(Et=Oe.to,Gt=""),We.className&&(zt+=" "+We.className),We.css&&(Dt=(Dt?Dt+";":"")+We.css),We.startStyle&&Oe.from==D&&(oe+=" "+We.startStyle),We.endStyle&&Oe.to==Et&&(me||(me=[])).push(We.endStyle,Oe.to),We.title&&((ge||(ge={})).title=We.title),We.attributes)for(var gr in We.attributes)(ge||(ge={}))[gr]=We.attributes[gr];We.collapsed&&(!le||bi(le.marker,We)<0)&&(le=Oe)}else Oe.from>D&&Et>Oe.from&&(Et=Oe.from)}if(me)for(var Zr=0;Zr<me.length;Zr+=2)me[Zr+1]==Et&&(Gt+=" "+me[Zr]);if(!le||le.from==D)for(var Or=0;Or<ue.length;++Or)Ra(s,0,ue[Or]);if(le&&(le.from||0)==D){if(Ra(s,(le.to==null?S+1:le.to)-D,le.marker,le.from==null),le.to==null)return;le.to==D&&(le=!1)}}if(D>=S)break;for(var nn=Math.min(S,Et);;){if(ft){var bn=D+ft.length;if(!le){var hr=bn>nn?ft.slice(0,nn-D):ft;s.addToken(s,hr,bt?bt+zt:zt,oe,D+hr.length==Et?Gt:"",Dt,ge)}if(bn>=nn){ft=ft.slice(nn-D),D=nn;break}D=bn,oe=""}ft=d.slice(g,g=c[W++]),bt=oo(c[W++],s.cm.options)}}}function wn(i,s,c){this.line=s,this.rest=yn(s),this.size=this.rest?Ze(ve(this.rest))-c+1:1,this.node=this.text=null,this.hidden=Tn(i,s)}function Ji(i,s,c){for(var u=[],d,g=s;g<c;g=d){var y=new wn(i.doc,be(i.doc,g),g);d=g+y.size,u.push(y)}return u}var ho=null;function Ds(i){ho?ho.ops.push(i):i.ownsGroup=ho={ops:[i],delayedCallbacks:[]}}function Qi(i){var s=i.delayedCallbacks,c=0;do{for(;c<s.length;c++)s[c].call(null);for(var u=0;u<i.ops.length;u++){var d=i.ops[u];if(d.cursorActivityHandlers)for(;d.cursorActivityCalled<d.cursorActivityHandlers.length;)d.cursorActivityHandlers[d.cursorActivityCalled++].call(null,d.cm)}}while(c<s.length)}function zo(i,s){var c=i.ownsGroup;if(c)try{Qi(c)}finally{ho=null,s(c)}}var en=null;function Ir(i,s){var c=Tr(i,s);if(c.length){var u=Array.prototype.slice.call(arguments,2),d;ho?d=ho.delayedCallbacks:en?d=en:(d=en=[],setTimeout(js,0));for(var g=function(S){d.push(function(){return c[S].apply(null,u)})},y=0;y<c.length;++y)g(y)}}function js(){var i=en;en=null;for(var s=0;s<i.length;++s)i[s]()}function Na(i,s,c,u){for(var d=0;d<s.changes.length;d++){var g=s.changes[d];g=="text"?xi(i,s):g=="gutter"?Go(i,s,c,u):g=="class"?ta(i,s):g=="widget"&&Vs(i,s,u)}s.changes=null}function Oo(i){return i.node==i.text&&(i.node=E("div",null,null,"position: relative"),i.text.parentNode&&i.text.parentNode.replaceChild(i.node,i.text),i.node.appendChild(i.text),C&&M<8&&(i.node.style.zIndex=2)),i.node}function Is(i,s){var c=s.bgClass?s.bgClass+" "+(s.line.bgClass||""):s.line.bgClass;if(c&&(c+=" CodeMirror-linebackground"),s.background)c?s.background.className=c:(s.background.parentNode.removeChild(s.background),s.background=null);else if(c){var u=Oo(s);s.background=u.insertBefore(E("div",null,c),u.firstChild),i.display.input.setUneditable(s.background)}}function Wo(i,s){var c=i.display.externalMeasured;return c&&c.line==s.line?(i.display.externalMeasured=null,s.measure=c.measure,c.built):Va(i,s)}function xi(i,s){var c=s.text.className,u=Wo(i,s);s.text==s.node&&(s.node=u.pre),s.text.parentNode.replaceChild(u.pre,s.text),s.text=u.pre,u.bgClass!=s.bgClass||u.textClass!=s.textClass?(s.bgClass=u.bgClass,s.textClass=u.textClass,ta(i,s)):c&&(s.text.className=c)}function ta(i,s){Is(i,s),s.line.wrapClass?Oo(s).className=s.line.wrapClass:s.node!=s.text&&(s.node.className="");var c=s.textClass?s.textClass+" "+(s.line.textClass||""):s.line.textClass;s.text.className=c||""}function Go(i,s,c,u){if(s.gutter&&(s.node.removeChild(s.gutter),s.gutter=null),s.gutterBackground&&(s.node.removeChild(s.gutterBackground),s.gutterBackground=null),s.line.gutterClass){var d=Oo(s);s.gutterBackground=E("div",null,"CodeMirror-gutter-background "+s.line.gutterClass,"left: "+(i.options.fixedGutter?u.fixedPos:-u.gutterTotalWidth)+"px; width: "+u.gutterTotalWidth+"px"),i.display.input.setUneditable(s.gutterBackground),d.insertBefore(s.gutterBackground,s.text)}var g=s.line.gutterMarkers;if(i.options.lineNumbers||g){var y=Oo(s),S=s.gutter=E("div",null,"CodeMirror-gutter-wrapper","left: "+(i.options.fixedGutter?u.fixedPos:-u.gutterTotalWidth)+"px");if(S.setAttribute("aria-hidden","true"),i.display.input.setUneditable(S),y.insertBefore(S,s.text),s.line.gutterClass&&(S.className+=" "+s.line.gutterClass),i.options.lineNumbers&&(!g||!g["CodeMirror-linenumbers"])&&(s.lineNumber=S.appendChild(E("div",gn(i.options,c),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+u.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+i.display.lineNumInnerWidth+"px"))),g)for(var D=0;D<i.display.gutterSpecs.length;++D){var W=i.display.gutterSpecs[D].className,ft=g.hasOwnProperty(W)&&g[W];ft&&S.appendChild(E("div",[ft],"CodeMirror-gutter-elt","left: "+u.gutterLeft[W]+"px; width: "+u.gutterWidth[W]+"px"))}}}function Vs(i,s,c){s.alignable&&(s.alignable=null);for(var u=z("CodeMirror-linewidget"),d=s.node.firstChild,g=void 0;d;d=g)g=d.nextSibling,u.test(d.className)&&s.node.removeChild(d);Fa(i,s,c)}function vo(i,s,c,u){var d=Wo(i,s);return s.text=s.node=d.pre,d.bgClass&&(s.bgClass=d.bgClass),d.textClass&&(s.textClass=d.textClass),ta(i,s),Go(i,s,c,u),Fa(i,s,u),s.node}function Fa(i,s,c){if(Ha(i,s.line,s,c,!0),s.rest)for(var u=0;u<s.rest.length;u++)Ha(i,s.rest[u],s,c,!1)}function Ha(i,s,c,u,d){if(s.widgets)for(var g=Oo(c),y=0,S=s.widgets;y<S.length;++y){var D=S[y],W=E("div",[D.node],"CodeMirror-linewidget"+(D.className?" "+D.className:""));D.handleMouseEvents||W.setAttribute("cm-ignore-events","true"),Ba(D,W,c,u),i.display.input.setUneditable(W),d&&D.above?g.insertBefore(W,c.gutter||c.text):g.appendChild(W),Ir(D,"redraw")}}function Ba(i,s,c,u){if(i.noHScroll){(c.alignable||(c.alignable=[])).push(s);var d=u.wrapperWidth;s.style.left=u.fixedPos+"px",i.coverGutter||(d-=u.gutterTotalWidth,s.style.paddingLeft=u.gutterTotalWidth+"px"),s.style.width=d+"px"}i.coverGutter&&(s.style.zIndex=5,s.style.position="relative",i.noHScroll||(s.style.marginLeft=-u.gutterTotalWidth+"px"))}function go(i){if(i.height!=null)return i.height;var s=i.doc.cm;if(!s)return 0;if(!gt(document.body,i.node)){var c="position: relative;";i.coverGutter&&(c+="margin-left: -"+s.display.gutters.offsetWidth+"px;"),i.noHScroll&&(c+="width: "+s.display.wrapper.clientWidth+"px;"),G(s.display.measure,E("div",[i.node],null,c))}return i.height=i.node.parentNode.offsetHeight}function io(i,s){for(var c=he(s);c!=i.wrapper;c=c.parentNode)if(!c||c.nodeType==1&&c.getAttribute("cm-ignore-events")=="true"||c.parentNode==i.sizer&&c!=i.mover)return!0}function ao(i){return i.lineSpace.offsetTop}function Ua(i){return i.mover.offsetHeight-i.lineSpace.offsetHeight}function H(i){if(i.cachedPaddingH)return i.cachedPaddingH;var s=G(i.measure,E("pre","x","CodeMirror-line-like")),c=window.getComputedStyle?window.getComputedStyle(s):s.currentStyle,u={left:parseInt(c.paddingLeft),right:parseInt(c.paddingRight)};return!isNaN(u.left)&&!isNaN(u.right)&&(i.cachedPaddingH=u),u}function Y(i){return ae-i.display.nativeBarWidth}function yt(i){return i.display.scroller.clientWidth-Y(i)-i.display.barWidth}function xt(i){return i.display.scroller.clientHeight-Y(i)-i.display.barHeight}function It(i,s,c){var u=i.options.lineWrapping,d=u&&yt(i);if(!s.measure.heights||u&&s.measure.width!=d){var g=s.measure.heights=[];if(u){s.measure.width=d;for(var y=s.text.firstChild.getClientRects(),S=0;S<y.length-1;S++){var D=y[S],W=y[S+1];Math.abs(D.bottom-W.bottom)>2&&g.push((D.bottom+W.top)/2-c.top)}}g.push(c.bottom-c.top)}}function At(i,s,c){if(i.line==s)return{map:i.measure.map,cache:i.measure.cache};if(i.rest){for(var u=0;u<i.rest.length;u++)if(i.rest[u]==s)return{map:i.measure.maps[u],cache:i.measure.caches[u]};for(var d=0;d<i.rest.length;d++)if(Ze(i.rest[d])>c)return{map:i.measure.maps[d],cache:i.measure.caches[d],before:!0}}}function Zt(i,s){s=Xe(s);var c=Ze(s),u=i.display.externalMeasured=new wn(i.doc,s,c);u.lineN=c;var d=u.built=Va(i,u);return u.text=d.pre,G(i.display.lineMeasure,d.pre),u}function ce(i,s,c,u){return dr(i,Me(i,s),c,u)}function He(i,s){if(s>=i.display.viewFrom&&s<i.display.viewTo)return i.display.view[Si(i,s)];var c=i.display.externalMeasured;if(c&&s>=c.lineN&&s<c.lineN+c.size)return c}function Me(i,s){var c=Ze(s),u=He(i,c);u&&!u.text?u=null:u&&u.changes&&(Na(i,u,c,Dl(i)),i.curOp.forceUpdate=!0),u||(u=Zt(i,s));var d=At(u,s,c);return{line:s,view:u,rect:null,map:d.map,cache:d.cache,before:d.before,hasHeights:!1}}function dr(i,s,c,u,d){s.before&&(c=-1);var g=c+(u||""),y;return s.cache.hasOwnProperty(g)?y=s.cache[g]:(s.rect||(s.rect=s.view.text.getBoundingClientRect()),s.hasHeights||(It(i,s.view,s.rect),s.hasHeights=!0),y=Pl(i,s,c,u),y.bogus||(s.cache[g]=y)),{left:y.left,right:y.right,top:d?y.rtop:y.top,bottom:d?y.rbottom:y.bottom}}var Hr={left:0,right:0,top:0,bottom:0};function ea(i,s,c){for(var u,d,g,y,S,D,W=0;W<i.length;W+=3)if(S=i[W],D=i[W+1],s<S?(d=0,g=1,y="left"):s<D?(d=s-S,g=d+1):(W==i.length-3||s==D&&i[W+3]>s)&&(g=D-S,d=g-1,s>=D&&(y="right")),d!=null){if(u=i[W+2],S==D&&c==(u.insertLeft?"left":"right")&&(y=c),c=="left"&&d==0)for(;W&&i[W-2]==i[W-3]&&i[W-1].insertLeft;)u=i[(W-=3)+2],y="left";if(c=="right"&&d==D-S)for(;W<i.length-3&&i[W+3]==i[W+4]&&!i[W+5].insertLeft;)u=i[(W+=3)+2],y="right";break}return{node:u,start:d,end:g,collapse:y,coverStart:S,coverEnd:D}}function Rs(i,s){var c=Hr;if(s=="left")for(var u=0;u<i.length&&(c=i[u]).left==c.right;u++);else for(var d=i.length-1;d>=0&&(c=i[d]).left==c.right;d--);return c}function Pl(i,s,c,u){var d=ea(s.map,c,u),g=d.node,y=d.start,S=d.end,D=d.collapse,W;if(g.nodeType==3){for(var ft=0;ft<4;ft++){for(;y&&Ke(s.line.text.charAt(d.coverStart+y));)--y;for(;d.coverStart+S<d.coverEnd&&Ke(s.line.text.charAt(d.coverStart+S));)++S;if(C&&M<9&&y==0&&S==d.coverEnd-d.coverStart?W=g.parentNode.getBoundingClientRect():W=Rs(x(g,y,S).getClientRects(),u),W.left||W.right||y==0)break;S=y,y=y-1,D="right"}C&&M<11&&(W=Cf(i.display.measure,W))}else{y>0&&(D=u="right");var bt;i.options.lineWrapping&&(bt=g.getClientRects()).length>1?W=bt[u=="right"?bt.length-1:0]:W=g.getBoundingClientRect()}if(C&&M<9&&!y&&(!W||!W.left&&!W.right)){var Dt=g.parentNode.getClientRects()[0];Dt?W={left:Dt.left,right:Dt.left+na(i.display),top:Dt.top,bottom:Dt.bottom}:W=Hr}for(var Et=W.top-s.rect.top,zt=W.bottom-s.rect.top,Gt=(Et+zt)/2,oe=s.view.measure.heights,le=0;le<oe.length-1&&!(Gt<oe[le]);le++);var ge=le?oe[le-1]:0,ue=oe[le],me={left:(D=="right"?W.right:W.left)-s.rect.left,right:(D=="left"?W.left:W.right)-s.rect.left,top:ge,bottom:ue};return!W.left&&!W.right&&(me.bogus=!0),i.options.singleCursorHeightPerLine||(me.rtop=Et,me.rbottom=zt),me}function Cf(i,s){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Cr(i))return s;var c=screen.logicalXDPI/screen.deviceXDPI,u=screen.logicalYDPI/screen.deviceYDPI;return{left:s.left*c,right:s.right*c,top:s.top*u,bottom:s.bottom*u}}function za(i){if(i.measure&&(i.measure.cache={},i.measure.heights=null,i.rest))for(var s=0;s<i.rest.length;s++)i.measure.caches[s]={}}function Mu(i){i.display.externalMeasure=null,N(i.display.lineMeasure);for(var s=0;s<i.display.view.length;s++)za(i.display.view[s])}function Ci(i){Mu(i),i.display.cachedCharWidth=i.display.cachedTextHeight=i.display.cachedPaddingH=null,i.options.lineWrapping||(i.display.maxLineChanged=!0),i.display.lineNumChars=null}function Lu(i){return w&&V?-(i.body.getBoundingClientRect().left-parseInt(getComputedStyle(i.body).marginLeft)):i.defaultView.pageXOffset||(i.documentElement||i.body).scrollLeft}function Wa(i){return w&&V?-(i.body.getBoundingClientRect().top-parseInt(getComputedStyle(i.body).marginTop)):i.defaultView.pageYOffset||(i.documentElement||i.body).scrollTop}function Ga(i){var s=Xe(i),c=s.widgets,u=0;if(c)for(var d=0;d<c.length;++d)c[d].above&&(u+=go(c[d]));return u}function Ns(i,s,c,u,d){if(!d){var g=Ga(s);c.top+=g,c.bottom+=g}if(u=="line")return c;u||(u="local");var y=ar(s);if(u=="local"?y+=ao(i.display):y-=i.display.viewOffset,u=="page"||u=="window"){var S=i.display.lineSpace.getBoundingClientRect();y+=S.top+(u=="window"?0:Wa(Ut(i)));var D=S.left+(u=="window"?0:Lu(Ut(i)));c.left+=D,c.right+=D}return c.top+=y,c.bottom+=y,c}function Du(i,s,c){if(c=="div")return s;var u=s.left,d=s.top;if(c=="page")u-=Lu(Ut(i)),d-=Wa(Ut(i));else if(c=="local"||!c){var g=i.display.sizer.getBoundingClientRect();u+=g.left,d+=g.top}var y=i.display.lineSpace.getBoundingClientRect();return{left:u-y.left,top:d-y.top}}function Fs(i,s,c,u,d){return u||(u=be(i.doc,s.line)),Ns(i,u,ce(i,u,s.ch,d),c)}function Dn(i,s,c,u,d,g){u=u||be(i.doc,s.line),d||(d=Me(i,u));function y(zt,Gt){var oe=dr(i,d,zt,Gt?"right":"left",g);return Gt?oe.left=oe.right:oe.right=oe.left,Ns(i,u,oe,c)}var S=$e(u,i.doc.direction),D=s.ch,W=s.sticky;if(D>=u.text.length?(D=u.text.length,W="before"):D<=0&&(D=0,W="after"),!S)return y(W=="before"?D-1:D,W=="before");function ft(zt,Gt,oe){var le=S[Gt],ge=le.level==1;return y(oe?zt-1:zt,ge!=oe)}var bt=tr(S,D,W),Dt=ye,Et=ft(D,bt,W=="before");return Dt!=null&&(Et.other=ft(D,Dt,W!="before")),Et}function kl(i,s){var c=0;s=xe(i.doc,s),i.options.lineWrapping||(c=na(i.display)*s.ch);var u=be(i.doc,s.line),d=ar(u)+ao(i.display);return{left:c,right:c,top:d,bottom:d+u.height}}function Al(i,s,c,u,d){var g=F(i,s,c);return g.xRel=d,u&&(g.outside=u),g}function Ml(i,s,c){var u=i.doc;if(c+=i.display.viewOffset,c<0)return Al(u.first,0,null,-1,-1);var d=tn(u,c),g=u.first+u.size-1;if(d>g)return Al(u.first+u.size-1,be(u,g).text.length,null,1,1);s<0&&(s=0);for(var y=be(u,d);;){var S=Sf(i,y,d,s,c),D=mn(y,S.ch+(S.xRel>0||S.outside>0?1:0));if(!D)return S;var W=D.find(1);if(W.line==d)return W;y=be(u,d=W.line)}}function ju(i,s,c,u){u-=Ga(s);var d=s.text.length,g=ze(function(y){return dr(i,c,y-1).bottom<=u},d,0);return d=ze(function(y){return dr(i,c,y).top>u},g,d),{begin:g,end:d}}function Ka(i,s,c,u){c||(c=Me(i,s));var d=Ns(i,s,dr(i,c,u),"line").top;return ju(i,s,c,d)}function Ll(i,s,c,u){return i.bottom<=c?!1:i.top>c?!0:(u?i.left:i.right)>s}function Sf(i,s,c,u,d){d-=ar(s);var g=Me(i,s),y=Ga(s),S=0,D=s.text.length,W=!0,ft=$e(s,i.doc.direction);if(ft){var bt=(i.options.lineWrapping?Hs:Of)(i,s,c,g,ft,u,d);W=bt.level!=1,S=W?bt.from:bt.to-1,D=W?bt.to:bt.from-1}var Dt=null,Et=null,zt=ze(function(Te){var Oe=dr(i,g,Te);return Oe.top+=y,Oe.bottom+=y,Ll(Oe,u,d,!1)?(Oe.top<=d&&Oe.left<=u&&(Dt=Te,Et=Oe),!0):!1},S,D),Gt,oe,le=!1;if(Et){var ge=u-Et.left<Et.right-u,ue=ge==W;zt=Dt+(ue?0:1),oe=ue?"after":"before",Gt=ge?Et.left:Et.right}else{!W&&(zt==D||zt==S)&&zt++,oe=zt==0?"after":zt==s.text.length?"before":dr(i,g,zt-(W?1:0)).bottom+y<=d==W?"after":"before";var me=Dn(i,F(c,zt,oe),"line",s,g);Gt=me.left,le=d<me.top?-1:d>=me.bottom?1:0}return zt=Ve(s.text,zt,1),Al(c,zt,oe,le,u-Gt)}function Of(i,s,c,u,d,g,y){var S=ze(function(bt){var Dt=d[bt],Et=Dt.level!=1;return Ll(Dn(i,F(c,Et?Dt.to:Dt.from,Et?"before":"after"),"line",s,u),g,y,!0)},0,d.length-1),D=d[S];if(S>0){var W=D.level!=1,ft=Dn(i,F(c,W?D.from:D.to,W?"after":"before"),"line",s,u);Ll(ft,g,y,!0)&&ft.top>y&&(D=d[S-1])}return D}function Hs(i,s,c,u,d,g,y){var S=ju(i,s,u,y),D=S.begin,W=S.end;/\s/.test(s.text.charAt(W-1))&&W--;for(var ft=null,bt=null,Dt=0;Dt<d.length;Dt++){var Et=d[Dt];if(!(Et.from>=W||Et.to<=D)){var zt=Et.level!=1,Gt=dr(i,u,zt?Math.min(W,Et.to)-1:Math.max(D,Et.from)).right,oe=Gt<g?g-Gt+1e9:Gt-g;(!ft||bt>oe)&&(ft=Et,bt=oe)}}return ft||(ft=d[d.length-1]),ft.from<D&&(ft={from:D,to:ft.to,level:ft.level}),ft.to>W&&(ft={from:ft.from,to:W,level:ft.level}),ft}var To;function ra(i){if(i.cachedTextHeight!=null)return i.cachedTextHeight;if(To==null){To=E("pre",null,"CodeMirror-line-like");for(var s=0;s<49;++s)To.appendChild(document.createTextNode("x")),To.appendChild(E("br"));To.appendChild(document.createTextNode("x"))}G(i.measure,To);var c=To.offsetHeight/50;return c>3&&(i.cachedTextHeight=c),N(i.measure),c||1}function na(i){if(i.cachedCharWidth!=null)return i.cachedCharWidth;var s=E("span","xxxxxxxxxx"),c=E("pre",[s],"CodeMirror-line-like");G(i.measure,c);var u=s.getBoundingClientRect(),d=(u.right-u.left)/10;return d>2&&(i.cachedCharWidth=d),d||10}function Dl(i){for(var s=i.display,c={},u={},d=s.gutters.clientLeft,g=s.gutters.firstChild,y=0;g;g=g.nextSibling,++y){var S=i.display.gutterSpecs[y].className;c[S]=g.offsetLeft+g.clientLeft+d,u[S]=g.clientWidth}return{fixedPos:oa(s),gutterTotalWidth:s.gutters.offsetWidth,gutterLeft:c,gutterWidth:u,wrapperWidth:s.wrapper.clientWidth}}function oa(i){return i.scroller.getBoundingClientRect().left-i.sizer.getBoundingClientRect().left}function Bs(i){var s=ra(i.display),c=i.options.lineWrapping,u=c&&Math.max(5,i.display.scroller.clientWidth/na(i.display)-3);return function(d){if(Tn(i.doc,d))return 0;var g=0;if(d.widgets)for(var y=0;y<d.widgets.length;y++)d.widgets[y].height&&(g+=d.widgets[y].height);return c?g+(Math.ceil(d.text.length/u)||1)*s:g+s}}function jl(i){var s=i.doc,c=Bs(i);s.iter(function(u){var d=c(u);d!=u.height&&Nr(u,d)})}function Ko(i,s,c,u){var d=i.display;if(!c&&he(s).getAttribute("cm-not-content")=="true")return null;var g,y,S=d.lineSpace.getBoundingClientRect();try{g=s.clientX-S.left,y=s.clientY-S.top}catch{return null}var D=Ml(i,g,y),W;if(u&&D.xRel>0&&(W=be(i.doc,D.line).text).length==D.ch){var ft=Ot(W,W.length,i.options.tabSize)-W.length;D=F(D.line,Math.max(0,Math.round((g-H(i.display).left)/na(i.display))-ft))}return D}function Si(i,s){if(s>=i.display.viewTo||(s-=i.display.viewFrom,s<0))return null;for(var c=i.display.view,u=0;u<c.length;u++)if(s-=c[u].size,s<0)return u}function rn(i,s,c,u){s==null&&(s=i.doc.first),c==null&&(c=i.doc.first+i.doc.size),u||(u=0);var d=i.display;if(u&&c<d.viewTo&&(d.updateLineNumbers==null||d.updateLineNumbers>s)&&(d.updateLineNumbers=s),i.curOp.viewChanged=!0,s>=d.viewTo)Ln&&Rn(i.doc,s)<d.viewTo&&qo(i);else if(c<=d.viewFrom)Ln&&So(i.doc,c+u)>d.viewFrom?qo(i):(d.viewFrom+=u,d.viewTo+=u);else if(s<=d.viewFrom&&c>=d.viewTo)qo(i);else if(s<=d.viewFrom){var g=Us(i,c,c+u,1);g?(d.view=d.view.slice(g.index),d.viewFrom=g.lineN,d.viewTo+=u):qo(i)}else if(c>=d.viewTo){var y=Us(i,s,s,-1);y?(d.view=d.view.slice(0,y.index),d.viewTo=y.lineN):qo(i)}else{var S=Us(i,s,s,-1),D=Us(i,c,c+u,1);S&&D?(d.view=d.view.slice(0,S.index).concat(Ji(i,S.lineN,D.lineN)).concat(d.view.slice(D.index)),d.viewTo+=u):qo(i)}var W=d.externalMeasured;W&&(c<W.lineN?W.lineN+=u:s<W.lineN+W.size&&(d.externalMeasured=null))}function $o(i,s,c){i.curOp.viewChanged=!0;var u=i.display,d=i.display.externalMeasured;if(d&&s>=d.lineN&&s<d.lineN+d.size&&(u.externalMeasured=null),!(s<u.viewFrom||s>=u.viewTo)){var g=u.view[Si(i,s)];if(g.node!=null){var y=g.changes||(g.changes=[]);Wt(y,c)==-1&&y.push(c)}}}function qo(i){i.display.viewFrom=i.display.viewTo=i.doc.first,i.display.view=[],i.display.viewOffset=0}function Us(i,s,c,u){var d=Si(i,s),g,y=i.display.view;if(!Ln||c==i.doc.first+i.doc.size)return{index:d,lineN:c};for(var S=i.display.viewFrom,D=0;D<d;D++)S+=y[D].size;if(S!=s){if(u>0){if(d==y.length-1)return null;g=S+y[d].size-s,d++}else g=S-s;s+=g,c+=g}for(;Rn(i.doc,c)!=c;){if(d==(u<0?0:y.length-1))return null;c+=u*y[d-(u<0?1:0)].size,d+=u}return{index:d,lineN:c}}function zs(i,s,c){var u=i.display,d=u.view;d.length==0||s>=u.viewTo||c<=u.viewFrom?(u.view=Ji(i,s,c),u.viewFrom=s):(u.viewFrom>s?u.view=Ji(i,s,u.viewFrom).concat(u.view):u.viewFrom<s&&(u.view=u.view.slice(Si(i,s))),u.viewFrom=s,u.viewTo<c?u.view=u.view.concat(Ji(i,u.viewTo,c)):u.viewTo>c&&(u.view=u.view.slice(0,Si(i,c)))),u.viewTo=c}function Ws(i){for(var s=i.display.view,c=0,u=0;u<s.length;u++){var d=s[u];!d.hidden&&(!d.node||d.changes)&&++c}return c}function $a(i){i.display.input.showSelection(i.display.input.prepareSelection())}function Iu(i,s){s===void 0&&(s=!0);var c=i.doc,u={},d=u.cursors=document.createDocumentFragment(),g=u.selection=document.createDocumentFragment(),y=i.options.$customCursor;y&&(s=!0);for(var S=0;S<c.sel.ranges.length;S++)if(!(!s&&S==c.sel.primIndex)){var D=c.sel.ranges[S];if(!(D.from().line>=i.display.viewTo||D.to().line<i.display.viewFrom)){var W=D.empty();if(y){var ft=y(i,D);ft&&Il(i,ft,d)}else(W||i.options.showCursorWhenSelecting)&&Il(i,D.head,d);W||Vl(i,D,g)}}return u}function Il(i,s,c){var u=Dn(i,s,"div",null,null,!i.options.singleCursorHeightPerLine),d=c.appendChild(E("div"," ","CodeMirror-cursor"));if(d.style.left=u.left+"px",d.style.top=u.top+"px",d.style.height=Math.max(0,u.bottom-u.top)*i.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(i.getWrapperElement().className)){var g=Fs(i,s,"div",null,null),y=g.right-g.left;d.style.width=(y>0?y:i.defaultCharWidth())+"px"}if(u.other){var S=c.appendChild(E("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));S.style.display="",S.style.left=u.other.left+"px",S.style.top=u.other.top+"px",S.style.height=(u.other.bottom-u.other.top)*.85+"px"}}function Oi(i,s){return i.top-s.top||i.left-s.left}function Vl(i,s,c){var u=i.display,d=i.doc,g=document.createDocumentFragment(),y=H(i.display),S=y.left,D=Math.max(u.sizerWidth,yt(i)-u.sizer.offsetLeft)-y.right,W=d.direction=="ltr";function ft(ue,me,Te,Oe){me<0&&(me=0),me=Math.round(me),Oe=Math.round(Oe),g.appendChild(E("div",null,"CodeMirror-selected","position: absolute; left: "+ue+`px;
                             top: `+me+"px; width: "+(Te??D-ue)+`px;
                             height: `+(Oe-me)+"px"))}function bt(ue,me,Te){var Oe=be(d,ue),We=Oe.text.length,gr,Zr;function Or(hr,kn){return Fs(i,F(ue,hr),"div",Oe,kn)}function nn(hr,kn,Yr){var Gr=Ka(i,Oe,null,hr),Br=kn=="ltr"==(Yr=="after")?"left":"right",Er=Yr=="after"?Gr.begin:Gr.end-(/\s/.test(Oe.text.charAt(Gr.end-1))?2:1);return Or(Er,Br)[Br]}var bn=$e(Oe,d.direction);return or(bn,me||0,Te??We,function(hr,kn,Yr,Gr){var Br=Yr=="ltr",Er=Or(hr,Br?"left":"right"),An=Or(kn-1,Br?"right":"left"),xa=me==null&&hr==0,ai=Te==null&&kn==We,on=Gr==0,Hn=!bn||Gr==bn.length-1;if(An.top-Er.top<=3){var Xr=(W?xa:ai)&&on,Vi=(W?ai:xa)&&Hn,Yn=Xr?S:(Br?Er:An).left,Ri=Vi?D:(Br?An:Er).right;ft(Yn,Er.top,Ri-Yn,Er.bottom)}else{var si,_n,Ca,fu;Br?(si=W&&xa&&on?S:Er.left,_n=W?D:nn(hr,Yr,"before"),Ca=W?S:nn(kn,Yr,"after"),fu=W&&ai&&Hn?D:An.right):(si=W?nn(hr,Yr,"before"):S,_n=!W&&xa&&on?D:Er.right,Ca=!W&&ai&&Hn?S:An.left,fu=W?nn(kn,Yr,"after"):D),ft(si,Er.top,_n-si,Er.bottom),Er.bottom<An.top&&ft(S,Er.bottom,null,An.top),ft(Ca,An.top,fu-Ca,An.bottom)}(!gr||Oi(Er,gr)<0)&&(gr=Er),Oi(An,gr)<0&&(gr=An),(!Zr||Oi(Er,Zr)<0)&&(Zr=Er),Oi(An,Zr)<0&&(Zr=An)}),{start:gr,end:Zr}}var Dt=s.from(),Et=s.to();if(Dt.line==Et.line)bt(Dt.line,Dt.ch,Et.ch);else{var zt=be(d,Dt.line),Gt=be(d,Et.line),oe=Xe(zt)==Xe(Gt),le=bt(Dt.line,Dt.ch,oe?zt.text.length+1:null).end,ge=bt(Et.line,oe?0:null,Et.ch).start;oe&&(le.top<ge.top-2?(ft(le.right,le.top,null,le.bottom),ft(S,ge.top,ge.left,ge.bottom)):ft(le.right,le.top,ge.left-le.right,le.bottom)),le.bottom<ge.top&&ft(S,le.bottom,null,ge.top)}c.appendChild(g)}function Rl(i){if(i.state.focused){var s=i.display;clearInterval(s.blinker);var c=!0;s.cursorDiv.style.visibility="",i.options.cursorBlinkRate>0?s.blinker=setInterval(function(){i.hasFocus()||aa(i),s.cursorDiv.style.visibility=(c=!c)?"":"hidden"},i.options.cursorBlinkRate):i.options.cursorBlinkRate<0&&(s.cursorDiv.style.visibility="hidden")}}function Gs(i){i.hasFocus()||(i.display.input.focus(),i.state.focused||ia(i))}function Nl(i){i.state.delayingBlurEvent=!0,setTimeout(function(){i.state.delayingBlurEvent&&(i.state.delayingBlurEvent=!1,i.state.focused&&aa(i))},100)}function ia(i,s){i.state.delayingBlurEvent&&!i.state.draggingText&&(i.state.delayingBlurEvent=!1),i.options.readOnly!="nocursor"&&(i.state.focused||(sr(i,"focus",i,s),i.state.focused=!0,Lt(i.display.wrapper,"CodeMirror-focused"),!i.curOp&&i.display.selForContextMenu!=i.doc.sel&&(i.display.input.reset(),m&&setTimeout(function(){return i.display.input.reset(!0)},20)),i.display.input.receivedFocus()),Rl(i))}function aa(i,s){i.state.delayingBlurEvent||(i.state.focused&&(sr(i,"blur",i,s),i.state.focused=!1,I(i.display.wrapper,"CodeMirror-focused")),clearInterval(i.display.blinker),setTimeout(function(){i.state.focused||(i.display.shift=!1)},150))}function Ks(i){for(var s=i.display,c=s.lineDiv.offsetTop,u=Math.max(0,s.scroller.getBoundingClientRect().top),d=s.lineDiv.getBoundingClientRect().top,g=0,y=0;y<s.view.length;y++){var S=s.view[y],D=i.options.lineWrapping,W=void 0,ft=0;if(!S.hidden){if(d+=S.line.height,C&&M<8){var bt=S.node.offsetTop+S.node.offsetHeight;W=bt-c,c=bt}else{var Dt=S.node.getBoundingClientRect();W=Dt.bottom-Dt.top,!D&&S.text.firstChild&&(ft=S.text.firstChild.getBoundingClientRect().right-Dt.left-1)}var Et=S.line.height-W;if((Et>.005||Et<-.005)&&(d<u&&(g-=Et),Nr(S.line,W),Vu(S.line),S.rest))for(var zt=0;zt<S.rest.length;zt++)Vu(S.rest[zt]);if(ft>i.display.sizerWidth){var Gt=Math.ceil(ft/na(i.display));Gt>i.display.maxLineLength&&(i.display.maxLineLength=Gt,i.display.maxLine=S.line,i.display.maxLineChanged=!0)}}}Math.abs(g)>2&&(s.scroller.scrollTop+=g)}function Vu(i){if(i.widgets)for(var s=0;s<i.widgets.length;++s){var c=i.widgets[s],u=c.node.parentNode;u&&(c.height=u.offsetHeight)}}function Ti(i,s,c){var u=c&&c.top!=null?Math.max(0,c.top):i.scroller.scrollTop;u=Math.floor(u-ao(i));var d=c&&c.bottom!=null?c.bottom:u+i.wrapper.clientHeight,g=tn(s,u),y=tn(s,d);if(c&&c.ensure){var S=c.ensure.from.line,D=c.ensure.to.line;S<g?(g=S,y=tn(s,ar(be(s,S))+i.wrapper.clientHeight)):Math.min(D,s.lastLine())>=y&&(g=tn(s,ar(be(s,D))-i.wrapper.clientHeight),y=D)}return{from:g,to:Math.max(y,g+1)}}function Fl(i,s){if(!cr(i,"scrollCursorIntoView")){var c=i.display,u=c.sizer.getBoundingClientRect(),d=null,g=c.wrapper.ownerDocument;if(s.top+u.top<0?d=!0:s.bottom+u.top>(g.defaultView.innerHeight||g.documentElement.clientHeight)&&(d=!1),d!=null&&!X){var y=E("div","​",null,`position: absolute;
                         top: `+(s.top-c.viewOffset-ao(i.display))+`px;
                         height: `+(s.bottom-s.top+Y(i)+c.barHeight)+`px;
                         left: `+s.left+"px; width: "+Math.max(2,s.right-s.left)+"px;");i.display.lineSpace.appendChild(y),y.scrollIntoView(d),i.display.lineSpace.removeChild(y)}}}function Tf(i,s,c,u){u==null&&(u=0);var d;!i.options.lineWrapping&&s==c&&(c=s.sticky=="before"?F(s.line,s.ch+1,"before"):s,s=s.ch?F(s.line,s.sticky=="before"?s.ch-1:s.ch,"after"):s);for(var g=0;g<5;g++){var y=!1,S=Dn(i,s),D=!c||c==s?S:Dn(i,c);d={left:Math.min(S.left,D.left),top:Math.min(S.top,D.top)-u,right:Math.max(S.left,D.left),bottom:Math.max(S.bottom,D.bottom)+u};var W=Hl(i,d),ft=i.doc.scrollTop,bt=i.doc.scrollLeft;if(W.scrollTop!=null&&(la(i,W.scrollTop),Math.abs(i.doc.scrollTop-ft)>1&&(y=!0)),W.scrollLeft!=null&&(Ei(i,W.scrollLeft),Math.abs(i.doc.scrollLeft-bt)>1&&(y=!0)),!y)break}return d}function Ef(i,s){var c=Hl(i,s);c.scrollTop!=null&&la(i,c.scrollTop),c.scrollLeft!=null&&Ei(i,c.scrollLeft)}function Hl(i,s){var c=i.display,u=ra(i.display);s.top<0&&(s.top=0);var d=i.curOp&&i.curOp.scrollTop!=null?i.curOp.scrollTop:c.scroller.scrollTop,g=xt(i),y={};s.bottom-s.top>g&&(s.bottom=s.top+g);var S=i.doc.height+Ua(c),D=s.top<u,W=s.bottom>S-u;if(s.top<d)y.scrollTop=D?0:s.top;else if(s.bottom>d+g){var ft=Math.min(s.top,(W?S:s.bottom)-g);ft!=d&&(y.scrollTop=ft)}var bt=i.options.fixedGutter?0:c.gutters.offsetWidth,Dt=i.curOp&&i.curOp.scrollLeft!=null?i.curOp.scrollLeft:c.scroller.scrollLeft-bt,Et=yt(i)-c.gutters.offsetWidth,zt=s.right-s.left>Et;return zt&&(s.right=s.left+Et),s.left<10?y.scrollLeft=0:s.left<Dt?y.scrollLeft=Math.max(0,s.left+bt-(zt?0:10)):s.right>Et+Dt-3&&(y.scrollLeft=s.right+(zt?0:10)-Et),y}function sa(i,s){s!=null&&($s(i),i.curOp.scrollTop=(i.curOp.scrollTop==null?i.doc.scrollTop:i.curOp.scrollTop)+s)}function Zo(i){$s(i);var s=i.getCursor();i.curOp.scrollToPos={from:s,to:s,margin:i.options.cursorScrollMargin}}function qa(i,s,c){(s!=null||c!=null)&&$s(i),s!=null&&(i.curOp.scrollLeft=s),c!=null&&(i.curOp.scrollTop=c)}function Pf(i,s){$s(i),i.curOp.scrollToPos=s}function $s(i){var s=i.curOp.scrollToPos;if(s){i.curOp.scrollToPos=null;var c=kl(i,s.from),u=kl(i,s.to);Za(i,c,u,s.margin)}}function Za(i,s,c,u){var d=Hl(i,{left:Math.min(s.left,c.left),top:Math.min(s.top,c.top)-u,right:Math.max(s.right,c.right),bottom:Math.max(s.bottom,c.bottom)+u});qa(i,d.scrollLeft,d.scrollTop)}function la(i,s){Math.abs(i.doc.scrollTop-s)<2||(ht||Wl(i,{top:s}),Ru(i,s,!0),ht&&Wl(i),Sr(i,100))}function Ru(i,s,c){s=Math.max(0,Math.min(i.display.scroller.scrollHeight-i.display.scroller.clientHeight,s)),!(i.display.scroller.scrollTop==s&&!c)&&(i.doc.scrollTop=s,i.display.scrollbars.setScrollTop(s),i.display.scroller.scrollTop!=s&&(i.display.scroller.scrollTop=s))}function Ei(i,s,c,u){s=Math.max(0,Math.min(s,i.display.scroller.scrollWidth-i.display.scroller.clientWidth)),!((c?s==i.doc.scrollLeft:Math.abs(i.doc.scrollLeft-s)<2)&&!u)&&(i.doc.scrollLeft=s,Ys(i),i.display.scroller.scrollLeft!=s&&(i.display.scroller.scrollLeft=s),i.display.scrollbars.setScrollLeft(s))}function Ya(i){var s=i.display,c=s.gutters.offsetWidth,u=Math.round(i.doc.height+Ua(i.display));return{clientHeight:s.scroller.clientHeight,viewHeight:s.wrapper.clientHeight,scrollWidth:s.scroller.scrollWidth,clientWidth:s.scroller.clientWidth,viewWidth:s.wrapper.clientWidth,barLeft:i.options.fixedGutter?c:0,docHeight:u,scrollHeight:u+Y(i)+s.barHeight,nativeBarWidth:s.nativeBarWidth,gutterWidth:c}}var mo=function(i,s,c){this.cm=c;var u=this.vert=E("div",[E("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),d=this.horiz=E("div",[E("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");u.tabIndex=d.tabIndex=-1,i(u),i(d),_e(u,"scroll",function(){u.clientHeight&&s(u.scrollTop,"vertical")}),_e(d,"scroll",function(){d.clientWidth&&s(d.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,C&&M<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};mo.prototype.update=function(i){var s=i.scrollWidth>i.clientWidth+1,c=i.scrollHeight>i.clientHeight+1,u=i.nativeBarWidth;if(c){this.vert.style.display="block",this.vert.style.bottom=s?u+"px":"0";var d=i.viewHeight-(s?u:0);this.vert.firstChild.style.height=Math.max(0,i.scrollHeight-i.clientHeight+d)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(s){this.horiz.style.display="block",this.horiz.style.right=c?u+"px":"0",this.horiz.style.left=i.barLeft+"px";var g=i.viewWidth-i.barLeft-(c?u:0);this.horiz.firstChild.style.width=Math.max(0,i.scrollWidth-i.clientWidth+g)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&i.clientHeight>0&&(u==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:c?u:0,bottom:s?u:0}},mo.prototype.setScrollLeft=function(i){this.horiz.scrollLeft!=i&&(this.horiz.scrollLeft=i),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},mo.prototype.setScrollTop=function(i){this.vert.scrollTop!=i&&(this.vert.scrollTop=i),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},mo.prototype.zeroWidthHack=function(){var i=k&&!Q?"12px":"18px";this.horiz.style.height=this.vert.style.width=i,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new Rt,this.disableVert=new Rt},mo.prototype.enableZeroWidthBar=function(i,s,c){i.style.visibility="";function u(){var d=i.getBoundingClientRect(),g=c=="vert"?document.elementFromPoint(d.right-1,(d.top+d.bottom)/2):document.elementFromPoint((d.right+d.left)/2,d.bottom-1);g!=i?i.style.visibility="hidden":s.set(1e3,u)}s.set(1e3,u)},mo.prototype.clear=function(){var i=this.horiz.parentNode;i.removeChild(this.horiz),i.removeChild(this.vert)};var Pi=function(){};Pi.prototype.update=function(){return{bottom:0,right:0}},Pi.prototype.setScrollLeft=function(){},Pi.prototype.setScrollTop=function(){},Pi.prototype.clear=function(){};function so(i,s){s||(s=Ya(i));var c=i.display.barWidth,u=i.display.barHeight;ki(i,s);for(var d=0;d<4&&c!=i.display.barWidth||u!=i.display.barHeight;d++)c!=i.display.barWidth&&i.options.lineWrapping&&Ks(i),ki(i,Ya(i)),c=i.display.barWidth,u=i.display.barHeight}function ki(i,s){var c=i.display,u=c.scrollbars.update(s);c.sizer.style.paddingRight=(c.barWidth=u.right)+"px",c.sizer.style.paddingBottom=(c.barHeight=u.bottom)+"px",c.heightForcer.style.borderBottom=u.bottom+"px solid transparent",u.right&&u.bottom?(c.scrollbarFiller.style.display="block",c.scrollbarFiller.style.height=u.bottom+"px",c.scrollbarFiller.style.width=u.right+"px"):c.scrollbarFiller.style.display="",u.bottom&&i.options.coverGutterNextToScrollbar&&i.options.fixedGutter?(c.gutterFiller.style.display="block",c.gutterFiller.style.height=u.bottom+"px",c.gutterFiller.style.width=s.gutterWidth+"px"):c.gutterFiller.style.display=""}var Ai={native:mo,null:Pi};function Bl(i){i.display.scrollbars&&(i.display.scrollbars.clear(),i.display.scrollbars.addClass&&I(i.display.wrapper,i.display.scrollbars.addClass)),i.display.scrollbars=new Ai[i.options.scrollbarStyle](function(s){i.display.wrapper.insertBefore(s,i.display.scrollbarFiller),_e(s,"mousedown",function(){i.state.focused&&setTimeout(function(){return i.display.input.focus()},0)}),s.setAttribute("cm-not-content","true")},function(s,c){c=="horizontal"?Ei(i,s):la(i,s)},i),i.display.scrollbars.addClass&&Lt(i.display.wrapper,i.display.scrollbars.addClass)}var Ul=0;function Mi(i){i.curOp={cm:i,viewChanged:!1,startHeight:i.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Ul,markArrays:null},Ds(i.curOp)}function Li(i){var s=i.curOp;s&&zo(s,function(c){for(var u=0;u<c.ops.length;u++)c.ops[u].cm.curOp=null;kf(c)})}function kf(i){for(var s=i.ops,c=0;c<s.length;c++)qs(s[c]);for(var u=0;u<s.length;u++)Af(s[u]);for(var d=0;d<s.length;d++)Mf(s[d]);for(var g=0;g<s.length;g++)Lf(s[g]);for(var y=0;y<s.length;y++)Df(s[y])}function qs(i){var s=i.cm,c=s.display;Nu(s),i.updateMaxLine&&ro(s),i.mustUpdate=i.viewChanged||i.forceUpdate||i.scrollTop!=null||i.scrollToPos&&(i.scrollToPos.from.line<c.viewFrom||i.scrollToPos.to.line>=c.viewTo)||c.maxLineChanged&&s.options.lineWrapping,i.update=i.mustUpdate&&new Zs(s,i.mustUpdate&&{top:i.scrollTop,ensure:i.scrollToPos},i.forceUpdate)}function Af(i){i.updatedDisplay=i.mustUpdate&&zl(i.cm,i.update)}function Mf(i){var s=i.cm,c=s.display;i.updatedDisplay&&Ks(s),i.barMeasure=Ya(s),c.maxLineChanged&&!s.options.lineWrapping&&(i.adjustWidthTo=ce(s,c.maxLine,c.maxLine.text.length).left+3,s.display.sizerWidth=i.adjustWidthTo,i.barMeasure.scrollWidth=Math.max(c.scroller.clientWidth,c.sizer.offsetLeft+i.adjustWidthTo+Y(s)+s.display.barWidth),i.maxScrollLeft=Math.max(0,c.sizer.offsetLeft+i.adjustWidthTo-yt(s))),(i.updatedDisplay||i.selectionChanged)&&(i.preparedSelection=c.input.prepareSelection())}function Lf(i){var s=i.cm;i.adjustWidthTo!=null&&(s.display.sizer.style.minWidth=i.adjustWidthTo+"px",i.maxScrollLeft<s.doc.scrollLeft&&Ei(s,Math.min(s.display.scroller.scrollLeft,i.maxScrollLeft),!0),s.display.maxLineChanged=!1);var c=i.focus&&i.focus==at(Ut(s));i.preparedSelection&&s.display.input.showSelection(i.preparedSelection,c),(i.updatedDisplay||i.startHeight!=s.doc.height)&&so(s,i.barMeasure),i.updatedDisplay&&Kl(s,i.barMeasure),i.selectionChanged&&Rl(s),s.state.focused&&i.updateInput&&s.display.input.reset(i.typing),c&&Gs(i.cm)}function Df(i){var s=i.cm,c=s.display,u=s.doc;if(i.updatedDisplay&&Fu(s,i.update),c.wheelStartX!=null&&(i.scrollTop!=null||i.scrollLeft!=null||i.scrollToPos)&&(c.wheelStartX=c.wheelStartY=null),i.scrollTop!=null&&Ru(s,i.scrollTop,i.forceScroll),i.scrollLeft!=null&&Ei(s,i.scrollLeft,!0,!0),i.scrollToPos){var d=Tf(s,xe(u,i.scrollToPos.from),xe(u,i.scrollToPos.to),i.scrollToPos.margin);Fl(s,d)}var g=i.maybeHiddenMarkers,y=i.maybeUnhiddenMarkers;if(g)for(var S=0;S<g.length;++S)g[S].lines.length||sr(g[S],"hide");if(y)for(var D=0;D<y.length;++D)y[D].lines.length&&sr(y[D],"unhide");c.wrapper.offsetHeight&&(u.scrollTop=s.display.scroller.scrollTop),i.changeObjs&&sr(s,"changes",s,i.changeObjs),i.update&&i.update.finish()}function En(i,s){if(i.curOp)return s();Mi(i);try{return s()}finally{Li(i)}}function $r(i,s){return function(){if(i.curOp)return s.apply(i,arguments);Mi(i);try{return s.apply(i,arguments)}finally{Li(i)}}}function _r(i){return function(){if(this.curOp)return i.apply(this,arguments);Mi(this);try{return i.apply(this,arguments)}finally{Li(this)}}}function qr(i){return function(){var s=this.cm;if(!s||s.curOp)return i.apply(this,arguments);Mi(s);try{return i.apply(this,arguments)}finally{Li(s)}}}function Sr(i,s){i.doc.highlightFrontier<i.display.viewTo&&i.state.highlight.set(s,Bt(jf,i))}function jf(i){var s=i.doc;if(!(s.highlightFrontier>=i.display.viewTo)){var c=+new Date+i.options.workTime,u=Qn(i,s.highlightFrontier),d=[];s.iter(u.line,Math.min(s.first+s.size,i.display.viewTo+500),function(g){if(u.line>=i.display.viewFrom){var y=g.styles,S=g.text.length>i.options.maxHighlightLength?Mn(s.mode,u.state):null,D=Gi(i,g,u,!0);S&&(u.state=S),g.styles=D.styles;var W=g.styleClasses,ft=D.classes;ft?g.styleClasses=ft:W&&(g.styleClasses=null);for(var bt=!y||y.length!=g.styles.length||W!=ft&&(!W||!ft||W.bgClass!=ft.bgClass||W.textClass!=ft.textClass),Dt=0;!bt&&Dt<y.length;++Dt)bt=y[Dt]!=g.styles[Dt];bt&&d.push(u.line),g.stateAfter=u.save(),u.nextLine()}else g.text.length<=i.options.maxHighlightLength&&Ki(i,g.text,u),g.stateAfter=u.line%5==0?u.save():null,u.nextLine();if(+new Date>c)return Sr(i,i.options.workDelay),!0}),s.highlightFrontier=u.line,s.modeFrontier=Math.max(s.modeFrontier,u.line),d.length&&En(i,function(){for(var g=0;g<d.length;g++)$o(i,d[g],"text")})}}var Zs=function(i,s,c){var u=i.display;this.viewport=s,this.visible=Ti(u,i.doc,s),this.editorIsHidden=!u.wrapper.offsetWidth,this.wrapperHeight=u.wrapper.clientHeight,this.wrapperWidth=u.wrapper.clientWidth,this.oldDisplayWidth=yt(i),this.force=c,this.dims=Dl(i),this.events=[]};Zs.prototype.signal=function(i,s){te(i,s)&&this.events.push(arguments)},Zs.prototype.finish=function(){for(var i=0;i<this.events.length;i++)sr.apply(null,this.events[i])};function Nu(i){var s=i.display;!s.scrollbarsClipped&&s.scroller.offsetWidth&&(s.nativeBarWidth=s.scroller.offsetWidth-s.scroller.clientWidth,s.heightForcer.style.height=Y(i)+"px",s.sizer.style.marginBottom=-s.nativeBarWidth+"px",s.sizer.style.borderRightWidth=Y(i)+"px",s.scrollbarsClipped=!0)}function If(i){if(i.hasFocus())return null;var s=at(Ut(i));if(!s||!gt(i.display.lineDiv,s))return null;var c={activeElt:s};if(window.getSelection){var u=Yt(i).getSelection();u.anchorNode&&u.extend&&gt(i.display.lineDiv,u.anchorNode)&&(c.anchorNode=u.anchorNode,c.anchorOffset=u.anchorOffset,c.focusNode=u.focusNode,c.focusOffset=u.focusOffset)}return c}function Vf(i){if(!(!i||!i.activeElt||i.activeElt==at(i.activeElt.ownerDocument))&&(i.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(i.activeElt.nodeName)&&i.anchorNode&&gt(document.body,i.anchorNode)&&gt(document.body,i.focusNode))){var s=i.activeElt.ownerDocument,c=s.defaultView.getSelection(),u=s.createRange();u.setEnd(i.anchorNode,i.anchorOffset),u.collapse(!1),c.removeAllRanges(),c.addRange(u),c.extend(i.focusNode,i.focusOffset)}}function zl(i,s){var c=i.display,u=i.doc;if(s.editorIsHidden)return qo(i),!1;if(!s.force&&s.visible.from>=c.viewFrom&&s.visible.to<=c.viewTo&&(c.updateLineNumbers==null||c.updateLineNumbers>=c.viewTo)&&c.renderedView==c.view&&Ws(i)==0)return!1;Hu(i)&&(qo(i),s.dims=Dl(i));var d=u.first+u.size,g=Math.max(s.visible.from-i.options.viewportMargin,u.first),y=Math.min(d,s.visible.to+i.options.viewportMargin);c.viewFrom<g&&g-c.viewFrom<20&&(g=Math.max(u.first,c.viewFrom)),c.viewTo>y&&c.viewTo-y<20&&(y=Math.min(d,c.viewTo)),Ln&&(g=Rn(i.doc,g),y=So(i.doc,y));var S=g!=c.viewFrom||y!=c.viewTo||c.lastWrapHeight!=s.wrapperHeight||c.lastWrapWidth!=s.wrapperWidth;zs(i,g,y),c.viewOffset=ar(be(i.doc,c.viewFrom)),i.display.mover.style.top=c.viewOffset+"px";var D=Ws(i);if(!S&&D==0&&!s.force&&c.renderedView==c.view&&(c.updateLineNumbers==null||c.updateLineNumbers>=c.viewTo))return!1;var W=If(i);return D>4&&(c.lineDiv.style.display="none"),Rf(i,c.updateLineNumbers,s.dims),D>4&&(c.lineDiv.style.display=""),c.renderedView=c.view,Vf(W),N(c.cursorDiv),N(c.selectionDiv),c.gutters.style.height=c.sizer.style.minHeight=0,S&&(c.lastWrapHeight=s.wrapperHeight,c.lastWrapWidth=s.wrapperWidth,Sr(i,400)),c.updateLineNumbers=null,!0}function Fu(i,s){for(var c=s.viewport,u=!0;;u=!1){if(!u||!i.options.lineWrapping||s.oldDisplayWidth==yt(i)){if(c&&c.top!=null&&(c={top:Math.min(i.doc.height+Ua(i.display)-xt(i),c.top)}),s.visible=Ti(i.display,i.doc,c),s.visible.from>=i.display.viewFrom&&s.visible.to<=i.display.viewTo)break}else u&&(s.visible=Ti(i.display,i.doc,c));if(!zl(i,s))break;Ks(i);var d=Ya(i);$a(i),so(i,d),Kl(i,d),s.force=!1}s.signal(i,"update",i),(i.display.viewFrom!=i.display.reportedViewFrom||i.display.viewTo!=i.display.reportedViewTo)&&(s.signal(i,"viewportChange",i,i.display.viewFrom,i.display.viewTo),i.display.reportedViewFrom=i.display.viewFrom,i.display.reportedViewTo=i.display.viewTo)}function Wl(i,s){var c=new Zs(i,s);if(zl(i,c)){Ks(i),Fu(i,c);var u=Ya(i);$a(i),so(i,u),Kl(i,u),c.finish()}}function Rf(i,s,c){var u=i.display,d=i.options.lineNumbers,g=u.lineDiv,y=g.firstChild;function S(zt){var Gt=zt.nextSibling;return m&&k&&i.display.currentWheelTarget==zt?zt.style.display="none":zt.parentNode.removeChild(zt),Gt}for(var D=u.view,W=u.viewFrom,ft=0;ft<D.length;ft++){var bt=D[ft];if(!bt.hidden)if(!bt.node||bt.node.parentNode!=g){var Dt=vo(i,bt,W,c);g.insertBefore(Dt,y)}else{for(;y!=bt.node;)y=S(y);var Et=d&&s!=null&&s<=W&&bt.lineNumber;bt.changes&&(Wt(bt.changes,"gutter")>-1&&(Et=!1),Na(i,bt,W,c)),Et&&(N(bt.lineNumber),bt.lineNumber.appendChild(document.createTextNode(gn(i.options,W)))),y=bt.node.nextSibling}W+=bt.size}for(;y;)y=S(y)}function Gl(i){var s=i.gutters.offsetWidth;i.sizer.style.marginLeft=s+"px",Ir(i,"gutterChanged",i)}function Kl(i,s){i.display.sizer.style.minHeight=s.docHeight+"px",i.display.heightForcer.style.top=s.docHeight+"px",i.display.gutters.style.height=s.docHeight+i.display.barHeight+Y(i)+"px"}function Ys(i){var s=i.display,c=s.view;if(!(!s.alignWidgets&&(!s.gutters.firstChild||!i.options.fixedGutter))){for(var u=oa(s)-s.scroller.scrollLeft+i.doc.scrollLeft,d=s.gutters.offsetWidth,g=u+"px",y=0;y<c.length;y++)if(!c[y].hidden){i.options.fixedGutter&&(c[y].gutter&&(c[y].gutter.style.left=g),c[y].gutterBackground&&(c[y].gutterBackground.style.left=g));var S=c[y].alignable;if(S)for(var D=0;D<S.length;D++)S[D].style.left=g}i.options.fixedGutter&&(s.gutters.style.left=u+d+"px")}}function Hu(i){if(!i.options.lineNumbers)return!1;var s=i.doc,c=gn(i.options,s.first+s.size-1),u=i.display;if(c.length!=u.lineNumChars){var d=u.measure.appendChild(E("div",[E("div",c)],"CodeMirror-linenumber CodeMirror-gutter-elt")),g=d.firstChild.offsetWidth,y=d.offsetWidth-g;return u.lineGutter.style.width="",u.lineNumInnerWidth=Math.max(g,u.lineGutter.offsetWidth-y)+1,u.lineNumWidth=u.lineNumInnerWidth+y,u.lineNumChars=u.lineNumInnerWidth?c.length:-1,u.lineGutter.style.width=u.lineNumWidth+"px",Gl(i.display),!0}return!1}function Di(i,s){for(var c=[],u=!1,d=0;d<i.length;d++){var g=i[d],y=null;if(typeof g!="string"&&(y=g.style,g=g.className),g=="CodeMirror-linenumbers")if(s)u=!0;else continue;c.push({className:g,style:y})}return s&&!u&&c.push({className:"CodeMirror-linenumbers",style:null}),c}function Xa(i){var s=i.gutters,c=i.gutterSpecs;N(s),i.lineGutter=null;for(var u=0;u<c.length;++u){var d=c[u],g=d.className,y=d.style,S=s.appendChild(E("div",null,"CodeMirror-gutter "+g));y&&(S.style.cssText=y),g=="CodeMirror-linenumbers"&&(i.lineGutter=S,S.style.width=(i.lineNumWidth||1)+"px")}s.style.display=c.length?"":"none",Gl(i)}function Yo(i){Xa(i.display),rn(i),Ys(i)}function Nf(i,s,c,u){var d=this;this.input=c,d.scrollbarFiller=E("div",null,"CodeMirror-scrollbar-filler"),d.scrollbarFiller.setAttribute("cm-not-content","true"),d.gutterFiller=E("div",null,"CodeMirror-gutter-filler"),d.gutterFiller.setAttribute("cm-not-content","true"),d.lineDiv=$("div",null,"CodeMirror-code"),d.selectionDiv=E("div",null,null,"position: relative; z-index: 1"),d.cursorDiv=E("div",null,"CodeMirror-cursors"),d.measure=E("div",null,"CodeMirror-measure"),d.lineMeasure=E("div",null,"CodeMirror-measure"),d.lineSpace=$("div",[d.measure,d.lineMeasure,d.selectionDiv,d.cursorDiv,d.lineDiv],null,"position: relative; outline: none");var g=$("div",[d.lineSpace],"CodeMirror-lines");d.mover=E("div",[g],null,"position: relative"),d.sizer=E("div",[d.mover],"CodeMirror-sizer"),d.sizerWidth=null,d.heightForcer=E("div",null,null,"position: absolute; height: "+ae+"px; width: 1px;"),d.gutters=E("div",null,"CodeMirror-gutters"),d.lineGutter=null,d.scroller=E("div",[d.sizer,d.heightForcer,d.gutters],"CodeMirror-scroll"),d.scroller.setAttribute("tabIndex","-1"),d.wrapper=E("div",[d.scrollbarFiller,d.gutterFiller,d.scroller],"CodeMirror"),w&&_>=105&&(d.wrapper.style.clipPath="inset(0px)"),d.wrapper.setAttribute("translate","no"),C&&M<8&&(d.gutters.style.zIndex=-1,d.scroller.style.paddingRight=0),!m&&!(ht&&j)&&(d.scroller.draggable=!0),i&&(i.appendChild?i.appendChild(d.wrapper):i(d.wrapper)),d.viewFrom=d.viewTo=s.first,d.reportedViewFrom=d.reportedViewTo=s.first,d.view=[],d.renderedView=null,d.externalMeasured=null,d.viewOffset=0,d.lastWrapHeight=d.lastWrapWidth=0,d.updateLineNumbers=null,d.nativeBarWidth=d.barHeight=d.barWidth=0,d.scrollbarsClipped=!1,d.lineNumWidth=d.lineNumInnerWidth=d.lineNumChars=null,d.alignWidgets=!1,d.cachedCharWidth=d.cachedTextHeight=d.cachedPaddingH=null,d.maxLine=null,d.maxLineLength=0,d.maxLineChanged=!1,d.wheelDX=d.wheelDY=d.wheelStartX=d.wheelStartY=null,d.shift=!1,d.selForContextMenu=null,d.activeTouch=null,d.gutterSpecs=Di(u.gutters,u.lineNumbers),Xa(d),c.init(d)}var Ja=0,Eo=null;C?Eo=-.53:ht?Eo=15:w?Eo=-.7:L&&(Eo=-1/3);function Bu(i){var s=i.wheelDeltaX,c=i.wheelDeltaY;return s==null&&i.detail&&i.axis==i.HORIZONTAL_AXIS&&(s=i.detail),c==null&&i.detail&&i.axis==i.VERTICAL_AXIS?c=i.detail:c==null&&(c=i.wheelDelta),{x:s,y:c}}function Uu(i){var s=Bu(i);return s.x*=Eo,s.y*=Eo,s}function zu(i,s){w&&_==102&&(i.display.chromeScrollHack==null?i.display.sizer.style.pointerEvents="none":clearTimeout(i.display.chromeScrollHack),i.display.chromeScrollHack=setTimeout(function(){i.display.chromeScrollHack=null,i.display.sizer.style.pointerEvents=""},100));var c=Bu(s),u=c.x,d=c.y,g=Eo;s.deltaMode===0&&(u=s.deltaX,d=s.deltaY,g=1);var y=i.display,S=y.scroller,D=S.scrollWidth>S.clientWidth,W=S.scrollHeight>S.clientHeight;if(u&&D||d&&W){if(d&&k&&m){t:for(var ft=s.target,bt=y.view;ft!=S;ft=ft.parentNode)for(var Dt=0;Dt<bt.length;Dt++)if(bt[Dt].node==ft){i.display.currentWheelTarget=ft;break t}}if(u&&!ht&&!O&&g!=null){d&&W&&la(i,Math.max(0,S.scrollTop+d*g)),Ei(i,Math.max(0,S.scrollLeft+u*g)),(!d||d&&W)&&nt(s),y.wheelStartX=null;return}if(d&&g!=null){var Et=d*g,zt=i.doc.scrollTop,Gt=zt+y.wrapper.clientHeight;Et<0?zt=Math.max(0,zt+Et-50):Gt=Math.min(i.doc.height,Gt+Et+50),Wl(i,{top:zt,bottom:Gt})}Ja<20&&s.deltaMode!==0&&(y.wheelStartX==null?(y.wheelStartX=S.scrollLeft,y.wheelStartY=S.scrollTop,y.wheelDX=u,y.wheelDY=d,setTimeout(function(){if(y.wheelStartX!=null){var oe=S.scrollLeft-y.wheelStartX,le=S.scrollTop-y.wheelStartY,ge=le&&y.wheelDY&&le/y.wheelDY||oe&&y.wheelDX&&oe/y.wheelDX;y.wheelStartX=y.wheelStartY=null,ge&&(Eo=(Eo*Ja+ge)/(Ja+1),++Ja)}},200)):(y.wheelDX+=u,y.wheelDY+=d))}}var Nn=function(i,s){this.ranges=i,this.primIndex=s};Nn.prototype.primary=function(){return this.ranges[this.primIndex]},Nn.prototype.equals=function(i){if(i==this)return!0;if(i.primIndex!=this.primIndex||i.ranges.length!=this.ranges.length)return!1;for(var s=0;s<this.ranges.length;s++){var c=this.ranges[s],u=i.ranges[s];if(!Kt(c.anchor,u.anchor)||!Kt(c.head,u.head))return!1}return!0},Nn.prototype.deepCopy=function(){for(var i=[],s=0;s<this.ranges.length;s++)i[s]=new lr(ee(this.ranges[s].anchor),ee(this.ranges[s].head));return new Nn(i,this.primIndex)},Nn.prototype.somethingSelected=function(){for(var i=0;i<this.ranges.length;i++)if(!this.ranges[i].empty())return!0;return!1},Nn.prototype.contains=function(i,s){s||(s=i);for(var c=0;c<this.ranges.length;c++){var u=this.ranges[c];if(lt(s,u.from())>=0&&lt(i,u.to())<=0)return c}return-1};var lr=function(i,s){this.anchor=i,this.head=s};lr.prototype.from=function(){return Ye(this.anchor,this.head)},lr.prototype.to=function(){return je(this.anchor,this.head)},lr.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function lo(i,s,c){var u=i&&i.options.selectionsMayTouch,d=s[c];s.sort(function(Dt,Et){return lt(Dt.from(),Et.from())}),c=Wt(s,d);for(var g=1;g<s.length;g++){var y=s[g],S=s[g-1],D=lt(S.to(),y.from());if(u&&!y.empty()?D>0:D>=0){var W=Ye(S.from(),y.from()),ft=je(S.to(),y.to()),bt=S.empty()?y.from()==y.head:S.from()==S.head;g<=c&&--c,s.splice(--g,2,new lr(bt?ft:W,bt?W:ft))}}return new Nn(s,c)}function Xo(i,s){return new Nn([new lr(i,s||i)],0)}function Jo(i){return i.text?F(i.from.line+i.text.length-1,ve(i.text).length+(i.text.length==1?i.from.ch:0)):i.to}function Wu(i,s){if(lt(i,s.from)<0)return i;if(lt(i,s.to)<=0)return Jo(s);var c=i.line+s.text.length-(s.to.line-s.from.line)-1,u=i.ch;return i.line==s.to.line&&(u+=Jo(s).ch-s.to.ch),F(c,u)}function $l(i,s){for(var c=[],u=0;u<i.sel.ranges.length;u++){var d=i.sel.ranges[u];c.push(new lr(Wu(d.anchor,s),Wu(d.head,s)))}return lo(i.cm,c,i.sel.primIndex)}function Gu(i,s,c){return i.line==s.line?F(c.line,i.ch-s.ch+c.ch):F(c.line+(i.line-s.line),i.ch)}function Ff(i,s,c){for(var u=[],d=F(i.first,0),g=d,y=0;y<s.length;y++){var S=s[y],D=Gu(S.from,d,g),W=Gu(Jo(S),d,g);if(d=S.to,g=W,c=="around"){var ft=i.sel.ranges[y],bt=lt(ft.head,ft.anchor)<0;u[y]=new lr(bt?W:D,bt?D:W)}else u[y]=new lr(D,D)}return new Nn(u,i.sel.primIndex)}function ql(i){i.doc.mode=Qr(i.options,i.doc.modeOption),ua(i)}function ua(i){i.doc.iter(function(s){s.stateAfter&&(s.stateAfter=null),s.styles&&(s.styles=null)}),i.doc.modeFrontier=i.doc.highlightFrontier=i.doc.first,Sr(i,100),i.state.modeGen++,i.curOp&&rn(i)}function Ku(i,s){return s.from.ch==0&&s.to.ch==0&&ve(s.text)==""&&(!i.cm||i.cm.options.wholeLineUpdateBefore)}function Zl(i,s,c,u){function d(ge){return c?c[ge]:null}function g(ge,ue,me){Ia(ge,ue,me,u),Ir(ge,"change",ge,s)}function y(ge,ue){for(var me=[],Te=ge;Te<ue;++Te)me.push(new no(W[Te],d(Te),u));return me}var S=s.from,D=s.to,W=s.text,ft=be(i,S.line),bt=be(i,D.line),Dt=ve(W),Et=d(W.length-1),zt=D.line-S.line;if(s.full)i.insert(0,y(0,W.length)),i.remove(W.length,i.size-W.length);else if(Ku(i,s)){var Gt=y(0,W.length-1);g(bt,bt.text,Et),zt&&i.remove(S.line,zt),Gt.length&&i.insert(S.line,Gt)}else if(ft==bt)if(W.length==1)g(ft,ft.text.slice(0,S.ch)+Dt+ft.text.slice(D.ch),Et);else{var oe=y(1,W.length-1);oe.push(new no(Dt+ft.text.slice(D.ch),Et,u)),g(ft,ft.text.slice(0,S.ch)+W[0],d(0)),i.insert(S.line+1,oe)}else if(W.length==1)g(ft,ft.text.slice(0,S.ch)+W[0]+bt.text.slice(D.ch),d(0)),i.remove(S.line+1,zt);else{g(ft,ft.text.slice(0,S.ch)+W[0],d(0)),g(bt,Dt+bt.text.slice(D.ch),Et);var le=y(1,W.length-1);zt>1&&i.remove(S.line+1,zt-1),i.insert(S.line+1,le)}Ir(i,"change",i,s)}function Qo(i,s,c){function u(d,g,y){if(d.linked)for(var S=0;S<d.linked.length;++S){var D=d.linked[S];if(D.doc!=g){var W=y&&D.sharedHist;c&&!W||(s(D.doc,W),u(D.doc,d,W))}}}u(i,null,!0)}function $u(i,s){if(s.cm)throw new Error("This document is already in use.");i.doc=s,s.cm=i,jl(i),ql(i),qu(i),i.options.direction=s.direction,i.options.lineWrapping||ro(i),i.options.mode=s.modeOption,rn(i)}function qu(i){(i.doc.direction=="rtl"?Lt:I)(i.display.lineDiv,"CodeMirror-rtl")}function Hf(i){En(i,function(){qu(i),rn(i)})}function Xs(i){this.done=[],this.undone=[],this.undoDepth=i?i.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=i?i.maxGeneration:1}function Yl(i,s){var c={from:ee(s.from),to:Jo(s),text:un(i,s.from,s.to)};return Xu(i,c,s.from.line,s.to.line+1),Qo(i,function(u){return Xu(u,c,s.from.line,s.to.line+1)},!0),c}function Zu(i){for(;i.length;){var s=ve(i);if(s.ranges)i.pop();else break}}function Bf(i,s){if(s)return Zu(i.done),ve(i.done);if(i.done.length&&!ve(i.done).ranges)return ve(i.done);if(i.done.length>1&&!i.done[i.done.length-2].ranges)return i.done.pop(),ve(i.done)}function Yu(i,s,c,u){var d=i.history;d.undone.length=0;var g=+new Date,y,S;if((d.lastOp==u||d.lastOrigin==s.origin&&s.origin&&(s.origin.charAt(0)=="+"&&d.lastModTime>g-(i.cm?i.cm.options.historyEventDelay:500)||s.origin.charAt(0)=="*"))&&(y=Bf(d,d.lastOp==u)))S=ve(y.changes),lt(s.from,s.to)==0&&lt(s.from,S.to)==0?S.to=Jo(s):y.changes.push(Yl(i,s));else{var D=ve(d.done);for((!D||!D.ranges)&&Js(i.sel,d.done),y={changes:[Yl(i,s)],generation:d.generation},d.done.push(y);d.done.length>d.undoDepth;)d.done.shift(),d.done[0].ranges||d.done.shift()}d.done.push(c),d.generation=++d.maxGeneration,d.lastModTime=d.lastSelTime=g,d.lastOp=d.lastSelOp=u,d.lastOrigin=d.lastSelOrigin=s.origin,S||sr(i,"historyAdded")}function Uf(i,s,c,u){var d=s.charAt(0);return d=="*"||d=="+"&&c.ranges.length==u.ranges.length&&c.somethingSelected()==u.somethingSelected()&&new Date-i.history.lastSelTime<=(i.cm?i.cm.options.historyEventDelay:500)}function zf(i,s,c,u){var d=i.history,g=u&&u.origin;c==d.lastSelOp||g&&d.lastSelOrigin==g&&(d.lastModTime==d.lastSelTime&&d.lastOrigin==g||Uf(i,g,ve(d.done),s))?d.done[d.done.length-1]=s:Js(s,d.done),d.lastSelTime=+new Date,d.lastSelOrigin=g,d.lastSelOp=c,u&&u.clearRedo!==!1&&Zu(d.undone)}function Js(i,s){var c=ve(s);c&&c.ranges&&c.equals(i)||s.push(i)}function Xu(i,s,c,u){var d=s["spans_"+i.id],g=0;i.iter(Math.max(i.first,c),Math.min(i.first+i.size,u),function(y){y.markedSpans&&((d||(d=s["spans_"+i.id]={}))[g]=y.markedSpans),++g})}function Wf(i){if(!i)return null;for(var s,c=0;c<i.length;++c)i[c].marker.explicitlyCleared?s||(s=i.slice(0,c)):s&&s.push(i[c]);return s?s.length?s:null:i}function Gf(i,s){var c=s["spans_"+i.id];if(!c)return null;for(var u=[],d=0;d<s.text.length;++d)u.push(Wf(c[d]));return u}function Ju(i,s){var c=Gf(i,s),u=_o(i,s);if(!c)return u;if(!u)return c;for(var d=0;d<c.length;++d){var g=c[d],y=u[d];if(g&&y)t:for(var S=0;S<y.length;++S){for(var D=y[S],W=0;W<g.length;++W)if(g[W].marker==D.marker)continue t;g.push(D)}else y&&(c[d]=y)}return c}function ca(i,s,c){for(var u=[],d=0;d<i.length;++d){var g=i[d];if(g.ranges){u.push(c?Nn.prototype.deepCopy.call(g):g);continue}var y=g.changes,S=[];u.push({changes:S});for(var D=0;D<y.length;++D){var W=y[D],ft=void 0;if(S.push({from:W.from,to:W.to,text:W.text}),s)for(var bt in W)(ft=bt.match(/^spans_(\d+)$/))&&Wt(s,Number(ft[1]))>-1&&(ve(S)[bt]=W[bt],delete W[bt])}}return u}function Xl(i,s,c,u){if(u){var d=i.anchor;if(c){var g=lt(s,d)<0;g!=lt(c,d)<0?(d=s,s=c):g!=lt(s,c)<0&&(s=c)}return new lr(d,s)}else return new lr(c||s,s)}function Qs(i,s,c,u,d){d==null&&(d=i.cm&&(i.cm.display.shift||i.extend)),pn(i,new Nn([Xl(i.sel.primary(),s,c,d)],0),u)}function Qu(i,s,c){for(var u=[],d=i.cm&&(i.cm.display.shift||i.extend),g=0;g<i.sel.ranges.length;g++)u[g]=Xl(i.sel.ranges[g],s[g],null,d);var y=lo(i.cm,u,i.sel.primIndex);pn(i,y,c)}function Jl(i,s,c,u){var d=i.sel.ranges.slice(0);d[s]=c,pn(i,lo(i.cm,d,i.sel.primIndex),u)}function tc(i,s,c,u){pn(i,Xo(s,c),u)}function Kf(i,s,c){var u={ranges:s.ranges,update:function(d){this.ranges=[];for(var g=0;g<d.length;g++)this.ranges[g]=new lr(xe(i,d[g].anchor),xe(i,d[g].head))},origin:c&&c.origin};return sr(i,"beforeSelectionChange",i,u),i.cm&&sr(i.cm,"beforeSelectionChange",i.cm,u),u.ranges!=s.ranges?lo(i.cm,u.ranges,u.ranges.length-1):s}function Qa(i,s,c){var u=i.history.done,d=ve(u);d&&d.ranges?(u[u.length-1]=s,tl(i,s,c)):pn(i,s,c)}function pn(i,s,c){tl(i,s,c),zf(i,i.sel,i.cm?i.cm.curOp.id:NaN,c)}function tl(i,s,c){(te(i,"beforeSelectionChange")||i.cm&&te(i.cm,"beforeSelectionChange"))&&(s=Kf(i,s,c));var u=c&&c.bias||(lt(s.primary().head,i.sel.primary().head)<0?-1:1);ec(i,rc(i,s,u,!0)),!(c&&c.scroll===!1)&&i.cm&&i.cm.getOption("readOnly")!="nocursor"&&Zo(i.cm)}function ec(i,s){s.equals(i.sel)||(i.sel=s,i.cm&&(i.cm.curOp.updateInput=1,i.cm.curOp.selectionChanged=!0,pr(i.cm)),Ir(i,"cursorActivity",i))}function dn(i){ec(i,rc(i,i.sel,null,!1))}function rc(i,s,c,u){for(var d,g=0;g<s.ranges.length;g++){var y=s.ranges[g],S=s.ranges.length==i.sel.ranges.length&&i.sel.ranges[g],D=ti(i,y.anchor,S&&S.anchor,c,u),W=y.head==y.anchor?D:ti(i,y.head,S&&S.head,c,u);(d||D!=y.anchor||W!=y.head)&&(d||(d=s.ranges.slice(0,g)),d[g]=new lr(D,W))}return d?lo(i.cm,d,s.primIndex):s}function fa(i,s,c,u,d){var g=be(i,s.line);if(g.markedSpans)for(var y=0;y<g.markedSpans.length;++y){var S=g.markedSpans[y],D=S.marker,W="selectLeft"in D?!D.selectLeft:D.inclusiveLeft,ft="selectRight"in D?!D.selectRight:D.inclusiveRight;if((S.from==null||(W?S.from<=s.ch:S.from<s.ch))&&(S.to==null||(ft?S.to>=s.ch:S.to>s.ch))){if(d&&(sr(D,"beforeCursorEnter"),D.explicitlyCleared))if(g.markedSpans){--y;continue}else break;if(!D.atomic)continue;if(c){var bt=D.find(u<0?1:-1),Dt=void 0;if((u<0?ft:W)&&(bt=nc(i,bt,-u,bt&&bt.line==s.line?g:null)),bt&&bt.line==s.line&&(Dt=lt(bt,c))&&(u<0?Dt<0:Dt>0))return fa(i,bt,s,u,d)}var Et=D.find(u<0?-1:1);return(u<0?W:ft)&&(Et=nc(i,Et,u,Et.line==s.line?g:null)),Et?fa(i,Et,s,u,d):null}}return s}function ti(i,s,c,u,d){var g=u||1,y=fa(i,s,c,g,d)||!d&&fa(i,s,c,g,!0)||fa(i,s,c,-g,d)||!d&&fa(i,s,c,-g,!0);return y||(i.cantEdit=!0,F(i.first,0))}function nc(i,s,c,u){return c<0&&s.ch==0?s.line>i.first?xe(i,F(s.line-1)):null:c>0&&s.ch==(u||be(i,s.line)).text.length?s.line<i.first+i.size-1?F(s.line+1,0):null:new F(s.line,s.ch+c)}function oc(i){i.setSelection(F(i.firstLine(),0),F(i.lastLine()),Jt)}function ic(i,s,c){var u={canceled:!1,from:s.from,to:s.to,text:s.text,origin:s.origin,cancel:function(){return u.canceled=!0}};return c&&(u.update=function(d,g,y,S){d&&(u.from=xe(i,d)),g&&(u.to=xe(i,g)),y&&(u.text=y),S!==void 0&&(u.origin=S)}),sr(i,"beforeChange",i,u),i.cm&&sr(i.cm,"beforeChange",i.cm,u),u.canceled?(i.cm&&(i.cm.curOp.updateInput=2),null):{from:u.from,to:u.to,text:u.text,origin:u.origin}}function pa(i,s,c){if(i.cm){if(!i.cm.curOp)return $r(i.cm,pa)(i,s,c);if(i.cm.state.suppressEdits)return}if(!((te(i,"beforeChange")||i.cm&&te(i.cm,"beforeChange"))&&(s=ic(i,s,!0),!s))){var u=La&&!c&&Zi(i,s.from,s.to);if(u)for(var d=u.length-1;d>=0;--d)ac(i,{from:u[d].from,to:u[d].to,text:d?[""]:s.text,origin:s.origin});else ac(i,s)}}function ac(i,s){if(!(s.text.length==1&&s.text[0]==""&&lt(s.from,s.to)==0)){var c=$l(i,s);Yu(i,s,c,i.cm?i.cm.curOp.id:NaN),ts(i,s,c,_o(i,s));var u=[];Qo(i,function(d,g){!g&&Wt(u,d.history)==-1&&(rl(d.history,s),u.push(d.history)),ts(d,s,null,_o(d,s))})}}function el(i,s,c){var u=i.cm&&i.cm.state.suppressEdits;if(!(u&&!c)){for(var d=i.history,g,y=i.sel,S=s=="undo"?d.done:d.undone,D=s=="undo"?d.undone:d.done,W=0;W<S.length&&(g=S[W],!(c?g.ranges&&!g.equals(i.sel):!g.ranges));W++);if(W!=S.length){for(d.lastOrigin=d.lastSelOrigin=null;;)if(g=S.pop(),g.ranges){if(Js(g,D),c&&!g.equals(i.sel)){pn(i,g,{clearRedo:!1});return}y=g}else if(u){S.push(g);return}else break;var ft=[];Js(y,D),D.push({changes:ft,generation:d.generation}),d.generation=g.generation||++d.maxGeneration;for(var bt=te(i,"beforeChange")||i.cm&&te(i.cm,"beforeChange"),Dt=function(Gt){var oe=g.changes[Gt];if(oe.origin=s,bt&&!ic(i,oe,!1))return S.length=0,{};ft.push(Yl(i,oe));var le=Gt?$l(i,oe):ve(S);ts(i,oe,le,Ju(i,oe)),!Gt&&i.cm&&i.cm.scrollIntoView({from:oe.from,to:Jo(oe)});var ge=[];Qo(i,function(ue,me){!me&&Wt(ge,ue.history)==-1&&(rl(ue.history,oe),ge.push(ue.history)),ts(ue,oe,null,Ju(ue,oe))})},Et=g.changes.length-1;Et>=0;--Et){var zt=Dt(Et);if(zt)return zt.v}}}}function sc(i,s){if(s!=0&&(i.first+=s,i.sel=new Nn(K(i.sel.ranges,function(d){return new lr(F(d.anchor.line+s,d.anchor.ch),F(d.head.line+s,d.head.ch))}),i.sel.primIndex),i.cm)){rn(i.cm,i.first,i.first-s,s);for(var c=i.cm.display,u=c.viewFrom;u<c.viewTo;u++)$o(i.cm,u,"gutter")}}function ts(i,s,c,u){if(i.cm&&!i.cm.curOp)return $r(i.cm,ts)(i,s,c,u);if(s.to.line<i.first){sc(i,s.text.length-1-(s.to.line-s.from.line));return}if(!(s.from.line>i.lastLine())){if(s.from.line<i.first){var d=s.text.length-1-(i.first-s.from.line);sc(i,d),s={from:F(i.first,0),to:F(s.to.line+d,s.to.ch),text:[ve(s.text)],origin:s.origin}}var g=i.lastLine();s.to.line>g&&(s={from:s.from,to:F(g,be(i,g).text.length),text:[s.text[0]],origin:s.origin}),s.removed=un(i,s.from,s.to),c||(c=$l(i,s)),i.cm?$f(i.cm,s,u):Zl(i,s,u),tl(i,c,Jt),i.cantEdit&&ti(i,F(i.firstLine(),0))&&(i.cantEdit=!1)}}function $f(i,s,c){var u=i.doc,d=i.display,g=s.from,y=s.to,S=!1,D=g.line;i.options.lineWrapping||(D=Ze(Xe(be(u,g.line))),u.iter(D,y.line+1,function(Et){if(Et==d.maxLine)return S=!0,!0})),u.sel.contains(s.from,s.to)>-1&&pr(i),Zl(u,s,c,Bs(i)),i.options.lineWrapping||(u.iter(D,g.line+s.text.length,function(Et){var zt=eo(Et);zt>d.maxLineLength&&(d.maxLine=Et,d.maxLineLength=zt,d.maxLineChanged=!0,S=!1)}),S&&(i.curOp.updateMaxLine=!0)),to(u,g.line),Sr(i,400);var W=s.text.length-(y.line-g.line)-1;s.full?rn(i):g.line==y.line&&s.text.length==1&&!Ku(i.doc,s)?$o(i,g.line,"text"):rn(i,g.line,y.line+1,W);var ft=te(i,"changes"),bt=te(i,"change");if(bt||ft){var Dt={from:g,to:y,text:s.text,removed:s.removed,origin:s.origin};bt&&Ir(i,"change",i,Dt),ft&&(i.curOp.changeObjs||(i.curOp.changeObjs=[])).push(Dt)}i.display.selForContextMenu=null}function da(i,s,c,u,d){var g;u||(u=c),lt(u,c)<0&&(g=[u,c],c=g[0],u=g[1]),typeof s=="string"&&(s=i.splitLines(s)),pa(i,{from:c,to:u,text:s,origin:d})}function ha(i,s,c,u){c<i.line?i.line+=u:s<i.line&&(i.line=s,i.ch=0)}function lc(i,s,c,u){for(var d=0;d<i.length;++d){var g=i[d],y=!0;if(g.ranges){g.copied||(g=i[d]=g.deepCopy(),g.copied=!0);for(var S=0;S<g.ranges.length;S++)ha(g.ranges[S].anchor,s,c,u),ha(g.ranges[S].head,s,c,u);continue}for(var D=0;D<g.changes.length;++D){var W=g.changes[D];if(c<W.from.line)W.from=F(W.from.line+u,W.from.ch),W.to=F(W.to.line+u,W.to.ch);else if(s<=W.to.line){y=!1;break}}y||(i.splice(0,d+1),d=0)}}function rl(i,s){var c=s.from.line,u=s.to.line,d=s.text.length-(u-c)-1;lc(i.done,c,u,d),lc(i.undone,c,u,d)}function es(i,s,c,u){var d=s,g=s;return typeof s=="number"?g=be(i,rr(i,s)):d=Ze(s),d==null?null:(u(g,d)&&i.cm&&$o(i.cm,d,c),g)}function va(i){this.lines=i,this.parent=null;for(var s=0,c=0;c<i.length;++c)i[c].parent=this,s+=i[c].height;this.height=s}va.prototype={chunkSize:function(){return this.lines.length},removeInner:function(i,s){for(var c=i,u=i+s;c<u;++c){var d=this.lines[c];this.height-=d.height,Kr(d),Ir(d,"delete")}this.lines.splice(i,s)},collapse:function(i){i.push.apply(i,this.lines)},insertInner:function(i,s,c){this.height+=c,this.lines=this.lines.slice(0,i).concat(s).concat(this.lines.slice(i));for(var u=0;u<s.length;++u)s[u].parent=this},iterN:function(i,s,c){for(var u=i+s;i<u;++i)if(c(this.lines[i]))return!0}};function rs(i){this.children=i;for(var s=0,c=0,u=0;u<i.length;++u){var d=i[u];s+=d.chunkSize(),c+=d.height,d.parent=this}this.size=s,this.height=c,this.parent=null}rs.prototype={chunkSize:function(){return this.size},removeInner:function(i,s){this.size-=s;for(var c=0;c<this.children.length;++c){var u=this.children[c],d=u.chunkSize();if(i<d){var g=Math.min(s,d-i),y=u.height;if(u.removeInner(i,g),this.height-=y-u.height,d==g&&(this.children.splice(c--,1),u.parent=null),(s-=g)==0)break;i=0}else i-=d}if(this.size-s<25&&(this.children.length>1||!(this.children[0]instanceof va))){var S=[];this.collapse(S),this.children=[new va(S)],this.children[0].parent=this}},collapse:function(i){for(var s=0;s<this.children.length;++s)this.children[s].collapse(i)},insertInner:function(i,s,c){this.size+=s.length,this.height+=c;for(var u=0;u<this.children.length;++u){var d=this.children[u],g=d.chunkSize();if(i<=g){if(d.insertInner(i,s,c),d.lines&&d.lines.length>50){for(var y=d.lines.length%25+25,S=y;S<d.lines.length;){var D=new va(d.lines.slice(S,S+=25));d.height-=D.height,this.children.splice(++u,0,D),D.parent=this}d.lines=d.lines.slice(0,y),this.maybeSpill()}break}i-=g}},maybeSpill:function(){if(!(this.children.length<=10)){var i=this;do{var s=i.children.splice(i.children.length-5,5),c=new rs(s);if(i.parent){i.size-=c.size,i.height-=c.height;var d=Wt(i.parent.children,i);i.parent.children.splice(d+1,0,c)}else{var u=new rs(i.children);u.parent=i,i.children=[u,c],i=u}c.parent=i.parent}while(i.children.length>10);i.parent.maybeSpill()}},iterN:function(i,s,c){for(var u=0;u<this.children.length;++u){var d=this.children[u],g=d.chunkSize();if(i<g){var y=Math.min(s,g-i);if(d.iterN(i,y,c))return!0;if((s-=y)==0)break;i=0}else i-=g}}};var ga=function(i,s,c){if(c)for(var u in c)c.hasOwnProperty(u)&&(this[u]=c[u]);this.doc=i,this.node=s};ga.prototype.clear=function(){var i=this.doc.cm,s=this.line.widgets,c=this.line,u=Ze(c);if(!(u==null||!s)){for(var d=0;d<s.length;++d)s[d]==this&&s.splice(d--,1);s.length||(c.widgets=null);var g=go(this);Nr(c,Math.max(0,c.height-g)),i&&(En(i,function(){uc(i,c,-g),$o(i,u,"widget")}),Ir(i,"lineWidgetCleared",i,this,u))}},ga.prototype.changed=function(){var i=this,s=this.height,c=this.doc.cm,u=this.line;this.height=null;var d=go(this)-s;d&&(Tn(this.doc,u)||Nr(u,u.height+d),c&&En(c,function(){c.curOp.forceUpdate=!0,uc(c,u,d),Ir(c,"lineWidgetChanged",c,i,Ze(u))}))},Kn(ga);function uc(i,s,c){ar(s)<(i.curOp&&i.curOp.scrollTop||i.doc.scrollTop)&&sa(i,c)}function qf(i,s,c,u){var d=new ga(i,c,u),g=i.cm;return g&&d.noHScroll&&(g.display.alignWidgets=!0),es(i,s,"widget",function(y){var S=y.widgets||(y.widgets=[]);if(d.insertAt==null?S.push(d):S.splice(Math.min(S.length,Math.max(0,d.insertAt)),0,d),d.line=y,g&&!Tn(i,y)){var D=ar(y)<i.scrollTop;Nr(y,y.height+go(d)),D&&sa(g,d.height),g.curOp.forceUpdate=!0}return!0}),g&&Ir(g,"lineWidgetAdded",g,d,typeof s=="number"?s:Ze(s)),d}var ei=0,ri=function(i,s){this.lines=[],this.type=s,this.doc=i,this.id=++ei};ri.prototype.clear=function(){if(!this.explicitlyCleared){var i=this.doc.cm,s=i&&!i.curOp;if(s&&Mi(i),te(this,"clear")){var c=this.find();c&&Ir(this,"clear",c.from,c.to)}for(var u=null,d=null,g=0;g<this.lines.length;++g){var y=this.lines[g],S=No(y.markedSpans,this);i&&!this.collapsed?$o(i,Ze(y),"text"):i&&(S.to!=null&&(d=Ze(y)),S.from!=null&&(u=Ze(y))),y.markedSpans=yi(y.markedSpans,S),S.from==null&&this.collapsed&&!Tn(this.doc,y)&&i&&Nr(y,ra(i.display))}if(i&&this.collapsed&&!i.options.lineWrapping)for(var D=0;D<this.lines.length;++D){var W=Xe(this.lines[D]),ft=eo(W);ft>i.display.maxLineLength&&(i.display.maxLine=W,i.display.maxLineLength=ft,i.display.maxLineChanged=!0)}u!=null&&i&&this.collapsed&&rn(i,u,d+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,i&&dn(i.doc)),i&&Ir(i,"markerCleared",i,this,u,d),s&&Li(i),this.parent&&this.parent.clear()}},ri.prototype.find=function(i,s){i==null&&this.type=="bookmark"&&(i=1);for(var c,u,d=0;d<this.lines.length;++d){var g=this.lines[d],y=No(g.markedSpans,this);if(y.from!=null&&(c=F(s?g:Ze(g),y.from),i==-1))return c;if(y.to!=null&&(u=F(s?g:Ze(g),y.to),i==1))return u}return c&&{from:c,to:u}},ri.prototype.changed=function(){var i=this,s=this.find(-1,!0),c=this,u=this.doc.cm;!s||!u||En(u,function(){var d=s.line,g=Ze(s.line),y=He(u,g);if(y&&(za(y),u.curOp.selectionChanged=u.curOp.forceUpdate=!0),u.curOp.updateMaxLine=!0,!Tn(c.doc,d)&&c.height!=null){var S=c.height;c.height=null;var D=go(c)-S;D&&Nr(d,d.height+D)}Ir(u,"markerChanged",u,i)})},ri.prototype.attachLine=function(i){if(!this.lines.length&&this.doc.cm){var s=this.doc.cm.curOp;(!s.maybeHiddenMarkers||Wt(s.maybeHiddenMarkers,this)==-1)&&(s.maybeUnhiddenMarkers||(s.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(i)},ri.prototype.detachLine=function(i){if(this.lines.splice(Wt(this.lines,i),1),!this.lines.length&&this.doc.cm){var s=this.doc.cm.curOp;(s.maybeHiddenMarkers||(s.maybeHiddenMarkers=[])).push(this)}},Kn(ri);function ma(i,s,c,u,d){if(u&&u.shared)return Zf(i,s,c,u,d);if(i.cm&&!i.cm.curOp)return $r(i.cm,ma)(i,s,c,u,d);var g=new ri(i,d),y=lt(s,c);if(u&&ne(u,g,!1),y>0||y==0&&g.clearWhenEmpty!==!1)return g;if(g.replacedWith&&(g.collapsed=!0,g.widgetNode=$("span",[g.replacedWith],"CodeMirror-widget"),u.handleMouseEvents||g.widgetNode.setAttribute("cm-ignore-events","true"),u.insertLeft&&(g.widgetNode.insertLeft=!0)),g.collapsed){if(Zn(i,s.line,s,c,g)||s.line!=c.line&&Zn(i,c.line,s,c,g))throw new Error("Inserting collapsed marker partially overlapping an existing one");Vo()}g.addToHistory&&Yu(i,{from:s,to:c,origin:"markText"},i.sel,NaN);var S=s.line,D=i.cm,W;if(i.iter(S,c.line+1,function(bt){D&&g.collapsed&&!D.options.lineWrapping&&Xe(bt)==D.display.maxLine&&(W=!0),g.collapsed&&S!=s.line&&Nr(bt,0),Da(bt,new Ro(g,S==s.line?s.ch:null,S==c.line?c.ch:null),i.cm&&i.cm.curOp),++S}),g.collapsed&&i.iter(s.line,c.line+1,function(bt){Tn(i,bt)&&Nr(bt,0)}),g.clearOnEnter&&_e(g,"beforeCursorEnter",function(){return g.clear()}),g.readOnly&&(Ps(),(i.history.done.length||i.history.undone.length)&&i.clearHistory()),g.collapsed&&(g.id=++ei,g.atomic=!0),D){if(W&&(D.curOp.updateMaxLine=!0),g.collapsed)rn(D,s.line,c.line+1);else if(g.className||g.startStyle||g.endStyle||g.css||g.attributes||g.title)for(var ft=s.line;ft<=c.line;ft++)$o(D,ft,"text");g.atomic&&dn(D.doc),Ir(D,"markerAdded",D,g)}return g}var ns=function(i,s){this.markers=i,this.primary=s;for(var c=0;c<i.length;++c)i[c].parent=this};ns.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var i=0;i<this.markers.length;++i)this.markers[i].clear();Ir(this,"clear")}},ns.prototype.find=function(i,s){return this.primary.find(i,s)},Kn(ns);function Zf(i,s,c,u,d){u=ne(u),u.shared=!1;var g=[ma(i,s,c,u,d)],y=g[0],S=u.widgetNode;return Qo(i,function(D){S&&(u.widgetNode=S.cloneNode(!0)),g.push(ma(D,xe(D,s),xe(D,c),u,d));for(var W=0;W<D.linked.length;++W)if(D.linked[W].isParent)return;y=ve(g)}),new ns(g,y)}function cc(i){return i.findMarks(F(i.first,0),i.clipPos(F(i.lastLine())),function(s){return s.parent})}function Yf(i,s){for(var c=0;c<s.length;c++){var u=s[c],d=u.find(),g=i.clipPos(d.from),y=i.clipPos(d.to);if(lt(g,y)){var S=ma(i,g,y,u.primary,u.primary.type);u.markers.push(S),S.parent=u}}}function Xf(i){for(var s=function(u){var d=i[u],g=[d.primary.doc];Qo(d.primary.doc,function(D){return g.push(D)});for(var y=0;y<d.markers.length;y++){var S=d.markers[y];Wt(g,S.doc)==-1&&(S.parent=null,d.markers.splice(y--,1))}},c=0;c<i.length;c++)s(c)}var fc=0,Pn=function(i,s,c,u,d){if(!(this instanceof Pn))return new Pn(i,s,c,u,d);c==null&&(c=0),rs.call(this,[new va([new no("",null)])]),this.first=c,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=c;var g=F(c,0);this.sel=Xo(g),this.history=new Xs(null),this.id=++fc,this.modeOption=s,this.lineSep=u,this.direction=d=="rtl"?"rtl":"ltr",this.extend=!1,typeof i=="string"&&(i=this.splitLines(i)),Zl(this,{from:g,to:g,text:i}),pn(this,Xo(g),Jt)};Pn.prototype=kt(rs.prototype,{constructor:Pn,iter:function(i,s,c){c?this.iterN(i-this.first,s-i,c):this.iterN(this.first,this.first+this.size,i)},insert:function(i,s){for(var c=0,u=0;u<s.length;++u)c+=s[u].height;this.insertInner(i-this.first,s,c)},remove:function(i,s){this.removeInner(i-this.first,s)},getValue:function(i){var s=yr(this,this.first,this.first+this.size);return i===!1?s:s.join(i||this.lineSeparator())},setValue:qr(function(i){var s=F(this.first,0),c=this.first+this.size-1;pa(this,{from:s,to:F(c,be(this,c).text.length),text:this.splitLines(i),origin:"setValue",full:!0},!0),this.cm&&qa(this.cm,0,0),pn(this,Xo(s),Jt)}),replaceRange:function(i,s,c,u){s=xe(this,s),c=c?xe(this,c):s,da(this,i,s,c,u)},getRange:function(i,s,c){var u=un(this,xe(this,i),xe(this,s));return c===!1?u:c===""?u.join(""):u.join(c||this.lineSeparator())},getLine:function(i){var s=this.getLineHandle(i);return s&&s.text},getLineHandle:function(i){if(Dr(this,i))return be(this,i)},getLineNumber:function(i){return Ze(i)},getLineHandleVisualStart:function(i){return typeof i=="number"&&(i=be(this,i)),Xe(i)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(i){return xe(this,i)},getCursor:function(i){var s=this.sel.primary(),c;return i==null||i=="head"?c=s.head:i=="anchor"?c=s.anchor:i=="end"||i=="to"||i===!1?c=s.to():c=s.from(),c},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:qr(function(i,s,c){tc(this,xe(this,typeof i=="number"?F(i,s||0):i),null,c)}),setSelection:qr(function(i,s,c){tc(this,xe(this,i),xe(this,s||i),c)}),extendSelection:qr(function(i,s,c){Qs(this,xe(this,i),s&&xe(this,s),c)}),extendSelections:qr(function(i,s){Qu(this,bo(this,i),s)}),extendSelectionsBy:qr(function(i,s){var c=K(this.sel.ranges,i);Qu(this,bo(this,c),s)}),setSelections:qr(function(i,s,c){if(i.length){for(var u=[],d=0;d<i.length;d++)u[d]=new lr(xe(this,i[d].anchor),xe(this,i[d].head||i[d].anchor));s==null&&(s=Math.min(i.length-1,this.sel.primIndex)),pn(this,lo(this.cm,u,s),c)}}),addSelection:qr(function(i,s,c){var u=this.sel.ranges.slice(0);u.push(new lr(xe(this,i),xe(this,s||i))),pn(this,lo(this.cm,u,u.length-1),c)}),getSelection:function(i){for(var s=this.sel.ranges,c,u=0;u<s.length;u++){var d=un(this,s[u].from(),s[u].to());c=c?c.concat(d):d}return i===!1?c:c.join(i||this.lineSeparator())},getSelections:function(i){for(var s=[],c=this.sel.ranges,u=0;u<c.length;u++){var d=un(this,c[u].from(),c[u].to());i!==!1&&(d=d.join(i||this.lineSeparator())),s[u]=d}return s},replaceSelection:function(i,s,c){for(var u=[],d=0;d<this.sel.ranges.length;d++)u[d]=i;this.replaceSelections(u,s,c||"+input")},replaceSelections:qr(function(i,s,c){for(var u=[],d=this.sel,g=0;g<d.ranges.length;g++){var y=d.ranges[g];u[g]={from:y.from(),to:y.to(),text:this.splitLines(i[g]),origin:c}}for(var S=s&&s!="end"&&Ff(this,u,s),D=u.length-1;D>=0;D--)pa(this,u[D]);S?Qa(this,S):this.cm&&Zo(this.cm)}),undo:qr(function(){el(this,"undo")}),redo:qr(function(){el(this,"redo")}),undoSelection:qr(function(){el(this,"undo",!0)}),redoSelection:qr(function(){el(this,"redo",!0)}),setExtending:function(i){this.extend=i},getExtending:function(){return this.extend},historySize:function(){for(var i=this.history,s=0,c=0,u=0;u<i.done.length;u++)i.done[u].ranges||++s;for(var d=0;d<i.undone.length;d++)i.undone[d].ranges||++c;return{undo:s,redo:c}},clearHistory:function(){var i=this;this.history=new Xs(this.history),Qo(this,function(s){return s.history=i.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(i){return i&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(i){return this.history.generation==(i||this.cleanGeneration)},getHistory:function(){return{done:ca(this.history.done),undone:ca(this.history.undone)}},setHistory:function(i){var s=this.history=new Xs(this.history);s.done=ca(i.done.slice(0),null,!0),s.undone=ca(i.undone.slice(0),null,!0)},setGutterMarker:qr(function(i,s,c){return es(this,i,"gutter",function(u){var d=u.gutterMarkers||(u.gutterMarkers={});return d[s]=c,!c&&Pt(d)&&(u.gutterMarkers=null),!0})}),clearGutter:qr(function(i){var s=this;this.iter(function(c){c.gutterMarkers&&c.gutterMarkers[i]&&es(s,c,"gutter",function(){return c.gutterMarkers[i]=null,Pt(c.gutterMarkers)&&(c.gutterMarkers=null),!0})})}),lineInfo:function(i){var s;if(typeof i=="number"){if(!Dr(this,i)||(s=i,i=be(this,i),!i))return null}else if(s=Ze(i),s==null)return null;return{line:s,handle:i,text:i.text,gutterMarkers:i.gutterMarkers,textClass:i.textClass,bgClass:i.bgClass,wrapClass:i.wrapClass,widgets:i.widgets}},addLineClass:qr(function(i,s,c){return es(this,i,s=="gutter"?"gutter":"class",function(u){var d=s=="text"?"textClass":s=="background"?"bgClass":s=="gutter"?"gutterClass":"wrapClass";if(!u[d])u[d]=c;else{if(z(c).test(u[d]))return!1;u[d]+=" "+c}return!0})}),removeLineClass:qr(function(i,s,c){return es(this,i,s=="gutter"?"gutter":"class",function(u){var d=s=="text"?"textClass":s=="background"?"bgClass":s=="gutter"?"gutterClass":"wrapClass",g=u[d];if(g)if(c==null)u[d]=null;else{var y=g.match(z(c));if(!y)return!1;var S=y.index+y[0].length;u[d]=g.slice(0,y.index)+(!y.index||S==g.length?"":" ")+g.slice(S)||null}else return!1;return!0})}),addLineWidget:qr(function(i,s,c){return qf(this,i,s,c)}),removeLineWidget:function(i){i.clear()},markText:function(i,s,c){return ma(this,xe(this,i),xe(this,s),c,c&&c.type||"range")},setBookmark:function(i,s){var c={replacedWith:s&&(s.nodeType==null?s.widget:s),insertLeft:s&&s.insertLeft,clearWhenEmpty:!1,shared:s&&s.shared,handleMouseEvents:s&&s.handleMouseEvents};return i=xe(this,i),ma(this,i,i,c,"bookmark")},findMarksAt:function(i){i=xe(this,i);var s=[],c=be(this,i.line).markedSpans;if(c)for(var u=0;u<c.length;++u){var d=c[u];(d.from==null||d.from<=i.ch)&&(d.to==null||d.to>=i.ch)&&s.push(d.marker.parent||d.marker)}return s},findMarks:function(i,s,c){i=xe(this,i),s=xe(this,s);var u=[],d=i.line;return this.iter(i.line,s.line+1,function(g){var y=g.markedSpans;if(y)for(var S=0;S<y.length;S++){var D=y[S];!(D.to!=null&&d==i.line&&i.ch>=D.to||D.from==null&&d!=i.line||D.from!=null&&d==s.line&&D.from>=s.ch)&&(!c||c(D.marker))&&u.push(D.marker.parent||D.marker)}++d}),u},getAllMarks:function(){var i=[];return this.iter(function(s){var c=s.markedSpans;if(c)for(var u=0;u<c.length;++u)c[u].from!=null&&i.push(c[u].marker)}),i},posFromIndex:function(i){var s,c=this.first,u=this.lineSeparator().length;return this.iter(function(d){var g=d.text.length+u;if(g>i)return s=i,!0;i-=g,++c}),xe(this,F(c,s))},indexFromPos:function(i){i=xe(this,i);var s=i.ch;if(i.line<this.first||i.ch<0)return 0;var c=this.lineSeparator().length;return this.iter(this.first,i.line,function(u){s+=u.text.length+c}),s},copy:function(i){var s=new Pn(yr(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return s.scrollTop=this.scrollTop,s.scrollLeft=this.scrollLeft,s.sel=this.sel,s.extend=!1,i&&(s.history.undoDepth=this.history.undoDepth,s.setHistory(this.getHistory())),s},linkedDoc:function(i){i||(i={});var s=this.first,c=this.first+this.size;i.from!=null&&i.from>s&&(s=i.from),i.to!=null&&i.to<c&&(c=i.to);var u=new Pn(yr(this,s,c),i.mode||this.modeOption,s,this.lineSep,this.direction);return i.sharedHist&&(u.history=this.history),(this.linked||(this.linked=[])).push({doc:u,sharedHist:i.sharedHist}),u.linked=[{doc:this,isParent:!0,sharedHist:i.sharedHist}],Yf(u,cc(this)),u},unlinkDoc:function(i){if(i instanceof wr&&(i=i.doc),this.linked)for(var s=0;s<this.linked.length;++s){var c=this.linked[s];if(c.doc==i){this.linked.splice(s,1),i.unlinkDoc(this),Xf(cc(this));break}}if(i.history==this.history){var u=[i.id];Qo(i,function(d){return u.push(d.id)},!0),i.history=new Xs(null),i.history.done=ca(this.history.done,u),i.history.undone=ca(this.history.undone,u)}},iterLinkedDocs:function(i){Qo(this,i)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(i){return this.lineSep?i.split(this.lineSep):vn(i)},lineSeparator:function(){return this.lineSep||`
`},setDirection:qr(function(i){i!="rtl"&&(i="ltr"),i!=this.direction&&(this.direction=i,this.iter(function(s){return s.order=null}),this.cm&&Hf(this.cm))})}),Pn.prototype.eachLine=Pn.prototype.iter;var Ql=0;function nl(i){var s=this;if(pc(s),!(cr(s,i)||io(s.display,i))){nt(i),C&&(Ql=+new Date);var c=Ko(s,i,!0),u=i.dataTransfer.files;if(!(!c||s.isReadOnly()))if(u&&u.length&&window.FileReader&&window.File)for(var d=u.length,g=Array(d),y=0,S=function(){++y==d&&$r(s,function(){c=xe(s.doc,c);var Et={from:c,to:c,text:s.doc.splitLines(g.filter(function(zt){return zt!=null}).join(s.doc.lineSeparator())),origin:"paste"};pa(s.doc,Et),Qa(s.doc,Xo(xe(s.doc,c),xe(s.doc,Jo(Et))))})()},D=function(Et,zt){if(s.options.allowDropFileTypes&&Wt(s.options.allowDropFileTypes,Et.type)==-1){S();return}var Gt=new FileReader;Gt.onerror=function(){return S()},Gt.onload=function(){var oe=Gt.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(oe)){S();return}g[zt]=oe,S()},Gt.readAsText(Et)},W=0;W<u.length;W++)D(u[W],W);else{if(s.state.draggingText&&s.doc.sel.contains(c)>-1){s.state.draggingText(i),setTimeout(function(){return s.display.input.focus()},20);return}try{var ft=i.dataTransfer.getData("Text");if(ft){var bt;if(s.state.draggingText&&!s.state.draggingText.copy&&(bt=s.listSelections()),tl(s.doc,Xo(c,c)),bt)for(var Dt=0;Dt<bt.length;++Dt)da(s.doc,"",bt[Dt].anchor,bt[Dt].head,"drag");s.replaceSelection(ft,"around","paste"),s.display.input.focus()}}catch{}}}}function os(i,s){if(C&&(!i.state.draggingText||+new Date-Ql<100)){qt(s);return}if(!(cr(i,s)||io(i.display,s))&&(s.dataTransfer.setData("Text",i.getSelection()),s.dataTransfer.effectAllowed="copyMove",s.dataTransfer.setDragImage&&!L)){var c=E("img",null,null,"position: fixed; left: 0; top: 0;");c.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",O&&(c.width=c.height=1,i.display.wrapper.appendChild(c),c._top=c.offsetTop),s.dataTransfer.setDragImage(c,0,0),O&&c.parentNode.removeChild(c)}}function Jf(i,s){var c=Ko(i,s);if(c){var u=document.createDocumentFragment();Il(i,c,u),i.display.dragCursor||(i.display.dragCursor=E("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),i.display.lineSpace.insertBefore(i.display.dragCursor,i.display.cursorDiv)),G(i.display.dragCursor,u)}}function pc(i){i.display.dragCursor&&(i.display.lineSpace.removeChild(i.display.dragCursor),i.display.dragCursor=null)}function dc(i){if(document.getElementsByClassName){for(var s=document.getElementsByClassName("CodeMirror"),c=[],u=0;u<s.length;u++){var d=s[u].CodeMirror;d&&c.push(d)}c.length&&c[0].operation(function(){for(var g=0;g<c.length;g++)i(c[g])})}}var hc=!1;function Qf(){hc||(tp(),hc=!0)}function tp(){var i;_e(window,"resize",function(){i==null&&(i=setTimeout(function(){i=null,dc(vc)},100))}),_e(window,"blur",function(){return dc(aa)})}function vc(i){var s=i.display;s.cachedCharWidth=s.cachedTextHeight=s.cachedPaddingH=null,s.scrollbarsClipped=!1,i.setSize()}for(var Po={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},is=0;is<10;is++)Po[is+48]=Po[is+96]=String(is);for(var ji=65;ji<=90;ji++)Po[ji]=String.fromCharCode(ji);for(var as=1;as<=12;as++)Po[as+111]=Po[as+63235]="F"+as;var yo={};yo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},yo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},yo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},yo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},yo.default=k?yo.macDefault:yo.pcDefault;function ep(i){var s=i.split(/-(?!$)/);i=s[s.length-1];for(var c,u,d,g,y=0;y<s.length-1;y++){var S=s[y];if(/^(cmd|meta|m)$/i.test(S))g=!0;else if(/^a(lt)?$/i.test(S))c=!0;else if(/^(c|ctrl|control)$/i.test(S))u=!0;else if(/^s(hift)?$/i.test(S))d=!0;else throw new Error("Unrecognized modifier name: "+S)}return c&&(i="Alt-"+i),u&&(i="Ctrl-"+i),g&&(i="Cmd-"+i),d&&(i="Shift-"+i),i}function ni(i){var s={};for(var c in i)if(i.hasOwnProperty(c)){var u=i[c];if(/^(name|fallthrough|(de|at)tach)$/.test(c))continue;if(u=="..."){delete i[c];continue}for(var d=K(c.split(" "),ep),g=0;g<d.length;g++){var y=void 0,S=void 0;g==d.length-1?(S=d.join(" "),y=u):(S=d.slice(0,g+1).join(" "),y="...");var D=s[S];if(!D)s[S]=y;else if(D!=y)throw new Error("Inconsistent bindings for "+S)}delete i[c]}for(var W in s)i[W]=s[W];return i}function ya(i,s,c,u){s=ol(s);var d=s.call?s.call(i,u):s[i];if(d===!1)return"nothing";if(d==="...")return"multi";if(d!=null&&c(d))return"handled";if(s.fallthrough){if(Object.prototype.toString.call(s.fallthrough)!="[object Array]")return ya(i,s.fallthrough,c,u);for(var g=0;g<s.fallthrough.length;g++){var y=ya(i,s.fallthrough[g],c,u);if(y)return y}}}function gc(i){var s=typeof i=="string"?i:Po[i.keyCode];return s=="Ctrl"||s=="Alt"||s=="Shift"||s=="Mod"}function mc(i,s,c){var u=i;return s.altKey&&u!="Alt"&&(i="Alt-"+i),(rt?s.metaKey:s.ctrlKey)&&u!="Ctrl"&&(i="Ctrl-"+i),(rt?s.ctrlKey:s.metaKey)&&u!="Mod"&&(i="Cmd-"+i),!c&&s.shiftKey&&u!="Shift"&&(i="Shift-"+i),i}function yc(i,s){if(O&&i.keyCode==34&&i.char)return!1;var c=Po[i.keyCode];return c==null||i.altGraphKey?!1:(i.keyCode==3&&i.code&&(c=i.code),mc(c,i,s))}function ol(i){return typeof i=="string"?yo[i]:i}function Ii(i,s){for(var c=i.doc.sel.ranges,u=[],d=0;d<c.length;d++){for(var g=s(c[d]);u.length&&lt(g.from,ve(u).to)<=0;){var y=u.pop();if(lt(y.from,g.from)<0){g.from=y.from;break}}u.push(g)}En(i,function(){for(var S=u.length-1;S>=0;S--)da(i.doc,"",u[S].from,u[S].to,"+delete");Zo(i)})}function ss(i,s,c){var u=Ve(i.text,s+c,c);return u<0||u>i.text.length?null:u}function tu(i,s,c){var u=ss(i,s.ch,c);return u==null?null:new F(s.line,u,c<0?"after":"before")}function eu(i,s,c,u,d){if(i){s.doc.direction=="rtl"&&(d=-d);var g=$e(c,s.doc.direction);if(g){var y=d<0?ve(g):g[0],S=d<0==(y.level==1),D=S?"after":"before",W;if(y.level>0||s.doc.direction=="rtl"){var ft=Me(s,c);W=d<0?c.text.length-1:0;var bt=dr(s,ft,W).top;W=ze(function(Dt){return dr(s,ft,Dt).top==bt},d<0==(y.level==1)?y.from:y.to-1,W),D=="before"&&(W=ss(c,W,1))}else W=d<0?y.to:y.from;return new F(u,W,D)}}return new F(u,d<0?c.text.length:0,d<0?"before":"after")}function wc(i,s,c,u){var d=$e(s,i.doc.direction);if(!d)return tu(s,c,u);c.ch>=s.text.length?(c.ch=s.text.length,c.sticky="before"):c.ch<=0&&(c.ch=0,c.sticky="after");var g=tr(d,c.ch,c.sticky),y=d[g];if(i.doc.direction=="ltr"&&y.level%2==0&&(u>0?y.to>c.ch:y.from<c.ch))return tu(s,c,u);var S=function(le,ge){return ss(s,le instanceof F?le.ch:le,ge)},D,W=function(le){return i.options.lineWrapping?(D=D||Me(i,s),Ka(i,s,D,le)):{begin:0,end:s.text.length}},ft=W(c.sticky=="before"?S(c,-1):c.ch);if(i.doc.direction=="rtl"||y.level==1){var bt=y.level==1==u<0,Dt=S(c,bt?1:-1);if(Dt!=null&&(bt?Dt<=y.to&&Dt<=ft.end:Dt>=y.from&&Dt>=ft.begin)){var Et=bt?"before":"after";return new F(c.line,Dt,Et)}}var zt=function(le,ge,ue){for(var me=function(gr,Zr){return Zr?new F(c.line,S(gr,1),"before"):new F(c.line,gr,"after")};le>=0&&le<d.length;le+=ge){var Te=d[le],Oe=ge>0==(Te.level!=1),We=Oe?ue.begin:S(ue.end,-1);if(Te.from<=We&&We<Te.to||(We=Oe?Te.from:S(Te.to,-1),ue.begin<=We&&We<ue.end))return me(We,Oe)}},Gt=zt(g+u,u,ft);if(Gt)return Gt;var oe=u>0?ft.end:S(ft.begin,-1);return oe!=null&&!(u>0&&oe==s.text.length)&&(Gt=zt(u>0?0:d.length-1,u,W(oe)),Gt)?Gt:null}var ls={selectAll:oc,singleSelection:function(i){return i.setSelection(i.getCursor("anchor"),i.getCursor("head"),Jt)},killLine:function(i){return Ii(i,function(s){if(s.empty()){var c=be(i.doc,s.head.line).text.length;return s.head.ch==c&&s.head.line<i.lastLine()?{from:s.head,to:F(s.head.line+1,0)}:{from:s.head,to:F(s.head.line,c)}}else return{from:s.from(),to:s.to()}})},deleteLine:function(i){return Ii(i,function(s){return{from:F(s.from().line,0),to:xe(i.doc,F(s.to().line+1,0))}})},delLineLeft:function(i){return Ii(i,function(s){return{from:F(s.from().line,0),to:s.from()}})},delWrappedLineLeft:function(i){return Ii(i,function(s){var c=i.charCoords(s.head,"div").top+5,u=i.coordsChar({left:0,top:c},"div");return{from:u,to:s.from()}})},delWrappedLineRight:function(i){return Ii(i,function(s){var c=i.charCoords(s.head,"div").top+5,u=i.coordsChar({left:i.display.lineDiv.offsetWidth+100,top:c},"div");return{from:s.from(),to:u}})},undo:function(i){return i.undo()},redo:function(i){return i.redo()},undoSelection:function(i){return i.undoSelection()},redoSelection:function(i){return i.redoSelection()},goDocStart:function(i){return i.extendSelection(F(i.firstLine(),0))},goDocEnd:function(i){return i.extendSelection(F(i.lastLine()))},goLineStart:function(i){return i.extendSelectionsBy(function(s){return bc(i,s.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(i){return i.extendSelectionsBy(function(s){return xc(i,s.head)},{origin:"+move",bias:1})},goLineEnd:function(i){return i.extendSelectionsBy(function(s){return _c(i,s.head.line)},{origin:"+move",bias:-1})},goLineRight:function(i){return i.extendSelectionsBy(function(s){var c=i.cursorCoords(s.head,"div").top+5;return i.coordsChar({left:i.display.lineDiv.offsetWidth+100,top:c},"div")},Ne)},goLineLeft:function(i){return i.extendSelectionsBy(function(s){var c=i.cursorCoords(s.head,"div").top+5;return i.coordsChar({left:0,top:c},"div")},Ne)},goLineLeftSmart:function(i){return i.extendSelectionsBy(function(s){var c=i.cursorCoords(s.head,"div").top+5,u=i.coordsChar({left:0,top:c},"div");return u.ch<i.getLine(u.line).search(/\S/)?xc(i,s.head):u},Ne)},goLineUp:function(i){return i.moveV(-1,"line")},goLineDown:function(i){return i.moveV(1,"line")},goPageUp:function(i){return i.moveV(-1,"page")},goPageDown:function(i){return i.moveV(1,"page")},goCharLeft:function(i){return i.moveH(-1,"char")},goCharRight:function(i){return i.moveH(1,"char")},goColumnLeft:function(i){return i.moveH(-1,"column")},goColumnRight:function(i){return i.moveH(1,"column")},goWordLeft:function(i){return i.moveH(-1,"word")},goGroupRight:function(i){return i.moveH(1,"group")},goGroupLeft:function(i){return i.moveH(-1,"group")},goWordRight:function(i){return i.moveH(1,"word")},delCharBefore:function(i){return i.deleteH(-1,"codepoint")},delCharAfter:function(i){return i.deleteH(1,"char")},delWordBefore:function(i){return i.deleteH(-1,"word")},delWordAfter:function(i){return i.deleteH(1,"word")},delGroupBefore:function(i){return i.deleteH(-1,"group")},delGroupAfter:function(i){return i.deleteH(1,"group")},indentAuto:function(i){return i.indentSelection("smart")},indentMore:function(i){return i.indentSelection("add")},indentLess:function(i){return i.indentSelection("subtract")},insertTab:function(i){return i.replaceSelection("	")},insertSoftTab:function(i){for(var s=[],c=i.listSelections(),u=i.options.tabSize,d=0;d<c.length;d++){var g=c[d].from(),y=Ot(i.getLine(g.line),g.ch,u);s.push(nr(u-y%u))}i.replaceSelections(s)},defaultTab:function(i){i.somethingSelected()?i.indentSelection("add"):i.execCommand("insertTab")},transposeChars:function(i){return En(i,function(){for(var s=i.listSelections(),c=[],u=0;u<s.length;u++)if(s[u].empty()){var d=s[u].head,g=be(i.doc,d.line).text;if(g){if(d.ch==g.length&&(d=new F(d.line,d.ch-1)),d.ch>0)d=new F(d.line,d.ch+1),i.replaceRange(g.charAt(d.ch-1)+g.charAt(d.ch-2),F(d.line,d.ch-2),d,"+transpose");else if(d.line>i.doc.first){var y=be(i.doc,d.line-1).text;y&&(d=new F(d.line,1),i.replaceRange(g.charAt(0)+i.doc.lineSeparator()+y.charAt(y.length-1),F(d.line-1,y.length-1),d,"+transpose"))}}c.push(new lr(d,d))}i.setSelections(c)})},newlineAndIndent:function(i){return En(i,function(){for(var s=i.listSelections(),c=s.length-1;c>=0;c--)i.replaceRange(i.doc.lineSeparator(),s[c].anchor,s[c].head,"+input");s=i.listSelections();for(var u=0;u<s.length;u++)i.indentLine(s[u].from().line,null,!0);Zo(i)})},openLine:function(i){return i.replaceSelection(`
`,"start")},toggleOverwrite:function(i){return i.toggleOverwrite()}};function bc(i,s){var c=be(i.doc,s),u=Xe(c);return u!=c&&(s=Ze(u)),eu(!0,i,u,s,1)}function _c(i,s){var c=be(i.doc,s),u=Bo(c);return u!=c&&(s=Ze(u)),eu(!0,i,c,s,-1)}function xc(i,s){var c=bc(i,s.line),u=be(i.doc,c.line),d=$e(u,i.doc.direction);if(!d||d[0].level==0){var g=Math.max(c.ch,u.text.search(/\S/)),y=s.line==c.line&&s.ch<=g&&s.ch;return F(c.line,y?0:g,c.sticky)}return c}function oi(i,s,c){if(typeof s=="string"&&(s=ls[s],!s))return!1;i.display.input.ensurePolled();var u=i.display.shift,d=!1;try{i.isReadOnly()&&(i.state.suppressEdits=!0),c&&(i.display.shift=!1),d=s(i)!=$t}finally{i.display.shift=u,i.state.suppressEdits=!1}return d}function rp(i,s,c){for(var u=0;u<i.state.keyMaps.length;u++){var d=ya(s,i.state.keyMaps[u],c,i);if(d)return d}return i.options.extraKeys&&ya(s,i.options.extraKeys,c,i)||ya(s,i.options.keyMap,c,i)}var np=new Rt;function wa(i,s,c,u){var d=i.state.keySeq;if(d){if(gc(s))return"handled";if(/\'$/.test(s)?i.state.keySeq=null:np.set(50,function(){i.state.keySeq==d&&(i.state.keySeq=null,i.display.input.reset())}),ru(i,d+" "+s,c,u))return!0}return ru(i,s,c,u)}function ru(i,s,c,u){var d=rp(i,s,u);return d=="multi"&&(i.state.keySeq=s),d=="handled"&&Ir(i,"keyHandled",i,s,c),(d=="handled"||d=="multi")&&(nt(c),Rl(i)),!!d}function nu(i,s){var c=yc(s,!0);return c?s.shiftKey&&!i.state.keySeq?wa(i,"Shift-"+c,s,function(u){return oi(i,u,!0)})||wa(i,c,s,function(u){if(typeof u=="string"?/^go[A-Z]/.test(u):u.motion)return oi(i,u)}):wa(i,c,s,function(u){return oi(i,u)}):!1}function Cc(i,s,c){return wa(i,"'"+c+"'",s,function(u){return oi(i,u,!0)})}var il=null;function Sc(i){var s=this;if(!(i.target&&i.target!=s.display.input.getField())&&(s.curOp.focus=at(Ut(s)),!cr(s,i))){C&&M<11&&i.keyCode==27&&(i.returnValue=!1);var c=i.keyCode;s.display.shift=c==16||i.shiftKey;var u=nu(s,i);O&&(il=u?c:null,!u&&c==88&&!wo&&(k?i.metaKey:i.ctrlKey)&&s.replaceSelection("",null,"cut")),ht&&!k&&!u&&c==46&&i.shiftKey&&!i.ctrlKey&&document.execCommand&&document.execCommand("cut"),c==18&&!/\bCodeMirror-crosshair\b/.test(s.display.lineDiv.className)&&us(s)}}function us(i){var s=i.display.lineDiv;Lt(s,"CodeMirror-crosshair");function c(u){(u.keyCode==18||!u.altKey)&&(I(s,"CodeMirror-crosshair"),ke(document,"keyup",c),ke(document,"mouseover",c))}_e(document,"keyup",c),_e(document,"mouseover",c)}function al(i){i.keyCode==16&&(this.doc.sel.shift=!1),cr(this,i)}function ou(i){var s=this;if(!(i.target&&i.target!=s.display.input.getField())&&!(io(s.display,i)||cr(s,i)||i.ctrlKey&&!i.altKey||k&&i.metaKey)){var c=i.keyCode,u=i.charCode;if(O&&c==il){il=null,nt(i);return}if(!(O&&(!i.which||i.which<10)&&nu(s,i))){var d=String.fromCharCode(u??c);d!="\b"&&(Cc(s,i,d)||s.display.input.onKeyPress(i))}}}var Oc=400,sl=function(i,s,c){this.time=i,this.pos=s,this.button=c};sl.prototype.compare=function(i,s,c){return this.time+Oc>i&&lt(s,this.pos)==0&&c==this.button};var ko,cs;function op(i,s){var c=+new Date;return cs&&cs.compare(c,i,s)?(ko=cs=null,"triple"):ko&&ko.compare(c,i,s)?(cs=new sl(c,i,s),ko=null,"double"):(ko=new sl(c,i,s),cs=null,"single")}function iu(i){var s=this,c=s.display;if(!(cr(s,i)||c.activeTouch&&c.input.supportsTouch())){if(c.input.ensurePolled(),c.shift=i.shiftKey,io(c,i)){m||(c.scroller.draggable=!1,setTimeout(function(){return c.scroller.draggable=!0},100));return}if(!Fn(s,i)){var u=Ko(s,i),d=Ae(i),g=u?op(u,d):"single";Yt(s).focus(),d==1&&s.state.selectingText&&s.state.selectingText(i),!(u&&ip(s,d,u,g,i))&&(d==1?u?Tc(s,u,g,i):he(i)==c.scroller&&nt(i):d==2?(u&&Qs(s.doc,u),setTimeout(function(){return c.input.focus()},20)):d==3&&(T?s.display.input.onContextMenu(i):Nl(s)))}}}function ip(i,s,c,u,d){var g="Click";return u=="double"?g="Double"+g:u=="triple"&&(g="Triple"+g),g=(s==1?"Left":s==2?"Middle":"Right")+g,wa(i,mc(g,d),d,function(y){if(typeof y=="string"&&(y=ls[y]),!y)return!1;var S=!1;try{i.isReadOnly()&&(i.state.suppressEdits=!0),S=y(i,c)!=$t}finally{i.state.suppressEdits=!1}return S})}function ap(i,s,c){var u=i.getOption("configureMouse"),d=u?u(i,s,c):{};if(d.unit==null){var g=q?c.shiftKey&&c.metaKey:c.altKey;d.unit=g?"rectangle":s=="single"?"char":s=="double"?"word":"line"}return(d.extend==null||i.doc.extend)&&(d.extend=i.doc.extend||c.shiftKey),d.addNew==null&&(d.addNew=k?c.metaKey:c.ctrlKey),d.moveOnDrag==null&&(d.moveOnDrag=!(k?c.altKey:c.ctrlKey)),d}function Tc(i,s,c,u){C?setTimeout(Bt(Gs,i),0):i.curOp.focus=at(Ut(i));var d=ap(i,c,u),g=i.doc.sel,y;i.options.dragDrop&&qe&&!i.isReadOnly()&&c=="single"&&(y=g.contains(s))>-1&&(lt((y=g.ranges[y]).from(),s)<0||s.xRel>0)&&(lt(y.to(),s)>0||s.xRel<0)?sp(i,u,s,d):lp(i,u,s,d)}function sp(i,s,c,u){var d=i.display,g=!1,y=$r(i,function(W){m&&(d.scroller.draggable=!1),i.state.draggingText=!1,i.state.delayingBlurEvent&&(i.hasFocus()?i.state.delayingBlurEvent=!1:Nl(i)),ke(d.wrapper.ownerDocument,"mouseup",y),ke(d.wrapper.ownerDocument,"mousemove",S),ke(d.scroller,"dragstart",D),ke(d.scroller,"drop",y),g||(nt(W),u.addNew||Qs(i.doc,c,null,null,u.extend),m&&!L||C&&M==9?setTimeout(function(){d.wrapper.ownerDocument.body.focus({preventScroll:!0}),d.input.focus()},20):d.input.focus())}),S=function(W){g=g||Math.abs(s.clientX-W.clientX)+Math.abs(s.clientY-W.clientY)>=10},D=function(){return g=!0};m&&(d.scroller.draggable=!0),i.state.draggingText=y,y.copy=!u.moveOnDrag,_e(d.wrapper.ownerDocument,"mouseup",y),_e(d.wrapper.ownerDocument,"mousemove",S),_e(d.scroller,"dragstart",D),_e(d.scroller,"drop",y),i.state.delayingBlurEvent=!0,setTimeout(function(){return d.input.focus()},20),d.scroller.dragDrop&&d.scroller.dragDrop()}function Ec(i,s,c){if(c=="char")return new lr(s,s);if(c=="word")return i.findWordAt(s);if(c=="line")return new lr(F(s.line,0),xe(i.doc,F(s.line+1,0)));var u=c(i,s);return new lr(u.from,u.to)}function lp(i,s,c,u){C&&Nl(i);var d=i.display,g=i.doc;nt(s);var y,S,D=g.sel,W=D.ranges;if(u.addNew&&!u.extend?(S=g.sel.contains(c),S>-1?y=W[S]:y=new lr(c,c)):(y=g.sel.primary(),S=g.sel.primIndex),u.unit=="rectangle")u.addNew||(y=new lr(c,c)),c=Ko(i,s,!0,!0),S=-1;else{var ft=Ec(i,c,u.unit);u.extend?y=Xl(y,ft.anchor,ft.head,u.extend):y=ft}u.addNew?S==-1?(S=W.length,pn(g,lo(i,W.concat([y]),S),{scroll:!1,origin:"*mouse"})):W.length>1&&W[S].empty()&&u.unit=="char"&&!u.extend?(pn(g,lo(i,W.slice(0,S).concat(W.slice(S+1)),0),{scroll:!1,origin:"*mouse"}),D=g.sel):Jl(g,S,y,de):(S=0,pn(g,new Nn([y],0),de),D=g.sel);var bt=c;function Dt(ue){if(lt(bt,ue)!=0)if(bt=ue,u.unit=="rectangle"){for(var me=[],Te=i.options.tabSize,Oe=Ot(be(g,c.line).text,c.ch,Te),We=Ot(be(g,ue.line).text,ue.ch,Te),gr=Math.min(Oe,We),Zr=Math.max(Oe,We),Or=Math.min(c.line,ue.line),nn=Math.min(i.lastLine(),Math.max(c.line,ue.line));Or<=nn;Or++){var bn=be(g,Or).text,hr=Je(bn,gr,Te);gr==Zr?me.push(new lr(F(Or,hr),F(Or,hr))):bn.length>hr&&me.push(new lr(F(Or,hr),F(Or,Je(bn,Zr,Te))))}me.length||me.push(new lr(c,c)),pn(g,lo(i,D.ranges.slice(0,S).concat(me),S),{origin:"*mouse",scroll:!1}),i.scrollIntoView(ue)}else{var kn=y,Yr=Ec(i,ue,u.unit),Gr=kn.anchor,Br;lt(Yr.anchor,Gr)>0?(Br=Yr.head,Gr=Ye(kn.from(),Yr.anchor)):(Br=Yr.anchor,Gr=je(kn.to(),Yr.head));var Er=D.ranges.slice(0);Er[S]=up(i,new lr(xe(g,Gr),Br)),pn(g,lo(i,Er,S),de)}}var Et=d.wrapper.getBoundingClientRect(),zt=0;function Gt(ue){var me=++zt,Te=Ko(i,ue,!0,u.unit=="rectangle");if(Te)if(lt(Te,bt)!=0){i.curOp.focus=at(Ut(i)),Dt(Te);var Oe=Ti(d,g);(Te.line>=Oe.to||Te.line<Oe.from)&&setTimeout($r(i,function(){zt==me&&Gt(ue)}),150)}else{var We=ue.clientY<Et.top?-20:ue.clientY>Et.bottom?20:0;We&&setTimeout($r(i,function(){zt==me&&(d.scroller.scrollTop+=We,Gt(ue))}),50)}}function oe(ue){i.state.selectingText=!1,zt=1/0,ue&&(nt(ue),d.input.focus()),ke(d.wrapper.ownerDocument,"mousemove",le),ke(d.wrapper.ownerDocument,"mouseup",ge),g.history.lastSelOrigin=null}var le=$r(i,function(ue){ue.buttons===0||!Ae(ue)?oe(ue):Gt(ue)}),ge=$r(i,oe);i.state.selectingText=ge,_e(d.wrapper.ownerDocument,"mousemove",le),_e(d.wrapper.ownerDocument,"mouseup",ge)}function up(i,s){var c=s.anchor,u=s.head,d=be(i.doc,c.line);if(lt(c,u)==0&&c.sticky==u.sticky)return s;var g=$e(d);if(!g)return s;var y=tr(g,c.ch,c.sticky),S=g[y];if(S.from!=c.ch&&S.to!=c.ch)return s;var D=y+(S.from==c.ch==(S.level!=1)?0:1);if(D==0||D==g.length)return s;var W;if(u.line!=c.line)W=(u.line-c.line)*(i.doc.direction=="ltr"?1:-1)>0;else{var ft=tr(g,u.ch,u.sticky),bt=ft-y||(u.ch-c.ch)*(S.level==1?-1:1);ft==D-1||ft==D?W=bt<0:W=bt>0}var Dt=g[D+(W?-1:0)],Et=W==(Dt.level==1),zt=Et?Dt.from:Dt.to,Gt=Et?"after":"before";return c.ch==zt&&c.sticky==Gt?s:new lr(new F(c.line,zt,Gt),u)}function Pc(i,s,c,u){var d,g;if(s.touches)d=s.touches[0].clientX,g=s.touches[0].clientY;else try{d=s.clientX,g=s.clientY}catch{return!1}if(d>=Math.floor(i.display.gutters.getBoundingClientRect().right))return!1;u&&nt(s);var y=i.display,S=y.lineDiv.getBoundingClientRect();if(g>S.bottom||!te(i,c))return Mt(s);g-=S.top-y.viewOffset;for(var D=0;D<i.display.gutterSpecs.length;++D){var W=y.gutters.childNodes[D];if(W&&W.getBoundingClientRect().right>=d){var ft=tn(i.doc,g),bt=i.display.gutterSpecs[D];return sr(i,c,i,ft,bt.className,s),Mt(s)}}}function Fn(i,s){return Pc(i,s,"gutterClick",!0)}function jn(i,s){io(i.display,s)||ba(i,s)||cr(i,s,"contextmenu")||T||i.display.input.onContextMenu(s)}function ba(i,s){return te(i,"gutterContextMenu")?Pc(i,s,"gutterContextMenu",!1):!1}function au(i){i.display.wrapper.className=i.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+i.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Ci(i)}var ii={toString:function(){return"CodeMirror.Init"}},kc={},ll={};function Ac(i){var s=i.optionHandlers;function c(u,d,g,y){i.defaults[u]=d,g&&(s[u]=y?function(S,D,W){W!=ii&&g(S,D,W)}:g)}i.defineOption=c,i.Init=ii,c("value","",function(u,d){return u.setValue(d)},!0),c("mode",null,function(u,d){u.doc.modeOption=d,ql(u)},!0),c("indentUnit",2,ql,!0),c("indentWithTabs",!1),c("smartIndent",!0),c("tabSize",4,function(u){ua(u),Ci(u),rn(u)},!0),c("lineSeparator",null,function(u,d){if(u.doc.lineSep=d,!!d){var g=[],y=u.doc.first;u.doc.iter(function(D){for(var W=0;;){var ft=D.text.indexOf(d,W);if(ft==-1)break;W=ft+d.length,g.push(F(y,ft))}y++});for(var S=g.length-1;S>=0;S--)da(u.doc,d,g[S],F(g[S].line,g[S].ch+d.length))}}),c("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(u,d,g){u.state.specialChars=new RegExp(d.source+(d.test("	")?"":"|	"),"g"),g!=ii&&u.refresh()}),c("specialCharPlaceholder",As,function(u){return u.refresh()},!0),c("electricChars",!0),c("inputStyle",j?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),c("spellcheck",!1,function(u,d){return u.getInputField().spellcheck=d},!0),c("autocorrect",!1,function(u,d){return u.getInputField().autocorrect=d},!0),c("autocapitalize",!1,function(u,d){return u.getInputField().autocapitalize=d},!0),c("rtlMoveVisually",!et),c("wholeLineUpdateBefore",!0),c("theme","default",function(u){au(u),Yo(u)},!0),c("keyMap","default",function(u,d,g){var y=ol(d),S=g!=ii&&ol(g);S&&S.detach&&S.detach(u,y),y.attach&&y.attach(u,S||null)}),c("extraKeys",null),c("configureMouse",null),c("lineWrapping",!1,Mc,!0),c("gutters",[],function(u,d){u.display.gutterSpecs=Di(d,u.options.lineNumbers),Yo(u)},!0),c("fixedGutter",!0,function(u,d){u.display.gutters.style.left=d?oa(u.display)+"px":"0",u.refresh()},!0),c("coverGutterNextToScrollbar",!1,function(u){return so(u)},!0),c("scrollbarStyle","native",function(u){Bl(u),so(u),u.display.scrollbars.setScrollTop(u.doc.scrollTop),u.display.scrollbars.setScrollLeft(u.doc.scrollLeft)},!0),c("lineNumbers",!1,function(u,d){u.display.gutterSpecs=Di(u.options.gutters,d),Yo(u)},!0),c("firstLineNumber",1,Yo,!0),c("lineNumberFormatter",function(u){return u},Yo,!0),c("showCursorWhenSelecting",!1,$a,!0),c("resetSelectionOnContextMenu",!0),c("lineWiseCopyCut",!0),c("pasteLinesPerSelection",!0),c("selectionsMayTouch",!1),c("readOnly",!1,function(u,d){d=="nocursor"&&(aa(u),u.display.input.blur()),u.display.input.readOnlyChanged(d)}),c("screenReaderLabel",null,function(u,d){d=d===""?null:d,u.display.input.screenReaderLabelChanged(d)}),c("disableInput",!1,function(u,d){d||u.display.input.reset()},!0),c("dragDrop",!0,cp),c("allowDropFileTypes",null),c("cursorBlinkRate",530),c("cursorScrollMargin",0),c("cursorHeight",1,$a,!0),c("singleCursorHeightPerLine",!0,$a,!0),c("workTime",100),c("workDelay",100),c("flattenSpans",!0,ua,!0),c("addModeClass",!1,ua,!0),c("pollInterval",100),c("undoDepth",200,function(u,d){return u.doc.history.undoDepth=d}),c("historyEventDelay",1250),c("viewportMargin",10,function(u){return u.refresh()},!0),c("maxHighlightLength",1e4,ua,!0),c("moveInputWithCursor",!0,function(u,d){d||u.display.input.resetPosition()}),c("tabindex",null,function(u,d){return u.display.input.getField().tabIndex=d||""}),c("autofocus",null),c("direction","ltr",function(u,d){return u.doc.setDirection(d)},!0),c("phrases",null)}function cp(i,s,c){var u=c&&c!=ii;if(!s!=!u){var d=i.display.dragFunctions,g=s?_e:ke;g(i.display.scroller,"dragstart",d.start),g(i.display.scroller,"dragenter",d.enter),g(i.display.scroller,"dragover",d.over),g(i.display.scroller,"dragleave",d.leave),g(i.display.scroller,"drop",d.drop)}}function Mc(i){i.options.lineWrapping?(Lt(i.display.wrapper,"CodeMirror-wrap"),i.display.sizer.style.minWidth="",i.display.sizerWidth=null):(I(i.display.wrapper,"CodeMirror-wrap"),ro(i)),jl(i),rn(i),Ci(i),setTimeout(function(){return so(i)},100)}function wr(i,s){var c=this;if(!(this instanceof wr))return new wr(i,s);this.options=s=s?ne(s):{},ne(kc,s,!1);var u=s.value;typeof u=="string"?u=new Pn(u,s.mode,null,s.lineSeparator,s.direction):s.mode&&(u.modeOption=s.mode),this.doc=u;var d=new wr.inputStyles[s.inputStyle](this),g=this.display=new Nf(i,u,d,s);g.wrapper.CodeMirror=this,au(this),s.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Bl(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Rt,keySeq:null,specialChars:null},s.autofocus&&!j&&g.input.focus(),C&&M<11&&setTimeout(function(){return c.display.input.reset(!0)},20),Lc(this),Qf(),Mi(this),this.curOp.forceUpdate=!0,$u(this,u),s.autofocus&&!j||this.hasFocus()?setTimeout(function(){c.hasFocus()&&!c.state.focused&&ia(c)},20):aa(this);for(var y in ll)ll.hasOwnProperty(y)&&ll[y](this,s[y],ii);Hu(this),s.finishInit&&s.finishInit(this);for(var S=0;S<ul.length;++S)ul[S](this);Li(this),m&&s.lineWrapping&&getComputedStyle(g.lineDiv).textRendering=="optimizelegibility"&&(g.lineDiv.style.textRendering="auto")}wr.defaults=kc,wr.optionHandlers=ll;function Lc(i){var s=i.display;_e(s.scroller,"mousedown",$r(i,iu)),C&&M<11?_e(s.scroller,"dblclick",$r(i,function(D){if(!cr(i,D)){var W=Ko(i,D);if(!(!W||Fn(i,D)||io(i.display,D))){nt(D);var ft=i.findWordAt(W);Qs(i.doc,ft.anchor,ft.head)}}})):_e(s.scroller,"dblclick",function(D){return cr(i,D)||nt(D)}),_e(s.scroller,"contextmenu",function(D){return jn(i,D)}),_e(s.input.getField(),"contextmenu",function(D){s.scroller.contains(D.target)||jn(i,D)});var c,u={end:0};function d(){s.activeTouch&&(c=setTimeout(function(){return s.activeTouch=null},1e3),u=s.activeTouch,u.end=+new Date)}function g(D){if(D.touches.length!=1)return!1;var W=D.touches[0];return W.radiusX<=1&&W.radiusY<=1}function y(D,W){if(W.left==null)return!0;var ft=W.left-D.left,bt=W.top-D.top;return ft*ft+bt*bt>20*20}_e(s.scroller,"touchstart",function(D){if(!cr(i,D)&&!g(D)&&!Fn(i,D)){s.input.ensurePolled(),clearTimeout(c);var W=+new Date;s.activeTouch={start:W,moved:!1,prev:W-u.end<=300?u:null},D.touches.length==1&&(s.activeTouch.left=D.touches[0].pageX,s.activeTouch.top=D.touches[0].pageY)}}),_e(s.scroller,"touchmove",function(){s.activeTouch&&(s.activeTouch.moved=!0)}),_e(s.scroller,"touchend",function(D){var W=s.activeTouch;if(W&&!io(s,D)&&W.left!=null&&!W.moved&&new Date-W.start<300){var ft=i.coordsChar(s.activeTouch,"page"),bt;!W.prev||y(W,W.prev)?bt=new lr(ft,ft):!W.prev.prev||y(W,W.prev.prev)?bt=i.findWordAt(ft):bt=new lr(F(ft.line,0),xe(i.doc,F(ft.line+1,0))),i.setSelection(bt.anchor,bt.head),i.focus(),nt(D)}d()}),_e(s.scroller,"touchcancel",d),_e(s.scroller,"scroll",function(){s.scroller.clientHeight&&(la(i,s.scroller.scrollTop),Ei(i,s.scroller.scrollLeft,!0),sr(i,"scroll",i))}),_e(s.scroller,"mousewheel",function(D){return zu(i,D)}),_e(s.scroller,"DOMMouseScroll",function(D){return zu(i,D)}),_e(s.wrapper,"scroll",function(){return s.wrapper.scrollTop=s.wrapper.scrollLeft=0}),s.dragFunctions={enter:function(D){cr(i,D)||qt(D)},over:function(D){cr(i,D)||(Jf(i,D),qt(D))},start:function(D){return os(i,D)},drop:$r(i,nl),leave:function(D){cr(i,D)||pc(i)}};var S=s.input.getField();_e(S,"keyup",function(D){return al.call(i,D)}),_e(S,"keydown",$r(i,Sc)),_e(S,"keypress",$r(i,ou)),_e(S,"focus",function(D){return ia(i,D)}),_e(S,"blur",function(D){return aa(i,D)})}var ul=[];wr.defineInitHook=function(i){return ul.push(i)};function fs(i,s,c,u){var d=i.doc,g;c==null&&(c="add"),c=="smart"&&(d.mode.indent?g=Qn(i,s).state:c="prev");var y=i.options.tabSize,S=be(d,s),D=Ot(S.text,null,y);S.stateAfter&&(S.stateAfter=null);var W=S.text.match(/^\s*/)[0],ft;if(!u&&!/\S/.test(S.text))ft=0,c="not";else if(c=="smart"&&(ft=d.mode.indent(g,S.text.slice(W.length),S.text),ft==$t||ft>150)){if(!u)return;c="prev"}c=="prev"?s>d.first?ft=Ot(be(d,s-1).text,null,y):ft=0:c=="add"?ft=D+i.options.indentUnit:c=="subtract"?ft=D-i.options.indentUnit:typeof c=="number"&&(ft=D+c),ft=Math.max(0,ft);var bt="",Dt=0;if(i.options.indentWithTabs)for(var Et=Math.floor(ft/y);Et;--Et)Dt+=y,bt+="	";if(Dt<ft&&(bt+=nr(ft-Dt)),bt!=W)return da(d,bt,F(s,0),F(s,W.length),"+input"),S.stateAfter=null,!0;for(var zt=0;zt<d.sel.ranges.length;zt++){var Gt=d.sel.ranges[zt];if(Gt.head.line==s&&Gt.head.ch<W.length){var oe=F(s,W.length);Jl(d,zt,new lr(oe,oe));break}}}var uo=null;function cl(i){uo=i}function su(i,s,c,u,d){var g=i.doc;i.display.shift=!1,u||(u=g.sel);var y=+new Date-200,S=d=="paste"||i.state.pasteIncoming>y,D=vn(s),W=null;if(S&&u.ranges.length>1)if(uo&&uo.text.join(`
`)==s){if(u.ranges.length%uo.text.length==0){W=[];for(var ft=0;ft<uo.text.length;ft++)W.push(g.splitLines(uo.text[ft]))}}else D.length==u.ranges.length&&i.options.pasteLinesPerSelection&&(W=K(D,function(le){return[le]}));for(var bt=i.curOp.updateInput,Dt=u.ranges.length-1;Dt>=0;Dt--){var Et=u.ranges[Dt],zt=Et.from(),Gt=Et.to();Et.empty()&&(c&&c>0?zt=F(zt.line,zt.ch-c):i.state.overwrite&&!S?Gt=F(Gt.line,Math.min(be(g,Gt.line).text.length,Gt.ch+ve(D).length)):S&&uo&&uo.lineWise&&uo.text.join(`
`)==D.join(`
`)&&(zt=Gt=F(zt.line,0)));var oe={from:zt,to:Gt,text:W?W[Dt%W.length]:D,origin:d||(S?"paste":i.state.cutIncoming>y?"cut":"+input")};pa(i.doc,oe),Ir(i,"inputRead",i,oe)}s&&!S&&jc(i,s),Zo(i),i.curOp.updateInput<2&&(i.curOp.updateInput=bt),i.curOp.typing=!0,i.state.pasteIncoming=i.state.cutIncoming=-1}function Dc(i,s){var c=i.clipboardData&&i.clipboardData.getData("Text");if(c)return i.preventDefault(),!s.isReadOnly()&&!s.options.disableInput&&s.hasFocus()&&En(s,function(){return su(s,c,0,null,"paste")}),!0}function jc(i,s){if(!(!i.options.electricChars||!i.options.smartIndent))for(var c=i.doc.sel,u=c.ranges.length-1;u>=0;u--){var d=c.ranges[u];if(!(d.head.ch>100||u&&c.ranges[u-1].head.line==d.head.line)){var g=i.getModeAt(d.head),y=!1;if(g.electricChars){for(var S=0;S<g.electricChars.length;S++)if(s.indexOf(g.electricChars.charAt(S))>-1){y=fs(i,d.head.line,"smart");break}}else g.electricInput&&g.electricInput.test(be(i.doc,d.head.line).text.slice(0,d.head.ch))&&(y=fs(i,d.head.line,"smart"));y&&Ir(i,"electricInput",i,d.head.line)}}}function Ic(i){for(var s=[],c=[],u=0;u<i.doc.sel.ranges.length;u++){var d=i.doc.sel.ranges[u].head.line,g={anchor:F(d,0),head:F(d+1,0)};c.push(g),s.push(i.getRange(g.anchor,g.head))}return{text:s,ranges:c}}function lu(i,s,c,u){i.setAttribute("autocorrect",c?"on":"off"),i.setAttribute("autocapitalize",u?"on":"off"),i.setAttribute("spellcheck",!!s)}function uu(){var i=E("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),s=E("div",[i],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return m?i.style.width="1000px":i.setAttribute("wrap","off"),U&&(i.style.border="1px solid black"),s}function Vc(i){var s=i.optionHandlers,c=i.helpers={};i.prototype={constructor:i,focus:function(){Yt(this).focus(),this.display.input.focus()},setOption:function(u,d){var g=this.options,y=g[u];g[u]==d&&u!="mode"||(g[u]=d,s.hasOwnProperty(u)&&$r(this,s[u])(this,d,y),sr(this,"optionChange",this,u))},getOption:function(u){return this.options[u]},getDoc:function(){return this.doc},addKeyMap:function(u,d){this.state.keyMaps[d?"push":"unshift"](ol(u))},removeKeyMap:function(u){for(var d=this.state.keyMaps,g=0;g<d.length;++g)if(d[g]==u||d[g].name==u)return d.splice(g,1),!0},addOverlay:_r(function(u,d){var g=u.token?u:i.getMode(this.options,u);if(g.startState)throw new Error("Overlays may not be stateful.");it(this.state.overlays,{mode:g,modeSpec:u,opaque:d&&d.opaque,priority:d&&d.priority||0},function(y){return y.priority}),this.state.modeGen++,rn(this)}),removeOverlay:_r(function(u){for(var d=this.state.overlays,g=0;g<d.length;++g){var y=d[g].modeSpec;if(y==u||typeof u=="string"&&y.name==u){d.splice(g,1),this.state.modeGen++,rn(this);return}}}),indentLine:_r(function(u,d,g){typeof d!="string"&&typeof d!="number"&&(d==null?d=this.options.smartIndent?"smart":"prev":d=d?"add":"subtract"),Dr(this.doc,u)&&fs(this,u,d,g)}),indentSelection:_r(function(u){for(var d=this.doc.sel.ranges,g=-1,y=0;y<d.length;y++){var S=d[y];if(S.empty())S.head.line>g&&(fs(this,S.head.line,u,!0),g=S.head.line,y==this.doc.sel.primIndex&&Zo(this));else{var D=S.from(),W=S.to(),ft=Math.max(g,D.line);g=Math.min(this.lastLine(),W.line-(W.ch?0:1))+1;for(var bt=ft;bt<g;++bt)fs(this,bt,u);var Dt=this.doc.sel.ranges;D.ch==0&&d.length==Dt.length&&Dt[y].from().ch>0&&Jl(this.doc,y,new lr(D,Dt[y].to()),Jt)}}}),getTokenAt:function(u,d){return jr(this,u,d)},getLineTokens:function(u,d){return jr(this,F(u),d,!0)},getTokenTypeAt:function(u){u=xe(this.doc,u);var d=Ma(this,be(this.doc,u.line)),g=0,y=(d.length-1)/2,S=u.ch,D;if(S==0)D=d[2];else for(;;){var W=g+y>>1;if((W?d[W*2-1]:0)>=S)y=W;else if(d[W*2+1]<S)g=W+1;else{D=d[W*2+2];break}}var ft=D?D.indexOf("overlay "):-1;return ft<0?D:ft==0?null:D.slice(0,ft-1)},getModeAt:function(u){var d=this.doc.mode;return d.innerMode?i.innerMode(d,this.getTokenAt(u).state).mode:d},getHelper:function(u,d){return this.getHelpers(u,d)[0]},getHelpers:function(u,d){var g=[];if(!c.hasOwnProperty(d))return g;var y=c[d],S=this.getModeAt(u);if(typeof S[d]=="string")y[S[d]]&&g.push(y[S[d]]);else if(S[d])for(var D=0;D<S[d].length;D++){var W=y[S[d][D]];W&&g.push(W)}else S.helperType&&y[S.helperType]?g.push(y[S.helperType]):y[S.name]&&g.push(y[S.name]);for(var ft=0;ft<y._global.length;ft++){var bt=y._global[ft];bt.pred(S,this)&&Wt(g,bt.val)==-1&&g.push(bt.val)}return g},getStateAfter:function(u,d){var g=this.doc;return u=rr(g,u??g.first+g.size-1),Qn(this,u+1,d).state},cursorCoords:function(u,d){var g,y=this.doc.sel.primary();return u==null?g=y.head:typeof u=="object"?g=xe(this.doc,u):g=u?y.from():y.to(),Dn(this,g,d||"page")},charCoords:function(u,d){return Fs(this,xe(this.doc,u),d||"page")},coordsChar:function(u,d){return u=Du(this,u,d||"page"),Ml(this,u.left,u.top)},lineAtHeight:function(u,d){return u=Du(this,{top:u,left:0},d||"page").top,tn(this.doc,u+this.display.viewOffset)},heightAtLine:function(u,d,g){var y=!1,S;if(typeof u=="number"){var D=this.doc.first+this.doc.size-1;u<this.doc.first?u=this.doc.first:u>D&&(u=D,y=!0),S=be(this.doc,u)}else S=u;return Ns(this,S,{top:0,left:0},d||"page",g||y).top+(y?this.doc.height-ar(S):0)},defaultTextHeight:function(){return ra(this.display)},defaultCharWidth:function(){return na(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(u,d,g,y,S){var D=this.display;u=Dn(this,xe(this.doc,u));var W=u.bottom,ft=u.left;if(d.style.position="absolute",d.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(d),D.sizer.appendChild(d),y=="over")W=u.top;else if(y=="above"||y=="near"){var bt=Math.max(D.wrapper.clientHeight,this.doc.height),Dt=Math.max(D.sizer.clientWidth,D.lineSpace.clientWidth);(y=="above"||u.bottom+d.offsetHeight>bt)&&u.top>d.offsetHeight?W=u.top-d.offsetHeight:u.bottom+d.offsetHeight<=bt&&(W=u.bottom),ft+d.offsetWidth>Dt&&(ft=Dt-d.offsetWidth)}d.style.top=W+"px",d.style.left=d.style.right="",S=="right"?(ft=D.sizer.clientWidth-d.offsetWidth,d.style.right="0px"):(S=="left"?ft=0:S=="middle"&&(ft=(D.sizer.clientWidth-d.offsetWidth)/2),d.style.left=ft+"px"),g&&Ef(this,{left:ft,top:W,right:ft+d.offsetWidth,bottom:W+d.offsetHeight})},triggerOnKeyDown:_r(Sc),triggerOnKeyPress:_r(ou),triggerOnKeyUp:al,triggerOnMouseDown:_r(iu),execCommand:function(u){if(ls.hasOwnProperty(u))return ls[u].call(null,this)},triggerElectric:_r(function(u){jc(this,u)}),findPosH:function(u,d,g,y){var S=1;d<0&&(S=-1,d=-d);for(var D=xe(this.doc,u),W=0;W<d&&(D=cu(this.doc,D,S,g,y),!D.hitSide);++W);return D},moveH:_r(function(u,d){var g=this;this.extendSelectionsBy(function(y){return g.display.shift||g.doc.extend||y.empty()?cu(g.doc,y.head,u,d,g.options.rtlMoveVisually):u<0?y.from():y.to()},Ne)}),deleteH:_r(function(u,d){var g=this.doc.sel,y=this.doc;g.somethingSelected()?y.replaceSelection("",null,"+delete"):Ii(this,function(S){var D=cu(y,S.head,u,d,!1);return u<0?{from:D,to:S.head}:{from:S.head,to:D}})}),findPosV:function(u,d,g,y){var S=1,D=y;d<0&&(S=-1,d=-d);for(var W=xe(this.doc,u),ft=0;ft<d;++ft){var bt=Dn(this,W,"div");if(D==null?D=bt.left:bt.left=D,W=Rc(this,bt,S,g),W.hitSide)break}return W},moveV:_r(function(u,d){var g=this,y=this.doc,S=[],D=!this.display.shift&&!y.extend&&y.sel.somethingSelected();if(y.extendSelectionsBy(function(ft){if(D)return u<0?ft.from():ft.to();var bt=Dn(g,ft.head,"div");ft.goalColumn!=null&&(bt.left=ft.goalColumn),S.push(bt.left);var Dt=Rc(g,bt,u,d);return d=="page"&&ft==y.sel.primary()&&sa(g,Fs(g,Dt,"div").top-bt.top),Dt},Ne),S.length)for(var W=0;W<y.sel.ranges.length;W++)y.sel.ranges[W].goalColumn=S[W]}),findWordAt:function(u){var d=this.doc,g=be(d,u.line).text,y=u.ch,S=u.ch;if(g){var D=this.getHelper(u,"wordChars");(u.sticky=="before"||S==g.length)&&y?--y:++S;for(var W=g.charAt(y),ft=Vt(W,D)?function(bt){return Vt(bt,D)}:/\s/.test(W)?function(bt){return/\s/.test(bt)}:function(bt){return!/\s/.test(bt)&&!Vt(bt)};y>0&&ft(g.charAt(y-1));)--y;for(;S<g.length&&ft(g.charAt(S));)++S}return new lr(F(u.line,y),F(u.line,S))},toggleOverwrite:function(u){u!=null&&u==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Lt(this.display.cursorDiv,"CodeMirror-overwrite"):I(this.display.cursorDiv,"CodeMirror-overwrite"),sr(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==at(Ut(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:_r(function(u,d){qa(this,u,d)}),getScrollInfo:function(){var u=this.display.scroller;return{left:u.scrollLeft,top:u.scrollTop,height:u.scrollHeight-Y(this)-this.display.barHeight,width:u.scrollWidth-Y(this)-this.display.barWidth,clientHeight:xt(this),clientWidth:yt(this)}},scrollIntoView:_r(function(u,d){u==null?(u={from:this.doc.sel.primary().head,to:null},d==null&&(d=this.options.cursorScrollMargin)):typeof u=="number"?u={from:F(u,0),to:null}:u.from==null&&(u={from:u,to:null}),u.to||(u.to=u.from),u.margin=d||0,u.from.line!=null?Pf(this,u):Za(this,u.from,u.to,u.margin)}),setSize:_r(function(u,d){var g=this,y=function(D){return typeof D=="number"||/^\d+$/.test(String(D))?D+"px":D};u!=null&&(this.display.wrapper.style.width=y(u)),d!=null&&(this.display.wrapper.style.height=y(d)),this.options.lineWrapping&&Mu(this);var S=this.display.viewFrom;this.doc.iter(S,this.display.viewTo,function(D){if(D.widgets){for(var W=0;W<D.widgets.length;W++)if(D.widgets[W].noHScroll){$o(g,S,"widget");break}}++S}),this.curOp.forceUpdate=!0,sr(this,"refresh",this)}),operation:function(u){return En(this,u)},startOperation:function(){return Mi(this)},endOperation:function(){return Li(this)},refresh:_r(function(){var u=this.display.cachedTextHeight;rn(this),this.curOp.forceUpdate=!0,Ci(this),qa(this,this.doc.scrollLeft,this.doc.scrollTop),Gl(this.display),(u==null||Math.abs(u-ra(this.display))>.5||this.options.lineWrapping)&&jl(this),sr(this,"refresh",this)}),swapDoc:_r(function(u){var d=this.doc;return d.cm=null,this.state.selectingText&&this.state.selectingText(),$u(this,u),Ci(this),this.display.input.reset(),qa(this,u.scrollLeft,u.scrollTop),this.curOp.forceScroll=!0,Ir(this,"swapDoc",this,d),d}),phrase:function(u){var d=this.options.phrases;return d&&Object.prototype.hasOwnProperty.call(d,u)?d[u]:u},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Kn(i),i.registerHelper=function(u,d,g){c.hasOwnProperty(u)||(c[u]=i[u]={_global:[]}),c[u][d]=g},i.registerGlobalHelper=function(u,d,g,y){i.registerHelper(u,d,y),c[u]._global.push({pred:g,val:y})}}function cu(i,s,c,u,d){var g=s,y=c,S=be(i,s.line),D=d&&i.direction=="rtl"?-c:c;function W(){var ge=s.line+D;return ge<i.first||ge>=i.first+i.size?!1:(s=new F(ge,s.ch,s.sticky),S=be(i,ge))}function ft(ge){var ue;if(u=="codepoint"){var me=S.text.charCodeAt(s.ch+(c>0?0:-1));if(isNaN(me))ue=null;else{var Te=c>0?me>=55296&&me<56320:me>=56320&&me<57343;ue=new F(s.line,Math.max(0,Math.min(S.text.length,s.ch+c*(Te?2:1))),-c)}}else d?ue=wc(i.cm,S,s,c):ue=tu(S,s,c);if(ue==null)if(!ge&&W())s=eu(d,i.cm,S,s.line,D);else return!1;else s=ue;return!0}if(u=="char"||u=="codepoint")ft();else if(u=="column")ft(!0);else if(u=="word"||u=="group")for(var bt=null,Dt=u=="group",Et=i.cm&&i.cm.getHelper(s,"wordChars"),zt=!0;!(c<0&&!ft(!zt));zt=!1){var Gt=S.text.charAt(s.ch)||`
`,oe=Vt(Gt,Et)?"w":Dt&&Gt==`
`?"n":!Dt||/\s/.test(Gt)?null:"p";if(Dt&&!zt&&!oe&&(oe="s"),bt&&bt!=oe){c<0&&(c=1,ft(),s.sticky="after");break}if(oe&&(bt=oe),c>0&&!ft(!zt))break}var le=ti(i,s,g,y,!0);return Kt(g,le)&&(le.hitSide=!0),le}function Rc(i,s,c,u){var d=i.doc,g=s.left,y;if(u=="page"){var S=Math.min(i.display.wrapper.clientHeight,Yt(i).innerHeight||d(i).documentElement.clientHeight),D=Math.max(S-.5*ra(i.display),3);y=(c>0?s.bottom:s.top)+c*D}else u=="line"&&(y=c>0?s.bottom+3:s.top-3);for(var W;W=Ml(i,g,y),!!W.outside;){if(c<0?y<=0:y>=d.height){W.hitSide=!0;break}y+=c*5}return W}var er=function(i){this.cm=i,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Rt,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};er.prototype.init=function(i){var s=this,c=this,u=c.cm,d=c.div=i.lineDiv;d.contentEditable=!0,lu(d,u.options.spellcheck,u.options.autocorrect,u.options.autocapitalize);function g(S){for(var D=S.target;D;D=D.parentNode){if(D==d)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(D.className))break}return!1}_e(d,"paste",function(S){!g(S)||cr(u,S)||Dc(S,u)||M<=11&&setTimeout($r(u,function(){return s.updateFromDOM()}),20)}),_e(d,"compositionstart",function(S){s.composing={data:S.data,done:!1}}),_e(d,"compositionupdate",function(S){s.composing||(s.composing={data:S.data,done:!1})}),_e(d,"compositionend",function(S){s.composing&&(S.data!=s.composing.data&&s.readFromDOMSoon(),s.composing.done=!0)}),_e(d,"touchstart",function(){return c.forceCompositionEnd()}),_e(d,"input",function(){s.composing||s.readFromDOMSoon()});function y(S){if(!(!g(S)||cr(u,S))){if(u.somethingSelected())cl({lineWise:!1,text:u.getSelections()}),S.type=="cut"&&u.replaceSelection("",null,"cut");else if(u.options.lineWiseCopyCut){var D=Ic(u);cl({lineWise:!0,text:D.text}),S.type=="cut"&&u.operation(function(){u.setSelections(D.ranges,0,Jt),u.replaceSelection("",null,"cut")})}else return;if(S.clipboardData){S.clipboardData.clearData();var W=uo.text.join(`
`);if(S.clipboardData.setData("Text",W),S.clipboardData.getData("Text")==W){S.preventDefault();return}}var ft=uu(),bt=ft.firstChild;lu(bt),u.display.lineSpace.insertBefore(ft,u.display.lineSpace.firstChild),bt.value=uo.text.join(`
`);var Dt=at(d.ownerDocument);St(bt),setTimeout(function(){u.display.lineSpace.removeChild(ft),Dt.focus(),Dt==d&&c.showPrimarySelection()},50)}}_e(d,"copy",y),_e(d,"cut",y)},er.prototype.screenReaderLabelChanged=function(i){i?this.div.setAttribute("aria-label",i):this.div.removeAttribute("aria-label")},er.prototype.prepareSelection=function(){var i=Iu(this.cm,!1);return i.focus=at(this.div.ownerDocument)==this.div,i},er.prototype.showSelection=function(i,s){!i||!this.cm.display.view.length||((i.focus||s)&&this.showPrimarySelection(),this.showMultipleSelections(i))},er.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},er.prototype.showPrimarySelection=function(){var i=this.getSelection(),s=this.cm,c=s.doc.sel.primary(),u=c.from(),d=c.to();if(s.display.viewTo==s.display.viewFrom||u.line>=s.display.viewTo||d.line<s.display.viewFrom){i.removeAllRanges();return}var g=ps(s,i.anchorNode,i.anchorOffset),y=ps(s,i.focusNode,i.focusOffset);if(!(g&&!g.bad&&y&&!y.bad&&lt(Ye(g,y),u)==0&&lt(je(g,y),d)==0)){var S=s.display.view,D=u.line>=s.display.viewFrom&&Nc(s,u)||{node:S[0].measure.map[2],offset:0},W=d.line<s.display.viewTo&&Nc(s,d);if(!W){var ft=S[S.length-1].measure,bt=ft.maps?ft.maps[ft.maps.length-1]:ft.map;W={node:bt[bt.length-1],offset:bt[bt.length-2]-bt[bt.length-3]}}if(!D||!W){i.removeAllRanges();return}var Dt=i.rangeCount&&i.getRangeAt(0),Et;try{Et=x(D.node,D.offset,W.offset,W.node)}catch{}Et&&(!ht&&s.state.focused?(i.collapse(D.node,D.offset),Et.collapsed||(i.removeAllRanges(),i.addRange(Et))):(i.removeAllRanges(),i.addRange(Et)),Dt&&i.anchorNode==null?i.addRange(Dt):ht&&this.startGracePeriod()),this.rememberSelection()}},er.prototype.startGracePeriod=function(){var i=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){i.gracePeriod=!1,i.selectionChanged()&&i.cm.operation(function(){return i.cm.curOp.selectionChanged=!0})},20)},er.prototype.showMultipleSelections=function(i){G(this.cm.display.cursorDiv,i.cursors),G(this.cm.display.selectionDiv,i.selection)},er.prototype.rememberSelection=function(){var i=this.getSelection();this.lastAnchorNode=i.anchorNode,this.lastAnchorOffset=i.anchorOffset,this.lastFocusNode=i.focusNode,this.lastFocusOffset=i.focusOffset},er.prototype.selectionInEditor=function(){var i=this.getSelection();if(!i.rangeCount)return!1;var s=i.getRangeAt(0).commonAncestorContainer;return gt(this.div,s)},er.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||at(this.div.ownerDocument)!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},er.prototype.blur=function(){this.div.blur()},er.prototype.getField=function(){return this.div},er.prototype.supportsTouch=function(){return!0},er.prototype.receivedFocus=function(){var i=this,s=this;this.selectionInEditor()?setTimeout(function(){return i.pollSelection()},20):En(this.cm,function(){return s.cm.curOp.selectionChanged=!0});function c(){s.cm.state.focused&&(s.pollSelection(),s.polling.set(s.cm.options.pollInterval,c))}this.polling.set(this.cm.options.pollInterval,c)},er.prototype.selectionChanged=function(){var i=this.getSelection();return i.anchorNode!=this.lastAnchorNode||i.anchorOffset!=this.lastAnchorOffset||i.focusNode!=this.lastFocusNode||i.focusOffset!=this.lastFocusOffset},er.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var i=this.getSelection(),s=this.cm;if(V&&w&&this.cm.display.gutterSpecs.length&&fp(i.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var c=ps(s,i.anchorNode,i.anchorOffset),u=ps(s,i.focusNode,i.focusOffset);c&&u&&En(s,function(){pn(s.doc,Xo(c,u),Jt),(c.bad||u.bad)&&(s.curOp.selectionChanged=!0)})}}},er.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var i=this.cm,s=i.display,c=i.doc.sel.primary(),u=c.from(),d=c.to();if(u.ch==0&&u.line>i.firstLine()&&(u=F(u.line-1,be(i.doc,u.line-1).length)),d.ch==be(i.doc,d.line).text.length&&d.line<i.lastLine()&&(d=F(d.line+1,0)),u.line<s.viewFrom||d.line>s.viewTo-1)return!1;var g,y,S;u.line==s.viewFrom||(g=Si(i,u.line))==0?(y=Ze(s.view[0].line),S=s.view[0].node):(y=Ze(s.view[g].line),S=s.view[g-1].node.nextSibling);var D=Si(i,d.line),W,ft;if(D==s.view.length-1?(W=s.viewTo-1,ft=s.lineDiv.lastChild):(W=Ze(s.view[D+1].line)-1,ft=s.view[D+1].node.previousSibling),!S)return!1;for(var bt=i.doc.splitLines(pp(i,S,ft,y,W)),Dt=un(i.doc,F(y,0),F(W,be(i.doc,W).text.length));bt.length>1&&Dt.length>1;)if(ve(bt)==ve(Dt))bt.pop(),Dt.pop(),W--;else if(bt[0]==Dt[0])bt.shift(),Dt.shift(),y++;else break;for(var Et=0,zt=0,Gt=bt[0],oe=Dt[0],le=Math.min(Gt.length,oe.length);Et<le&&Gt.charCodeAt(Et)==oe.charCodeAt(Et);)++Et;for(var ge=ve(bt),ue=ve(Dt),me=Math.min(ge.length-(bt.length==1?Et:0),ue.length-(Dt.length==1?Et:0));zt<me&&ge.charCodeAt(ge.length-zt-1)==ue.charCodeAt(ue.length-zt-1);)++zt;if(bt.length==1&&Dt.length==1&&y==u.line)for(;Et&&Et>u.ch&&ge.charCodeAt(ge.length-zt-1)==ue.charCodeAt(ue.length-zt-1);)Et--,zt++;bt[bt.length-1]=ge.slice(0,ge.length-zt).replace(/^\u200b+/,""),bt[0]=bt[0].slice(Et).replace(/\u200b+$/,"");var Te=F(y,Et),Oe=F(W,Dt.length?ve(Dt).length-zt:0);if(bt.length>1||bt[0]||lt(Te,Oe))return da(i.doc,bt,Te,Oe,"+input"),!0},er.prototype.ensurePolled=function(){this.forceCompositionEnd()},er.prototype.reset=function(){this.forceCompositionEnd()},er.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},er.prototype.readFromDOMSoon=function(){var i=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(i.readDOMTimeout=null,i.composing)if(i.composing.done)i.composing=null;else return;i.updateFromDOM()},80))},er.prototype.updateFromDOM=function(){var i=this;(this.cm.isReadOnly()||!this.pollContent())&&En(this.cm,function(){return rn(i.cm)})},er.prototype.setUneditable=function(i){i.contentEditable="false"},er.prototype.onKeyPress=function(i){i.charCode==0||this.composing||(i.preventDefault(),this.cm.isReadOnly()||$r(this.cm,su)(this.cm,String.fromCharCode(i.charCode==null?i.keyCode:i.charCode),0))},er.prototype.readOnlyChanged=function(i){this.div.contentEditable=String(i!="nocursor")},er.prototype.onContextMenu=function(){},er.prototype.resetPosition=function(){},er.prototype.needsContentAttribute=!0;function Nc(i,s){var c=He(i,s.line);if(!c||c.hidden)return null;var u=be(i.doc,s.line),d=At(c,u,s.line),g=$e(u,i.doc.direction),y="left";if(g){var S=tr(g,s.ch);y=S%2?"right":"left"}var D=ea(d.map,s.ch,y);return D.offset=D.collapse=="right"?D.end:D.start,D}function fp(i){for(var s=i;s;s=s.parentNode)if(/CodeMirror-gutter-wrapper/.test(s.className))return!0;return!1}function _a(i,s){return s&&(i.bad=!0),i}function pp(i,s,c,u,d){var g="",y=!1,S=i.doc.lineSeparator(),D=!1;function W(Et){return function(zt){return zt.id==Et}}function ft(){y&&(g+=S,D&&(g+=S),y=D=!1)}function bt(Et){Et&&(ft(),g+=Et)}function Dt(Et){if(Et.nodeType==1){var zt=Et.getAttribute("cm-text");if(zt){bt(zt);return}var Gt=Et.getAttribute("cm-marker"),oe;if(Gt){var le=i.findMarks(F(u,0),F(d+1,0),W(+Gt));le.length&&(oe=le[0].find(0))&&bt(un(i.doc,oe.from,oe.to).join(S));return}if(Et.getAttribute("contenteditable")=="false")return;var ge=/^(pre|div|p|li|table|br)$/i.test(Et.nodeName);if(!/^br$/i.test(Et.nodeName)&&Et.textContent.length==0)return;ge&&ft();for(var ue=0;ue<Et.childNodes.length;ue++)Dt(Et.childNodes[ue]);/^(pre|p)$/i.test(Et.nodeName)&&(D=!0),ge&&(y=!0)}else Et.nodeType==3&&bt(Et.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;Dt(s),s!=c;)s=s.nextSibling,D=!1;return g}function ps(i,s,c){var u;if(s==i.display.lineDiv){if(u=i.display.lineDiv.childNodes[c],!u)return _a(i.clipPos(F(i.display.viewTo-1)),!0);s=null,c=0}else for(u=s;;u=u.parentNode){if(!u||u==i.display.lineDiv)return null;if(u.parentNode&&u.parentNode==i.display.lineDiv)break}for(var d=0;d<i.display.view.length;d++){var g=i.display.view[d];if(g.node==u)return dp(g,s,c)}}function dp(i,s,c){var u=i.text.firstChild,d=!1;if(!s||!gt(u,s))return _a(F(Ze(i.line),0),!0);if(s==u&&(d=!0,s=u.childNodes[c],c=0,!s)){var g=i.rest?ve(i.rest):i.line;return _a(F(Ze(g),g.text.length),d)}var y=s.nodeType==3?s:null,S=s;for(!y&&s.childNodes.length==1&&s.firstChild.nodeType==3&&(y=s.firstChild,c&&(c=y.nodeValue.length));S.parentNode!=u;)S=S.parentNode;var D=i.measure,W=D.maps;function ft(oe,le,ge){for(var ue=-1;ue<(W?W.length:0);ue++)for(var me=ue<0?D.map:W[ue],Te=0;Te<me.length;Te+=3){var Oe=me[Te+2];if(Oe==oe||Oe==le){var We=Ze(ue<0?i.line:i.rest[ue]),gr=me[Te]+ge;return(ge<0||Oe!=oe)&&(gr=me[Te+(ge?1:0)]),F(We,gr)}}}var bt=ft(y,S,c);if(bt)return _a(bt,d);for(var Dt=S.nextSibling,Et=y?y.nodeValue.length-c:0;Dt;Dt=Dt.nextSibling){if(bt=ft(Dt,Dt.firstChild,0),bt)return _a(F(bt.line,bt.ch-Et),d);Et+=Dt.textContent.length}for(var zt=S.previousSibling,Gt=c;zt;zt=zt.previousSibling){if(bt=ft(zt,zt.firstChild,-1),bt)return _a(F(bt.line,bt.ch+Gt),d);Gt+=zt.textContent.length}}var Vr=function(i){this.cm=i,this.prevInput="",this.pollingFast=!1,this.polling=new Rt,this.hasSelection=!1,this.composing=null,this.resetting=!1};Vr.prototype.init=function(i){var s=this,c=this,u=this.cm;this.createField(i);var d=this.textarea;i.wrapper.insertBefore(this.wrapper,i.wrapper.firstChild),U&&(d.style.width="0px"),_e(d,"input",function(){C&&M>=9&&s.hasSelection&&(s.hasSelection=null),c.poll()}),_e(d,"paste",function(y){cr(u,y)||Dc(y,u)||(u.state.pasteIncoming=+new Date,c.fastPoll())});function g(y){if(!cr(u,y)){if(u.somethingSelected())cl({lineWise:!1,text:u.getSelections()});else if(u.options.lineWiseCopyCut){var S=Ic(u);cl({lineWise:!0,text:S.text}),y.type=="cut"?u.setSelections(S.ranges,null,Jt):(c.prevInput="",d.value=S.text.join(`
`),St(d))}else return;y.type=="cut"&&(u.state.cutIncoming=+new Date)}}_e(d,"cut",g),_e(d,"copy",g),_e(i.scroller,"paste",function(y){if(!(io(i,y)||cr(u,y))){if(!d.dispatchEvent){u.state.pasteIncoming=+new Date,c.focus();return}var S=new Event("paste");S.clipboardData=y.clipboardData,d.dispatchEvent(S)}}),_e(i.lineSpace,"selectstart",function(y){io(i,y)||nt(y)}),_e(d,"compositionstart",function(){var y=u.getCursor("from");c.composing&&c.composing.range.clear(),c.composing={start:y,range:u.markText(y,u.getCursor("to"),{className:"CodeMirror-composing"})}}),_e(d,"compositionend",function(){c.composing&&(c.poll(),c.composing.range.clear(),c.composing=null)})},Vr.prototype.createField=function(i){this.wrapper=uu(),this.textarea=this.wrapper.firstChild;var s=this.cm.options;lu(this.textarea,s.spellcheck,s.autocorrect,s.autocapitalize)},Vr.prototype.screenReaderLabelChanged=function(i){i?this.textarea.setAttribute("aria-label",i):this.textarea.removeAttribute("aria-label")},Vr.prototype.prepareSelection=function(){var i=this.cm,s=i.display,c=i.doc,u=Iu(i);if(i.options.moveInputWithCursor){var d=Dn(i,c.sel.primary().head,"div"),g=s.wrapper.getBoundingClientRect(),y=s.lineDiv.getBoundingClientRect();u.teTop=Math.max(0,Math.min(s.wrapper.clientHeight-10,d.top+y.top-g.top)),u.teLeft=Math.max(0,Math.min(s.wrapper.clientWidth-10,d.left+y.left-g.left))}return u},Vr.prototype.showSelection=function(i){var s=this.cm,c=s.display;G(c.cursorDiv,i.cursors),G(c.selectionDiv,i.selection),i.teTop!=null&&(this.wrapper.style.top=i.teTop+"px",this.wrapper.style.left=i.teLeft+"px")},Vr.prototype.reset=function(i){if(!(this.contextMenuPending||this.composing&&i)){var s=this.cm;if(this.resetting=!0,s.somethingSelected()){this.prevInput="";var c=s.getSelection();this.textarea.value=c,s.state.focused&&St(this.textarea),C&&M>=9&&(this.hasSelection=c)}else i||(this.prevInput=this.textarea.value="",C&&M>=9&&(this.hasSelection=null));this.resetting=!1}},Vr.prototype.getField=function(){return this.textarea},Vr.prototype.supportsTouch=function(){return!1},Vr.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!j||at(this.textarea.ownerDocument)!=this.textarea))try{this.textarea.focus()}catch{}},Vr.prototype.blur=function(){this.textarea.blur()},Vr.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Vr.prototype.receivedFocus=function(){this.slowPoll()},Vr.prototype.slowPoll=function(){var i=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){i.poll(),i.cm.state.focused&&i.slowPoll()})},Vr.prototype.fastPoll=function(){var i=!1,s=this;s.pollingFast=!0;function c(){var u=s.poll();!u&&!i?(i=!0,s.polling.set(60,c)):(s.pollingFast=!1,s.slowPoll())}s.polling.set(20,c)},Vr.prototype.poll=function(){var i=this,s=this.cm,c=this.textarea,u=this.prevInput;if(this.contextMenuPending||this.resetting||!s.state.focused||Cn(c)&&!u&&!this.composing||s.isReadOnly()||s.options.disableInput||s.state.keySeq)return!1;var d=c.value;if(d==u&&!s.somethingSelected())return!1;if(C&&M>=9&&this.hasSelection===d||k&&/[\uf700-\uf7ff]/.test(d))return s.display.input.reset(),!1;if(s.doc.sel==s.display.selForContextMenu){var g=d.charCodeAt(0);if(g==8203&&!u&&(u="​"),g==8666)return this.reset(),this.cm.execCommand("undo")}for(var y=0,S=Math.min(u.length,d.length);y<S&&u.charCodeAt(y)==d.charCodeAt(y);)++y;return En(s,function(){su(s,d.slice(y),u.length-y,null,i.composing?"*compose":null),d.length>1e3||d.indexOf(`
`)>-1?c.value=i.prevInput="":i.prevInput=d,i.composing&&(i.composing.range.clear(),i.composing.range=s.markText(i.composing.start,s.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Vr.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Vr.prototype.onKeyPress=function(){C&&M>=9&&(this.hasSelection=null),this.fastPoll()},Vr.prototype.onContextMenu=function(i){var s=this,c=s.cm,u=c.display,d=s.textarea;s.contextMenuPending&&s.contextMenuPending();var g=Ko(c,i),y=u.scroller.scrollTop;if(!g||O)return;var S=c.options.resetSelectionOnContextMenu;S&&c.doc.sel.contains(g)==-1&&$r(c,pn)(c.doc,Xo(g),Jt);var D=d.style.cssText,W=s.wrapper.style.cssText,ft=s.wrapper.offsetParent.getBoundingClientRect();s.wrapper.style.cssText="position: static",d.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(i.clientY-ft.top-5)+"px; left: "+(i.clientX-ft.left-5)+`px;
      z-index: 1000; background: `+(C?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var bt;m&&(bt=d.ownerDocument.defaultView.scrollY),u.input.focus(),m&&d.ownerDocument.defaultView.scrollTo(null,bt),u.input.reset(),c.somethingSelected()||(d.value=s.prevInput=" "),s.contextMenuPending=Et,u.selForContextMenu=c.doc.sel,clearTimeout(u.detectingSelectAll);function Dt(){if(d.selectionStart!=null){var Gt=c.somethingSelected(),oe="​"+(Gt?d.value:"");d.value="⇚",d.value=oe,s.prevInput=Gt?"":"​",d.selectionStart=1,d.selectionEnd=oe.length,u.selForContextMenu=c.doc.sel}}function Et(){if(s.contextMenuPending==Et&&(s.contextMenuPending=!1,s.wrapper.style.cssText=W,d.style.cssText=D,C&&M<9&&u.scrollbars.setScrollTop(u.scroller.scrollTop=y),d.selectionStart!=null)){(!C||C&&M<9)&&Dt();var Gt=0,oe=function(){u.selForContextMenu==c.doc.sel&&d.selectionStart==0&&d.selectionEnd>0&&s.prevInput=="​"?$r(c,oc)(c):Gt++<10?u.detectingSelectAll=setTimeout(oe,500):(u.selForContextMenu=null,u.input.reset())};u.detectingSelectAll=setTimeout(oe,200)}}if(C&&M>=9&&Dt(),T){qt(i);var zt=function(){ke(window,"mouseup",zt),setTimeout(Et,20)};_e(window,"mouseup",zt)}else setTimeout(Et,50)},Vr.prototype.readOnlyChanged=function(i){i||this.reset(),this.textarea.disabled=i=="nocursor",this.textarea.readOnly=!!i},Vr.prototype.setUneditable=function(){},Vr.prototype.needsContentAttribute=!1;function hp(i,s){if(s=s?ne(s):{},s.value=i.value,!s.tabindex&&i.tabIndex&&(s.tabindex=i.tabIndex),!s.placeholder&&i.placeholder&&(s.placeholder=i.placeholder),s.autofocus==null){var c=at(i.ownerDocument);s.autofocus=c==i||i.getAttribute("autofocus")!=null&&c==document.body}function u(){i.value=S.getValue()}var d;if(i.form&&(_e(i.form,"submit",u),!s.leaveSubmitMethodAlone)){var g=i.form;d=g.submit;try{var y=g.submit=function(){u(),g.submit=d,g.submit(),g.submit=y}}catch{}}s.finishInit=function(D){D.save=u,D.getTextArea=function(){return i},D.toTextArea=function(){D.toTextArea=isNaN,u(),i.parentNode.removeChild(D.getWrapperElement()),i.style.display="",i.form&&(ke(i.form,"submit",u),!s.leaveSubmitMethodAlone&&typeof i.form.submit=="function"&&(i.form.submit=d))}},i.style.display="none";var S=wr(function(D){return i.parentNode.insertBefore(D,i.nextSibling)},s);return S}function Fc(i){i.off=ke,i.on=_e,i.wheelEventPixels=Uu,i.Doc=Pn,i.splitLines=vn,i.countColumn=Ot,i.findColumn=Je,i.isWordChar=vt,i.Pass=$t,i.signal=sr,i.Line=no,i.changeEnd=Jo,i.scrollbarModel=Ai,i.Pos=F,i.cmpPos=lt,i.modes=zr,i.mimeModes=Sn,i.resolveMode=Vn,i.getMode=Qr,i.modeExtensions=Wr,i.extendMode=qn,i.copyState=Mn,i.startState=Lr,i.innerMode=On,i.commands=ls,i.keyMap=yo,i.keyName=yc,i.isModifierKey=gc,i.lookupKey=ya,i.normalizeKeyMap=ni,i.StringStream=ir,i.SharedTextMarker=ns,i.TextMarker=ri,i.LineWidget=ga,i.e_preventDefault=nt,i.e_stopPropagation=Ct,i.e_stop=qt,i.addClass=Lt,i.contains=gt,i.rmClass=I,i.keyNames=Po}Ac(wr),Vc(wr);var vp="iter insert remove copy getEditor constructor".split(" ");for(var fl in Pn.prototype)Pn.prototype.hasOwnProperty(fl)&&Wt(vp,fl)<0&&(wr.prototype[fl]=function(i){return function(){return i.apply(this.doc,arguments)}}(Pn.prototype[fl]));return Kn(Pn),wr.inputStyles={textarea:Vr,contenteditable:er},wr.defineMode=function(i){!wr.defaults.mode&&i!="null"&&(wr.defaults.mode=i),$n.apply(this,arguments)},wr.defineMIME=Do,wr.defineMode("null",function(){return{token:function(i){return i.skipToEnd()}}}),wr.defineMIME("text/plain","null"),wr.defineExtension=function(i,s){wr.prototype[i]=s},wr.defineDocExtension=function(i,s){Pn.prototype[i]=s},wr.fromTextArea=hp,Fc(wr),wr.version="5.65.15",wr})},629:(R,dt,wt)=>{(function(ht){ht(wt(631))})(function(ht){ht.defineMode("css",function(I,N){var G=N.inline;N.propertyKeywords||(N=ht.resolveMode("text/css"));var E=I.indentUnit,$=N.tokenHooks,x=N.documentTypes||{},gt=N.mediaTypes||{},at=N.mediaFeatures||{},Lt=N.mediaValueKeywords||{},Xt=N.propertyKeywords||{},St=N.nonStandardPropertyKeywords||{},Ut=N.fontProperties||{},Yt=N.counterDescriptors||{},Bt=N.colorKeywords||{},ne=N.valueKeywords||{},Ot=N.allowNested,Rt=N.lineComment,Wt=N.supportsAtComponent===!0,ae=I.highlightNonStandardPropertyKeywords!==!1,$t,Jt;function de(vt,Vt){return $t=Vt,vt}function Ne(vt,Vt){var Pt=vt.next();if($[Pt]){var Ce=$[Pt](vt,Vt);if(Ce!==!1)return Ce}if(Pt=="@")return vt.eatWhile(/[\w\\\-]/),de("def",vt.current());if(Pt=="="||(Pt=="~"||Pt=="|")&&vt.eat("="))return de(null,"compare");if(Pt=='"'||Pt=="'")return Vt.tokenize=Je(Pt),Vt.tokenize(vt,Vt);if(Pt=="#")return vt.eatWhile(/[\w\\\-]/),de("atom","hash");if(Pt=="!")return vt.match(/^\s*\w*/),de("keyword","important");if(/\d/.test(Pt)||Pt=="."&&vt.eat(/\d/))return vt.eatWhile(/[\w.%]/),de("number","unit");if(Pt==="-"){if(/[\d.]/.test(vt.peek()))return vt.eatWhile(/[\w.%]/),de("number","unit");if(vt.match(/^-[\w\\\-]*/))return vt.eatWhile(/[\w\\\-]/),vt.match(/^\s*:/,!1)?de("variable-2","variable-definition"):de("variable-2","variable");if(vt.match(/^\w+-/))return de("meta","meta")}else return/[,+>*\/]/.test(Pt)?de(null,"select-op"):Pt=="."&&vt.match(/^-?[_a-z][_a-z0-9-]*/i)?de("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(Pt)?de(null,Pt):vt.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(vt.current())&&(Vt.tokenize=mr),de("variable callee","variable")):/[\w\\\-]/.test(Pt)?(vt.eatWhile(/[\w\\\-]/),de("property","word")):de(null,null)}function Je(vt){return function(Vt,Pt){for(var Ce=!1,Ke;(Ke=Vt.next())!=null;){if(Ke==vt&&!Ce){vt==")"&&Vt.backUp(1);break}Ce=!Ce&&Ke=="\\"}return(Ke==vt||!Ce&&vt!=")")&&(Pt.tokenize=null),de("string","string")}}function mr(vt,Vt){return vt.next(),vt.match(/^\s*[\"\')]/,!1)?Vt.tokenize=null:Vt.tokenize=Je(")"),de(null,"(")}function nr(vt,Vt,Pt){this.type=vt,this.indent=Vt,this.prev=Pt}function ve(vt,Vt,Pt,Ce){return vt.context=new nr(Pt,Vt.indentation()+(Ce===!1?0:E),vt.context),Pt}function K(vt){return vt.context.prev&&(vt.context=vt.context.prev),vt.context.type}function it(vt,Vt,Pt){return Ht[Pt.context.type](vt,Vt,Pt)}function mt(vt,Vt,Pt,Ce){for(var Ke=Ce||1;Ke>0;Ke--)Pt.context=Pt.context.prev;return it(vt,Vt,Pt)}function kt(vt){var Vt=vt.current().toLowerCase();ne.hasOwnProperty(Vt)?Jt="atom":Bt.hasOwnProperty(Vt)?Jt="keyword":Jt="variable"}var Ht={};return Ht.top=function(vt,Vt,Pt){if(vt=="{")return ve(Pt,Vt,"block");if(vt=="}"&&Pt.context.prev)return K(Pt);if(Wt&&/@component/i.test(vt))return ve(Pt,Vt,"atComponentBlock");if(/^@(-moz-)?document$/i.test(vt))return ve(Pt,Vt,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(vt))return ve(Pt,Vt,"atBlock");if(/^@(font-face|counter-style)/i.test(vt))return Pt.stateArg=vt,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(vt))return"keyframes";if(vt&&vt.charAt(0)=="@")return ve(Pt,Vt,"at");if(vt=="hash")Jt="builtin";else if(vt=="word")Jt="tag";else{if(vt=="variable-definition")return"maybeprop";if(vt=="interpolation")return ve(Pt,Vt,"interpolation");if(vt==":")return"pseudo";if(Ot&&vt=="(")return ve(Pt,Vt,"parens")}return Pt.context.type},Ht.block=function(vt,Vt,Pt){if(vt=="word"){var Ce=Vt.current().toLowerCase();return Xt.hasOwnProperty(Ce)?(Jt="property","maybeprop"):St.hasOwnProperty(Ce)?(Jt=ae?"string-2":"property","maybeprop"):Ot?(Jt=Vt.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(Jt+=" error","maybeprop")}else return vt=="meta"?"block":!Ot&&(vt=="hash"||vt=="qualifier")?(Jt="error","block"):Ht.top(vt,Vt,Pt)},Ht.maybeprop=function(vt,Vt,Pt){return vt==":"?ve(Pt,Vt,"prop"):it(vt,Vt,Pt)},Ht.prop=function(vt,Vt,Pt){if(vt==";")return K(Pt);if(vt=="{"&&Ot)return ve(Pt,Vt,"propBlock");if(vt=="}"||vt=="{")return mt(vt,Vt,Pt);if(vt=="(")return ve(Pt,Vt,"parens");if(vt=="hash"&&!/^#([0-9a-fA-F]{3,4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/.test(Vt.current()))Jt+=" error";else if(vt=="word")kt(Vt);else if(vt=="interpolation")return ve(Pt,Vt,"interpolation");return"prop"},Ht.propBlock=function(vt,Vt,Pt){return vt=="}"?K(Pt):vt=="word"?(Jt="property","maybeprop"):Pt.context.type},Ht.parens=function(vt,Vt,Pt){return vt=="{"||vt=="}"?mt(vt,Vt,Pt):vt==")"?K(Pt):vt=="("?ve(Pt,Vt,"parens"):vt=="interpolation"?ve(Pt,Vt,"interpolation"):(vt=="word"&&kt(Vt),"parens")},Ht.pseudo=function(vt,Vt,Pt){return vt=="meta"?"pseudo":vt=="word"?(Jt="variable-3",Pt.context.type):it(vt,Vt,Pt)},Ht.documentTypes=function(vt,Vt,Pt){return vt=="word"&&x.hasOwnProperty(Vt.current())?(Jt="tag",Pt.context.type):Ht.atBlock(vt,Vt,Pt)},Ht.atBlock=function(vt,Vt,Pt){if(vt=="(")return ve(Pt,Vt,"atBlock_parens");if(vt=="}"||vt==";")return mt(vt,Vt,Pt);if(vt=="{")return K(Pt)&&ve(Pt,Vt,Ot?"block":"top");if(vt=="interpolation")return ve(Pt,Vt,"interpolation");if(vt=="word"){var Ce=Vt.current().toLowerCase();Ce=="only"||Ce=="not"||Ce=="and"||Ce=="or"?Jt="keyword":gt.hasOwnProperty(Ce)?Jt="attribute":at.hasOwnProperty(Ce)?Jt="property":Lt.hasOwnProperty(Ce)?Jt="keyword":Xt.hasOwnProperty(Ce)?Jt="property":St.hasOwnProperty(Ce)?Jt=ae?"string-2":"property":ne.hasOwnProperty(Ce)?Jt="atom":Bt.hasOwnProperty(Ce)?Jt="keyword":Jt="error"}return Pt.context.type},Ht.atComponentBlock=function(vt,Vt,Pt){return vt=="}"?mt(vt,Vt,Pt):vt=="{"?K(Pt)&&ve(Pt,Vt,Ot?"block":"top",!1):(vt=="word"&&(Jt="error"),Pt.context.type)},Ht.atBlock_parens=function(vt,Vt,Pt){return vt==")"?K(Pt):vt=="{"||vt=="}"?mt(vt,Vt,Pt,2):Ht.atBlock(vt,Vt,Pt)},Ht.restricted_atBlock_before=function(vt,Vt,Pt){return vt=="{"?ve(Pt,Vt,"restricted_atBlock"):vt=="word"&&Pt.stateArg=="@counter-style"?(Jt="variable","restricted_atBlock_before"):it(vt,Vt,Pt)},Ht.restricted_atBlock=function(vt,Vt,Pt){return vt=="}"?(Pt.stateArg=null,K(Pt)):vt=="word"?(Pt.stateArg=="@font-face"&&!Ut.hasOwnProperty(Vt.current().toLowerCase())||Pt.stateArg=="@counter-style"&&!Yt.hasOwnProperty(Vt.current().toLowerCase())?Jt="error":Jt="property","maybeprop"):"restricted_atBlock"},Ht.keyframes=function(vt,Vt,Pt){return vt=="word"?(Jt="variable","keyframes"):vt=="{"?ve(Pt,Vt,"top"):it(vt,Vt,Pt)},Ht.at=function(vt,Vt,Pt){return vt==";"?K(Pt):vt=="{"||vt=="}"?mt(vt,Vt,Pt):(vt=="word"?Jt="tag":vt=="hash"&&(Jt="builtin"),"at")},Ht.interpolation=function(vt,Vt,Pt){return vt=="}"?K(Pt):vt=="{"||vt==";"?mt(vt,Vt,Pt):(vt=="word"?Jt="variable":vt!="variable"&&vt!="("&&vt!=")"&&(Jt="error"),"interpolation")},{startState:function(vt){return{tokenize:null,state:G?"block":"top",stateArg:null,context:new nr(G?"block":"top",vt||0,null)}},token:function(vt,Vt){if(!Vt.tokenize&&vt.eatSpace())return null;var Pt=(Vt.tokenize||Ne)(vt,Vt);return Pt&&typeof Pt=="object"&&($t=Pt[1],Pt=Pt[0]),Jt=Pt,$t!="comment"&&(Vt.state=Ht[Vt.state]($t,vt,Vt)),Jt},indent:function(vt,Vt){var Pt=vt.context,Ce=Vt&&Vt.charAt(0),Ke=Pt.indent;return Pt.type=="prop"&&(Ce=="}"||Ce==")")&&(Pt=Pt.prev),Pt.prev&&(Ce=="}"&&(Pt.type=="block"||Pt.type=="top"||Pt.type=="interpolation"||Pt.type=="restricted_atBlock")?(Pt=Pt.prev,Ke=Pt.indent):(Ce==")"&&(Pt.type=="parens"||Pt.type=="atBlock_parens")||Ce=="{"&&(Pt.type=="at"||Pt.type=="atBlock"))&&(Ke=Math.max(0,Pt.indent-E))),Ke},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:Rt,fold:"brace"}});function _t(I){for(var N={},G=0;G<I.length;++G)N[I[G].toLowerCase()]=!0;return N}var ot=["domain","regexp","url","url-prefix"],J=_t(ot),C=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],M=_t(C),m=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme","dynamic-range","video-dynamic-range"],A=_t(m),w=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light","standard","high"],_=_t(w),O=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],L=_t(O),Q=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],X=_t(Q),U=["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],V=_t(U),j=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],k=_t(j),q=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],et=_t(q),Z=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","conic-gradient","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-play-button","media-slider","media-sliderthumb","media-volume-slider","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeating-conic-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],rt=_t(Z),T=ot.concat(C).concat(m).concat(w).concat(O).concat(Q).concat(q).concat(Z);ht.registerHelper("hintWords","css",T);function z(I,N){for(var G=!1,E;(E=I.next())!=null;){if(G&&E=="/"){N.tokenize=null;break}G=E=="*"}return["comment","comment"]}ht.defineMIME("text/css",{documentTypes:J,mediaTypes:M,mediaFeatures:A,mediaValueKeywords:_,propertyKeywords:L,nonStandardPropertyKeywords:X,fontProperties:V,counterDescriptors:k,colorKeywords:et,valueKeywords:rt,tokenHooks:{"/":function(I,N){return I.eat("*")?(N.tokenize=z,z(I,N)):!1}},name:"css"}),ht.defineMIME("text/x-scss",{mediaTypes:M,mediaFeatures:A,mediaValueKeywords:_,propertyKeywords:L,nonStandardPropertyKeywords:X,colorKeywords:et,valueKeywords:rt,fontProperties:V,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(I,N){return I.eat("/")?(I.skipToEnd(),["comment","comment"]):I.eat("*")?(N.tokenize=z,z(I,N)):["operator","operator"]},":":function(I){return I.match(/^\s*\{/,!1)?[null,null]:!1},$:function(I){return I.match(/^[\w-]+/),I.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(I){return I.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),ht.defineMIME("text/x-less",{mediaTypes:M,mediaFeatures:A,mediaValueKeywords:_,propertyKeywords:L,nonStandardPropertyKeywords:X,colorKeywords:et,valueKeywords:rt,fontProperties:V,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(I,N){return I.eat("/")?(I.skipToEnd(),["comment","comment"]):I.eat("*")?(N.tokenize=z,z(I,N)):["operator","operator"]},"@":function(I){return I.eat("{")?[null,"interpolation"]:I.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)?!1:(I.eatWhile(/[\w\\\-]/),I.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),ht.defineMIME("text/x-gss",{documentTypes:J,mediaTypes:M,mediaFeatures:A,propertyKeywords:L,nonStandardPropertyKeywords:X,fontProperties:V,counterDescriptors:k,colorKeywords:et,valueKeywords:rt,supportsAtComponent:!0,tokenHooks:{"/":function(I,N){return I.eat("*")?(N.tokenize=z,z(I,N)):!1}},name:"css",helperType:"gss"})})},531:(R,dt,wt)=>{(function(ht){ht(wt(631),wt(589),wt(876),wt(629))})(function(ht){var _t={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function ot(_,O,L){var Q=_.current(),X=Q.search(O);return X>-1?_.backUp(Q.length-X):Q.match(/<\/?$/)&&(_.backUp(Q.length),_.match(O,!1)||_.match(Q)),L}var J={};function C(_){var O=J[_];return O||(J[_]=new RegExp("\\s+"+_+`\\s*=\\s*('|")?([^'"]+)('|")?\\s*`))}function M(_,O){var L=_.match(C(O));return L?/^\s*(.*?)\s*$/.exec(L[2])[1]:""}function m(_,O){return new RegExp((O?"^":"")+"</\\s*"+_+"\\s*>","i")}function A(_,O){for(var L in _)for(var Q=O[L]||(O[L]=[]),X=_[L],U=X.length-1;U>=0;U--)Q.unshift(X[U])}function w(_,O){for(var L=0;L<_.length;L++){var Q=_[L];if(!Q[0]||Q[1].test(M(O,Q[0])))return Q[2]}}ht.defineMode("htmlmixed",function(_,O){var L=ht.getMode(_,{name:"xml",htmlMode:!0,multilineTagIndentFactor:O.multilineTagIndentFactor,multilineTagIndentPastTag:O.multilineTagIndentPastTag,allowMissingTagName:O.allowMissingTagName}),Q={},X=O&&O.tags,U=O&&O.scriptTypes;if(A(_t,Q),X&&A(X,Q),U)for(var V=U.length-1;V>=0;V--)Q.script.unshift(["type",U[V].matches,U[V].mode]);function j(k,q){var et=L.token(k,q.htmlState),Z=/\btag\b/.test(et),rt;if(Z&&!/[<>\s\/]/.test(k.current())&&(rt=q.htmlState.tagName&&q.htmlState.tagName.toLowerCase())&&Q.hasOwnProperty(rt))q.inTag=rt+" ";else if(q.inTag&&Z&&/>$/.test(k.current())){var T=/^([\S]+) (.*)/.exec(q.inTag);q.inTag=null;var z=k.current()==">"&&w(Q[T[1]],T[2]),I=ht.getMode(_,z),N=m(T[1],!0),G=m(T[1],!1);q.token=function(E,$){return E.match(N,!1)?($.token=j,$.localState=$.localMode=null,null):ot(E,G,$.localMode.token(E,$.localState))},q.localMode=I,q.localState=ht.startState(I,L.indent(q.htmlState,"",""))}else q.inTag&&(q.inTag+=k.current(),k.eol()&&(q.inTag+=" "));return et}return{startState:function(){var k=ht.startState(L);return{token:j,inTag:null,localMode:null,localState:null,htmlState:k}},copyState:function(k){var q;return k.localState&&(q=ht.copyState(k.localMode,k.localState)),{token:k.token,inTag:k.inTag,localMode:k.localMode,localState:q,htmlState:ht.copyState(L,k.htmlState)}},token:function(k,q){return q.token(k,q)},indent:function(k,q,et){return!k.localMode||/^\s*<\//.test(q)?L.indent(k.htmlState,q,et):k.localMode.indent?k.localMode.indent(k.localState,q,et):ht.Pass},innerMode:function(k){return{state:k.localState||k.htmlState,mode:k.localMode||L}}}},"xml","javascript","css"),ht.defineMIME("text/html","htmlmixed")})},876:(R,dt,wt)=>{(function(ht){ht(wt(631))})(function(ht){ht.defineMode("javascript",function(_t,ot){var J=_t.indentUnit,C=ot.statementIndent,M=ot.jsonld,m=ot.json||M,A=ot.trackScope!==!1,w=ot.typescript,_=ot.wordCharacters||/[\w$\xa1-\uffff]/,O=function(){function F(xe){return{type:xe,style:"keyword"}}var lt=F("keyword a"),Kt=F("keyword b"),ee=F("keyword c"),je=F("keyword d"),Ye=F("operator"),rr={type:"atom",style:"atom"};return{if:F("if"),while:lt,with:lt,else:Kt,do:Kt,try:Kt,finally:Kt,return:je,break:je,continue:je,new:F("new"),delete:ee,void:ee,throw:ee,debugger:F("debugger"),var:F("var"),const:F("var"),let:F("var"),function:F("function"),catch:F("catch"),for:F("for"),switch:F("switch"),case:F("case"),default:F("default"),in:Ye,typeof:Ye,instanceof:Ye,true:rr,false:rr,null:rr,undefined:rr,NaN:rr,Infinity:rr,this:F("this"),class:F("class"),super:F("atom"),yield:ee,export:F("export"),import:F("import"),extends:ee,await:ee}}(),L=/[+\-*&%=<>!?|~^@]/,Q=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function X(F){for(var lt=!1,Kt,ee=!1;(Kt=F.next())!=null;){if(!lt){if(Kt=="/"&&!ee)return;Kt=="["?ee=!0:ee&&Kt=="]"&&(ee=!1)}lt=!lt&&Kt=="\\"}}var U,V;function j(F,lt,Kt){return U=F,V=Kt,lt}function k(F,lt){var Kt=F.next();if(Kt=='"'||Kt=="'")return lt.tokenize=q(Kt),lt.tokenize(F,lt);if(Kt=="."&&F.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return j("number","number");if(Kt=="."&&F.match(".."))return j("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(Kt))return j(Kt);if(Kt=="="&&F.eat(">"))return j("=>","operator");if(Kt=="0"&&F.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return j("number","number");if(/\d/.test(Kt))return F.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),j("number","number");if(Kt=="/")return F.eat("*")?(lt.tokenize=et,et(F,lt)):F.eat("/")?(F.skipToEnd(),j("comment","comment")):gn(F,lt,1)?(X(F),F.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),j("regexp","string-2")):(F.eat("="),j("operator","operator",F.current()));if(Kt=="`")return lt.tokenize=Z,Z(F,lt);if(Kt=="#"&&F.peek()=="!")return F.skipToEnd(),j("meta","meta");if(Kt=="#"&&F.eatWhile(_))return j("variable","property");if(Kt=="<"&&F.match("!--")||Kt=="-"&&F.match("->")&&!/\S/.test(F.string.slice(0,F.start)))return F.skipToEnd(),j("comment","comment");if(L.test(Kt))return(Kt!=">"||!lt.lexical||lt.lexical.type!=">")&&(F.eat("=")?(Kt=="!"||Kt=="=")&&F.eat("="):/[<>*+\-|&?]/.test(Kt)&&(F.eat(Kt),Kt==">"&&F.eat(Kt))),Kt=="?"&&F.eat(".")?j("."):j("operator","operator",F.current());if(_.test(Kt)){F.eatWhile(_);var ee=F.current();if(lt.lastType!="."){if(O.propertyIsEnumerable(ee)){var je=O[ee];return j(je.type,je.style,ee)}if(ee=="async"&&F.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return j("async","keyword",ee)}return j("variable","variable",ee)}}function q(F){return function(lt,Kt){var ee=!1,je;if(M&&lt.peek()=="@"&&lt.match(Q))return Kt.tokenize=k,j("jsonld-keyword","meta");for(;(je=lt.next())!=null&&!(je==F&&!ee);)ee=!ee&&je=="\\";return ee||(Kt.tokenize=k),j("string","string")}}function et(F,lt){for(var Kt=!1,ee;ee=F.next();){if(ee=="/"&&Kt){lt.tokenize=k;break}Kt=ee=="*"}return j("comment","comment")}function Z(F,lt){for(var Kt=!1,ee;(ee=F.next())!=null;){if(!Kt&&(ee=="`"||ee=="$"&&F.eat("{"))){lt.tokenize=k;break}Kt=!Kt&&ee=="\\"}return j("quasi","string-2",F.current())}var rt="([{}])";function T(F,lt){lt.fatArrowAt&&(lt.fatArrowAt=null);var Kt=F.string.indexOf("=>",F.start);if(!(Kt<0)){if(w){var ee=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(F.string.slice(F.start,Kt));ee&&(Kt=ee.index)}for(var je=0,Ye=!1,rr=Kt-1;rr>=0;--rr){var xe=F.string.charAt(rr),br=rt.indexOf(xe);if(br>=0&&br<3){if(!je){++rr;break}if(--je==0){xe=="("&&(Ye=!0);break}}else if(br>=3&&br<6)++je;else if(_.test(xe))Ye=!0;else if(/["'\/`]/.test(xe))for(;;--rr){if(rr==0)return;var bo=F.string.charAt(rr-1);if(bo==xe&&F.string.charAt(rr-2)!="\\"){rr--;break}}else if(Ye&&!je){++rr;break}}Ye&&!je&&(lt.fatArrowAt=rr)}}var z={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function I(F,lt,Kt,ee,je,Ye){this.indented=F,this.column=lt,this.type=Kt,this.prev=je,this.info=Ye,ee!=null&&(this.align=ee)}function N(F,lt){if(!A)return!1;for(var Kt=F.localVars;Kt;Kt=Kt.next)if(Kt.name==lt)return!0;for(var ee=F.context;ee;ee=ee.prev)for(var Kt=ee.vars;Kt;Kt=Kt.next)if(Kt.name==lt)return!0}function G(F,lt,Kt,ee,je){var Ye=F.cc;for(E.state=F,E.stream=je,E.marked=null,E.cc=Ye,E.style=lt,F.lexical.hasOwnProperty("align")||(F.lexical.align=!0);;){var rr=Ye.length?Ye.pop():m?de:$t;if(rr(Kt,ee)){for(;Ye.length&&Ye[Ye.length-1].lex;)Ye.pop()();return E.marked?E.marked:Kt=="variable"&&N(F,ee)?"variable-2":lt}}}var E={state:null,column:null,marked:null,cc:null};function $(){for(var F=arguments.length-1;F>=0;F--)E.cc.push(arguments[F])}function x(){return $.apply(null,arguments),!0}function gt(F,lt){for(var Kt=lt;Kt;Kt=Kt.next)if(Kt.name==F)return!0;return!1}function at(F){var lt=E.state;if(E.marked="def",!!A){if(lt.context){if(lt.lexical.info=="var"&&lt.context&&lt.context.block){var Kt=Lt(F,lt.context);if(Kt!=null){lt.context=Kt;return}}else if(!gt(F,lt.localVars)){lt.localVars=new Ut(F,lt.localVars);return}}ot.globalVars&&!gt(F,lt.globalVars)&&(lt.globalVars=new Ut(F,lt.globalVars))}}function Lt(F,lt){if(lt)if(lt.block){var Kt=Lt(F,lt.prev);return Kt?Kt==lt.prev?lt:new St(Kt,lt.vars,!0):null}else return gt(F,lt.vars)?lt:new St(lt.prev,new Ut(F,lt.vars),!1);else return null}function Xt(F){return F=="public"||F=="private"||F=="protected"||F=="abstract"||F=="readonly"}function St(F,lt,Kt){this.prev=F,this.vars=lt,this.block=Kt}function Ut(F,lt){this.name=F,this.next=lt}var Yt=new Ut("this",new Ut("arguments",null));function Bt(){E.state.context=new St(E.state.context,E.state.localVars,!1),E.state.localVars=Yt}function ne(){E.state.context=new St(E.state.context,E.state.localVars,!0),E.state.localVars=null}Bt.lex=ne.lex=!0;function Ot(){E.state.localVars=E.state.context.vars,E.state.context=E.state.context.prev}Ot.lex=!0;function Rt(F,lt){var Kt=function(){var ee=E.state,je=ee.indented;if(ee.lexical.type=="stat")je=ee.lexical.indented;else for(var Ye=ee.lexical;Ye&&Ye.type==")"&&Ye.align;Ye=Ye.prev)je=Ye.indented;ee.lexical=new I(je,E.stream.column(),F,null,ee.lexical,lt)};return Kt.lex=!0,Kt}function Wt(){var F=E.state;F.lexical.prev&&(F.lexical.type==")"&&(F.indented=F.lexical.indented),F.lexical=F.lexical.prev)}Wt.lex=!0;function ae(F){function lt(Kt){return Kt==F?x():F==";"||Kt=="}"||Kt==")"||Kt=="]"?$():x(lt)}return lt}function $t(F,lt){return F=="var"?x(Rt("vardef",lt),Ae,ae(";"),Wt):F=="keyword a"?x(Rt("form"),Je,$t,Wt):F=="keyword b"?x(Rt("form"),$t,Wt):F=="keyword d"?E.stream.match(/^\s*$/,!1)?x():x(Rt("stat"),nr,ae(";"),Wt):F=="debugger"?x(ae(";")):F=="{"?x(Rt("}"),ne,De,Wt,Ot):F==";"?x():F=="if"?(E.state.lexical.info=="else"&&E.state.cc[E.state.cc.length-1]==Wt&&E.state.cc.pop()(),x(Rt("form"),Je,$t,Wt,vn)):F=="function"?x(Cr):F=="for"?x(Rt("form"),ne,Cn,$t,Ot,Wt):F=="class"||w&&lt=="interface"?(E.marked="keyword",x(Rt("form",F=="class"?F:lt),Vn,Wt)):F=="variable"?w&&lt=="declare"?(E.marked="keyword",x($t)):w&&(lt=="module"||lt=="enum"||lt=="type")&&E.stream.match(/^\s*\w/,!1)?(E.marked="keyword",lt=="enum"?x(Ze):lt=="type"?x(Sn,ae("operator"),ke,ae(";")):x(Rt("form"),qe,ae("{"),Rt("}"),De,Wt,Wt)):w&&lt=="namespace"?(E.marked="keyword",x(Rt("form"),de,$t,Wt)):w&&lt=="abstract"?(E.marked="keyword",x($t)):x(Rt("stat"),Ce):F=="switch"?x(Rt("form"),Je,ae("{"),Rt("}","switch"),ne,De,Wt,Wt,Ot):F=="case"?x(de,ae(":")):F=="default"?x(ae(":")):F=="catch"?x(Rt("form"),Bt,Jt,$t,Wt,Ot):F=="export"?x(Rt("stat"),Mn,Wt):F=="import"?x(Rt("stat"),Lr,Wt):F=="async"?x($t):lt=="@"?x(de,$t):$(Rt("stat"),de,ae(";"),Wt)}function Jt(F){if(F=="(")return x($n,ae(")"))}function de(F,lt){return mr(F,lt,!1)}function Ne(F,lt){return mr(F,lt,!0)}function Je(F){return F!="("?$():x(Rt(")"),nr,ae(")"),Wt)}function mr(F,lt,Kt){if(E.state.fatArrowAt==E.stream.start){var ee=Kt?Ht:kt;if(F=="(")return x(Bt,Rt(")"),ye($n,")"),Wt,ae("=>"),ee,Ot);if(F=="variable")return $(Bt,qe,ae("=>"),ee,Ot)}var je=Kt?K:ve;return z.hasOwnProperty(F)?x(je):F=="function"?x(Cr,je):F=="class"||w&&lt=="interface"?(E.marked="keyword",x(Rt("form"),Do,Wt)):F=="keyword c"||F=="async"?x(Kt?Ne:de):F=="("?x(Rt(")"),nr,ae(")"),Wt,je):F=="operator"||F=="spread"?x(Kt?Ne:de):F=="["?x(Rt("]"),Nr,Wt,je):F=="{"?tr(Ve,"}",null,je):F=="quasi"?$(it,je):F=="new"?x(vt(Kt)):x()}function nr(F){return F.match(/[;\}\)\],]/)?$():$(de)}function ve(F,lt){return F==","?x(nr):K(F,lt,!1)}function K(F,lt,Kt){var ee=Kt==!1?ve:K,je=Kt==!1?de:Ne;if(F=="=>")return x(Bt,Kt?Ht:kt,Ot);if(F=="operator")return/\+\+|--/.test(lt)||w&&lt=="!"?x(ee):w&&lt=="<"&&E.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?x(Rt(">"),ye(ke,">"),Wt,ee):lt=="?"?x(de,ae(":"),je):x(je);if(F=="quasi")return $(it,ee);if(F!=";"){if(F=="(")return tr(Ne,")","call",ee);if(F==".")return x(Ke,ee);if(F=="[")return x(Rt("]"),nr,ae("]"),Wt,ee);if(w&&lt=="as")return E.marked="keyword",x(ke,ee);if(F=="regexp")return E.state.lastType=E.marked="operator",E.stream.backUp(E.stream.pos-E.stream.start-1),x(je)}}function it(F,lt){return F!="quasi"?$():lt.slice(lt.length-2)!="${"?x(it):x(nr,mt)}function mt(F){if(F=="}")return E.marked="string-2",E.state.tokenize=Z,x(it)}function kt(F){return T(E.stream,E.state),$(F=="{"?$t:de)}function Ht(F){return T(E.stream,E.state),$(F=="{"?$t:Ne)}function vt(F){return function(lt){return lt=="."?x(F?Pt:Vt):lt=="variable"&&w?x(Mt,F?K:ve):$(F?Ne:de)}}function Vt(F,lt){if(lt=="target")return E.marked="keyword",x(ve)}function Pt(F,lt){if(lt=="target")return E.marked="keyword",x(K)}function Ce(F){return F==":"?x(Wt,$t):$(ve,ae(";"),Wt)}function Ke(F){if(F=="variable")return E.marked="property",x()}function Ve(F,lt){if(F=="async")return E.marked="property",x(Ve);if(F=="variable"||E.style=="keyword"){if(E.marked="property",lt=="get"||lt=="set")return x(ze);var Kt;return w&&E.state.fatArrowAt==E.stream.start&&(Kt=E.stream.match(/^\s*:\s*/,!1))&&(E.state.fatArrowAt=E.stream.pos+Kt[0].length),x(or)}else{if(F=="number"||F=="string")return E.marked=M?"property":E.style+" property",x(or);if(F=="jsonld-keyword")return x(or);if(w&&Xt(lt))return E.marked="keyword",x(Ve);if(F=="[")return x(de,$e,ae("]"),or);if(F=="spread")return x(Ne,or);if(lt=="*")return E.marked="keyword",x(Ve);if(F==":")return $(or)}}function ze(F){return F!="variable"?$(or):(E.marked="property",x(Cr))}function or(F){if(F==":")return x(Ne);if(F=="(")return $(Cr)}function ye(F,lt,Kt){function ee(je,Ye){if(Kt?Kt.indexOf(je)>-1:je==","){var rr=E.state.lexical;return rr.info=="call"&&(rr.pos=(rr.pos||0)+1),x(function(xe,br){return xe==lt||br==lt?$():$(F)},ee)}return je==lt||Ye==lt?x():Kt&&Kt.indexOf(";")>-1?$(F):x(ae(lt))}return function(je,Ye){return je==lt||Ye==lt?x():$(F,ee)}}function tr(F,lt,Kt){for(var ee=3;ee<arguments.length;ee++)E.cc.push(arguments[ee]);return x(Rt(lt,Kt),ye(F,lt),Wt)}function De(F){return F=="}"?x():$($t,De)}function $e(F,lt){if(w){if(F==":")return x(ke);if(lt=="?")return x($e)}}function Ar(F,lt){if(w&&(F==":"||lt=="in"))return x(ke)}function _e(F){if(w&&F==":")return E.stream.match(/^\s*\w+\s+is\b/,!1)?x(de,Tr,ke):x(ke)}function Tr(F,lt){if(lt=="is")return E.marked="keyword",x()}function ke(F,lt){if(lt=="keyof"||lt=="typeof"||lt=="infer"||lt=="readonly")return E.marked="keyword",x(lt=="typeof"?Ne:ke);if(F=="variable"||lt=="void")return E.marked="type",x(Ct);if(lt=="|"||lt=="&")return x(ke);if(F=="string"||F=="number"||F=="atom")return x(Ct);if(F=="[")return x(Rt("]"),ye(ke,"]",","),Wt,Ct);if(F=="{")return x(Rt("}"),cr,Wt,Ct);if(F=="(")return x(ye(nt,")"),sr,Ct);if(F=="<")return x(ye(ke,">"),ke);if(F=="quasi")return $(te,Ct)}function sr(F){if(F=="=>")return x(ke)}function cr(F){return F.match(/[\}\)\]]/)?x():F==","||F==";"?x(cr):$(pr,cr)}function pr(F,lt){if(F=="variable"||E.style=="keyword")return E.marked="property",x(pr);if(lt=="?"||F=="number"||F=="string")return x(pr);if(F==":")return x(ke);if(F=="[")return x(ae("variable"),Ar,ae("]"),pr);if(F=="(")return $(zr,pr);if(!F.match(/[;\}\)\],]/))return x()}function te(F,lt){return F!="quasi"?$():lt.slice(lt.length-2)!="${"?x(te):x(ke,Kn)}function Kn(F){if(F=="}")return E.marked="string-2",E.state.tokenize=Z,x(te)}function nt(F,lt){return F=="variable"&&E.stream.match(/^\s*[?:]/,!1)||lt=="?"?x(nt):F==":"?x(ke):F=="spread"?x(nt):$(ke)}function Ct(F,lt){if(lt=="<")return x(Rt(">"),ye(ke,">"),Wt,Ct);if(lt=="|"||F=="."||lt=="&")return x(ke);if(F=="[")return x(ke,ae("]"),Ct);if(lt=="extends"||lt=="implements")return E.marked="keyword",x(ke);if(lt=="?")return x(ke,ae(":"),ke)}function Mt(F,lt){if(lt=="<")return x(Rt(">"),ye(ke,">"),Wt,Ct)}function qt(){return $(ke,he)}function he(F,lt){if(lt=="=")return x(ke)}function Ae(F,lt){return lt=="enum"?(E.marked="keyword",x(Ze)):$(qe,$e,xr,Lo)}function qe(F,lt){if(w&&Xt(lt))return E.marked="keyword",x(qe);if(F=="variable")return at(lt),x();if(F=="spread")return x(qe);if(F=="[")return tr(xn,"]");if(F=="{")return tr(ln,"}")}function ln(F,lt){return F=="variable"&&!E.stream.match(/^\s*:/,!1)?(at(lt),x(xr)):(F=="variable"&&(E.marked="property"),F=="spread"?x(qe):F=="}"?$():F=="["?x(de,ae("]"),ae(":"),ln):x(ae(":"),qe,xr))}function xn(){return $(qe,xr)}function xr(F,lt){if(lt=="=")return x(Ne)}function Lo(F){if(F==",")return x(Ae)}function vn(F,lt){if(F=="keyword b"&&lt=="else")return x(Rt("form","else"),$t,Wt)}function Cn(F,lt){if(lt=="await")return x(Cn);if(F=="(")return x(Rt(")"),wo,Wt)}function wo(F){return F=="var"?x(Ae,Mr):F=="variable"?x(Mr):$(Mr)}function Mr(F,lt){return F==")"?x():F==";"?x(Mr):lt=="in"||lt=="of"?(E.marked="keyword",x(de,Mr)):$(de,Mr)}function Cr(F,lt){if(lt=="*")return E.marked="keyword",x(Cr);if(F=="variable")return at(lt),x(Cr);if(F=="(")return x(Bt,Rt(")"),ye($n,")"),Wt,_e,$t,Ot);if(w&&lt=="<")return x(Rt(">"),ye(qt,">"),Wt,Cr)}function zr(F,lt){if(lt=="*")return E.marked="keyword",x(zr);if(F=="variable")return at(lt),x(zr);if(F=="(")return x(Bt,Rt(")"),ye($n,")"),Wt,_e,Ot);if(w&&lt=="<")return x(Rt(">"),ye(qt,">"),Wt,zr)}function Sn(F,lt){if(F=="keyword"||F=="variable")return E.marked="type",x(Sn);if(lt=="<")return x(Rt(">"),ye(qt,">"),Wt)}function $n(F,lt){return lt=="@"&&x(de,$n),F=="spread"?x($n):w&&Xt(lt)?(E.marked="keyword",x($n)):w&&F=="this"?x($e,xr):$(qe,$e,xr)}function Do(F,lt){return F=="variable"?Vn(F,lt):Qr(F,lt)}function Vn(F,lt){if(F=="variable")return at(lt),x(Qr)}function Qr(F,lt){if(lt=="<")return x(Rt(">"),ye(qt,">"),Wt,Qr);if(lt=="extends"||lt=="implements"||w&&F==",")return lt=="implements"&&(E.marked="keyword"),x(w?ke:de,Qr);if(F=="{")return x(Rt("}"),Wr,Wt)}function Wr(F,lt){if(F=="async"||F=="variable"&&(lt=="static"||lt=="get"||lt=="set"||w&&Xt(lt))&&E.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1))return E.marked="keyword",x(Wr);if(F=="variable"||E.style=="keyword")return E.marked="property",x(qn,Wr);if(F=="number"||F=="string")return x(qn,Wr);if(F=="[")return x(de,$e,ae("]"),qn,Wr);if(lt=="*")return E.marked="keyword",x(Wr);if(w&&F=="(")return $(zr,Wr);if(F==";"||F==",")return x(Wr);if(F=="}")return x();if(lt=="@")return x(de,Wr)}function qn(F,lt){if(lt=="!"||lt=="?")return x(qn);if(F==":")return x(ke,xr);if(lt=="=")return x(Ne);var Kt=E.state.lexical.prev,ee=Kt&&Kt.info=="interface";return $(ee?zr:Cr)}function Mn(F,lt){return lt=="*"?(E.marked="keyword",x(yr,ae(";"))):lt=="default"?(E.marked="keyword",x(de,ae(";"))):F=="{"?x(ye(On,"}"),yr,ae(";")):$($t)}function On(F,lt){if(lt=="as")return E.marked="keyword",x(ae("variable"));if(F=="variable")return $(Ne,On)}function Lr(F){return F=="string"?x():F=="("?$(de):F=="."?$(ve):$(ir,be,yr)}function ir(F,lt){return F=="{"?tr(ir,"}"):(F=="variable"&&at(lt),lt=="*"&&(E.marked="keyword"),x(un))}function be(F){if(F==",")return x(ir,be)}function un(F,lt){if(lt=="as")return E.marked="keyword",x(ir)}function yr(F,lt){if(lt=="from")return E.marked="keyword",x(de)}function Nr(F){return F=="]"?x():$(ye(Ne,"]"))}function Ze(){return $(Rt("form"),qe,ae("{"),Rt("}"),ye(tn,"}"),Wt,Wt)}function tn(){return $(qe,xr)}function Dr(F,lt){return F.lastType=="operator"||F.lastType==","||L.test(lt.charAt(0))||/[,.]/.test(lt.charAt(0))}function gn(F,lt,Kt){return lt.tokenize==k&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(lt.lastType)||lt.lastType=="quasi"&&/\{\s*$/.test(F.string.slice(0,F.pos-(Kt||0)))}return{startState:function(F){var lt={tokenize:k,lastType:"sof",cc:[],lexical:new I((F||0)-J,0,"block",!1),localVars:ot.localVars,context:ot.localVars&&new St(null,null,!1),indented:F||0};return ot.globalVars&&typeof ot.globalVars=="object"&&(lt.globalVars=ot.globalVars),lt},token:function(F,lt){if(F.sol()&&(lt.lexical.hasOwnProperty("align")||(lt.lexical.align=!1),lt.indented=F.indentation(),T(F,lt)),lt.tokenize!=et&&F.eatSpace())return null;var Kt=lt.tokenize(F,lt);return U=="comment"?Kt:(lt.lastType=U=="operator"&&(V=="++"||V=="--")?"incdec":U,G(lt,Kt,U,V,F))},indent:function(F,lt){if(F.tokenize==et||F.tokenize==Z)return ht.Pass;if(F.tokenize!=k)return 0;var Kt=lt&&lt.charAt(0),ee=F.lexical,je;if(!/^\s*else\b/.test(lt))for(var Ye=F.cc.length-1;Ye>=0;--Ye){var rr=F.cc[Ye];if(rr==Wt)ee=ee.prev;else if(rr!=vn&&rr!=Ot)break}for(;(ee.type=="stat"||ee.type=="form")&&(Kt=="}"||(je=F.cc[F.cc.length-1])&&(je==ve||je==K)&&!/^[,\.=+\-*:?[\(]/.test(lt));)ee=ee.prev;C&&ee.type==")"&&ee.prev.type=="stat"&&(ee=ee.prev);var xe=ee.type,br=Kt==xe;return xe=="vardef"?ee.indented+(F.lastType=="operator"||F.lastType==","?ee.info.length+1:0):xe=="form"&&Kt=="{"?ee.indented:xe=="form"?ee.indented+J:xe=="stat"?ee.indented+(Dr(F,lt)?C||J:0):ee.info=="switch"&&!br&&ot.doubleIndentSwitch!=!1?ee.indented+(/^(?:case|default)\b/.test(lt)?J:2*J):ee.align?ee.column+(br?0:1):ee.indented+(br?0:J)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:m?null:"/*",blockCommentEnd:m?null:"*/",blockCommentContinue:m?null:" * ",lineComment:m?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:m?"json":"javascript",jsonldMode:M,jsonMode:m,expressionAllowed:gn,skipExpression:function(F){G(F,"atom","atom","true",new ht.StringStream("",2,null))}}}),ht.registerHelper("wordChars","javascript",/[\w$]/),ht.defineMIME("text/javascript","javascript"),ht.defineMIME("text/ecmascript","javascript"),ht.defineMIME("application/javascript","javascript"),ht.defineMIME("application/x-javascript","javascript"),ht.defineMIME("application/ecmascript","javascript"),ht.defineMIME("application/json",{name:"javascript",json:!0}),ht.defineMIME("application/x-json",{name:"javascript",json:!0}),ht.defineMIME("application/manifest+json",{name:"javascript",json:!0}),ht.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),ht.defineMIME("text/typescript",{name:"javascript",typescript:!0}),ht.defineMIME("application/typescript",{name:"javascript",typescript:!0})})},589:(R,dt,wt)=>{(function(ht){ht(wt(631))})(function(ht){var _t={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},ot={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};ht.defineMode("xml",function(J,C){var M=J.indentUnit,m={},A=C.htmlMode?_t:ot;for(var w in A)m[w]=A[w];for(var w in C)m[w]=C[w];var _,O;function L(x,gt){function at(St){return gt.tokenize=St,St(x,gt)}var Lt=x.next();if(Lt=="<")return x.eat("!")?x.eat("[")?x.match("CDATA[")?at(U("atom","]]>")):null:x.match("--")?at(U("comment","-->")):x.match("DOCTYPE",!0,!0)?(x.eatWhile(/[\w\._\-]/),at(V(1))):null:x.eat("?")?(x.eatWhile(/[\w\._\-]/),gt.tokenize=U("meta","?>"),"meta"):(_=x.eat("/")?"closeTag":"openTag",gt.tokenize=Q,"tag bracket");if(Lt=="&"){var Xt;return x.eat("#")?x.eat("x")?Xt=x.eatWhile(/[a-fA-F\d]/)&&x.eat(";"):Xt=x.eatWhile(/[\d]/)&&x.eat(";"):Xt=x.eatWhile(/[\w\.\-:]/)&&x.eat(";"),Xt?"atom":"error"}else return x.eatWhile(/[^&<]/),null}L.isInText=!0;function Q(x,gt){var at=x.next();if(at==">"||at=="/"&&x.eat(">"))return gt.tokenize=L,_=at==">"?"endTag":"selfcloseTag","tag bracket";if(at=="=")return _="equals",null;if(at=="<"){gt.tokenize=L,gt.state=Z,gt.tagName=gt.tagStart=null;var Lt=gt.tokenize(x,gt);return Lt?Lt+" tag error":"tag error"}else return/[\'\"]/.test(at)?(gt.tokenize=X(at),gt.stringStartCol=x.column(),gt.tokenize(x,gt)):(x.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function X(x){var gt=function(at,Lt){for(;!at.eol();)if(at.next()==x){Lt.tokenize=Q;break}return"string"};return gt.isInAttribute=!0,gt}function U(x,gt){return function(at,Lt){for(;!at.eol();){if(at.match(gt)){Lt.tokenize=L;break}at.next()}return x}}function V(x){return function(gt,at){for(var Lt;(Lt=gt.next())!=null;){if(Lt=="<")return at.tokenize=V(x+1),at.tokenize(gt,at);if(Lt==">")if(x==1){at.tokenize=L;break}else return at.tokenize=V(x-1),at.tokenize(gt,at)}return"meta"}}function j(x){return x&&x.toLowerCase()}function k(x,gt,at){this.prev=x.context,this.tagName=gt||"",this.indent=x.indented,this.startOfLine=at,(m.doNotIndent.hasOwnProperty(gt)||x.context&&x.context.noIndent)&&(this.noIndent=!0)}function q(x){x.context&&(x.context=x.context.prev)}function et(x,gt){for(var at;;){if(!x.context||(at=x.context.tagName,!m.contextGrabbers.hasOwnProperty(j(at))||!m.contextGrabbers[j(at)].hasOwnProperty(j(gt))))return;q(x)}}function Z(x,gt,at){return x=="openTag"?(at.tagStart=gt.column(),rt):x=="closeTag"?T:Z}function rt(x,gt,at){return x=="word"?(at.tagName=gt.current(),O="tag",N):m.allowMissingTagName&&x=="endTag"?(O="tag bracket",N(x,gt,at)):(O="error",rt)}function T(x,gt,at){if(x=="word"){var Lt=gt.current();return at.context&&at.context.tagName!=Lt&&m.implicitlyClosed.hasOwnProperty(j(at.context.tagName))&&q(at),at.context&&at.context.tagName==Lt||m.matchClosing===!1?(O="tag",z):(O="tag error",I)}else return m.allowMissingTagName&&x=="endTag"?(O="tag bracket",z(x,gt,at)):(O="error",I)}function z(x,gt,at){return x!="endTag"?(O="error",z):(q(at),Z)}function I(x,gt,at){return O="error",z(x,gt,at)}function N(x,gt,at){if(x=="word")return O="attribute",G;if(x=="endTag"||x=="selfcloseTag"){var Lt=at.tagName,Xt=at.tagStart;return at.tagName=at.tagStart=null,x=="selfcloseTag"||m.autoSelfClosers.hasOwnProperty(j(Lt))?et(at,Lt):(et(at,Lt),at.context=new k(at,Lt,Xt==at.indented)),Z}return O="error",N}function G(x,gt,at){return x=="equals"?E:(m.allowMissing||(O="error"),N(x,gt,at))}function E(x,gt,at){return x=="string"?$:x=="word"&&m.allowUnquoted?(O="string",N):(O="error",N(x,gt,at))}function $(x,gt,at){return x=="string"?$:N(x,gt,at)}return{startState:function(x){var gt={tokenize:L,state:Z,indented:x||0,tagName:null,tagStart:null,context:null};return x!=null&&(gt.baseIndent=x),gt},token:function(x,gt){if(!gt.tagName&&x.sol()&&(gt.indented=x.indentation()),x.eatSpace())return null;_=null;var at=gt.tokenize(x,gt);return(at||_)&&at!="comment"&&(O=null,gt.state=gt.state(_||at,x,gt),O&&(at=O=="error"?at+" error":O)),at},indent:function(x,gt,at){var Lt=x.context;if(x.tokenize.isInAttribute)return x.tagStart==x.indented?x.stringStartCol+1:x.indented+M;if(Lt&&Lt.noIndent)return ht.Pass;if(x.tokenize!=Q&&x.tokenize!=L)return at?at.match(/^(\s*)/)[0].length:0;if(x.tagName)return m.multilineTagIndentPastTag!==!1?x.tagStart+x.tagName.length+2:x.tagStart+M*(m.multilineTagIndentFactor||1);if(m.alignCDATA&&/<!\[CDATA\[/.test(gt))return 0;var Xt=gt&&/^<(\/)?([\w_:\.-]*)/.exec(gt);if(Xt&&Xt[1])for(;Lt;)if(Lt.tagName==Xt[2]){Lt=Lt.prev;break}else if(m.implicitlyClosed.hasOwnProperty(j(Lt.tagName)))Lt=Lt.prev;else break;else if(Xt)for(;Lt;){var St=m.contextGrabbers[j(Lt.tagName)];if(St&&St.hasOwnProperty(j(Xt[2])))Lt=Lt.prev;else break}for(;Lt&&Lt.prev&&!Lt.startOfLine;)Lt=Lt.prev;return Lt?Lt.indent+M:x.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:m.htmlMode?"html":"xml",helperType:m.htmlMode?"html":"xml",skipAttribute:function(x){x.state==E&&(x.state=N)},xmlCurrentTag:function(x){return x.tagName?{name:x.tagName,close:x.type=="closeTag"}:null},xmlCurrentContext:function(x){for(var gt=[],at=x.context;at;at=at.prev)gt.push(at.tagName);return gt.reverse()}}}),ht.defineMIME("text/xml","xml"),ht.defineMIME("application/xml","xml"),ht.mimeModes.hasOwnProperty("text/html")||ht.defineMIME("text/html",{name:"xml",htmlMode:!0})})},642:(R,dt,wt)=>{wt.d(dt,{Z:()=>J});var ht=wt(346),_t=function(){var C=function(M,m){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,w){A.__proto__=w}||function(A,w){for(var _ in w)Object.prototype.hasOwnProperty.call(w,_)&&(A[_]=w[_])},C(M,m)};return function(M,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");C(M,m);function A(){this.constructor=M}M.prototype=m===null?Object.create(m):(A.prototype=m.prototype,new A)}}(),ot=function(C){_t(M,C);function M(m,A,w){var _=C.call(this,A,w)||this;return _._module=m,_}return Object.defineProperty(M.prototype,"module",{get:function(){return this._module},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"config",{get:function(){return this._module.config},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"em",{get:function(){return this._module.em},enumerable:!1,configurable:!0}),M}(ht.Hn);const J=ot},675:(R,dt,wt)=>{wt.d(dt,{Z:()=>C,q:()=>ot});var ht=wt(642),_t=function(){var M=function(m,A){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,_){w.__proto__=_}||function(w,_){for(var O in _)Object.prototype.hasOwnProperty.call(_,O)&&(w[O]=_[O])},M(m,A)};return function(m,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");M(m,A);function w(){this.constructor=m}m.prototype=A===null?Object.create(A):(w.prototype=A.prototype,new w)}}(),ot;(function(M){M.Select="select",M.Hover="hover",M.Spacing="spacing",M.Target="target",M.Resize="resize"})(ot||(ot={}));var J=function(M){_t(m,M);function m(){return M!==null&&M.apply(this,arguments)||this}return m.prototype.defaults=function(){return{id:"",type:""}},Object.defineProperty(m.prototype,"type",{get:function(){return this.get("type")||""},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"component",{get:function(){var A,w=this.get("component");return w||((A=this.get("componentView"))===null||A===void 0?void 0:A.model)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"componentView",{get:function(){var A,w=this.get("componentView");return w||((A=this.get("component"))===null||A===void 0?void 0:A.getView())},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"el",{get:function(){var A;return(A=this.componentView)===null||A===void 0?void 0:A.el},enumerable:!1,configurable:!0}),m.prototype.getBoxRect=function(A){var w=this,_=w.el,O=w.em,L=O.Canvas.getCanvasView(),Q=this.get("boxRect");return Q||(_&&L?L.getElBoxRect(_,A):{x:0,y:0,width:0,height:0})},m.prototype.getStyle=function(A){A===void 0&&(A={});var w=A.boxRect||this.getBoxRect(A),_=w.width,O=w.height,L=w.x,Q=w.y;return{width:"".concat(_,"px"),height:"".concat(O,"px"),top:"0",left:"0",position:"absolute",translate:"".concat(L,"px ").concat(Q,"px")}},m.prototype.isType=function(A){return this.type===A},m}(ht.Z);const C=J},713:(R,dt,wt)=>{wt.d(dt,{Z:()=>_t});var ht;(function(ot){ot.run="command:run",ot._run="run",ot.runCommand="command:run:",ot._runCommand="run:",ot.runBeforeCommand="command:run:before:",ot.abort="command:abort:",ot._abort="abort:",ot.stop="command:stop",ot._stop="stop",ot.stopCommand="command:stop:",ot._stopCommand="stop:",ot.stopBeforeCommand="command:stop:before:"})(ht||(ht={}));const _t=ht},858:(R,dt,wt)=>{wt.r(dt),wt.d(dt,{default:()=>ht});const ht={run:function(_t){_t.Components.clear(),_t.Css.clear()}}},884:(R,dt,wt)=>{wt.r(dt),wt.d(dt,{default:()=>J});var ht=wt(50),_t=wt(668),ot=wt(491);const J={run:function(C){(0,ht.bindAll)(this,"onKeyUp","enableDragger","disableDragger"),this.editor=C,this.canvasModel=this.canvas.getCanvasView().model,this.toggleMove(1)},stop:function(C){this.toggleMove(),this.disableDragger()},onKeyUp:function(C){(0,ot.sN)(C)===" "&&this.editor.stopCommand(this.id)},enableDragger:function(C){this.toggleDragger(1,C)},disableDragger:function(C){this.toggleDragger(0,C)},toggleDragger:function(C,M){var m=this,A=m.canvasModel,w=m.em,_=this.dragger,O=C?"add":"remove";this.getCanvas().classList[O]("".concat(this.ppfx,"is__grabbing")),_||(_=new _t.Z({getPosition:function(){return{x:A.get("x"),y:A.get("y")}},setPosition:function(L){var Q=L.x,X=L.y;A.set({x:Q,y:X})},onStart:function(L,Q){w.trigger("canvas:move:start",Q)},onDrag:function(L,Q){w.trigger("canvas:move",Q)},onEnd:function(L,Q){w.trigger("canvas:move:end",Q)}}),this.dragger=_),C?_.start(M):_.stop()},toggleMove:function(C){var M=this.ppfx,m=C?"add":"remove",A=C?"on":"off",w={on:ot.on,off:ot.S1},_=this.getCanvas(),O=["".concat(M,"is__grab")];!C&&O.push("".concat(M,"is__grabbing")),O.forEach(function(L){return _.classList[m](L)}),w[A](document,"keyup",this.onKeyUp),w[A](_,"mousedown",this.enableDragger),w[A](document,"mouseup",this.disableDragger)}}},790:(R,dt,wt)=>{wt.r(dt),wt.d(dt,{default:()=>M,defineCommand:()=>J});var ht=wt(346),_t=wt(713),ot=function(){var m=function(A,w){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,O){_.__proto__=O}||function(_,O){for(var L in O)Object.prototype.hasOwnProperty.call(O,L)&&(_[L]=O[L])},m(A,w)};return function(A,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");m(A,w);function _(){this.constructor=A}A.prototype=w===null?Object.create(w):(_.prototype=w.prototype,new _)}}();function J(m){return m}var C=function(m){ot(A,m);function A(w){var _=m.call(this,0)||this;_.config=w||{},_.em=_.config.em||{};var O=_.config.stylePrefix;return _.pfx=O,_.ppfx=_.config.pStylePrefix,_.hoverClass="".concat(O,"hover"),_.badgeClass="".concat(O,"badge"),_.plhClass="".concat(O,"placeholder"),_.freezClass="".concat(_.ppfx,"freezed"),_.canvas=_.em.Canvas,_.init(_.config),_}return A.prototype.onFrameScroll=function(w){},A.prototype.getCanvas=function(){return this.canvas.getElement()},A.prototype.getCanvasBody=function(){return this.canvas.getBody()},A.prototype.getCanvasTools=function(){return this.canvas.getToolsEl()},A.prototype.offset=function(w){var _=w.getBoundingClientRect();return{top:_.top+w.ownerDocument.body.scrollTop,left:_.left+w.ownerDocument.body.scrollLeft}},A.prototype.init=function(w){},A.prototype.callRun=function(w,_){_===void 0&&(_={});var O=this.id;if(w.trigger("".concat(_t.Z.runBeforeCommand).concat(O),{options:_}),w.trigger("".concat(_t.Z._runCommand).concat(O,":before"),_),_.abort){w.trigger("".concat(_t.Z.abort).concat(O),{options:_}),w.trigger("".concat(_t.Z._abort).concat(O),_);return}var L=_.sender||w,Q=this.run(w,L,_),X={id:O,result:Q,options:_};return w.trigger("".concat(_t.Z.runCommand).concat(O),X),w.trigger(_t.Z.run,X),w.trigger("".concat(_t.Z._runCommand).concat(O),Q,_),w.trigger(_t.Z._run,O,Q,_),Q},A.prototype.callStop=function(w,_){_===void 0&&(_={});var O=this.id,L=_.sender||w;w.trigger("".concat(_t.Z.stopBeforeCommand).concat(O),{options:_}),w.trigger("".concat(_t.Z._stopCommand).concat(O,":before"),_);var Q=this.stop(w,L,_),X={id:O,result:Q,options:_};return w.trigger("".concat(_t.Z.stopCommand).concat(O),X),w.trigger(_t.Z.stop,X),w.trigger("".concat(_t.Z._stopCommand).concat(O),Q,_),w.trigger(_t.Z._stop,O,Q,_),Q},A.prototype.stopCommand=function(w){this.em.Commands.stop(this.id,w)},A.prototype.run=function(w,_,O){},A.prototype.stop=function(w,_,O){},A}(ht.Hn);const M=C},180:(R,dt,wt)=>{wt.r(dt),wt.d(dt,{default:()=>J});var ht=wt(50),_t=function(C,M,m){if(m||arguments.length===2)for(var A=0,w=M.length,_;A<w;A++)(_||!(A in M))&&(_||(_=Array.prototype.slice.call(M,0,A)),_[A]=M[A]);return C.concat(_||Array.prototype.slice.call(M))},ot={run:function(C,M,m){var A=this;m===void 0&&(m={});var w=[],_=m.component||C.getSelectedAll();return _=(0,ht.isArray)(_)?_t([],_,!0):[_],_.filter(Boolean).forEach(function(O){var L,Q;if(!O.get("removable"))return A.em.logWarning("The element is not removable",{component:O});w.push(O);var X=((Q=(L=O.delegate)===null||L===void 0?void 0:L.remove)===null||Q===void 0?void 0:Q.call(L,O))||O;X.remove()}),C.selectRemove(w),w}};const J=ot},544:(R,dt,wt)=>{wt.r(dt),wt.d(dt,{default:()=>C});var ht=wt(50),_t=wt(668),ot=function(){return ot=Object.assign||function(M){for(var m,A=1,w=arguments.length;A<w;A++){m=arguments[A];for(var _ in m)Object.prototype.hasOwnProperty.call(m,_)&&(M[_]=m[_])}return M},ot.apply(this,arguments)},J="dmode";const C={run:function(M,m,A){var w=this;A===void 0&&(A={}),(0,ht.bindAll)(this,"setPosition","onStart","onDrag","onEnd","getPosition","getGuidesStatic","renderGuide","getGuidesTarget");var _=A.target,O=A.event,L=A.mode,Q=A.dragger,X=Q===void 0?{}:Q,U=_.getEl(),V=ot({doc:U.ownerDocument,onStart:this.onStart,onEnd:this.onEnd,onDrag:this.onDrag,getPosition:this.getPosition,setPosition:this.setPosition,guidesStatic:function(){return w.guidesStatic},guidesTarget:function(){return w.guidesTarget}},X);this.setupGuides(),this.opts=A,this.editor=M,this.em=M.getModel(),this.target=_,this.isTran=L=="translate",this.guidesContainer=this.getGuidesContainer(),this.guidesTarget=this.getGuidesTarget(),this.guidesStatic=this.getGuidesStatic();var j=this.dragger;return j?j.setOptions(V):(j=new _t.Z(V),this.dragger=j),O&&j.start(O),this.toggleDrag(1),this.em.trigger("".concat(J,":start"),this.getEventOpts()),j},getEventOpts:function(){return{mode:this.opts.mode,target:this.target,guidesTarget:this.guidesTarget,guidesStatic:this.guidesStatic}},stop:function(){this.toggleDrag()},setupGuides:function(){(this.guides||[]).forEach(function(M){var m=M.guide;m&&m.parentNode.removeChild(m)}),this.guides=[]},getGuidesContainer:function(){var M=this,m=this.guidesEl;if(!m){var A=this,w=A.editor,_=A.em,O=A.opts,L=w.getConfig().stylePrefix,Q=document.createElement("div"),X=document.createElement("div"),U='<div class="'.concat(L,"guide-info__line ").concat(L,`danger-bg">
        <div class="`).concat(L,"guide-info__content ").concat(L,`danger-color"></div>
      </div>`);m=document.createElement("div"),m.className="".concat(L,"guides"),Q.className="".concat(L,"guide-info ").concat(L,"guide-info__x"),X.className="".concat(L,"guide-info ").concat(L,"guide-info__y"),Q.innerHTML=U,X.innerHTML=U,m.appendChild(Q),m.appendChild(X),w.Canvas.getGlobalToolsEl().appendChild(m),this.guidesEl=m,this.elGuideInfoX=Q,this.elGuideInfoY=X,this.elGuideInfoContentX=Q.querySelector(".".concat(L,"guide-info__content")),this.elGuideInfoContentY=X.querySelector(".".concat(L,"guide-info__content")),_.on("canvas:update frame:scroll",(0,ht.debounce)(function(){var V;M.updateGuides(),O.debug&&((V=M.guides)===null||V===void 0||V.forEach(function(j){return M.renderGuide(j)}))},200))}return m},getGuidesStatic:function(){var M=this,m=[],A=this.target.getEl(),w=A.parentNode,_=w===void 0?{}:w;return(0,ht.each)(_.children,function(O){return m=m.concat(A!==O?M.getElementGuides(O):[])}),m.concat(this.getElementGuides(_))},getGuidesTarget:function(){return this.getElementGuides(this.target.getEl())},updateGuides:function(M){var m=this,A,w;(M||this.guides).forEach(function(_){var O=_.origin,L=A===O?w:m.getElementPos(O);A=O,w=L,(0,ht.each)(m.getGuidePosUpdate(_,L),function(Q,X){return _[X]=Q}),_.originRect=L})},getGuidePosUpdate:function(M,m){var A={},w=m.top,_=m.height,O=m.left,L=m.width;switch(M.type){case"t":A.y=w;break;case"b":A.y=w+_;break;case"l":A.x=O;break;case"r":A.x=O+L;break;case"x":A.x=O+L/2;break;case"y":A.y=w+_/2;break}return A},renderGuide:function(M){M===void 0&&(M={});var m=M.guide||document.createElement("div"),A="px",w=M.active?2:1,_=m.children[0];return m.style="position: absolute; background-color: ".concat(M.active?"green":"red",";"),m.children.length||(_=document.createElement("div"),_.style="position: absolute; color: red; padding: 5px; top: 0; left: 0;",m.appendChild(_)),M.y?(m.style.width="100%",m.style.height="".concat(w).concat(A),m.style.top="".concat(M.y).concat(A),m.style.left=0):(m.style.width="".concat(w).concat(A),m.style.height="100%",m.style.left="".concat(M.x).concat(A),m.style.top="0".concat(A)),!M.guide&&this.guidesContainer.appendChild(m),m},getElementPos:function(M){return this.editor.Canvas.getElementPos(M,{noScroll:1})},getElementGuides:function(M){var m=this,A=this.opts,w=this.getElementPos(M),_=w.top,O=w.height,L=w.left,Q=w.width,X=[{type:"t",y:_},{type:"b",y:_+O},{type:"l",x:L},{type:"r",x:L+Q},{type:"x",x:L+Q/2},{type:"y",y:_+O/2}].map(function(U){return ot(ot({},U),{origin:M,originRect:w,guide:A.debug&&m.renderGuide(U)})});return X.forEach(function(U){var V;return(V=m.guides)===null||V===void 0?void 0:V.push(U)}),X},getTranslate:function(M,m){m===void 0&&(m="x");var A=0;return(M||"").split(" ").forEach(function(w){var _=w.trim(),O="translate".concat(m.toUpperCase(),"(");_.indexOf(O)===0&&(A=parseFloat(_.replace(O,"")))}),A},setTranslate:function(M,m,A){var w="translate".concat(m.toUpperCase(),"("),_="".concat(w).concat(A,")"),O=(M||"").split(" ").map(function(L){var Q=L.trim();return Q.indexOf(w)===0&&(L=_),L}).join(" ");return O.indexOf(w)<0&&(O+=" ".concat(_)),O},getPosition:function(){var M=this,m=M.target,A=M.isTran,w=m.getStyle(),_=w.left,O=w.top,L=w.transform,Q=0,X=0;return A?(Q=this.getTranslate(L),X=this.getTranslate(L,"y")):(Q=parseFloat(_||0),X=parseFloat(O||0)),{x:Q,y:X}},setPosition:function(M){var m=M.x,A=M.y,w=M.end,_=M.position,O=M.width,L=M.height,Q=this,X=Q.target,U=Q.isTran,V=Q.em,j="px",k=!w,q="".concat(parseInt(m,10)).concat(j),et="".concat(parseInt(A,10)).concat(j),Z={};if(U){var rt=X.getStyle().transform||"";rt=this.setTranslate(rt,"x",q),rt=this.setTranslate(rt,"y",et),Z={transform:rt,__p:k},X.addStyle(Z,{avoidStore:!w})}else{var T={position:_,width:O,height:L},z={left:q,top:et,__p:k};(0,ht.keys)(T).forEach(function(I){var N=T[I];N&&(z[I]=N)}),Z=z,X.addStyle(Z,{avoidStore:!w})}V==null||V.Styles.__emitCmpStyleUpdate(Z,{components:V.getSelected()})},_getDragData:function(){var M=this.target;return{target:M,parent:M.parent(),index:M.index()}},onStart:function(M){var m=this,A=m.target,w=m.editor,_=m.isTran,O=m.opts,L=O.center,Q=O.onStart,X=w.Canvas,U=A.getStyle(),V="absolute",j=[V,"relative"];if(Q&&Q(this._getDragData()),!_&&U.position!==V){var k=X.offset(A.getEl()),q=k.left,et=k.top,Z=k.width,rt=k.height,T=A.parent(),z=void 0;do{var I=T.getStyle();z=j.indexOf(I.position)>=0?T:null,T=T.parent()}while(T&&!z);if(L){var N=X.getMouseRelativeCanvas(M),G=N.x,E=N.y;q=G,et=E}else if(z){var $=X.offset(z.getEl());q=q-$.left,et=et-$.top}this.setPosition({x:q,y:et,width:"".concat(Z,"px"),height:"".concat(rt,"px"),position:V})}},onDrag:function(){var M=this,m=this,A=m.guidesTarget,w=m.opts,_=w.onDrag;this.updateGuides(A),w.debug&&A.forEach(function(O){return M.renderGuide(O)}),w.guidesInfo&&this.renderGuideInfo(A.filter(function(O){return O.active})),_&&_(this._getDragData())},onEnd:function(M,m,A){A===void 0&&(A={});var w=this,_=w.editor,O=w.opts,L=w.id,Q=O.onEnd;Q&&Q(M,A,ot(ot({event:M},A),this._getDragData())),_.stopCommand(L),this.hideGuidesInfo(),this.em.trigger("".concat(J,":end"),this.getEventOpts())},hideGuidesInfo:function(){var M=this;["X","Y"].forEach(function(m){var A=M["elGuideInfo".concat(m)];A&&(A.style.display="none")})},renderGuideInfo:function(M){var m=this;M===void 0&&(M=[]);var A=this.guidesStatic;this.hideGuidesInfo(),M.forEach(function(w){var _=w.origin,O=w.x,L=m.getElementPos(_),Q=(0,ht.isUndefined)(O)?"y":"x",X=Q==="y",U=L[X?"left":"top"],V=L.rect[X?"left":"top"],j=X?U+L.width:U+L.height,k=X?V+L.rect.width:V+L.rect.height,q=m["elGuideInfo".concat(Q.toUpperCase())],et=m["elGuideInfoContent".concat(Q.toUpperCase())],Z=q.style,rt=A==null?void 0:A.filter(function(ne){return ne.type===w.type}).map(function(ne){var Ot=ne.originRect,Rt=Ot.left,Wt=Ot.width,ae=Ot.top,$t=Ot.height,Jt=X?Rt:ae,de=X?Rt+Wt:ae+$t;return{gap:de<U?U-de:Jt-j,guide:ne}}).filter(function(ne){return ne.gap>0}).sort(function(ne,Ot){return ne.gap-Ot.gap}).map(function(ne){return ne.guide})[0];if(rt){var T=rt.originRect,z=T.left,I=T.width,N=T.top,G=T.height,E=T.rect,$=X?z<L.left:N<L.top,x=X?z:N,gt=X?E.left:E.top,at=X?z+I:N+G,Lt=X?E.left+E.width:E.top+E.height,Xt=X?w.y:w.x,St=$?at:j,Ut="".concat(Xt,"px"),Yt=$?U-at:x-j,Bt=$?V-Lt:gt-k;Z.display="",Z[X?"top":"left"]=Ut,Z[X?"left":"top"]="".concat(St,"px"),Z[X?"width":"height"]="".concat(Yt,"px"),et.innerHTML="".concat(Math.round(Bt),"px"),m.em.trigger("".concat(J,":active"),ot(ot({},m.getEventOpts()),{guide:w,guidesStatic:A,matched:rt,posFirst:Xt,posSecond:St,size:Yt,sizeRaw:Bt,elGuideInfo:q,elGuideInfoCnt:et}))}})},toggleDrag:function(M){var m=this,A=m.ppfx,w=m.editor,_=M?"add":"remove",O=["".concat(A,"is__grabbing")],L=w.Canvas,Q=L.getBody();O.forEach(function(X){return Q.classList[_](X)}),L[M?"startAutoscroll":"stopAutoscroll"]()}}},236:(R,dt,wt)=>{wt.r(dt),wt.d(dt,{default:()=>ht});const ht={run:function(_t){if(_t.Canvas.hasFocus()){var ot=[];_t.getSelectedAll().forEach(function(J){var C=J.components(),M=C&&C.filter(function(m){return m.get("selectable")})[0];M&&ot.push(M)}),ot.length&&_t.select(ot)}}}},368:(R,dt,wt)=>{wt.r(dt),wt.d(dt,{default:()=>ht});const ht={run:function(_t,ot,J){if(J===void 0&&(J={}),!(!_t.Canvas.hasFocus()&&!J.force)){var C=[];_t.getSelectedAll().forEach(function(M){for(var m=M.parent();m&&!m.get("selectable");)m=m.parent();m&&C.push(m)}),C.length&&_t.select(C)}}}},243:(R,dt,wt)=>{wt.r(dt),wt.d(dt,{default:()=>ht});const ht={run:function(_t){if(_t.Canvas.hasFocus()){var ot=[];_t.getSelectedAll().forEach(function(J){var C=J.parent();if(C){var M=C.components().length,m=0,A=0,w;do m++,A=J.index()+m,w=A<=M?C.getChildAt(A):null;while(w&&!w.get("selectable"));ot.push(w||J)}}),ot.length&&_t.select(ot)}}}},400:(R,dt,wt)=>{wt.r(dt),wt.d(dt,{default:()=>ht});const ht={run:function(_t){if(_t.Canvas.hasFocus()){var ot=[];_t.getSelectedAll().forEach(function(J){var C=J.parent();if(C){var M=0,m=0,A;do M++,m=J.index()-M,A=m>=0?C.getChildAt(m):null;while(A&&!A.get("selectable"));ot.push(A||J)}}),ot.length&&_t.select(ot)}}}},910:(R,dt,wt)=>{wt.r(dt),wt.d(dt,{default:()=>_t});var ht=wt(50);const _t={run:function(ot,J,C){C===void 0&&(C={});var M=C.target,m=[];if(!M.get("styles"))return m;var A=M.get("type"),w=ot.Pages.getAllWrappers(),_=(0,ht.flatten)(w.map(function(L){return L.findType(A)})).length;if(!_){var O=ot.CssComposer.getAll();m=O.filter(function(L){return L.get("group")==="cmp:".concat(A)}),O.remove(m)}return m}}},744:(R,dt,wt)=>{wt.r(dt),wt.d(dt,{default:()=>_t});var ht=function(ot,J,C){if(C||arguments.length===2)for(var M=0,m=J.length,A;M<m;M++)(A||!(M in J))&&(A||(A=Array.prototype.slice.call(J,0,M)),A[M]=J[M]);return ot.concat(A||Array.prototype.slice.call(J))};const _t={run:function(ot){var J=ot.getModel(),C=ht([],ot.getSelectedAll(),!0).map(function(M){var m,A;return((A=(m=M.delegate)===null||m===void 0?void 0:m.copy)===null||A===void 0?void 0:A.call(m,M))||M}).filter(Boolean);C.length&&J.set("clipboard",C)}}},457:(R,dt,wt)=>{wt.r(dt),wt.d(dt,{default:()=>_t});var ht=wt(491);const _t={run:function(ot,J,C){var M=this;C===void 0&&(C={}),J&&J.set&&J.set("active",0);var m=ot.getConfig(),A=ot.Modal,w=m.stylePrefix;if(this.cm=ot.CodeManager||null,!this.editors){var _=this.buildEditor("htmlmixed","hopscotch","HTML"),O=this.buildEditor("css","hopscotch","CSS");this.htmlEditor=_.model,this.cssEditor=O.model;var L=(0,ht.ut)("div",{class:"".concat(w,"export-dl")});L.appendChild(_.el),L.appendChild(O.el),this.editors=L}A.open({title:m.textViewCode,content:this.editors}).getModel().once("change:open",function(){return ot.stopCommand("".concat(M.id))}),this.htmlEditor.setContent(ot.getHtml(C.optsHtml)),this.cssEditor.setContent(ot.getCss(C.optsCss))},stop:function(ot){var J=ot.Modal;J&&J.close()},buildEditor:function(ot,J,C){var M=this.em.CodeManager,m=M.createViewer({label:C,codeName:ot,theme:J}),A=new M.EditorView({model:m,config:M.getConfig()}).render().el;return{model:m,el:A}}}},975:(R,dt,wt)=>{wt.r(dt),wt.d(dt,{default:()=>_t});var ht=wt(50);const _t={isEnabled:function(){var ot=document;return!!(ot.fullscreenElement||ot.webkitFullscreenElement||ot.mozFullScreenElement)},enable:function(ot){var J="";return ot.requestFullscreen?ot.requestFullscreen():ot.webkitRequestFullscreen?(J="webkit",ot.webkitRequestFullscreen()):ot.mozRequestFullScreen?(J="moz",ot.mozRequestFullScreen()):ot.msRequestFullscreen&&ot.msRequestFullscreen(),J},disable:function(){var ot=document;this.isEnabled()&&(ot.exitFullscreen?ot.exitFullscreen():ot.webkitExitFullscreen?ot.webkitExitFullscreen():ot.mozCancelFullScreen?ot.mozCancelFullScreen():ot.msExitFullscreen&&ot.msExitFullscreen())},fsChanged:function(ot){this.isEnabled()||(this.stopCommand({sender:this.sender}),document.removeEventListener("".concat(ot||"","fullscreenchange"),this.fsChanged))},run:function(ot,J,C){C===void 0&&(C={}),this.sender=J;var M=C.target,m=(0,ht.isElement)(M)?M:document.querySelector(M),A=this.enable(m||ot.getContainer());this.fsChanged=this.fsChanged.bind(this,A),document.addEventListener(A+"fullscreenchange",this.fsChanged)},stop:function(ot,J){J&&J.set&&J.set("active",!1),this.disable()}}},191:(R,dt,wt)=>{wt.r(dt),wt.d(dt,{default:()=>M});var ht=wt(50),_t=wt(895),ot=wt(491),J=wt(407),C=wt(189);const M=(0,ht.extend)({},C.default,J.default,{init:function(m){J.default.init.apply(this,arguments),(0,ht.bindAll)(this,"initSorter","rollback","onEndMove"),this.opt=m,this.hoverClass=this.ppfx+"highlighter-warning",this.badgeClass=this.ppfx+"badge-warning",this.noSelClass=this.ppfx+"no-select"},enable:function(){for(var m=[],A=0;A<arguments.length;A++)m[A]=arguments[A];J.default.enable.apply(this,m),this.getBadgeEl().addClass(this.badgeClass),this.getHighlighterEl().addClass(this.hoverClass);var w=this.$wrapper;w.css("cursor","move"),w.on("mousedown",this.initSorter),w.addClass(this.noSelClass)},toggleClipboard:function(){},initSorter:function(m){var A=(0,_t.default)(m.target).data("model"),w=A.get("draggable");w&&(this.cacheEl=null,this.startSelectPosition(m.target,this.frameEl.contentDocument),this.sorter.draggable=w,this.sorter.onEndMove=this.onEndMove.bind(this),this.stopSelectComponent(),this.$wrapper.off("mousedown",this.initSorter),(0,ot.on)(this.getContentWindow(),"keydown",this.rollback))},initSorterFromModel:function(m){var A=m.get("draggable");if(A){this.cacheEl=null;var w=m.view.el;this.startSelectPosition(w,this.frameEl.contentDocument),this.sorter.draggable=A,this.sorter.onEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,ot.on)(this.getContentWindow(),"keydown",this.rollback)}},initSorterFromModels:function(m){this.cacheEl=null;var A=m[m.length-1],w=this.em.getCurrentFrame(),_=A.getEl(w==null?void 0:w.model),O=_.ownerDocument;this.startSelectPosition(_,O,{onStart:this.onStart}),this.sorter.draggable=A.get("draggable"),this.sorter.toMove=m,this.sorter.onMoveClb=this.onDrag,this.sorter.onEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,ot.on)(this.getContentWindow(),"keydown",this.rollback)},onEndMoveFromModel:function(){(0,ot.S1)(this.getContentWindow(),"keydown",this.rollback)},onEndMove:function(){this.enable(),(0,ot.S1)(this.getContentWindow(),"keydown",this.rollback)},onSelect:function(m,A){},rollback:function(m,A){var w=m.which||m.keyCode;(w==27||A)&&(this.sorter.moved=!1,this.sorter.endMove())},getBadgeEl:function(){return this.$badge||(this.$badge=(0,_t.default)(this.getBadge())),this.$badge},getHighlighterEl:function(){return this.$hl||(this.$hl=(0,_t.default)(this.canvas.getHighlighter())),this.$hl},stop:function(){for(var m=[],A=0;A<arguments.length;A++)m[A]=arguments[A];J.default.stop.apply(this,m),this.getBadgeEl().removeClass(this.badgeClass),this.getHighlighterEl().removeClass(this.hoverClass);var w=this.$wrapper;w.css("cursor","").unbind().removeClass(this.noSelClass)}})},912:(R,dt,wt)=>{wt.r(dt),wt.d(dt,{default:()=>ot});var ht=wt(50),_t=wt(491);const ot={open:function(J){var C=this,M=this,m=M.editor,A=M.title,w=M.config,_=M.am,O=w.custom;if((0,ht.isFunction)(O.open))return O.open(_.__customData());var L=m.Modal;L.open({title:A,content:J}).onceClose(function(){return m.stopCommand(C.id)})},close:function(){var J=this.config.custom;if((0,ht.isFunction)(J.close))return J.close(this.am.__customData());var C=this.editor.Modal;C&&C.close()},run:function(J,C,M){M===void 0&&(M={});var m=J.AssetManager,A=m.getConfig(),w=M.types,_=w===void 0?[]:w,O=M.accept,L=M.select;if(this.title=M.modalTitle||J.t("assetManager.modalTitle")||"",this.editor=J,this.config=A,this.am=m,m.setTarget(M.target),m.onClick(M.onClick),m.onDblClick(M.onDblClick),m.onSelect(M.onSelect),m.__behaviour({select:L,types:_,options:M}),A.custom)this.rendered=this.rendered||(0,_t.ut)("div"),this.rendered.className="".concat(A.stylePrefix,"custom-wrp"),m.__behaviour({container:this.rendered}),m.__trgCustom();else{if(!this.rendered||_){var Q=m.getAll().filter(function(U){return U});_&&_.length&&(Q=Q.filter(function(U){return _.indexOf(U.get("type"))!==-1})),m.render(Q),this.rendered=m.getContainer()}if(O){var X=this.rendered.querySelector("input#".concat(A.stylePrefix,"uploadFile"));X&&X.setAttribute("accept",O)}}return this.open(this.rendered),this},stop:function(J){this.editor=J,this.close(this.rendered)}}},117:(R,dt,wt)=>{wt.r(dt),wt.d(dt,{default:()=>ot});var ht=wt(50),_t=wt(491);const ot={open:function(){var J=this,C=J.container,M=J.editor,m=J.bm,A=J.config,w=A.custom,_=A.appendTo;if((0,ht.isFunction)(w.open))return w.open(m.__customData());if(this.firstRender&&!_){var O="views-container",L=M.Panels,Q=L.getPanel(O)||L.addPanel({id:O});Q.set("appendContent",C).trigger("change:appendContent"),w||C.appendChild(m.render())}C&&(C.style.display="block")},close:function(){var J=this,C=J.container,M=J.config,m=M.custom;if((0,ht.isFunction)(m.close))return m.close(this.bm.__customData());C&&(C.style.display="none")},run:function(J){var C=J.Blocks;this.config=C.getConfig(),this.firstRender=!this.container,this.container=this.container||(0,_t.ut)("div"),this.editor=J,this.bm=C;var M=this.container;C.__behaviour({container:M}),this.config.custom&&C.__trgCustom(),this.open()},stop:function(){this.close()}}},614:(R,dt,wt)=>{wt.r(dt),wt.d(dt,{default:()=>ht});const ht={run:function(_t){var ot=_t.LayerManager,J=_t.Panels,C=ot.getConfig();if(!C.appendTo){if(!this.layers){var M="views-container",m=document.createElement("div"),A=J.getPanel(M)||J.addPanel({id:M});C.custom?ot.__trgCustom({container:m}):m.appendChild(ot.render()),A.set("appendContent",m).trigger("change:appendContent"),this.layers=m}this.layers.style.display="block"}},stop:function(){var _t=this.layers;_t&&(_t.style.display="none")}}},801:(R,dt,wt)=>{wt.r(dt),wt.d(dt,{default:()=>_t});var ht=wt(895);const _t={run:function(ot,J){if(this.sender=J,!this.$cnt){var C=ot.getConfig(),M=ot.Panels,m=ot.DeviceManager,A=ot.SelectorManager,w=ot.StyleManager,_="change:appendContent",O=(0,ht.default)("<div></div>"),L=(0,ht.default)("<div></div>"),Q=(0,ht.default)("<div></div>"),X=(0,ht.default)("<div></div>");if(this.$cnt=O,this.$cntInner=L,L.append(Q),L.append(X),O.append(L),m&&C.showDevices){var U=M.addPanel({id:"devices-c"}),V=m.render();U.set("appendContent",V).trigger(_)}var j=A.getConfig();j.custom?A.__trgCustom({container:Q.get(0)}):j.appendTo||Q.append(A.render([])),this.sm=w;var k=w.getConfig(),q=k.stylePrefix;this.$header=(0,ht.default)('<div class="'.concat(q,'header">').concat(ot.t("styleManager.empty"),"</div>")),O.append(this.$header),k.custom?w.__trgCustom({container:X.get(0)}):k.appendTo||X.append(w.render());var et="views-container",Z=M.getPanel(et)||M.addPanel({id:et});Z.set("appendContent",O).trigger(_);var rt=ot.getModel();this.listenTo(rt,w.events.target,this.toggleSm)}this.toggleSm()},toggleSm:function(){var ot=this,J=ot.sender,C=ot.sm,M=ot.$cntInner,m=ot.$header;J&&J.get&&!J.get("active")||!C||(C.getSelected()?(M==null||M.show(),m==null||m.hide()):(M==null||M.hide(),m==null||m.show()))},stop:function(){var ot,J;(ot=this.$cntInner)===null||ot===void 0||ot.hide(),(J=this.$header)===null||J===void 0||J.hide()}}},395:(R,dt,wt)=>{wt.r(dt),wt.d(dt,{default:()=>_t});var ht=wt(895);const _t={run:function(ot,J){this.sender=J;var C=ot.getModel(),M=ot.Config,m=M.stylePrefix,A=ot.TraitManager,w=A.getConfig(),_;if(!w.appendTo){if(!this.$cn){this.$cn=(0,ht.default)("<div></div>"),this.$cn2=(0,ht.default)("<div></div>"),this.$cn.append(this.$cn2),this.$header=(0,ht.default)("<div>").append('<div class="'.concat(w.stylePrefix,'header">').concat(C.t("traitManager.empty"),"</div>")),this.$cn.append(this.$header),w.custom?A.__trgCustom({container:this.$cn2.get(0)}):(this.$cn2.append('<div class="'.concat(m,'traits-label">').concat(C.t("traitManager.label"),"</div>")),this.$cn2.append(A.render()));var O=ot.Panels;O.getPanel("views-container")?_=O.getPanel("views-container"):_=O.addPanel({id:"views-container"}),_==null||_.set("appendContent",this.$cn.get(0)).trigger("change:appendContent"),this.target=ot.getModel(),this.listenTo(this.target,"component:toggled",this.toggleTm)}this.toggleTm()}},toggleTm:function(){var ot=this.sender;ot&&ot.get&&!ot.get("active")||(this.target.getSelectedAll().length===1?(this.$cn2.show(),this.$header.hide()):(this.$cn2.hide(),this.$header.show()))},stop:function(){this.$cn2&&this.$cn2.hide(),this.$header&&this.$header.hide()}}},98:(R,dt,wt)=>{wt.r(dt),wt.d(dt,{default:()=>_t});var ht=wt(50);const _t={run:function(J,C,M){M===void 0&&(M={});var m=J.getModel(),A=m.get("clipboard"),w=J.getSelected();A!=null&&A.length&&w&&(J.getSelectedAll().forEach(function(_){var O,L,Q,X=((L=(O=_.delegate)===null||O===void 0?void 0:O.copy)===null||L===void 0?void 0:L.call(O,_))||_,U=X.collection,V;if(U){var j=X.index()+1,k={at:j,action:M.action||"paste-component"};(0,ht.contains)(A,X)&&X.get("copyable")?V=U.add(X.clone(),k):V=ot(J,A,X.parent(),k)}else{var q=(Q=m.Pages.getSelected())===null||Q===void 0?void 0:Q.getMainComponent(),k={at:(q==null?void 0:q.components().length)||0,action:M.action||"paste-component"};V=ot(J,A,q,k)}V=(0,ht.isArray)(V)?V:[V],V.forEach(function(et){return J.trigger("component:paste",et)})}),w.emitUpdate())}};function ot(J,C,M,m){var A=C.filter(function(_){return _.get("copyable")}),w=A.filter(function(_){return J.Components.canMove(M,_).result});return M.components().add(w.map(function(_){return _.clone()}),m)}},129:(R,dt,wt)=>{wt.r(dt),wt.d(dt,{default:()=>J});var ht=wt(50),_t=function(C,M,m){if(m||arguments.length===2)for(var A=0,w=M.length,_;A<w;A++)(_||!(A in M))&&(_||(_=Array.prototype.slice.call(M,0,A)),_[A]=M[A]);return C.concat(_||Array.prototype.slice.call(M))},ot="core:component-outline";const J={getPanels:function(C){return this.panels||(this.panels=C.Panels.getPanels()),this.panels},preventDrag:function(C){C.abort=1},tglEffects:function(C){var M=this.em,m=C?"on":"off";if(M){var A=M.Canvas,w=A.getBody(),_=A.getToolbarEl();_&&(_.style.display=C?"none":"");var O=w.querySelectorAll(".".concat(this.ppfx,"no-pointer"));(0,ht.each)(O,function(L){return L.style.pointerEvents=C?"all":""}),M[m]("run:tlb-move:before",this.preventDrag)}},run:function(C,M){var m=this;this.sender=M,this.selected=_t([],C.getSelectedAll(),!0),C.select(),this.shouldRunSwVisibility||(this.shouldRunSwVisibility=C.Commands.isActive(ot)),this.shouldRunSwVisibility&&C.stopCommand(ot),C.getModel().stopDefault();var A=this.getPanels(C),w=C.Canvas.getElement(),_=C.getEl(),O=C.Config.stylePrefix;if(!this.helper){var L=document.createElement("span");L.className="".concat(O,"off-prv fa fa-eye-slash"),_.appendChild(L),L.onclick=function(){return m.stopCommand()},this.helper=L}this.helper.style.display="inline-block",A.forEach(function(X){return X.set("visible",!1)});var Q=w.style;Q.width="100%",Q.height="100%",Q.top="0",Q.left="0",Q.padding="0",Q.margin="0",C.refresh(),this.tglEffects(1)},stop:function(C){var M=this,m=M.sender,A=m===void 0?{}:m,w=M.selected;A.set&&A.set("active",0);var _=this.getPanels(C);this.shouldRunSwVisibility&&(C.runCommand(ot),this.shouldRunSwVisibility=!1),C.getModel().runDefault(),_.forEach(function(L){return L.set("visible",!0)});var O=C.Canvas.getElement();O.setAttribute("style",""),w&&C.select(w),delete this.selected,this.helper&&(this.helper.style.display="none"),C.refresh(),this.tglEffects()}}},116:(R,dt,wt)=>{wt.r(dt),wt.d(dt,{default:()=>_t});var ht=function(){return ht=Object.assign||function(ot){for(var J,C=1,M=arguments.length;C<M;C++){J=arguments[C];for(var m in J)Object.prototype.hasOwnProperty.call(J,m)&&(ot[m]=J[m])}return ot},ht.apply(this,arguments)};const _t={run:function(ot,J,C){var M=C||{},m=ot.Canvas,A=m.getCanvasView(),w=ht({appendTo:m.getResizerEl(),prefix:ot.getConfig().stylePrefix,posFetcher:A.getElementPos.bind(A),mousePosFetcher:m.getMouseRelativePos.bind(m)},M.options||{}),_=this.canvasResizer;return(!_||M.forceNew)&&(this.canvasResizer=new ot.Utils.Resizer(w),_=this.canvasResizer),_.setOptions(w,!0),_.blur(),_.focus(M.el),_},stop:function(){var ot;(ot=this.canvasResizer)===null||ot===void 0||ot.blur()}}},407:(R,dt,wt)=>{wt.r(dt),wt.d(dt,{default:()=>z});var ht=wt(50),_t=wt(346),ot=function(){var I=function(N,G){return I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,$){E.__proto__=$}||function(E,$){for(var x in $)Object.prototype.hasOwnProperty.call($,x)&&(E[x]=$[x])},I(N,G)};return function(N,G){if(typeof G!="function"&&G!==null)throw new TypeError("Class extends value "+String(G)+" is not a constructor or null");I(N,G);function E(){this.constructor=N}N.prototype=G===null?Object.create(G):(E.prototype=G.prototype,new E)}}(),J=function(I){ot(N,I);function N(){return I!==null&&I.apply(this,arguments)||this}return N.prototype.defaults=function(){return{command:"",attributes:{}}},N}(_t.Hn);const C=J;var M=function(){var I=function(N,G){return I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,$){E.__proto__=$}||function(E,$){for(var x in $)Object.prototype.hasOwnProperty.call($,x)&&(E[x]=$[x])},I(N,G)};return function(N,G){if(typeof G!="function"&&G!==null)throw new TypeError("Class extends value "+String(G)+" is not a constructor or null");I(N,G);function E(){this.constructor=N}N.prototype=G===null?Object.create(G):(E.prototype=G.prototype,new E)}}(),m=function(I){M(N,I);function N(){return I!==null&&I.apply(this,arguments)||this}return N}(_t.FE);const A=m;m.prototype.model=C;var w=wt(330),_=function(){var I=function(N,G){return I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,$){E.__proto__=$}||function(E,$){for(var x in $)Object.prototype.hasOwnProperty.call($,x)&&(E[x]=$[x])},I(N,G)};return function(N,G){if(typeof G!="function"&&G!==null)throw new TypeError("Class extends value "+String(G)+" is not a constructor or null");I(N,G);function E(){this.constructor=N}N.prototype=G===null?Object.create(G):(E.prototype=G.prototype,new E)}}(),O=function(){return O=Object.assign||function(I){for(var N,G=1,E=arguments.length;G<E;G++){N=arguments[G];for(var $ in N)Object.prototype.hasOwnProperty.call(N,$)&&(I[$]=N[$])}return I},O.apply(this,arguments)},L=function(I){_(N,I);function N(G){var E=I.call(this,G)||this;return E.em=G.config.em,E}return N.prototype.events=function(){return this.model.get("events")||{mousedown:"handleClick"}},N.prototype.attributes=function(){return this.model.get("attributes")},N.prototype.handleClick=function(G){G.preventDefault(),G.stopPropagation();var E=this.em,$=E.Canvas.getFrameEl().getBoundingClientRect(),x=$.left,gt=$.top,at=O(O({},G),{clientX:G.clientX-x,clientY:G.clientY-gt});E.trigger("toolbar:run:before",{event:at}),this.execCommand(at)},N.prototype.execCommand=function(G){var E=this,$=E.em,x=E.model,gt={event:G},at=x.get("command"),Lt=$.Editor;(0,ht.isFunction)(at)&&at(Lt,null,gt),(0,ht.isString)(at)&&Lt.runCommand(at,gt)},N.prototype.render=function(){var G=this,E=G.em,$=G.$el,x=G.model,gt=x.get("id"),at=x.get("label"),Lt=E.getConfig().stylePrefix;return $.addClass("".concat(Lt,"toolbar-item")),gt&&$.addClass("".concat(Lt,"toolbar-item__").concat(gt)),at&&$.append(at),this},N}(_t.G7);const Q=L;var X=function(){var I=function(N,G){return I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,$){E.__proto__=$}||function(E,$){for(var x in $)Object.prototype.hasOwnProperty.call($,x)&&(E[x]=$[x])},I(N,G)};return function(N,G){if(typeof G!="function"&&G!==null)throw new TypeError("Class extends value "+String(G)+" is not a constructor or null");I(N,G);function E(){this.constructor=N}N.prototype=G===null?Object.create(G):(E.prototype=G.prototype,new E)}}(),U=function(I){X(N,I);function N(G){var E=I.call(this,G)||this,$=G.em;return E.em=$,E.config={em:$},E.listenTo(E.collection,"reset",E.render),E}return N.prototype.onRender=function(){var G=this.em.config.stylePrefix;this.el.className="".concat(G,"toolbar-items")},N}(w.Z);const V=U;U.prototype.itemView=Q;var j=wt(491),k=wt(163),q=wt(675),et=wt(184),Z=function(){return Z=Object.assign||function(I){for(var N,G=1,E=arguments.length;G<E;G++){N=arguments[G];for(var $ in N)Object.prototype.hasOwnProperty.call(N,$)&&(I[$]=N[$])}return I},Z.apply(this,arguments)},rt=function(I,N){var G={};for(var E in I)Object.prototype.hasOwnProperty.call(I,E)&&N.indexOf(E)<0&&(G[E]=I[E]);if(I!=null&&typeof Object.getOwnPropertySymbols=="function")for(var $=0,E=Object.getOwnPropertySymbols(I);$<E.length;$++)N.indexOf(E[$])<0&&Object.prototype.propertyIsEnumerable.call(I,E[$])&&(G[E[$]]=I[E[$]]);return G},T;const z={activeResizer:!1,init:function(){this.onSelect=(0,ht.debounce)(this.onSelect,0),(0,ht.bindAll)(this,"onHover","onOut","onClick","onFrameScroll","onFrameResize","onFrameUpdated","onContainerChange")},enable:function(){this.frameOff=this.canvasOff=this.adjScroll=null,this.startSelectComponent(),T=!0},startSelectComponent:function(){this.toggleSelectComponent(1),this.em.getSelected()&&this.onSelect()},stopSelectComponent:function(){this.toggleSelectComponent()},toggleSelectComponent:function(I){var N=this,G=this.em,E=G.getConfig().listenToEl,$=G.getContainer().parentNode,x=I?"on":"off",gt={on:j.on,off:j.S1},at=et.g.update;!E.length&&$&&E.push($);var Lt=function(Xt,St){gt[x](St,"mouseover",N.onHover),gt[x](St,"mouseleave",N.onOut),gt[x](St,"click",N.onClick),gt[x](Xt,"scroll",N.onFrameScroll,!0),gt[x](Xt,"resize",N.onFrameResize)};gt[x](window,"resize",this.onFrameUpdated),gt[x](E,"scroll",this.onContainerChange),G[x]("component:toggled ".concat(at," undo redo"),this.onSelect,this),G[x]("change:componentHovered",this.onHovered,this),G[x]("component:resize styleable:change component:input",this.updateGlobalPos,this),G[x]("".concat(at,":toolbar"),this._upToolbar,this),G[x]("frame:updated",this.onFrameUpdated,this),G[x]("canvas:updateTools",this.onFrameUpdated,this),G[x](G.Canvas.events.refresh,this.updateAttached,this),G.Canvas.getFrames().forEach(function(Xt){var St=Xt.view,Ut=St==null?void 0:St.getWindow();Ut&&Lt(Ut,St==null?void 0:St.getBody())})},onHover:function(I){I.stopPropagation();var N=this.em,G=I.target,E=(0,k.getComponentView)(G),$=E==null?void 0:E.frameView,x=E==null?void 0:E.model;if(!x)for(var gt=G.parentNode;!x&&gt&&!(0,j.Mx)(gt);)x=(0,k.getComponentModel)(gt),gt=gt.parentNode;this.currentDoc=G.ownerDocument,N.setHovered(x,{useValid:!0}),$&&N.setCurrentFrame($)},onFrameUpdated:function(){this.updateLocalPos(),this.updateGlobalPos()},onHovered:function(I,N){var G=this,E,$={};N?(E=N.views)===null||E===void 0||E.forEach(function(x){var gt=x.el,at=G.getElementPos(gt);$={el:gt,pos:at,component:N,view:(0,k.getViewEl)(gt)},gt.ownerDocument===G.currentDoc&&(G.elHovered=$),G.updateToolsLocal($)}):(this.currentDoc=null,this.elHovered=0,this.updateToolsLocal(),this.canvas.getFrames().forEach(function(x){var gt=x.view,at=gt&&gt.getToolsEl();at&&G.toggleToolsEl(0,0,{el:at})}))},onSelect:function(){var I=this.em,N=I.getSelected(),G=I.getCurrentFrame(),E=N&&N.getView(G==null?void 0:G.model),$=E&&E.el,x={};if($&&(0,j.pn)($)){var gt=this.getElementPos($);x={el:$,pos:gt,component:N,view:(0,k.getViewEl)($)}}this.elSelected=x,this.updateToolsGlobal(),this.updateLocalPos(x),this.initResize(N)},updateGlobalPos:function(){var I=this.getElSelected();I.el&&(I.pos=this.getElementPos(I.el),this.updateToolsGlobal())},updateLocalPos:function(I){var N=this.getElHovered();N.el&&(N.pos=this.getElementPos(N.el),this.updateToolsLocal(I))},getElHovered:function(){return this.elHovered||{}},getElSelected:function(){return this.elSelected||{}},onOut:function(){this.em.setHovered()},toggleToolsEl:function(I,N,G){G===void 0&&(G={});var E=G.el||this.canvas.getToolsEl(N);return E&&(E.style.display=I?"":"none"),E||{}},showElementOffset:function(I,N,G){G===void 0&&(G={}),T&&this.editor.runCommand("show-offset",{el:I,elPos:N,view:G.view,force:1,top:0,left:0})},hideElementOffset:function(I){this.editor.stopCommand("show-offset",{view:I})},showFixedElementOffset:function(I,N){this.editor.runCommand("show-offset",{el:I,elPos:N,state:"Fixed"})},hideFixedElementOffset:function(){this.editor&&this.editor.stopCommand("show-offset",{state:"Fixed"})},hideHighlighter:function(I){this.canvas.getHighlighter(I).style.opacity=0},onClick:function(I){I.stopPropagation(),I.preventDefault();var N=this.em;if(N.get("_cmpDrag"))return N.set("_cmpDrag");var G=I.target,E=(0,k.getComponentModel)(G);if(!E)for(var $=G.parentNode;!E&&$&&!(0,j.Mx)($);)E=(0,k.getComponentModel)($),$=$.parentNode;if(E){if(N.isEditing()&&(!E.get("textable")&&E.isChildOf("text")||N.getEditing()!==E))return;this.select(E,I)}},select:function(I,N){N===void 0&&(N={}),I&&(this.editor.select(I,{event:N,useValid:!0}),this.initResize(I))},updateBadge:function(I,N,G){G===void 0&&(G={});var E=this.canvas,$=(0,k.getComponentModel)(I),x=this.getBadge(G),gt=x.style;if(!$||!$.get("badgable")){gt.display="none";return}if(!G.posOnly){var at=this.canvas.getConfig(),Lt=$.getIcon(),Xt=at.pStylePrefix||"",St="".concat(Xt,"badge"),Ut=at.customBadgeLabel,Yt="".concat(Lt?'<div class="'.concat(St,'__icon">').concat(Lt,"</div>"):"",`
        <div class="`).concat(St,'__name">').concat($.getName(),"</div>");x.innerHTML=Ut?Ut($):Yt}var Bt="px";gt.display="block";var ne=E.getTargetToElementFixed(I,x,{pos:N}),Ot=ne.top,Rt=G.leftOff<0?-G.leftOff:0;gt.top=Ot+Bt,gt.left=Rt+Bt},showHighlighter:function(I){this.canvas.getHighlighter(I).style.opacity=""},initResize:function(I){var N=this,G=N.em,E=N.canvas,$=G.Editor,x=!(0,ht.isElement)(I)&&(0,j.o5)(I)?I:G.getSelected(),gt=x==null?void 0:x.get("resizable"),at=q.q.Resize,Lt=E.hasCustomSpot(at);if(E.removeSpots({type:at}),x&&gt){E.addSpot({type:at,component:x});var Xt=(0,ht.isElement)(I)?I:x.getEl(),St=(0,k.isObject)(gt)?gt:{},Ut=St.onStart,Yt=Ut===void 0?function(){}:Ut,Bt=St.onMove,ne=Bt===void 0?function(){}:Bt,Ot=St.onEnd,Rt=Ot===void 0?function(){}:Ot,Wt=St.updateTarget,ae=Wt===void 0?function(){}:Wt,$t=rt(St,["onStart","onMove","onEnd","updateTarget"]);if(Lt||!Xt||this.activeResizer)return;var Jt,de=G.config,Ne=de.stylePrefix||"",Je="".concat(Ne,"resizing"),mr=this,nr={component:x,el:Xt},ve=function(it,mt,kt){var Ht=kt.docs;Ht&&Ht.forEach(function(vt){var Vt=vt.body,Pt=Vt.className||"";Vt.className=(it=="add"?"".concat(Pt," ").concat(Je):Pt.replace(Je,"")).trim()})},K=Z({onStart:function(it,mt){Yt(it,mt);var kt=mt.el,Ht=mt.config,vt=mt.resizer,Vt=Ht.keyHeight,Pt=Ht.keyWidth,Ce=Ht.currentUnit,Ke=Ht.keepAutoHeight,Ve=Ht.keepAutoWidth;ve("add",it,mt),Jt=G.Styles.getModelToStyle(x),E.toggleFramesEvents(!1);var ze=getComputedStyle(kt),or=Jt.getStyle(),ye=or[Pt];Ht.autoWidth=Ve&&ye==="auto",isNaN(parseFloat(ye))&&(ye=ze[Pt]);var tr=or[Vt];Ht.autoHeight=Ke&&tr==="auto",isNaN(parseFloat(tr))&&(tr=ze[Vt]),vt.startDim.w=parseFloat(ye),vt.startDim.h=parseFloat(tr),T=!1,Ce&&(Ht.unitHeight=(0,k.getUnitFromValue)(tr),Ht.unitWidth=(0,k.getUnitFromValue)(ye)),mr.activeResizer=!0,$.trigger("component:resize",Z(Z({},nr),{type:"start"}))},onMove:function(it){ne(it),$.trigger("component:resize",Z(Z({},nr),{type:"move"}))},onEnd:function(it,mt){Rt(it,mt),ve("remove",it,mt),$.trigger("component:resize",Z(Z({},nr),{type:"end"})),E.toggleFramesEvents(!0),T=!0,mr.activeResizer=!1},updateTarget:function(it,mt,kt){if(ae(it,mt,kt),!!Jt){var Ht=kt.store,vt=kt.selectedHandler,Vt=kt.config,Pt=Vt.keyHeight,Ce=Vt.keyWidth,Ke=Vt.autoHeight,Ve=Vt.autoWidth,ze=Vt.unitWidth,or=Vt.unitHeight,ye=["tc","bc"].indexOf(vt)>=0,tr=["cl","cr"].indexOf(vt)>=0,De={};if(!ye){var $e=E.getBody().offsetWidth,Ar=mt.w<$e?mt.w:$e;De[Ce]=Ve?"auto":"".concat(Ar).concat(ze)}tr||(De[Pt]=Ke?"auto":"".concat(mt.h).concat(or)),G.getDragMode(x)&&(De.top="".concat(mt.t).concat(or),De.left="".concat(mt.l).concat(ze));var _e=Z(Z({},De),{__p:!Ht});Jt.addStyle(_e,{avoidStore:!Ht}),G.Styles.__emitCmpStyleUpdate(_e,{components:G.getSelected()})}}},$t);this.resizer=$.runCommand("resize",{el:Xt,options:K,force:1})}else{if(Lt)return;$.stopCommand("resize"),this.resizer=null}},updateToolbar:function(I){var N=this.canvas,G=this.config.em,E=I===G?G.getSelected():I,$=N.getToolbarEl(),x=$.style,gt=E.get("toolbar"),at=G.config.showToolbar,Lt=!N.hasCustomSpot(q.q.Select);if(E&&at&&gt&&gt.length&&Lt){if(x.display="",!this.toolbar){$.innerHTML="",this.toolbar=new A(gt);var Xt=new V({collection:this.toolbar,em:G});$.appendChild(Xt.render().el)}this.toolbar.reset(gt),x.top="-100px",x.left="0"}else x.display="none"},updateToolbarPos:function(I){var N="px",G=this.canvas.getToolbarEl().style;G.top="".concat(I.top).concat(N),G.left="".concat(I.left).concat(N),G.opacity=""},getCanvasPosition:function(){return this.canvas.getCanvasView().getPosition()},getBadge:function(I){return I===void 0&&(I={}),this.canvas.getBadgeEl(I.view)},onFrameScroll:function(){this.updateTools(),this.canvas.refreshSpots()},onFrameResize:function(){this.canvas.refresh({all:!0})},updateTools:function(){this.updateLocalPos(),this.updateGlobalPos()},isCompSelected:function(I){return I&&I.get("status")==="selected"},updateToolsLocal:function(I){var N=this.em.getConfig(),G=I||this.getElHovered(),E=G.el,$=G.pos,x=G.view,gt=G.component;if(!E){this.lastHovered=0;return}var at=gt.get("hoverable"),Lt=this.lastHovered!==E,Xt=Lt?{}:{posOnly:1},St=this.canvas.hasCustomSpot(q.q.Hover);Lt&&at&&(this.lastHovered=E,St?this.hideHighlighter(x):this.showHighlighter(x),this.showElementOffset(E,$,{view:x})),this.isCompSelected(gt)&&(this.hideHighlighter(x),!N.showOffsetsSelected&&this.hideElementOffset(x));var Ut="px",Yt=this.toggleToolsEl(1,x),Bt=Yt.style,ne=this.canvas.canvasRectOffset(E,$),Ot=ne.top,Rt=ne.left;!St&&this.updateBadge(E,$,Z(Z({},Xt),{view:x,topOff:Ot,leftOff:Rt})),Bt.top=Ot+Ut,Bt.left=Rt+Ut,Bt.width=$.width+Ut,Bt.height=$.height+Ut,this._trgToolUp("local",{component:gt,el:Yt,top:Ot,left:Rt,width:$.width,height:$.height})},_upToolbar:(0,ht.debounce)(function(){this.updateToolsGlobal({force:1})},0),_trgToolUp:function(I,N){N===void 0&&(N={}),this.em.trigger("canvas:tools:update",Z({type:I},N))},updateToolsGlobal:function(I){I===void 0&&(I={});var N=this.getElSelected(),G=N.el,E=N.pos,$=N.component;if(!G){this.toggleToolsEl(),this.lastSelected=0;return}var x=this.canvas,gt=this.lastSelected!==G;(gt||I.force)&&(this.lastSelected=G,this.updateToolbar($));var at="px",Lt=this.toggleToolsEl(1),Xt=Lt.style,St=x.getTargetToElementFixed(G,x.getToolbarEl(),{pos:E}),Ut=St.canvasOffsetTop,Yt=St.canvasOffsetLeft;Xt.top=Ut+at,Xt.left=Yt+at,Xt.width=E.width+at,Xt.height=E.height+at,this.updateToolbarPos({top:St.top,left:St.left}),this._trgToolUp("global",{component:$,el:Lt,top:Ut,left:Yt,width:E.width,height:E.height})},updateAttached:(0,ht.debounce)(function(){this.updateGlobalPos()},0),onContainerChange:(0,ht.debounce)(function(){this.em.refreshCanvas()},150),getElementPos:function(I){return this.canvas.getCanvasView().getElementPos(I,{noScroll:!0})},hideBadge:function(){this.getBadge().style.display="none"},cleanPrevious:function(I){I&&I.set({status:"",state:""})},getContentWindow:function(){return this.canvas.getWindow()},run:function(I){(0,k.hasWin)()&&(this.editor=I&&I.get("Editor"),this.enable())},stop:function(I,N,G){if(G===void 0&&(G={}),!!(0,k.hasWin)()){var E=this,$=E.em,x=E.editor;this.onHovered(),this.stopSelectComponent(),!G.preserveSelected&&$.setSelected(),this.toggleToolsEl(),x&&x.stopCommand("resize")}}}},189:(R,dt,wt)=>{wt.r(dt),wt.d(dt,{default:()=>_t});var ht=wt(895);const _t={startSelectPosition:function(ot,J,C){var M=this;C===void 0&&(C={}),this.isPointed=!1;var m=this.em.Utils,A=ot.ownerDocument.body;m&&!this.sorter&&(this.sorter=new m.Sorter({container:A,placer:this.canvas.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:this.ppfx,direction:"a",document:J,wmargin:1,nested:1,em:this.em,canvasRelative:1,scale:function(){return M.em.getZoomDecimal()}})),C.onStart&&(this.sorter.onStart=C.onStart),ot&&this.sorter.startSort(ot,{container:A})},getOffsetDim:function(){var ot=this.offset(this.canvas.getFrameEl()),J=this.offset(this.canvas.getElement()),C=ot.top-J.top,M=ot.left-J.left;return{top:C,left:M}},stopSelectPosition:function(){this.posTargetCollection=null,this.posIndex=this.posMethod=="after"&&this.cDim.length!==0?this.posIndex+1:this.posIndex,this.sorter&&(this.sorter.moved=0,this.sorter.endMove()),this.cDim&&(this.posIsLastEl=this.cDim.length!==0&&this.posMethod=="after"&&this.posIndex==this.cDim.length,this.posTargetEl=this.cDim.length===0?(0,ht.default)(this.outsideElem):!this.posIsLastEl&&this.cDim[this.posIndex]?(0,ht.default)(this.cDim[this.posIndex][5]).parent():(0,ht.default)(this.outsideElem),this.posTargetModel=this.posTargetEl.data("model"),this.posTargetCollection=this.posTargetEl.data("model-comp"))},enable:function(){this.startSelectPosition()},nearFloat:function(ot,J,C){var M=ot||0,m=J||"before",A=C.length,w=A!==0&&m=="after"&&M==A;return A!==0&&(!w&&!C[M][4]||C[M-1]&&!C[M-1][4]||w&&!C[M-1][4])?1:0},run:function(){this.enable()},stop:function(){this.stopSelectPosition(),this.$wrapper.css("cursor",""),this.$wrapper.unbind()}}},804:(R,dt,wt)=>{wt.r(dt),wt.d(dt,{default:()=>C});var ht=wt(50),_t=wt(675),ot=wt(895),J=function(){return J=Object.assign||function(M){for(var m,A=1,w=arguments.length;A<w;A++){m=arguments[A];for(var _ in m)Object.prototype.hasOwnProperty.call(m,_)&&(M[_]=m[_])}return M},J.apply(this,arguments)};const C={getOffsetMethod:function(M){var m=M||"";return"get"+m+"OffsetViewerEl"},run:function(M,m,A){var w=this.canvas,_=A||{},O=_.state||"",L=M.getConfig(),Q=this.em.getZoomDecimal(),X=_.el;if(!L.showOffsets||!(X instanceof HTMLElement)||!L.showOffsetsSelected&&O=="Fixed"){M.stopCommand("".concat(this.id),A);return}if(!w.hasCustomSpot(_t.q.Spacing)){var U=J({},_.elPos||w.getElementPos(X));(0,ht.isUndefined)(_.top)||(U.top=_.top),(0,ht.isUndefined)(_.left)||(U.left=_.left);var V=window.getComputedStyle(X),j=this.ppfx,k=O+"State",q=this.getOffsetMethod(O),et=w[q](A.view);et.style.opacity="";var Z=this["marginT"+O],rt=this["marginB"+O],T=this["marginL"+O],z=this["marginR"+O],I=this["padT"+O],N=this["padB"+O],G=this["padL"+O],E=this["padR"+O];if(et.childNodes.length&&(this[k]="1",Z=et.querySelector("[data-offset-m-t]"),rt=et.querySelector("[data-offset-m-b]"),T=et.querySelector("[data-offset-m-l]"),z=et.querySelector("[data-offset-m-r]"),I=et.querySelector("[data-offset-p-t]"),N=et.querySelector("[data-offset-p-b]"),G=et.querySelector("[data-offset-p-l]"),E=et.querySelector("[data-offset-p-r]")),!this[k]){var $=O.toLowerCase(),x=$+"margin-v",gt=$+"padding-v",at=(0,ot.default)('<div class="'.concat(j,'marginName">')).get(0),Lt=(0,ot.default)('<div class="'.concat(j,'paddingName">')).get(0),Xt=j+x+"-el",St=j+gt+"-el",Ut="".concat(Xt," ").concat(j+x),Yt="".concat(St," ").concat(j+gt);Z=(0,ot.default)('<div class="'.concat(Ut,'-top"></div>')).get(0),rt=(0,ot.default)('<div class="'.concat(Ut,'-bottom"></div>')).get(0),T=(0,ot.default)('<div class="'.concat(Ut,'-left"></div>')).get(0),z=(0,ot.default)('<div class="'.concat(Ut,'-right"></div>')).get(0),I=(0,ot.default)('<div class="'.concat(Yt,'-top"></div>')).get(0),N=(0,ot.default)('<div class="'.concat(Yt,'-bottom"></div>')).get(0),G=(0,ot.default)('<div class="'.concat(Yt,'-left"></div>')).get(0),E=(0,ot.default)('<div class="'.concat(Yt,'-right"></div>')).get(0),this["marginT"+O]=Z,this["marginB"+O]=rt,this["marginL"+O]=T,this["marginR"+O]=z,this["padT"+O]=I,this["padB"+O]=N,this["padL"+O]=G,this["padR"+O]=E,at.appendChild(Z),at.appendChild(rt),at.appendChild(T),at.appendChild(z),Lt.appendChild(I),Lt.appendChild(N),Lt.appendChild(G),Lt.appendChild(E),et.appendChild(at),et.appendChild(Lt),this[k]="1"}var Bt="px",ne=parseFloat(V.marginLeft.replace(Bt,""))*Q,Ot=parseFloat(V.marginRight.replace(Bt,""))*Q,Rt=parseFloat(V.marginTop.replace(Bt,""))*Q,Wt=parseFloat(V.marginBottom.replace(Bt,""))*Q,ae=Z.style,$t=rt.style,Jt=T.style,de=z.style,Ne=I.style,Je=N.style,mr=G.style,nr=E.style,ve=parseFloat(U.left),K=parseFloat(V.width)*Q+Bt;ae.height=Rt+Bt,ae.width=K,ae.top=U.top-Rt+Bt,ae.left=ve+Bt,$t.height=Wt+Bt,$t.width=K,$t.top=U.top+U.height+Bt,$t.left=ve+Bt;var it=U.height+Rt+Wt+Bt,mt=U.top-Rt+Bt;Jt.height=it,Jt.width=ne+Bt,Jt.top=mt,Jt.left=ve-ne+Bt,de.height=it,de.width=Ot+Bt,de.top=mt,de.left=ve+U.width+Bt;var kt=parseFloat(V.paddingTop)*Q;Ne.height=kt+Bt;var Ht=parseFloat(V.paddingBottom)*Q;Je.height=Ht+Bt;var vt=U.height-Ht-kt+Bt,Vt=U.top+kt+Bt;mr.height=vt,mr.width=parseFloat(V.paddingLeft)*Q+Bt,mr.top=Vt;var Pt=parseFloat(V.paddingRight)*Q;nr.height=vt,nr.width=Pt+Bt,nr.top=Vt}},stop:function(M,m,A){A===void 0&&(A={});var w=A||{},_=w.state||"",O=this.getOffsetMethod(_),L=A.view,Q=this.canvas,X=Q[O](L);X.style.opacity=0}}},434:(R,dt,wt)=>{wt.r(dt),wt.d(dt,{default:()=>ot});var ht=wt(50),_t=wt(163);const ot={init:function(){(0,ht.bindAll)(this,"_onFramesChange")},run:function(J){this.toggleVis(J,!0)},stop:function(J){this.toggleVis(J,!1)},toggleVis:function(J,C){if(C===void 0&&(C=!0),!J.Commands.isActive("preview")){var M=J.Canvas,m=C?"on":"off",A=M.getModel();A[m]("change:frames",this._onFramesChange),this.handleFrames(M.getFrames(),C)}},handleFrames:function(J,C){var M=this;J.forEach(function(m){var A;!((A=m.view)===null||A===void 0)&&A.loaded&&M._upFrame(m,C),m.__ol||(m.on("loaded",function(){return M._upFrame(m)}),m.__ol=!0)})},_onFramesChange:function(J,C){this.handleFrames(C)},_upFrame:function(J,C){var M,m=this,A=m.ppfx,w=m.em,_=m.id,O=(0,_t.isDef)(C)?C:w.Commands.isActive(_),L=O?"add":"remove",Q="".concat(A,"dashed");(M=J.view)===null||M===void 0||M.getBody().classList[L](Q)}}},346:(R,dt,wt)=>{wt.d(dt,{FE:()=>M,G7:()=>m,Hn:()=>C,pH:()=>w,vA:()=>A});var ht=wt(316),_t=wt.n(ht),ot=function(){var _=function(O,L){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Q,X){Q.__proto__=X}||function(Q,X){for(var U in X)Object.prototype.hasOwnProperty.call(X,U)&&(Q[U]=X[U])},_(O,L)};return function(O,L){if(typeof L!="function"&&L!==null)throw new TypeError("Class extends value "+String(L)+" is not a constructor or null");_(O,L);function Q(){this.constructor=O}O.prototype=L===null?Object.create(L):(Q.prototype=L.prototype,new Q)}}(),J=function(){return J=Object.assign||function(_){for(var O,L=1,Q=arguments.length;L<Q;L++){O=arguments[L];for(var X in O)Object.prototype.hasOwnProperty.call(O,X)&&(_[X]=O[X])}return _},J.apply(this,arguments)},C=function(_){ot(O,_);function O(){return _!==null&&_.apply(this,arguments)||this}return O}(_t().Model),M=function(_){ot(O,_);function O(){return _!==null&&_.apply(this,arguments)||this}return O}(_t().Collection),m=function(_){ot(O,_);function O(){return _!==null&&_.apply(this,arguments)||this}return O}(_t().View),A;(function(_){_.Screen="screen",_.World="world"})(A||(A={}));var w={x:0,y:0};J(J({},w),{width:0,height:0})},184:(R,dt,wt)=>{wt.d(dt,{W:()=>ht,g:()=>_t});var ht;(function(ot){ot.remove="component:remove",ot.add="component:add",ot.move="component:move"})(ht||(ht={}));var _t;(function(ot){ot.add="component:add",ot.remove="component:remove",ot.removeBefore="component:remove:before",ot.create="component:create",ot.update="component:update",ot.updateInside="component:update-inside",ot.symbolMainAdd="symbol:main:add",ot.symbolMainUpdate="symbol:main:update",ot.symbolMainUpdateDeep="symbol:main:update-deep",ot.symbolMainRemove="symbol:main:remove",ot.symbolMain="symbol:main",ot.symbolInstanceAdd="symbol:instance:add",ot.symbolInstanceRemove="symbol:instance:remove",ot.symbolInstance="symbol:instance",ot.symbol="symbol"})(_t||(_t={}))},330:(R,dt,wt)=>{wt.d(dt,{Z:()=>C});var ht=wt(50),_t=wt(346),ot=function(){var M=function(m,A){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,_){w.__proto__=_}||function(w,_){for(var O in _)Object.prototype.hasOwnProperty.call(_,O)&&(w[O]=_[O])},M(m,A)};return function(m,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");M(m,A);function w(){this.constructor=m}m.prototype=A===null?Object.create(A):(w.prototype=A.prototype,new w)}}(),J=function(M){ot(m,M);function m(A,w,_){A===void 0&&(A={}),_===void 0&&(_=!1);var O=M.call(this,A)||this;return O.itemsView="",O.itemType="type",O.reuseView=!1,O.config=w||A.config||{},_&&O.listenTo(O.collection,"add",O.addTo),O.items=[],O}return m.prototype.addTo=function(A){this.add(A)},m.prototype.itemViewNotFound=function(A){var w=this,_=w.config,O=w.ns,L=_.em,Q="".concat(O?"[".concat(O,"]: "):"","'").concat(A,"' type not found");L&&L.logWarning(Q)},m.prototype.add=function(A,w){var _=this,O=_.config,L=_.reuseView,Q=_.items,X=this.itemsView||{},U=["button","checkbox","color","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"],V=w||null,j=this.itemView,k=A.get(this.itemType),q;X[k]?j=X[k]:k&&!X[k]&&!(0,ht.includes)(U,k)&&this.itemViewNotFound(k),A.view&&L?q=A.view:q=new j({model:A,config:O},O),Q&&Q.push(q);var et=q.render().el;V?V.appendChild(et):this.$el.append(et)},m.prototype.render=function(){var A=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(w){this.add(w,A)},this),this.$el.append(A),this.onRender(),this},m.prototype.onRender=function(){},m.prototype.onRemoveBefore=function(A,w){},m.prototype.onRemove=function(A,w){},m.prototype.remove=function(A){A===void 0&&(A={});var w=this.items;return this.onRemoveBefore(w,A),this.clearItems(),M.prototype.remove.call(this),this.onRemove(w,A),this},m.prototype.clearItems=function(){this.items},m}(_t.G7);const C=J;J.prototype.itemView=""},668:(R,dt,wt)=>{wt.d(dt,{Z:()=>m});var ht=wt(50),_t=wt(491),ot=function(){return ot=Object.assign||function(A){for(var w,_=1,O=arguments.length;_<O;_++){w=arguments[_];for(var L in w)Object.prototype.hasOwnProperty.call(w,L)&&(A[L]=w[L])}return A},ot.apply(this,arguments)},J=function(){return{x:0,y:0}},C=["x","y"],M=function(){function A(w){return w===void 0&&(w={}),this.opts={snapOffset:5,scale:1},(0,ht.bindAll)(this,"drag","stop","keyHandle","handleScroll"),this.setOptions(w),this.delta=J(),this.lastScroll=J(),this.lastScrollDiff=J(),this.startPointer=J(),this.startPosition=J(),this.globScrollDiff=J(),this.currentPointer=J(),this.position=J(),this.guidesStatic=[],this.guidesTarget=[],this.docs=[],this}return A.prototype.setOptions=function(w){w===void 0&&(w={}),this.opts=ot(ot({},this.opts),w)},A.prototype.toggleDrag=function(w){var _=this.getDocumentEl(),O=this.getContainerEl(),L=this.getWindowEl(),Q=w?"on":"off",X={on:_t.on,off:_t.S1};X[Q](O,"mousemove dragover",this.drag),X[Q](_,"mouseup dragend touchend",this.stop),X[Q](_,"keydown",this.keyHandle),X[Q](L,"scroll",this.handleScroll)},A.prototype.handleScroll=function(){var w=this,_=w.lastScroll,O=w.delta,L=this.getScrollInfo(),Q={x:L.x-_.x,y:L.y-_.y};this.move(O.x+Q.x,O.y+Q.y),this.lastScrollDiff=Q},A.prototype.start=function(w){var _=this.opts,O=_.onStart;this.toggleDrag(!0),this.startPointer=this.getPointerPos(w),this.guidesStatic=(0,ht.result)(_,"guidesStatic")||[],this.guidesTarget=(0,ht.result)(_,"guidesTarget")||[],(0,ht.isFunction)(O)&&O(w,this),this.startPosition=this.getStartPosition(),this.lastScrollDiff=J(),this.globScrollDiff=J(),this.drag(w)},A.prototype.drag=function(w){var _=this,O=this,L=O.opts,Q=O.lastScrollDiff,X=O.globScrollDiff,U=L.onDrag,V=this.startPointer,j=this.getPointerPos(w),k={x:X.x+Q.x,y:X.y+Q.y};this.globScrollDiff=k;var q={x:j.x-V.x+k.x,y:j.y-V.y+k.y};this.lastScrollDiff=J();var et=this.lockedAxis;w.shiftKey?et=!et&&this.detectAxisLock(q.x,q.y):et=null,et==="x"?q.x=V.x:et==="y"&&(q.y=V.y);var Z=function(G){C.forEach(function(E){return G[E]=G[E]*(0,ht.result)(L,"scale")}),_.delta=G,_.move(G.x,G.y),(0,ht.isFunction)(U)&&U(w,_)},rt=ot({},q);if(this.currentPointer=j,this.lockedAxis=et,this.lastScroll=this.getScrollInfo(),Z(q),this.guidesTarget.length){var T=this.snapGuides(rt),z=T.newDelta,I=T.trgX,N=T.trgY;(I||N)&&Z(z)}w.which===0&&this.stop(w)},A.prototype.snapGuides=function(w){var _=this,O=w,L=this,Q=L.trgX,X=L.trgY;return this.guidesTarget.forEach(function(U){U.x&&_.trgX||U.y&&_.trgY||(U.active=!1,_.guidesStatic.forEach(function(V){if(!(U.y&&V.x||U.x&&V.y)){var j=U.y&&V.y,k=j?"y":"x",q=U[k],et=V[k],Z=w[k],rt=j?X:Q;if(_.isPointIn(q,et)&&(0,ht.isUndefined)(rt)){var T=Z-(q-et);_.setGuideLock(U,T)}}}))}),Q=this.trgX,X=this.trgY,C.forEach(function(U){var V=U.toUpperCase(),j=_["trg".concat(V)];j&&!_.isPointIn(w[U],j.lock)&&(_.setGuideLock(j,null),j=null),j&&!(0,ht.isUndefined)(j.lock)&&(O[U]=j.lock)}),{newDelta:O,trgX:this.trgX,trgY:this.trgY}},A.prototype.isPointIn=function(w,_,O){var L=O===void 0?{}:O,Q=L.offset,X=Q||this.opts.snapOffset||0;return w>=_&&w<=_+X||w<=_&&w>=_-X},A.prototype.setGuideLock=function(w,_){var O=(0,ht.isUndefined)(w.x)?"Y":"X",L="trg".concat(O);return _!==null?(w.active=!0,w.lock=_,this[L]=w):(delete w.active,delete w.lock,delete this[L]),w},A.prototype.stop=function(w,_){_===void 0&&(_={});var O=this.delta,L=!!_.cancel,Q=L?0:O.x,X=L?0:O.y;this.toggleDrag(),this.lockedAxis=null,this.move(Q,X,!0);var U=this.opts.onEnd;(0,ht.isFunction)(U)&&U(w,this,{cancelled:L})},A.prototype.keyHandle=function(w){(0,_t.kl)(w)&&this.stop(w,{cancel:!0})},A.prototype.move=function(w,_,O){var L=this,Q=L.el,X=L.opts,U=this.startPosition;if(U){var V=X.setPosition,j=U.x+w,k=U.y+_;this.position={x:j,y:k,end:O},(0,ht.isFunction)(V)&&V(this.position),Q&&(Q.style.left="".concat(j,"px"),Q.style.top="".concat(k,"px"))}},A.prototype.getContainerEl=function(){var w=this.opts.container;return w?[w]:this.getDocumentEl()},A.prototype.getWindowEl=function(){var w=this.getContainerEl();return w.map(function(_){var O=_.ownerDocument||_;return O.defaultView||O.parentWindow})},A.prototype.getDocumentEl=function(w){var _=this.opts.doc;if(w=w||this.el,!this.docs.length){var O=[document];w&&O.push(w.ownerDocument),_&&O.push(_),this.docs=O}return this.docs},A.prototype.getPointerPos=function(w){var _=this.opts.getPointerPosition,O=(0,_t.VB)(w);return _?_(w):{x:O.clientX,y:O.clientY}},A.prototype.getStartPosition=function(){var w=this,_=w.el,O=w.opts,L=O.getPosition,Q=J();return(0,ht.isFunction)(L)?Q=L():_&&(Q={x:parseFloat(_.style.left),y:parseFloat(_.style.top)}),Q},A.prototype.getScrollInfo=function(){var w=this.opts.doc,_=w&&w.body;return{y:_?_.scrollTop:0,x:_?_.scrollLeft:0}},A.prototype.detectAxisLock=function(w,_){var O=w,L=_,Q=Math.abs(O),X=Math.abs(L);if(L>=Q||L<=-Q)return"x";if(O>X||O<-X)return"y"},A}();const m=M},895:(R,dt,wt)=>{wt.r(dt),wt.d(dt,{default:()=>Kn});var ht=typeof document<"u"?document:null,_t=typeof window<"u"?window:null,ot=Array.prototype,J=ot.filter,C=ot.indexOf,M=ot.map,m=ot.push,A=ot.reverse,w=ot.slice,_=ot.splice,O=/^#[\w-]*$/,L=/^\.[\w-]*$/,Q=/<.+>/,X=/^\w+$/;function U(nt,Ct){return Ct===void 0&&(Ct=ht),L.test(nt)?Ct.getElementsByClassName(nt.slice(1)):X.test(nt)?Ct.getElementsByTagName(nt):Ct.querySelectorAll(nt)}function V(nt,Ct){if(Ct===void 0&&(Ct=ht),!!nt){if(nt.__cash)return nt;var Mt=nt;if(G(nt)){if(Ct.__cash&&(Ct=Ct[0]),Mt=O.test(nt)?Ct.getElementById(nt.slice(1)):Q.test(nt)?sr(nt):U(nt,Ct),!Mt)return}else if(N(nt))return this.ready(nt);(Mt.nodeType||Mt===_t)&&(Mt=[Mt]),this.length=Mt.length;for(var qt=0,he=this.length;qt<he;qt++)this[qt]=Mt[qt]}}function j(nt,Ct){return new V(nt,Ct)}var k=j.fn=j.prototype=V.prototype={constructor:j,__cash:!0,length:0,splice:_};k.get=function(nt){return nt===void 0?w.call(this):this[nt<0?nt+this.length:nt]},k.eq=function(nt){return j(this.get(nt))},k.first=function(){return this.eq(0)},k.last=function(){return this.eq(-1)},k.map=function(nt){return j(M.call(this,function(Ct,Mt){return nt.call(Ct,Mt,Ct)}))},k.slice=function(){return j(w.apply(this,arguments))};var q=/(?:^\w|[A-Z]|\b\w)/g,et=/[\s-_]+/g;function Z(nt){return nt.replace(q,function(Ct,Mt){return Ct[Mt?"toUpperCase":"toLowerCase"]()}).replace(et,"")}j.camelCase=Z;function rt(nt,Ct){for(var Mt=0,qt=nt.length;Mt<qt&&Ct.call(nt[Mt],nt[Mt],Mt,nt)!==!1;Mt++);}j.each=rt,k.each=function(nt){return rt(this,function(Ct,Mt){return nt.call(Ct,Mt,Ct)}),this},k.removeProp=function(nt){return this.each(function(Ct,Mt){delete Mt[nt]})};function T(nt){nt===void 0&&(nt=this);for(var Ct=arguments,Mt=Ct.length,qt=Mt<2?0:1;qt<Mt;qt++)for(var he in Ct[qt])nt[he]=Ct[qt][he];return nt}j.extend=k.extend=T;var z=1;j.guid=z;function I(nt,Ct){var Mt=nt&&(nt.matches||nt.webkitMatchesSelector||nt.mozMatchesSelector||nt.msMatchesSelector||nt.oMatchesSelector);return!!Mt&&Mt.call(nt,Ct)}j.matches=I;function N(nt){return typeof nt=="function"}j.isFunction=N;function G(nt){return typeof nt=="string"}j.isString=G;function E(nt){return!isNaN(parseFloat(nt))&&isFinite(nt)}j.isNumeric=E;var $=Array.isArray;j.isArray=$,k.prop=function(nt,Ct){if(nt){if(G(nt))return arguments.length<2?this[0]&&this[0][nt]:this.each(function(qt,he){he[nt]=Ct});for(var Mt in nt)this.prop(Mt,nt[Mt]);return this}};function x(nt){return G(nt)?function(Ct,Mt){return I(Mt,nt)}:nt.__cash?function(Ct,Mt){return nt.is(Mt)}:function(Ct,Mt,qt){return Mt===qt}}k.filter=function(nt){if(!nt)return j();var Ct=N(nt)?nt:x(nt);return j(J.call(this,function(Mt,qt){return Ct.call(Mt,qt,Mt,nt)}))};var gt=/\S+/g;function at(nt){return G(nt)?nt.match(gt)||[]:[]}k.hasClass=function(nt){var Ct=at(nt),Mt=!1;return Ct.length&&this.each(function(qt,he){return Mt=he.classList.contains(Ct[0]),!Mt}),Mt},k.removeAttr=function(nt){var Ct=at(nt);return Ct.length?this.each(function(Mt,qt){rt(Ct,function(he){qt.removeAttribute(he)})}):this},k.attr=function(nt,Ct){if(nt){if(G(nt)){if(arguments.length<2){if(!this[0])return;var Mt=this[0].getAttribute(nt);return Mt===null?void 0:Mt}return Ct===null?this.removeAttr(nt):this.each(function(he,Ae){Ae.setAttribute(nt,Ct)})}for(var qt in nt)this.attr(qt,nt[qt]);return this}},k.toggleClass=function(nt,Ct){var Mt=at(nt),qt=Ct!==void 0;return Mt.length?this.each(function(he,Ae){rt(Mt,function(qe){qt?Ct?Ae.classList.add(qe):Ae.classList.remove(qe):Ae.classList.toggle(qe)})}):this},k.addClass=function(nt){return this.toggleClass(nt,!0)},k.removeClass=function(nt){return arguments.length?this.toggleClass(nt,!1):this.attr("class","")};function Lt(nt){return nt.filter(function(Ct,Mt,qt){return qt.indexOf(Ct)===Mt})}j.unique=Lt,k.add=function(nt,Ct){return j(Lt(this.get().concat(j(nt,Ct).get())))};function Xt(nt,Ct,Mt){if(nt.nodeType===1){var qt=_t.getComputedStyle(nt,null);return Ct?Mt?qt.getPropertyValue(Ct):qt[Ct]:qt}}function St(nt,Ct){return parseInt(Xt(nt,Ct),10)||0}var Ut=/^--/;function Yt(nt){return Ut.test(nt)}var Bt={},ne=ht&&ht.createElement("div"),Ot=ne?ne.style:{},Rt=["webkit","moz","ms","o"];function Wt(nt,Ct){if(Ct===void 0&&(Ct=Yt(nt)),Ct)return nt;if(!Bt[nt]){var Mt=Z(nt),qt=""+Mt.charAt(0).toUpperCase()+Mt.slice(1),he=(Mt+" "+Rt.join(qt+" ")+qt).split(" ");rt(he,function(Ae){if(Ae in Ot)return Bt[nt]=Ae,!1})}return Bt[nt]}j.prefixedProp=Wt;var ae={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function $t(nt,Ct,Mt){return Mt===void 0&&(Mt=Yt(nt)),!Mt&&!ae[nt]&&E(Ct)?Ct+"px":Ct}k.css=function(nt,Ct){if(G(nt)){var Mt=Yt(nt);return nt=Wt(nt,Mt),arguments.length<2?this[0]&&Xt(this[0],nt,Mt):nt?(Ct=$t(nt,Ct,Mt),this.each(function(he,Ae){Ae.nodeType===1&&(Mt?Ae.style.setProperty(nt,Ct):Ae.style[nt]=Ct)})):this}for(var qt in nt)this.css(qt,nt[qt]);return this};var Jt="__cashData",de=/^data-(.*)/;j.hasData=function(nt){return Jt in nt};function Ne(nt){return nt[Jt]=nt[Jt]||{}}function Je(nt,Ct){var Mt=Ne(nt);if(Ct){if(!(Ct in Mt)){var qt=nt.dataset?nt.dataset[Ct]||nt.dataset[Z(Ct)]:j(nt).attr("data-"+Ct);if(qt!==void 0){try{qt=JSON.parse(qt)}catch{}Mt[Ct]=qt}}return Mt[Ct]}return Mt}function mr(nt,Ct){Ct===void 0?delete nt[Jt]:delete Ne(nt)[Ct]}function nr(nt,Ct,Mt){Ne(nt)[Ct]=Mt}k.data=function(nt,Ct){var Mt=this;if(!nt)return this[0]?(rt(this[0].attributes,function(he){var Ae=he.name.match(de);Ae&&Mt.data(Ae[1])}),Je(this[0])):void 0;if(G(nt))return Ct===void 0?this[0]&&Je(this[0],nt):this.each(function(he,Ae){return nr(Ae,nt,Ct)});for(var qt in nt)this.data(qt,nt[qt]);return this},k.removeData=function(nt){return this.each(function(Ct,Mt){return mr(Mt,nt)})};function ve(nt,Ct){return St(nt,"border"+(Ct?"Left":"Top")+"Width")+St(nt,"padding"+(Ct?"Left":"Top"))+St(nt,"padding"+(Ct?"Right":"Bottom"))+St(nt,"border"+(Ct?"Right":"Bottom")+"Width")}rt(["Width","Height"],function(nt){k["inner"+nt]=function(){if(this[0])return this[0]===_t?_t["inner"+nt]:this[0]["client"+nt]}}),rt(["width","height"],function(nt,Ct){k[nt]=function(Mt){return this[0]?arguments.length?(Mt=parseInt(Mt,10),this.each(function(qt,he){if(he.nodeType===1){var Ae=Xt(he,"boxSizing");he.style[nt]=$t(nt,Mt+(Ae==="border-box"?ve(he,!Ct):0))}})):this[0]===_t?this[0][Z("outer-"+nt)]:this[0].getBoundingClientRect()[nt]-ve(this[0],!Ct):Mt===void 0?void 0:this}}),rt(["Width","Height"],function(nt,Ct){k["outer"+nt]=function(Mt){if(this[0])return this[0]===_t?_t["outer"+nt]:this[0]["offset"+nt]+(Mt?St(this[0],"margin"+(Ct?"Top":"Left"))+St(this[0],"margin"+(Ct?"Bottom":"Right")):0)}});function K(nt,Ct){for(var Mt=0,qt=Ct.length;Mt<qt;Mt++)if(nt.indexOf(Ct[Mt])<0)return!1;return!0}function it(nt,Ct,Mt){rt(nt[Mt],function(qt){qt[0];var he=qt[1];Ct.removeEventListener(Mt,he)}),delete nt[Mt]}var mt="__cashEvents",kt=".";function Ht(nt){return nt[mt]=nt[mt]||{}}function vt(nt,Ct,Mt,qt){qt.guid=qt.guid||z++;var he=Ht(nt);he[Ct]=he[Ct]||[],he[Ct].push([Mt,qt]),nt.addEventListener(Ct,qt)}function Vt(nt){var Ct=nt.split(kt);return[Ct[0],Ct.slice(1).sort()]}function Pt(nt,Ct,Mt,qt){var he=Ht(nt);if(Ct){var Ae=he[Ct];if(!Ae)return;qt&&(qt.guid=qt.guid||z++),he[Ct]=Ae.filter(function(qe){var ln=qe[0],xn=qe[1];if(qt&&xn.guid!==qt.guid||!K(ln,Mt))return!0;nt.removeEventListener(Ct,xn)})}else if(!Mt||!Mt.length)for(Ct in he)it(he,nt,Ct);else for(Ct in he)Pt(nt,Ct,Mt,qt)}k.off=function(nt,Ct){var Mt=this;return nt===void 0?this.each(function(qt,he){return Pt(he)}):rt(at(nt),function(qt){var he=Vt(qt),Ae=he[0],qe=he[1];Mt.each(function(ln,xn){return Pt(xn,Ae,qe,Ct)})}),this},k.on=function(nt,Ct,Mt,qt){var he=this;if(!G(nt)){for(var Ae in nt)this.on(Ae,Ct,nt[Ae]);return this}return N(Ct)&&(Mt=Ct,Ct=!1),rt(at(nt),function(qe){var ln=Vt(qe),xn=ln[0],xr=ln[1];he.each(function(Lo,vn){var Cn=function wo(Mr){if(!(Mr.namespace&&!K(xr,Mr.namespace.split(kt)))){var Cr=vn;if(Ct){for(var zr=Mr.target;!I(zr,Ct);)if(zr===vn||(zr=zr.parentNode,!zr))return;Cr=zr}Mr.namespace=Mr.namespace||"";var Sn=Mt.call(Cr,Mr,Mr.data);qt&&Pt(vn,xn,xr,wo),Sn===!1&&(Mr.preventDefault(),Mr.stopPropagation())}};Cn.guid=Mt.guid=Mt.guid||z++,vt(vn,xn,xr,Cn)})}),this},k.one=function(nt,Ct,Mt){return this.on(nt,Ct,Mt,!0)},k.ready=function(nt){var Ct=function(){return nt(j)};return ht.readyState!=="loading"?setTimeout(Ct):ht.addEventListener("DOMContentLoaded",Ct),this},k.trigger=function(nt,Ct){var Mt=nt;if(G(nt)){var qt=Vt(nt),he=qt[0],Ae=qt[1];Mt=ht.createEvent("HTMLEvents"),Mt.initEvent(he,!0,!0),Mt.namespace=Ae.join(kt)}return Mt.data=Ct,this.each(function(qe,ln){ln.dispatchEvent(Mt)})};function Ce(nt){var Ct=[];return rt(nt.options,function(Mt){Mt.selected&&!Mt.disabled&&!Mt.parentNode.disabled&&Ct.push(Mt.value)}),Ct}function Ke(nt){return nt.selectedIndex<0?null:nt.options[nt.selectedIndex].value}var Ve=/select-one/i,ze=/select-multiple/i;function or(nt){var Ct=nt.type;return Ve.test(Ct)?Ke(nt):ze.test(Ct)?Ce(nt):nt.value}var ye=/%20/g;function tr(nt,Ct){return"&"+encodeURIComponent(nt)+"="+encodeURIComponent(Ct).replace(ye,"+")}var De=/file|reset|submit|button|image/i,$e=/radio|checkbox/i;k.serialize=function(){var nt="";return this.each(function(Ct,Mt){rt(Mt.elements||[Mt],function(qt){if(!(qt.disabled||!qt.name||qt.tagName==="FIELDSET")&&!De.test(qt.type)&&!($e.test(qt.type)&&!qt.checked)){var he=or(qt);if(he!==void 0){var Ae=$(he)?he:[he];rt(Ae,function(qe){nt+=tr(qt.name,qe)})}}})}),nt.substr(1)},k.val=function(nt){return nt===void 0?this[0]&&or(this[0]):this.each(function(Ct,Mt){var qt=ze.test(Mt.type),he=nt===null?qt?[]:"":nt;qt&&$(he)?rt(Mt.options,function(Ae){Ae.selected=he.indexOf(Ae.value)>=0}):Mt.value=he})},k.clone=function(){return this.map(function(nt,Ct){return Ct.cloneNode(!0)})},k.detach=function(){return this.each(function(nt,Ct){Ct.parentNode&&Ct.parentNode.removeChild(Ct)})};var Ar=/^\s*<(\w+)[^>]*>/,_e=/^\s*<(\w+)\s*\/?>(?:<\/\1>)?\s*$/,Tr;function ke(){if(!Tr){var nt=ht.createElement("table"),Ct=ht.createElement("tr");Tr={"*":ht.createElement("div"),tr:ht.createElement("tbody"),td:Ct,th:Ct,thead:nt,tbody:nt,tfoot:nt}}}function sr(nt){if(ke(),!G(nt))return[];if(_e.test(nt))return[ht.createElement(RegExp.$1)];var Ct=Ar.test(nt)&&RegExp.$1,Mt=Tr[Ct]||Tr["*"];return Mt.innerHTML=nt,j(Mt.childNodes).detach().get()}j.parseHTML=sr,k.empty=function(){var nt=this[0];if(nt)for(;nt.firstChild;)nt.removeChild(nt.firstChild);return this};function cr(nt,Ct,Mt){Mt?nt.insertBefore(Ct,nt.childNodes[0]):nt.appendChild(Ct)}function pr(nt,Ct,Mt){if(Ct!==void 0){var qt=G(Ct);!qt&&Ct.length?rt(Ct,function(he){return pr(nt,he,Mt)}):rt(nt,qt?function(he){he.insertAdjacentHTML(Mt?"afterbegin":"beforeend",Ct)}:function(he,Ae){return cr(he,Ae?Ct.cloneNode(!0):Ct,Mt)})}}k.append=function(){var nt=this;return rt(arguments,function(Ct){pr(nt,Ct)}),this},k.appendTo=function(nt){return pr(j(nt),this),this},k.html=function(nt){if(nt===void 0)return this[0]&&this[0].innerHTML;var Ct=nt.nodeType?nt[0].outerHTML:nt;return this.each(function(Mt,qt){qt.innerHTML=Ct})},k.insertAfter=function(nt){var Ct=this;return j(nt).each(function(Mt,qt){var he=qt.parentNode;Ct.each(function(Ae,qe){he.insertBefore(Mt?qe.cloneNode(!0):qe,qt.nextSibling)})}),this},k.after=function(){var nt=this;return rt(A.apply(arguments),function(Ct){A.apply(j(Ct).slice()).insertAfter(nt)}),this},k.insertBefore=function(nt){var Ct=this;return j(nt).each(function(Mt,qt){var he=qt.parentNode;Ct.each(function(Ae,qe){he.insertBefore(Mt?qe.cloneNode(!0):qe,qt)})}),this},k.before=function(){var nt=this;return rt(arguments,function(Ct){j(Ct).insertBefore(nt)}),this},k.prepend=function(){var nt=this;return rt(arguments,function(Ct){pr(nt,Ct,!0)}),this},k.prependTo=function(nt){return pr(j(nt),A.apply(this.slice()),!0),this},k.remove=function(){return this.detach().off()},k.replaceWith=function(nt){var Ct=this;return this.each(function(Mt,qt){var he=qt.parentNode;if(he){var Ae=Mt?j(nt).clone():j(nt);if(!Ae[0])return Ct.remove(),!1;he.replaceChild(Ae[0],qt),j(Ae[0]).after(Ae.slice(1))}})},k.replaceAll=function(nt){return j(nt).replaceWith(this),this},k.text=function(nt){return nt===void 0?this[0]?this[0].textContent:"":this.each(function(Ct,Mt){Mt.textContent=nt})};var te=ht&&ht.documentElement;k.offset=function(){var nt=this[0];if(nt){var Ct=nt.getBoundingClientRect();return{top:Ct.top+_t.pageYOffset-te.clientTop,left:Ct.left+_t.pageXOffset-te.clientLeft}}},k.offsetParent=function(){return j(this[0]&&this[0].offsetParent)},k.position=function(){var nt=this[0];if(nt)return{left:nt.offsetLeft,top:nt.offsetTop}},k.children=function(nt){var Ct=[];return this.each(function(Mt,qt){m.apply(Ct,qt.children)}),Ct=j(Lt(Ct)),nt?Ct.filter(function(Mt,qt){return I(qt,nt)}):Ct},k.contents=function(){var nt=[];return this.each(function(Ct,Mt){m.apply(nt,Mt.tagName==="IFRAME"?[Mt.contentDocument]:Mt.childNodes)}),j(nt.length&&Lt(nt))},k.find=function(nt){for(var Ct=[],Mt=0,qt=this.length;Mt<qt;Mt++){var he=U(nt,this[Mt]);he.length&&m.apply(Ct,he)}return j(Ct.length&&Lt(Ct))},k.has=function(nt){var Ct=G(nt)?function(Mt,qt){return!!U(nt,qt).length}:function(Mt,qt){return qt.contains(nt)};return this.filter(Ct)},k.is=function(nt){if(!nt||!this[0])return!1;var Ct=x(nt),Mt=!1;return this.each(function(qt,he){return Mt=Ct(qt,he,nt),!Mt}),Mt},k.next=function(){return j(this[0]&&this[0].nextElementSibling)},k.not=function(nt){if(!nt||!this[0])return this;var Ct=x(nt);return this.filter(function(Mt,qt){return!Ct(Mt,qt,nt)})},k.parent=function(){var nt=[];return this.each(function(Ct,Mt){Mt&&Mt.parentNode&&nt.push(Mt.parentNode)}),j(Lt(nt))},k.index=function(nt){var Ct=nt?j(nt)[0]:this[0],Mt=nt?this:j(Ct).parent().children();return C.call(Mt,Ct)},k.closest=function(nt){return!nt||!this[0]?j():this.is(nt)?this.filter(nt):this.parent().closest(nt)},k.parents=function(nt){var Ct=[],Mt;return this.each(function(qt,he){for(Mt=he;Mt&&Mt.parentNode&&Mt!==ht.body.parentNode;)Mt=Mt.parentNode,(!nt||nt&&I(Mt,nt))&&Ct.push(Mt)}),j(Lt(Ct))},k.prev=function(){return j(this[0]&&this[0].previousElementSibling)},k.siblings=function(){var nt=this[0];return this.parent().children().filter(function(Ct,Mt){return Mt!==nt})};const Kn=j},491:(R,dt,wt)=>{wt.d(dt,{$Q:()=>Q,BM:()=>q,FW:()=>_,G1:()=>C,GX:()=>T,L_:()=>m,Mx:()=>M,R3:()=>X,S1:()=>Xt,SJ:()=>k,Ut:()=>rt,VB:()=>N,Vb:()=>x,cx:()=>A,dL:()=>L,hy:()=>gt,kl:()=>G,nB:()=>at,o5:()=>Z,on:()=>Lt,pn:()=>O,r$:()=>E,rw:()=>V,sE:()=>w,sN:()=>I,t3:()=>j,ut:()=>U});var ht=wt(50),_t=function(St,Ut,Yt){if(Yt||arguments.length===2)for(var Bt=0,ne=Ut.length,Ot;Bt<ne;Bt++)(Ot||!(Bt in Ut))&&(Ot||(Ot=Array.prototype.slice.call(Ut,0,Bt)),Ot[Bt]=Ut[Bt]);return St.concat(Ot||Array.prototype.slice.call(Ut))},ot="tag",J="attributes",C="transitionend oTransitionEnd transitionend webkitTransitionEnd",M=function(St){return(St==null?void 0:St.nodeType)===Node.DOCUMENT_NODE},m=function(St){var Ut=St&&St.parentNode;Ut&&Ut.removeChild(St)};function A(){for(var St=[],Ut=0;Ut<arguments.length;Ut++)St[Ut]=arguments[Ut];var Yt=Array.isArray(St[0])?St[0]:_t([],St,!0);return Yt.filter(Boolean).join(" ")}var w=function(St,Ut){return St.querySelectorAll(Ut)},_=function(St,Ut){return Ut===void 0&&(Ut={}),St&&St.setAttribute&&(0,ht.each)(Ut,function(Yt,Bt){return St.setAttribute(Bt,Yt)})},O=function(St){var Ut;return St&&!!(St.offsetWidth||St.offsetHeight||!((Ut=St.getClientRects)===null||Ut===void 0)&&Ut.call(St).length)},L=function(St,Ut){var Yt;(Yt=St.parentNode)===null||Yt===void 0||Yt.replaceChild(Ut,St)},Q=function(St,Ut,Yt){var Bt=St.childNodes,ne=Bt.length,Ot=(0,ht.isUndefined)(Yt)?ne:Yt;(0,ht.isString)(Ut)&&(St.insertAdjacentHTML("beforeEnd",Ut),Ut=St.lastChild,St.removeChild(Ut)),Ot>=ne?St.appendChild(Ut):St.insertBefore(Ut,Bt[Ot])},X=function(St,Ut){return Q(St,Ut)},U=function(St,Ut,Yt){Ut===void 0&&(Ut={});var Bt=document.createElement(St);return Ut&&(0,ht.each)(Ut,function(ne,Ot){return Bt.setAttribute(Ot,ne)}),Yt&&((0,ht.isString)(Yt)?Bt.innerHTML=Yt:Bt.appendChild(Yt)),Bt},V=function(St){return document.createTextNode(St)},j=function(St,Ut){var Yt,Bt=St.type;try{Yt=new window[Ut](Bt,St)}catch{Yt=document.createEvent(Ut),Yt.initEvent(Bt,!0,!0)}return Yt._parentEvent=St,Bt.indexOf("key")===0&&(Yt.keyCodeVal=St.keyCode,["keyCode","which"].forEach(function(ne){Object.defineProperty(Yt,ne,{get:function(){return this.keyCodeVal}})})),Yt},k=function(St,Ut){Ut===void 0&&(Ut=[]);var Yt=Array.isArray(Ut)?Ut:[Ut];Yt.forEach(function(Bt){var ne=Bt[ot]||"div",Ot=Bt[J]||{},Rt=document.createElement(ne);(0,ht.each)(Ot,function(Wt,ae){Rt.setAttribute(ae,Wt)}),St.appendChild(Rt)})},q=function(St){return(St==null?void 0:St.nodeType)===Node.TEXT_NODE},et=function(St){return(St==null?void 0:St.nodeType)===Node.COMMENT_NODE},Z=function(St){return St&&!q(St)&&!et(St)},rt=function(St){var Ut={top:0,left:0,width:0,height:0};if(!St)return Ut;var Yt;if(q(St)){var Bt=document.createRange();Bt.selectNode(St),Yt=Bt.getBoundingClientRect(),Bt.detach()}return Yt||(St.getBoundingClientRect?St.getBoundingClientRect():Ut)},T=function(St){var Ut=(St==null?void 0:St.ownerDocument)||document,Yt=Ut.documentElement,Bt=Ut.defaultView||window;return{x:(Bt.pageXOffset||Yt.scrollLeft||0)-(Yt.clientLeft||0),y:(Bt.pageYOffset||Yt.scrollTop||0)-(Yt.clientTop||0)}},z=function(St){return St.which||St.keyCode},I=function(St){return String.fromCharCode(z(St))},N=function(St){return St.touches&&St.touches[0]?St.touches[0]:St},G=function(St){return z(St)===27},E=function(St){return z(St)===13},$=function(St){return St.ctrlKey},x=function(St){return $(St)||St.metaKey},gt=function(St){if(!St)return"";var Ut=St.name,Yt=St.publicId,Bt=St.systemId,ne=Yt?' PUBLIC "'.concat(Yt,'"'):"",Ot=!Yt&&Bt?' SYSTEM "'.concat(Bt,'"'):"";return"<!DOCTYPE ".concat(Ut).concat(ne).concat(Ot,">")},at=function(St){St===void 0&&(St={});var Ut=[];return(0,ht.each)(St,function(Yt,Bt){return Ut.push("".concat(Bt,'="').concat(Yt,'"'))}),Ut.join(" ")},Lt=function(St,Ut,Yt,Bt){var ne=Ut.split(/\s+/),Ot=(0,ht.isArray)(St)?St:[St];ne.forEach(function(Rt){Ot.forEach(function(Wt){return Wt==null?void 0:Wt.addEventListener(Rt,Yt,Bt)})})},Xt=function(St,Ut,Yt,Bt){var ne=Ut.split(/\s+/),Ot=(0,ht.isArray)(St)?St:[St];ne.forEach(function(Rt){Ot.forEach(function(Wt){return Wt==null?void 0:Wt.removeEventListener(Rt,Yt,Bt)})})}},163:(R,dt,wt)=>{wt.r(dt),wt.d(dt,{appendStyles:()=>V,buildBase64UrlFromSvg:()=>ne,camelCase:()=>et,capitalize:()=>gt,createId:()=>Bt,deepMerge:()=>G,escape:()=>I,escapeNodeContent:()=>N,find:()=>z,getComponentModel:()=>Ut,getComponentView:()=>St,getElement:()=>T,getGlobal:()=>O,getModel:()=>E,getUiClass:()=>U,getUnitFromValue:()=>k,getViewEl:()=>Lt,hasDnd:()=>rt,hasWin:()=>_,isBultInMethod:()=>M,isComponent:()=>Xt,isDef:()=>w,isEmptyObj:()=>x,isObject:()=>$,isRule:()=>at,matches:()=>X,normalizeFloat:()=>Z,normalizeKey:()=>m,setViewEl:()=>Yt,shallowDiff:()=>j,toLowerCase:()=>L,upFirst:()=>q,wait:()=>A});var ht=wt(50),_t=wt(491),ot=function(){return ot=Object.assign||function(Ot){for(var Rt,Wt=1,ae=arguments.length;Wt<ae;Wt++){Rt=arguments[Wt];for(var $t in Rt)Object.prototype.hasOwnProperty.call(Rt,$t)&&(Ot[$t]=Rt[$t])}return Ot},ot.apply(this,arguments)},J=function(Ot,Rt,Wt){if(Wt||arguments.length===2)for(var ae=0,$t=Rt.length,Jt;ae<$t;ae++)(Jt||!(ae in Rt))&&(Jt||(Jt=Array.prototype.slice.call(Rt,0,ae)),Jt[ae]=Rt[ae]);return Ot.concat(Jt||Array.prototype.slice.call(Rt))},C={},M=function(Ot){return(0,ht.isFunction)(C[Ot])},m=function(Ot){return M(Ot)?"_".concat(Ot):Ot},A=function(Ot){return Ot===void 0&&(Ot=0),new Promise(function(Rt){return setTimeout(Rt,Ot)})},w=function(Ot){return typeof Ot<"u"},_=function(){return typeof window<"u"},O=function(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:wt.g},L=function(Ot){return(Ot||"").toLowerCase()},Q=_()?window.Element.prototype:{},X=Q.matches||Q.webkitMatchesSelector||Q.mozMatchesSelector||Q.msMatchesSelector,U=function(Ot,Rt){var Wt=Ot.getConfig(),ae=Wt.stylePrefix,$t=Wt.customUI;return[$t&&"".concat(ae,"cui"),Rt].filter(function(Jt){return Jt}).join(" ")},V=function(Ot,Rt){Rt===void 0&&(Rt={});var Wt=(0,ht.isArray)(Ot)?J([],Ot,!0):[Ot];if(Wt.length){var ae=Wt.shift();if(ae&&(!Rt.unique||!document.querySelector('link[href="'.concat(ae,'"]')))){var $t=document.head,Jt=document.createElement("link");Jt.href=ae,Jt.rel="stylesheet",Rt.prepand?$t.insertBefore(Jt,$t.firstChild):$t.appendChild(Jt)}V(Wt)}},j=function(Ot,Rt){var Wt={},ae=(0,ht.keys)(Rt);for(var $t in Ot)if(Ot.hasOwnProperty($t)){var Jt=Ot[$t],de=Rt[$t];ae.indexOf($t)>=0?Jt!==de&&(Wt[$t]=de):Wt[$t]=null}for(var $t in Rt)Rt.hasOwnProperty($t)&&(0,ht.isUndefined)(Ot[$t])&&(Wt[$t]=Rt[$t]);return Wt},k=function(Ot){return Ot.replace(parseFloat(Ot),"")},q=function(Ot){return Ot[0].toUpperCase()+Ot.toLowerCase().slice(1)},et=function(Ot){return Ot.replace(/-./g,function(Rt){return Rt[1].toUpperCase()})},Z=function(Ot,Rt,Wt){Rt===void 0&&(Rt=1),Wt===void 0&&(Wt=0);var ae=0;if(isNaN(Ot))return Wt;if(Ot=parseFloat(Ot),Math.floor(Ot)!==Ot){var $t=Rt.toString().split(".")[1];ae=$t?$t.length:0}return ae?parseFloat(Ot.toFixed(ae)):Ot},rt=function(Ot){return"draggable"in document.createElement("i")&&(Ot?Ot.config.nativeDnD:!0)},T=function(Ot){if((0,ht.isElement)(Ot)||(0,_t.BM)(Ot))return Ot;if(Ot&&Ot.getEl)return Ot.getEl()},z=function(Ot,Rt){var Wt=null;return Ot.some(function(ae,$t){return Rt(ae,$t,Ot)?(Wt=ae,1):0}),Wt},I=function(Ot){return Ot===void 0&&(Ot=""),"".concat(Ot).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/`/g,"&#96;")},N=function(Ot){return Ot===void 0&&(Ot=""),"".concat(Ot).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},G=function(){for(var Ot=[],Rt=0;Rt<arguments.length;Rt++)Ot[Rt]=arguments[Rt];for(var Wt=ot({},Ot[0]),ae=1;ae<Ot.length;ae++){var $t=ot({},Ot[ae]);for(var Jt in $t){var de=Wt[Jt],Ne=$t[Jt];$(de)&&$(Ne)?Wt[Jt]=G(de,Ne):Wt[Jt]=Ne}}return Wt},E=function(Ot,Rt){var Wt;return!Rt&&Ot&&Ot.__cashData?Wt=Ot.__cashData.model:Rt&&(0,ht.isElement)(Ot)&&(Wt=Rt(Ot).data("model")),Wt},$=function(Ot){return Ot&&!Array.isArray(Ot)&&typeof Ot=="object"},x=function(Ot){return Object.keys(Ot).length<=0},gt=function(Ot){return Ot===void 0&&(Ot=""),Ot&&Ot.charAt(0).toUpperCase()+Ot.substring(1)},at=function(Ot){return Ot&&Ot.toCSS},Lt=function(Ot){return Ot==null?void 0:Ot.__gjsv},Xt=function(Ot){return!!(Ot!=null&&Ot.toHTML)},St=function(Ot){return Lt(Ot)},Ut=function(Ot){var Rt;return(Rt=St(Ot))===null||Rt===void 0?void 0:Rt.model},Yt=function(Ot,Rt){Ot.__gjsv=Rt},Bt=function(Ot){Ot===void 0&&(Ot=16);for(var Rt="",Wt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",ae=Wt.length,$t=0;$t<Ot;$t++)Rt+=Wt.charAt(Math.floor(Math.random()*ae));return Rt},ne=function(Ot){if(Ot&&Ot.substr(0,4)==="<svg"){var Rt="";return _()?Rt=window.btoa(Ot):typeof Buffer<"u"&&(Rt=Buffer.from(Ot,"utf8").toString("base64")),Rt?"data:image/svg+xml;base64,".concat(Rt):Ot}return Ot}},828:(R,dt,wt)=>{var ht={"./CanvasClear":858,"./CanvasClear.ts":858,"./CanvasMove":884,"./CanvasMove.ts":884,"./CommandAbstract":790,"./CommandAbstract.ts":790,"./ComponentDelete":180,"./ComponentDelete.ts":180,"./ComponentDrag":544,"./ComponentDrag.ts":544,"./ComponentEnter":236,"./ComponentEnter.ts":236,"./ComponentExit":368,"./ComponentExit.ts":368,"./ComponentNext":243,"./ComponentNext.ts":243,"./ComponentPrev":400,"./ComponentPrev.ts":400,"./ComponentStyleClear":910,"./ComponentStyleClear.ts":910,"./CopyComponent":744,"./CopyComponent.ts":744,"./ExportTemplate":457,"./ExportTemplate.ts":457,"./Fullscreen":975,"./Fullscreen.ts":975,"./MoveComponent":191,"./MoveComponent.ts":191,"./OpenAssets":912,"./OpenAssets.ts":912,"./OpenBlocks":117,"./OpenBlocks.ts":117,"./OpenLayers":614,"./OpenLayers.ts":614,"./OpenStyleManager":801,"./OpenStyleManager.ts":801,"./OpenTraitManager":395,"./OpenTraitManager.ts":395,"./PasteComponent":98,"./PasteComponent.ts":98,"./Preview":129,"./Preview.ts":129,"./Resize":116,"./Resize.ts":116,"./SelectComponent":407,"./SelectComponent.ts":407,"./SelectPosition":189,"./SelectPosition.ts":189,"./ShowOffset":804,"./ShowOffset.ts":804,"./SwitchVisibility":434,"./SwitchVisibility.ts":434};function _t(J){var C=ot(J);return wt(C)}function ot(J){if(!wt.o(ht,J)){var C=new Error("Cannot find module '"+J+"'");throw C.code="MODULE_NOT_FOUND",C}return ht[J]}_t.keys=function(){return Object.keys(ht)},_t.resolve=ot,R.exports=_t,_t.id=828},50:(R,dt,wt)=>{wt.r(dt),wt.d(dt,{VERSION:()=>_t,after:()=>ks,all:()=>Tn,allKeys:()=>Tr,any:()=>Fr,assign:()=>Cn,before:()=>qi,bind:()=>$i,bindAll:()=>to,chain:()=>jo,chunk:()=>Ha,clone:()=>Sn,collect:()=>Zn,compact:()=>js,compose:()=>Da,constant:()=>ve,contains:()=>ar,countBy:()=>Ra,create:()=>zr,debounce:()=>Ro,default:()=>Ua,defaults:()=>wo,defer:()=>Ps,delay:()=>Ln,detect:()=>Ho,difference:()=>Oo,drop:()=>en,each:()=>mn,escape:()=>ee,every:()=>Tn,extend:()=>vn,extendOwn:()=>Cn,filter:()=>Rn,find:()=>Ho,findIndex:()=>wi,findKey:()=>xo,findLastIndex:()=>Co,findWhere:()=>_i,first:()=>zo,flatten:()=>Na,foldl:()=>Bo,foldr:()=>yn,forEach:()=>mn,functions:()=>xr,get:()=>Wr,groupBy:()=>Xi,has:()=>qn,head:()=>zo,identity:()=>Mn,include:()=>ar,includes:()=>ar,indexBy:()=>Ms,indexOf:()=>bi,initial:()=>Qi,inject:()=>Bo,intersection:()=>ta,invert:()=>xn,invoke:()=>eo,isArguments:()=>Je,isArray:()=>Jt,isArrayBuffer:()=>St,isBoolean:()=>N,isDataView:()=>$t,isDate:()=>gt,isElement:()=>G,isEmpty:()=>ze,isEqual:()=>_e,isError:()=>Lt,isFinite:()=>mr,isFunction:()=>Bt,isMap:()=>Mt,isMatch:()=>or,isNaN:()=>nr,isNull:()=>z,isNumber:()=>x,isObject:()=>T,isRegExp:()=>at,isSet:()=>he,isString:()=>$,isSymbol:()=>Xt,isTypedArray:()=>Vt,isUndefined:()=>I,isWeakMap:()=>qt,isWeakSet:()=>Ae,iteratee:()=>un,keys:()=>Ve,last:()=>Ir,lastIndexOf:()=>ja,map:()=>Zn,mapObject:()=>Nr,matcher:()=>On,matches:()=>On,max:()=>Ia,memoize:()=>La,methods:()=>xr,min:()=>Kr,mixin:()=>go,negate:()=>yi,noop:()=>Ze,now:()=>F,object:()=>vo,omit:()=>Ds,once:()=>_o,pairs:()=>ln,partial:()=>jr,partition:()=>Ls,pick:()=>ho,pluck:()=>ro,property:()=>Lr,propertyOf:()=>tn,random:()=>gn,range:()=>Fa,reduce:()=>Bo,reduceRight:()=>yn,reject:()=>So,rest:()=>en,restArguments:()=>rt,result:()=>Ma,sample:()=>oo,select:()=>Rn,shuffle:()=>Va,size:()=>wn,some:()=>Fr,sortBy:()=>As,sortedIndex:()=>Fo,tail:()=>en,take:()=>zo,tap:()=>$n,template:()=>Gi,templateSettings:()=>rr,throttle:()=>Vo,times:()=>Dr,toArray:()=>Uo,toPath:()=>Do,transpose:()=>Go,unescape:()=>Ye,union:()=>xi,uniq:()=>Wo,unique:()=>Wo,uniqueId:()=>Ki,unzip:()=>Go,values:()=>qe,where:()=>no,without:()=>Is,wrap:()=>No,zip:()=>Vs});var ht={};wt.r(ht),wt.d(ht,{VERSION:()=>_t,after:()=>ks,all:()=>Tn,allKeys:()=>Tr,any:()=>Fr,assign:()=>Cn,before:()=>qi,bind:()=>$i,bindAll:()=>to,chain:()=>jo,chunk:()=>Ha,clone:()=>Sn,collect:()=>Zn,compact:()=>js,compose:()=>Da,constant:()=>ve,contains:()=>ar,countBy:()=>Ra,create:()=>zr,debounce:()=>Ro,default:()=>io,defaults:()=>wo,defer:()=>Ps,delay:()=>Ln,detect:()=>Ho,difference:()=>Oo,drop:()=>en,each:()=>mn,escape:()=>ee,every:()=>Tn,extend:()=>vn,extendOwn:()=>Cn,filter:()=>Rn,find:()=>Ho,findIndex:()=>wi,findKey:()=>xo,findLastIndex:()=>Co,findWhere:()=>_i,first:()=>zo,flatten:()=>Na,foldl:()=>Bo,foldr:()=>yn,forEach:()=>mn,functions:()=>xr,get:()=>Wr,groupBy:()=>Xi,has:()=>qn,head:()=>zo,identity:()=>Mn,include:()=>ar,includes:()=>ar,indexBy:()=>Ms,indexOf:()=>bi,initial:()=>Qi,inject:()=>Bo,intersection:()=>ta,invert:()=>xn,invoke:()=>eo,isArguments:()=>Je,isArray:()=>Jt,isArrayBuffer:()=>St,isBoolean:()=>N,isDataView:()=>$t,isDate:()=>gt,isElement:()=>G,isEmpty:()=>ze,isEqual:()=>_e,isError:()=>Lt,isFinite:()=>mr,isFunction:()=>Bt,isMap:()=>Mt,isMatch:()=>or,isNaN:()=>nr,isNull:()=>z,isNumber:()=>x,isObject:()=>T,isRegExp:()=>at,isSet:()=>he,isString:()=>$,isSymbol:()=>Xt,isTypedArray:()=>Vt,isUndefined:()=>I,isWeakMap:()=>qt,isWeakSet:()=>Ae,iteratee:()=>un,keys:()=>Ve,last:()=>Ir,lastIndexOf:()=>ja,map:()=>Zn,mapObject:()=>Nr,matcher:()=>On,matches:()=>On,max:()=>Ia,memoize:()=>La,methods:()=>xr,min:()=>Kr,mixin:()=>go,negate:()=>yi,noop:()=>Ze,now:()=>F,object:()=>vo,omit:()=>Ds,once:()=>_o,pairs:()=>ln,partial:()=>jr,partition:()=>Ls,pick:()=>ho,pluck:()=>ro,property:()=>Lr,propertyOf:()=>tn,random:()=>gn,range:()=>Fa,reduce:()=>Bo,reduceRight:()=>yn,reject:()=>So,rest:()=>en,restArguments:()=>rt,result:()=>Ma,sample:()=>oo,select:()=>Rn,shuffle:()=>Va,size:()=>wn,some:()=>Fr,sortBy:()=>As,sortedIndex:()=>Fo,tail:()=>en,take:()=>zo,tap:()=>$n,template:()=>Gi,templateSettings:()=>rr,throttle:()=>Vo,times:()=>Dr,toArray:()=>Uo,toPath:()=>Do,transpose:()=>Go,unescape:()=>Ye,union:()=>xi,uniq:()=>Wo,unique:()=>Wo,uniqueId:()=>Ki,unzip:()=>Go,values:()=>qe,where:()=>no,without:()=>Is,wrap:()=>No,zip:()=>Vs});var _t="1.13.6",ot=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},J=Array.prototype,C=Object.prototype,M=typeof Symbol<"u"?Symbol.prototype:null,m=J.push,A=J.slice,w=C.toString,_=C.hasOwnProperty,O=typeof ArrayBuffer<"u",L=typeof DataView<"u",Q=Array.isArray,X=Object.keys,U=Object.create,V=O&&ArrayBuffer.isView,j=isNaN,k=isFinite,q=!{toString:null}.propertyIsEnumerable("toString"),et=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Z=Math.pow(2,53)-1;function rt(H,Y){return Y=Y==null?H.length-1:+Y,function(){for(var yt=Math.max(arguments.length-Y,0),xt=Array(yt),It=0;It<yt;It++)xt[It]=arguments[It+Y];switch(Y){case 0:return H.call(this,xt);case 1:return H.call(this,arguments[0],xt);case 2:return H.call(this,arguments[0],arguments[1],xt)}var At=Array(Y+1);for(It=0;It<Y;It++)At[It]=arguments[It];return At[Y]=xt,H.apply(this,At)}}function T(H){var Y=typeof H;return Y==="function"||Y==="object"&&!!H}function z(H){return H===null}function I(H){return H===void 0}function N(H){return H===!0||H===!1||w.call(H)==="[object Boolean]"}function G(H){return!!(H&&H.nodeType===1)}function E(H){var Y="[object "+H+"]";return function(yt){return w.call(yt)===Y}}const $=E("String"),x=E("Number"),gt=E("Date"),at=E("RegExp"),Lt=E("Error"),Xt=E("Symbol"),St=E("ArrayBuffer");var Ut=E("Function"),Yt=ot.document&&ot.document.childNodes;typeof Int8Array!="object"&&typeof Yt!="function"&&(Ut=function(H){return typeof H=="function"||!1});const Bt=Ut,ne=E("Object");var Ot=L&&ne(new DataView(new ArrayBuffer(8))),Rt=typeof Map<"u"&&ne(new Map),Wt=E("DataView");function ae(H){return H!=null&&Bt(H.getInt8)&&St(H.buffer)}const $t=Ot?ae:Wt,Jt=Q||E("Array");function de(H,Y){return H!=null&&_.call(H,Y)}var Ne=E("Arguments");(function(){Ne(arguments)||(Ne=function(H){return de(H,"callee")})})();const Je=Ne;function mr(H){return!Xt(H)&&k(H)&&!isNaN(parseFloat(H))}function nr(H){return x(H)&&j(H)}function ve(H){return function(){return H}}function K(H){return function(Y){var yt=H(Y);return typeof yt=="number"&&yt>=0&&yt<=Z}}function it(H){return function(Y){return Y==null?void 0:Y[H]}}const mt=it("byteLength"),kt=K(mt);var Ht=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function vt(H){return V?V(H)&&!$t(H):kt(H)&&Ht.test(w.call(H))}const Vt=O?vt:ve(!1),Pt=it("length");function Ce(H){for(var Y={},yt=H.length,xt=0;xt<yt;++xt)Y[H[xt]]=!0;return{contains:function(It){return Y[It]===!0},push:function(It){return Y[It]=!0,H.push(It)}}}function Ke(H,Y){Y=Ce(Y);var yt=et.length,xt=H.constructor,It=Bt(xt)&&xt.prototype||C,At="constructor";for(de(H,At)&&!Y.contains(At)&&Y.push(At);yt--;)At=et[yt],At in H&&H[At]!==It[At]&&!Y.contains(At)&&Y.push(At)}function Ve(H){if(!T(H))return[];if(X)return X(H);var Y=[];for(var yt in H)de(H,yt)&&Y.push(yt);return q&&Ke(H,Y),Y}function ze(H){if(H==null)return!0;var Y=Pt(H);return typeof Y=="number"&&(Jt(H)||$(H)||Je(H))?Y===0:Pt(Ve(H))===0}function or(H,Y){var yt=Ve(Y),xt=yt.length;if(H==null)return!xt;for(var It=Object(H),At=0;At<xt;At++){var Zt=yt[At];if(Y[Zt]!==It[Zt]||!(Zt in It))return!1}return!0}function ye(H){if(H instanceof ye)return H;if(!(this instanceof ye))return new ye(H);this._wrapped=H}ye.VERSION=_t,ye.prototype.value=function(){return this._wrapped},ye.prototype.valueOf=ye.prototype.toJSON=ye.prototype.value,ye.prototype.toString=function(){return String(this._wrapped)};function tr(H){return new Uint8Array(H.buffer||H,H.byteOffset||0,mt(H))}var De="[object DataView]";function $e(H,Y,yt,xt){if(H===Y)return H!==0||1/H===1/Y;if(H==null||Y==null)return!1;if(H!==H)return Y!==Y;var It=typeof H;return It!=="function"&&It!=="object"&&typeof Y!="object"?!1:Ar(H,Y,yt,xt)}function Ar(H,Y,yt,xt){H instanceof ye&&(H=H._wrapped),Y instanceof ye&&(Y=Y._wrapped);var It=w.call(H);if(It!==w.call(Y))return!1;if(Ot&&It=="[object Object]"&&$t(H)){if(!$t(Y))return!1;It=De}switch(It){case"[object RegExp]":case"[object String]":return""+H==""+Y;case"[object Number]":return+H!=+H?+Y!=+Y:+H==0?1/+H===1/Y:+H==+Y;case"[object Date]":case"[object Boolean]":return+H==+Y;case"[object Symbol]":return M.valueOf.call(H)===M.valueOf.call(Y);case"[object ArrayBuffer]":case De:return Ar(tr(H),tr(Y),yt,xt)}var At=It==="[object Array]";if(!At&&Vt(H)){var Zt=mt(H);if(Zt!==mt(Y))return!1;if(H.buffer===Y.buffer&&H.byteOffset===Y.byteOffset)return!0;At=!0}if(!At){if(typeof H!="object"||typeof Y!="object")return!1;var ce=H.constructor,He=Y.constructor;if(ce!==He&&!(Bt(ce)&&ce instanceof ce&&Bt(He)&&He instanceof He)&&"constructor"in H&&"constructor"in Y)return!1}yt=yt||[],xt=xt||[];for(var Me=yt.length;Me--;)if(yt[Me]===H)return xt[Me]===Y;if(yt.push(H),xt.push(Y),At){if(Me=H.length,Me!==Y.length)return!1;for(;Me--;)if(!$e(H[Me],Y[Me],yt,xt))return!1}else{var dr=Ve(H),Hr;if(Me=dr.length,Ve(Y).length!==Me)return!1;for(;Me--;)if(Hr=dr[Me],!(de(Y,Hr)&&$e(H[Hr],Y[Hr],yt,xt)))return!1}return yt.pop(),xt.pop(),!0}function _e(H,Y){return $e(H,Y)}function Tr(H){if(!T(H))return[];var Y=[];for(var yt in H)Y.push(yt);return q&&Ke(H,Y),Y}function ke(H){var Y=Pt(H);return function(yt){if(yt==null)return!1;var xt=Tr(yt);if(Pt(xt))return!1;for(var It=0;It<Y;It++)if(!Bt(yt[H[It]]))return!1;return H!==nt||!Bt(yt[sr])}}var sr="forEach",cr="has",pr=["clear","delete"],te=["get",cr,"set"],Kn=pr.concat(sr,te),nt=pr.concat(te),Ct=["add"].concat(pr,sr,cr);const Mt=Rt?ke(Kn):E("Map"),qt=Rt?ke(nt):E("WeakMap"),he=Rt?ke(Ct):E("Set"),Ae=E("WeakSet");function qe(H){for(var Y=Ve(H),yt=Y.length,xt=Array(yt),It=0;It<yt;It++)xt[It]=H[Y[It]];return xt}function ln(H){for(var Y=Ve(H),yt=Y.length,xt=Array(yt),It=0;It<yt;It++)xt[It]=[Y[It],H[Y[It]]];return xt}function xn(H){for(var Y={},yt=Ve(H),xt=0,It=yt.length;xt<It;xt++)Y[H[yt[xt]]]=yt[xt];return Y}function xr(H){var Y=[];for(var yt in H)Bt(H[yt])&&Y.push(yt);return Y.sort()}function Lo(H,Y){return function(yt){var xt=arguments.length;if(Y&&(yt=Object(yt)),xt<2||yt==null)return yt;for(var It=1;It<xt;It++)for(var At=arguments[It],Zt=H(At),ce=Zt.length,He=0;He<ce;He++){var Me=Zt[He];(!Y||yt[Me]===void 0)&&(yt[Me]=At[Me])}return yt}}const vn=Lo(Tr),Cn=Lo(Ve),wo=Lo(Tr,!0);function Mr(){return function(){}}function Cr(H){if(!T(H))return{};if(U)return U(H);var Y=Mr();Y.prototype=H;var yt=new Y;return Y.prototype=null,yt}function zr(H,Y){var yt=Cr(H);return Y&&Cn(yt,Y),yt}function Sn(H){return T(H)?Jt(H)?H.slice():vn({},H):H}function $n(H,Y){return Y(H),H}function Do(H){return Jt(H)?H:[H]}ye.toPath=Do;function Vn(H){return ye.toPath(H)}function Qr(H,Y){for(var yt=Y.length,xt=0;xt<yt;xt++){if(H==null)return;H=H[Y[xt]]}return yt?H:void 0}function Wr(H,Y,yt){var xt=Qr(H,Vn(Y));return I(xt)?yt:xt}function qn(H,Y){Y=Vn(Y);for(var yt=Y.length,xt=0;xt<yt;xt++){var It=Y[xt];if(!de(H,It))return!1;H=H[It]}return!!yt}function Mn(H){return H}function On(H){return H=Cn({},H),function(Y){return or(Y,H)}}function Lr(H){return H=Vn(H),function(Y){return Qr(Y,H)}}function ir(H,Y,yt){if(Y===void 0)return H;switch(yt??3){case 1:return function(xt){return H.call(Y,xt)};case 3:return function(xt,It,At){return H.call(Y,xt,It,At)};case 4:return function(xt,It,At,Zt){return H.call(Y,xt,It,At,Zt)}}return function(){return H.apply(Y,arguments)}}function be(H,Y,yt){return H==null?Mn:Bt(H)?ir(H,Y,yt):T(H)&&!Jt(H)?On(H):Lr(H)}function un(H,Y){return be(H,Y,1/0)}ye.iteratee=un;function yr(H,Y,yt){return ye.iteratee!==un?ye.iteratee(H,Y):be(H,Y,yt)}function Nr(H,Y,yt){Y=yr(Y,yt);for(var xt=Ve(H),It=xt.length,At={},Zt=0;Zt<It;Zt++){var ce=xt[Zt];At[ce]=Y(H[ce],ce,H)}return At}function Ze(){}function tn(H){return H==null?Ze:function(Y){return Wr(H,Y)}}function Dr(H,Y,yt){var xt=Array(Math.max(0,H));Y=ir(Y,yt,1);for(var It=0;It<H;It++)xt[It]=Y(It);return xt}function gn(H,Y){return Y==null&&(Y=H,H=0),H+Math.floor(Math.random()*(Y-H+1))}const F=Date.now||function(){return new Date().getTime()};function lt(H){var Y=function(At){return H[At]},yt="(?:"+Ve(H).join("|")+")",xt=RegExp(yt),It=RegExp(yt,"g");return function(At){return At=At==null?"":""+At,xt.test(At)?At.replace(It,Y):At}}const Kt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},ee=lt(Kt),je=xn(Kt),Ye=lt(je),rr=ye.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var xe=/(.)^/,br={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},bo=/\\|'|\r|\n|\u2028|\u2029/g;function gi(H){return"\\"+br[H]}var cn=/^\s*(\w|\$)+\s*$/;function Gi(H,Y,yt){!Y&&yt&&(Y=yt),Y=wo({},Y,ye.templateSettings);var xt=RegExp([(Y.escape||xe).source,(Y.interpolate||xe).source,(Y.evaluate||xe).source].join("|")+"|$","g"),It=0,At="__p+='";H.replace(xt,function(Me,dr,Hr,ea,Rs){return At+=H.slice(It,Rs).replace(bo,gi),It=Rs+Me.length,dr?At+=`'+
((__t=(`+dr+`))==null?'':_.escape(__t))+
'`:Hr?At+=`'+
((__t=(`+Hr+`))==null?'':__t)+
'`:ea&&(At+=`';
`+ea+`
__p+='`),Me}),At+=`';
`;var Zt=Y.variable;if(Zt){if(!cn.test(Zt))throw new Error("variable is not a bare identifier: "+Zt)}else At=`with(obj||{}){
`+At+`}
`,Zt="obj";At=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+At+`return __p;
`;var ce;try{ce=new Function(Zt,"_",At)}catch(Me){throw Me.source=At,Me}var He=function(Me){return ce.call(this,Me,ye)};return He.source="function("+Zt+`){
`+At+"}",He}function Ma(H,Y,yt){Y=Vn(Y);var xt=Y.length;if(!xt)return Bt(yt)?yt.call(H):yt;for(var It=0;It<xt;It++){var At=H==null?void 0:H[Y[It]];At===void 0&&(At=yt,It=xt),H=Bt(At)?At.call(H):At}return H}var Qn=0;function Ki(H){var Y=++Qn+"";return H?H+Y:Y}function jo(H){var Y=ye(H);return Y._chain=!0,Y}function Io(H,Y,yt,xt,It){if(!(xt instanceof Y))return H.apply(yt,It);var At=Cr(H.prototype),Zt=H.apply(At,It);return T(Zt)?Zt:At}var mi=rt(function(H,Y){var yt=mi.placeholder,xt=function(){for(var It=0,At=Y.length,Zt=Array(At),ce=0;ce<At;ce++)Zt[ce]=Y[ce]===yt?arguments[It++]:Y[ce];for(;It<arguments.length;)Zt.push(arguments[It++]);return Io(H,xt,this,this,Zt)};return xt});mi.placeholder=ye;const jr=mi,$i=rt(function(H,Y,yt){if(!Bt(H))throw new TypeError("Bind must be called on a function");var xt=rt(function(It){return Io(H,xt,Y,this,yt.concat(It))});return xt}),fn=K(Pt);function fo(H,Y,yt,xt){if(xt=xt||[],!Y&&Y!==0)Y=1/0;else if(Y<=0)return xt.concat(H);for(var It=xt.length,At=0,Zt=Pt(H);At<Zt;At++){var ce=H[At];if(fn(ce)&&(Jt(ce)||Je(ce)))if(Y>1)fo(ce,Y-1,yt,xt),It=xt.length;else for(var He=0,Me=ce.length;He<Me;)xt[It++]=ce[He++];else yt||(xt[It++]=ce)}return xt}const to=rt(function(H,Y){Y=fo(Y,!1,!1);var yt=Y.length;if(yt<1)throw new Error("bindAll must be passed function names");for(;yt--;){var xt=Y[yt];H[xt]=$i(H[xt],H)}return H});function La(H,Y){var yt=function(xt){var It=yt.cache,At=""+(Y?Y.apply(this,arguments):xt);return de(It,At)||(It[At]=H.apply(this,arguments)),It[At]};return yt.cache={},yt}const Ln=rt(function(H,Y,yt){return setTimeout(function(){return H.apply(null,yt)},Y)}),Ps=jr(Ln,ye,1);function Vo(H,Y,yt){var xt,It,At,Zt,ce=0;yt||(yt={});var He=function(){ce=yt.leading===!1?0:F(),xt=null,Zt=H.apply(It,At),xt||(It=At=null)},Me=function(){var dr=F();!ce&&yt.leading===!1&&(ce=dr);var Hr=Y-(dr-ce);return It=this,At=arguments,Hr<=0||Hr>Y?(xt&&(clearTimeout(xt),xt=null),ce=dr,Zt=H.apply(It,At),xt||(It=At=null)):!xt&&yt.trailing!==!1&&(xt=setTimeout(He,Hr)),Zt};return Me.cancel=function(){clearTimeout(xt),ce=0,xt=It=At=null},Me}function Ro(H,Y,yt){var xt,It,At,Zt,ce,He=function(){var dr=F()-It;Y>dr?xt=setTimeout(He,Y-dr):(xt=null,yt||(Zt=H.apply(ce,At)),xt||(At=ce=null))},Me=rt(function(dr){return ce=this,At=dr,It=F(),xt||(xt=setTimeout(He,Y),yt&&(Zt=H.apply(ce,At))),Zt});return Me.cancel=function(){clearTimeout(xt),xt=At=ce=null},Me}function No(H,Y){return jr(Y,H)}function yi(H){return function(){return!H.apply(this,arguments)}}function Da(){var H=arguments,Y=H.length-1;return function(){for(var yt=Y,xt=H[Y].apply(this,arguments);yt--;)xt=H[yt].call(this,xt);return xt}}function ks(H,Y){return function(){if(--H<1)return Y.apply(this,arguments)}}function qi(H,Y){var yt;return function(){return--H>0&&(yt=Y.apply(this,arguments)),H<=1&&(Y=null),yt}}const _o=jr(qi,2);function xo(H,Y,yt){Y=yr(Y,yt);for(var xt=Ve(H),It,At=0,Zt=xt.length;At<Zt;At++)if(It=xt[At],Y(H[It],It,H))return It}function Zi(H){return function(Y,yt,xt){yt=yr(yt,xt);for(var It=Pt(Y),At=H>0?0:It-1;At>=0&&At<It;At+=H)if(yt(Y[At],At,Y))return At;return-1}}const wi=Zi(1),Co=Zi(-1);function Fo(H,Y,yt,xt){yt=yr(yt,xt,1);for(var It=yt(Y),At=0,Zt=Pt(H);At<Zt;){var ce=Math.floor((At+Zt)/2);yt(H[ce])<It?At=ce+1:Zt=ce}return At}function po(H,Y,yt){return function(xt,It,At){var Zt=0,ce=Pt(xt);if(typeof At=="number")H>0?Zt=At>=0?At:Math.max(At+ce,Zt):ce=At>=0?Math.min(At+1,ce):At+ce+1;else if(yt&&At&&ce)return At=yt(xt,It),xt[At]===It?At:-1;if(It!==It)return At=Y(A.call(xt,Zt,ce),nr),At>=0?At+Zt:-1;for(At=H>0?Zt:ce-1;At>=0&&At<ce;At+=H)if(xt[At]===It)return At;return-1}}const bi=po(1,wi,Fo),ja=po(-1,Co);function Ho(H,Y,yt){var xt=fn(H)?wi:xo,It=xt(H,Y,yt);if(It!==void 0&&It!==-1)return H[It]}function _i(H,Y){return Ho(H,On(Y))}function mn(H,Y,yt){Y=ir(Y,yt);var xt,It;if(fn(H))for(xt=0,It=H.length;xt<It;xt++)Y(H[xt],xt,H);else{var At=Ve(H);for(xt=0,It=At.length;xt<It;xt++)Y(H[At[xt]],At[xt],H)}return H}function Zn(H,Y,yt){Y=yr(Y,yt);for(var xt=!fn(H)&&Ve(H),It=(xt||H).length,At=Array(It),Zt=0;Zt<It;Zt++){var ce=xt?xt[Zt]:Zt;At[Zt]=Y(H[ce],ce,H)}return At}function Xe(H){var Y=function(yt,xt,It,At){var Zt=!fn(yt)&&Ve(yt),ce=(Zt||yt).length,He=H>0?0:ce-1;for(At||(It=yt[Zt?Zt[He]:He],He+=H);He>=0&&He<ce;He+=H){var Me=Zt?Zt[He]:He;It=xt(It,yt[Me],Me,yt)}return It};return function(yt,xt,It,At){var Zt=arguments.length>=3;return Y(yt,ir(xt,At,4),It,Zt)}}const Bo=Xe(1),yn=Xe(-1);function Rn(H,Y,yt){var xt=[];return Y=yr(Y,yt),mn(H,function(It,At,Zt){Y(It,At,Zt)&&xt.push(It)}),xt}function So(H,Y,yt){return Rn(H,yi(yr(Y)),yt)}function Tn(H,Y,yt){Y=yr(Y,yt);for(var xt=!fn(H)&&Ve(H),It=(xt||H).length,At=0;At<It;At++){var Zt=xt?xt[At]:At;if(!Y(H[Zt],Zt,H))return!1}return!0}function Fr(H,Y,yt){Y=yr(Y,yt);for(var xt=!fn(H)&&Ve(H),It=(xt||H).length,At=0;At<It;At++){var Zt=xt?xt[At]:At;if(Y(H[Zt],Zt,H))return!0}return!1}function ar(H,Y,yt,xt){return fn(H)||(H=qe(H)),(typeof yt!="number"||xt)&&(yt=0),bi(H,Y,yt)>=0}const eo=rt(function(H,Y,yt){var xt,It;return Bt(Y)?It=Y:(Y=Vn(Y),xt=Y.slice(0,-1),Y=Y[Y.length-1]),Zn(H,function(At){var Zt=It;if(!Zt){if(xt&&xt.length&&(At=Qr(At,xt)),At==null)return;Zt=At[Y]}return Zt==null?Zt:Zt.apply(At,yt)})});function ro(H,Y){return Zn(H,Lr(Y))}function no(H,Y){return Rn(H,On(Y))}function Ia(H,Y,yt){var xt=-1/0,It=-1/0,At,Zt;if(Y==null||typeof Y=="number"&&typeof H[0]!="object"&&H!=null){H=fn(H)?H:qe(H);for(var ce=0,He=H.length;ce<He;ce++)At=H[ce],At!=null&&At>xt&&(xt=At)}else Y=yr(Y,yt),mn(H,function(Me,dr,Hr){Zt=Y(Me,dr,Hr),(Zt>It||Zt===-1/0&&xt===-1/0)&&(xt=Me,It=Zt)});return xt}function Kr(H,Y,yt){var xt=1/0,It=1/0,At,Zt;if(Y==null||typeof Y=="number"&&typeof H[0]!="object"&&H!=null){H=fn(H)?H:qe(H);for(var ce=0,He=H.length;ce<He;ce++)At=H[ce],At!=null&&At<xt&&(xt=At)}else Y=yr(Y,yt),mn(H,function(Me,dr,Hr){Zt=Y(Me,dr,Hr),(Zt<It||Zt===1/0&&xt===1/0)&&(xt=Me,It=Zt)});return xt}var El=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Uo(H){return H?Jt(H)?A.call(H):$(H)?H.match(El):fn(H)?Zn(H,Mn):qe(H):[]}function oo(H,Y,yt){if(Y==null||yt)return fn(H)||(H=qe(H)),H[gn(H.length-1)];var xt=Uo(H),It=Pt(xt);Y=Math.max(Math.min(Y,It),0);for(var At=It-1,Zt=0;Zt<Y;Zt++){var ce=gn(Zt,At),He=xt[Zt];xt[Zt]=xt[ce],xt[ce]=He}return xt.slice(0,Y)}function Va(H){return oo(H,1/0)}function As(H,Y,yt){var xt=0;return Y=yr(Y,yt),ro(Zn(H,function(It,At,Zt){return{value:It,index:xt++,criteria:Y(It,At,Zt)}}).sort(function(It,At){var Zt=It.criteria,ce=At.criteria;if(Zt!==ce){if(Zt>ce||Zt===void 0)return 1;if(Zt<ce||ce===void 0)return-1}return It.index-At.index}),"value")}function Yi(H,Y){return function(yt,xt,It){var At=Y?[[],[]]:{};return xt=yr(xt,It),mn(yt,function(Zt,ce){var He=xt(Zt,ce,yt);H(At,Zt,He)}),At}}const Xi=Yi(function(H,Y,yt){de(H,yt)?H[yt].push(Y):H[yt]=[Y]}),Ms=Yi(function(H,Y,yt){H[yt]=Y}),Ra=Yi(function(H,Y,yt){de(H,yt)?H[yt]++:H[yt]=1}),Ls=Yi(function(H,Y,yt){H[yt?0:1].push(Y)},!0);function wn(H){return H==null?0:fn(H)?H.length:Ve(H).length}function Ji(H,Y,yt){return Y in yt}const ho=rt(function(H,Y){var yt={},xt=Y[0];if(H==null)return yt;Bt(xt)?(Y.length>1&&(xt=ir(xt,Y[1])),Y=Tr(H)):(xt=Ji,Y=fo(Y,!1,!1),H=Object(H));for(var It=0,At=Y.length;It<At;It++){var Zt=Y[It],ce=H[Zt];xt(ce,Zt,H)&&(yt[Zt]=ce)}return yt}),Ds=rt(function(H,Y){var yt=Y[0],xt;return Bt(yt)?(yt=yi(yt),Y.length>1&&(xt=Y[1])):(Y=Zn(fo(Y,!1,!1),String),yt=function(It,At){return!ar(Y,At)}),ho(H,yt,xt)});function Qi(H,Y,yt){return A.call(H,0,Math.max(0,H.length-(Y==null||yt?1:Y)))}function zo(H,Y,yt){return H==null||H.length<1?Y==null||yt?void 0:[]:Y==null||yt?H[0]:Qi(H,H.length-Y)}function en(H,Y,yt){return A.call(H,Y==null||yt?1:Y)}function Ir(H,Y,yt){return H==null||H.length<1?Y==null||yt?void 0:[]:Y==null||yt?H[H.length-1]:en(H,Math.max(0,H.length-Y))}function js(H){return Rn(H,Boolean)}function Na(H,Y){return fo(H,Y,!1)}const Oo=rt(function(H,Y){return Y=fo(Y,!0,!0),Rn(H,function(yt){return!ar(Y,yt)})}),Is=rt(function(H,Y){return Oo(H,Y)});function Wo(H,Y,yt,xt){N(Y)||(xt=yt,yt=Y,Y=!1),yt!=null&&(yt=yr(yt,xt));for(var It=[],At=[],Zt=0,ce=Pt(H);Zt<ce;Zt++){var He=H[Zt],Me=yt?yt(He,Zt,H):He;Y&&!yt?((!Zt||At!==Me)&&It.push(He),At=Me):yt?ar(At,Me)||(At.push(Me),It.push(He)):ar(It,He)||It.push(He)}return It}const xi=rt(function(H){return Wo(fo(H,!0,!0))});function ta(H){for(var Y=[],yt=arguments.length,xt=0,It=Pt(H);xt<It;xt++){var At=H[xt];if(!ar(Y,At)){var Zt;for(Zt=1;Zt<yt&&ar(arguments[Zt],At);Zt++);Zt===yt&&Y.push(At)}}return Y}function Go(H){for(var Y=H&&Ia(H,Pt).length||0,yt=Array(Y),xt=0;xt<Y;xt++)yt[xt]=ro(H,xt);return yt}const Vs=rt(Go);function vo(H,Y){for(var yt={},xt=0,It=Pt(H);xt<It;xt++)Y?yt[H[xt]]=Y[xt]:yt[H[xt][0]]=H[xt][1];return yt}function Fa(H,Y,yt){Y==null&&(Y=H||0,H=0),yt||(yt=Y<H?-1:1);for(var xt=Math.max(Math.ceil((Y-H)/yt),0),It=Array(xt),At=0;At<xt;At++,H+=yt)It[At]=H;return It}function Ha(H,Y){if(Y==null||Y<1)return[];for(var yt=[],xt=0,It=H.length;xt<It;)yt.push(A.call(H,xt,xt+=Y));return yt}function Ba(H,Y){return H._chain?ye(Y).chain():Y}function go(H){return mn(xr(H),function(Y){var yt=ye[Y]=H[Y];ye.prototype[Y]=function(){var xt=[this._wrapped];return m.apply(xt,arguments),Ba(this,yt.apply(ye,xt))}}),ye}mn(["pop","push","reverse","shift","sort","splice","unshift"],function(H){var Y=J[H];ye.prototype[H]=function(){var yt=this._wrapped;return yt!=null&&(Y.apply(yt,arguments),(H==="shift"||H==="splice")&&yt.length===0&&delete yt[0]),Ba(this,yt)}}),mn(["concat","join","slice"],function(H){var Y=J[H];ye.prototype[H]=function(){var yt=this._wrapped;return yt!=null&&(yt=Y.apply(yt,arguments)),Ba(this,yt)}});const io=ye;var ao=go(ht);ao._=ao;const Ua=ao}},qh={};function vr(R){var dt=qh[R];if(dt!==void 0)return dt.exports;var wt=qh[R]={exports:{}};return nb[R].call(wt.exports,wt,wt.exports,vr),wt.exports}vr.n=R=>{var dt=R&&R.__esModule?()=>R.default:()=>R;return vr.d(dt,{a:dt}),dt};vr.d=(R,dt)=>{for(var wt in dt)vr.o(dt,wt)&&!vr.o(R,wt)&&Object.defineProperty(R,wt,{enumerable:!0,get:dt[wt]})};vr.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();vr.o=(R,dt)=>Object.prototype.hasOwnProperty.call(R,dt);vr.r=R=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(R,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(R,"__esModule",{value:!0})};var Zh={};(()=>{vr.d(Zh,{ZP:()=>ww,kr:()=>Ch,j7:()=>xh});var R=vr(50),dt=vr(163);function wt(a){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];var e=a.raw;return e.reduce(function(r,o,l){var f=n[l-1],p=e[l-1];return Array.isArray(f)?f=f.join(""):p&&p.slice(-1)==="$"?r=r.slice(0,-1):f=(0,dt.escape)(f),r+f+o})}var ht={stylePrefix:"gjs-",components:"",style:"",fromElement:!1,projectData:void 0,noticeOnUnload:!0,showOffsets:!1,showOffsetsSelected:!1,forceClass:!0,height:"900px",width:"100%",log:["warning","error"],baseCss:"",protectedCss:"* { box-sizing: border-box; } body {margin: 0;}",canvasCss:"",defaultCommand:"select-comp",showToolbar:!0,showDevices:!0,devicePreviewMode:!1,mediaCondition:"max-width",tagVarStart:"{[ ",tagVarEnd:" ]}",keepEmptyTextNodes:!1,jsInHtml:!0,nativeDnD:!0,multipleSelection:!0,optsHtml:{},optsCss:{},avoidInlineStyle:!0,avoidDefaults:!0,clearStyles:!1,listenToEl:[],cssIcons:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css",icons:{close:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',move:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"/></svg>',plus:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" /></svg>',caret:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7,10L12,15L17,10H7Z" /></svg>',delete:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" /></svg>',copy:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" /></svg>',arrowUp:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z" /></svg>',chevron:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z" /></svg>',eye:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z" /></svg>',eyeOff:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z" /></svg>'},i18n:{},undoManager:{},assetManager:{},canvas:{},layerManager:{},storageManager:{},richTextEditor:{},domComponents:{},modal:{},codeManager:{},panels:{},commands:{},cssComposer:{},selectorManager:{},deviceManager:{},styleManager:{},blockManager:{},traitManager:{},textViewCode:"Code",keepUnusedStyles:!1,customUI:!1};const _t=ht;var ot=vr(316),J=vr.n(ot),C=vr(895);const M=function(a){var n=a.$;if(n&&n.prototype&&n.prototype.constructor.name!=="jQuery"){var t=n.fn;t.hide=function(){return this.css("display","none")},t.show=function(){return this.css("display","block")},t.focus=function(){var o=this.get(0);return o&&o.focus(),this},t.bind=function(o,l){return this.on(o,l)},t.unbind=function(o,l){if((0,R.isObject)(o)){for(var f in o)o.hasOwnProperty(f)&&this.off(f,o[f]);return this}else return this.off(o,l)},t.click=function(o){return o?this.on("click",o):this.trigger("click")},t.change=function(o){return o?this.on("change",o):this.trigger("change")},t.keydown=function(o){return o?this.on("keydown",o):this.trigger("keydown")},t.delegate=function(o,l,f,p){return p||(p=f),this.on(l,o,function(h){h.data=f,p(h)})},t.scrollLeft=function(){var o=this.get(0);o=o.nodeType==9?o.defaultView:o;var l=o instanceof Window?o:null;return l?l.pageXOffset:o.scrollLeft||0},t.scrollTop=function(){var o=this.get(0);o=o.nodeType==9?o.defaultView:o;var l=o instanceof Window?o:null;return l?l.pageYOffset:o.scrollTop||0};var e=n.prototype.offset;t.offset=function(o){var l,f;return o&&(l=o.top,f=o.left),typeof l<"u"&&this.css("top","".concat(l,"px")),typeof f<"u"&&this.css("left","".concat(f,"px")),e.call(this)},n.map=function(o,l){for(var f=[],p=0;p<o.length;p++)f.push(l(o[p],p));return f};var r=Array.prototype.indexOf;n.inArray=function(o,l,f){return l==null?-1:r.call(l,o,f)},n.Event=function(o,l){if(!(this instanceof n.Event))return new n.Event(o,l);this.type=o,this.isDefaultPrevented=function(){return!1}}}};var m=vr(346),A=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),w=function(a){A(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n}(m.Hn),_=function(a){A(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.getByComponent=function(t){var e=this;return this.filter(function(r){return e.getComponent(r)===t})[0]},n.prototype.addComponent=function(t,e){var r=this,o=((0,R.isArray)(t)?t:[t]).filter(function(l){return!r.hasComponent(l)}).map(function(l){return new w({component:l})})[0];return this.push(o,e)},n.prototype.getComponent=function(t){return t.get("component")},n.prototype.hasComponent=function(t){var e=this.getByComponent(t);return e&&this.contains(e)},n.prototype.lastComponent=function(){var t=this.last();return t?this.getComponent(t):void 0},n.prototype.allComponents=function(){var t=this;return this.map(function(e){return t.getComponent(e)}).filter(function(e){return e})},n.prototype.removeComponent=function(t,e){var r=this,o=((0,R.isArray)(t)?t:[t]).map(function(l){return r.getByComponent(l)});return this.remove(o,e)},n}(m.FE);const O=_;var L=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Q=function(){return Q=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Q.apply(this,arguments)},X=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return a.concat(o||Array.prototype.slice.call(n))},U=function(){function a(n,t,e){this.debounced=[],this.collections=[],this.cls=[],this._em=n,this._name=t;var r=this.name.charAt(0).toLowerCase()+this.name.slice(1),o=(0,R.isUndefined)(n.config[r])?n.config[this.name]:n.config[r],l=o===!0?{}:o||{};l.pStylePrefix=n.config.pStylePrefix||"",!(0,R.isUndefined)(o)&&!o&&(l._disable=1),l.em=n,this._config=(0,dt.deepMerge)(e||{},l)}return Object.defineProperty(a.prototype,"em",{get:function(){return this._em},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),a.prototype.render=function(n){},a.prototype.postLoad=function(n){},Object.defineProperty(a.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),a.prototype.getConfig=function(n){return n?this.config[n]:this.config},a.prototype.__logWarn=function(n,t){t===void 0&&(t={}),this.em.logWarning("[".concat(this.name,"]: ").concat(n),t)},a.prototype.destroy=function(){this.__destroy()},a.prototype.__destroy=function(){var n,t,e;(n=this.view)===null||n===void 0||n.remove(),(t=this.state)===null||t===void 0||t.stopListening(),(e=this.state)===null||e===void 0||e.clear(),this.debounced.forEach(function(r){return r.cancel()}),this.collections.forEach(function(r){r.stopListening(),r.reset()})},a.prototype.__appendTo=function(){var n=this.getConfig().appendTo;if(n){var t=(0,R.isElement)(n)?n:document.querySelector(n);if(!t)return this.__logWarn('"appendTo" element not found');t.appendChild(this.render())}},a}();const V=U;var j=function(a){L(n,a);function n(t,e,r,o,l,f){f===void 0&&(f={});var p=a.call(this,t,e,l)||this;return p.cls=[],p.private=!1,p.all=r,p.events=o,!f.skipListen&&p.__initListen(),p}return n.prototype.postLoad=function(t){},n.prototype.render=function(t){},n.prototype.getProjectData=function(t){var e={},r=this.storageKey;return r&&(e[r]=t||this.getAll()),e},n.prototype.loadProjectData=function(t,e){t===void 0&&(t={}),e===void 0&&(e={});var r=e.all,o=e.onResult,l=e.reset,f=this.storageKey,p={action:"load"},h=r||this.all,v=t[f];if(typeof v=="string")try{v=JSON.parse(v)}catch{this.__logWarn("Data parsing failed",{input:v})}return l&&v&&h.reset(void 0,p),o?v&&o(v,p):v&&(0,dt.isDef)(v.length)&&h.reset(v,p),v},n.prototype.clear=function(t){t===void 0&&(t={});var e=this.all;return e&&e.reset(void 0,t),this},n.prototype.getAll=function(){return X([],this.all.models,!0)},n.prototype.getAllMap=function(){return this.getAll().reduce(function(t,e){return t[e.get(e.idAttribute)]=e,t},{})},n.prototype.__initListen=function(t){t===void 0&&(t={});var e=this,r=e.all,o=e.em,l=e.events;r&&o&&r.on("add",function(f,p,h){return o.trigger(l.add,f,h)}).on("remove",function(f,p,h){return o.trigger(l.remove,f,h)}).on("change",function(f,p){return o.trigger(l.update,f,f.changedAttributes(),p)}).on("all",this.__catchAllEvent,this),this.cls=[r].concat(t.collections||[]),(t.propagate||[]).forEach(function(f){var p=f.entity,h=f.event;p.on("all",function(v,b,P,B){var tt=B||P,ut=Q({event:v},tt);[o,r].map(function(ct){return ct.trigger(h,b,ut)})})})},n.prototype.__remove=function(t,e){var r=this;e===void 0&&(e={});var o=this.em,l=(0,R.isString)(t)?this.get(t):t,f=function(){return l&&r.all.remove(l,e),l};return!e.silent&&(o==null||o.trigger(this.events.removeBefore,l,f,e)),!e.abort&&f()},n.prototype.__catchAllEvent=function(t,e,r,o){var l=this,f=l.em,p=l.events,h=o||r;f&&p.all&&f.trigger(p.all,{event:t,model:e,options:h}),this.__onAllEvent()},n.prototype.__appendTo=function(t){var e=this.config.appendTo;if(e){var r=(0,R.isElement)(e)?e:document.querySelector(e);if(!r)return this.__logWarn('"appendTo" element not found');r.appendChild(this.render(t))}},n.prototype.__onAllEvent=function(){},n.prototype._createId=function(t){t===void 0&&(t=16);var e=this.getAll(),r=e.length+t,o=this.getAllMap(),l;do l=(0,dt.createId)(r);while(o[l]);return l},n.prototype.__listenAdd=function(t,e){var r=this;t.on("add",function(o,l,f){return r.em.trigger(e,o,f)})},n.prototype.__listenRemove=function(t,e){var r=this;t.on("remove",function(o,l,f){return r.em.trigger(e,o,f)})},n.prototype.__listenUpdate=function(t,e){var r=this;t.on("change",function(o,l){return r.em.trigger(e,o,o.changedAttributes(),l)})},n.prototype.__destroy=function(){var t;this.cls.forEach(function(e){e.stopListening(),e.reset()}),(t=this.view)===null||t===void 0||t.remove(),this.view=void 0},n}(U),k={stylePrefix:"cv-",scripts:[],styles:[],customBadgeLabel:void 0,autoscrollLimit:50,extHl:!1,frameContent:"<!DOCTYPE html>",frameStyle:`
    body { background-color: #fff }
    * ::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.1) }
    * ::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.2) }
    * ::-webkit-scrollbar { width: 10px }
  `,notTextable:["button","a","input[type=checkbox]","input[type=radio]"],allowExternalDrop:!0};const q=k;var et=vr(642),Z={default:"",devices:[{id:"desktop",name:"Desktop",width:""},{id:"tablet",name:"Tablet",width:"770px",widthMedia:"992px"},{id:"mobileLandscape",name:"Mobile landscape",width:"568px",widthMedia:"768px"},{id:"mobilePortrait",name:"Mobile portrait",width:"320px",widthMedia:"480px"}]};const rt=Z;var T=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),z=function(a){T(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.defaults=function(){return{name:"",width:null,height:"",widthMedia:null,priority:null}},n.prototype.initialize=function(){var t=this;this.get("widthMedia")===null&&this.set("widthMedia",this.get("width")),this.get("width")===null&&this.set("width",this.get("widthMedia")),!this.get("priority")&&this.set("priority",parseFloat(this.get("widthMedia"))||0);var e=["width","height","widthMedia"];e.forEach(function(r){return t.checkUnit(r)})},n.prototype.checkUnit=function(t){var e=this.get(t)||"",r=(parseFloat(e)||0).toString()===e.toString();r&&this.set(t,"".concat(e,"px"))},n.prototype.getName=function(){return this.get("name")||this.get("id")},n.prototype.getWidthMedia=function(){return this.get("widthMedia")||""},n}(m.Hn);const I=z;var N=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),G=function(a){N(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n}(m.FE);const E=G;G.prototype.model=I;var $=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),x=function(a,n){return Object.defineProperty?Object.defineProperty(a,"raw",{value:n}):a.raw=n,a},gt=function(a){$(n,a);function n(t){var e=a.call(this,t)||this;return e.config=t.config||{},e.em=e.config.em,e.ppfx=e.config.pStylePrefix||"",e.listenTo(e.em,"change:device",e.updateSelect),e}return n.prototype.template=function(t){var e=t.ppfx,r=t.label;return wt(Lt||(Lt=x([`
      <div class="`,'device-label">',`</div>
      <div class="`,"field ",`select">
        <span id="`,`input-holder">
          <select class="`,`devices"></select>
        </span>
        <div class="`,`sel-arrow">
          <div class="`,`d-s-arrow"></div>
        </div>
      </div>
      <button style="display:none" class="`,`add-trasp" data-add-trasp>+</button>
    `],[`
      <div class="`,'device-label">',`</div>
      <div class="`,"field ",`select">
        <span id="`,`input-holder">
          <select class="`,`devices"></select>
        </span>
        <div class="`,`sel-arrow">
          <div class="`,`d-s-arrow"></div>
        </div>
      </div>
      <button style="display:none" class="`,`add-trasp" data-add-trasp>+</button>
    `])),e,r,e,e,e,e,e,e,e)},n.prototype.events=function(){return{change:"updateDevice","click [data-add-trasp]":"startAdd"}},n.prototype.startAdd=function(){},n.prototype.updateDevice=function(){var t=this.em;if(t){var e=this.devicesEl;t.set("device",e?e.val():"")}},n.prototype.updateSelect=function(){var t=this,e=t.em,r=t.devicesEl;if(e&&e.getDeviceModel&&r){var o=e.getDeviceModel();r.val(o?o.get("id"):"")}},n.prototype.getOptions=function(){var t=this,e=t.collection,r=t.em,o="";return e.forEach(function(l){var f=l.attributes,p=f.name,h=f.id,v=r&&r.t&&r.t("deviceManager.devices.".concat(h))||p;o+='<option value="'.concat(h||p,'">').concat(v,"</option>")}),o},n.prototype.render=function(){var t=this,e=t.em,r=t.ppfx,o=t.$el,l=t.el,f=e&&e.t&&e.t("deviceManager.device");return o.html(this.template({ppfx:r,label:f})),this.devicesEl=o.find(".".concat(r,"devices")),this.devicesEl.append(this.getOptions()),this.devicesEl.val(e.get("device")),l.className="".concat(r,"devices-c"),this},n}(m.G7);const at=gt;var Lt,Xt=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),St=function(){return St=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},St.apply(this,arguments)},Ut="device",Yt="".concat(Ut,":"),Bt="".concat(Yt,"select"),ne="".concat(Yt,"update"),Ot="".concat(Yt,"add"),Rt="".concat(Yt,"remove"),Wt="".concat(Rt,":before"),ae="change:device",$t={all:Ut,select:Bt,update:ne,add:Ot,remove:Rt,removeBefore:Wt},Jt=function(a){Xt(n,a);function n(t){var e,r=a.call(this,t,"DeviceManager",new E,$t,rt)||this;return r.Device=I,r.Devices=E,r.storageKey="",r.devices=r.all,(e=r.config.devices)===null||e===void 0||e.forEach(function(o){return r.add(o,{silent:!0})}),r.select(r.config.default||r.devices.at(0)),t.on(ae,r._onSelect,r),r}return n.prototype._onSelect=function(t,e,r){var o=this,l=o.em,f=o.events,p=t.previous("device"),h=this.get(e),v=f.select;l.trigger(v,h,this.get(p)),this.__catchAllEvent(v,h,r)},n.prototype.add=function(t,e){e===void 0&&(e={});var r,o=e;if((0,R.isString)(t)){var l=e;o=arguments[2]||{},r=St(St({},o),{id:t,name:o.name||t,width:l})}else r=t;return r.id||(r.id=r.name||this._createId()),this.devices.add(r,o)},n.prototype.get=function(t){var e=this.getAll().filter(function(r){return r.get("name")===t})[0];return e||this.devices.get(t)||null},n.prototype.remove=function(t,e){return e===void 0&&(e={}),this.__remove(t,e)},n.prototype.getDevices=function(){return this.devices.models},n.prototype.select=function(t,e){e===void 0&&(e={});var r=(0,R.isString)(t)?this.get(t):t;return r&&this.em.set("device",r.get("id"),e),this},n.prototype.getSelected=function(){return this.get(this.em.get("device"))},n.prototype.getAll=function(){return this.devices},n.prototype.render=function(){var t,e=this.em;return(t=this.view)===null||t===void 0||t.remove(),this.view=new at({collection:this.devices,config:St({em:e},this.config)}),this.view.render().el},n.prototype.destroy=function(){this.__destroy()},n}(j);const de=Jt;var Ne;(function(a){a.add="page:add",a.addBefore="page:add:before",a.remove="page:remove",a.removeBefore="page:remove:before",a.select="page:select",a.selectBefore="page:select:before",a.update="page:update",a.all="page"})(Ne||(Ne={}));const Je=Ne;var mr=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),nr=function(a){mr(n,a);function n(t,e,r){return a.call(this,e,{module:t,modelConstructor:r})||this}return n.prototype.add=function(t,e){var r=this,o,l=(0,R.isArray)(t)?t:(0,R.isUndefined)(t)?void 0:[t];return l=(o=l==null?void 0:l.map(function(f){return f instanceof r.newModel?f:new r.newModel(r.module,f)}))!==null&&o!==void 0?o:[void 0],a.prototype.add.call(this,(0,R.isArray)(t)?l:l[0],e)},n.prototype.preinitialize=function(t,e){this.newModel=e.modelConstructor,this.module=e.module},n}(m.FE);const ve=nr;var K=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),it=function(){return it=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},it.apply(this,arguments)},mt=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return a.concat(o||Array.prototype.slice.call(n))},kt="__aw",Ht="__ah",vt=function(a,n){var t,e=a.get(n),r=(t=a.view)===null||t===void 0?void 0:t.el[n==="width"?"offsetWidth":"offsetHeight"];return(0,R.isNumber)(e)?e:(0,R.isString)(e)&&e.endsWith("px")?parseFloat(e):r||0},Vt=function(a){K(n,a);function n(t,e){var r=a.call(this,t,e)||this,o=r.em,l=r.attributes,f=l.styles,p=l.component,h=o.Components,v=h.getConfig(),b=o.Css.getAll(),P={},B={em:o,config:v,frame:r,idMap:P};if(!(0,dt.isComponent)(p)){var tt=(0,dt.isObject)(p)?p:{components:p};!tt.type&&(tt.type="wrapper");var ut=h.getType("wrapper").model;r.set("component",new ut(tt,B))}if(!f)r.set("styles",b);else if(!(0,dt.isObject)(f)){var ct=f;(0,R.keys)(P).length&&(ct=(0,R.isString)(ct)?o.Parser.parseCss(ct):ct,o.Css.checkId(ct,{idMap:P})),b.add(ct),r.set("styles",b)}return!e.width&&r.set(kt,1),!e.height&&r.set(Ht,1),!r.id&&r.set("id",(0,dt.createId)()),r}return n.prototype.defaults=function(){return{x:0,y:0,changesCount:0,attributes:{},width:null,height:null,head:[],component:"",styles:"",refFrame:null,_undo:!0,_undoexc:["changesCount"]}},Object.defineProperty(n.prototype,"width",{get:function(){return vt(this,"width")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return vt(this,"height")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"head",{get:function(){return this.get("head")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"refFrame",{get:function(){return this.get("refFrame")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"root",{get:function(){var t=this.refFrame;return(t==null?void 0:t.getComponent())||this.getComponent()},enumerable:!1,configurable:!0}),n.prototype.initRefs=function(){var t=this.refFrame;if((0,R.isString)(t)){var e=this.module.framesById[t];e&&this.set({refFrame:e},{silent:!0})}},n.prototype.getBoxRect=function(){var t=this.attributes,e=t.x,r=t.y,o=this,l=o.width,f=o.height;return{x:e,y:r,width:l,height:f}},n.prototype.onRemove=function(){!this.refFrame&&this.getComponent().remove({root:1})},n.prototype.changesUp=function(t){t===void 0&&(t={}),!(t.temporary||t.noCount||t.avoidStore)&&this.set("changesCount",this.get("changesCount")+1)},n.prototype.getComponent=function(){return this.get("component")},n.prototype.getStyles=function(){return this.get("styles")},n.prototype.disable=function(){this.trigger("disable")},n.prototype.remove=function(){var t;(t=this.view)===null||t===void 0||t.remove(),this.view=void 0;var e=this.collection;return e&&e.remove(this)},n.prototype.getHead=function(){return mt([],this.head,!0)},n.prototype.setHead=function(t){return this.set("head",mt([],t,!0))},n.prototype.addHeadItem=function(t){this.head.push(t)},n.prototype.getHeadByAttr=function(t,e,r){return this.head.filter(function(o){return o.attributes&&o.attributes[t]==e&&(!r||r===o.tag)})[0]},n.prototype.removeHeadByAttr=function(t,e,r){var o=this.getHeadByAttr(t,e,r),l=this.head.indexOf(o);l>=0&&this.head.splice(l,1)},n.prototype.addLink=function(t){var e="link";!this.getHeadByAttr("href",t,e)&&this.addHeadItem({tag:e,attributes:{href:t,rel:"stylesheet"}})},n.prototype.removeLink=function(t){this.removeHeadByAttr("href",t,"link")},n.prototype.addScript=function(t){var e="script";!this.getHeadByAttr("src",t,e)&&this.addHeadItem({tag:e,attributes:{src:t}})},n.prototype.removeScript=function(t){this.removeHeadByAttr("src",t,"script")},n.prototype.getPage=function(){var t;return(t=this.collection)===null||t===void 0?void 0:t.page},n.prototype._emitUpdated=function(t){t===void 0&&(t={}),this.em.trigger("frame:updated",it({frame:this},t))},n.prototype.hasAutoHeight=function(){var t=this.attributes.height;return!!(t==="auto"||this.config.infiniteCanvas)},n.prototype.toJSON=function(t){t===void 0&&(t={});var e=et.Z.prototype.toJSON.call(this,t),r=(0,R.result)(this,"defaults");return t.fromUndo&&delete e.component,delete e.styles,delete e.changesCount,e[kt]&&delete e.width,e[Ht]&&delete e.height,e.refFrame&&(e.refFrame=e.refFrame.id,delete e.component),(0,R.forEach)(e,function(o,l){l.indexOf("_")===0&&delete e[l]}),(0,R.forEach)(r,function(o,l){e[l]===o&&delete e[l]}),(0,R.forEach)(["attributes","head"],function(o){(0,R.isEmpty)(e[o])&&delete e[o]}),e},n}(et.Z);const Pt=Vt;var Ce=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ke=function(a){Ce(n,a);function n(t,e){e===void 0&&(e=[]);var r=a.call(this,t,e,Pt)||this;return r.loadedItems=0,r.itemsToLoad=0,(0,R.bindAll)(r,"itemLoaded"),r.on("add",r.onAdd),r.on("reset",r.onReset),r.on("remove",r.onRemove),r.forEach(function(o){return r.onAdd(o)}),r}return n.prototype.onAdd=function(t){this.module.framesById[t.id]=t},n.prototype.onReset=function(t,e){var r=this,o=(e==null?void 0:e.previousModels)||[];o.map(function(l){return r.onRemove(l)})},n.prototype.onRemove=function(t){t.onRemove(),delete this.module.framesById[t.id]},n.prototype.initRefs=function(){this.forEach(function(t){return t.initRefs()})},n.prototype.itemLoaded=function(){this.loadedItems++,this.loadedItems>=this.itemsToLoad&&(this.trigger("loaded:all"),this.listenToLoadItems(!1))},n.prototype.listenToLoad=function(){this.loadedItems=0,this.itemsToLoad=this.length,this.listenToLoadItems(!0)},n.prototype.listenToLoadItems=function(t){var e=this;this.forEach(function(r){return r[t?"on":"off"]("loaded",e.itemLoaded)})},n}(ve);const Ve=Ke;var ze=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),or=function(a){ze(n,a);function n(t){var e=this,r=t.em,o=t.config,l=o.scripts,f=o.styles;return e=a.call(this,t,{scripts:l,styles:f})||this,e.set("frames",new Ve(t)),e.on("change:zoom",e.onZoomChange),e.on("change:x change:y",e.onCoordsChange),e.on("change:pointer change:pointerScreen",e.onPointerChange),e.listenTo(r,"change:device ".concat(ne),e.updateDevice),e.listenTo(r,Je.select,e._pageUpdated),e}return n.prototype.defaults=function(){return{frame:"",frames:[],rulers:!1,zoom:100,x:0,y:0,scripts:[],styles:[],pointer:m.pH,pointerScreen:m.pH}},Object.defineProperty(n.prototype,"frames",{get:function(){return this.get("frames")},enumerable:!1,configurable:!0}),n.prototype.init=function(){var t=this.em,e=t.Pages._initPage();this.set("frames",e.getFrames()),this.updateDevice({frame:e.getMainFrame()})},n.prototype._pageUpdated=function(t,e){var r=this.em;r.setSelected(),r.get("readyCanvas")&&r.stopDefault(),e==null||e.getFrames().map(function(o){return o.disable()}),this.set("frames",t.getFrames()),this.updateDevice({frame:t.getMainFrame()})},n.prototype.updateDevice=function(t){t===void 0&&(t={});var e=this.em,r=e.getDeviceModel(),o=t.frame||e.getCurrentFrameModel();if(o&&r){var l=r.attributes,f=l.width,p=l.height;o.set({width:f,height:p},{noUndo:1})}},n.prototype.onZoomChange=function(){var t=this,e=t.em,r=t.module,o=this.get("zoom");o<1&&this.set("zoom",1),e.trigger(r.events.zoom)},n.prototype.onCoordsChange=function(){var t=this,e=t.em,r=t.module;e.trigger(r.events.coords)},n.prototype.onPointerChange=function(){var t=this,e=t.em,r=t.module;e.trigger(r.events.pointer)},n.prototype.getPointerCoords=function(t){t===void 0&&(t=m.vA.World);var e=this.attributes,r=e.pointer,o=e.pointerScreen;return t===m.vA.World?r:o},n}(et.Z);const ye=or;var tr=vr(675),De=vr(184),$e=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ar=function(a){$e(n,a);function n(t,e){e===void 0&&(e=[]);var r=a.call(this,t,e,tr.Z)||this;r.on("add",r.onAdd),r.on("change",r.onChange),r.on("remove",r.onRemove);var o=r.em;r.refreshDbn=(0,R.debounce)(function(){return r.refresh()},0);var l="component:resize styleable:change component:input ".concat(De.g.update," frame:updated undo redo");return r.listenTo(o,l,function(){return r.refreshDbn()}),r}return Object.defineProperty(n.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"events",{get:function(){return this.module.events},enumerable:!1,configurable:!0}),n.prototype.refresh=function(){var t=this,e=t.em,r=t.events;e.trigger(r.spot)},n.prototype.onAdd=function(t){this.__trgEvent(this.events.spotAdd,{spot:t})},n.prototype.onChange=function(t){this.__trgEvent(this.events.spotUpdate,{spot:t})},n.prototype.onRemove=function(t){this.__trgEvent(this.events.spotRemove,{spot:t})},n.prototype.__trgEvent=function(t,e){var r=this.module,o=r.em;o.trigger(t,e),this.refreshDbn()},n}(ve);const _e=Ar;var Tr;(function(a){a.dragEnter="canvas:dragenter",a.dragOver="canvas:dragover",a.dragEnd="canvas:dragend",a.dragData="canvas:dragdata",a.drop="canvas:drop",a.spot="canvas:spot",a.spotAdd="canvas:spot:add",a.spotUpdate="canvas:spot:update",a.spotRemove="canvas:spot:remove",a.coords="canvas:coords",a.zoom="canvas:zoom",a.pointer="canvas:pointer",a.refresh="canvas:refresh",a.frameLoad="canvas:frame:load",a.frameLoadHead="canvas:frame:load:head",a.frameLoadBody="canvas:frame:load:body"})(Tr||(Tr={}));const ke=Tr;var sr=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),cr=function(a){sr(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"pfx",{get:function(){return this.ppfx+this.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"ppfx",{get:function(){return this.em.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"module",{get:function(){var t,e;return(e=(t=this.model)===null||t===void 0?void 0:t.module)!==null&&e!==void 0?e:this.collection.module},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"config",{get:function(){return this.module.config},enumerable:!1,configurable:!0}),n.prototype.preinitialize=function(t){this.className=""},n}(m.G7);const pr=cr;var te=vr(491),Kn=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),nt=function(a){Kn(n,a);function n(t,e){t===void 0&&(t={}),e===void 0&&(e=!1);var r=a.call(this,t)||this;return r.itemsView="",r.itemType="type",r.reuseView=!1,r.viewCollection=[],e&&r.listenTo(r.collection,"add",r.addTo),r}return n.prototype.addTo=function(t){this.add(t)},n.prototype.itemViewNotFound=function(t){},n.prototype.add=function(t,e){var r=this,o=r.reuseView,l=r.viewCollection,f=e||null,p=t.get(this.itemType),h;t.view&&o?h=t.view:h=this.renderView(t,p),l.push(h);var v=h.render().el;f?f.appendChild(v):this.$el.append(v)},n.prototype.render=function(){var t=this,e=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(r){return t.add(r,e)}),this.$el.append(e),this.onRender(),this},n.prototype.onRender=function(){},n.prototype.onRemoveBefore=function(t,e){},n.prototype.onRemove=function(t,e){},n.prototype.remove=function(t){t===void 0&&(t={});var e=this.viewCollection;return this.onRemoveBefore(e,t),this.clearItems(),m.G7.prototype.remove.apply(this,t),this.onRemove(e,t),this},n.prototype.clearItems=function(){this.viewCollection},n}(pr);const Ct=nt;var Mt=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),qt=function(a){Mt(n,a);function n(t){t===void 0&&(t={});var e=a.call(this,t)||this;e.config=t.config||{};var r=e.model;return e.listenTo(r,"change",e.render),e.listenTo(r,"destroy remove",e.remove),e.listenTo(r.get("selectors"),"change",e.render),e}return n.prototype.tagName=function(){return"style"},n.prototype.render=function(){var t=this,e=t.model,r=t.el,o=e.get("important");return r.innerHTML=e.toCSS({important:o}),this},n}(m.G7);const he=qt;var Ae=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),qe=function(a){Ae(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype._createElement=function(){return document.createTextNode("")},n.prototype.render=function(){var t=this.model,e=t.get("important");return this.el.textContent=t.getDeclaration({important:e}),this},n}(he);const ln=qe;var xn=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),xr=function(a,n){return"".concat(a).concat(n?"-".concat(parseFloat(n)):"")},Lo=function(a){xn(n,a);function n(t){var e=a.call(this,t)||this;(0,R.bindAll)(e,"sortRules");var r=t.config||{};e.atRules={},e.config=r,e.em=r.em,e.pfx=r.stylePrefix||"",e.className=e.pfx+"rules";var o=e.collection;return e.listenTo(o,"add",e.addTo),e.listenTo(o,"reset",e.render),e}return n.prototype.addTo=function(t){this.addToCollection(t)},n.prototype.addToCollection=function(t,e){if(this.renderStarted){var r=e||null,o=this.config,l={model:t,config:o},f,p;if(t.get("atRuleType")==="keyframes"){var h=t.getAtRule(),v=this.atRules[h];if(!v){var b=document.createElement("style");v=document.createTextNode(""),b.appendChild(document.createTextNode("".concat(h,"{"))),b.appendChild(v),b.appendChild(document.createTextNode("}")),this.atRules[h]=v,f=b}p=new ln(l),v.appendData(p.render().el.textContent)}else p=new he(l),f=p.render().el;var P=this.className,B=t.get("mediaText"),tt=xr(P),ut=tt;if(B&&(ut=xr(P,this.getMediaWidth(B))),f){var ct=r||this.el,Tt=void 0;try{Tt=ct.querySelector("#".concat(ut))}catch{}Tt||(Tt=ct.querySelector("#".concat(tt))),Tt==null||Tt.appendChild(f)}return f}},n.prototype.getMediaWidth=function(t){return t&&t.replace("(".concat(this.em.getConfig().mediaCondition,": "),"").replace(")","")},n.prototype.sortRules=function(t,e){var r=this.em,o=(r.getConfig().mediaCondition||"").indexOf("min-width")!==-1;if(!o)return 0;var l=o?t:e,f=o?e:t;return l-f},n.prototype.render=function(){var t=this;this.renderStarted=!0,this.atRules={};var e=this,r=e.em,o=e.$el,l=e.collection,f=this.className,p=document.createDocumentFragment();o.empty();var h=r.Devices.getAll().pluck("priority").sort(this.sortRules);return h.every(function(v){return v})&&h.unshift(0),h.forEach(function(v){return p.appendChild((0,te.ut)("div",{id:xr(f,v)}))}),l.each(function(v){return t.addToCollection(v,p)}),o.append(p),o.attr("class",f),this},n}(m.G7);const vn=Lo;var Cn="text/html",wo=Cn;const Mr=function(a,n){n===void 0&&(n={});var t=new DOMParser,e=n.htmlType||wo,r=e===Cn,o=r?a:"<div>".concat(a,"</div>"),l=t.parseFromString(o,e),f;if(r){if(n.asDocument)return l;var p=l.head,h=l.body,v=p.querySelectorAll("script");(0,R.each)(v,function(P){return h.appendChild(P)});var b=[];(0,R.each)(p.children,function(P){return b.push(P)}),(0,R.each)(b,function(P,B){return h.insertBefore(P,h.children[B])}),f=h}else f=l.firstChild;return f};var Cr=function(){return Cr=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Cr.apply(this,arguments)},zr="data-gjs-",Sn="parse:html",$n=function(a,n){return n===void 0&&(n={}),{compTypes:[],modelAttrStart:zr,getPropAttribute:function(t,e){var r=t.replace(this.modelAttrStart,""),o=(e==null?void 0:e.length)||0,l=e==null?void 0:e.substring(0,1),f=e==null?void 0:e.substring(o-1),p=e==="true"?!0:e==="false"?!1:e;try{p=l=="{"&&f=="}"||l=="["&&f=="]"?JSON.parse(p):p}catch{}return{name:r,value:p}},splitPropsFromAttr:function(t){var e=this;t===void 0&&(t={});var r={},o={};return(0,R.each)(t,function(l,f){if(f.indexOf(e.modelAttrStart)===0){var p=e.getPropAttribute(f,l);r[p.name]=p.value}else o[f]=l}),{props:r,attrs:o}},parseStyle:function(t){for(var e={};t.indexOf("/*")>=0;){var r=t.indexOf("/*"),o=t.indexOf("*/")+2;t=t.replace(t.slice(r,o),"")}for(var l=t.split(";"),f=0,p=l.length;f<p;f++){var h=l[f].trim();if(h){var v=h.split(":"),b=v[0].trim(),P=v.slice(1).join(":").trim();e[b]?((0,R.isArray)(e[b])||(e[b]=[e[b]]),e[b].push(P)):e[b]=P}}return e},parseClass:function(t){for(var e=[],r=t.split(" "),o=0,l=r.length;o<l;o++){var f=r[o].trim();f&&e.push(f)}return e},parseNodeAttr:function(t,e){for(var r=e||{},o=t.attributes||[],l=o.length,f=0;f<l;f++){var p=o[f].nodeName,h=o[f].nodeValue;if(p=="style")r.style=this.parseStyle(h);else if(p=="class")r.classes=this.parseClass(h);else{if(p=="contenteditable")continue;if(p.indexOf(this.modelAttrStart)===0){var v=this.getPropAttribute(p,h);r[v.name]=v.value}else h===""&&t[p]===!0&&(h=!0),r.attributes||(r.attributes={}),r.attributes[p]=h}}return r},detectNode:function(t,e){var r;e===void 0&&(e={});var o=this.compTypes,l={};if(o){var f=(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"".concat(this.modelAttrStart,"type"));if(f)l={type:f};else for(var p=0;p<o.length;p++){var h=o[p],v=h.model.isComponent(t,e);if(v){typeof v!="object"&&(v={type:h.id}),l=v;break}}}return l},parseNode:function(t,e){var r;e===void 0&&(e={});var o=((r=t.content)===null||r===void 0?void 0:r.childNodes)||t.childNodes,l=o.length,f=this.detectNode(t,e);if(!f.tagName){var p=t.tagName||"",h=t.namespaceURI||"";f.tagName=p&&h==="http://www.w3.org/1999/xhtml"?p.toLowerCase():p}if(f=this.parseNodeAttr(t,f),!l&&"".concat(t.outerHTML).slice(-2)==="/>"&&(f.void=!0),l&&!f.components&&!e.skipChildren){var v=o[0];l===1&&v.nodeType===3?(!f.type&&(f.type="text"),f.components={type:"textnode",content:v.nodeValue}):f.components=this.parseNodes(t,Cr(Cr({},e),{inSvg:e.inSvg||f.type==="svg"}))}var b=f.components;if(!f.type&&(b!=null&&b.length)){for(var P=n.textTypes,B=P===void 0?[]:P,tt=n.textTags,ut=tt===void 0?[]:tt,ct=!0,Tt=!1,Nt=0;Nt<b.length;Nt++){var Ft=b[Nt],Qt=Ft.type;if(!B.includes(Qt)&&!ut.includes(Ft.tagName)){ct=!1;break}Qt==="textnode"&&(Tt=!0)}ct&&Tt&&(f.type="text")}return f},parseNodes:function(t,e){var r;e===void 0&&(e={});for(var o=[],l=((r=t.content)===null||r===void 0?void 0:r.childNodes)||t.childNodes,f=l.length,p=0;p<f;p++){var h=l[p],v=o[o.length-1],b=this.parseNode(h,e);if(b.type==="textnode"){if((v==null?void 0:v.type)==="textnode"){v.content+=b.content;continue}if(!e.keepEmptyTextNodes){var P=h.nodeValue;if(P!=" "&&!P.trim())continue}}!b.tagName&&(0,R.isUndefined)(b.content)||o.push(b)}return o},parse:function(t,e,r){var o,l,f;r===void 0&&(r={});var p=(a==null?void 0:a.get("Config"))||{},h={html:[]},v=Cr(Cr({},n),r),b=Cr(Cr(Cr({},n.optionsHtml),{htmlType:((o=n.optionsHtml)===null||o===void 0?void 0:o.htmlType)||n.htmlType}),r),P=b.preParser,B=b.asDocument,tt=(0,R.isFunction)(P)?P(t,{editor:a==null?void 0:a.getEditor()}):t,ut=(0,R.isFunction)(v.parserHtml)?v.parserHtml(tt,b):Mr(tt,b),ct=ut,Tt=ut;B&&(ct=Tt.documentElement,h.doctype=(0,te.hy)(Tt.doctype));var Nt=ct.querySelectorAll("script"),Ft=Nt.length,Qt=(0,R.isUndefined)(p.allowScripts)?b.allowScripts:p.allowScripts;if(!Qt)for(;Ft--;)(l=Nt[Ft].parentNode)===null||l===void 0||l.removeChild(Nt[Ft]);if((!b.allowUnsafeAttr||!b.allowUnsafeAttrValue)&&this.__sanitizeNode(ct,b),e){for(var fe=ct.querySelectorAll("style"),Se=fe.length,Pe="";Se--;)Pe=fe[Se].innerHTML+Pe,(f=fe[Se].parentNode)===null||f===void 0||f.removeChild(fe[Se]);Pe&&(h.css=e.parse(Pe))}a==null||a.trigger("".concat(Sn,":root"),{input:tt,root:ct});var ie=[];if(B)h.head=this.parseNode(Tt.head,v),h.root=this.parseNodeAttr(ct),ie=this.parseNode(Tt.body,v);else{var Ee=this.parseNodes(ct,v);ie=Ee.length===1&&!v.returnArray?Ee[0]:Ee}return h.html=ie,a==null||a.trigger(Sn,{input:tt,output:h}),h},__sanitizeNode:function(t,e){var r=this,o=t.attributes||[],l=t.childNodes||[],f=[];(0,R.each)(o,function(p){var h=p.nodeName||"",v=p.nodeValue||"";!e.allowUnsafeAttr&&h.startsWith("on")&&f.push(h),!e.allowUnsafeAttrValue&&v.startsWith("javascript:")&&f.push(h)}),f.map(function(p){return t.removeAttribute(p)}),(0,R.each)(l,function(p){return r.__sanitizeNode(p,e)})}}};const Do=$n;var Vn=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Qr=function(){return Qr=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Qr.apply(this,arguments)},Wr=Do(),qn=function(a){return(0,R.isArray)(a)?a[a.length-1]:a},Mn=function(a){Vn(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.parseStyle=function(t){return Wr.parseStyle(t)},n.prototype.extendStyle=function(t){return Qr(Qr({},this.getStyle()),t)},n.prototype.getStyle=function(t){var e=this.get("style")||{},r=Qr({},e);return t&&(0,R.isString)(t)?r[t]:r},n.prototype.setStyle=function(t,e){var r=this;t===void 0&&(t={}),e===void 0&&(e={}),(0,R.isString)(t)&&(t=this.parseStyle(t));var o=this.getStyle(e);e.partial||e.avoidStore?(e.avoidStore=!0,t.__p=!0):delete t.__p;var l=Qr({},t),f=Qr({},l);(0,R.keys)(f).forEach(function(h){f[h]===""&&delete f[h]}),this.set("style",f,e);var p=(0,dt.shallowDiff)(o,l);return delete p.__p,(0,R.keys)(p).forEach(function(h){var v=r.em;e.noEvent||(r.trigger("change:style:".concat(h)),v&&(v.trigger("styleable:change",r,h,e),v.trigger("styleable:change:".concat(h),r,h,e)))}),l},n.prototype.addStyle=function(t,e,r){var o;e===void 0&&(e=""),r===void 0&&(r={}),typeof t=="string"?t=(o={},o[t]=e,o):r=e||{},r.addStyle=t,t=this.extendStyle(t),this.setStyle(t,r)},n.prototype.removeStyle=function(t){var e=this.getStyle();delete e[t],this.setStyle(e)},n.prototype.styleToString=function(t){t===void 0&&(t={});var e=[],r=this.getStyle(t),o=t.important,l=function(p){var h=(0,R.isArray)(o)?o.indexOf(p)>=0:o,v=p.substring(0,2),b=v==="__";if(b)return"continue";var P=r[p],B=(0,R.isArray)(P)?P:[P];B.forEach(function(tt){var ut="".concat(tt).concat(h?" !important":"");ut&&e.push("".concat(p,":").concat(ut,";"))})};for(var f in r)l(f);return e.join("")},n.prototype.getSelectors=function(){return this.get("selectors")||this.get("classes")},n.prototype.getSelectorsString=function(t){return this.selectorsToString?this.selectorsToString(t):this.getSelectors().getFullString()},n}(m.Hn);const On=Mn;var Lr=function(){return Lr=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Lr.apply(this,arguments)},ir=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return a.concat(o||Array.prototype.slice.call(n))},be=function(a){return(0,R.isArray)(a.get(Fr))},un=function(a){return!!a.get(ar)},yr=function(a){return!!(be(a)||un(a))},Nr=function(a){var n=a.parent();return yr(a)&&(!n||!yr(n))},Ze=function(a){a.__symbReady||(a.on("change",a.__upSymbProps),a.__symbReady=!0)},tn=function(a){var n=a.get(ar);if(n&&(0,R.isString)(n)){var t=a.__getAllById()[n];t?(n=t,a.set(ar,t)):n=0}return n||void 0},Dr=function(a){var n=a==null?void 0:a.get(Fr);return n&&(0,R.isArray)(n)&&(n.forEach(function(t,e){t&&(0,R.isString)(t)&&(n[e]=a.__getAllById()[t])}),n=n.filter(function(t){return t&&!(0,R.isString)(t)})),n||void 0},gn=function(a,n){n===void 0&&(n="");var t=a==null?void 0:a.get(eo),e=n.split(":")[0],r=n!==e?[n,e]:[n];return t===!0||(0,R.isArray)(t)&&r.some(function(o){return t.indexOf(o)>=0})},F=function(a,n){n===void 0&&(n={});var t=[],e=n.changed;if(n.fromInstance||n.noPropagate||n.fromUndo||e&&gn(a,e))return t;var r=Dr(a)||[],o=tn(a),l=o?ir([o],Dr(o)||[],!0):r;return t=l.filter(function(f){return f!==a}).filter(function(f){return!(e&&gn(f,e))}),t},lt=function(a,n){for(var t=a,e=a.parent(n);e&&yr(e);)t=e,e=e.parent(n);return t},Kt=function(a,n){n===void 0&&(n={});var t=tn(a),e=t&&Dr(t);!n.skipRefs&&e&&t.set(Fr,e.filter(function(r){return r!==a})),a.set(ar,0),a.components().forEach(function(r){return Kt(r,n)})},ee=function(a,n,t,e){e===void 0&&(e={});var r=tn(a),o=Dr(a);!r&&!o||a.em.log(n,{model:a,toUp:t,context:"symbols",opts:e})},je=function(a,n){n===void 0&&(n={});var t=a.changedAttributes()||{},e=t.attributes||{};if(delete t.status,delete t.open,delete t[Fr],delete t[ar],delete t[eo],delete t.attributes,delete e.id,(0,dt.isEmptyObj)(e)||(t.attributes=e),!(0,dt.isEmptyObj)(t)){var r=F(a,n);(0,R.keys)(t).map(function(o){gn(a,o)&&delete t[o]}),ee(a,"props",r,{opts:n,changed:t}),r.forEach(function(o){var l=Lr({},t);(0,R.keys)(l).map(function(f){gn(o,f)&&delete l[f]}),o.set(l,Lr({fromInstance:a},n))})}},Ye=function(a,n){n===void 0&&(n={});var t=F(a,n);ee(a,"classes",t,{opts:n}),t.forEach(function(e){e.set("classes",a.get("classes"),{fromInstance:a})}),a.__changesUp(n)},rr=function(a,n,t,e){var r=e||t||{},o=r.fromInstance,l=r.fromUndo,f={fromInstance:o,fromUndo:l},p=n.opt.temporary;if(e)if(e.add){var B=[],tt=!!Dr(a),v=F(a,Lr(Lr({},f),{changed:"components:add"}));if(v.length){var ut=tn(n);B=Dr(ut||n)||[],B=ir([],B,!0),B.push(ut||n)}!p&&ee(a,"add",v,{opts:e,addedInstances:B.map(function(ie){return ie.cid}),added:n.cid}),v.forEach(function(ie){var Ee=lt(ie),Fe=B.filter(function(pe){var Wn=lt(pe,{prev:1});return Ee&&Wn&&Wn===Ee})[0],ur=Fe||n.clone({symbol:!0,symbolInv:tt});ie.append(ur,Lr({fromInstance:a},e))})}else{var ct=tn(n);if(ct&&!e.temporary&&ct.set(Fr,Dr(ct).filter(function(Pe){return Pe!==n})),!Nr(n)&&!e.skipRefsUp){var Tt="components:remove",Nt=e.index,Ft=n.parent(),Qt=Lr({fromInstance:n},e),fe=Nr(n),Se=function(ie){var Ee=ie.parent();Ee&&!gn(Ee,Tt)&&ie.remove(Qt)},v=gn(Ft,Tt)?[]:F(n,f);fe&&(v=Ft&&F(Ft,Lr(Lr({},f),{changed:Tt})),Se=function(ie){var Ee=ie.components().at(Nt);Ee&&Ee.remove(Lr({fromInstance:Ft},Qt))}),!p&&ee(a,"remove",v,{opts:e,removed:n.cid,isSymbNested:fe}),v.forEach(Se)}}else{var h=n,v=F(a,Lr(Lr({},f),{changed:"components:reset"})),b=h.models,P=new Set;ee(a,"reset",v,{components:b}),v.forEach(function(Pe){var ie=Pe.components(),Ee=b.map(function(Fe,ur){return!yr(Fe)||P.has(Fe)?(P.add(Fe),Fe.clone({symbol:!0})):ie.at(ur)});ie.reset(Ee,Lr({fromInstance:a},t))})}a.__changesUp(r)},xe=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),br=function(){return br=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},br.apply(this,arguments)},bo=function(a,n){var t={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&n.indexOf(e)<0&&(t[e]=a[e]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(a);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(a,e[r])&&(t[e[r]]=a[e[r]]);return t},gi=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return a.concat(o||Array.prototype.slice.call(n))},cn=function(a,n){if(n===void 0&&(n=[]),!a)return[];var t=(0,R.isArray)(a)||(0,R.isFunction)(a.map)?a:[a];return t.map(function(e){n.push(e.getId()),cn(e.components().models,n)}),n},Gi=function(a,n,t){n===void 0&&(n={}),t===void 0&&(t={}),t.visitedCmps=t.visitedCmps||{};var e=t.visitedCmps,r=(0,R.isArray)(a)?a:[a];return r.map(function(o){var l=o.attributes,f=l===void 0?{}:l,p=o.components,h=o.tagName,v=o.style,b=f.id;f.draggable;var P=bo(f,["id","draggable"]),B=o;if(b){if(e[b])e[b].push(B),b=Kr.getNewId(n),B.attributes.id=b;else if(e[b]=[],n[b]){B=n[b];var tt=B;h&&tt.set({tagName:h},br(br({},t),{silent:!0})),(0,R.keys)(P).length&&tt.addAttributes(P,br({},t)),(0,R.keys)(v).length&&tt.addStyle(v,t)}}if(p){var ut=Gi(p,n);if((0,R.isFunction)(B.components)){var ct=B.components();ct.length>0&&ct.reset(ut,t)}else B.components=ut}return B})},Ma=function(a){xe(n,a);function n(t,e){var r=a.call(this,t,e)||this;r.opt=e,r.listenTo(r,"add",r.onAdd),r.listenTo(r,"remove",r.removeChildren),r.listenTo(r,"reset",r.resetChildren);var o=e.em,l=e.config;return r.config=l,r.em=o,r.domc=e.domc||(o==null?void 0:o.Components),r}return Object.defineProperty(n.prototype,"events",{get:function(){var t;return(t=this.domc)===null||t===void 0?void 0:t.events},enumerable:!1,configurable:!0}),n.prototype.resetChildren=function(t,e){var r=this;e===void 0&&(e={});var o=this,l=e.previousModels||[],f=l.filter(function(v){return!t.get(v.cid)}),p=cn(t),h=cn(l).filter(function(v){return p.indexOf(v)>=0});e.keepIds=(e.keepIds||[]).concat(h),f.forEach(function(v){return r.removeChildren(v,o,e)}),t.each(function(v){return r.onAdd(v)})},n.prototype.resetFromString=function(t,e){var r,o;t===void 0&&(t=""),e===void 0&&(e={}),e.keepIds=cn(this);var l=this,f=l.domc,p=l.em,h=l.parent,v=p==null?void 0:p.Css,b=(f==null?void 0:f.allById())||{},P=this.parseString(t,e),B=Gi(P,b,e),tt=e.visitedCmps,ut=tt===void 0?{}:tt;Object.keys(ut).forEach(function(ct){var Tt=ut[ct];if(Tt.length){var Nt=(v==null?void 0:v.getRules("#".concat(ct)))||[];Nt.length&&Tt.forEach(function(Ft){Nt.forEach(function(Qt){var fe=Qt.clone();fe.set("selectors",["#".concat(Ft.attributes.id)]),v.getAll().add(fe)})})}}),this.reset(B,e),p==null||p.trigger("component:content",h,e,t),(o=(r=h).__checkInnerChilds)===null||o===void 0||o.call(r)},n.prototype.removeChildren=function(t,e,r){var o=this;if(r===void 0&&(r={}),!!t){var l=this,f=l.domc,p=l.em,h=r.temporary||r.fromUndo;if(t.prevColl=this,!h){var v=t.getId(),b=p.Selectors.getAll(),P=p.Css.getAll(),B=(r.keepIds||[]).indexOf(v)<0,tt=f?f.allById():{};delete tt[v];var ut=B?P.remove(P.filter(function(Nt){return Nt.getSelectors().getFullString()==="#".concat(v)}),r):[];b.remove(ut.map(function(Nt){return Nt.getSelectors().at(0)})),t.opt.temporary||(p.Commands.run("core:component-style-clear",{target:t}),t.removed(),t.trigger("removed"),p.trigger(De.g.remove,t),f&&un(t)&&Nr(t)&&f.symbols.__trgEvent(f.events.symbolInstanceRemove,{component:t},!0));var ct=t.components();ct.forEach(function(Nt){rr(Nt,Nt,ct,br(br({},r),{skipRefsUp:!0})),o.removeChildren(Nt,e,r)})}var Tt=t.components();p.stopListening(Tt),p.stopListening(t),p.stopListening(t.get("classes")),t.__postRemove()}},n.prototype.model=function(t,e){var r=e.collection.opt,o=r.em,l,f=o.Components.componentTypes;e.em=o,e.config=r.config,e.componentTypes=f,e.domc=r.domc;for(var p=0;p<f.length;p++){var h=f[p].id;if(h==t.type){l=f[p].model;break}}return l||(l=f[f.length-1].model,o&&t.type&&o.logWarning("Component type '".concat(t.type,"' not found"),{attrs:t,options:e})),new l(t,e)},n.prototype.parseString=function(t,e){e===void 0&&(e={});var r=this,o=r.em,l=r.domc,f=r.parent,p=e.asDocument&&(f==null?void 0:f.is("wrapper")),h=o.Css,v=o.Parser.parseHtml(t,{asDocument:p}),b=v.html;if(p){var P=f,B=v.html||{},tt=B.components,ut=bo(B,["components"]),ct=v.head||{},Tt=ct.components,Nt=bo(ct,["components"]);b=tt,P.set(ut,e),P.head.set(Nt,e),P.head.components(Tt,e),P.docEl.set(v.root,e),P.set({doctype:v.doctype})}if(Kr.checkId(b,v.css,l.componentsById,e),v.css&&h&&!e.temporary){e.at;var Ft=bo(e,["at"]);h.addCollection(v.css,br(br({},Ft),{extend:1}))}return b},n.prototype.add=function(t,e){var r=this;if(e===void 0&&(e={}),t!=null){e.keepIds=gi(gi([],e.keepIds||[],!0),cn(e.previousModels),!0),(0,R.isString)(t)?t=this.parseString(t,e):(0,R.isArray)(t)&&t.forEach(function(l,f){if((0,R.isString)(l)){var p=r.parseString(l,e);t[f]=(0,R.isArray)(p)&&!p.length?null:p}});var o=((0,R.isArray)(t)?t:[t]).filter(Boolean).map(function(l){return r.processDef(l)});return t=(0,R.isArray)(t)?(0,R.flatten)(o,1):o[0],a.prototype.add.call(this,t,e)}},n.prototype.processDef=function(t){if(t.cid&&t.ccid)return t;var e=this,r=e.em,o=e.config,l=o===void 0?{}:o,f=l.processor,p=t;if(f){p=br({},p);var h=f(p);h&&((0,R.each)(p,function(ct,Tt){return delete p[Tt]}),(0,R.extend)(p,h))}if(p.$$typeof&&typeof p.props=="object"){p=br({},p),p.props=br({},p.props);var v=r.Components,b=r.Parser,P=b.parserHtml;(0,R.each)(p,function(ct,Tt){(0,R.includes)(["props","type"],Tt)||delete p[Tt]});var B=p.props,tt=B.children;delete B.children,delete p.props;var ut=P.splitPropsFromAttr(B);p.attributes=ut.attrs,tt&&(p.components=tt),p.type?v.getType(p.type)||(p.tagName=p.type,delete p.type):p.type="textnode",(0,R.extend)(p,ut.props)}return p},n.prototype.onAdd=function(t,e,r){r===void 0&&(r={});var o=this,l=o.domc,f=o.em,p=t.getStyle(),h=f&&f.getConfig().avoidInlineStyle;if(l&&l.Component.ensureInList(t),!(0,R.isEmpty)(p)&&!h&&f&&f.getConfig().forceClass&&!r.temporary){var v=t.cid;f.Css.setClassRule(v,p),t.setStyle({}),t.addClass(v)}if(t.__postAdd({recursive:!0}),f&&!r.temporary){var b=function(P){f.trigger(De.g.add,P,r),P.components().forEach(function(B){return b(B)})};b(t),l&&un(t)&&Nr(t)&&l.symbols.__trgEvent(l.events.symbolInstanceAdd,{component:t},!0)}},n}(m.FE);const Qn=Ma;var Ki=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),jo=1,Io=2,mi=function(a){Ki(n,a);function n(t,e){e===void 0&&(e={});var r=a.call(this,t,e)||this,o=e.config,l=o===void 0?{}:o,f=r.get("name"),p=r.get("label");f?p||r.set("label",f):r.set("name",p);var h=r.get("name"),v=l.escapeName,b=v?v(h):n.escapeName(h);return r.set("name",b),r.em=e.em,r}return n.prototype.defaults=function(){return{name:"",label:"",type:jo,active:!0,private:!1,protected:!1,_undo:!0}},n.prototype.isId=function(){return this.get("type")===Io},n.prototype.isClass=function(){return this.get("type")===jo},n.prototype.getFullName=function(t){t===void 0&&(t={});var e=t.escape,r=this.get("name"),o="";switch(this.get("type")){case jo:o=".";break;case Io:o="#";break}return o+(e?e(r):r)},n.prototype.toString=function(){return this.getFullName()},n.prototype.getName=function(){return this.get("name")||""},n.prototype.getLabel=function(){return this.get("label")||""},n.prototype.setLabel=function(t){return this.set("label",t)},n.prototype.getActive=function(){return!!this.get("active")},n.prototype.setActive=function(t){return this.set("active",t)},n.prototype.toJSON=function(t){t===void 0&&(t={});var e=this.em,r=m.Hn.prototype.toJSON.call(this,[t]),o=(0,R.result)(this,"defaults");if(e&&e.getConfig().avoidDefaults){(0,R.forEach)(o,function(f,p){r[p]===f&&delete r[p]}),r.label===r.name&&delete r.label;var l=(0,R.keys)(r).length;l===1&&r.name&&(r=r.name),l===2&&r.name&&r.type&&(r=this.getFullName())}return r},n.escapeName=function(t){return"".concat(t).trim().replace(/([^a-z0-9\w\-\\:@\\/#()\.%\+\[\]]+)/gi,"-")},n.TYPE_CLASS=jo,n.TYPE_ID=Io,n}(m.Hn);const jr=mi;mi.prototype.idAttribute="name";var $i=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),fn=function(a,n){return a.reduce(function(t,e,r){return t.concat(fn(a.slice(r+1),"".concat(n).concat(e)))},[n])},fo=function(a){$i(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.modelId=function(t){return"".concat(t.name,"_").concat(t.type||jr.TYPE_CLASS)},n.prototype.getStyleable=function(){return(0,R.filter)(this.models,function(t){return t.getActive()&&!t.get("private")})},n.prototype.getValid=function(t){var e=t===void 0?{}:t,r=e.noDisabled;return(0,R.filter)(this.models,function(o){return!o.get("private")}).filter(function(o){return r?o.get("active"):1})},n.prototype.getFullString=function(t,e){e===void 0&&(e={});var r=[],o=t||this;return o.forEach(function(l){return r.push(l.getFullName(e))}),e.sort&&r.sort(),r.join("").trim()},n.prototype.getFullName=function(t){t===void 0&&(t={});var e=t.combination,r=t.array,o=[],l=this.map(function(f){return f.getFullName(t)}).sort();return e?l.forEach(function(f,p){o=o.concat(fn(l.slice(p+1),f))}):o=l,r?o:e?o.join(","):o.join("")},n}(m.FE);const to=fo;fo.prototype.model=jr;var La=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ln=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return a.concat(o||Array.prototype.slice.call(n))},Ps=function(a){La(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.defaults=function(){return{id:"",label:"",open:!0,attributes:{}}},n.prototype.getId=function(){return this.get("id")},n.prototype.getLabel=function(){return this.get("label")},n}(m.Hn);const Vo=Ps;function Ro(a){var n=new Set,t=new Map,e={items:[]};a.forEach(function(o){var l=o.category;if(l){n.add(l);var f=t.get(l);f?f.push(o):t.set(l,[o])}else e.items.push(o)});var r=Array.from(n).map(function(o){return{category:o,items:t.get(o)||[]}});return Ln(Ln([],r,!0),[e],!1)}var No=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),yi="category",Da=function(a){No(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.initCategory=function(t){var e=t.get(yi),r=e instanceof Vo;if(e&&!r){(0,R.isString)(e)?e={id:e,label:e}:(0,dt.isObject)(e)&&!e.id&&(e.id=e.label);var o=this.getCategories().add(e);return t.set(yi,o,{silent:!0}),o}else if(r){var o=e;return this.getCategories().add(o),o}},n}(m.FE),ks=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),qi=function(a){ks(n,a);function n(t,e){e===void 0&&(e={});var r=a.call(this,t,e)||this,o=e.events,l=e.em,f=o==null?void 0:o.update;return l&&f&&r.on("change",function(p,h){return l.trigger(f,{category:p,changes:p.changedAttributes(),options:h})}),r}return n.prototype.add=function(t,e){var r=(0,R.isArray)(t)?t:[t];return r.forEach(function(o){return o&&(o.id=(0,dt.normalizeKey)("".concat(o.id)))}),a.prototype.add.call(this,t,e)},n.prototype.get=function(t){return a.prototype.get.call(this,(0,R.isString)(t)?(0,dt.normalizeKey)(t):t)},n}(m.FE);const _o=qi;qi.prototype.model=Vo;var xo;(function(a){a.select="trait:select",a.value="trait:value",a.categoryUpdate="trait:category:update",a.custom="trait:custom",a.all="trait"})(xo||(xo={}));const Zi=xo;var wi=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Co=function(){return Co=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Co.apply(this,arguments)},Fo=function(a){wi(n,a);function n(t,e){var r=a.call(this,t)||this,o=r.attributes,l=o.target,f=o.name;return!r.get("id")&&r.set("id",f),l&&r.setTarget(l),r.em=e,r}return n.prototype.defaults=function(){return{type:"text",label:"",name:"",unit:"",step:1,value:"",default:"",placeholder:"",category:"",changeProp:!1,options:[]}},Object.defineProperty(n.prototype,"parent",{get:function(){return this.collection},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"category",{get:function(){var t=this.get("category");return t instanceof Vo?t:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"component",{get:function(){return this.target},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"changeProp",{get:function(){return!!this.get("changeProp")},enumerable:!1,configurable:!0}),n.prototype.setTarget=function(t){if(t){var e=this.attributes,r=e.name,o=e.changeProp,l=e.value,f=e.getValue;this.target=t,this.unset("target");var p=o?"change:".concat(r):"change:attributes:".concat(r);this.listenTo(t,p,this.targetUpdated);var h=l||(f?void 0:this.getValue());!(0,R.isUndefined)(h)&&this.set({value:h},{silent:!0})}},n.prototype.getId=function(){return this.get("id")},n.prototype.getType=function(){return this.get("type")},n.prototype.getName=function(){return this.get("name")},n.prototype.getLabel=function(t){var e;t===void 0&&(t={});var r=t.locale,o=r===void 0?!0:r,l=this.getId(),f=this.get("label")||this.getName();return o&&((e=this.em)===null||e===void 0?void 0:e.t("traitManager.traits.labels.".concat(l)))||f},n.prototype.getValue=function(t){return this.getTargetValue(t)},n.prototype.setValue=function(t,e){var r=this;e===void 0&&(e={});var o=this,l=o.component,f=o.em,p=e.partial,h={},v=this.attributes.setValue;if(v){v({value:t,component:l,editor:f==null?void 0:f.getEditor(),trait:this,partial:!!p,options:e,emitUpdate:function(){return r.targetUpdated()}});return}p&&(h.avoidStore=!0),this.setTargetValue(t,h)},n.prototype.getDefault=function(){return this.get("default")},n.prototype.getOptions=function(){return this.get("options")||[]},n.prototype.getOption=function(t){var e=this,r=(0,dt.isDef)(t)?t:this.getValue();return this.getOptions().filter(function(o){return e.getOptionId(o)===r})[0]},n.prototype.getOptionId=function(t){return t.id||t.value},n.prototype.getOptionLabel=function(t,e){var r;e===void 0&&(e={});var o=e.locale,l=o===void 0?!0:o,f=(0,R.isString)(t)?this.getOption(t):t,p=this.getOptionId(f),h=f.label||f.name||p,v=this.getName();return l&&((r=this.em)===null||r===void 0?void 0:r.t("traitManager.traits.options.".concat(v,".").concat(p)))||h},n.prototype.getCategoryLabel=function(t){t===void 0&&(t={});var e=this,r=e.em,o=e.category,l=t.locale,f=l===void 0?!0:l,p=o==null?void 0:o.getId(),h=o==null?void 0:o.getLabel();return f&&(r==null?void 0:r.t("traitManager.categories.".concat(p)))||h||""},n.prototype.runCommand=function(){var t=this.em,e=this.attributes.command;if(e&&t)return(0,R.isString)(e)?t.Commands.run(e):e(t.Editor,this)},n.prototype.props=function(){return this.attributes},n.prototype.targetUpdated=function(){var t=this,e=t.component,r=t.em,o=this.getTargetValue({useType:!0});this.set({value:o},{fromTarget:1});var l={trait:this,component:e,value:o};e.trigger(Zi.value,l),r==null||r.trigger(Zi.value,l),r==null||r.trigger("trait:update",l)},n.prototype.getTargetValue=function(t){t===void 0&&(t={});var e=this,r=e.component,o=e.em,l=this.getName(),f=this.get("getValue"),p;if(f?p=f({editor:o==null?void 0:o.getEditor(),trait:this,component:r}):this.changeProp?p=r.get(l):p=r.getAttributes()[l],t.useType){var h=this.getType();if(h==="checkbox"){var v=this.attributes,b=v.valueTrue,P=v.valueFalse;!(0,R.isUndefined)(b)&&b===p?p=!0:!(0,R.isUndefined)(P)&&P===p&&(p=!1)}}return(0,R.isUndefined)(p)?"":p},n.prototype.setTargetValue=function(t,e){var r;e===void 0&&(e={});var o=this,l=o.component,f=o.attributes,p=this.getName();if(!(0,R.isUndefined)(t)){var h=t;if(t==="false"?h=!1:t==="true"&&(h=!0),this.getType()==="checkbox"){var v=f.valueTrue,b=f.valueFalse;h&&!(0,R.isUndefined)(v)&&(h=v),!h&&!(0,R.isUndefined)(b)&&(h=b)}var P=(r={},r[p]=h,r);P.__p=e.avoidStore?null:void 0,this.changeProp?l.set(P,e):l.addAttributes(P,e)}},n.prototype.setValueFromInput=function(t,e,r){e===void 0&&(e=!0),r===void 0&&(r={});var o={value:t};this.set(o,Co(Co({},r),{avoidStore:1})),e&&(this.set("value","",r),this.set(o,r))},n.prototype.getInitValue=function(){var t=this.component,e=this.getName(),r;if(t){var o=t.get("attributes");r=this.changeProp?t.get(e):o[e]}return r||this.get("value")||this.get("default")},n}(m.Hn);const po=Fo;var bi=function(){function a(n){n===void 0&&(n={}),this.config=n}return a.prototype.build=function(n,t){return(0,R.isString)(n)?this.buildFromString(n,t):new po(n,t)},a.prototype.buildFromString=function(n,t){var e={name:n,type:"text"};switch(n){case"target":e.type="select",e.default=!1,e.options=this.config.optionsTarget;break}return new po(e,t)},a}();const ja=bi;var Ho=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),_i=function(a){Ho(n,a);function n(t,e){var r=a.call(this,t)||this;r.categories=new _o;var o=e.em;r.em=o,r.categories=new _o([],{em:o,events:{update:Zi.categoryUpdate}}),r.on("add",r.handleAdd),r.on("reset",r.handleReset);var l=r.module,f=l==null?void 0:l.getConfig();return r.tf=new ja(f),r}return Object.defineProperty(n.prototype,"module",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),n.prototype.getCategories=function(){return this.categories},n.prototype.handleReset=function(t,e){var r=e===void 0?{}:e,o=r.previousModels,l=o===void 0?[]:o;l.forEach(function(f){return f.trigger("remove")})},n.prototype.handleAdd=function(t){t.em=this.em;var e=this.target;e&&(t.target=e),this.initCategory(t)},n.prototype.setTarget=function(t){this.target=t,this.models.forEach(function(e){return e.setTarget(t)})},n.prototype.add=function(t,e){if(t!=null){var r=this,o=r.target,l=r.em;if((0,R.isArray)(t)){for(var f=[],p=0,h=t.length;p<h;p++){var v=t[p];f[p]=v instanceof po?v:this.tf.build(v,l),f[p].setTarget(o)}return a.prototype.add.call(this,f,e)}var b=t instanceof po?t:this.tf.build(t,l);return b.setTarget(o),a.prototype.add.call(this,b,e)}},n}(Da);const mn=_i;var Zn=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Xe=function(){return Xe=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Xe.apply(this,arguments)},Bo=function(a,n){var t={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&n.indexOf(e)<0&&(t[e]=a[e]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(a);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(a,e[r])&&(t[e[r]]=a[e[r]]);return t},yn=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return a.concat(o||Array.prototype.slice.call(n))},Rn=function(a){return a.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")},So=function(a){return!!(a!=null&&a.getConfig().avoidInlineStyle)},Tn="component:drag",Fr="__symbols",ar="__symbol",eo="__symbol_ovrd",ro=De.g.update,no=De.g.updateInside,Ia=function(a){Zn(n,a);function n(t,e){t===void 0&&(t={});var r=a.call(this,t,e)||this;(0,R.bindAll)(r,"__upSymbProps","__upSymbCls","__upSymbComps");var o=e.em,l=r.parent(),f=l==null?void 0:l.attributes,p=r.get("propagate");if(p&&r.set("propagate",(0,R.isArray)(p)?p:[p]),f&&f.propagate&&!p){var h={},v=f.propagate;v.forEach(function(ut){return h[ut]=l.get(ut)}),h.propagate=v,r.set(Xe(Xe({},h),t))}if(e&&e.config&&e.config.voidElements.indexOf(r.get("tagName"))>=0&&r.set("void",!0),e.em=o,r.opt=e,r.em=o,r.frame=e.frame,r.config=e.config||{},r.set("attributes",Xe(Xe({},(0,R.result)(r,"defaults").attributes||{}),r.get("attributes")||{})),r.ccid=n.createId(r,e),r.initClasses(),r.initComponents(),r.initTraits(),r.initToolbar(),r.initScriptProps(),r.listenTo(r,"change:script",r.scriptUpdated),r.listenTo(r,"change:tagName",r.tagUpdated),r.listenTo(r,"change:attributes",r.attrUpdated),r.listenTo(r,"change:attributes:id",r._idUpdated),r.on("change:toolbar",r.__emitUpdateTlb),r.on("change",r.__onChange),r.on(no,r.__propToParent),r.set("status",""),r.views=[],["classes","traits","components"].forEach(function(ut){var ct="add remove ".concat(ut!=="components"?"change":"");r.listenTo(r.get(ut),ct.trim(),function(){for(var Tt=[],Nt=0;Nt<arguments.length;Nt++)Tt[Nt]=arguments[Nt];return r.emitUpdate.apply(r,yn([ut],Tt,!1))})}),!e.temporary){var b=o&&o.Css,P=r.attributes,B=P.styles,tt=P.type;B&&b&&b.addCollection(B,{avoidUpdateStyle:!0},{group:"cmp:".concat(tt)}),r.__postAdd(),r.init(),yr(r)&&Ze(r),o==null||o.trigger(De.g.create,r,e)}return r}return Object.defineProperty(n.prototype,"defaults",{get:function(){var t;return t={tagName:"div",type:"",name:"",removable:!0,draggable:!0,droppable:!0,badgable:!0,stylable:!0,"stylable-require":"","style-signature":"",unstylable:"",highlightable:!0,copyable:!0,resizable:!1,editable:!1,layerable:!0,selectable:!0,hoverable:!0,void:!1,state:"",status:"",content:"",icon:"",style:"",styles:"",classes:"",script:"","script-props":"","script-export":"",attributes:{},traits:["id","title"],propagate:"",dmode:"",toolbar:null,delegate:null},t[ar]=0,t[Fr]=0,t[eo]=0,t._undo=!0,t._undoexc=["status","open"],t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"tagName",{get:function(){return this.get("tagName")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"classes",{get:function(){return this.get("classes")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"traits",{get:function(){return this.get("traits")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"content",{get:function(){var t;return(t=this.get("content"))!==null&&t!==void 0?t:""},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"toolbar",{get:function(){return this.get("toolbar")||[]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"resizable",{get:function(){return this.get("resizable")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"delegate",{get:function(){return this.get("delegate")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"locked",{get:function(){return this.get("locked")},enumerable:!1,configurable:!0}),n.prototype.init=function(){},n.prototype.updated=function(t,e,r){},n.prototype.removed=function(){},n.prototype.__postAdd=function(t){t===void 0&&(t={});var e=this.em,r=e==null?void 0:e.UndoManager,o=this.components();r&&!this.__hasUm&&(r.add(o),r.add(this.getSelectors()),this.__hasUm=!0),t.recursive&&o.map(function(l){return l.__postAdd(t)})},n.prototype.__postRemove=function(){var t=this.em,e=t==null?void 0:t.UndoManager;e&&(e.remove(this.components()),e.remove(this.getSelectors()),delete this.__hasUm)},n.prototype.__onChange=function(t,e){var r=this,o=this.changedAttributes()||{};(0,R.keys)(o).forEach(function(l){return r.emitUpdate(l)}),["status","open","toolbar","traits"].forEach(function(l){return delete o[l]}),(0,dt.isEmptyObj)(o)||(this.__changesUp(e),this.__propSelfToParent({component:this,changed:o,options:e}))},n.prototype.__onStyleChange=function(t){var e=this,r=this.em;if(r){var o="component:styleUpdate",l=(0,R.keys)(t),f={style:t};r.trigger(o,this,f),l.forEach(function(p){return r.trigger("".concat(o,":").concat(p),e,f)})}},n.prototype.__changesUp=function(t){var e=this,r=e.em,o=e.frame;[o,r].forEach(function(l){return l&&l.changesUp(t)})},n.prototype.__propSelfToParent=function(t){this.trigger(ro,t),this.__propToParent(t)},n.prototype.__propToParent=function(t){var e=this.parent();e&&e.trigger(no,t)},n.prototype.__emitUpdateTlb=function(){this.emitUpdate("toolbar")},n.prototype.__getAllById=function(){var t=this.em;return t?t.Components.allById():{}},n.prototype.__upSymbProps=function(t,e){e===void 0&&(e={}),je(this,e)},n.prototype.__upSymbCls=function(t,e,r){r===void 0&&(r={}),Ye(this,r)},n.prototype.__upSymbComps=function(t,e,r){rr(this,t,e,r)},n.prototype.is=function(t){return this.get("type")==t},n.prototype.props=function(){return this.attributes},n.prototype.index=function(){var t=this.collection;return t?t.indexOf(this):0},n.prototype.setDragMode=function(t){return this.set("dmode",t)},n.prototype.getDragMode=function(){return this.get("dmode")||""},n.prototype.setSymbolOverride=function(t){var e;this.set(eo,(e=(0,R.isString)(t)?[t]:t)!==null&&e!==void 0?e:0)},n.prototype.getSymbolOverride=function(){return this.get(eo)},n.prototype.find=function(t){var e,r=[],o=(e=this.view)===null||e===void 0?void 0:e.$el.find(t);return o==null||o.each(function(l){var f=o.eq(l),p=f.data("model");p&&r.push(p)}),r},n.prototype.findType=function(t){var e=[],r=function(o){return o.forEach(function(l){l.is(t)&&e.push(l),r(l.components())})};return r(this.components()),e},n.prototype.closest=function(t){var e,r=(e=this.view)===null||e===void 0?void 0:e.$el.closest(t);return r!=null&&r.length?r.data("model"):void 0},n.prototype.closestType=function(t){for(var e=this.parent();e&&!e.is(t);)e=e.parent();return e},n.prototype.contains=function(t){var e=!1;if(!t)return e;var r=function(o){!e&&o.forEach(function(l){l===t&&(e=!0),!e&&r(l.components())})};return r(this.components()),e},n.prototype.tagUpdated=function(){this.trigger("rerender")},n.prototype.replaceWith=function(t,e){e===void 0&&(e={});var r=this.collection,o=r.indexOf(this);r.remove(this);var l=r.add(t,Xe(Xe({},e),{at:o}));return(0,R.isArray)(l)?l:[l]},n.prototype.attrUpdated=function(t,e,r){var o=this;r===void 0&&(r={});var l=this.get("attributes"),f=l.class;f&&this.setClass(f),delete l.class;var p=l.style;p&&this.setStyle(p,r),delete l.style;var h=Xe({},this.previous("attributes")),v=(0,dt.shallowDiff)(h,this.get("attributes"));(0,R.keys)(v).forEach(function(b){var P,B="attributes:".concat(b);o.trigger("change:".concat(B),o,v[b],r),(P=o.em)===null||P===void 0||P.trigger("".concat(ro,":").concat(B),o,v[b],r)})},n.prototype.setAttributes=function(t,e){return e===void 0&&(e={}),this.set("attributes",Xe({},t),e),this},n.prototype.addAttributes=function(t,e){return e===void 0&&(e={}),this.setAttributes(Xe(Xe({},this.getAttributes({noClass:!0})),t),e)},n.prototype.removeAttributes=function(t,e){t===void 0&&(t=[]),e===void 0&&(e={});var r=Array.isArray(t)?t:[t],o=this.getAttributes();return r.map(function(l){return delete o[l]}),this.setAttributes(o,e)},n.prototype.getStyle=function(t,e){t===void 0&&(t={}),e===void 0&&(e={});var r=this.em,o=(0,R.isString)(t)?t:"",l=o?e:t;if(So(r)&&!l.inline){var f=r.get("state"),p=r.Css,h=p.getIdRule(this.getId(),Xe({state:f},l));return this.rule=h,h?h.getStyle(o):{}}return a.prototype.getStyle.call(this,o)},n.prototype.setStyle=function(t,e){var r=this;t===void 0&&(t={}),e===void 0&&(e={});var o=this,l=o.opt,f=o.em;if(So(f)&&!l.temporary&&!e.inline){var p=this.get("style")||{};t=(0,R.isString)(t)?this.parseStyle(t):t,t=Xe(Xe({},t),p);var h=f.get("state"),v=f.Css,b=this.getStyle(e);this.rule=v.setIdRule(this.getId(),t,Xe({state:h},e));var P=(0,dt.shallowDiff)(b,t);this.set("style","",{silent:!0}),(0,R.keys)(P).forEach(function(B){return r.trigger("change:style:".concat(B))})}else t=a.prototype.setStyle.apply(this,arguments);return l.temporary||this.__onStyleChange(e.addStyle||t),t},n.prototype.getAttributes=function(t){t===void 0&&(t={});var e=this.em,r=[],o=Xe({},this.get("attributes")),l=e==null?void 0:e.Selectors,f=this.getId();if(t.noClass?delete o.class:(this.classes.forEach(function(v){return r.push((0,R.isString)(v)?v:v.getName())}),r.length&&(o.class=r.join(" "))),!t.noStyle){var p=this.getStyle({inline:!0});(0,dt.isObject)(p)&&!(0,dt.isEmptyObj)(p)&&(o.style=this.styleToString({inline:!0}))}if(!(0,R.has)(o,"id")){var h=!1;(So(e)||!(0,R.isEmpty)(this.getStyle()))&&(h=!!(l!=null&&l.get(f,l.Selector.TYPE_ID))),(yr(this)||this.get("script-export")||this.get("script"))&&(h=!0),h&&(o.id=f)}return o},n.prototype.addClass=function(t){var e=this.em.Selectors.addClass(t);return this.classes.add(e)},n.prototype.setClass=function(t){return this.classes.reset(),this.addClass(t)},n.prototype.removeClass=function(t){var e=[];t=(0,R.isArray)(t)?t:[t];var r=this.classes,o=jr.TYPE_CLASS;return t.forEach(function(l){var f=l.split(" ");f.forEach(function(p){var h=r.where({name:p,type:o})[0];h&&e.push(r.remove(h))})}),e},n.prototype.getClasses=function(){var t=this.getAttributes(),e=t.class;return e?e.split(" "):[]},n.prototype.initClasses=function(t,e,r){r===void 0&&(r={});var o="change:classes",l=this.get("attributes")||{},f=l.class,p=Bo(l,["class"]),h=[this,o,this.initClasses],v=this.get("classes")||f||[],b=(0,R.isString)(v)?v.split(" "):v;this.stopListening.apply(this,h);var P=this.normalizeClasses(b),B=new to([]);return this.set("classes",B,r),B.add(P),B.on("add remove reset",this.__upSymbCls),f&&P.length&&this.set("attributes",p),this.listenTo.apply(this,h),this},n.prototype.initComponents=function(){var t="change:components",e=[this,t,this.initComponents];this.stopListening.apply(this,e);var r=new Qn([],this.opt);r.parent=this;var o=this.get("components"),l=!this.opt.avoidChildren;return this.set("components",r),l&&o&&r.add((0,R.isFunction)(o)?o(this):o,this.opt),r.on("add remove reset",this.__upSymbComps),this.listenTo.apply(this,e),this},n.prototype.initTraits=function(t){var e=this.em,r="change:traits";this.off(r,this.initTraits),this.__loadTraits();var o=Xe({},this.get("attributes")),l=this.traits;return l.each(function(f){if(!f.changeProp){var p=f.getName(),h=f.getInitValue();p&&h&&(o[p]=h)}}),l.length&&this.set("attributes",o),this.on(r,this.initTraits),t&&e&&e.trigger("component:toggled"),this},n.prototype.initScriptProps=function(){if(!this.opt.temporary){var t="script-props",e=["change:".concat(t),this.initScriptProps];this.off.apply(this,e);var r=this.previous(t)||[],o=this.get(t)||[],l=r.map(function(p){return"change:".concat(p)}).join(" "),f=o.map(function(p){return"change:".concat(p)}).join(" ");l&&this.off(l,this.__scriptPropsChange),f&&this.on(f,this.__scriptPropsChange),this.on.apply(this,e)}},n.prototype.__scriptPropsChange=function(t,e,r){r===void 0&&(r={}),!r.avoidStore&&this.trigger("rerender")},n.prototype.append=function(t,e){e===void 0&&(e={});var r=(0,R.isArray)(t)?yn([],t,!0):[t],o=r.map(function(f){return(0,R.isString)(f)||f.collection&&f.collection.remove(f,{temporary:!0}),f}),l=this.components().add(o,Xe({action:De.W.add},e));return(0,R.isArray)(l)?l:[l]},n.prototype.components=function(t,e){e===void 0&&(e={});var r=this.get("components");return(0,R.isUndefined)(t)?r:(r.reset(void 0,e),t?this.append(t,e):[])},n.prototype.getChildAt=function(t){return this.components().at(t||0)||void 0},n.prototype.getLastChild=function(){var t=this.components();return t.at(t.length-1)||null},n.prototype.empty=function(t){return t===void 0&&(t={}),this.components().reset(void 0,t),this},n.prototype.parent=function(t){t===void 0&&(t={});var e=this.collection||t.prev&&this.prevColl;return e?e.parent:void 0},n.prototype.parents=function(){var t=this.parent();return t?[t].concat(t.parents()):[]},n.prototype.scriptUpdated=function(){this.set("scriptUpdated",1)},n.prototype.initToolbar=function(){var t=this.em,e=this,r=t&&t.getConfig().stylePrefix||"";if(!e.get("toolbar")&&t){var o=[];e.collection&&o.push({label:t.getIcon("arrowUp"),command:function(l){return l.runCommand("core:component-exit",{force:1})}}),e.get("draggable")&&o.push({attributes:{class:"".concat(r,"no-touch-actions"),draggable:!0},label:t.getIcon("move"),command:"tlb-move"}),e.get("copyable")&&o.push({label:t.getIcon("copy"),command:"tlb-clone"}),e.get("removable")&&o.push({label:t.getIcon("delete"),command:"tlb-delete"}),e.set("toolbar",o)}},n.prototype.__loadTraits=function(t,e){e===void 0&&(e={});var r=t||this.traits;if(!(r instanceof mn)){r=(0,R.isFunction)(r)?r(this):r;var o=new mn([],this.opt);o.setTarget(this),r.length&&(r.forEach(function(l){return l.attributes&&delete l.attributes.value}),o.add(r)),this.set({traits:o},e)}return this},n.prototype.getTraits=function(){return this.__loadTraits(),yn([],this.traits.models,!0)},n.prototype.setTraits=function(t){var e=(0,R.isArray)(t)?t:[t];return this.set({traits:e}),this.getTraits()},n.prototype.getTrait=function(t){return this.getTraits().filter(function(e){return e.get("id")===t||e.get("name")===t})[0]||null},n.prototype.updateTrait=function(t,e){var r,o=this.getTrait(t);return o&&o.set(e),(r=this.em)===null||r===void 0||r.trigger("component:toggled"),this},n.prototype.getTraitIndex=function(t){var e=this.getTrait(t);return e?this.traits.indexOf(e):-1},n.prototype.removeTrait=function(t){var e=this,r,o=(0,R.isArray)(t)?t:[t],l=o.map(function(h){return e.getTrait(h)}),f=this.traits,p=l.length?f.remove(l):[];return(r=this.em)===null||r===void 0||r.trigger("component:toggled"),(0,R.isArray)(p)?p:[p]},n.prototype.addTrait=function(t,e){var r;e===void 0&&(e={}),this.__loadTraits();var o=this.traits.add(t,e);return(r=this.em)===null||r===void 0||r.trigger("component:toggled"),(0,R.isArray)(o)?o:[o]},n.prototype.normalizeClasses=function(t){var e=[],r=this.em,o=r==null?void 0:r.Selectors;return o?t.models?yn([],t.models,!0):(t.forEach(function(l){return e.push(o.add(l))}),e):[]},n.prototype.clone=function(t){t===void 0&&(t={});var e=this.em,r=Xe({},this.attributes),o=Xe({},this.opt),l=this.getId(),f=e==null?void 0:e.Css;r.attributes=Xe({},r.attributes),delete r.attributes.id,r.components=[],r.classes=[],r.traits=[],Nr(this)&&(t.symbol=!0),this.get("components").each(function(tt,ut){r.components[ut]=tt.clone(Xe(Xe({},t),{_inner:1}))}),this.get("traits").each(function(tt,ut){r.traits[ut]=tt.clone()}),this.get("classes").each(function(tt,ut){r.classes[ut]=tt.get("name")}),r.status="",o.collection=null;var p=new this.constructor(r,o),h="#".concat(p.getId()),v=f?f.getRules("#".concat(l)):[];v.forEach(function(tt){var ut=tt.clone();ut.set("selectors",[h]),f.getAll().add(ut)}),p.set(Fr,0);var b=tn(this),P=Dr(this);!t.symbol&&(b||P)?(p.set(ar,0),p.set(Fr,0)):b?(b.set(Fr,yn(yn([],Dr(b),!0),[p],!1)),Ze(p)):t.symbol&&(be(this)?(this.set(Fr,yn(yn([],P,!0),[p],!1)),p.set(ar,this),Ze(p)):t.symbolInv?(this.set(Fr,[p]),p.set(ar,this),[this,p].map(function(tt){return Ze(tt)})):(p.set(Fr,[this]),[this,p].map(function(tt){return Ze(tt)}),this.set(ar,p)));var B="component:clone";return e&&e.trigger(B,p),this.trigger(B,p),p},n.prototype.getName=function(t){t===void 0&&(t={});var e=this.em,r=this.attributes,o=r.type,l=r.tagName,f=r.name,p=o||l,h=o?"":l,v="domComponents.names.",b=f&&(e==null?void 0:e.t("".concat(v).concat(f))),P=h&&(e==null?void 0:e.t("".concat(v).concat(h))),B=e&&(e.t("".concat(v).concat(o))||e.t("".concat(v).concat(l))),tt=this.get("custom-name");return(t.noCustom?"":tt)||b||f||P||(0,dt.capitalize)(h)||B||(0,dt.capitalize)(p)},n.prototype.setName=function(t,e){e===void 0&&(e={}),this.set("custom-name",t,e)},n.prototype.getIcon=function(){var t=this.get("icon");return t?t+" ":""},n.prototype.toHTML=function(t){t===void 0&&(t={});var e=this,r=[],o=t.tag,l=o||e.get("tagName"),f=e.get("void"),p=t.attributes,h=this.getAttrToHTML(t);if(delete t.tag,p&&((0,R.isFunction)(p)?h=p(e,h)||{}:(0,dt.isObject)(p)&&(h=p)),t.withProps){var v=this.toJSON();(0,R.forEach)(v,function(Nt,Ft){var Qt=["classes","attributes","components"];Ft[0]!=="_"&&Qt.indexOf(Ft)<0&&(h["data-gjs-".concat(Ft)]=(0,R.isArray)(Nt)||(0,dt.isObject)(Nt)?JSON.stringify(Nt):(0,R.isBoolean)(Nt)?"".concat(Nt):Nt)})}for(var b in h){var P=h[b];if(!(0,R.isUndefined)(P)&&P!==null)if((0,R.isBoolean)(P))P&&r.push(b);else{var B="";if(t.altQuoteAttr&&(0,R.isString)(P)&&P.indexOf('"')>=0)B="'".concat(P.replace(/'/g,"&apos;"),"'");else{var tt=(0,R.isString)(P)?P.replace(/"/g,"&quot;"):P;B='"'.concat(tt,'"')}r.push("".concat(b,"=").concat(B))}}var ut=r.length?" ".concat(r.join(" ")):"",ct=e.getInnerHTML(t),Tt="<".concat(l).concat(ut).concat(f?"/":"",">").concat(ct);return!f&&(Tt+="</".concat(l,">")),Tt},n.prototype.getInnerHTML=function(t){return this.__innerHTML(t)},n.prototype.__innerHTML=function(t){t===void 0&&(t={});var e=this.components();return e.length?e.map(function(r){return r.toHTML(t)}).join(""):this.content},n.prototype.getAttrToHTML=function(t){var e=this.getAttributes();return So(this.em)&&(t==null?void 0:t.keepInlineStyle)!==!0&&delete e.style,e},n.prototype.toJSON=function(t){t===void 0&&(t={});var e=ot.Model.prototype.toJSON.call(this,t);if(e.attributes=this.getAttributes(),delete e.attributes.class,delete e.toolbar,delete e.traits,delete e.status,delete e.open,delete e._undoexc,delete e.delegate,!t.fromUndo){var r=e[ar],o=e[Fr];o&&(0,R.isArray)(o)&&(e[Fr]=o.filter(function(l){return l}).map(function(l){return l.getId?l.getId():l})),r&&!(0,R.isString)(r)&&(e[ar]=r.getId())}return this.em.getConfig().avoidDefaults&&this.getChangedProps(e),e},n.prototype.getChangedProps=function(t){var e=t||ot.Model.prototype.toJSON.apply(this),r=(0,R.result)(this,"defaults");return(0,R.forEach)(r,function(o,l){["type"].indexOf(l)===-1&&e[l]===o&&delete e[l]}),(0,R.isEmpty)(e.type)&&delete e.type,(0,R.forEach)(["attributes","style"],function(o){(0,R.isEmpty)(r[o])&&(0,R.isEmpty)(e[o])&&delete e[o]}),(0,R.forEach)(["classes","components"],function(o){(!e[o]||(0,R.isEmpty)(r[o])&&!e[o].length)&&delete e[o]}),e},n.prototype.getId=function(){var t=this.get("attributes")||{};return t.id||this.ccid||this.cid},n.prototype.setId=function(t,e){var r=Xe({},this.get("attributes"));return r.id=t,this.set("attributes",r,e),this},n.prototype.getEl=function(t){var e=this.getView(t);return e&&e.el},n.prototype.getView=function(t){var e=this,r=e.view,o=e.views,l=e.em,f=t||(l==null?void 0:l.getCurrentFrameModel());return f&&(r=o.filter(function(p){return p.frameView===f.view})[0]),r},n.prototype.getCurrentView=function(){var t=this.em.getCurrentFrame(),e=t==null?void 0:t.model;return this.getView(e)},n.prototype.__getScriptProps=function(){var t=this.props(),e=this.get("script-props")||[];return e.reduce(function(r,o){return r[o]=t[o],r},{})},n.prototype.getScriptString=function(t){var e=this,r=t||this.get("script")||"";if(!r)return r;if(this.get("script-props"))r=r.toString().trim();else{if((0,R.isFunction)(r)){var o=r.toString().trim();o=o.slice(o.indexOf("{")+1,o.lastIndexOf("}")),r=o.trim()}var l=this.em.getConfig(),f=Rn(l.tagVarStart||"{[ "),p=Rn(l.tagVarEnd||" ]}"),h=new RegExp("".concat(f,"([\\w\\d-]*)").concat(p),"g");r=r.replace(h,function(v,b){e.scriptUpdated();var P=e.attributes[b]||"";return(0,R.isArray)(P)||typeof P=="object"?JSON.stringify(P):P})}return r},n.prototype.emitUpdate=function(t){for(var e,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var l=this.em,f=ro+(t?":".concat(t):""),p=t&&this.get(t);t&&this.updated.apply(this,yn([t,p,t&&this.previous(t)],r,!1)),this.trigger.apply(this,yn([f],r,!1)),l&&l.trigger.apply(l,yn([f,this],r,!1)),["components","classes"].indexOf(t)>=0&&this.__propSelfToParent({component:this,changed:(e={},e[t]=p,e),options:r[2]||r[1]||{}})},n.prototype.onAll=function(t){return(0,R.isFunction)(t)&&(t(this),this.components().forEach(function(e){return e.onAll(t)})),this},n.prototype.forEachChild=function(t){(0,R.isFunction)(t)&&this.components().forEach(function(e){t(e),e.forEachChild(t)})},n.prototype.remove=function(t){var e=this;t===void 0&&(t={});var r=this.em,o=this.collection,l=function(){o&&o.remove(e,Xe({action:De.W.remove},t)),o||(e.components("",t),e.components().removeChildren(e,void 0,t))},f=Xe({},t);return[this,r].map(function(p){return p.trigger(De.g.removeBefore,e,l,f)}),!f.abort&&l(),this},n.prototype.move=function(t,e){if(e===void 0&&(e={}),t){var r=e.at,o=this.index(),l=t===this.parent(),f=o===r||o===r-1;if(!l||!f){l&&r&&r>o&&(e.at=r-1);var p=De.W.move;this.remove({action:p,temporary:1}),t.append(this,Xe({action:p},e)),this.emitUpdate()}}return this},n.prototype.isInstanceOf=function(t){var e,r,o=(r=(e=this.em)===null||e===void 0?void 0:e.Components.getType(t))===null||r===void 0?void 0:r.model;if(!o)return!1;var l=this.constructor.typeExtends;return this instanceof o||l.has(t)},n.prototype.isChildOf=function(t){for(var e=(0,R.isString)(t),r=this.parent();r;){if(e){if(r.isInstanceOf(t))return!0}else if(r===t)return!0;r=r.parent()}return!1},n.prototype.resetId=function(t){var e=this.em,r=this.getId();if(!r)return this;var o=n.createId(this);this.setId(o);var l=e==null?void 0:e.Css.getIdRule(r),f=l==null?void 0:l.get("selectors").at(0);return f==null||f.set("name",o),this},n.prototype._getStyleRule=function(t){var e=t===void 0?{}:t,r=e.id,o=this.em,l=r||this.getId();return o==null?void 0:o.Css.getIdRule(l)},n.prototype._getStyleSelector=function(t){var e=this._getStyleRule(t);return e==null?void 0:e.get("selectors").at(0)},n.prototype._idUpdated=function(t,e,r){if(r===void 0&&(r={}),!r.idUpdate){var o=this.ccid,l=(this.get("attributes")||{}).id,f=(this.previous("attributes")||{}).id||o,p=n.getList(this);if(p[l]||!l&&f)return this.setId(f,{idUpdate:!0});delete p[f],p[l]=this,this.ccid=l;var h=this._getStyleSelector({id:f});h&&h.set({name:l,label:l})}},n.getDefaults=function(){return(0,R.result)(this.prototype,"defaults")},n.isComponent=function(t,e){return{tagName:(0,dt.toLowerCase)(t.tagName)}},n.ensureInList=function(t){var e=n.getList(t),r=t.getId(),o=e[r];if(!o)e[r]=t;else if(o!==t){var l=n.getIncrementId(r,e);t.setId(l),e[l]=t}t.components().forEach(function(f){return n.ensureInList(f)})},n.createId=function(t,e){e===void 0&&(e={});var r=n.getList(t),o=e.idMap,l=o===void 0?{}:o,f=t.get("attributes").id,p;return f?(p=n.getIncrementId(f,r,e),t.setId(p),f!==p&&(l[f]=p)):p=n.getNewId(r),r[p]=t,p},n.getNewId=function(t){for(var e=Object.keys(t).length,r=e.toString().length+2,o=(Math.random()+1.1).toString(36).slice(-r),l="i".concat(o);t[l];)l=n.getNewId(t);return l},n.getIncrementId=function(t,e,r){r===void 0&&(r={});var o=r.keepIds,l=o===void 0?[]:o,f=1,p=t;if(l.indexOf(t)<0)for(;e[p];)f++,p="".concat(t,"-").concat(f);return p},n.getList=function(t){var e,r=t.em,o=r==null?void 0:r.Components;return(e=o==null?void 0:o.componentsById)!==null&&e!==void 0?e:{}},n.checkId=function(t,e,r,o){e===void 0&&(e=[]),r===void 0&&(r={}),o===void 0&&(o={});var l=(0,R.isArray)(t)?t:[t],f=o.keepIds,p=f===void 0?[]:f,h=o.idMap,v=h===void 0?{}:h;l.forEach(function(b){b.attributes;var P=b.attributes,B=P===void 0?{}:P,tt=b.components,ut=B.id;if(ut&&r[ut]&&p.indexOf(ut)<0){var ct=n.getIncrementId(ut,r);v[ut]=ct,B.id=ct,(0,R.isArray)(e)&&e.forEach(function(Tt){var Nt=Tt.selectors;Nt.forEach(function(Ft,Qt){Ft==="#".concat(ut)&&(Nt[Qt]="#".concat(ct))})})}tt&&n.checkId(tt,e,r,o)})},n.typeExtends=new Set,n}(On);const Kr=Ia;var El=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Uo=function(){return Uo=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Uo.apply(this,arguments)},oo="head",Va=["title","style","base","link","meta","script","noscript"],As=function(a){El(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Uo(Uo({},a.prototype.defaults),{type:oo,tagName:oo,draggable:!1,highlightable:!1,droppable:function(t){var e=t.tagName;return!e||Va.includes((0,dt.toLowerCase)(e))}})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,dt.toLowerCase)(t.tagName)===oo},n}(Kr);const Yi=As;var Xi=function(){return Xi=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Xi.apply(this,arguments)},Ms=function(){function a(n,t){var e=this;this.em=n,this.canvas=n.Canvas;var r=t||this.canvas.getFrames().map(function(l){return l.getComponent().getEl()}),o=Array.isArray(r)?r:[r];this.el=o[0],this.counter=0,(0,R.bindAll)(this,"handleDragEnter","handleDragOver","handleDrop","handleDragLeave"),o.forEach(function(l){return e.toggleEffects(l,!0)})}return a.prototype.toggleEffects=function(n,t){var e={on:te.on,off:te.S1},r=t?"on":"off";e[r](n,"dragenter",this.handleDragEnter),e[r](n,"dragover",this.handleDragOver),e[r](n,"drop",this.handleDrop),e[r](n,"dragleave",this.handleDragLeave)},a.prototype.__customTglEff=function(n){var t,e=n?te.on:te.S1,r=this.el.ownerDocument,o=(t=r.defaultView)===null||t===void 0?void 0:t.frameElement;this.sortOpts=n?{onStart:function(l){var f=l.sorter;(0,te.on)(o,"pointermove",f.onMove)},onEnd:function(l){var f=l.sorter;(0,te.S1)(o,"pointermove",f.onMove)},customTarget:function(l){var f=l.event;return r.elementFromPoint(f.clientX,f.clientY)}}:null,e(o,"pointerenter",this.handleDragEnter),e(o,"pointermove",this.handleDragOver),e(document,"pointerup",this.handleDrop),e(o,"pointerout",this.handleDragLeave)},a.prototype.startCustom=function(){this.__customTglEff(!0)},a.prototype.endCustom=function(n){this.over?this.endDrop(n):this.__customTglEff(!1)},a.prototype.endDrop=function(n,t){var e=this,r=e.em,o=e.dragStop;this.counter=0,o&&o(n||!this.over),this.__customTglEff(!1),r.trigger("canvas:dragend",t)},a.prototype.handleDragLeave=function(n){this.updateCounter(-1,n)},a.prototype.updateCounter=function(n,t){this.counter+=n,this.counter===0&&this.endDrop(!0,t)},a.prototype.handleDragEnter=function(n){var t=this,e=this,r=e.em,o=e.canvas,l=n.dataTransfer,f=r.get("dragContent");if(!(!f&&!o.getConfig().allowExternalDrop)&&(this.updateCounter(1,n),!this.over)){this.over=!0;var p=r.Utils,h=f||"<br>",v,b;if(r.stopDefault(),r.inAbsoluteMode()){var P=r.Components.getWrapper(),B=P.append({})[0],tt=r.Commands.run("core:component-drag",{event:n,guidesInfo:1,center:1,target:B,onEnd:function(ct,Tt,Nt){var Ft=Nt.cancelled,Qt;if(!Ft){Qt=P.append(h)[0];var fe=o.getOffset(),Se=B.getStyle(),Pe=Se.top,ie=Se.left,Ee=Se.position,Fe=(0,te.GX)(ct.target),ur=parseInt("".concat(parseFloat(ie)+Fe.x-fe.left),10),pe=parseInt("".concat(parseFloat(Pe)+Fe.y-fe.top),10);Qt.addStyle({left:ur+"px",top:pe+"px",position:Ee})}t.handleDragEnd(Qt,l),B.remove()}});v=function(ct){return tt.stop(n,{cancel:ct})},b=function(ct){return h=ct}}else{var ut=new p.Sorter(Xi({em:r,wmargin:1,nested:1,canvasRelative:1,direction:"a",container:this.el,placer:o.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:"gjs-",onEndMove:function(ct){return t.handleDragEnd(ct,l)},document:this.el.ownerDocument},this.sortOpts||{}));ut.setDropContent(h),ut.startSort(),this.sorter=ut,v=function(ct){ct&&(ut.moved=!1),ut.endMove()},b=function(ct){return ut.setDropContent(ct)}}this.dragStop=v,this.dragContent=b,r.trigger("canvas:dragenter",l,h)}},a.prototype.handleDragEnd=function(n,t){var e=this.em;this.over=!1,n&&(e.set("dragResult",n),e.trigger("canvas:drop",t,n)),e.runDefault({preserveSelected:1})},a.prototype.handleDragOver=function(n){n.preventDefault(),this.em.trigger("canvas:dragover",n)},a.prototype.handleDrop=function(n){n.preventDefault();var t=this.dragContent,e=n.dataTransfer,r=this.getContentByData(e).content;n.target.style.border="",r&&t&&t(r),this.endDrop(!r,n)},a.prototype.getContentByData=function(n){var t=this.em,e=n&&n.types,r=n&&n.files||[],o=t.get("dragContent"),l=n&&n.getData("text");if(r.length){l=[];for(var f=0;f<r.length;f++){var p=r[f],h=p.type.split("/")[0];h=="image"&&l.push({type:h,file:p,attributes:{alt:p.name}})}}else if(o)l=o;else if((0,R.indexOf)(e,"text/html")>=0)l=n&&n.getData("text/html").replace(/<\/?meta[^>]*>/g,"");else if((0,R.indexOf)(e,"text/uri-list")>=0)l={type:"link",attributes:{href:l},content:l};else if((0,R.indexOf)(e,"text/json")>=0){var v=n&&n.getData("text/json");v&&(l=JSON.parse(v))}else e.length===1&&e[0]==="text/plain"&&(l="<div>".concat(l,"</div>"));var b={content:l};return t.trigger("canvas:dragdata",n,b),b},a}();const Ra=Ms;var Ls=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),wn=function(){return wn=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},wn.apply(this,arguments)},Ji=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return a.concat(o||Array.prototype.slice.call(n))},ho=function(a){Ls(n,a);function n(t,e){var r=a.call(this,{model:t})||this;r.dragging=!1,r.loaded=!1,r.lastMaxHeight=0,r.tools={},(0,R.bindAll)(r,"updateClientY","stopAutoscroll","autoscroll","_emitUpdate");var o=r.el;r.module._config=wn(wn({},r.config||{}),{frameView:r}),r.frameWrapView=e,r.showGlobalTools=(0,R.debounce)(r.showGlobalTools.bind(r),50);var l=r.getCanvasModel();return r.listenTo(t,"change:head",r.updateHead),r.listenTo(l,"change:styles",r.renderStyles),t.view=r,(0,dt.setViewEl)(o,r),r}return Object.defineProperty(n.prototype,"tagName",{get:function(){return"iframe"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"attributes",{get:function(){return{allowfullscreen:"allowfullscreen"}},enumerable:!1,configurable:!0}),n.prototype.getBoxRect=function(){var t=this,e=t.el,r=t.module,o=r.getCanvasView(),l=r.getCoords(),f=e.getBoundingClientRect(),p=o.getCanvasOffset(),h=o.getViewportDelta(),v=r.getZoomMultiplier(),b=(f.x-p.left-h.x-l.x)*v,P=(f.y-p.top-h.y-l.y)*v,B=f.width*v,tt=f.height*v;return{x:b,y:P,width:B,height:tt}},n.prototype.updateHead=function(){var t=this.model,e=this.getHead(),r=[],o=[],l=t.head,f=t.previous("head"),p=function(v){return v===void 0&&(v={}),Object.keys(v).sort().map(function(b){return"[".concat(b,'="').concat(v[b],'"]')}).join("")},h=function(v,b,P){v.forEach(function(B){var tt=B.tag,ut=B.attributes,ct=b.some(function(Tt){return Tt.tag===tt&&p(Tt.attributes)===p(ut)});!ct&&P.push(B)})};h(l,f,o),h(f,l,r),r.forEach(function(v){var b,P=e.querySelector("".concat(v.tag).concat(p(v.attributes)));(b=P==null?void 0:P.parentNode)===null||b===void 0||b.removeChild(P)}),(0,te.SJ)(e,o)},n.prototype.getEl=function(){return this.el},n.prototype.getCanvasModel=function(){return this.em.Canvas.getModel()},n.prototype.getWindow=function(){return this.getEl().contentWindow},n.prototype.getDoc=function(){return this.getEl().contentDocument},n.prototype.getHead=function(){return this.getDoc().querySelector("head")},n.prototype.getBody=function(){return this.getDoc().querySelector("body")},n.prototype.getWrapper=function(){return this.getBody().querySelector("[data-gjs-type=wrapper]")},n.prototype.getJsContainer=function(){return this.jsContainer||(this.jsContainer=(0,te.ut)("div",{class:"".concat(this.ppfx,"js-cont")})),this.jsContainer},n.prototype.getToolsEl=function(){var t;return(t=this.frameWrapView)===null||t===void 0?void 0:t.elTools},n.prototype.getGlobalToolsEl=function(){return this.em.Canvas.getGlobalToolsEl()},n.prototype.getHighlighter=function(){return this._getTool("[data-hl]")},n.prototype.getBadgeEl=function(){return this._getTool("[data-badge]")},n.prototype.getOffsetViewerEl=function(){return this._getTool("[data-offset]")},n.prototype.getRect=function(){return this.rect||(this.rect=this.el.getBoundingClientRect()),this.rect},n.prototype.getOffsetRect=function(){var t=this.el,e=this.getBody(),r=e.scrollTop,o=e.scrollLeft,l=t.offsetHeight,f=t.offsetWidth;return{top:t.offsetTop,left:t.offsetLeft,height:l,width:f,scrollTop:r,scrollLeft:o,scrollBottom:r+l,scrollRight:o+f}},n.prototype._getTool=function(t){var e=this.tools,r=this.getToolsEl();return e[t]||(e[t]=r.querySelector(t)),e[t]},n.prototype.remove=function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return this._toggleEffects(!1),this.tools={},(t=this.wrapper)===null||t===void 0||t.remove(),pr.prototype.remove.apply(this,e),this},n.prototype.startAutoscroll=function(){var t=this;this.lastMaxHeight=this.getWrapper().offsetHeight-this.el.offsetHeight,setTimeout(function(){t._toggleAutoscrollFx(!0),requestAnimationFrame(t.autoscroll)},0)},n.prototype.autoscroll=function(){if(this.dragging){var t=this.lastClientY,e=this.em.Canvas,r=this.getWindow(),o=r.pageYOffset,l=t||0,f=e.getConfig().autoscrollLimit,p=this.getRect().height-f,h=o;if(l<f&&(h-=f-l),l>p&&(h+=l-p),!(0,R.isUndefined)(t)&&h!==o&&h>0&&h<this.lastMaxHeight){var v=this.getGlobalToolsEl();v.style.opacity="0",this.showGlobalTools(),r.scrollTo(0,h),e.spots.refreshDbn()}requestAnimationFrame(this.autoscroll)}},n.prototype.updateClientY=function(t){t.preventDefault(),this.lastClientY=(0,te.VB)(t).clientY*this.em.getZoomDecimal()},n.prototype.showGlobalTools=function(){this.getGlobalToolsEl().style.opacity=""},n.prototype.stopAutoscroll=function(){this.dragging&&this._toggleAutoscrollFx(!1)},n.prototype._toggleAutoscrollFx=function(t){this.dragging=t;var e=this.getWindow(),r=t?"on":"off",o={on:te.on,off:te.S1};o[r](e,"mousemove dragover",this.updateClientY),o[r](e,"mouseup",this.stopAutoscroll)},n.prototype.render=function(){var t=this,e=t.$el,r=t.ppfx,o=t.em;return e.attr({class:"".concat(r,"frame")}),this.renderScripts(),o.trigger("frame:render",this),this},n.prototype.renderScripts=function(){var t=this,e=this,r=e.el,o=e.model,l=e.em,f="frame:load",p={el:r,model:o,view:this},h=this.getCanvasModel(),v=function(b){var P;if(b.length>0){var B=b.shift(),tt=(0,te.ut)("script",wn({type:"text/javascript"},(0,R.isString)(B)?{src:B}:B));(P=r.contentDocument)===null||P===void 0||P.head.appendChild(tt),tt.hasAttribute("nomodule")&&"noModule"in HTMLScriptElement.prototype?v(b):tt.onerror=tt.onload=v.bind(null,b)}else l==null||l.trigger(ke.frameLoadHead,p),t.renderBody(),l==null||l.trigger(ke.frameLoadBody,p),l==null||l.trigger(f,p)};r.onload=function(){var b=t.config.frameContent;if(b){var P=t.getDoc();P.open(),P.write(b),P.close()}p.window=t.getWindow(),l==null||l.trigger("".concat(f,":before"),p),l==null||l.trigger(ke.frameLoad,p),t.renderHead(),v(Ji([],h.get("scripts"),!0))}},n.prototype.renderStyles=function(t){t===void 0&&(t={});var e=this.getHead(),r=this.getCanvasModel(),o=function(b){return b.map(function(P){return{tag:"link",attributes:wn({rel:"stylesheet"},(0,R.isString)(P)?{href:P}:P)}})},l=o(t.prev||r.previous("styles")),f=o(r.get("styles")),p=[],h=[],v=function(b,P,B){b.forEach(function(tt){var ut=tt.attributes.href,ct=P.some(function(Tt){return Tt.attributes.href===ut});!ct&&B.push(tt)})};v(f,l,h),v(l,f,p),p.forEach(function(b){var P,B=e.querySelector('link[href="'.concat(b.attributes.href,'"]'));(P=B==null?void 0:B.parentNode)===null||P===void 0||P.removeChild(B)}),(0,te.SJ)(e,h)},n.prototype.renderHead=function(){var t=this,e=t.model,r=t.em,o=e.root,l=r.Components.getType(oo).view;this.headView=new l({el:this.getHead(),model:o.head,config:wn(wn({},o.config),{frameView:this})}).render()},n.prototype.renderBody=function(){var t=this,e,r,o=this,l=o.config,f=o.em,p=o.model,h=o.ppfx,v=this.getDoc(),b=this.getBody(),P=this.getWindow(),B=p.hasAutoHeight(),tt=f.config;P._isEditor=!0,this.renderStyles({prev:[]});var ut="#ffca6f";(0,te.R3)(b,`<style>
      `.concat(tt.baseCss||l.frameStyle||"",`

      `).concat(B?"body { overflow: hidden }":"",`

      [data-gjs-type="wrapper"] {
        `).concat(B?"":"min-height: 100vh;",`
        padding-top: 0.001em;
      }

      .`).concat(h,`dashed *[data-gjs-highlightable] {
        outline: 1px dashed rgba(170,170,170,0.7);
        outline-offset: -2px;
      }

      .`).concat(h,`selected {
        outline: 2px solid #3b97e3 !important;
        outline-offset: -2px;
      }

      .`).concat(h,`selected-parent {
        outline: 2px solid `).concat(ut,` !important
      }

      .`).concat(h,`no-select {
        user-select: none;
        -webkit-user-select:none;
        -moz-user-select: none;
      }

      .`).concat(h,`freezed {
        opacity: 0.5;
        pointer-events: none;
      }

      .`).concat(h,`no-pointer {
        pointer-events: none;
      }

      .`).concat(h,`pointer-init {
        pointer-events: initial;
      }

      .`).concat(h,`plh-image {
        background: #f5f5f5;
        border: none;
        height: 100px;
        width: 100px;
        display: block;
        outline: 3px solid #ffca6f;
        cursor: pointer;
        outline-offset: -2px
      }

      .`).concat(h,`grabbing {
        cursor: grabbing;
        cursor: -webkit-grabbing;
      }

      .`).concat(h,`is__grabbing {
        overflow-x: hidden;
      }

      .`).concat(h,`is__grabbing,
      .`).concat(h,`is__grabbing * {
        cursor: grabbing !important;
      }

      `).concat(tt.canvasCss||"",`
      `).concat(tt.protectedCss||"",`
    </style>`));var ct=p.root,Tt=f.Components.getType("wrapper").view;this.wrapper=new Tt({model:ct,config:wn(wn({},ct.config),{em:f,frameView:this})}).render(),(0,te.R3)(b,(e=this.wrapper)===null||e===void 0?void 0:e.el),(0,te.R3)(b,new vn({collection:p.getStyles(),config:wn(wn({},f.Css.getConfig()),{frameView:this})}).render().el),(0,te.R3)(b,this.getJsContainer()),(0,te.on)(b,"click",function(Nt){var Ft;return Nt&&((Ft=Nt.target)===null||Ft===void 0?void 0:Ft.tagName)=="A"&&Nt.preventDefault()}),(0,te.on)(b,"submit",function(Nt){return Nt&&Nt.preventDefault()}),[{event:"keydown keyup keypress",class:"KeyboardEvent"},{event:"mousedown mousemove mouseup",class:"MouseEvent"},{event:"pointerdown pointermove pointerup",class:"PointerEvent"},{event:"wheel",class:"WheelEvent",opts:{passive:!l.infiniteCanvas}}].forEach(function(Nt){return Nt.event.split(" ").forEach(function(Ft){v.addEventListener(Ft,function(Qt){return t.el.dispatchEvent((0,te.t3)(Qt,Nt.class))},Nt.opts)})}),this._toggleEffects(!0),(0,dt.hasDnd)(f)&&(this.droppable=new Ra(f,(r=this.wrapper)===null||r===void 0?void 0:r.el)),this.loaded=!0,p.trigger("loaded")},n.prototype._toggleEffects=function(t){var e=t?te.on:te.S1,r=this.getWindow();r&&e(r,"".concat(te.G1," resize"),this._emitUpdate)},n.prototype._emitUpdate=function(){this.model._emitUpdated()},n}(pr);const Ds=ho;var Qi=vr(668),zo=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),en=function(){return en=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},en.apply(this,arguments)},Ir=function(a){zo(n,a);function n(t,e){var r=a.call(this,{model:t})||this;return(0,R.bindAll)(r,"onScroll","frameLoaded","updateOffset","remove","startDrag"),en(en({},t.config),{frameWrapView:r}),r.cv=e,r.frame=new Ds(t,r),r.classAnim="".concat(r.ppfx,"frame-wrapper--anim"),r.updateOffset=(0,R.debounce)(r.updateOffset.bind(r),0),r.updateSize=(0,R.debounce)(r.updateSize.bind(r),0),r.listenTo(t,"loaded",r.frameLoaded),r.listenTo(t,"change:x change:y",r.updatePos),r.listenTo(t,"change:width change:height",r.updateSize),r.listenTo(t,"destroy remove",r.remove),r.updatePos(),r.setupDragger(),r}return n.prototype.events=function(){return{"click [data-action-remove]":"remove","mousedown [data-action-move]":"startDrag"}},n.prototype.setupDragger=function(){var t=this,e=this,r=e.module,o=e.model,l,f,p,h=function(v){r.toggleFramesEvents(v)};this.dragger=new Qi.Z({onStart:function(){var v=o.attributes,b=v.x,P=v.y;p=t.em.getZoomMultiplier(),l=b,f=P,h(!1)},onEnd:function(){return h(!0)},setPosition:function(v){o.set({x:l+v.x*p,y:f+v.y*p})}})},n.prototype.startDrag=function(t){var e;t&&((e=this.dragger)===null||e===void 0||e.start(t))},n.prototype.__clear=function(t){var e=this.frame;e&&e.remove(t),(0,te.L_)(this.elTools)},n.prototype.remove=function(t){var e=this;return this.__clear(t),pr.prototype.remove.apply(this,t),["frame","dragger","cv","elTools"].forEach(function(r){return e[r]=0}),this},n.prototype.updateOffset=function(){var t,e=this,r=e.em,o=e.$el,l=e.frame;!r||r.destroyed||(r.runDefault({preserveSelected:1}),o.removeClass(this.classAnim),(t=l==null?void 0:l.model)===null||t===void 0||t._emitUpdated())},n.prototype.updatePos=function(t){var e=this,r=e.model,o=e.el,l=r.attributes,f=l.x,p=l.y,h=o.style;this.frame.rect=void 0,h.left=isNaN(f)?f:"".concat(f,"px"),h.top=isNaN(p)?p:"".concat(p,"px"),t&&this.updateOffset()},n.prototype.updateSize=function(){this.updateDim()},n.prototype.updateDim=function(){var t=this,e=t.em,r=t.el,o=t.$el,l=t.model,f=t.classAnim,p=t.frame;if(p){p.rect=void 0,o.addClass(f);var h=this.__handleSize(),v=h.noChanges,b=h.width,P=h.height;((0,R.isNull)(b)||(0,R.isNull)(P))&&l.set(en(en({},b?{}:{width:r.offsetWidth}),P?{}:{height:r.offsetHeight}),{silent:1}),e.stopDefault({preserveSelected:1}),v?this.updateOffset():setTimeout(this.updateOffset,350)}},n.prototype.onScroll=function(){var t=this,e=t.frame,r=t.em;r.trigger("frame:scroll",{frame:e,body:e.getBody(),target:e.getWindow()})},n.prototype.frameLoaded=function(){var t=this,e=t.frame;t.config,e.getWindow().onscroll=this.onScroll,this.updateDim()},n.prototype.__handleSize=function(){var t,e,r="px",o=this,l=o.model,f=o.el,p=f.style,h=l.attributes,v=h.width,b=h.height,P=p.width||"",B=p.height||"",tt=v||"",ut=b||"",ct=P==tt&&B==ut,Tt=(0,R.isNumber)(tt)?"".concat(tt).concat(r):tt,Nt=(0,R.isNumber)(ut)?"".concat(ut).concat(r):ut;if(p.width=Tt,l.hasAutoHeight()){var Ft=this.frame.el;if(Ft.contentDocument){var Qt=Ft.contentDocument,fe=new ResizeObserver(function(){p.height="".concat(Qt.body.scrollHeight,"px")});fe.observe(Qt.body),(t=this.sizeObserver)===null||t===void 0||t.disconnect(),this.sizeObserver=fe}}else p.height=Nt,(e=this.sizeObserver)===null||e===void 0||e.disconnect(),delete this.sizeObserver;return{noChanges:ct,width:v,height:b,newW:tt,newH:ut}},n.prototype.render=function(){var t=this,e=t.frame,r=t.$el,o=t.ppfx,l=t.cv,f=t.model,p=t.el,h=f.attributes.onRender;this.__clear(),this.__handleSize(),e.render(),r.empty().attr({class:"".concat(o,"frame-wrapper")}).append(`
      <div class="`.concat(o,`frame-wrapper__top gjs-two-color" data-frame-top>
        <div class="`).concat(o,`frame-wrapper__name" data-action-move>
          `).concat(f.get("name")||"",`
        </div>
        <div class="`).concat(o,`frame-wrapper__top-r">
          <div class="`).concat(o,`frame-wrapper__icon" data-action-remove style="display: none">
            <svg viewBox="0 0 24 24"><path d="M19 4h-3.5l-1-1h-5l-1 1H5v2h14M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12z"></path></svg>
          </div>
        </div>
      </div>
      <div class="`).concat(o,`frame-wrapper__right" data-frame-right></div>
      <div class="`).concat(o,`frame-wrapper__left" data-frame-left></div>
      <div class="`).concat(o,`frame-wrapper__bottom" data-frame-bottom></div>
      `)).append(e.el);var v=(0,te.ut)("div",{class:"".concat(o,"tools"),style:"pointer-events:none; display: none"},`
      <div class="`.concat(o,`highlighter" data-hl></div>
      <div class="`).concat(o,`badge" data-badge></div>
      <div class="`).concat(o,`placeholder">
        <div class="`).concat(o,`placeholder-int"></div>
      </div>
      <div class="`).concat(o,`ghost"></div>
      <div class="`).concat(o,`toolbar" style="pointer-events:all"></div>
      <div class="`).concat(o,`resizer"></div>
      <div class="`).concat(o,`offset-v" data-offset>
        <div class="gjs-marginName" data-offset-m>
          <div class="gjs-margin-v-el gjs-margin-v-top" data-offset-m-t></div>
          <div class="gjs-margin-v-el gjs-margin-v-bottom" data-offset-m-b></div>
          <div class="gjs-margin-v-el gjs-margin-v-left" data-offset-m-l></div>
          <div class="gjs-margin-v-el gjs-margin-v-right" data-offset-m-r></div>
        </div>
        <div class="gjs-paddingName" data-offset-m>
          <div class="gjs-padding-v-el gjs-padding-v-top" data-offset-p-t></div>
          <div class="gjs-padding-v-el gjs-padding-v-bottom" data-offset-p-b></div>
          <div class="gjs-padding-v-el gjs-padding-v-left" data-offset-p-l></div>
          <div class="gjs-padding-v-el gjs-padding-v-right" data-offset-p-r></div>
        </div>
      </div>
      <div class="`).concat(o,`offset-fixed-v"></div>
    `));this.elTools=v;var b=l==null?void 0:l.toolsWrapper;return b&&b.appendChild(v),h&&h({el:p,elTop:p.querySelector("[data-frame-top]"),elRight:p.querySelector("[data-frame-right]"),elBottom:p.querySelector("[data-frame-bottom]"),elLeft:p.querySelector("[data-frame-left]"),frame:f,frameWrapperView:this,remove:this.remove,startDrag:this.startDrag}),this},n}(pr);const js=Ir;var Na=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Oo=function(a){Na(n,a);function n(t,e){t===void 0&&(t={});var r=a.call(this,t,!0)||this;return r.listenTo(r.collection,"reset",r.render),r.canvasView=e.canvasView,r._module=e.module,r}return n.prototype.onRemoveBefore=function(t,e){e===void 0&&(e={}),t.forEach(function(r){return r.remove(e)})},n.prototype.onRender=function(){var t=this,e=t.$el,r=t.ppfx;e.attr({class:"".concat(r,"frames")})},n.prototype.clearItems=function(){var t=this.viewCollection||[];t.forEach(function(e){return e.remove()}),this.viewCollection=[]},n.prototype.renderView=function(t,e){return new js(t,this.canvasView)},n}(Ct);const Is=Oo;var Wo=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),xi=function(){return xi=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},xi.apply(this,arguments)},ta=function(a){Wo(n,a);function n(t){var e=a.call(this,{model:t})||this;e.ready=!1,(0,R.bindAll)(e,"clearOff","onKeyPress","onWheel","onPointer");var r=e,o=r.em,l=r.pfx,f=r.ppfx,p=e.module.events;return e.className="".concat(l,"canvas ").concat(f,"no-touch-actions").concat(o.config.customUI?"":" ".concat(l,"canvas-bg")),e.clsUnscale="".concat(l,"unscale"),e._initFrames(),e.listenTo(o,p.refresh,e.clearOff),e.listenTo(o,"component:selected",e.checkSelected),e.listenTo(o,"".concat(p.coords," ").concat(p.zoom),e.updateFrames),e.listenTo(t,"change:frames",e._onFramesUpdate),e.toggleListeners(!0),e}return n.prototype.template=function(){var t=this.pfx;return`
      <div class="`.concat(t,`canvas__frames" data-frames>
        <div class="`).concat(t,`canvas__spots" data-spots></div>
      </div>
      <div id="`).concat(t,'tools" class="').concat(t,`canvas__tools" data-tools></div>
      <style data-canvas-style></style>
    `)},n.prototype._onFramesUpdate=function(){this._initFrames(),this._renderFrames()},n.prototype._initFrames=function(){var t=this,e=t.frames,r=t.model,o=t.config,l=t.em,f=r.frames;l.set("readyCanvas",0),f.once("loaded:all",function(){return l.set("readyCanvas",1)}),e==null||e.remove(),this.frames=new Is({collection:f},xi(xi({},o),{canvasView:this}))},n.prototype.checkSelected=function(t,e){var r;e===void 0&&(e={});var o=e.scroll,l=this.em.getCurrentFrame();o&&((r=t.views)===null||r===void 0||r.forEach(function(f){f.frameView===l&&f.scrollIntoView(o)}))},n.prototype.remove=function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return(t=this.frames)===null||t===void 0||t.remove(),this.frames=void 0,pr.prototype.remove.apply(this,e),this.toggleListeners(!1),this},n.prototype.preventDefault=function(t){var e;t&&(t.preventDefault(),(e=t._parentEvent)===null||e===void 0||e.preventDefault())},n.prototype.toggleListeners=function(t){var e=this,r=e.el,o=e.config,l=t?te.on:te.S1;l(document,"keypress",this.onKeyPress),l(window,"scroll resize",this.clearOff),l(r,"wheel",this.onWheel,{passive:!o.infiniteCanvas}),l(r,"pointermove",this.onPointer)},n.prototype.screenToWorld=function(t,e){var r=this.module,o=r.getCoords(),l=r.getZoomMultiplier(),f=this.getViewportDelta();return{x:(t-o.x-f.x)*l,y:(e-o.y-f.y)*l}},n.prototype.onPointer=function(t){if(this.config.infiniteCanvas){var e=this.getCanvasOffset(),r=(0,te.GX)(),o={x:t.clientX-e.left+r.x,y:t.clientY-e.top+r.y};if(t._parentEvent){var l=t.target.getBoundingClientRect(),f=this.module.getZoomDecimal();o.x=l.left-e.left+r.x+t.clientX*f,o.y=l.top-e.top+r.y+t.clientY*f}this.model.set({pointerScreen:o,pointer:this.screenToWorld(o.x,o.y)})}},n.prototype.onKeyPress=function(t){var e=this.em,r=(0,te.sN)(t);r===" "&&e.getZoomDecimal()!==1&&!e.Canvas.isInputFocused()&&(this.preventDefault(t),e.Editor.runCommand("core:canvas-move"))},n.prototype.onWheel=function(t){var e=this,r=e.module,o=e.config;if(o.infiniteCanvas){this.preventDefault(t);var l=t.deltaX,f=t.deltaY,p=r.getZoomDecimal(),h=(0,te.Vb)(t),v=r.getCoords();if(h){var b=p-f*p*.01;r.setZoom(b*100);var P=this.model.getPointerCoords(m.vA.Screen),B=this.getCanvasOffset(),tt=P.x-B.width/2,ut=P.y-B.height/2,ct=b/p,Tt=tt-(tt-v.x)*ct,Nt=ut-(ut-v.y)*ct;r.setCoords(Tt,Nt)}else this.onPointer(t),r.setCoords(v.x-l,v.y-f)}},n.prototype.updateFrames=function(t){var e=this.em,r=this.toolsWrapper,o={preserveSelected:1};this.updateFramesArea(),this.clearOff(),r.style.display="none",e.trigger("canvas:update",t),this.timerZoom&&clearTimeout(this.timerZoom),this.timerZoom=setTimeout(function(){e.stopDefault(o),e.runDefault(o),r.style.display=""},300)},n.prototype.updateFramesArea=function(){var t=this,e=t.framesArea,r=t.model,o=t.module,l=t.cvStyle,f=t.clsUnscale,p=o.getZoomMultiplier();if(e){var h=r.attributes,v=h.x,b=h.y,P=o.getZoomDecimal();e.style.transform="scale(".concat(P,") translate(").concat(v*p,"px, ").concat(b*p,"px)")}l&&(l.innerHTML=`
        .`.concat(f," { scale: ").concat(p,` }
      `))},n.prototype.fitViewport=function(t){var e,r;t===void 0&&(t={});var o=this,l=o.em,f=o.module,p=o.model,h=this.getCanvasOffset(),v=t.el,b=v&&((e=(0,dt.getComponentView)(v))===null||e===void 0?void 0:e.frameView),P=b?b.model:t.frame||l.getCurrentFrameModel()||p.frames.at(0),B=P.attributes,tt=B.x,ut=B.y,ct={x:tt??0,y:ut??0,width:P.width,height:P.height};if(v){var Tt=this.getElBoxRect(v);ct.x=ct.x+Tt.x,ct.y=ct.y+Tt.y,ct.width=Tt.width,ct.height=Tt.height}var Nt=t.ignoreHeight,Ft=(r=t.gap)!==null&&r!==void 0?r:0,Qt=(0,R.isNumber)(Ft),fe=Qt?Ft:Ft.x,Se=Qt?Ft:Ft.y,Pe=ct.width+fe*2,ie=ct.height+Se*2,Ee=h.width,Fe=h.height,ur=Ee/Pe,pe=Fe/ie,Wn=Nt?ur:Math.min(ur,pe),bu=Wn*100;f.setZoom(bu);var wl=-ct.x+(P.width>=Ee?Ee/2-Pe/2:-fe),bl=-ct.y+Fe/2-ie/2,ui={x:(wl+fe)*Wn,y:(bl+Se)*Wn};if(Nt){var ys=f.getZoomMultiplier(),ws=Fe*ys,Ta=ws-Fe,Ea=Ta/2;ui.y=(-ct.y+Se)*Wn-Ea/ys}f.setCoords(ui.x,ui.y)},n.prototype.isElInViewport=function(t){var e=(0,dt.getElement)(t),r=(0,te.Ut)(e),o=this.getFrameOffset(e),l=r.top,f=r.left;return l>=0&&f>=0&&l<=o.height&&f<=o.width},n.prototype.offset=function(t,e){e===void 0&&(e={});var r=e.noScroll,o=(0,te.Ut)(t),l=r?{x:0,y:0}:(0,te.GX)(t);return{top:o.top+l.y,left:o.left+l.x,width:o.width,height:o.height}},n.prototype.getRectToScreen=function(t){var e,r,o,l,f=this.module.getZoomDecimal(),p=this.module.getCoords(),h=this.getViewportDelta(),v=((e=t.x)!==null&&e!==void 0?e:0)*f+p.x+h.x||0,b=((r=t.y)!==null&&r!==void 0?r:0)*f+p.y+h.y||0;return{x:v,y:b,width:((o=t.width)!==null&&o!==void 0?o:0)*f,height:((l=t.height)!==null&&l!==void 0?l:0)*f}},n.prototype.getElBoxRect=function(t,e){var r,o,l;e===void 0&&(e={});var f=this.module,p=(0,te.Ut)(t),h=p.width,v=p.height,b=p.left,P=p.top,B=(r=(0,dt.getComponentView)(t))===null||r===void 0?void 0:r.frameView,tt=B==null?void 0:B.getBoxRect(),ut=f.getZoomMultiplier(),ct=(o=tt==null?void 0:tt.x)!==null&&o!==void 0?o:0,Tt=(l=tt==null?void 0:tt.y)!==null&&l!==void 0?l:0,Nt=this.el,Ft=(0,te.GX)(),Qt=b+ct+(Nt.scrollLeft+Ft.x)*ut,fe=P+Tt+(Nt.scrollTop+Ft.y)*ut,Se={x:Qt,y:fe,width:h,height:v};return e.local&&(Se.x=b,Se.y=P),e.toScreen?this.getRectToScreen(Se):Se},n.prototype.getViewportRect=function(t){t===void 0&&(t={});var e=this.getCanvasOffset(),r=e.top,o=e.left,l=e.width,f=e.height,p=this.module;if(t.toWorld){var h=p.getZoomMultiplier(),v=p.getCoords(),b=this.getViewportDelta(),P=-v.x-b.x||0,B=-v.y-b.y||0;return{x:P*h,y:B*h,width:l*h,height:f*h}}else return{x:o,y:r,width:l,height:f}},n.prototype.getViewportDelta=function(t){var e=this.module.getZoomMultiplier(),r=this.getCanvasOffset(),o=r.width,l=r.height,f=o*e,p=l*e,h=f-o,v=p-l;return{x:h/2/e,y:v/2/e}},n.prototype.clearOff=function(){this.frmOff=void 0,this.cvsOff=void 0},n.prototype.getFrameOffset=function(t){var e;if(!this.frmOff||t){var r=(e=this.frame)===null||e===void 0?void 0:e.el,o=t==null?void 0:t.ownerDocument.defaultView,l=o?o.frameElement:r;this.frmOff=this.offset(l||r)}return this.frmOff},n.prototype.getCanvasOffset=function(){return this.cvsOff||(this.cvsOff=this.offset(this.el)),this.cvsOff},n.prototype.getElementPos=function(t,e){e===void 0&&(e={});var r=this.module.getZoomDecimal(),o=this.getFrameOffset(t),l=this.el,f=this.getCanvasOffset(),p=this.offset(t,e),h=e.avoidFrameOffset?0:o.top,v=e.avoidFrameOffset?0:o.left,b=e.avoidFrameZoom?p.top:p.top*r,P=e.avoidFrameZoom?p.left:p.left*r,B=e.avoidFrameOffset?b:b+h-f.top+l.scrollTop,tt=e.avoidFrameOffset?P:P+v-f.left+l.scrollLeft,ut=e.avoidFrameZoom?p.height:p.height*r,ct=e.avoidFrameZoom?p.width:p.width*r;return{top:B,left:tt,height:ut,width:ct,zoom:r,rect:p}},n.prototype.getElementOffsets=function(t){if(!t||(0,te.BM)(t))return{};var e={},r=window.getComputedStyle(t),o=this.module.getZoomDecimal(),l=["marginTop","marginRight","marginBottom","marginLeft","paddingTop","paddingRight","paddingBottom","paddingLeft","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"];return l.forEach(function(f){e[f]=parseFloat(r[f])*o}),e},n.prototype.getPosition=function(t){var e;t===void 0&&(t={});var r=(e=this.frame)===null||e===void 0?void 0:e.el.contentDocument;if(!r)return{top:0,left:0,width:0,height:0};var o=r.body,l=this.module.getZoomDecimal(),f=this.getFrameOffset(),p=this.getCanvasOffset(),h=t.noScroll;return{top:f.top+(h?0:o.scrollTop)*l-p.top,left:f.left+(h?0:o.scrollLeft)*l-p.left,width:p.width,height:p.height}},n.prototype.updateScript=function(t){var e=t.model,r=e.getId();if(!t.scriptContainer){t.scriptContainer=(0,te.ut)("div",{"data-id":r});var o=this.getJsContainer();o==null||o.appendChild(t.scriptContainer)}t.el.id=r,t.scriptContainer.innerHTML="";var l=document.createElement("script"),f=e.getScriptString(),p=e.get("script-props")?f:`function(){
`.concat(f,`
;}`),h=JSON.stringify(e.__getScriptProps());l.innerHTML=`
      setTimeout(function() {
        var item = document.getElementById('`.concat(r,`');
        if (!item) return;
        (`).concat(p,".bind(item))(").concat(h,`)
      }, 1);`),setTimeout(function(){var v=t.scriptContainer;v==null||v.appendChild(l)},0)},n.prototype.getJsContainer=function(t){var e=this.getFrameView(t);return e==null?void 0:e.getJsContainer()},n.prototype.getFrameView=function(t){return(t==null?void 0:t.frameView)||this.em.getCurrentFrame()},n.prototype._renderFrames=function(){if(this.ready){var t=this,e=t.model,r=t.frames,o=t.em,l=t.framesArea,f=e.frames;f.listenToLoad(),r.render();var p=f.at(0),h=p==null?void 0:p.view;o.setCurrentFrame(h),l==null||l.appendChild(r.el),this.frame=h,this.updateFramesArea()}},n.prototype.renderFrames=function(){this._renderFrames()},n.prototype.render=function(){var t=this,e=t.el,r=t.$el,o=t.ppfx,l=t.config,f=t.em;r.html(this.template());var p=r.find("[data-frames]");this.framesArea=p.get(0);var h=r.find("[data-tools]");return this.toolsWrapper=h.get(0),h.append(`
      <div class="`.concat(o,"tools ").concat(o,`tools-gl" style="pointer-events:none">
        <div class="`).concat(o,`placeholder">
          <div class="`).concat(o,`placeholder-int"></div>
        </div>
      </div>
      <div id="`).concat(o,`tools" style="pointer-events:none">
        `).concat(l.extHl?'<div class="'.concat(o,'highlighter-sel"></div>'):"",`
        <div class="`).concat(o,`badge"></div>
        <div class="`).concat(o,`ghost"></div>
        <div class="`).concat(o,`toolbar" style="pointer-events:all"></div>
        <div class="`).concat(o,`resizer"></div>
        <div class="`).concat(o,`offset-v"></div>
        <div class="`).concat(o,`offset-fixed-v"></div>
      </div>
    `)),this.toolsEl=e.querySelector("#".concat(o,"tools")),this.hlEl=e.querySelector(".".concat(o,"highlighter")),this.badgeEl=e.querySelector(".".concat(o,"badge")),this.placerEl=e.querySelector(".".concat(o,"placeholder")),this.ghostEl=e.querySelector(".".concat(o,"ghost")),this.toolbarEl=e.querySelector(".".concat(o,"toolbar")),this.resizerEl=e.querySelector(".".concat(o,"resizer")),this.offsetEl=e.querySelector(".".concat(o,"offset-v")),this.fixedOffsetEl=e.querySelector(".".concat(o,"offset-fixed-v")),this.toolsGlobEl=e.querySelector(".".concat(o,"tools-gl")),this.spotsEl=e.querySelector("[data-spots]"),this.cvStyle=e.querySelector("[data-canvas-style]"),this.el.className=(0,dt.getUiClass)(f,this.className),this.ready=!0,this._renderFrames(),this},n}(pr);const Go=ta;var Vs=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),vo=function(){return vo=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},vo.apply(this,arguments)},Fa=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return a.concat(o||Array.prototype.slice.call(n))},Ha=function(a){Vs(n,a);function n(t){var e=a.call(this,t,"Canvas",q)||this;return e.events=Tr,e.framesById={},e.canvas=new ye(e),e.spots=new _e(e),e.model=e.canvas,e.startAutoscroll=e.startAutoscroll.bind(e),e.stopAutoscroll=e.stopAutoscroll.bind(e),e}return n.prototype.getCanvasView=function(){return this.canvasView},n.prototype.postLoad=function(){this.model.init()},n.prototype.getModel=function(){return this.canvas},n.prototype.getElement=function(){return this.getCanvasView().el},n.prototype.getFrame=function(t){return this.getFrames()[t||0]},n.prototype.getFrameEl=function(){var t=(this.canvasView||{}).frame;return t==null?void 0:t.el},n.prototype.getFramesEl=function(){var t;return(t=this.canvasView)===null||t===void 0?void 0:t.framesArea},n.prototype.getWindow=function(){var t=(this.canvasView||{}).frame;return t==null?void 0:t.getWindow()},n.prototype.getDocument=function(){var t=this.getFrameEl();return t==null?void 0:t.contentDocument},n.prototype.getBody=function(){var t=this.getDocument();return t==null?void 0:t.body},n.prototype._getLocalEl=function(t,e,r){var o=t,l=e==null?void 0:e.frameView;return o=l?l[r]():o,o},n.prototype.getGlobalToolsEl=function(){var t;return(t=this.canvasView)===null||t===void 0?void 0:t.toolsGlobEl},n.prototype.getToolsEl=function(t){return this._getLocalEl(this.getCanvasView().toolsEl,t,"getToolsEl")},n.prototype.getHighlighter=function(t){return this._getLocalEl(this.getCanvasView().hlEl,t,"getHighlighter")},n.prototype.getBadgeEl=function(t){return this._getLocalEl(this.getCanvasView().badgeEl,t,"getBadgeEl")},n.prototype.getPlacerEl=function(){return this.getCanvasView().placerEl},n.prototype.getGhostEl=function(){return this.getCanvasView().ghostEl},n.prototype.getToolbarEl=function(){return this.getCanvasView().toolbarEl},n.prototype.getResizerEl=function(){return this.getCanvasView().resizerEl},n.prototype.getOffsetViewerEl=function(t){return this._getLocalEl(this.getCanvasView().offsetEl,t,"getOffsetViewerEl")},n.prototype.getFixedOffsetViewerEl=function(){return this.getCanvasView().fixedOffsetEl},n.prototype.getSpotsEl=function(){var t;return(t=this.canvasView)===null||t===void 0?void 0:t.spotsEl},n.prototype.render=function(){var t;return(t=this.canvasView)===null||t===void 0||t.remove(),this.canvasView=new Go(this.canvas),this.canvasView.render().el},n.prototype.getOffset=function(){var t=this.offset(this.getFrameEl()),e=this.offset(this.getElement());return{top:t.top-e.top,left:t.left-e.left}},n.prototype.offset=function(t){return this.getCanvasView().offset(t)},n.prototype.setCustomBadgeLabel=function(t){this.config.customBadgeLabel=t},n.prototype.getElementPos=function(t,e){return this.getCanvasView().getElementPos(t,e)},n.prototype.getElementOffsets=function(t){return this.getCanvasView().getElementOffsets(t)},n.prototype.getRect=function(){var t,e=(t=this.getCanvasView().getPosition())!==null&&t!==void 0?t:{},r=e.top,o=r===void 0?0:r,l=e.left,f=l===void 0?0:l;return vo(vo({},this.getCanvasView().getCanvasOffset()),{topScroll:o,leftScroll:f})},n.prototype.getTargetToElementDim=function(t,e,r){r===void 0&&(r={});var o=r||{},l=this.getCanvasView().getPosition();if(l){var f=o.elPos||this.getCanvasView().getElementPos(e),p=r.toRight||0,h=o.targetHeight||t.offsetHeight,v=o.targetWidth||t.offsetWidth,b=o.event||null,P=f.top-h,B=f.left;B+=p?f.width:0,B=p?B-v:B;var tt=B<l.left?l.left:B,ut=P<l.top?l.top:P;ut=ut>f.top+f.height?f.top+f.height:ut;var ct={top:ut,left:tt,elementTop:f.top,elementLeft:f.left,elementWidth:f.width,elementHeight:f.height,targetWidth:t.offsetWidth,targetHeight:t.offsetHeight,canvasTop:l.top,canvasLeft:l.left,canvasWidth:l.width,canvasHeight:l.height};return b&&this.em&&this.em.trigger(b,ct),ct}},n.prototype.canvasRectOffset=function(t,e,r){var o=this;r===void 0&&(r={});var l=function(p){var h=p.defaultView;return h==null?void 0:h.frameElement},f=function(p,h,v){h===void 0&&(h=1);var b=o.em.getZoomDecimal(),P=h?"top":"left",B=p.ownerDocument,tt=r.offset?l(B):{},ut=tt.offsetTop,ct=ut===void 0?0:ut,Tt=tt.offsetLeft,Nt=Tt===void 0?0:Tt,Ft=B.body||{},Qt=Ft.scrollTop,fe=Qt===void 0?0:Qt,Se=Ft.scrollLeft,Pe=Se===void 0?0:Se,ie=h?fe:Pe,Ee=h?ct:Nt;return v[P]-(ie-Ee)*b};return{top:f(t,1,e),left:f(t,0,e)}},n.prototype.getTargetToElementFixed=function(t,e,r){r===void 0&&(r={});var o=r.pos||this.getElementPos(t,{noScroll:!0}),l=r.canvasOff||this.canvasRectOffset(t,o),f=e.offsetHeight||0,p=e.offsetWidth||0,h=o.left+o.width,v=this.getCanvasView(),b=v.getPosition(),P=v.getFrameOffset(t),B=r.event,tt=-f,ut=(0,R.isUndefined)(r.left)?o.width-p:r.left;if(ut=o.left<-ut?-o.left:ut,ut=h>b.width?ut-(h-b.width):ut,l.top<f){var ct=o.height+f,Tt=ct<P.height;Tt?tt=tt+ct:tt=-l.top<o.height?-l.top:o.height}var Nt={top:tt,left:ut,canvasOffsetTop:l.top,canvasOffsetLeft:l.left,elRect:o,canvasOffset:l,canvasRect:b,targetWidth:p,targetHeight:f};return B&&this.em.trigger(B,Nt),Nt},n.prototype.getMouseRelativePos=function(t,e){e===void 0&&(e={});var r=e.subWinOffset,o=t.target.ownerDocument,l=o.defaultView||o.parentWindow,f=l.frameElement,p=r?l.pageYOffset:0,h=r?l.pageXOffset:0,v=this.getZoomMultiplier(),b=0,P=0;if(f){var B=f.getBoundingClientRect();b=B.top||0,P=B.left||0}return{y:(t.clientY+b-p)*v,x:(t.clientX+P-h)*v}},n.prototype.getMouseRelativeCanvas=function(t,e){var r,o=this.getZoomDecimal(),l=(r=this.getCanvasView().getPosition(e))!==null&&r!==void 0?r:{},f=l.top,p=f===void 0?0:f,h=l.left,v=h===void 0?0:h;return{y:t.clientY*o+p,x:t.clientX*o+v}},n.prototype.hasFocus=function(){return this.getDocument().hasFocus()},n.prototype.isInputFocused=function(){var t=this.getDocument(),e=this.getFrameEl(),r=Fa(["body"],this.config.notTextable,!0),o=e&&document.activeElement===e,l=o?t&&t.activeElement:document.activeElement;return l&&!r.some(function(f){return l.matches(f)})},n.prototype.scrollTo=function(t,e){e===void 0&&(e={});var r=(0,dt.getElement)(t),o=r&&(0,dt.getViewEl)(r);o&&o.scrollIntoView(e)},n.prototype.startAutoscroll=function(t){var e=t&&t.view||this.em.getCurrentFrame();e&&e.startAutoscroll()},n.prototype.stopAutoscroll=function(t){var e=t&&t.view||this.em.getCurrentFrame();e&&e.stopAutoscroll()},n.prototype.setZoom=function(t){return this.canvas.set("zoom",typeof t=="string"?parseFloat(t):t),this},n.prototype.getZoom=function(){return parseFloat(this.canvas.get("zoom"))},n.prototype.setCoords=function(t,e,r){var o;r===void 0&&(r={});var l=t||t===0,f=e||e===0,p={x:this.canvas.get("x"),y:this.canvas.get("y")};if(l&&(p.x=parseFloat("".concat(t))),f&&(p.y=parseFloat("".concat(e))),r.toWorld){var h=(o=this.canvasView)===null||o===void 0?void 0:o.getViewportDelta();h&&(l&&(p.x=p.x-h.x),f&&(p.y=p.y-h.y))}return this.canvas.set(p),this},n.prototype.getCoords=function(){var t=this.canvas.attributes,e=t.x,r=t.y;return{x:e,y:r}},n.prototype.getPointer=function(t){var e=this.canvas.attributes,r=e.pointer,o=e.pointerScreen;return t?o:r},n.prototype.getZoomDecimal=function(){return this.getZoom()/100},n.prototype.getZoomMultiplier=function(){var t=this.getZoomDecimal();return t?1/t:1},n.prototype.fitViewport=function(t){var e;(e=this.canvasView)===null||e===void 0||e.fitViewport(t)},n.prototype.toggleFramesEvents=function(t){var e=this.getFramesEl().style;e.pointerEvents=t?"":"none"},n.prototype.getFrames=function(){return this.canvas.frames.map(function(t){return t})},n.prototype.addFrame=function(t,e){return t===void 0&&(t={}),e===void 0&&(e={}),this.canvas.frames.add(new Pt(this,vo({},t)),e)},n.prototype.getLastDragResult=function(){return this.em.get("dragResult")},n.prototype.addSpot=function(t,e){var r;e===void 0&&(e={});var o=t,l=this.getSpots(o);if(l.length){var f=l[0];return f.set(o),f}var p=o.componentView||((r=o.component)===null||r===void 0?void 0:r.view),h=new tr.Z(this,vo(vo({},o),{id:o.id||"cs_".concat(o.type,"_").concat(p==null?void 0:p.cid),type:o.type||""}));return this.spots.add(h,e),h},n.prototype.getSpots=function(t){return t===void 0&&(t={}),this.spots.where(t.id?{id:t.id}:t)},n.prototype.removeSpots=function(t){t===void 0&&(t={});var e=(0,R.isArray)(t)?t:this.getSpots(t),r=this.spots.remove(e);return r},n.prototype.hasCustomSpot=function(t){var e=this.config.customSpots;return!!(e===!0||e&&t&&e[t])},n.prototype.getWorldRectToScreen=function(t){var e;return(e=this.canvasView)===null||e===void 0?void 0:e.getRectToScreen(t)},n.prototype.refresh=function(t){t===void 0&&(t={});var e=this,r=e.em,o=e.events,l=e.canvasView;l==null||l.clearOff(),(t.spots||t.all)&&(this.refreshSpots(),r.trigger("canvas:updateTools")),r.set("canvasOffset",this.getOffset()),r.trigger(o.refresh,t)},n.prototype.refreshSpots=function(){this.spots.refresh()},n.prototype.destroy=function(){var t=this,e;this.canvas.stopListening(),(e=this.canvasView)===null||e===void 0||e.remove(),["model","droppable"].forEach(function(r){return t[r]={}})},n}(V);const Ba=Ha,go={stylePrefix:"comp-",components:[],draggableComponents:!0,disableTextInnerChilds:!1,processor:void 0,useFrameDoc:!1,voidElements:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]};var io=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ao=function(){return ao=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},ao.apply(this,arguments)},Ua=function(a){io(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return ao(ao({},a.prototype.defaults),{tagName:"",droppable:!1,layerable:!1,selectable:!1,editable:!0})},enumerable:!1,configurable:!0}),n.prototype.toHTML=function(){var t=this.content,e=this.parent();return e!=null&&e.is("script")?t:this.__escapeContent(t)},n.prototype.__escapeContent=function(t){return(0,dt.escapeNodeContent)(t)},n.isComponent=function(t){var e;if(t.nodeType===3)return{type:"textnode",content:(e=t.textContent)!==null&&e!==void 0?e:""}},n}(Kr);const H=Ua;var Y=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),yt=function(){return yt=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},yt.apply(this,arguments)},xt=function(a){Y(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return yt({},a.prototype.defaults)},enumerable:!1,configurable:!0}),n.prototype.toHTML=function(){return"<!--".concat(this.content,"-->")},n.isComponent=function(t){var e;if(t.nodeType==8)return{type:"comment",content:(e=t.textContent)!==null&&e!==void 0?e:""}},n}(H);const It=xt;var At=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Zt=function(){return Zt=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Zt.apply(this,arguments)},ce="iframe",He=function(a){At(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Zt(Zt({},a.prototype.defaults),{type:ce,tagName:ce,droppable:!1,resizable:!0,traits:["id","title","src"],attributes:{frameborder:"0"}})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,dt.toLowerCase)(t.tagName)===ce},n}(Kr);const Me=He;var dr=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Hr=function(){return Hr=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Hr.apply(this,arguments)},ea='xmlns="http://www.w3.org/2000/svg" width="100" viewBox="0 0 24 24" style="fill: rgba(0,0,0,0.15); transform: scale(0.75)"',Rs=function(a){dr(n,a);function n(t,e){t===void 0&&(t={});var r=a.call(this,t,e)||this,o=r.get("attributes").src;return o&&(0,dt.buildBase64UrlFromSvg)((0,R.result)(r,"defaults").src)!==o&&r.set("src",o,{silent:!0}),r}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Hr(Hr({},a.prototype.defaults),{type:"image",tagName:"img",void:!0,droppable:0,editable:1,highlightable:0,resizable:{ratioDefault:1},traits:["alt"],src:"<svg ".concat(ea,`>
        <path d="M8.5 13.5l2.5 3 3.5-4.5 4.5 6H5m16 1V5a2 2 0 0 0-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2z"></path>
      </svg>`),fallback:"<svg ".concat(ea,`>
        <path d="M2.28 3L1 4.27l2 2V19c0 1.1.9 2 2 2h12.73l2 2L21 21.72 2.28 3m2.55 0L21 19.17V5a2 2 0 0 0-2-2H4.83M8.5 13.5l2.5 3 1-1.25L14.73 18H5l3.5-4.5z"></path>
      </svg>`),file:""})},enumerable:!1,configurable:!0}),n.prototype.initToolbar=function(){a.prototype.initToolbar.call(this);var t=this.em;if(t){var e=t.Commands,r="image-editor";if(e.has(r)){for(var o=!1,l=this.get("toolbar"),f=0;f<l.length;f++)if(l[f].command==="image-editor"){o=!0;break}o||(l.push({attributes:{class:"fa fa-pencil"},command:r}),this.set("toolbar",l))}}},n.prototype.getAttrToHTML=function(){var t=a.prototype.getAttrToHTML.call(this),e=this.getSrcResult();return e&&(t.src=e),t},n.prototype.getSrcResult=function(t){t===void 0&&(t={});var e=this.get(t.fallback?"fallback":"src")||"",r=e;return e&&e.substr(0,4)==="<svg"&&(r=(0,dt.buildBase64UrlFromSvg)(e)),r},n.prototype.isDefaultSrc=function(){var t=this.get("src"),e=(0,R.result)(this,"defaults").src;return t===e||t===(0,dt.buildBase64UrlFromSvg)(e)},n.prototype.toJSON=function(t){var e=a.prototype.toJSON.call(this,t),r=e.attributes;return r&&e.src===r.src&&delete e.src,e},n.prototype.parseUri=function(t){var e={},r=function(o){o===void 0&&(o="");for(var l={},f=o.substring(1).split("&"),p=0;p<f.length;p++){var h=f[p].split("="),v=decodeURIComponent(h[0]);v&&(l[v]=decodeURIComponent(h[1]||""))}return l};if((0,dt.hasWin)())e=document.createElement("a"),e.href=t;else if(typeof URL<"u")try{e=new URL(t)}catch{}return{hostname:e.hostname||"",pathname:e.pathname||"",protocol:e.protocol||"",search:e.search||"",hash:e.hash||"",port:e.port||"",query:r(e.search)}},n.isComponent=function(t){return(0,dt.toLowerCase)(t.tagName)==="img"},n}(Kr);const Pl=Rs;var Cf=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),za=function(){return za=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},za.apply(this,arguments)},Mu=function(a){Cf(n,a);function n(t,e){t===void 0&&(t={});var r=a.call(this,t,e)||this;return r.__checkInnerChilds(),r}return Object.defineProperty(n.prototype,"defaults",{get:function(){return za(za({},a.prototype.defaults),{type:"text",droppable:!1,editable:!0})},enumerable:!1,configurable:!0}),n.prototype.__checkInnerChilds=function(){var t=this.em.Components.config.disableTextInnerChilds;if(t){var e=function(r){r.isInstanceOf("textnode")||r.set({locked:!0,layerable:!1})};(0,R.isFunction)(t)?this.forEachChild(function(r){t(r)&&e(r)}):this.forEachChild(e)}},n}(Kr);const Ci=Mu;var Lu=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Wa=function(){return Wa=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Wa.apply(this,arguments)},Ga="label",Ns=function(a){Lu(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Wa(Wa({},a.prototype.defaults),{type:Ga,tagName:Ga,traits:["id","title","for"]})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,dt.toLowerCase)(t.tagName)===Ga},n}(Ci);const Du=Ns;var Fs=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Dn=function(){return Dn=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Dn.apply(this,arguments)},kl="link",Al=function(a){Fs(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Dn(Dn({},a.prototype.defaults),{type:kl,tagName:"a",traits:["title","href","target"]})},enumerable:!1,configurable:!0}),n.isComponent=function(t,e){e===void 0&&(e={});var r;if((0,dt.toLowerCase)(t.tagName)==="a"){var o=e.textTags||[];r={type:kl,editable:!1};var l=t.childNodes,f=l.length;f||delete r.editable,(0,R.forEach)(l,function(p){var h=p.tagName;(p.nodeType==3&&p.textContent.trim()!==""||h&&o.indexOf((0,dt.toLowerCase)(h))>=0)&&delete r.editable})}return r},n}(Ci);const Ml=Al;var ju=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ka=function(){return Ka=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Ka.apply(this,arguments)},Ll=function(a){ju(n,a);function n(t,e){t===void 0&&(t={});var r=a.call(this,t,e)||this;return r.get("src")?r.parseFromSrc():r.updateSrc(),r.listenTo(r,"change:address change:zoom change:mapType",r.updateSrc),r}return Object.defineProperty(n.prototype,"defaults",{get:function(){var t=a.prototype.defaults;return Ka(Ka({},t),{type:"map",src:"",void:!1,mapUrl:"https://maps.google.com/maps",tagName:"iframe",mapType:"q",address:"",zoom:"1",attributes:{frameborder:0},toolbar:t.toolbar,traits:[{label:"Address",name:"address",placeholder:"eg. London, UK",changeProp:!0},{type:"select",label:"Map type",name:"mapType",changeProp:!0,options:[{id:"q",label:"Roadmap"},{id:"w",label:"Satellite"}]},{label:"Zoom",name:"zoom",type:"range",min:1,max:20,changeProp:!0}]})},enumerable:!1,configurable:!0}),n.prototype.updateSrc=function(){this.set("src",this.getMapUrl())},n.prototype.getMapUrl=function(){var t=this.get("address"),e=this.get("zoom"),r=this.get("mapType");t=t?"&q="+t:"",e=e?"&z="+e:"",r=r?"&t="+r:"";var o=this.get("mapUrl")+"?"+t+e+r;return o+="&output=embed",o},n.prototype.parseFromSrc=function(){var t=this.parseUri(this.get("src")),e=t.query;e.q&&this.set("address",e.q),e.z&&this.set("zoom",e.z),e.t&&this.set("mapType",e.t)},n.isComponent=function(t){if((0,dt.toLowerCase)(t.tagName)=="iframe"&&/maps\.google\.com/.test(t.src))return{type:"map",src:t.src}},n}(Pl);const Sf=Ll;var Of=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Hs=function(){return Hs=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Hs.apply(this,arguments)},To="script",ra=function(a){Of(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Hs(Hs({},a.prototype.defaults),{type:To,tagName:To,droppable:!1,draggable:!1,layerable:!1,highlightable:!1})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,dt.toLowerCase)(t.tagName)===To},n}(Kr);const na=ra;var Dl=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),oa=function(){return oa=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},oa.apply(this,arguments)},Bs="svg",jl=function(a){Dl(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return oa(oa({},a.prototype.defaults),{type:Bs,tagName:Bs,highlightable:!1,resizable:{ratioDefault:!0}})},enumerable:!1,configurable:!0}),n.prototype.getName=function(){var t=this.get("tagName"),e=this.get("custom-name");return t=t.charAt(0).toUpperCase()+t.slice(1),e||t},n.isComponent=function(t){return(0,dt.toLowerCase)(t.tagName)===Bs},n}(Kr);const Ko=jl;var Si=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),rn=function(){return rn=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},rn.apply(this,arguments)},$o=function(a){Si(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return rn(rn({},a.prototype.defaults),{selectable:!1,hoverable:!1,layerable:!1})},enumerable:!1,configurable:!0}),n.isComponent=function(t,e){return e===void 0&&(e={}),!!e.inSvg},n}(Ko);const qo=$o;var Us=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),zs=function(){return zs=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},zs.apply(this,arguments)},Ws="table",$a=function(a){Us(n,a);function n(t,e){t===void 0&&(t={});var r=a.call(this,t,e)||this,o=r.get("components");return!o.length&&o.add({type:"tbody"}),r}return Object.defineProperty(n.prototype,"defaults",{get:function(){return zs(zs({},a.prototype.defaults),{type:Ws,tagName:Ws,droppable:["tbody","thead","tfoot"]})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,dt.toLowerCase)(t.tagName)===Ws},n}(Kr);const Iu=$a;var Il=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Oi=function(){return Oi=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Oi.apply(this,arguments)},Vl="tbody",Rl=function(a){Il(n,a);function n(t,e){t===void 0&&(t={});var r=a.call(this,t,e)||this,o=r.get("components"),l=r.get("columns"),f=r.get("rows");if(!o.length){for(var p=[];f--;){for(var h=[],v=l;v--;)h.push({type:"cell",classes:["cell"]});p.push({type:"row",classes:["row"],components:h})}o.add(p)}return r}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Oi(Oi({},a.prototype.defaults),{type:Vl,tagName:Vl,draggable:["table"],droppable:["tr"],columns:1,rows:1})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,dt.toLowerCase)(t.tagName)===Vl},n}(Kr);const Gs=Rl;var Nl=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ia=function(){return ia=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},ia.apply(this,arguments)},aa=function(a){Nl(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return ia(ia({},a.prototype.defaults),{type:"cell",tagName:"td",draggable:["tr"]})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return["td","th"].indexOf((0,dt.toLowerCase)(t.tagName))>=0},n}(Kr);const Ks=aa;var Vu=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ti=function(){return Ti=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Ti.apply(this,arguments)},Fl="tfoot",Tf=function(a){Vu(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Ti(Ti({},a.prototype.defaults),{type:Fl,tagName:Fl})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,dt.toLowerCase)(t.tagName)===Fl},n}(Gs);const Ef=Tf;var Hl=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),sa=function(){return sa=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},sa.apply(this,arguments)},Zo="thead",qa=function(a){Hl(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return sa(sa({},a.prototype.defaults),{type:Zo,tagName:Zo})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,dt.toLowerCase)(t.tagName)===Zo},n}(Gs);const Pf=qa;var $s=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Za=function(){return Za=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Za.apply(this,arguments)},la="tr",Ru=function(a){$s(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Za(Za({},a.prototype.defaults),{tagName:la,draggable:["thead","tbody","tfoot"],droppable:["th","td"]})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,dt.toLowerCase)(t.tagName)===la},n}(Kr);const Ei=Ru;var Ya=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),mo=function(){return mo=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},mo.apply(this,arguments)},Pi="video",so="yt",ki="vi",Ai="ytnc",Bl="so",Ul=function(a){return a&&a!=="0"},Mi=function(a){Ya(n,a);function n(t,e){t===void 0&&(t={});var r=a.call(this,t,e)||this;return r.get("src")&&r.parseFromSrc(),r.updatePropsFromAttr(),r.updateTraits(),r.on("change:provider",r.updateTraits),r.on("change:videoId change:provider",r.updateSrc),r}return Object.defineProperty(n.prototype,"defaults",{get:function(){return mo(mo({},a.prototype.defaults),{type:Pi,tagName:Pi,videoId:"",void:!1,provider:Bl,ytUrl:"https://www.youtube.com/embed/",ytncUrl:"https://www.youtube-nocookie.com/embed/",viUrl:"https://player.vimeo.com/video/",loop:!1,poster:"",muted:0,autoplay:!1,controls:!0,color:"",list:"",src:"",rel:1,modestbranding:0,sources:[],attributes:{allowfullscreen:"allowfullscreen"}})},enumerable:!1,configurable:!0}),n.prototype.updatePropsFromAttr=function(){if(this.get("provider")===Bl){var t=this.get("attributes"),e=t.controls,r=t.autoplay,o=t.loop,l={};(0,dt.isDef)(e)&&(l.controls=!!e),(0,dt.isDef)(r)&&(l.autoplay=!!r),(0,dt.isDef)(o)&&(l.loop=!!o),(0,dt.isEmptyObj)(l)||this.set(l)}},n.prototype.updateTraits=function(){var t=this.em,e=this.get("provider"),r="iframe",o;switch(e){case so:case Ai:o=this.getYoutubeTraits();break;case ki:o=this.getVimeoTraits();break;default:r="video",o=this.getSourceTraits()}this.set({tagName:r},{silent:!0}),this.set({traits:o}),t.get("ready")&&t.trigger("component:toggled")},n.prototype.parseFromSrc=function(){var t=this.get("provider"),e=this.parseUri(this.get("src")),r=e.query;switch(t){case so:case Ai:case ki:this.set("videoId",e.pathname.split("/").pop()),r.list&&this.set("list",r.list),Ul(r.autoplay)&&this.set("autoplay",!0),Ul(r.loop)&&this.set("loop",!0),parseInt(r.controls)===0&&this.set("controls",!1),Ul(r.color)&&this.set("color",r.color),r.rel==="0"&&this.set("rel",0),r.modestbranding==="1"&&this.set("modestbranding",1);break}},n.prototype.updateSrc=function(){var t=this.get("provider"),e="";switch(t){case so:e=this.getYoutubeSrc();break;case Ai:e=this.getYoutubeNoCookieSrc();break;case ki:e=this.getVimeoSrc();break}this.set({src:e})},n.prototype.getAttrToHTML=function(){var t=a.prototype.getAttrToHTML.call(this),e=this.get("provider");switch(e){case so:case Ai:case ki:break;default:t.loop=!!this.get("loop"),t.autoplay=!!this.get("autoplay"),t.controls=!!this.get("controls")}return t},n.prototype.getProviderTrait=function(){return{type:"select",label:"Provider",name:"provider",changeProp:!0,options:[{value:"so",name:"HTML5 Source"},{value:so,name:"Youtube"},{value:Ai,name:"Youtube (no cookie)"},{value:ki,name:"Vimeo"}]}},n.prototype.getSourceTraits=function(){return[this.getProviderTrait(),{label:"Source",name:"src",placeholder:"eg. ./media/video.mp4",changeProp:!0},{label:"Poster",name:"poster",placeholder:"eg. ./media/image.jpg"},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait()]},n.prototype.getYoutubeTraits=function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. jNQXAC9IVRw",changeProp:!0},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait(),{type:"checkbox",label:"Related",name:"rel",changeProp:!0},{type:"checkbox",label:"Modest",name:"modestbranding",changeProp:!0}]},n.prototype.getVimeoTraits=function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. 123456789",changeProp:!0},{label:"Color",name:"color",placeholder:"eg. FF0000",changeProp:!0},this.getAutoplayTrait(),this.getLoopTrait()]},n.prototype.getAutoplayTrait=function(){return{type:"checkbox",label:"Autoplay",name:"autoplay",changeProp:!0}},n.prototype.getLoopTrait=function(){return{type:"checkbox",label:"Loop",name:"loop",changeProp:!0}},n.prototype.getControlsTrait=function(){return{type:"checkbox",label:"Controls",name:"controls",changeProp:!0}},n.prototype.getYoutubeSrc=function(){var t=this.get("videoId"),e=this.get("ytUrl"),r=this.get("list");return e+=t+(t.indexOf("?")<0?"?":""),e+=r?"&list=".concat(r):"",e+=this.get("autoplay")?"&autoplay=1&mute=1":"",e+=this.get("controls")?"":"&controls=0&showinfo=0",e+=this.get("loop")?"&loop=1&playlist=".concat(t):"",e+=this.get("rel")?"":"&rel=0",e+=this.get("modestbranding")?"&modestbranding=1":"",e},n.prototype.getYoutubeNoCookieSrc=function(){var t=this.getYoutubeSrc();return t=t.replace(this.get("ytUrl"),this.get("ytncUrl")),t},n.prototype.getVimeoSrc=function(){var t=this.get("viUrl");return t+=this.get("videoId")+"?",t+=this.get("autoplay")?"&autoplay=1&muted=1":"",t+=this.get("loop")?"&loop=1":"",t+=this.get("controls")?"":"&title=0&portrait=0&badge=0",t+=this.get("color")?"&color="+this.get("color"):"",t},n.isComponent=function(t){var e=t.tagName,r=t.src,o=/youtube\.com\/embed/.test(r),l=/youtube-nocookie\.com\/embed/.test(r),f=/player\.vimeo\.com\/video/.test(r),p=o||l||f;if((0,dt.toLowerCase)(e)==Pi||(0,dt.toLowerCase)(e)=="iframe"&&p){var h={type:"video"};return r&&(h.src=r),p&&(o?h.provider=so:l?h.provider=Ai:f&&(h.provider=ki)),h}},n}(Pl);const Li=Mi;var kf=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),qs=function(){return qs=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},qs.apply(this,arguments)},Af=function(a){kf(n,a);function n(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r,o,l=a.apply(this,t)||this,f=t[1],p=(r=f==null?void 0:f.em)===null||r===void 0?void 0:r.Components,h=(o=p==null?void 0:p.getType(oo))===null||o===void 0?void 0:o.model,v=p==null?void 0:p.getType("default").model;return h&&l.set({head:new h({},f),docEl:new v({tagName:"html"},f)},{silent:!0}),l}return Object.defineProperty(n.prototype,"defaults",{get:function(){return qs(qs({},a.prototype.defaults),{tagName:"body",removable:!1,copyable:!1,draggable:!1,components:[],traits:[],doctype:"",head:null,docEl:null,stylable:["background","background-color","background-image","background-repeat","background-attachment","background-position","background-size"]})},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"head",{get:function(){return this.get("head")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"docEl",{get:function(){return this.get("docEl")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"doctype",{get:function(){return this.attributes.doctype||""},enumerable:!1,configurable:!0}),n.prototype.toHTML=function(t){t===void 0&&(t={});var e=this.doctype,r=(0,R.isUndefined)(t.asDocument)?!!e:t.asDocument,o=this,l=o.head,f=o.docEl,p=a.prototype.toHTML.call(this,t),h=r&&(l==null?void 0:l.toHTML(t))||"",v=r&&(0,te.nB)(f==null?void 0:f.getAttrToHTML())||"",b=v?" ".concat(v):"";return r?"".concat(e,"<html").concat(b,">").concat(h).concat(p,"</html>"):p},n.prototype.__postAdd=function(){var t,e=(t=this.em)===null||t===void 0?void 0:t.UndoManager;return!this.__hasUm&&(e==null||e.add(this)),a.prototype.__postAdd.call(this)},n.prototype.__postRemove=function(){var t,e=(t=this.em)===null||t===void 0?void 0:t.UndoManager;return e==null||e.remove(this),a.prototype.__postRemove.call(this)},n.isComponent=function(){return!1},n}(Kr);const Mf=Af;var Lf=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Df=function(a){Lf(n,a);function n(){var t=a!==null&&a.apply(this,arguments)||this;return t.compView=Sr,t}return n.prototype.initialize=function(t){this.opts=t||{},this.config=t.config||{},this.em=this.config.em;var e=this.collection;this.listenTo(e,"add",this.addTo),this.listenTo(e,"reset",this.resetChildren),this.listenTo(e,"remove",this.removeChildren)},n.prototype.removeChildren=function(t,e,r){var o=this;r===void 0&&(r={}),t.views.forEach(function(f){if(f){var p=f.childrenView,h=f.scriptContainer;p&&p.stopListening(),(0,te.L_)(h),f.remove.apply(f)}});var l=t.components();l.forEach(function(f){return o.removeChildren(f,e,r)})},n.prototype.addTo=function(t){this.addToCollection(t,null,this.collection.indexOf(t))},n.prototype.addToCollection=function(t,e,r){for(var o=this,l=o.config,f=o.opts,p=o.em,h=l.frameView,v=(h==null?void 0:h.model)&&t.getView(h.model),b=f.componentTypes||(p==null?void 0:p.Components.getTypes()),P=t.get("type")||"default",B=this.compView,tt=0;tt<b.length;tt++)if(b[tt].id==P){B=b[tt].view;break}var ut=v||new B({model:t,config:l,componentTypes:b}),ct;try{ct=ut.render().el}catch(Qt){ct=document.createTextNode(""),p.logError(Qt)}if(e)e.appendChild(ct);else{var Tt=this.parentEl,Nt=Tt.childNodes;if((0,R.isUndefined)(r))Tt.appendChild(ct);else{var Ft=Nt.length==r;Ft&&r--,Ft||!Nt.length?Tt.appendChild(ct):Tt.insertBefore(ct,Nt[r])}}return t.opt.temporary||p==null||p.trigger("component:mount",t),ct},n.prototype.resetChildren=function(t,e){var r=this,o=e===void 0?{}:e,l=o.previousModels,f=l===void 0?[]:l;this.parentEl.innerHTML="",f.forEach(function(p){return r.removeChildren(p,r.collection)}),t.each(function(p){return r.addToCollection(p)})},n.prototype.render=function(t){var e=this,r=this.el,o=document.createDocumentFragment();return this.parentEl=t||this.el,this.collection.each(function(l){return e.addToCollection(l,o)}),r.innerHTML="",r.appendChild(o),this},n}(m.G7);const En=Df;var $r=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),_r=function(){return _r=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},_r.apply(this,arguments)},qr=function(a){$r(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.className=function(){return this.getClasses()},n.prototype.tagName=function(){return this.model.get("tagName")},n.prototype.preinitialize=function(t){t===void 0&&(t={}),this.opts=t},n.prototype.initialize=function(t){t===void 0&&(t={});var e=this.model,r=t.config||{},o=r.em,l=e.opt||{},f=this,p=f.$el,h=f.el;this.opts=t,this.modelOpt=l,this.config=r,this.em=o,this.pfx=r.stylePrefix||"",this.ppfx=r.pStylePrefix||"",this.attr=e.get("attributes"),this.classe=this.attr.class||[],this.listenTo(e,"change:style",this.updateStyle),this.listenTo(e,"change:attributes",this.renderAttributes),this.listenTo(e,"change:highlightable",this.updateHighlight),this.listenTo(e,"change:status change:locked",this.updateStatus),this.listenTo(e,"change:script rerender",this.reset),this.listenTo(e,"change:content",this.updateContent),this.listenTo(e,"change",this.handleChange),this.listenTo(e,"active",this.onActive),this.listenTo(e,"disable",this.onDisable),p.data("model",e),(0,dt.setViewEl)(h,this),e.view=this,this.frameView&&e.views.push(this),this.initClasses(),this.initComponents({avoidRender:!0}),this.events=_r(_r({},this.constructor.getEvents()),{dragstart:"handleDragStart"}),this.delegateEvents(),!l.temporary&&this.init(this._clbObj())},Object.defineProperty(n.prototype,"__cmpStyleOpts",{get:function(){return{state:"",mediaText:""}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"frameView",{get:function(){return this.opts.config.frameView},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"createDoc",{get:function(){var t,e,r=((t=this.frameView)===null||t===void 0?void 0:t.getDoc())||document;return!((e=this.opts.config)===null||e===void 0)&&e.useFrameDoc?r:document},enumerable:!1,configurable:!0}),n.prototype.__isDraggable=function(){var t=this,e=t.model,r=t.config,o=e.attributes.draggable;return r.draggableComponents&&o},n.prototype._clbObj=function(){var t=this,e=t.em,r=t.model,o=t.el;return{editor:e==null?void 0:e.getEditor(),model:r,el:o}},n.prototype.init=function(t){},n.prototype.removed=function(t){},n.prototype.onRender=function(t){},n.prototype.onActive=function(t){},n.prototype.onDisable=function(t){},n.prototype.remove=function(){var t;a.prototype.remove.call(this);var e=this,r=e.model,o=e.$el,l=r.views,f=this.frameView||{};return r.components().forEach(function(p){var h=p.getView(f.model);h==null||h.remove()}),(t=this.childrenView)===null||t===void 0||t.remove(),l.splice(l.indexOf(this),1),this.removed(this._clbObj()),o.data({model:"",collection:"",view:""}),this},n.prototype.handleDragStart=function(t){if(!this.__isDraggable())return!1;t.stopPropagation(),t.preventDefault(),this.em.Commands.run("tlb-move",{target:this.model,event:t})},n.prototype.initClasses=function(){var t=this.model,e=t.classes,r="change:classes";e instanceof to&&(this.stopListening(t,r,this.initClasses),this.listenTo(t,r,this.initClasses),this.listenTo(e,"add remove change reset",this.updateClasses),e.length&&this.importClasses())},n.prototype.initComponents=function(t){t===void 0&&(t={});var e=this,r=e.model,o=e.$el,l=e.childrenView,f="change:components",p=r.get("components"),h=[r,f,this.initComponents];p instanceof Qn&&(o.data("collection",p),l&&l.remove(),this.stopListening.apply(this,h),!t.avoidRender&&this.renderChildren(),this.listenTo.apply(this,h))},n.prototype.handleChange=function(){var t=this.model,e=(0,R.keys)(t.changed);if(!(e.length===1&&e[0]==="status")){t.emitUpdate();for(var r in t.changed)t.emitUpdate(r)}},n.prototype.importClasses=function(){var t=this,e=t.em,r=t.model,o=e.Selectors;o&&r.classes.forEach(function(l){return o.add(l.getName())})},n.prototype.updateStatus=function(t){t===void 0&&(t={});var e=this,r=e.em,o=e.el,l=e.ppfx,f=e.model,p=r==null?void 0:r.Canvas,h=p==null?void 0:p.config.extHl,v=f.get("status"),b="".concat(l,"selected"),P="".concat(b,"-parent"),B="".concat(l,"freezed"),tt="".concat(l,"hovered"),ut="".concat(l,"no-pointer"),ct="".concat(l,"pointer-init"),Tt=[b,P,B,tt,ut],Nt=h&&!t.noExtHl?"":b;this.$el.removeClass(Tt.join(" "));var Ft=o.getAttribute("class")||"",Qt=[Ft],fe=!(p!=null&&p.hasCustomSpot(tr.q.Select)),Se=!(p!=null&&p.hasCustomSpot(tr.q.Target));switch(v){case"selected":fe&&Qt.push(Nt);break;case"selected-parent":Se&&Qt.push(P);break;case"freezed":Qt.push(B);break;case"freezed-selected":Qt.push(B),fe&&Qt.push(Nt);break;case"hovered":!t.avoidHover&&Qt.push(tt);break}(0,R.isBoolean)(f.locked)&&Qt.push(f.locked?ut:ct);var Pe=Qt.filter(Boolean).join(" ");Pe&&o.setAttribute("class",Pe)},n.prototype.updateHighlight=function(){var t=this.model,e=t.get("textable"),r=t.get("highlightable")&&(e||!t.isChildOf("text"));this.setAttribute("data-gjs-highlightable",r?!0:"")},n.prototype.updateStyle=function(t,e,r){r===void 0&&(r={});var o=this,l=o.model,f=o.em;if(So(f)&&!r.inline){var p=this.__cmpStyleOpts,h=l.getStyle(_r({inline:!0},p));!(0,R.isEmpty)(h)&&l.setStyle(h,p)}else this.setAttribute("style",l.styleToString(r))},n.prototype.updateClasses=function(){var t=this.model.classes.pluck("name").join(" ");this.setAttribute("class",t),this.updateStatus(),this.onAttrUpdate()},n.prototype.setAttribute=function(t,e){var r=this.$el;e?r.attr(t,e):r.removeAttr(t)},n.prototype.getClasses=function(){return this.model.getClasses().join(" ")},n.prototype.updateAttributes=function(){var t=[],e=this,r=e.model,o=e.$el,l=e.el,f=r.attributes,p=f.textable,h=f.type,v=_r(_r({id:r.getId(),"data-gjs-type":h||"default"},this.__isDraggable()&&{draggable:!0}),p&&{contenteditable:"false"});(0,R.each)(l.attributes,function(P){return t.push(P.nodeName)}),t.forEach(function(P){return o.removeAttr(P)}),this.updateStyle(),this.updateHighlight();var b=_r(_r({},v),r.getAttributes());(0,R.keys)(b).forEach(function(P){return b[P]===!1&&delete b[P]}),o.attr(b)},n.prototype.updateContent=function(){var t=this.model.content,e=this.model.components().length;this.getChildrenContainer().innerHTML=e?"":t},n.prototype.prevDef=function(t){t.preventDefault()},n.prototype.updateScript=function(){var t=this,e=t.model,r=t.em;e.get("script")&&(r==null||r.Canvas.getCanvasView().updateScript(this))},n.prototype.getChildrenContainer=function(){var t=this.el;return typeof this.getChildrenSelector=="function"?t=this.el.querySelector(this.getChildrenSelector()):this.getTemplate,t},n.prototype.getOffsetRect=function(){var t={top:0,left:0,bottom:0,right:0},e=this.el,r=0,o=0,l=function(f){var p=f.offsetParent;p?(r+=p.offsetTop,o+=p.offsetLeft,l(p)):(t.top=e.offsetTop+r,t.left=e.offsetLeft+o,t.bottom=t.top+e.offsetHeight,t.right=t.left+e.offsetWidth)};return l(e),t},n.prototype.isInViewport=function(){var t=this,e=t.el,r=t.em,o=t.frameView,l=r.Canvas.getCanvasView(),f=l.getElBoxRect(e,{local:!0}),p=o.el,h=p.clientHeight,v=p.clientWidth,b=f.y,P=f.x,B=b+f.height,tt=P+f.width,ut=b>=0&&b<h,ct=B>0&&B<h,Tt=tt>=0&&tt<v,Nt=P>0&&P<=v,Ft=(ut||ct)&&(Tt||Nt);return Ft},n.prototype.scrollIntoView=function(t){var e;t===void 0&&(t={});var r=this.isInViewport();if(!r||t.force){var o=this.el;if(t.behavior!=="smooth"){var l=this.getOffsetRect();(e=o.ownerDocument.defaultView)===null||e===void 0||e.scrollTo(0,l.top)}else o.scrollIntoView(_r({behavior:"smooth",block:"nearest"},t))}},n.prototype.reset=function(){var t=this.el;this.el="",this._ensureElement(),this._setData(),(0,te.dL)(t,this.el),this.render()},n.prototype._setData=function(){var t=this.model,e=t.components(),r=this;this.$el.data({model:t,collection:e,view:r})},n.prototype._createElement=function(t){return this.createDoc.createElement(t)},n.prototype.renderChildren=function(){this.updateContent();var t=this.getChildrenContainer(),e=this.childrenView||new En({collection:this.model.get("components"),config:this.config,componentTypes:this.opts.componentTypes});e.render(t),this.childrenView=e;for(var r=Array.prototype.slice.call(e.el.childNodes),o=0,l=r.length;o<l;o++)t.appendChild(r.shift())},n.prototype.renderAttributes=function(){this.updateAttributes(),this.updateClasses()},n.prototype.onAttrUpdate=function(){},n.prototype.render=function(){return this.renderAttributes(),this.modelOpt.temporary?this:(this.renderChildren(),this.updateScript(),(0,dt.setViewEl)(this.el,this),this.postRender(),this)},n.prototype.postRender=function(){this.modelOpt.temporary||this.onRender(this._clbObj())},n.getEvents=function(){return(0,R.result)(this.prototype,"events")},n}(m.G7);const Sr=qr;var jf=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Zs=function(a){jf(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype._setAttributes=function(){},n.prototype.renderAttributes=function(){},n.prototype.updateStatus=function(){},n.prototype.updateClasses=function(){},n.prototype.setAttribute=function(){},n.prototype.updateAttributes=function(){},n.prototype.initClasses=function(){},n.prototype.initComponents=function(){},n.prototype.delegateEvents=function(){return this},n.prototype._createElement=function(){return document.createTextNode("")},n.prototype.render=function(){var t=this,e=t.model,r=t.el;return e.opt.temporary?this:(r.textContent=e.content,this)},n}(Sr);const Nu=Zs;var If=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Vf=function(a){If(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype._createElement=function(){return document.createComment(this.model.content)},n}(Nu);const zl=Vf;var Fu=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Wl=function(a){Fu(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.tagName=function(){return"div"},n.prototype.initialize=function(t){a.prototype.initialize.call(this,t),this.listenTo(this.model,"change:attributes:src",this.updateSrc)},n.prototype.updateSrc=function(){var t=(0,te.sE)(this.el,"iframe")[0];t&&(0,te.FW)(t,{src:this.__getSrc()})},n.prototype.render=function(){a.prototype.render.call(this);var t=(0,te.ut)("iframe",{class:"".concat(this.ppfx,"no-pointer"),style:"width: 100%; height: 100%; border: none",src:this.__getSrc()});return this.el.appendChild(t),this},n.prototype.__getSrc=function(){return this.model.getAttributes().src||""},n}(Sr);const Rf=Wl;var Gl=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Kl=function(a){Gl(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.tagName=function(){return"img"},n.prototype.events=function(){return{dblclick:"onActive",click:"initResize",error:"onError",load:"onLoad",dragstart:"noDrag"}},n.prototype.initialize=function(t){a.prototype.initialize.call(this,t),this.listenTo(this.model,"change:src",this.updateSrc),this.classEmpty="".concat(this.ppfx,"plh-image"),this.fetchFile()},n.prototype.fetchFile=function(){if(!this.modelOpt.temporary){var t=this,e=t.model,r=t.em,o=e.get("file");if(o&&r){var l=r.Assets.FileUploader();l==null||l.uploadFile({dataTransfer:{files:[o]}},function(f){var p=f&&f.data&&f.data[0],h=p&&((0,R.isString)(p)?p:p.src);h&&e.set({src:h})}),e.set("file","")}}},n.prototype.updateSrc=function(){var t=this.model;t.addAttributes({src:t.getSrcResult()}),this.updateClasses()},n.prototype.updateClasses=function(){a.prototype.updateClasses.call(this);var t=this,e=t.el,r=t.classEmpty,o=t.model,l=o.getSrcResult()&&!o.isDefaultSrc(),f=l?"remove":"add";e.classList[f](r)},n.prototype.onActive=function(t){t==null||t.stopPropagation();var e=this,r=e.em,o=e.model,l=r==null?void 0:r.Assets;l&&o.get("editable")&&l.open({select:function(f,p){o.set({src:f.getSrc()}),p&&l.close()},target:o,types:["image"],accept:"image/*"})},n.prototype.onError=function(){var t=this.model.getSrcResult({fallback:!0});t&&(this.el.src=t)},n.prototype.onLoad=function(){this.em.Canvas.refresh({all:!0})},n.prototype.noDrag=function(t){return t.preventDefault(),!1},n.prototype.render=function(){if(this.renderAttributes(),this.modelOpt.temporary)return this;this.updateSrc();var t=this,e=t.$el,r=t.model,o=e.attr("class")||"";return!r.get("src")&&e.attr("class","".concat(o," ").concat(this.classEmpty).trim()),this.postRender(),this},n}(Sr);const Ys=Kl;var Hu=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Di=function(){return Di=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Di.apply(this,arguments)},Xa=function(a,n,t,e){function r(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function f(v){try{h(e.next(v))}catch(b){l(b)}}function p(v){try{h(e.throw(v))}catch(b){l(b)}}function h(v){v.done?o(v.value):r(v.value).then(f,p)}h((e=e.apply(a,n||[])).next())})},Yo=function(a,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,r,o,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(h){return function(v){return p([h,v])}}function p(h){if(e)throw new TypeError("Generator is already executing.");for(;l&&(l=0,h[0]&&(t=0)),t;)try{if(e=1,r&&(o=h[0]&2?r.return:h[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,h[1])).done)return o;switch(r=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,r=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){t.label=h[1];break}if(h[0]===6&&t.label<o[1]){t.label=o[1],o=h;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(h);break}o[2]&&t.ops.pop(),t.trys.pop();continue}h=n.call(a,t)}catch(v){h=[6,v],r=0}finally{e=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},Nf=function(a){Hu(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.events=function(){return{dblclick:"onActive",input:"onInput"}},n.prototype.initialize=function(t){a.prototype.initialize.call(this,t),(0,R.bindAll)(this,"disableEditing","onDisable");var e=this.model,r=this.em;this.listenTo(e,"focus",this.onActive),this.listenTo(e,"change:content",this.updateContentText),this.listenTo(e,"sync:content",this.syncContent),this.rte=r==null?void 0:r.RichTextEditor},n.prototype.updateContentText=function(t,e,r){r===void 0&&(r={}),!r.fromDisable&&this.disableEditing()},n.prototype.canActivate=function(){var t=this,e=t.model,r=t.rteEnabled,o=t.em,l=o==null?void 0:o.getEditing(),f=l===e,p=!0,h=!1,v;if((r||!e.get("editable")||f||(h=e.isChildOf("text")))&&(p=!1,h&&!e.get("textable"))){for(var b=e.parent();b&&!b.isInstanceOf("text");)b=b.parent();b&&b.get("editable")?v=b:p=!0}return{result:p,delegate:v}},n.prototype.onActive=function(t){var e,r;return Xa(this,void 0,void 0,function(){var o,l,f,p,h,v,b,P,B;return Yo(this,function(tt){switch(tt.label){case 0:return o=this,l=o.rte,f=o.em,p=this.canActivate(),h=p.result,v=p.delegate,h?((r=t==null?void 0:t.stopPropagation)===null||r===void 0||r.call(t),b=this,[4,this.getContent()]):(v&&((e=t==null?void 0:t.stopPropagation)===null||e===void 0||e.call(t),f.setSelected(v),v.trigger("active",t)),[2]);case 1:if(b.lastContent=tt.sent(),!l)return[3,5];tt.label=2;case 2:return tt.trys.push([2,4,,5]),P=this,[4,l.enable(this,this.activeRte,{event:t})];case 3:return P.activeRte=tt.sent(),[3,5];case 4:return B=tt.sent(),f.logError(B),[3,5];case 5:return this.toggleEvents(!0),[2]}})})},n.prototype.onDisable=function(t){this.disableEditing(t)},n.prototype.disableEditing=function(t){return t===void 0&&(t={}),Xa(this,void 0,void 0,function(){var e,r,o,l,f,p,h,v;return Yo(this,function(b){switch(b.label){case 0:if(e=this,r=e.model,o=e.rte,l=e.activeRte,f=e.em,p=r&&r.get("editable"),!o)return[3,8];b.label=1;case 1:return b.trys.push([1,3,,4]),[4,o.disable(this,l,t)];case 2:return b.sent(),[3,4];case 3:return h=b.sent(),f.logError(h),[3,4];case 4:return v=p,v?[4,this.getContent()]:[3,6];case 5:v=b.sent()!==this.lastContent,b.label=6;case 6:return v?[4,this.syncContent(t)]:[3,8];case 7:b.sent(),this.lastContent="",b.label=8;case 8:return this.toggleEvents(),[2]}})})},n.prototype.getContent=function(){return Xa(this,void 0,void 0,function(){var t,e,r,o;return Yo(this,function(l){switch(l.label){case 0:return t=this,e=t.rte,r=t.activeRte,o="",e?[4,e.getContent(this,r)]:[3,2];case 1:o=l.sent(),l.label=2;case 2:return[2,o]}})})},n.prototype.syncContent=function(t){return t===void 0&&(t={}),Xa(this,void 0,void 0,function(){var e,r,o,l,f,p,h;return Yo(this,function(v){switch(v.label){case 0:return e=this,r=e.model,o=e.rte,l=e.rteEnabled,!l&&!t.force?[2]:[4,this.getContent()];case 1:return f=v.sent(),p=r.components(),h=Di({fromDisable:1},t),r.set("content","",h),o!=null&&o.customRte&&!o.customRte.parseContent?(p.length&&p.reset(void 0,Di(Di({},t),{keepIds:cn(p)})),r.set("content",f,h)):p.resetFromString(f,t),[2]}})})},n.prototype.insertComponent=function(t,e){var r;e===void 0&&(e={});var o=this,l=o.model,f=o.el,p=f.ownerDocument,h=p.getSelection();if(h!=null&&h.rangeCount){var v=h.getRangeAt(0),b=v.startContainer,P=v.startOffset,B=(0,dt.getComponentModel)(b),tt=[];if(B&&(!((r=B.is)===null||r===void 0)&&r.call(B,"textnode"))){var ut=B.collection;ut.forEach(function(Nt){if(Nt===B){var Ft="textnode",Qt=e.useDomContent?b.textContent||"":Nt.content;tt.push({type:Ft,content:Qt.slice(0,P)}),tt.push(t),tt.push({type:Ft,content:Qt.slice(P)})}else tt.push(Nt)});var ct=tt.filter(Boolean),Tt=ct.indexOf(t);return ut.reset(ct,e),ut.at(Tt)}}return l.append(t,e)},n.prototype.onInput=function(){var t=this.em,e="component",r=["".concat(e,":update"),"".concat(e,":input")].join(" ");t&&t.trigger(r,this.model)},n.prototype.disablePropagation=function(t){t.stopPropagation()},n.prototype.toggleEvents=function(t){var e=this,r=e.em,o=e.model,l=e.$el,f={on:te.on,off:te.S1},p=t?"on":"off";r.setEditing(t?this:!1),this.rteEnabled=!!t;var h=[this.el.ownerDocument,document];if(f.off(h,"mousedown",this.onDisable),f[p](h,"mousedown",this.onDisable),r[p]("toolbar:run:before",this.onDisable),o&&(o[p]("removed",this.onDisable),o.trigger("rte:".concat(t?"enable":"disable"))),l==null||l.off("mousedown",this.disablePropagation),l&&l[p]("mousedown",this.disablePropagation),this.config.draggableComponents)for(var v=this.el;v;)v.draggable=!t,v=v.parentNode,v&&v.tagName=="BODY"&&(v=0)},n}(Sr);const Ja=Nf;var Eo=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Bu=function(a){Eo(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.render=function(){return a.prototype.render.call(this),this.el.addEventListener("click",this.prevDef,!0),this},n}(Ja);const Uu=Bu;var zu=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Nn=function(a){zu(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n}(Uu);const lr=Nn;var lo=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Xo=function(a){lo(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.tagName=function(){return"div"},n.prototype.events=function(){return{}},n.prototype.initialize=function(t){a.prototype.initialize.call(this,t),this.classEmpty=this.ppfx+"plh-map"},n.prototype.updateSrc=function(){this.getIframe().src=this.model.get("src")},n.prototype.getIframe=function(){if(!this.iframe){var t=document.createElement("iframe");t.src=this.model.get("src"),t.frameBorder="0",t.style.height="100%",t.style.width="100%",t.className=this.ppfx+"no-pointer",this.iframe=t}return this.iframe},n.prototype.render=function(){return a.prototype.render.call(this),this.updateClasses(),this.el.appendChild(this.getIframe()),this},n}(Ys);const Jo=Xo;var Wu=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),$l=function(a){Wu(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.tagName=function(){return"script"},n.prototype.events=function(){return{}},n}(Sr);const Gu=$l;var Ff=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ql=function(a){Ff(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype._createElement=function(t){return document.createElementNS("http://www.w3.org/2000/svg",t)},n}(Sr);const ua=ql;var Ku=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Zl=function(a){Ku(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n}(Sr);const Qo=Zl;var $u=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),qu=function(a){$u(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n}(Sr);const Hf=qu;var Xs=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Yl=function(a){Xs(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n}(Sr);const Zu=Yl;var Bf=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Yu=function(a){Bf(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n}(Sr);const Uf=Yu;var zf=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Js=function(a){zf(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n}(Sr);const Xu=Js;var Wf=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Gf=function(a){Wf(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.events=function(){return{}},n}(Sr);const Ju=Gf;var ca=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Xl=function(a){ca(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.tagName=function(){return"div"},n.prototype.events=function(){return{}},n.prototype.initialize=function(){Sr.prototype.initialize.apply(this,arguments);var t=this.model,e=["loop","autoplay","controls","color","rel","modestbranding","poster"],r=e.map(function(o){return"change:".concat(o)}).join(" ");this.listenTo(t,"change:provider",this.updateProvider),this.listenTo(t,"change:src",this.updateSrc),this.listenTo(t,r,this.updateVideo)},n.prototype.updateProvider=function(){var t=this.model.get("provider");this.el.innerHTML="",this.el.appendChild(this.renderByProvider(t))},n.prototype.updateSrc=function(){var t=this,e=t.model,r=t.videoEl;if(r){var o=e.get("provider"),l=e.get("src");switch(o){case"yt":l=e.getYoutubeSrc();break;case"ytnc":l=e.getYoutubeNoCookieSrc();break;case"vi":l=e.getVimeoSrc();break}r.src=l}},n.prototype.updateVideo=function(){var t=this,e=t.model,r=t.videoEl,o=e.get("provider");switch(o){case"yt":case"ytnc":case"vi":e.trigger("change:videoId");break;default:if(r){var l=r;l.loop=e.get("loop"),l.autoplay=e.get("autoplay"),l.controls=e.get("controls"),l.poster=e.get("poster")}}},n.prototype.renderByProvider=function(t){var e;switch(t){case"yt":e=this.renderYoutube();break;case"ytnc":e=this.renderYoutubeNoCookie();break;case"vi":e=this.renderVimeo();break;default:e=this.renderSource()}return this.videoEl=e,e},n.prototype.renderSource=function(){var t=document.createElement("video");return t.src=this.model.get("src"),this.initVideoEl(t),t},n.prototype.renderYoutube=function(){var t=document.createElement("iframe");return t.src=this.model.getYoutubeSrc(),t.frameBorder="0",t.setAttribute("allowfullscreen","true"),this.initVideoEl(t),t},n.prototype.renderYoutubeNoCookie=function(){var t=document.createElement("iframe");return t.src=this.model.getYoutubeNoCookieSrc(),t.frameBorder="0",t.setAttribute("allowfullscreen","true"),this.initVideoEl(t),t},n.prototype.renderVimeo=function(){var t=document.createElement("iframe");return t.src=this.model.getVimeoSrc(),t.frameBorder="0",t.setAttribute("allowfullscreen","true"),this.initVideoEl(t),t},n.prototype.initVideoEl=function(t){t.className=this.ppfx+"no-pointer",t.style.height="100%",t.style.width="100%"},n.prototype.render=function(){Sr.prototype.render.apply(this),this.updateClasses();var t=this.model.get("provider");return this.el.appendChild(this.renderByProvider(t)),this.updateVideo(),this},n}(Ys);const Qs=Xl;var Qu=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Jl=function(a){Qu(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.tagName=function(){return"div"},n}(Sr);const tc=Jl;var Kf=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Qa=function(){return Qa=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Qa.apply(this,arguments)},pn=function(a){Kf(n,a);function n(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=a.apply(this,t)||this;r.refreshDbn=(0,R.debounce)(function(){return r.refresh()},0);var o=r.events;return r.on(o.update,r.onUpdate),r.on(o.updateInside,r.onUpdateDeep),r}return n.prototype.removeChildren=function(t,e,r){var o;r===void 0&&(r={}),a.prototype.removeChildren.call(this,t,e,r),(o=Dr(t))===null||o===void 0||o.forEach(function(l){return Kt(l,{skipRefs:!0})}),this.__trgEvent(this.events.symbolMainRemove,{component:t})},n.prototype.onAdd=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];a.prototype.onAdd.apply(this,t);var r=t[0];this.__trgEvent(this.events.symbolMainAdd,{component:r})},n.prototype.onUpdate=function(t){this.__trgEvent(this.events.symbolMainUpdate,t)},n.prototype.onUpdateDeep=function(t){this.__trgEvent(this.events.symbolMainUpdateDeep,t)},n.prototype.refresh=function(){var t=this,e=t.em,r=t.events;e.trigger(r.symbol)},n.prototype.__trgEvent=function(t,e,r){r===void 0&&(r=!1);var o=this,l=o.em,f=o.events,p=r?f.symbolInstance:f.symbolMain;l.trigger(t,e),l.trigger(p,Qa(Qa({},e),{event:t})),this.refreshDbn()},n}(Qn);const tl=pn;var ec=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),dn=function(){return dn=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},dn.apply(this,arguments)},rc=function(a,n){var t={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&n.indexOf(e)<0&&(t[e]=a[e]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(a);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(a,e[r])&&(t[e[r]]=a[e[r]]);return t},fa=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return a.concat(o||Array.prototype.slice.call(n))},ti;(function(a){a[a.InvalidSource=0]="InvalidSource",a[a.SourceReject=1]="SourceReject",a[a.TargetReject=2]="TargetReject"})(ti||(ti={}));var nc=function(a){ec(n,a);function n(t){var e=a.call(this,t,"DomComponents",new Qn(void 0,{em:t}))||this;e.componentTypes=[{id:"cell",model:Ks,view:Hf},{id:"row",model:Ei,view:Xu},{id:"table",model:Iu,view:Ju},{id:"thead",model:Pf,view:Uf},{id:"tbody",model:Gs,view:Qo},{id:"tfoot",model:Ef,view:Zu},{id:"map",model:Sf,view:Jo},{id:"link",model:Ml,view:Uu},{id:"label",model:Du,view:lr},{id:"video",model:Li,view:Qs},{id:"image",model:Pl,view:Ys},{id:"script",model:na,view:Gu},{id:"svg-in",model:qo,view:ua},{id:"svg",model:Ko,view:ua},{id:"iframe",model:Me,view:Rf},{id:"comment",model:It,view:zl},{id:"textnode",model:H,view:Nu},{id:oo,model:Yi,view:Sr},{id:"wrapper",model:Mf,view:tc},{id:"text",model:Ci,view:Ja},{id:"default",model:Kr,view:Sr}],e.componentsById={},e.Component=Kr,e.Components=Qn,e.ComponentView=Sr,e.ComponentsView=En,e.storageKey="components",e.keySymbols="symbols",e.events=De.g;var r=e.config;e.symbols=new tl([],{em:t,config:r,domc:e}),t&&(e.config.components=t.config.components||e.config.components);for(var o in go)o in e.config||(e.config[o]=go[o]);var l=e.config.pStylePrefix;if(l&&(e.config.stylePrefix=l+e.config.stylePrefix),t){t.get("Parser").compTypes=e.componentTypes,t.on("change:componentHovered",e.componentHovered,e);var f=t.get("selected");t.listenTo(f,"add",function(p,h,v){return e.selectAdd(f.getComponent(p),v)}),t.listenTo(f,"remove",function(p,h,v){return e.selectRemove(f.getComponent(p),v)})}return e}return n.prototype.postLoad=function(){var t=this,e=t.em,r=t.symbols,o=e.UndoManager;o.add(r)},n.prototype.load=function(t){var e=this,r=this.loadProjectData(t,{onResult:function(o){var l=e.getWrapper();if(l||(e.em.Pages.add({},{select:!0}),l=e.getWrapper()),(0,R.isArray)(o))o.length&&l.components(o);else{var f=o.components,p=f===void 0?[]:f,h=rc(o,["components"]);l.set(h),l.components(p)}}});return this.symbols.reset(t[this.keySymbols]||[]),r},n.prototype.store=function(){var t;return t={},t[this.keySymbols]=this.symbols,t},n.prototype.getComponent=function(){var t=this.em.Pages.getSelected(),e=t==null?void 0:t.getMainFrame();return e==null?void 0:e.getComponent()},n.prototype.getWrapper=function(){return this.getComponent()},n.prototype.getComponents=function(){var t=this.getWrapper();return t==null?void 0:t.components()},n.prototype.addComponent=function(t,e){return e===void 0&&(e={}),this.getComponents().add(t,e)},n.prototype.render=function(){var t;return(t=this.componentView)===null||t===void 0?void 0:t.render().el},n.prototype.clear=function(t){t===void 0&&(t={});var e=this.getComponents();return e==null||e.filter(Boolean).forEach(function(r){return r.remove(t)}),this},n.prototype.setComponents=function(t,e){e===void 0&&(e={}),this.clear(e).addComponent(t,e)},n.prototype.addType=function(t,e){var r=this.em,o=e.model,l=o===void 0?{}:o,f=e.view,p=f===void 0?{}:f,h=e.isComponent,v=e.extend,b=e.extendView,P=e.extendFn,B=P===void 0?[]:P,tt=e.extendFnView,ut=tt===void 0?[]:tt,ct=e.block,Tt=this.getType(t),Nt=this.getType(v),Ft=this.getType(b),Qt=Nt||Tt||this.getType("default"),fe=Qt.model,Se=Ft?Ft.view:Qt.view,Pe=function(Wn,bu,wl){return Wn.reduce(function(bl,ui){var ys=bu[ui],ws=wl.prototype[ui];return ys&&ws&&(bl[ui]=function(){for(var Ta=[],Ea=0;Ea<arguments.length;Ea++)Ta[Ea]=arguments[Ea];ws.bind(this).apply(void 0,Ta),ys.bind(this).apply(void 0,Ta)}),bl},{})};if(typeof l=="object"){var ie={defaults:l.defaults};delete l.defaults;var Ee=new Set(fe.typeExtends);Ee.add(fe.getDefaults().type),e.model=fe.extend(dn(dn({},l),Pe(B,l,fe)),{typeExtends:Ee,isComponent:Tt&&!Nt&&!h?fe.isComponent:h||function(){return 0}}),Object.defineProperty(e.model.prototype,"defaults",{get:function(){return dn(dn({},(0,R.result)(fe.prototype,"defaults")||{}),(0,R.result)(ie,"defaults")||{})}})}if(typeof p=="object"&&(e.view=Se.extend(dn(dn({},p),Pe(ut,p,Se)))),Tt?(Tt.model=e.model,Tt.view=e.view):(e.id=t,this.componentTypes.unshift(e)),ct){var Fe={id:t,label:t,content:{type:t}},ur=ct===!0?Fe:dn(dn({},Fe),ct);r.Blocks.add(ur.id||t,ur)}var pe="component:type:".concat(Tt?"update":"add");return r==null||r.trigger(pe,Tt||e),this},n.prototype.getType=function(t){for(var e=this.componentTypes,r=0;r<e.length;r++){var o=e[r].id;if(o==t)return e[r]}},n.prototype.removeType=function(t){var e=this.componentTypes,r=this.getType(t);if(r){var o=e.indexOf(r);return e.splice(o,1),r}},n.prototype.getTypes=function(){return this.componentTypes},n.prototype.selectAdd=function(t,e){var r=this;e===void 0&&(e={}),t&&(t.set({status:"selected"}),["component:selected","component:toggled"].forEach(function(o){return r.em.trigger(o,t,e)}))},n.prototype.selectRemove=function(t,e){var r=this;e===void 0&&(e={}),t&&(this.em,t.set({status:"",state:""}),["component:deselected","component:toggled"].forEach(function(o){return r.em.trigger(o,t,e)}))},n.prototype.componentHovered=function(){var t=this.em,e=t.get("componentHovered"),r=t.previous("componentHovered"),o="hovered";r&&r.get("status")==o&&r.set({status:"",state:""}),e&&(0,R.isEmpty)(e.get("status"))&&e.set("status",o)},n.prototype.getShallowWrapper=function(){var t=this,e=t.shallow,r=t.em;if(!e&&r){var o=r.shallow;if(!o)return;var l=o.Components;if(l.componentTypes=this.componentTypes,e=l.getWrapper(),e){var f=[ro,no].join(" ");e.on(f,(0,R.debounce)(function(){return e==null?void 0:e.components("")},100))}this.shallow=e}return e},n.prototype.isComponent=function(t){return(0,dt.isComponent)(t)},n.prototype.addSymbol=function(t){if(!((0,R.isSymbol)(t)&&!Nr(t))){var e=t.clone({symbol:!0});return be(e)&&this.symbols.add(e),this.em.trigger("component:toggled"),e}},n.prototype.getSymbols=function(){return fa([],this.symbols.models,!0)},n.prototype.detachSymbol=function(t){un(t)&&Kt(t)},n.prototype.getSymbolInfo=function(t,e){e===void 0&&(e={});var r=be(t),o=tn(t),l=!!o,f=Dr(r?t:o)||[],p=o||(r?t:void 0),h=F(t,{changed:e.withChanges}),v=r||l,b=v&&Nr(t);return{isSymbol:v,isMain:r,isInstance:l,isRoot:b,main:p,instances:f,relatives:h||[]}},n.prototype.canMove=function(t,e,r){var o={result:!1,reason:ti.InvalidSource,target:t,source:null};if(!e||!t)return o;var l=(0,dt.isComponent)(e)?e:null;if(!l){var f=this.getShallowWrapper();l=(f==null?void 0:f.append(e)[0])||null}if(o.source=l,!l)return o;var p=l.get("draggable");if((0,R.isFunction)(p))p=!!p(l,t,r);else{var h=t.getEl();p=(0,R.isArray)(p)?p.join(","):p,p=(0,R.isString)(p)?h==null?void 0:h.matches(p):p}if(!p)return dn(dn({},o),{reason:ti.SourceReject});var v=t.get("droppable");if((0,R.isFunction)(v))v=!!v(l,t,r);else if(v===!1&&t.isInstanceOf("text")&&l.get("textable"))v=!0;else{var h=l.getEl();v=(0,R.isArray)(v)?v.join(","):v,v=(0,R.isString)(v)?h==null?void 0:h.matches(v):v}var b=[t].concat(t.parents()).indexOf(l)>-1;return!v||b?dn(dn({},o),{reason:ti.TargetReject}):dn(dn({},o),{result:!0})},n.prototype.allById=function(){return this.componentsById},n.prototype.getById=function(t){return this.componentsById[t]||null},n.prototype.destroy=function(){var t,e=this.allById();Object.keys(e).forEach(function(r){return e[r]&&e[r].remove()}),(t=this.componentView)===null||t===void 0||t.remove(),[this.em,this.componentsById,this.componentView].forEach(function(r){return{}})},n}(j);const oc=nc;var ic={stylePrefix:"css-",rules:[]};const pa=ic;var ac=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),el=Number.MAX_VALUE,sc=function(a){var n=/(-?\d*\.?\d+)\w{0,}/.exec(a);return n?n[0]:""},ts=function(a){ac(n,a);function n(){var t=a.call(this)||this;return(0,R.bindAll)(t,"sortRules"),t.compCls=[],t.ids=[],t}return n.prototype.buildFromModel=function(t,e){var r=this;e===void 0&&(e={});var o="",l=this.em,f=l&&l.getConfig().avoidInlineStyle,p=t.styleToString(),h=t.classes;this.ids.push("#".concat(t.getId())),h.forEach(function(b){return r.compCls.push(b.getFullName())}),!f&&p&&(o="#".concat(t.getId(),"{").concat(p,"}"));var v=t.components();return v.forEach(function(b){return o+=r.buildFromModel(b,e)}),o},n.prototype.build=function(t,e){var r=this;e===void 0&&(e={});var o=e.json,l=e.em,f=e.cssc||(l==null?void 0:l.Css);this.em=l,this.compCls=[],this.ids=[],this.model=t;var p=[],h=t?this.buildFromModel(t,e):"",v=(0,R.isUndefined)(e.clearStyles)&&l?l.getConfig().clearStyles:e.clearStyles;if(f){var b=e.rules||f.getAll(),P={},B=[];e.onlyMatched&&t&&(0,dt.hasWin)()&&(b=this.matchedRules(t,b)),b.forEach(function(tt){var ut=tt.getAtRule();if(ut){var ct=P[ut];ct?ct.push(tt):P[ut]=[tt];return}var Tt=r.buildFromRule(tt,B,e);o?p.push(Tt):h+=Tt}),this.sortMediaObject(P).forEach(function(tt){var ut="",ct=tt.key,Tt=tt.value;Tt.forEach(function(Nt){var Ft=r.buildFromRule(Nt,B,e);Nt.get("singleAtRule")?h+="".concat(ct,"{").concat(Ft,"}"):ut+=Ft,o&&p.push(Ft)}),ut&&(h+="".concat(ct,"{").concat(ut,"}"))}),l&&v&&b.remove&&b.remove(B)}return o?p.filter(function(tt){return tt}):h},n.prototype.buildFromRule=function(t,e,r){var o=this,l;r===void 0&&(r={});var f="",p=this.model,h=t.selectorsToString({skipAdd:1}),v=t.get("selectorsAdd"),b=t.get("singleAtRule"),P;if((l=t.get("selectors"))===null||l===void 0||l.forEach(function(tt){var ut=tt.getFullName();(o.compCls.indexOf(ut)>=0||o.ids.indexOf(ut)>=0||r.keepUnusedStyles)&&(P=1)}),h&&P||v||b||!p){var B=t.getDeclaration({body:1});B&&(r.json?f=t:f+=B)}else e.push(t);return f},n.prototype.matchedRules=function(t,e){var r=this,o=t.getEl(),l=[];return e.forEach(function(f){try{f.selectorsToString().split(",").some(function(p){return o==null?void 0:o.matches(r.__cleanSelector(p))})&&l.push(f)}catch{}}),t.components().forEach(function(f){l=l.concat(r.matchedRules(f,e))}),l=l.filter(function(f,p){return l.indexOf(f)===p}),l},n.prototype.getQueryLength=function(t){var e=/(-?\d*\.?\d+)\w{0,}/.exec(t);return e?parseFloat(e[1]):el},n.prototype.sortMediaObject=function(t){var e=this;t===void 0&&(t={});var r=[];return(0,R.each)(t,function(o,l){return r.push({key:l,value:o})}),r.sort(function(o,l){var f=[o.key,l.key].every(function(v){return v.indexOf("min-width")!==-1}),p=f?o.key:l.key,h=f?l.key:o.key;return e.getQueryLength(p)-e.getQueryLength(h)})},n.prototype.sortRules=function(t,e){var r=function(p){return p.get("mediaText")||""},o=[r(t),r(e)].every(function(p){return p.indexOf("min-width")!==-1}),l=r(o?t:e),f=r(o?e:t);return this.getQueryLength(l)-this.getQueryLength(f)},n.prototype.__cleanSelector=function(t){return t.split(" ").map(function(e){return e.split(":")[0]}).join(" ")},n}(m.Hn);const $f=ts;var da=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ha=function(){return ha=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},ha.apply(this,arguments)},lc=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return a.concat(o||Array.prototype.slice.call(n))},rl=((0,dt.hasWin)()?window:{}).CSS,es=function(a){da(n,a);function n(t,e){e===void 0&&(e={});var r=a.call(this,t)||this;return r.config=t||{},r.opt=e,r.em=e.em,r.ensureSelectors(null,null,{}),r.on("change",r.__onChange),r}return n.prototype.defaults=function(){return{selectors:[],selectorsAdd:"",style:{},mediaText:"",state:"",stylable:!0,atRuleType:"",singleAtRule:!1,important:!1,group:"",shallow:!1,_undo:!0}},n.prototype.__onChange=function(t,e){var r=this.em,o=this.changedAttributes();o&&!(0,dt.isEmptyObj)(o)&&(r==null||r.changesUp(e))},n.prototype.clone=function(){var t=ha({},this.opt),e=ha({},this.attributes);return e.selectors=this.get("selectors").map(function(r){return r.clone()}),new this.constructor(e,t)},n.prototype.ensureSelectors=function(t,e,r){var o=this.em,l=o==null?void 0:o.get("SelectorManager"),f=[this,"change:selectors",this.ensureSelectors],p=this.getSelectors();if(this.stopListening.apply(this,f),p.models&&(p=lc([],p.models,!0)),p=(0,R.isString)(p)?[p]:p,Array.isArray(p)){var h=p.filter(function(v){return v}).map(function(v){return l?l.add(v):v});p=new to(h)}this.set("selectors",p,r),this.listenTo.apply(this,f)},n.prototype.getAtRule=function(){var t=this.get("atRuleType"),e=this.get("mediaText"),r=t?"@".concat(t):e?"@media":"";return r+(e&&r?" ".concat(e):"")},n.prototype.selectorsToString=function(t){t===void 0&&(t={});var e=[],r=this.get("state"),o=this.get("selectorsAdd"),l={escape:function(h){return rl&&rl.escape?rl.escape(h):h}},f=this.get("selectors").getFullString(0,l),p=r&&!t.skipState?":".concat(r):"";return f&&e.push("".concat(f).concat(p)),o&&!t.skipAdd&&e.push(o),e.join(", ")},n.prototype.getDeclaration=function(t){t===void 0&&(t={});var e="",r=this.attributes.important,o=this.selectorsToString(t),l=this.styleToString(ha({important:r},t)),f=this.get("singleAtRule");return(o||f)&&(l||t.allowEmpty)&&(e=f?l:"".concat(o,"{").concat(l,"}")),e},n.prototype.getDevice=function(){var t=this.em,e=this.attributes,r=e.atRuleType,o=e.mediaText,l=(t==null?void 0:t.get("DeviceManager").getDevices())||[],f=l.filter(function(p){return p.getWidthMedia()===""})[0];return r!=="media"||!o?f||null:l.filter(function(p){return p.getWidthMedia()===sc(o)})[0]||null},n.prototype.getState=function(){var t=this.em,e=this.get("state"),r=(t==null?void 0:t.get("SelectorManager").getStates())||[];return r.filter(function(o){return o.getName()===e})[0]||null},n.prototype.getComponent=function(){var t,e=this.getSelectors(),r=e.length==1&&e.at(0),o=r&&r.isId()&&r.get("name");return o&&((t=this.em)===null||t===void 0?void 0:t.Components.getById(o))||null},n.prototype.toCSS=function(t){t===void 0&&(t={});var e="",r=this.getAtRule(),o=this.getDeclaration(t);return(o||t.allowEmpty)&&(e=o),r&&e&&(e="".concat(r,"{").concat(e,"}")),e},n.prototype.toJSON=function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var o=m.Hn.prototype.toJSON.apply(this,e);if(!((t=this.em)===null||t===void 0)&&t.getConfig().avoidDefaults){var l=this.defaults();(0,R.forEach)(l,function(f,p){o[p]===f&&delete o[p]}),delete o.style.__p,(0,R.isEmpty)(o.selectors)&&delete o.selectors,(0,R.isEmpty)(o.style)&&delete o.style}return o},n.prototype.compare=function(t,e,r,o){var l;o===void 0&&(o={});var f=e||"",p=r||"",h=o.selectorsAdd||"",v=o.atRuleType||"",b=!(0,R.isArray)(t)&&!t.models?[t]:t.models||t;p&&!v&&(v="media");var P=b.map(function(ct){return ct.getFullName()}),B=(l=this.get("selectors"))===null||l===void 0?void 0:l.map(function(ct){return ct.getFullName()}),tt=P.slice().sort(),ut=B.slice().sort();return!(P.length!==B.length||!tt.every(function(ct,Tt){return ct===ut[Tt]})||this.get("state")!==f||this.get("mediaText")!==p||this.get("selectorsAdd")!==h||this.get("atRuleType")!==v)},n}(On);const va=es;var rs=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ga=function(a){rs(n,a);function n(t,e){var r=a.call(this,t)||this;return r.editor=e==null?void 0:e.em,setTimeout(function(){r.on("remove",r.onRemove),r.on("add",r.onAdd)}),r}return n.prototype.toJSON=function(t){var e=m.FE.prototype.toJSON.call(this,t);return e.filter(function(r){return r.style&&!r.shallow})},n.prototype.onAdd=function(t,e,r){t.ensureSelectors(t,e,r)},n.prototype.onRemove=function(t){var e=this.editor;e.stopListening(t),e.UndoManager.remove(t)},n.prototype.add=function(t,e){return e===void 0&&(e={}),typeof t=="string"&&(t=this.editor.get("Parser").parseCss(t)),e.em=this.editor,m.FE.prototype.add.apply(this,[t,e])},n}(m.FE);const uc=ga;ga.prototype.model=va;var qf=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ei=function(){return ei=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},ei.apply(this,arguments)},ri=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return a.concat(o||Array.prototype.slice.call(n))},ma=function(a){qf(n,a);function n(t){var e=a.call(this,t,"CssComposer",null,{},pa)||this;e.Selectors=to,e.storageKey="styles";var r=e.config,o=r.pStylePrefix;return o&&(r.stylePrefix=o+r.stylePrefix),r.rules=e.em.config.style||r.rules||"",e.rules=new uc([],r),e}return n.prototype.onLoad=function(){this.rules.add(this.config.rules,{silent:!0})},n.prototype.postLoad=function(){var t,e=(t=this.em)===null||t===void 0?void 0:t.get("UndoManager");e&&e.add(this.getAll())},n.prototype.store=function(){return this.getProjectData()},n.prototype.load=function(t){return this.loadProjectData(t,{all:this.rules})},n.prototype.add=function(t,e,r,o,l){o===void 0&&(o={}),l===void 0&&(l={});var f=e||"",p=r||"",h=ei({},o),v=this.get(t,f,p,h);return v&&v.config&&!v.config.singleAtRule||(h.state=f,h.mediaText=p,h.selectors=[],p&&!h.atRuleType&&(h.atRuleType="media"),v=new va(h,this.config),v.get("selectors").add(t,l),this.rules.add(v,l)),v},n.prototype.get=function(t,e,r,o){var l=t;if((0,R.isString)(t)){var f=this.em.Selectors,p=t.split(",")[0].trim(),h=this.em.Parser.parserCss.checkNode({selectors:p})[0];l=f.get(h.selectors)}return this.rules.find(function(v){return v.compare(l,e,r,o)})||null},n.prototype.getAll=function(){return this.rules},n.prototype.addCollection=function(t,e,r){e===void 0&&(e={}),r===void 0&&(r={});var o=this.em,l=[];(0,R.isString)(t)&&(t=o.Parser.parseCss(t));for(var f=t instanceof Array?t:[t],p=0,h=f.length;p<h;p++){var v=f[p]||{};if(v.selectors){var b=o==null?void 0:o.Selectors;b||console.warn("Selector Manager not found");for(var P=v.selectors,B=P instanceof Array?P:[P],tt=[],ut=0,ct=B.length;ut<ct;ut++){var Tt=b.add(B[ut]);tt.push(Tt)}var Nt=this.get(tt,v.state,v.mediaText,v),Ft=this.add(tt,v.state,v.mediaText,v,e),Qt=!Nt||!e.avoidUpdateStyle,fe=v.style||{};if((0,dt.isObject)(r)&&Ft.set(r,e),Qt){var Se=e.extend?ei(ei({},Ft.get("style")),fe):fe;Ft.set("style",Se,e)}l.push(Ft)}}return l},n.prototype.addRules=function(t){return this.addCollection(t)},n.prototype.setRule=function(t,e,r){e===void 0&&(e={}),r===void 0&&(r={});var o=r.atRuleType,l=r.atRuleParams,f=this.em.Parser.parserCss.checkNode({selectors:t,style:e})[0],p=f.state,h=f.selectorsAdd,v=this.em.Selectors,b=v.add(f.selectors),P=this.add(b,p,l,{selectorsAdd:h,atRule:o});return r.addStyles?P.addStyle(e,r):P.setStyle(e,r),P},n.prototype.getRule=function(t,e){e===void 0&&(e={});var r=this.em,o=r.Selectors,l=r.Parser.parserCss.checkNode({selectors:t})[0],f=o.get(l.selectors),p=l.state,h=l.selectorsAdd,v=e.atRuleType,b=e.atRuleParams;return f?this.get(f,p,b,{selectorsAdd:h,atRuleType:v}):void 0},n.prototype.getRules=function(t){var e=this.getAll();if(!t)return ri([],e.models,!0);var r={sort:!0},o=(0,R.isString)(t)?t.split(",").map(function(f){return f.trim()}):t,l=e.filter(function(f){return o.indexOf(f.getSelectors().getFullString(null,r))>=0});return l},n.prototype.setIdRule=function(t,e,r){e===void 0&&(e={}),r===void 0&&(r={});var o=r.addOpts,l=o===void 0?{}:o,f=r.mediaText,p=r.state||"",h=(0,R.isUndefined)(f)?this.em.getCurrentMedia():f,v=this.em.Selectors,b=v.add({name:t,type:jr.TYPE_ID},l),P=this.add(b,p,h,{},l);return P.setStyle(e,ei(ei({},r),l)),P},n.prototype.getIdRule=function(t,e){e===void 0&&(e={});var r=e.mediaText,o=e.state||"",l=(0,R.isUndefined)(r)?this.em.getCurrentMedia():r,f=this.em.Selectors.get(t,jr.TYPE_ID);return f&&this.get(f,o,l)},n.prototype.setClassRule=function(t,e,r){e===void 0&&(e={}),r===void 0&&(r={});var o=r.state||"",l=r.mediaText||this.em.getCurrentMedia(),f=this.em.Selectors,p=f.add({name:t,type:jr.TYPE_CLASS}),h=this.add(p,o,l);return h.setStyle(e,r),h},n.prototype.getClassRule=function(t,e){e===void 0&&(e={});var r=e.state||"",o=e.mediaText||this.em.getCurrentMedia(),l=this.em.Selectors.get(t,jr.TYPE_CLASS);return l&&this.get(l,r,o)},n.prototype.remove=function(t,e){var r=(0,R.isString)(t)?this.getRules(t):t,o=this.getAll().remove(r,e);return(0,R.isArray)(o)?o:[o]},n.prototype.clear=function(t){return t===void 0&&(t={}),this.getAll().reset([],t),this},n.prototype.getComponentRules=function(t,e){e===void 0&&(e={});var r=e.state,o=e.mediaText,l=e.current;l&&(r=this.em.get("state")||"",o=this.em.getCurrentMedia());var f=t.getId(),p=this.getAll().filter(function(h){return!(0,R.isUndefined)(r)&&h.get("state")!==r||!(0,R.isUndefined)(o)&&h.get("mediaText")!==o?!1:h.getSelectorsString()==="#".concat(f)});return p},n.prototype.render=function(){var t;return(t=this.rulesView)===null||t===void 0||t.remove(),this.rulesView=new vn({collection:this.rules,config:this.config}),this.rulesView.render().el},n.prototype.checkId=function(t,e){e===void 0&&(e={});var r=e.idMap,o=r===void 0?{}:r,l=[];if(!Object.keys(o).length)return l;var f=Array.isArray(t)?t:[t];return f.forEach(function(p){var h=p.selectors;if(h&&h.length==1){var v=h[0];if((0,R.isString)(v)){if(v[0]==="#"){var b=v.substring(1),P=o[b];b&&P&&(h[0]="#".concat(P),l.push(p))}}else if(v.name&&v.type===jr.TYPE_ID){var P=o[v.name];P&&(v.name=P,l.push(p))}}}),l},n.prototype.destroy=function(){var t;this.rules.reset(),this.rules.stopListening(),(t=this.rulesView)===null||t===void 0||t.remove()},n}(j);const ns=ma;var Zf={appendTo:"",blocks:[],appendOnClick:!1,custom:!1};const cc=Zf;var Yf=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Xf=function(a){Yf(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.defaults=function(){return{label:"",content:"",media:"",category:"",activate:!1,select:void 0,resetId:!1,disable:!1,onClick:void 0,attributes:{}}},Object.defineProperty(n.prototype,"category",{get:function(){var t=this.get("category");return t instanceof Vo?t:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return this.collection},enumerable:!1,configurable:!0}),n.prototype.getId=function(){return this.id},n.prototype.getLabel=function(){return this.get("label")},n.prototype.getMedia=function(){return this.get("media")},n.prototype.getContent=function(){return this.get("content")},n.prototype.getCategoryLabel=function(){var t=this.get("category");return(0,R.isFunction)(t==null?void 0:t.get)?t.get("label"):t!=null&&t.label?t==null?void 0:t.label:t},n}(m.Hn);const fc=Xf;var Pn=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ql=function(a){Pn(n,a);function n(t,e){var r=a.call(this,t)||this;return r.em=e.em,r.on("add",r.handleAdd),r}return n.prototype.getCategories=function(){return this.em.Blocks.getCategories()},n.prototype.handleAdd=function(t){this.initCategory(t)},n}(Da);const nl=Ql;Ql.prototype.model=fc;var os;(function(a){a.add="block:add",a.remove="block:remove",a.removeBefore="block:remove:before",a.update="block:update",a.dragStart="block:drag:start",a.drag="block:drag",a.dragEnd="block:drag:stop",a.categoryUpdate="block:category:update",a.custom="block:custom",a.all="block"})(os||(os={}));var Jf=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),pc=function(a){Jf(n,a);function n(t,e){e===void 0&&(e={});var r=a.call(this,t)||this,o=r.model;return r.em=e.em,r.config=e,r.endDrag=r.endDrag.bind(r),r.ppfx=e.pStylePrefix||"",r.listenTo(o,"destroy remove",r.remove),r.listenTo(o,"change",r.render),r}return n.prototype.events=function(){return{click:"handleClick",mousedown:"startDrag",dragstart:"handleDragStart",drag:"handleDrag",dragend:"handleDragEnd"}},n.prototype.__getModule=function(){return this.em.Blocks},n.prototype.handleClick=function(t){var e=this,r=e.config,o=e.model,l=e.em,f=o.get("onClick")||r.appendOnClick;if(l.trigger("block:click",o,t),f){if((0,R.isFunction)(f))return f(o,l==null?void 0:l.getEditor(),{event:t})}else return;var p=r.getSorter(),h=o.get("content"),v=l.getSelected();p.setDropContent(h);var b,P,B;if(v)if(P=p.validTarget(v.getEl(),h),P.valid)b=v;else{var tt=v.parent();tt&&(P=p.validTarget(tt.getEl(),h),P.valid&&(b=tt,B=tt.components().indexOf(v)+1))}if(!b){var ut=l.getWrapper();P=p.validTarget(ut.getEl(),h),P.valid&&(b=ut)}var ct=b&&b.append(h,{at:B})[0];ct&&l.setSelected(ct,{scroll:1})},n.prototype.startDrag=function(t){var e=this,r=e.config,o=e.em,l=e.model,f=l.get("disable");if(!(t.button!==0||!r.getSorter||this.el.draggable||f)){o.refreshCanvas();var p=r.getSorter();p.__currentBlock=l,p.setDragHelper(this.el,t),p.setDropContent(this.model.get("content")),p.startSort(this.el),(0,te.on)(document,"mouseup",this.endDrag)}},n.prototype.handleDragStart=function(t){this.__getModule().__startDrag(this.model,t)},n.prototype.handleDrag=function(t){this.__getModule().__drag(t)},n.prototype.handleDragEnd=function(){this.__getModule().__endDrag()},n.prototype.endDrag=function(){(0,te.S1)(document,"mouseup",this.endDrag);var t=this.config.getSorter();t.moved=0,t.endMove()},n.prototype.render=function(){var t,e=this,r=e.em,o=e.el,l=e.$el,f=e.ppfx,p=e.model,h=p.get("disable"),v=p.get("attributes")||{},b=v.class||"",P="".concat(f,"block"),B=r&&r.t("blockManager.labels.".concat(p.id))||p.get("label"),tt=p.get("render"),ut=p.get("media"),ct=h?"".concat(P,"--disable"):"".concat(f,"four-color-h");l.attr(v),o.className="".concat(b," ").concat(P," ").concat(f,"one-bg ").concat(ct).trim(),o.innerHTML=`
      `.concat(ut?'<div class="'.concat(P,'__media">').concat(ut,"</div>"):"",`
      <div class="`).concat(P,'-label">').concat(B,`</div>
    `),o.title=v.title||((t=o.textContent)===null||t===void 0?void 0:t.trim()),o.setAttribute("draggable","".concat(!!((0,dt.hasDnd)(r)&&!h)));var Tt=tt&&tt({el:o,model:p,className:P,prefix:f});return Tt&&(o.innerHTML=Tt),this},n}(m.G7);const dc=pc;var hc=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Qf=function(a,n){return Object.defineProperty?Object.defineProperty(a,"raw",{value:n}):a.raw=n,a},tp=function(a){hc(n,a);function n(t,e,r){var o=a.call(this,t)||this;o.config=e;var l=e.pStylePrefix||"";return o.em=e.em,o.catName=r,o.pfx=l,o.caretR="fa fa-caret-right",o.caretD="fa fa-caret-down",o.iconClass="".concat(l,"caret-icon"),o.activeClass="".concat(l,"open"),o.className="".concat(l).concat(r,"-category"),o.listenTo(o.model,"change:open",o.updateVisibility),o.model.view=o,o}return n.prototype.events=function(){return{"click [data-title]":"toggle"}},n.prototype.template=function(t){var e=t.pfx,r=t.label,o=t.catName;return wt(Po||(Po=Qf([`
      <div class="`,`title" data-title>
        <i class="`,`caret-icon"></i>
        `,`
      </div>
      <div class="`,"",`s-c"></div>
    `],[`
      <div class="`,`title" data-title>
        <i class="`,`caret-icon"></i>
        `,`
      </div>
      <div class="`,"",`s-c"></div>
    `])),e,e,r,e,o)},n.prototype.attributes=function(){return this.model.get("attributes")||{}},n.prototype.updateVisibility=function(){this.model.get("open")?this.open():this.close()},n.prototype.open=function(){this.$el.addClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretD),this.getTypeEl().style.display=""},n.prototype.close=function(){this.$el.removeClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretR),this.getTypeEl().style.display="none"},n.prototype.toggle=function(){var t=this.model;t.set("open",!t.get("open"))},n.prototype.getIconEl=function(){return this.iconEl||(this.iconEl=this.el.querySelector(".".concat(this.iconClass))),this.iconEl},n.prototype.getTypeEl=function(){return this.typeEl||(this.typeEl=this.el.querySelector(".".concat(this.pfx).concat(this.catName,"s-c"))),this.typeEl},n.prototype.append=function(t){this.getTypeEl().appendChild(t)},n.prototype.render=function(){var t=this,e=t.em,r=t.el,o=t.$el,l=t.model,f=t.pfx,p=t.catName,h=e.t("".concat(p,"Manager.categories.").concat(l.id))||l.get("label");return r.innerHTML=this.template({pfx:f,label:h,catName:p}),o.addClass(this.className),o.css({order:l.get("order")}),this.updateVisibility(),this},n}(m.G7);const vc=tp;var Po,is=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ji=function(){return ji=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},ji.apply(this,arguments)},as=function(a){is(n,a);function n(t,e){var r=a.call(this,t)||this;r.renderedCategories=new Map,(0,R.bindAll)(r,"getSorter","onDrag","onDrop","onMove"),r.config=e||{},r.categories=t.categories||"";var o=r.config.pStylePrefix||"";r.ppfx=o,r.noCatClass="".concat(o,"blocks-no-cat"),r.blockContClass="".concat(o,"blocks-c"),r.catsClass="".concat(o,"block-categories");var l=r.collection;return r.listenTo(l,"add",r.addTo),r.listenTo(l,"reset",r.render),r.em=r.config.em,r.em&&(r.config.getSorter=r.getSorter),r}return n.prototype.__getModule=function(){return this.em.Blocks},n.prototype.updateConfig=function(t){t===void 0&&(t={}),this.config=ji(ji({},this.config),t)},n.prototype.getSorter=function(){var t=this.em;if(t){if(!this.sorter){var e=t.Utils,r=t.Canvas;this.sorter=new e.Sorter({container:r.getBody(),placer:r.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:this.ppfx,onStart:this.onDrag,onEndMove:this.onDrop,onMove:this.onMove,document:r.getFrameEl().contentDocument,direction:"a",wmargin:1,nested:1,em:t,canvasRelative:1})}return this.sorter}},n.prototype.onDrag=function(t){this.em.stopDefault(),this.__getModule().__startDrag(this.sorter.__currentBlock,t)},n.prototype.onMove=function(t){this.__getModule().__drag(t)},n.prototype.onDrop=function(t){this.em.runDefault(),this.__getModule().__endDrag({component:t}),delete this.sorter.__currentBlock},n.prototype.addTo=function(t){this.add(t)},n.prototype.add=function(t,e){var r=this,o=r.config,l=r.renderedCategories,f=t.get("attributes"),p=new dc({model:t,attributes:f},o),h=p.render().el,v=t.parent.initCategory(t);if(v&&this.categories&&!o.ignoreCategories){var b=v.getId(),P=this.getCategoriesEl(),B=l.get(b);!B&&P&&(B=new vc({model:v},o,"block").render(),l.set(b,B),P.appendChild(B.el)),B==null||B.append(h);return}e?e.appendChild(h):this.append(h)},n.prototype.getCategoriesEl=function(){return this.catsEl||(this.catsEl=this.el.querySelector(".".concat(this.catsClass))),this.catsEl},n.prototype.getBlocksEl=function(){return this.blocksEl||(this.blocksEl=this.el.querySelector(".".concat(this.noCatClass," .").concat(this.blockContClass))),this.blocksEl},n.prototype.append=function(t){var e=this.getBlocksEl();e&&e.appendChild(t)},n.prototype.render=function(){var t=this,e=this.ppfx,r=document.createDocumentFragment();delete this.catsEl,delete this.blocksEl,this.renderedCategories=new Map,this.el.innerHTML=`
      <div class="`.concat(this.catsClass,`"></div>
      <div class="`).concat(this.noCatClass,`">
        <div class="`).concat(this.blockContClass,`"></div>
      </div>
    `),this.collection.each(function(l){return t.add(l,r)}),this.append(r);var o="".concat(this.blockContClass,"s ").concat(e,"one-bg ").concat(e,"two-color");return this.$el.addClass(o),this.rendered=!0,this},n}(m.G7);const yo=as;var ep=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ni=function(){return ni=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},ni.apply(this,arguments)},ya=function(a){ep(n,a);function n(t){var e,r=a.call(this,t,"BlockManager",new nl(((e=t.config.blockManager)===null||e===void 0?void 0:e.blocks)||[],{em:t}),os,cc)||this;return r.events=os,r.Block=fc,r.Blocks=nl,r.Category=Vo,r.Categories=_o,r.storageKey="",r.blocks=r.all,r.blocksVisible=new nl(r.blocks.models,{em:t}),r.categories=new _o([],{em:t,events:{update:os.categoryUpdate}}),r.blocks.on("add",function(o){return r.blocksVisible.add(o)}),r.blocks.on("remove",function(o){return r.blocksVisible.remove(o)}),r.blocks.on("reset",function(o){return r.blocksVisible.reset(o.models)}),r.__onAllEvent=(0,R.debounce)(function(){return r.__trgCustom()},0),r}return n.prototype.__trgCustom=function(){this.em.trigger(this.events.custom,this.__customData())},n.prototype.__customData=function(){var t=this,e=this.__getBehaviour();return{bm:this,blocks:this.getAll().models,container:e.container,dragStart:function(r,o){return t.startDrag(r,o)},drag:function(r){return t.__drag(r)},dragStop:function(r){return t.endDrag(r)}}},n.prototype.__startDrag=function(t,e){var r=this,o=r.em,l=r.events,f=r.blocks,p=t.getContent?t.getContent():t;this._dragBlock=t,o.set({dragResult:null,dragContent:p}),[o,f].map(function(h){return h.trigger(l.dragStart,t,e)})},n.prototype.__drag=function(t){var e=this,r=e.em,o=e.events,l=e.blocks,f=this._dragBlock;[r,l].map(function(p){return p.trigger(o.drag,f,t)})},n.prototype.__endDrag=function(t){t===void 0&&(t={});var e=this,r=e.em,o=e.events,l=e.blocks,f=this._dragBlock,p=t.component||r.get("dragResult");if(delete this._dragBlock,p&&f){var h="activeOnRender",v=p.get&&p.get(h),b=f.get("activate")||v,P=f.get("select"),B=(0,R.isArray)(p)?p[0]:p;(P||b&&P!==!1)&&r.setSelected(B),b&&(B.trigger("active"),v&&B.unset(h)),f.get("resetId")&&B.onAll(function(tt){return tt.resetId()})}r.set({dragResult:null,dragContent:null}),f&&[r,l].map(function(tt){return tt.trigger(o.dragEnd,p,f)})},n.prototype.__getFrameViews=function(){return this.em.Canvas.getFrames().map(function(t){return t.view}).filter(Boolean)},n.prototype.__behaviour=function(t){return t===void 0&&(t={}),this._bhv=ni(ni({},this._bhv||{}),t)},n.prototype.__getBehaviour=function(){return this._bhv||{}},n.prototype.startDrag=function(t,e){this.__startDrag(t,e),this.__getFrameViews().forEach(function(r){var o;return(o=r.droppable)===null||o===void 0?void 0:o.startCustom()})},n.prototype.endDrag=function(t){this.__getFrameViews().forEach(function(e){var r;return(r=e.droppable)===null||r===void 0?void 0:r.endCustom(t)}),this.__endDrag()},n.prototype.postRender=function(){var t=this,e=t.categories,r=t.config,o=t.em,l=this.blocksVisible;this.blocksView=new yo({collection:l,categories:e},ni(ni({},r),{em:o})),this.__appendTo(l.models),this.__trgCustom()},n.prototype.add=function(t,e,r){r===void 0&&(r={});var o=e||{};return o.id=t,this.blocks.add(o,r)},n.prototype.get=function(t){return this.blocks.get(t)},n.prototype.getAll=function(){return this.blocks},n.prototype.getAllVisible=function(){return this.blocksVisible},n.prototype.remove=function(t,e){return e===void 0&&(e={}),this.__remove(t,e)},n.prototype.getCategories=function(){return this.categories},n.prototype.getContainer=function(){var t;return(t=this.blocksView)===null||t===void 0?void 0:t.el},n.prototype.getDragBlock=function(){return this._dragBlock},n.prototype.getBlocksByCategory=function(t){return Ro(t||this.getAll().models)},n.prototype.render=function(t,e){e===void 0&&(e={});var r=this,o=r.categories,l=r.config,f=r.em,p=t||this.getAll().models;if(e.external){var h=new nl(p,{em:f});return new yo({collection:h,categories:o},ni(ni({em:f},l),e)).render().el}return this.blocksView&&(this.blocksView.updateConfig(e),this.blocksView.collection.reset(p),this.blocksView.rendered||(this.blocksView.render(),this.blocksView.rendered=!0)),this.getContainer()},n.prototype.destroy=function(){var t,e=[this.blocks,this.blocksVisible,this.categories];e.map(function(r){return r.stopListening()}),e.map(function(r){return r.reset()}),(t=this.blocksView)===null||t===void 0||t.remove()},n}(j);const gc=ya;var mc={stylePrefix:"clm-",appendTo:"",selectors:[],states:[{name:"hover"},{name:"active"},{name:"nth-of-type(2n)"}],iconAdd:'<svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></svg>',iconSync:'<svg viewBox="0 0 24 24"><path d="M12 18c-3.31 0-6-2.69-6-6 0-1 .25-1.97.7-2.8L5.24 7.74A7.93 7.93 0 0 0 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4m0-11V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1-.25 1.97-.7 2.8l1.46 1.46A7.93 7.93 0 0 0 20 12c0-4.42-3.58-8-8-8z"></path></svg>',iconTagOn:'<svg viewBox="0 0 24 24"><path d="M19 19H5V5h10V3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8h-2m-11.09-.92L6.5 11.5 11 16 21 6l-1.41-1.42L11 13.17l-3.09-3.09z"></path></svg>',iconTagOff:'<svg viewBox="0 0 24 24"><path d="M19 3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2m0 2v14H5V5h14z"></path></svg>',iconTagRemove:'<svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',componentFirst:!1,custom:!1};const yc=mc;var ol=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ii=function(a){ol(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.defaults=function(){return{name:"",label:""}},n.prototype.getName=function(){return this.get("name")},n.prototype.getLabel=function(){return this.get("label")||this.getName()},n}(m.Hn);const ss=Ii;Ii.prototype.idAttribute="name";var tu=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),eu=function(a,n){return Object.defineProperty?Object.defineProperty(a,"raw",{value:n}):a.raw=n,a},wc="contentEditable",ls=function(a){tu(n,a);function n(t){t===void 0&&(t={});var e=a.call(this,t)||this,r=t.config||{};return e.config=r,e.module=t.module,e.coll=t.coll||null,e.pfx=r.stylePrefix||"",e.ppfx=r.pStylePrefix||"",e.em=r.em,e.listenTo(e.model,"change:active",e.updateStatus),e}return n.prototype.template=function(){var t=this,e=t.pfx,r=t.model,o=t.config,l=r.get("label")||"";return wt(_c||(_c=eu([`
      <span id="`,'checkbox" class="',`tag-status" data-tag-status></span>
      <span id="`,'tag-label" data-tag-name>',`</span>
      <span id="`,'close" class="','tag-close" data-tag-remove> $',` </span>
    `],[`
      <span id="`,'checkbox" class="',`tag-status" data-tag-status></span>
      <span id="`,'tag-label" data-tag-name>',`</span>
      <span id="`,'close" class="','tag-close" data-tag-remove> $',` </span>
    `])),e,e,e,l,e,e,o.iconTagRemove)},n.prototype.events=function(){return{"click [data-tag-remove]":"removeTag","click [data-tag-status]":"changeStatus","dblclick [data-tag-name]":"startEditTag","focusout [data-tag-name]":"endEditTag"}},n.prototype.getInputEl=function(){return this.inputEl||(this.inputEl=this.el.querySelector("[data-tag-name]")),this.inputEl},n.prototype.startEditTag=function(){var t=this.em,e=this.getInputEl();e[wc]="true",e.focus(),t==null||t.setEditing(!0)},n.prototype.endEditTag=function(){var t=this,e=t.model,r=t.em,o=this.getInputEl(),l=o.textContent||"",f=r==null?void 0:r.Selectors;o[wc]="false",r==null||r.setEditing(!1),f&&f.rename(e,l)!==e&&(o.innerText=e.getLabel())},n.prototype.changeStatus=function(){var t=this.model;t.set("active",!t.getActive())},n.prototype.removeTag=function(){this.module.removeSelected(this.model)},n.prototype.updateStatus=function(){var t=this,e=t.model,r=t.$el,o=t.config,l=o.iconTagOn,f=o.iconTagOff,p=r.find("[data-tag-status]");e.get("active")?(p.html(l),r.removeClass("opac50")):(p.html(f),r.addClass("opac50"))},n.prototype.render=function(){var t=this,e=t.pfx,r=t.ppfx,o=t.$el,l=t.model,f="".concat(e,"tag"),p=["".concat(f," ").concat(r,"three-bg")];return l.get("protected")&&p.push("".concat(f,"-protected")),o.html(this.template()),o.attr("class",p.join(" ")),this.updateStatus(),this},n}(m.G7);const bc=ls;var _c,xc=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),oi=function(a,n){return Object.defineProperty?Object.defineProperty(a,"raw",{value:n}):a.raw=n,a},rp=function(a){xc(n,a);function n(t){t===void 0&&(t={});var e=a.call(this,t)||this;e.config=t.config||{},e.pfx=e.config.stylePrefix||"",e.ppfx=e.config.pStylePrefix||"",e.className=e.pfx+"tags",e.stateInputId=e.pfx+"states",e.stateInputC=e.pfx+"input-c",e.states=e.config.states||[];var r=e.config.em,o=e.collection;e.target=r;var l=r.Selectors;e.module=l,e.em=r,e.componentChanged=(0,R.debounce)(e.componentChanged.bind(e),0),e.checkSync=(0,R.debounce)(e.checkSync.bind(e),0);var f=De.g.update,p="".concat(f,":classes"),h="component:toggled ".concat(p),v="".concat(p," ").concat(f,":attributes:id change:state");return e.listenTo(r,h,e.componentChanged),e.listenTo(r,"styleManager:update",e.componentChanged),e.listenTo(r,v,e.__handleStateChange),e.listenTo(r,"styleable:change change:device",e.checkSync),e.listenTo(o,"add",e.addNew),e.listenTo(o,"reset",e.renderClasses),e.listenTo(o,"remove",e.tagRemoved),e.listenTo(l.getAll(),l.events.state,(0,R.debounce)(function(){return e.renderStates()},0)),e.delegateEvents(),e}return n.prototype.template=function(t){var e=t.labelInfo,r=t.labelHead,o=t.iconSync,l=t.iconAdd,f=t.pfx,p=t.ppfx;return wt(wa||(wa=oi([' <div id="','up" class="',`header">
        <div id="`,'label" class="','header-label">',`</div>
        <div id="`,'status-c" class="',`header-status">
          <span id="`,`input-c" data-states-c>
            <div class="`,"field ",`select">
              <span id="`,`input-holder">
                <select id="`,`states" data-states></select>
              </span>
              <div class="`,`sel-arrow">
                <div class="`,`d-s-arrow"></div>
              </div>
            </div>
          </span>
        </div>
      </div>
      <div id="`,'tags-field" class="',`field">
        <div id="`,`tags-c" data-selectors></div>
        <input id="`,`new" data-input />
        <span id="`,'add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',` </span>
        <span class="`,"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',` </span>
      </div>
      <div class="`,`sels-info">
        <div class="`,'label-sel">',`:</div>
        <div class="`,`sels" data-selected></div>
      </div>`],[' <div id="','up" class="',`header">
        <div id="`,'label" class="','header-label">',`</div>
        <div id="`,'status-c" class="',`header-status">
          <span id="`,`input-c" data-states-c>
            <div class="`,"field ",`select">
              <span id="`,`input-holder">
                <select id="`,`states" data-states></select>
              </span>
              <div class="`,`sel-arrow">
                <div class="`,`d-s-arrow"></div>
              </div>
            </div>
          </span>
        </div>
      </div>
      <div id="`,'tags-field" class="',`field">
        <div id="`,`tags-c" data-selectors></div>
        <input id="`,`new" data-input />
        <span id="`,'add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',` </span>
        <span class="`,"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',` </span>
      </div>
      <div class="`,`sels-info">
        <div class="`,'label-sel">',`:</div>
        <div class="`,`sels" data-selected></div>
      </div>`])),f,f,f,f,r,f,f,f,p,p,p,f,p,p,f,p,f,f,f,f,f,l,f,f,o,f,f,e,f)},n.prototype.events=function(){return{"change [data-states]":"stateChanged","click [data-add]":"startNewTag","focusout [data-input]":"endNewTag","keyup [data-input]":"onInputKeyUp","click [data-sync-style]":"syncStyle"}},n.prototype.syncStyle=function(){var t=this.em,e=this.getTarget(),r=t.Css,o={noDisabled:1},l=this.getCommonSelectors({opts:o}),f=t.get("state"),p=t.getCurrentMedia(),h=[],v=r.get(l,f,p)||r.add(l,f,p),b;this.getTargets().forEach(function(P){var B=r.getIdRule(P.getId(),{state:f,mediaText:p});b=B.getStyle(),B.setStyle({}),h.push(B)}),b&&v.addStyle(b),t.trigger("component:toggled"),t.trigger("component:sync-style",{component:e,selectors:l,mediaText:p,rule:v,ruleComponents:h,state:f})},n.prototype.tagRemoved=function(t){this.updateStateVis()},n.prototype.addNew=function(t){this.addToClasses(t)},n.prototype.startNewTag=function(){var t,e;(t=this.$addBtn)===null||t===void 0||t.css({display:"none"}),(e=this.$input)===null||e===void 0||e.show().focus()},n.prototype.endNewTag=function(){var t,e;(t=this.$addBtn)===null||t===void 0||t.css({display:""}),(e=this.$input)===null||e===void 0||e.hide().val("")},n.prototype.onInputKeyUp=function(t){var e;t.keyCode===13?(t.preventDefault(),this.addNewTag((e=this.$input)===null||e===void 0?void 0:e.val())):t.keyCode===27&&this.endNewTag()},n.prototype.checkStates=function(){var t=this.em.getState(),e=this.getStates();e&&e.val(t)},n.prototype.componentChanged=function(t){var e=t===void 0?{}:t,r=e.targets;this.updateSelection(r)},n.prototype.updateSelection=function(t){var e=t||this.getTargets();e=(0,R.isArray)(e)?e:[e];var r=[];return e&&e.length&&(r=this.getCommonSelectors({targets:e}),this.checkSync({validSelectors:r})),this.collection.reset(r),this.updateStateVis(e),this.module.__trgCustom(),r},n.prototype.getCommonSelectors=function(t){var e=t===void 0?{}:t,r=e.targets,o=e.opts,l=o===void 0?{}:o,f=r||this.getTargets();return this.module.__getCommonSelectors(f,l)},n.prototype._commonSelectors=function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return(t=this.module).__common.apply(t,e)},n.prototype.checkSync=function(){var t=this,e=t.$btnSyncEl,r=t.config,o=t.collection,l=this.getTarget(),f;if(l&&r.componentFirst&&o.length){var p=l.getStyle();f=!(0,R.isEmpty)(p)}e&&e[f?"show":"hide"]()},n.prototype.getTarget=function(){return this.target.getSelected()},n.prototype.getTargets=function(){return this.target.getSelectedAll()},n.prototype.updateStateVis=function(t){var e=this.em,r=e&&e.getConfig().avoidInlineStyle,o=this.collection.length||r?"":"none";this.getStatesC().css("display",o),this.updateSelector(t)},n.prototype.__handleStateChange=function(){this.updateSelector(this.getTargets())},n.prototype.updateSelector=function(t){var e=this,r=this.el.querySelector("[data-selected]"),o=[],l=t||this.getTargets();l=(0,R.isArray)(l)?l:[l],l.forEach(function(f){return o.push(e.__getName(f))}),r&&(r.innerHTML=o.join(", ")),this.checkStates()},n.prototype.__getName=function(t){var e=this,r=e.pfx,o=e.config,l=e.em,f=o.selectedName,p=o.componentFirst,h;if((0,R.isString)(t))h=wt(ru||(ru=oi(['<span class="','sel-gen">',"</span>"],['<span class="','sel-gen">',"</span>"])),r,t);else{var v=t==null?void 0:t.getSelectors();if(!v)return"";var b=v.getStyleable(),P=l.get("state"),B=t.getId?wt(nu||(nu=oi(['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"],['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"])),r,t.getName(),r,t.getId()):"";h=this.collection.getFullString(b),h=h?wt(Cc||(Cc=oi(['<span class="','sel-rule">',"</span>"],['<span class="','sel-rule">',"</span>"])),r,h):t.get("selectorsAdd")||B,h=p&&B?B:h,h+=P?wt(il||(il=oi(['<span class="','sel-state">:',"</span>"],['<span class="','sel-state">:',"</span>"])),r,P):"",h=f?f({result:h,state:P,target:t}):h}return h&&'<span class="'.concat(r,'sel">').concat(h,"</span>")},n.prototype.stateChanged=function(t){var e=this.em,r=t.target.value;e.set("state",r)},n.prototype.addNewTag=function(t){var e=t.trim();e&&(this.module.addSelected({label:e}),this.endNewTag())},n.prototype.addToClasses=function(t,e){var r=e,o=this.getClasses(),l=new bc({model:t,config:this.config,coll:this.collection,module:this.module}).render().el;return r?r.appendChild(l):o.append(l),l},n.prototype.renderClasses=function(){var t=this,e=document.createDocumentFragment(),r=this.getClasses();r.empty(),this.collection.each(function(o){return t.addToClasses(o,e)}),r.append(e)},n.prototype.getClasses=function(){return this.$el.find("[data-selectors]")},n.prototype.getStates=function(){if(!this.$states){var t=this.$el.find("[data-states]");this.$states=t[0]&&t}return this.$states},n.prototype.getStatesC=function(){return this.$statesC||(this.$statesC=this.$el.find("#"+this.stateInputC)),this.$statesC},n.prototype.renderStates=function(){var t=this,e=t.module,r=t.em,o=r.t("selectorManager.emptyState"),l=e.getStates().map(function(p){var h=r.t("selectorManager.states.".concat(p.id))||p.getLabel()||p.id;return'<option value="'.concat(p.id,'">').concat(h,"</option>")}).join(""),f=this.getStates();f&&f.html('<option value="">'.concat(o,"</option>").concat(l)),this.checkStates()},n.prototype.render=function(){var t=this,e=t.em,r=t.pfx,o=t.ppfx,l=t.config,f=t.$el,p=t.el,h=l.render,v=l.iconSync,b=l.iconAdd,P={iconSync:v,iconAdd:b,labelHead:e.t("selectorManager.label"),labelInfo:e.t("selectorManager.selected"),ppfx:o,pfx:r,el:p};f.html(this.template(P));var B=h&&h(P);return B&&B!==p&&f.empty().append(B),this.$input=f.find("[data-input]"),this.$addBtn=f.find("[data-add]"),this.$classes=f.find("#"+r+"tags-c"),this.$btnSyncEl=f.find("[data-sync-style]"),this.$input.hide(),this.renderStates(),this.renderClasses(),f.attr("class","".concat(this.className," ").concat(o,"one-bg ").concat(o,"two-color")),this},n}(m.G7);const np=rp;var wa,ru,nu,Cc,il,Sc=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),us=function(){return us=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},us.apply(this,arguments)},al=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return a.concat(o||Array.prototype.slice.call(n))},ou=function(a){return(0,R.isString)(a)&&a[0]=="#"},Oc=function(a){return(0,R.isString)(a)&&a[0]=="."},sl="selector",ko="".concat(sl,":"),cs="".concat(ko,"add"),op="".concat(ko,"update"),iu="".concat(ko,"remove"),ip="".concat(iu,":before"),ap="".concat(ko,"custom"),Tc="".concat(ko,"state"),sp={all:sl,update:op,add:cs,remove:iu,removeBefore:ip,state:Tc,custom:ap},Ec=function(a){Sc(n,a);function n(t){var e=a.call(this,t,"SelectorManager",new to([]),sp,yc,{skipListen:!0})||this;e.Selector=jr,e.Selectors=to,e.storageKey="",(0,R.bindAll)(e,"__updateSelectedByComponents");var r=e.config,o=r.pStylePrefix;o&&(r.stylePrefix=o+r.stylePrefix),e.all=new to(r.selectors),e.selected=new to([],{em:t,config:r}),e.states=new m.FE(r.states.map(function(p){return new ss(p)}),{model:ss}),e.model=new m.Hn({cFirst:r.componentFirst,_undo:!0}),e.__update=(0,R.debounce)(function(){return e.__trgCustom()},0),e.__initListen({collections:[e.states,e.selected],propagate:[{entity:e.states,event:e.events.state}]}),t.on("change:state",function(p,h){return t.trigger(Tc,h)}),e.model.on("change:cFirst",function(p,h){return t.trigger("selector:type",h)});var l="".concat(De.g.update,":classes");t.on("component:toggled ".concat(l),e.__updateSelectedByComponents);var f="component:toggled ".concat(l," change:device styleManager:update selector:state selector:type style:target");return e.model.listenTo(t,f,function(){return e.__update()}),e}return n.prototype.__trgCustom=function(t){this.em.trigger(this.events.custom,this.__customData(t))},n.prototype.getAll=function(t){return t===void 0&&(t={}),this.all?t.array?al([],this.all.models,!0):this.all:[]},n.prototype.__customData=function(t){return t===void 0&&(t={}),this.__ctn=this.__ctn||t.container,{states:this.getStates(),selected:this.getSelected(),container:this.__ctn}},n.prototype.postRender=function(){this.__appendTo(),this.__trgCustom()},n.prototype.select=function(t,e){e===void 0&&(e={});var r=Array.isArray(t)?t:[t],o=this.em.Styles.select(r,e);this.selected.reset(this.__getCommonSelectors(o));var l=this.selectorTags,f=o.filter(function(p){return p}).map(function(p){return(0,dt.isComponent)(p)||(0,dt.isRule)(p)&&!p.get("selectorsAdd")?p:p.getSelectorsString()});return l&&l.componentChanged({targets:f}),this},n.prototype.addSelector=function(t,e,r){e===void 0&&(e={}),r===void 0&&(r={});var o=us({},e);(0,R.isObject)(t)?o=t:o.name=t,ou(o.name)?(o.name=o.name.substr(1),o.type=jr.TYPE_ID):Oc(o.name)&&(o.name=o.name.substr(1)),o.label&&!o.name&&(o.name=this.escapeName(o.label));var l=o.name,f=this.getConfig(),p=this,h=p.all,v=p.em,b=l?this.get(l,o.type):h.where(o)[0];if(!b){var P=o instanceof jr?o:new jr(o,us(us({},r),{config:f,em:v}));return h.add(P,r)}return b},n.prototype.getSelector=function(t,e){return e===void 0&&(e=jr.TYPE_CLASS),ou(t)?(t=t.substr(1),e=jr.TYPE_ID):Oc(t)&&(t=t.substr(1)),this.all.where({name:t,type:e})[0]},n.prototype.add=function(t,e){var r=this;e===void 0&&(e={});var o=(0,R.isString)(t)?{}:e;return(0,R.isArray)(t)?t.map(function(l){return r.addSelector(l,e,o)}):this.addSelector(t,e,o)},n.prototype.addClass=function(t){var e=this,r=[];return(0,R.isString)(t)&&(t=t.trim().split(" ")),t.forEach(function(o){return r.push(e.addSelector(o))}),r},n.prototype.get=function(t,e){var r=this;if((0,R.isArray)(t)){var o=[],l=t.map(function(f){return r.getSelector(f)}).filter(Boolean);return l.forEach(function(f){return o.indexOf(f)<0&&o.push(f)}),o}else return this.getSelector(t,e)},n.prototype.remove=function(t,e){return this.__remove(t,e)},n.prototype.rename=function(t,e,r){var o=this.escapeName(e),l=this.get(o);return l||t.set({name:o,label:e},r)},n.prototype.setState=function(t){return this.em.setState(t),this},n.prototype.getState=function(){return this.em.getState()},n.prototype.getStates=function(){return al([],this.states.models,!0)},n.prototype.setStates=function(t,e){return this.states.reset(t.map(function(r){return new ss(r)}),e)},n.prototype.getSelected=function(){return this.__getCommon()},n.prototype.getSelectedAll=function(){return al([],this.selected.models,!0)},n.prototype.addSelected=function(t){var e=this.add(t);this.em.getSelectedAll().forEach(function(r){r.getSelectors().add(e)})},n.prototype.removeSelected=function(t){this.em.getSelectedAll().forEach(function(e){!t.get("protected")&&e&&e.getSelectors().remove(t)})},n.prototype.duplicateSelected=function(t,e){var r=this;e===void 0&&(e={});var o=this.em,l=this.getSelected();if(!(l.indexOf(t)<0)){var f=this.getState(),p=o.getCurrentMedia(),h=o.Css.get(l,f,p),v=h==null?void 0:h.getStyle();if(o.getSelectedAll().forEach(function(P){var B=P.getSelectors();if(B.includes(t)){var tt=e.suffix||" copy",ut=t.getLabel(),ct=r.addSelector("".concat(ut).concat(tt)),Tt=B.indexOf(t);B.remove(t),B.add(ct,{at:Tt})}}),v){var b=o.Css.add(this.getSelected(),f,p);b.setStyle(v)}}},n.prototype.getSelectedTargets=function(){return this.em.Styles.getSelectedAll()},n.prototype.setComponentFirst=function(t){this.getConfig().componentFirst=t,this.model.set({cFirst:t})},n.prototype.getComponentFirst=function(){return this.getConfig().componentFirst},n.prototype.escapeName=function(t){var e=this.getConfig().escapeName;return e?e(t):jr.escapeName(t)},n.prototype.render=function(t){var e=this.selectorTags,r=this.getConfig(),o=e==null?void 0:e.el;return this.selected.reset(t),this.selectorTags=new np({el:o,collection:this.selected,module:this,config:r}),this.selectorTags.render().el},n.prototype.destroy=function(){var t=this,e=t.selectorTags,r=t.model;r.stopListening(),this.__update.cancel(),this.__destroy(),e==null||e.remove(),this.selectorTags=void 0},n.prototype.__getCommon=function(){return this.__getCommonSelectors(this.em.getSelectedAll())},n.prototype.__getCommonSelectors=function(t,e){e===void 0&&(e={});var r=t.map(function(o){return o.getSelectors&&o.getSelectors().getValid(e)}).filter(Boolean);return this.__common.apply(this,r)},n.prototype.__common=function(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length?e.length===1?e[0]:e.length===2?e[0].filter(function(o){return e[1].indexOf(o)>=0}):e.slice(1).reduce(function(o,l){return t.__common(o,l)},e[0]):[]},n.prototype.__updateSelectedByComponents=function(){this.selected.reset(this.__getCommon())},n}(j);const lp=Ec;var up={textTags:["br","b","i","u","a","ul","ol"],textTypes:["text","textnode","comment"],parserCss:void 0,parserHtml:void 0,optionsHtml:{htmlType:"text/html",allowScripts:!1,allowUnsafeAttr:!1,allowUnsafeAttrValue:!1,keepEmptyTextNodes:!1}};const Pc=up;var Fn,jn={STYLE_RULE:1,CHARSET_RULE:2,IMPORT_RULE:3,MEDIA_RULE:4,FONT_FACE_RULE:5,PAGE_RULE:6,KEYFRAMES_RULE:7,KEYFRAME_RULE:8,NAMESPACE_RULE:10,COUNTER_STYLE_RULE:11,SUPPORTS_RULE:12,DOCUMENT_RULE:13,FONT_FEATURE_VALUES_RULE:14,VIEWPORT_RULE:15,REGION_STYLE_RULE:16},ba=(Fn={},Fn[jn.MEDIA_RULE]="media",Fn[jn.FONT_FACE_RULE]="font-face",Fn[jn.PAGE_RULE]="page",Fn[jn.KEYFRAMES_RULE]="keyframes",Fn[jn.COUNTER_STYLE_RULE]="counter-style",Fn[jn.SUPPORTS_RULE]="supports",Fn[jn.DOCUMENT_RULE]="document",Fn[jn.FONT_FEATURE_VALUES_RULE]="font-feature-values",Fn[jn.VIEWPORT_RULE]="viewport",Fn),au=(0,R.keys)(ba),ii=[jn.FONT_FACE_RULE,jn.PAGE_RULE,jn.COUNTER_STYLE_RULE,jn.VIEWPORT_RULE],kc=au.filter(function(a){return ii.indexOf(Number(a))<0}).map(function(a){return ba[a]}).concat(["container","layer"]),ll=ii.map(function(a){return ba[a]}),Ac=function(a){a===void 0&&(a="");for(var n=[],t=[],e=a.split(","),r=0,o=e.length;r<o;r++){var l=e[r].trim();if(/^(\.{1}[\w\-]+)+(:{1,2}[\w\-()]+)?$/gi.test(l)||/^(#{1}[\w\-]+){1}(:{1,2}[\w\-()]+)?$/gi.test(l)){var f=l.split(".").filter(Boolean);t.push(f)}else n.push(l)}return{result:t,add:n}},cp=function(a){for(var n=a.style,t={},e=0,r=n.length;e<r;e++){var o=n[e],l=n.getPropertyValue(o),f=n.getPropertyPriority(o);t[o]="".concat(l).concat(f?" !".concat(f):"")}return t},Mc=function(a){var n=a.conditionText||a.media&&a.media.mediaText||a.name||a.selectorText||"";return n.trim()},wr=function(a,n,t){n===void 0&&(n={}),t===void 0&&(t={});var e={},r=a.length,o=a[r-1],l=o?o.split(/:(.+)/):[],f=l[1],p=t.atRule,h=t.selectorsAdd,v=t.mediaText,b=ll.indexOf(p)>=0;return b&&(e.singleAtRule=!0),p&&(e.atRuleType=p),h&&(e.selectorsAdd=h),v&&(e.mediaText=v),f&&(a[r-1]=l[0],e.state=f,l.splice(l.length-1,1)),e.selectors=a,e.style=n,e},Lc=function(a){var n=a.cssText,t=n===void 0?"":n;return kc.find(function(e){return t.indexOf("@".concat(e))===0})},ul=function(a){for(var n=[],t=a.cssRules||[],e=0,r=t.length;e<r;e++){var o=t[e],l=o.type,f=!1,p="",h="",v=o.selectorText||o.keyText||"",b=ii.indexOf(l)>=0;if(b)f=!0,p=ba[l],h=Mc(o);else if(au.indexOf("".concat(l))>=0||!l&&Lc(o)){var P=ul(o),B=ba[l]||Lc(o);h=Mc(o);for(var tt=0,ut=P.length;tt<ut;tt++){var ct=P[tt];h&&(ct.mediaText=h),ct.atRuleType=B}n=n.concat(P)}if(!(!v&&!b)){for(var Tt=cp(o),Nt=Ac(v),Ft=Nt.add,Qt=Nt.result,fe=void 0,Se=0,Pe=Qt.length;Se<Pe;Se++){var ie=wr(Qt[Se],Tt,{atRule:ba[l]});n.push(ie),fe=ie}if(Ft.length){var Ee=Ft.join(", ");if(fe)fe.selectorsAdd=Ee;else{var ie={selectors:[],selectorsAdd:Ee,style:Tt};f&&(ie.singleAtRule=f),p&&(ie.atRuleType=p),h&&(ie.mediaText=h),n.push(ie)}}}}return n};const fs=function(a){var n=document.createElement("style");n.innerHTML=a,document.head.appendChild(n);var t=n.sheet;return document.head.removeChild(n),t?ul(t):[]};var uo=function(a,n){return n===void 0&&(n={}),{parse:function(t){var e=this,r=[],o=n.parserCss,l=a==null?void 0:a.Editor,f=o?o(t,l):fs(t);return f.forEach(function(p){return r=r.concat(e.checkNode(p))}),a==null||a.trigger("parse:css",{input:t,output:r,nodes:f}),r},checkNode:function(t){var e=t.selectors,r=t.style,o=[t];if((0,R.isString)(e)){var l=[],f=t,p=Ac(e),h=p.result,v=p.add.join(", "),b={atRule:f.atRule,mediaText:f.params};if(h.length?h.forEach(function(B){l.push(wr(B,r,b))}):l.push(wr([],r,b)),v){var P=l[l.length-1];P.selectorsAdd=v}o=l}return o}}};const cl=uo;var su=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Dc=function(a){su(n,a);function n(t){var e=a.call(this,t,"Parser",Pc)||this,r=e.config;return e.parserCss=cl(t,r),e.parserHtml=Do(t,r),e}return n.prototype.parseHtml=function(t,e){e===void 0&&(e={});var r=this,o=r.em,l=r.parserHtml;return l.compTypes=o.Components.getTypes()||[],l.parse(t,this.parserCss,e)},n.prototype.parseCss=function(t){return this.parserCss.parse(t)},n.prototype.destroy=function(){},n}(V);const jc=Dc;var Ic={id:"gjs-",type:"local",autosave:!0,autoload:!0,stepsBeforeSave:1,recovery:!1,onStore:function(a){return a},onLoad:function(a){return a},options:{local:{key:"gjsProject",checkLocal:!0},remote:{headers:{},urlStore:"",urlLoad:"",contentTypeJson:!0,fetchOptions:"",credentials:"include",onStore:function(a){return a},onLoad:function(a){return a}}}};const lu=Ic;var uu=function(a,n,t,e){function r(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function f(v){try{h(e.next(v))}catch(b){l(b)}}function p(v){try{h(e.throw(v))}catch(b){l(b)}}function h(v){v.done?o(v.value):r(v.value).then(f,p)}h((e=e.apply(a,n||[])).next())})},Vc=function(a,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,r,o,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(h){return function(v){return p([h,v])}}function p(h){if(e)throw new TypeError("Generator is already executing.");for(;l&&(l=0,h[0]&&(t=0)),t;)try{if(e=1,r&&(o=h[0]&2?r.return:h[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,h[1])).done)return o;switch(r=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,r=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){t.label=h[1];break}if(h[0]===6&&t.label<o[1]){t.label=o[1],o=h;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(h);break}o[2]&&t.ops.pop(),t.trys.pop();continue}h=n.call(a,t)}catch(v){h=[6,v],r=0}finally{e=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},cu=function(){function a(){}return a.prototype.store=function(n,t){return t===void 0&&(t={}),uu(this,void 0,void 0,function(){return Vc(this,function(e){return this.hasLocal(t,!0)&&localStorage.setItem(t.key,JSON.stringify(n)),[2,n]})})},a.prototype.load=function(n){return n===void 0&&(n={}),uu(this,void 0,void 0,function(){var t;return Vc(this,function(e){return t={},this.hasLocal(n,!0)&&(t=JSON.parse(localStorage.getItem(n.key)||"{}")),[2,t]})})},a.prototype.hasLocal=function(n,t){if(n===void 0&&(n={}),n.checkLocal&&(!(0,dt.hasWin)()||!localStorage)){if(t)throw new Error("localStorage not available");return!1}return!0},a}();const Rc=cu;function er(a){"@babel/helpers - typeof";return er=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},er(a)}function Nc(a){var n=this.constructor;return this.then(function(t){return n.resolve(a()).then(function(){return t})},function(t){return n.resolve(a()).then(function(){return n.reject(t)})})}const fp=Nc;function _a(a){var n=this;return new n(function(t,e){if(!(a&&typeof a.length<"u"))return e(new TypeError(er(a)+" "+a+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(a);if(r.length===0)return t([]);var o=r.length;function l(p,h){if(h&&(er(h)==="object"||typeof h=="function")){var v=h.then;if(typeof v=="function"){v.call(h,function(b){l(p,b)},function(b){r[p]={status:"rejected",reason:b},--o===0&&t(r)});return}}r[p]={status:"fulfilled",value:h},--o===0&&t(r)}for(var f=0;f<r.length;f++)l(f,r[f])})}const pp=_a;function ps(a,n){this.name="AggregateError",this.errors=a,this.message=n||""}ps.prototype=Error.prototype;function dp(a){var n=this;return new n(function(t,e){if(!(a&&typeof a.length<"u"))return e(new TypeError("Promise.any accepts an array"));var r=Array.prototype.slice.call(a);if(r.length===0)return e();for(var o=[],l=0;l<r.length;l++)try{n.resolve(r[l]).then(t).catch(function(f){o.push(f),o.length===r.length&&e(new ps(o,"All promises were rejected"))})}catch(f){e(f)}})}const Vr=dp;var hp=setTimeout;function Fc(a){return!!(a&&typeof a.length<"u")}function vp(){}function fl(a,n){return function(){a.apply(n,arguments)}}function i(a){if(!(this instanceof i))throw new TypeError("Promises must be constructed via new");if(typeof a!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],y(a,this)}function s(a,n){for(;a._state===3;)a=a._value;if(a._state===0){a._deferreds.push(n);return}a._handled=!0,i._immediateFn(function(){var t=a._state===1?n.onFulfilled:n.onRejected;if(t===null){(a._state===1?c:u)(n.promise,a._value);return}var e;try{e=t(a._value)}catch(r){u(n.promise,r);return}c(n.promise,e)})}function c(a,n){try{if(n===a)throw new TypeError("A promise cannot be resolved with itself.");if(n&&(er(n)==="object"||typeof n=="function")){var t=n.then;if(n instanceof i){a._state=3,a._value=n,d(a);return}else if(typeof t=="function"){y(fl(t,n),a);return}}a._state=1,a._value=n,d(a)}catch(e){u(a,e)}}function u(a,n){a._state=2,a._value=n,d(a)}function d(a){a._state===2&&a._deferreds.length===0&&i._immediateFn(function(){a._handled||i._unhandledRejectionFn(a._value)});for(var n=0,t=a._deferreds.length;n<t;n++)s(a,a._deferreds[n]);a._deferreds=null}function g(a,n,t){this.onFulfilled=typeof a=="function"?a:null,this.onRejected=typeof n=="function"?n:null,this.promise=t}function y(a,n){var t=!1;try{a(function(e){t||(t=!0,c(n,e))},function(e){t||(t=!0,u(n,e))})}catch(e){if(t)return;t=!0,u(n,e)}}i.prototype.catch=function(a){return this.then(null,a)},i.prototype.then=function(a,n){var t=new this.constructor(vp);return s(this,new g(a,n,t)),t},i.prototype.finally=fp,i.all=function(a){return new i(function(n,t){if(!Fc(a))return t(new TypeError("Promise.all accepts an array"));var e=Array.prototype.slice.call(a);if(e.length===0)return n([]);var r=e.length;function o(f,p){try{if(p&&(er(p)==="object"||typeof p=="function")){var h=p.then;if(typeof h=="function"){h.call(p,function(v){o(f,v)},t);return}}e[f]=p,--r===0&&n(e)}catch(v){t(v)}}for(var l=0;l<e.length;l++)o(l,e[l])})},i.any=Vr,i.allSettled=pp,i.resolve=function(a){return a&&er(a)==="object"&&a.constructor===i?a:new i(function(n){n(a)})},i.reject=function(a){return new i(function(n,t){t(a)})},i.race=function(a){return new i(function(n,t){if(!Fc(a))return t(new TypeError("Promise.race accepts an array"));for(var e=0,r=a.length;e<r;e++)i.resolve(a[e]).then(n,t)})},i._immediateFn=typeof setImmediate=="function"&&function(a){setImmediate(a)}||function(a){hp(a,0)},i._unhandledRejectionFn=function(n){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",n)};const S=i;(0,dt.hasWin)()&&(window.Promise=window.Promise||S);const D=typeof fetch=="function"?fetch.bind():function(a,n){return new S(function(t,e){var r=new XMLHttpRequest;r.open(n.method||"get",a),r.withCredentials=n.credentials=="include";for(var o in n.headers||{})r.setRequestHeader(o,n.headers[o]);r.onload=function(l){return t({status:r.status,statusText:r.statusText,text:function(){return S.resolve(r.responseText)}})},r.onerror=e,r.upload&&n.onProgress&&(r.upload.onprogress=n.onProgress),n.body?r.send(n.body):r.send()})};var W=function(){return W=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},W.apply(this,arguments)},ft=function(a,n,t,e){function r(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function f(v){try{h(e.next(v))}catch(b){l(b)}}function p(v){try{h(e.throw(v))}catch(b){l(b)}}function h(v){v.done?o(v.value):r(v.value).then(f,p)}h((e=e.apply(a,n||[])).next())})},bt=function(a,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,r,o,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(h){return function(v){return p([h,v])}}function p(h){if(e)throw new TypeError("Generator is already executing.");for(;l&&(l=0,h[0]&&(t=0)),t;)try{if(e=1,r&&(o=h[0]&2?r.return:h[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,h[1])).done)return o;switch(r=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,r=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){t.label=h[1];break}if(h[0]===6&&t.label<o[1]){t.label=o[1],o=h;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(h);break}o[2]&&t.ops.pop(),t.trys.pop();continue}h=n.call(a,t)}catch(v){h=[6,v],r=0}finally{e=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},Dt=function(){function a(){}return a.prototype.store=function(n,t){return t===void 0&&(t={}),ft(this,void 0,void 0,function(){return bt(this,function(e){switch(e.label){case 0:return[4,this.request(t.urlStore,this.__props(t,n),t)];case 1:return[2,e.sent()]}})})},a.prototype.load=function(n){return n===void 0&&(n={}),ft(this,void 0,void 0,function(){return bt(this,function(t){switch(t.label){case 0:return[4,this.request(n.urlLoad,this.__props(n),n)];case 1:return[2,t.sent()]}})})},a.prototype.request=function(n,t,e){return t===void 0&&(t={}),e===void 0&&(e={}),D(n,t).then(function(r){var o=r.text(),l=(r.status/200|0)===1;return l?o:o.then(Promise.reject)}).then(function(r){var o=r&&(0,R.isString)(r);return e.contentTypeJson&&o?JSON.parse(r):r})},a.prototype.__props=function(n,t){n===void 0&&(n={});var e=n.contentTypeJson,r=n.headers||{},o=n.fetchOptions||{},l="X-Requested-With",f="Content-Type",p;if((0,R.isUndefined)(r[l])&&(r[l]="XMLHttpRequest"),(0,R.isUndefined)(r[f])&&e&&(r[f]="application/json; charset=utf-8"),t)if(e)p=JSON.stringify(t);else{p=new FormData;for(var h in t)p.append(h,t[h])}var v={method:p?"POST":"GET",credentials:n.credentials,headers:r,body:p};return W(W({},v),(0,R.isFunction)(o)?o(v):o)},a}();const Et=Dt;var zt;(function(a){a.start="storage:start",a.startStore="storage:start:store",a.startLoad="storage:start:load",a.load="storage:load",a.store="storage:store",a.after="storage:after",a.afterStore="storage:after:store",a.afterLoad="storage:after:load",a.end="storage:end",a.endStore="storage:end:store",a.endLoad="storage:end:load",a.error="storage:error",a.errorStore="storage:error:store",a.errorLoad="storage:error:load"})(zt||(zt={}));const Gt=zt;var oe=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),le=function(){return le=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},le.apply(this,arguments)},ge=function(a,n,t,e){function r(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function f(v){try{h(e.next(v))}catch(b){l(b)}}function p(v){try{h(e.throw(v))}catch(b){l(b)}}function h(v){v.done?o(v.value):r(v.value).then(f,p)}h((e=e.apply(a,n||[])).next())})},ue=function(a,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,r,o,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(h){return function(v){return p([h,v])}}function p(h){if(e)throw new TypeError("Generator is already executing.");for(;l&&(l=0,h[0]&&(t=0)),t;)try{if(e=1,r&&(o=h[0]&2?r.return:h[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,h[1])).done)return o;switch(r=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,r=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){t.label=h[1];break}if(h[0]===6&&t.label<o[1]){t.label=o[1],o=h;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(h);break}o[2]&&t.ops.pop(),t.trys.pop();continue}h=n.call(a,t)}catch(v){h=[6,v],r=0}finally{e=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},me="local",Te="remote",Oe=function(a){oe(n,a);function n(t){var e=a.call(this,t,"StorageManager",lu)||this;e.storages={},e.events=Gt;var r=e.config;return r._disable&&(r.type=void 0),e.storages={},e.add(me,new Rc),e.add(Te,new Et),e.setCurrent(r.type),e}return n.prototype.isAutosave=function(){return!!this.config.autosave},n.prototype.setAutosave=function(t){return this.config.autosave=!!t,this},n.prototype.getStepsBeforeSave=function(){return this.config.stepsBeforeSave},n.prototype.setStepsBeforeSave=function(t){return this.config.stepsBeforeSave=t,this},n.prototype.add=function(t,e){return this.storages[t]=e,this},n.prototype.get=function(t){return this.storages[t]},n.prototype.getStorages=function(){return this.storages},n.prototype.getCurrent=function(){return this.config.currentStorage},n.prototype.setCurrent=function(t){return this.getConfig().currentStorage=t,this},n.prototype.getCurrentStorage=function(){return this.get(this.getCurrent())},n.prototype.getStorageOptions=function(t){return this.getCurrentOptions(t)},n.prototype.store=function(t,e){return e===void 0&&(e={}),ge(this,void 0,void 0,function(){var r,o,l,f,p,h;return ue(this,function(v){switch(v.label){case 0:r=this.getCurrentStorage(),o=le(le({},this.getCurrentOptions()),e),l=this.getRecoveryStorage(),f=this.getCurrentOptions(me),v.label=1;case 1:return v.trys.push([1,5,,9]),[4,this.__exec(r,o,t)];case 2:return v.sent(),p=l,p?[4,this.__exec(l,f,{})]:[3,4];case 3:p=v.sent(),v.label=4;case 4:return[3,9];case 5:return h=v.sent(),l?[4,this.__exec(l,f,t)]:[3,7];case 6:return v.sent(),[3,8];case 7:throw h;case 8:return[3,9];case 9:return[2,t]}})})},n.prototype.load=function(t){return t===void 0&&(t={}),ge(this,void 0,void 0,function(){var e,r,o,l,f;return ue(this,function(p){switch(p.label){case 0:return e=this.getCurrentStorage(),r=le(le({},this.getCurrentOptions()),t),o=this.getRecoveryStorage(),o?[4,this.__exec(o,this.getCurrentOptions(me))]:[3,5];case 1:if(f=p.sent(),(0,R.isEmpty)(f))return[3,5];p.label=2;case 2:return p.trys.push([2,4,,5]),[4,this.__askRecovery()];case 3:return p.sent(),l=f,[3,5];case 4:return p.sent(),[3,5];case 5:return l?[3,7]:[4,this.__exec(e,r)];case 6:l=p.sent(),p.label=7;case 7:return[2,l||{}]}})})},n.prototype.__askRecovery=function(){var t=this.em,e=this.getRecovery();return new Promise(function(r,o){(0,R.isFunction)(e)?e(r,o,t==null?void 0:t.getEditor()):confirm(t==null?void 0:t.t("storageManager.recover"))?r(null):o()})},n.prototype.getRecovery=function(){return this.config.recovery},n.prototype.getRecoveryStorage=function(){var t=this.getRecovery();return t&&this.getCurrent()===Te&&this.get(me)},n.prototype.__exec=function(t,e,r){var o;return ge(this,void 0,void 0,function(){var l,f,p,h,v,b,P,B,tt,ut,ct,Tt,Nt;return ue(this,function(Ft){switch(Ft.label){case 0:if(l=r?"store":"load",f=this.getConfig(),p=f.onStore,h=f.onLoad,this.onStart(l,r),!t)return[2,r||{}];Ft.label=1;case 1:return Ft.trys.push([1,14,,15]),b=(o=this.em)===null||o===void 0?void 0:o.getEditor(),P=void 0,r?(tt=p,tt?[4,p(r,b)]:[3,3]):[3,7];case 2:tt=Ft.sent(),Ft.label=3;case 3:return B=tt||r,ut=e.onStore,ut?[4,e.onStore(B,b)]:[3,5];case 4:ut=Ft.sent(),Ft.label=5;case 5:return B=ut||B,[4,t.store(B,e)];case 6:return P=Ft.sent(),v=r,[3,13];case 7:return[4,t.load(e)];case 8:return P=Ft.sent(),v=this.__clearKeys(P),ct=e.onLoad,ct?[4,e.onLoad(v,b)]:[3,10];case 9:ct=Ft.sent(),Ft.label=10;case 10:return v=ct||v,Tt=h,Tt?[4,h(v,b)]:[3,12];case 11:Tt=Ft.sent(),Ft.label=12;case 12:v=Tt||v,Ft.label=13;case 13:return this.onAfter(l,v,P),this.onEnd(l,v,P),[3,15];case 14:throw Nt=Ft.sent(),this.onError(l,Nt),Nt;case 15:return[2,v]}})})},n.prototype.__clearKeys=function(t){t===void 0&&(t={});var e=this.getConfig(),r=new RegExp("^".concat(e.id)),o={};for(var l in t){var f=l.replace(r,"");o[f]=t[l]}return o},n.prototype.getCurrentOptions=function(t){var e=this.getConfig(),r=t||this.getCurrent();return e.options[r]||{}},n.prototype.onStart=function(t,e){var r=this.em;if(r){var o=t==="load"?Gt.startLoad:Gt.startStore;r.trigger(Gt.start,t,e),r.trigger(o,e)}},n.prototype.onAfter=function(t,e,r){var o=this.em;if(o){var l=t==="load"?Gt.afterLoad:Gt.afterStore;o.trigger(Gt.after),o.trigger(l,e,r);var f=t==="load"?Gt.load:Gt.store;o.trigger(f,e,r)}},n.prototype.onEnd=function(t,e,r){var o=this.em;if(o){var l=t==="load"?Gt.endLoad:Gt.endStore;o.trigger(Gt.end,t,e,r),o.trigger(l,e,r)}},n.prototype.onError=function(t,e){var r=this.em;if(r){var o=t==="load"?Gt.errorLoad:Gt.errorStore;r.trigger(Gt.error,e,t),r.trigger(o,e),this.onEnd(t,e)}},n.prototype.canAutoload=function(){var t=this.getCurrentStorage();return!!t&&!!this.config.autoload},n.prototype.destroy=function(){this.storages={}},n}(V);const We=Oe;var gr={stylePrefix:"trt-",appendTo:"",optionsTarget:[{value:!1},{value:"_blank"}],custom:!1};const Zr=gr;var Or=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),nn=function(){return nn=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},nn.apply(this,arguments)},bn=function(a){Or(n,a);function n(t){t===void 0&&(t={});var e=a.call(this,t)||this;e.events={},e.appendInput=!0;var r=t.config,o=r===void 0?{}:r,l=e,f=l.model,p=l.eventCapture,h=f.target,v=f.attributes.type;e.config=o,e.em=o.em,e.pfx=o.stylePrefix||"",e.ppfx=o.pStylePrefix||"",e.target=h,e.className=e.pfx+"trait",e.clsField="".concat(e.ppfx,"field ").concat(e.ppfx,"field-").concat(v);var b=[["change:value",e.onValueChange],["remove",e.removeView]];return b.forEach(function(P){var B=P[0],tt=P[1];f.off(B,tt),e.listenTo(f,B,tt)}),f.view=e,e.listenTo(f,"change:label",e.render),e.listenTo(f,"change:placeholder",e.rerender),e.events={},p.forEach(function(P){return e.events[P]="onChange"}),e.delegateEvents(),e.init(),e}return n.prototype.attributes=function(){return this.model.get("attributes")||{}},n.prototype.templateLabel=function(t){var e=this.ppfx,r=this.getLabel();return'<div class="'.concat(e,'label" title="').concat(r,'">').concat(r,"</div>")},n.prototype.templateInput=function(t){var e=this.clsField;return'<div class="'.concat(e,'" data-input></div>')},n.prototype.getClbOpts=function(){return{component:this.target,trait:this.model,elInput:this.getInputElem()}},n.prototype.removeView=function(){this.remove(),this.removed()},n.prototype.init=function(){},n.prototype.removed=function(){},n.prototype.onRender=function(t){},n.prototype.onUpdate=function(t){},n.prototype.onEvent=function(t){},n.prototype.onChange=function(t){var e=this.getInputElem();e&&!(0,R.isUndefined)(e.value)&&this.model.set("value",e.value),this.onEvent(nn(nn({},this.getClbOpts()),{event:t}))},n.prototype.getValueForTarget=function(){return this.model.get("value")},n.prototype.setInputValue=function(t){var e=this.getInputElem();e&&(e.value=t)},n.prototype.onValueChange=function(t,e,r){if(r===void 0&&(r={}),r.fromTarget)this.setInputValue(t.get("value")),this.postUpdate();else{var o=this.getValueForTarget();t.setTargetValue(o,r)}},n.prototype.renderLabel=function(){var t=this,e=t.$el,r=t.target,o=this.getLabel(),l=this.templateLabel(r);this.createLabel&&(l=this.createLabel({label:o,component:r,trait:this})||""),e.find("[data-label]").append(l)},n.prototype.getLabel=function(){var t=this.em,e=this.model.attributes,r=e.label,o=e.name;return t.t("traitManager.traits.labels.".concat(o))||(0,dt.capitalize)(r||o).replace(/-/g," ")},n.prototype.getComponent=function(){return this.target},n.prototype.getInputEl=function(){if(!this.$input){var t=this,e=t.em,r=t.model,o=r,l=r.attributes.name,f=o.get("placeholder")||o.get("default")||"",p=o.get("type")||"text",h=o.get("min"),v=o.get("max"),b=this.getModelValue(),P=(0,C.default)('<input type="'.concat(p,'">')),B=e.t("traitManager.traits.attributes.".concat(l))||{};P.attr(nn({placeholder:f},B)),(0,R.isUndefined)(b)||(o.set({value:b},{silent:!0}),P.prop("value",b)),h&&P.prop("min",h),v&&P.prop("max",v),this.$input=P}return this.$input.get(0)},n.prototype.getInputElem=function(){var t=this,e=t.input,r=t.$input;return e||r&&r.get&&r.get(0)||this.getElInput()},n.prototype.getModelValue=function(){return this.model.getValue()},n.prototype.getElInput=function(){return this.elInput},n.prototype.renderField=function(){var t=this,e=t.$el,r=t.appendInput,o=t.model,l=e.find("[data-input]"),f=l[l.length-1],p=o.el;p||(p=this.createInput?this.createInput(this.getClbOpts()):this.getInputEl()),(0,R.isString)(p)?(f.innerHTML=p,this.elInput=f.firstChild):(r?f.appendChild(p):f.insertBefore(p,f.firstChild),this.elInput=p),o.el=this.elInput},n.prototype.hasLabel=function(){var t=this.model.attributes.label;return!this.noLabel&&t!==!1},n.prototype.rerender=function(){delete this.model.el,this.render()},n.prototype.postUpdate=function(){this.onUpdate(this.getClbOpts())},n.prototype.render=function(){var t=this,e=t.$el,r=t.pfx,o=t.ppfx,l=t.model,f=l.attributes,p=f.type,h=f.id,v=this.hasLabel&&this.hasLabel(),b="".concat(r,"trait");delete this.$input;var P='<div class="'.concat(b," ").concat(b,"--").concat(p,`">
      `).concat(v?'<div class="'.concat(o,'label-wrp" data-label></div>'):"",`
      <div class="`).concat(o,"field-wrp ").concat(o,"field-wrp--").concat(p,`" data-input>
        `).concat(this.templateInput?(0,R.isFunction)(this.templateInput)?this.templateInput(this.getClbOpts()):this.templateInput:"",`
      </div>
    </div>`);return e.empty().append(P),v&&this.renderLabel(),this.renderField(),this.el.className="".concat(b,"__wrp ").concat(b,"__wrp-").concat(h),this.postUpdate(),this.onRender(this.getClbOpts()),this},n}(m.G7);const hr=bn;bn.prototype.eventCapture=["change"];var kn=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Yr=function(a){kn(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.templateInput=function(){return""},n.prototype.onChange=function(){this.handleClick()},n.prototype.handleClick=function(){this.model.runCommand()},n.prototype.renderLabel=function(){this.model.get("label")&&hr.prototype.renderLabel.apply(this)},n.prototype.getInputEl=function(){var t=this,e=t.model,r=t.ppfx,o=e.props(),l=o.labelButton,f=o.text,p=o.full,h=l||f,v="".concat(r,"btn"),b='<button type="button" class="'.concat(v,"-prim").concat(p?" ".concat(v,"--full"):"",'">').concat(h,"</button>");return b},n}(hr);const Gr=Yr;Yr.prototype.eventCapture=["click button"];var Br=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Er=function(a){Br(n,a);function n(){var t=a!==null&&a.apply(this,arguments)||this;return t.appendInput=!1,t}return n.prototype.templateInput=function(){var t=this,e=t.ppfx,r=t.clsField;return'<label class="'.concat(r,`" data-input>
    <i class="`).concat(e,`chk-icon"></i>
  </label>`)},n.prototype.onChange=function(){this.model.set("value",this.getInputElem().checked)},n.prototype.setInputValue=function(t){var e=this.getInputElem();e&&(e.checked=!!t)},n.prototype.getInputEl=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=!this.$input,o=hr.prototype.getInputEl.apply(this,t);if(r){var l=void 0,f=void 0,p=this,h=p.model,v=p.target,b=h.attributes.valueFalse,P=h.getName();h.changeProp?(l=v.get(P),f=l):(f=v.get("attributes")[P],l=!!(f||f==="")),!(0,R.isUndefined)(b)&&f===b&&(l=!1),o.checked=l}return o},n}(hr);const An=Er;function xa(a,n){if(!(0,dt.hasWin)())return;var t={beforeShow:B,move:B,change:B,show:B,hide:B,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},e=[],r=!!/msie/i.exec(window.navigator.userAgent),o=function(){function pt(re,se){return!!~(""+re).indexOf(se)}var jt=document.createElement("div"),st=jt.style;return st.cssText="background-color:rgba(0,0,0,.5)",pt(st.backgroundColor,"rgba")||pt(st.backgroundColor,"hsla")}(),l=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),f=function(){var pt="";if(r)for(var jt=1;jt<=6;jt++)pt+="<div class='sp-"+jt+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",pt,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}();function p(pt,jt,st,re){for(var se=[],we=0;we<pt.length;we++){var Be=pt[we];if(Be){var Ge=pe(Be),Re=Ge.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";Re+=pe.equals(jt,Be)?" sp-thumb-active":"";var Ur=Ge.toString(re.preferredFormat||"rgb"),an=o?"background-color:"+Ge.toRgbString():"filter:"+Ge.toFilter();se.push('<span title="'+Ur+'" data-color="'+Ge.toRgbString()+'" class="'+Re+'"><span class="sp-thumb-inner" style="'+an+';"></span></span>')}else{var Jr="sp-clear-display";se.push(a("<div />").append(a('<span data-color="" style="background-color:transparent;" class="'+Jr+'"></span>').attr("title",re.noColorSelectedText)).html())}}return"<div class='sp-cf "+st+"'>"+se.join("")+"</div>"}function h(){for(var pt=0;pt<e.length;pt++)e[pt]&&e[pt].hide()}function v(pt,jt){var st=a.extend({},t,pt);return st.callbacks={move:ut(st.move,jt),change:ut(st.change,jt),show:ut(st.show,jt),hide:ut(st.hide,jt),beforeShow:ut(st.beforeShow,jt)},st}function b(pt,jt){var st=v(jt,pt),re=st.flat,se=st.showSelectionPalette,we=st.localStorageKey,Be=st.theme,Ge=st.callbacks,Re=Tt(Ts,10),Ur=!1,an=!1,Jr=!0,Ui=0,Ao=0,fi=0,kr=0,pi=0,ff=0,pf=0,_s=0,xs=0,xu=0,di=1,df=[],Cu=[],hf={},hi=st.selectionPalette.slice(0),Fw=st.maxSelectionSize,Oh="sp-dragging",Pa=null,Su=pt.ownerDocument;Su.body;var sn=a(pt),Zp=!1,Qe=a(f,Su).addClass(Be),Hw=Qe.find(".sp-picker-container"),vf=Qe.find(".sp-color"),gf=Qe.find(".sp-dragger"),Yp=Qe.find(".sp-hue"),mf=Qe.find(".sp-slider"),Ou=Qe.find(".sp-alpha-inner"),Th=Qe.find(".sp-alpha"),yf=Qe.find(".sp-alpha-handle"),vi=Qe.find(".sp-input"),Eh=Qe.find(".sp-palette"),Ph=Qe.find(".sp-initial"),kh=Qe.find(".sp-cancel"),Xp=Qe.find(".sp-clear"),Ah=Qe.find(".sp-choose"),Jp=Qe.find(".sp-palette-toggle"),wf=sn.is("input"),Bw=wf&&sn.attr("type")==="color"&&Nt(),Qp=wf&&!re,_l=Qp?a(l).addClass(Be).addClass(st.className).addClass(st.replacerClassName):a([]),Tu=Qp?_l:sn,xl=_l.find(".sp-preview-inner"),Eu=st.color||wf&&sn.val(),Cl=!1,Sl=st.preferredFormat,Uw=!st.showButtons||st.clickoutFiresChange,ka=!Eu,Cs=st.allowEmpty&&!Bw;function td(){if(st.showPaletteOnly&&(st.showPalette=!0),Jp.text(st.showPaletteOnly?st.togglePaletteMoreText:st.togglePaletteLessText),st.palette){df=st.palette.slice(0),Cu=a.isArray(df[0])?df:[df],hf={};for(var Le=0;Le<Cu.length;Le++)for(var Ie=0;Ie<Cu[Le].length;Ie++){var fr=pe(Cu[Le][Ie]).toRgbString();hf[fr]=!0}}Qe.toggleClass("sp-flat",re),Qe.toggleClass("sp-input-disabled",!st.showInput),Qe.toggleClass("sp-alpha-enabled",st.showAlpha),Qe.toggleClass("sp-clear-enabled",Cs),Qe.toggleClass("sp-buttons-disabled",!st.showButtons),Qe.toggleClass("sp-palette-buttons-disabled",!st.togglePaletteOnly),Qe.toggleClass("sp-palette-disabled",!st.showPalette),Qe.toggleClass("sp-palette-only",st.showPaletteOnly),Qe.toggleClass("sp-initial-disabled",!st.showInitial),Qe.addClass(st.className).addClass(st.containerClassName),Ts()}function zw(){if(r&&Qe.find("*:not(input)").attr("unselectable","on"),td(),Qp&&sn.after(_l).hide(),Cs||Xp.hide(),re)sn.after(Qe).hide();else{var Le=st.appendTo==="parent"?sn.parent():a(st.appendTo);Le.length!==1&&(Le=a("body")),Le.append(Qe)}Mh(),Tu.bind("click.spectrum touchstart.spectrum",function(Ue){Zp||jh(),Ue.stopPropagation(),a(Ue.target).is("input")||Ue.preventDefault()}),(sn.is(":disabled")||st.disabled===!0)&&Fh(),Qe.click(tt),vi.change(od),vi.bind("paste",function(){setTimeout(od,1)}),vi.keydown(function(Ue){Ue.keyCode==13&&od()}),kh.text(st.cancelText),kh.bind("click.spectrum",function(Ue){Ue.stopPropagation(),Ue.preventDefault(),Rh(),Aa()}),Xp.attr("title",st.clearText),Xp.bind("click.spectrum",function(Ue){Ue.stopPropagation(),Ue.preventDefault(),ka=!0,Ol(),re&&Os(!0)}),Ah.text(st.chooseText),Ah.bind("click.spectrum",function(Ue){Ue.stopPropagation(),Ue.preventDefault(),r&&vi.is(":focus")&&vi.trigger("change"),Gw()&&(Os(!0),Aa())}),Jp.text(st.showPaletteOnly?st.togglePaletteMoreText:st.togglePaletteLessText),Jp.bind("click.spectrum",function(Ue){Ue.stopPropagation(),Ue.preventDefault(),st.showPaletteOnly=!st.showPaletteOnly,!st.showPaletteOnly&&!re&&Qe.css("left","-="+(Hw.outerWidth(!0)+5)),td()}),ct(Th,function(Ue,Mo,Es){di=Ue/pi,ka=!1,Es.shiftKey&&(di=Math.round(di*10)/10),Ol()},rd,nd),ct(Yp,function(Ue,Mo){_s=parseFloat(Mo/kr),ka=!1,st.showAlpha||(di=1),Ol()},rd,nd),ct(vf,function(Ue,Mo,Es){if(!Es.shiftKey)Pa=null;else if(!Pa){var _f=xs*Ui,Pu=Ao-xu*Ao,ku=Math.abs(Ue-_f)>Math.abs(Mo-Pu);Pa=ku?"x":"y"}var Yw=!Pa||Pa==="x",Xw=!Pa||Pa==="y";Yw&&(xs=parseFloat(Ue/Ui)),Xw&&(xu=parseFloat((Ao-Mo)/Ao)),ka=!1,st.showAlpha||(di=1),Ol()},rd,nd),Eu?(Ss(Eu),Tl(),Sl=st.preferredFormat||pe(Eu).getFormat(),ed(Eu)):Tl(),re&&id();function Ie(Ue){return Ue.data&&Ue.data.ignore?(Ss(a(Ue.target).closest(".sp-thumb-el").data("color")),Ol()):(Ss(a(Ue.target).closest(".sp-thumb-el").data("color")),Ol(),st.hideAfterPaletteSelect&&(Os(!0),Aa())),!1}var fr=r?"mousedown.spectrum":"click.spectrum touchstart.spectrum";Eh.delegate(".sp-thumb-el",fr,Ie),Ph.delegate(".sp-thumb-el:nth-child(1)",fr,{ignore:!0},Ie)}function Mh(){if(we&&window.localStorage){try{var Le=window.localStorage[we].split(",#");Le.length>1&&(delete window.localStorage[we],a.each(Le,function(Ie,fr){ed(fr)}))}catch{}try{hi=window.localStorage[we].split(";")}catch{}}}function ed(Le){if(se){var Ie=pe(Le).toRgbString();if(!hf[Ie]&&a.inArray(Ie,hi)===-1)for(hi.push(Ie);hi.length>Fw;)hi.shift();if(we&&window.localStorage)try{window.localStorage[we]=hi.join(";")}catch{}}}function Ww(){var Le=[];if(st.showPalette)for(var Ie=0;Ie<hi.length;Ie++){var fr=pe(hi[Ie]).toRgbString();hf[fr]||Le.push(hi[Ie])}return Le.reverse().slice(0,st.maxSelectionSize)}function Lh(){var Le=Gn(),Ie=a.map(Cu,function(fr,Ue){return p(fr,Le,"sp-palette-row sp-palette-row-"+Ue,st)});Mh(),hi&&Ie.push(p(Ww(),Le,"sp-palette-row sp-palette-row-selection",st)),Eh.html(Ie.join(""))}function Dh(){if(st.showInitial){var Le=Cl,Ie=Gn();Ph.html(p([Le,Ie],Ie,"sp-palette-row-initial",st))}}function rd(){(Ao<=0||Ui<=0||kr<=0)&&Ts(),an=!0,Qe.addClass(Oh),Pa=null,sn.trigger("dragstart.spectrum",[Gn()])}function nd(){an=!1,Qe.removeClass(Oh),sn.trigger("dragstop.spectrum",[Gn()])}function od(){var Le=vi.val();if((Le===null||Le==="")&&Cs)Ss(null),Os(!0);else{var Ie=pe(Le);Ie.isValid()?(Ss(Ie),Os(!0)):vi.addClass("sp-validation-error")}}function jh(){Ur?Aa():id()}function id(){var Le=a.Event("beforeShow.spectrum");if(Ur){Ts();return}if(sn.trigger("beforeShow.spectrum",[Gn()]),!(Ge.beforeShow(Gn())===!1||Le.isDefaultPrevented())){h(),Ur=!0;var Ie=a(Su);Ie.bind("keydown.spectrum",Ih),Ie.bind("click.spectrum",Vh),a(window).bind("resize.spectrum",Re),_l.addClass("sp-active"),Qe.removeClass("sp-hidden"),Ts(),Tl(),Cl=Gn(),Dh(),Ge.show(Cl),sn.trigger("show.spectrum",[Cl])}}function Ih(Le){Le.keyCode===27&&Aa()}function Vh(Le){Le.button!=2&&(an||(Uw?Os(!0):Rh(),Aa()))}function Aa(){!Ur||re||(Ur=!1,a(Su).unbind("keydown.spectrum",Ih),a(Su).unbind("click.spectrum",Vh),a(window).unbind("resize.spectrum",Re),_l.removeClass("sp-active"),Qe.addClass("sp-hidden"),Ge.hide(Gn()),sn.trigger("hide.spectrum",[Gn()]))}function Rh(){Ss(Cl,!0)}function Ss(Le,Ie){if(pe.equals(Le,Gn())){Tl();return}var fr,Ue;!Le&&Cs?ka=!0:(ka=!1,Jr=!Le,fr=pe(Le),Ue=fr.toHsv(),_s=Ue.h%360/360,xs=Ue.s,xu=Ue.v,di=Ue.a),Tl(),fr&&fr.isValid()&&!Ie&&(Sl=st.preferredFormat||fr.getFormat())}function Gn(Le){return Le=Le||{},Cs&&ka?null:pe.fromRatio({h:_s,s:xs,v:xu,a:Math.round(di*100)/100},{format:Le.format||Sl})}function Gw(){return!vi.hasClass("sp-validation-error")}function Ol(){Tl(),Ge.move(Gn()),sn.trigger("move.spectrum",[Gn()])}function Tl(){vi.removeClass("sp-validation-error"),Nh();var Le=pe.fromRatio({h:_s,s:1,v:1});vf.css("background-color",Le.toHexString());var Ie=Sl;di<1&&!(di===0&&Ie==="name")&&(Ie==="hex"||Ie==="hex3"||Ie==="hex6"||Ie==="name")&&(Ie="rgb");var fr=Gn({format:Ie}),Ue="";if(xl.removeClass("sp-clear-display"),xl.css("background-color","transparent"),!fr&&Cs)xl.addClass("sp-clear-display");else{var Mo=fr.toHexString(),Es=fr.toRgbString();if(o||fr.alpha===1?xl.css("background-color",Es):(xl.css("background-color","transparent"),xl.css("filter",fr.toFilter())),st.showAlpha){var _f=fr.toRgb();_f.a=0;var Pu=pe(_f).toRgbString(),ku="linear-gradient(left, "+Pu+", "+Mo+")";r?Ou.css("filter",pe(Pu).toFilter({gradientType:1},Mo)):(Ou.css("background","-webkit-"+ku),Ou.css("background","-moz-"+ku),Ou.css("background","-ms-"+ku),Ou.css("background","linear-gradient(to right, "+Pu+", "+Mo+")"))}Ue=fr.toString(Ie)}st.showInput&&vi.val(Ue),st.showPalette&&Lh(),Dh()}function Nh(){var Le=xs,Ie=xu;if(Cs&&ka)yf.hide(),mf.hide(),gf.hide();else{yf.show(),mf.show(),gf.show();var fr=Le*Ui,Ue=Ao-Ie*Ao;fr=Math.max(-fi,Math.min(Ui-fi,fr-fi)),Ue=Math.max(-fi,Math.min(Ao-fi,Ue-fi)),gf.css({top:Ue+"px",left:fr+"px"});var Mo=di*pi;yf.css({left:Mo-ff/2+"px"});var Es=_s*kr;mf.css({top:Es-pf+"px"})}}function Os(Le){var Ie=Gn(),fr="",Ue=Jr?!0:!pe.equals(Ie,Cl);Ie&&(fr=Ie.toString(Sl),!Ur&&ed(Ie)),wf&&sn.val(fr),Le&&Ue&&(Ge.change(Ie),sn.trigger("change",[Ie]))}function Ts(){Ur&&(Ui=vf.width(),Ao=vf.height(),fi=gf.height(),Yp.width(),kr=Yp.height(),pf=mf.height(),pi=Th.width(),ff=yf.width(),re||(Qe.css("position","absolute"),st.offset?Qe.offset(st.offset):Qe.offset(P(Qe,Tu))),Nh(),st.showPalette&&Lh(),sn.trigger("reflow.spectrum"))}function Kw(){sn.show(),Tu.unbind("click.spectrum touchstart.spectrum"),Qe.remove(),_l.remove(),e[bf.id]=null}function $w(Le,Ie){if(Le===n)return a.extend({},st);if(Ie===n)return st[Le];st[Le]=Ie,Le==="preferredFormat"&&(Sl=st.preferredFormat),td()}function qw(){Zp=!1,sn.attr("disabled",!1),Tu.removeClass("sp-disabled")}function Fh(){Aa(),Zp=!0,sn.attr("disabled",!0),Tu.addClass("sp-disabled")}function Zw(Le){st.offset=Le,Ts()}zw();var bf={show:id,hide:Aa,toggle:jh,reflow:Ts,option:$w,enable:qw,disable:Fh,offset:Zw,set:function(Le){Ss(Le),Os()},get:Gn,destroy:Kw,container:Qe};return bf.id=e.push(bf)-1,bf}function P(pt,jt){for(var st=jt[0],re=pt[0],se=re.parentElement,we=st.getBoundingClientRect(),Be=re.offsetWidth,Ge=re.offsetHeight,Re={top:0,left:0,width:st.offsetWidth,height:st.offsetHeight};st&&(Re.top+=st.offsetTop-st.scrollTop,Re.left+=st.offsetLeft-st.scrollLeft,!(st===se||!se.contains(st.offsetParent)));)st=st.offsetParent;return we.right+Be>window.innerWidth-window.scrollX&&we.right-Be>0&&(Re.left-=Be-Re.width),we.bottom+Ge<window.innerHeight-window.scrollY?Re.top+=Re.height:Re.top-=Ge,Re}function B(){}function tt(pt){pt.stopPropagation()}function ut(pt,jt){var st=Array.prototype.slice,re=st.call(arguments,2);return function(){return pt.apply(jt,re.concat(st.call(arguments)))}}function ct(pt,jt,st,re){jt=jt||function(){},st=st||function(){},re=re||function(){};var se=document,we=!1,Be={},Ge=0,Re=0,Ur="ontouchstart"in window,an={};an.selectstart=Jr,an.dragstart=Jr,an["touchmove mousemove"]=Ui,an["touchend mouseup"]=fi;function Jr(kr){kr.stopPropagation&&kr.stopPropagation(),kr.preventDefault&&kr.preventDefault(),kr.returnValue=!1}function Ui(kr){if(we){if(r&&se.documentMode<9&&!kr.button)return fi();var pi=kr&&kr.touches&&kr.touches[0],ff=pi&&pi.pageX||kr.pageX,pf=pi&&pi.pageY||kr.pageY,_s=Math.max(0,Math.min(ff-Be.left,Re)),xs=Math.max(0,Math.min(pf-Be.top,Ge));Ur&&Jr(kr),jt.apply(pt,[_s,xs,kr])}}function Ao(kr){var pi=kr.which?kr.which==3:kr.button==2;!pi&&!we&&st.apply(pt,arguments)!==!1&&(we=!0,Ge=a(pt).height(),Re=a(pt).width(),Be=a(pt).offset(),a(se).bind(an),a(se.body).addClass("sp-dragging"),Ui(kr),Jr(kr))}function fi(){we&&(a(se).unbind(an),a(se.body).removeClass("sp-dragging"),setTimeout(function(){re.apply(pt,arguments)},0)),we=!1}a(pt).bind("touchstart mousedown",Ao)}function Tt(pt,jt,st){var re;return function(){var se=this,we=arguments,Be=function(){re=null,pt.apply(se,we)};re||(re=setTimeout(Be,jt))}}function Nt(){return a.fn.spectrum.inputTypeColorSupport()}var Ft="spectrum.id";a.fn.spectrum=function(pt,jt){if(typeof pt=="string"){var st=this,re=Array.prototype.slice.call(arguments,1);return this.each(function(){var se=e[a(this).data(Ft)];if(se){var we=se[pt];if(!we)throw new Error("Spectrum: no such method: '"+pt+"'");pt=="get"?st=se.get():pt=="container"?st=se.container:pt=="option"?st=se.option.apply(se,re):pt=="destroy"?(se.destroy(),a(this).removeData(Ft)):we.apply(se,re)}}),st}return this.spectrum("destroy").each(function(){var se=a.extend({},pt,a(this).data()),we=b(this,se);a(this).data(Ft,we.id)})},a.fn.spectrum.load=!0,a.fn.spectrum.loadOpts={},a.fn.spectrum.draggable=ct,a.fn.spectrum.defaults=t,a.fn.spectrum.inputTypeColorSupport=function pt(){if(typeof pt._cachedResult>"u"){var jt=a("<input type='color'/>")[0];pt._cachedResult=jt.type==="color"&&jt.value!==""}return pt._cachedResult},a.spectrum={},a.spectrum.localization={},a.spectrum.palettes={},a.fn.spectrum.processNativeColorInputs=function(){var pt=a("input[type=color]");pt.length&&!Nt()&&pt.spectrum({preferredFormat:"hex6"})};var Qt=/^[\s,#]+/,fe=/\s+$/,Se=0,Pe=Math,ie=Pe.round,Ee=Pe.min,Fe=Pe.max,ur=Pe.random,pe=function(pt,jt){if(pt=pt||"",jt=jt||{},pt instanceof pe)return pt;if(!(this instanceof pe))return new pe(pt,jt);var st=Wn(pt);this._originalInput=pt,this._r=st.r,this._g=st.g,this._b=st.b,this._a=st.a,this._roundA=ie(100*this._a)/100,this._format=jt.format||st.format,this._gradientType=jt.gradientType,this._r<1&&(this._r=ie(this._r)),this._g<1&&(this._g=ie(this._g)),this._b<1&&(this._b=ie(this._b)),this._ok=st.ok,this._tc_id=Se++};pe.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var pt=this.toRgb();return(pt.r*299+pt.g*587+pt.b*114)/1e3},setAlpha:function(pt){return this._a=Sh(pt),this._roundA=ie(100*this._a)/100,this},toHsv:function(){var pt=ui(this._r,this._g,this._b);return{h:pt.h*360,s:pt.s,v:pt.v,a:this._a}},toHsvString:function(){var pt=ui(this._r,this._g,this._b),jt=ie(pt.h*360),st=ie(pt.s*100),re=ie(pt.v*100);return this._a==1?"hsv("+jt+", "+st+"%, "+re+"%)":"hsva("+jt+", "+st+"%, "+re+"%, "+this._roundA+")"},toHsl:function(){var pt=wl(this._r,this._g,this._b);return{h:pt.h*360,s:pt.s,l:pt.l,a:this._a}},toHslString:function(){var pt=wl(this._r,this._g,this._b),jt=ie(pt.h*360),st=ie(pt.s*100),re=ie(pt.l*100);return this._a==1?"hsl("+jt+", "+st+"%, "+re+"%)":"hsla("+jt+", "+st+"%, "+re+"%, "+this._roundA+")"},toHex:function(pt){return ws(this._r,this._g,this._b,pt)},toHexString:function(pt){return"#"+this.toHex(pt)},toHex8:function(){return Ta(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:ie(this._r),g:ie(this._g),b:ie(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+ie(this._r)+", "+ie(this._g)+", "+ie(this._b)+")":"rgba("+ie(this._r)+", "+ie(this._g)+", "+ie(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:ie(Rr(this._r,255)*100)+"%",g:ie(Rr(this._g,255)*100)+"%",b:ie(Rr(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+ie(Rr(this._r,255)*100)+"%, "+ie(Rr(this._g,255)*100)+"%, "+ie(Rr(this._b,255)*100)+"%)":"rgba("+ie(Rr(this._r,255)*100)+"%, "+ie(Rr(this._g,255)*100)+"%, "+ie(Rr(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Lw[ws(this._r,this._g,this._b,!0)]||!1},toFilter:function(pt){var jt="#"+Ta(this._r,this._g,this._b,this._a),st=jt,re=this._gradientType?"GradientType = 1, ":"";if(pt){var se=pe(pt);st=se.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+re+"startColorstr="+jt+",endColorstr="+st+")"},toString:function(pt){var jt=!!pt;pt=pt||this._format;var st=!1,re=this._a<1&&this._a>=0,se=!jt&&re&&(pt==="hex"||pt==="hex6"||pt==="hex3"||pt==="name");return se?pt==="name"&&this._a===0?this.toName():this.toRgbString():(pt==="rgb"&&(st=this.toRgbString()),pt==="prgb"&&(st=this.toPercentageRgbString()),(pt==="hex"||pt==="hex6")&&(st=this.toHexString()),pt==="hex3"&&(st=this.toHexString(!0)),pt==="hex8"&&(st=this.toHex8String()),pt==="name"&&(st=this.toName()),pt==="hsl"&&(st=this.toHslString()),pt==="hsv"&&(st=this.toHsvString()),st||this.toHexString())},_applyModification:function(pt,jt){var st=pt.apply(null,[this].concat([].slice.call(jt)));return this._r=st._r,this._g=st._g,this._b=st._b,this.setAlpha(st._a),this},lighten:function(){return this._applyModification(xw,arguments)},brighten:function(){return this._applyModification(Cw,arguments)},darken:function(){return this._applyModification(Sw,arguments)},desaturate:function(){return this._applyModification(Ea,arguments)},saturate:function(){return this._applyModification(bw,arguments)},greyscale:function(){return this._applyModification(_w,arguments)},spin:function(){return this._applyModification(Ow,arguments)},_applyCombination:function(pt,jt){return pt.apply(null,[this].concat([].slice.call(jt)))},analogous:function(){return this._applyCombination(Aw,arguments)},complement:function(){return this._applyCombination(Tw,arguments)},monochromatic:function(){return this._applyCombination(Mw,arguments)},splitcomplement:function(){return this._applyCombination(kw,arguments)},triad:function(){return this._applyCombination(Ew,arguments)},tetrad:function(){return this._applyCombination(Pw,arguments)}},pe.fromRatio=function(pt,jt){if(typeof pt=="object"){var st={};for(var re in pt)pt.hasOwnProperty(re)&&(re==="a"?st[re]=pt[re]:st[re]=_u(pt[re]));pt=st}return pe(pt,jt)};function Wn(pt){var jt={r:0,g:0,b:0},st=1,re=!1,se=!1;return typeof pt=="string"&&(pt=Nw(pt)),typeof pt=="object"&&(pt.hasOwnProperty("r")&&pt.hasOwnProperty("g")&&pt.hasOwnProperty("b")?(jt=bu(pt.r,pt.g,pt.b),re=!0,se=String(pt.r).substr(-1)==="%"?"prgb":"rgb"):pt.hasOwnProperty("h")&&pt.hasOwnProperty("s")&&pt.hasOwnProperty("v")?(pt.s=_u(pt.s),pt.v=_u(pt.v),jt=ys(pt.h,pt.s,pt.v),re=!0,se="hsv"):pt.hasOwnProperty("h")&&pt.hasOwnProperty("s")&&pt.hasOwnProperty("l")&&(pt.s=_u(pt.s),pt.l=_u(pt.l),jt=bl(pt.h,pt.s,pt.l),re=!0,se="hsl"),pt.hasOwnProperty("a")&&(st=pt.a)),st=Sh(st),{ok:re,format:pt.format||se,r:Ee(255,Fe(jt.r,0)),g:Ee(255,Fe(jt.g,0)),b:Ee(255,Fe(jt.b,0)),a:st}}function bu(pt,jt,st){return{r:Rr(pt,255)*255,g:Rr(jt,255)*255,b:Rr(st,255)*255}}function wl(pt,jt,st){pt=Rr(pt,255),jt=Rr(jt,255),st=Rr(st,255);var re=Fe(pt,jt,st),se=Ee(pt,jt,st),we,Be,Ge=(re+se)/2;if(re==se)we=Be=0;else{var Re=re-se;switch(Be=Ge>.5?Re/(2-re-se):Re/(re+se),re){case pt:we=(jt-st)/Re+(jt<st?6:0);break;case jt:we=(st-pt)/Re+2;break;case st:we=(pt-jt)/Re+4;break}we/=6}return{h:we,s:Be,l:Ge}}function bl(pt,jt,st){var re,se,we;pt=Rr(pt,360),jt=Rr(jt,100),st=Rr(st,100);function Be(Ur,an,Jr){return Jr<0&&(Jr+=1),Jr>1&&(Jr-=1),Jr<1/6?Ur+(an-Ur)*6*Jr:Jr<1/2?an:Jr<2/3?Ur+(an-Ur)*(2/3-Jr)*6:Ur}if(jt===0)re=se=we=st;else{var Ge=st<.5?st*(1+jt):st+jt-st*jt,Re=2*st-Ge;re=Be(Re,Ge,pt+1/3),se=Be(Re,Ge,pt),we=Be(Re,Ge,pt-1/3)}return{r:re*255,g:se*255,b:we*255}}function ui(pt,jt,st){pt=Rr(pt,255),jt=Rr(jt,255),st=Rr(st,255);var re=Fe(pt,jt,st),se=Ee(pt,jt,st),we,Be,Ge=re,Re=re-se;if(Be=re===0?0:Re/re,re==se)we=0;else{switch(re){case pt:we=(jt-st)/Re+(jt<st?6:0);break;case jt:we=(st-pt)/Re+2;break;case st:we=(pt-jt)/Re+4;break}we/=6}return{h:we,s:Be,v:Ge}}function ys(pt,jt,st){pt=Rr(pt,360)*6,jt=Rr(jt,100),st=Rr(st,100);var re=Pe.floor(pt),se=pt-re,we=st*(1-jt),Be=st*(1-se*jt),Ge=st*(1-(1-se)*jt),Re=re%6,Ur=[st,Be,we,we,Ge,st][Re],an=[Ge,st,st,Be,we,we][Re],Jr=[we,we,Ge,st,st,Be][Re];return{r:Ur*255,g:an*255,b:Jr*255}}function ws(pt,jt,st,re){var se=[bs(ie(pt).toString(16)),bs(ie(jt).toString(16)),bs(ie(st).toString(16))];return re&&se[0].charAt(0)==se[0].charAt(1)&&se[1].charAt(0)==se[1].charAt(1)&&se[2].charAt(0)==se[2].charAt(1)?se[0].charAt(0)+se[1].charAt(0)+se[2].charAt(0):se.join("")}function Ta(pt,jt,st,re){var se=[bs(Vw(re)),bs(ie(pt).toString(16)),bs(ie(jt).toString(16)),bs(ie(st).toString(16))];return se.join("")}pe.equals=function(pt,jt){return!pt||!jt?!1:pe(pt).toRgbString()==pe(jt).toRgbString()},pe.random=function(){return pe.fromRatio({r:ur(),g:ur(),b:ur()})};function Ea(pt,jt){jt=jt===0?0:jt||10;var st=pe(pt).toHsl();return st.s-=jt/100,st.s=cf(st.s),pe(st)}function bw(pt,jt){jt=jt===0?0:jt||10;var st=pe(pt).toHsl();return st.s+=jt/100,st.s=cf(st.s),pe(st)}function _w(pt){return pe(pt).desaturate(100)}function xw(pt,jt){jt=jt===0?0:jt||10;var st=pe(pt).toHsl();return st.l+=jt/100,st.l=cf(st.l),pe(st)}function Cw(pt,jt){jt=jt===0?0:jt||10;var st=pe(pt).toRgb();return st.r=Fe(0,Ee(255,st.r-ie(255*-(jt/100)))),st.g=Fe(0,Ee(255,st.g-ie(255*-(jt/100)))),st.b=Fe(0,Ee(255,st.b-ie(255*-(jt/100)))),pe(st)}function Sw(pt,jt){jt=jt===0?0:jt||10;var st=pe(pt).toHsl();return st.l-=jt/100,st.l=cf(st.l),pe(st)}function Ow(pt,jt){var st=pe(pt).toHsl(),re=(ie(st.h)+jt)%360;return st.h=re<0?360+re:re,pe(st)}function Tw(pt){var jt=pe(pt).toHsl();return jt.h=(jt.h+180)%360,pe(jt)}function Ew(pt){var jt=pe(pt).toHsl(),st=jt.h;return[pe(pt),pe({h:(st+120)%360,s:jt.s,l:jt.l}),pe({h:(st+240)%360,s:jt.s,l:jt.l})]}function Pw(pt){var jt=pe(pt).toHsl(),st=jt.h;return[pe(pt),pe({h:(st+90)%360,s:jt.s,l:jt.l}),pe({h:(st+180)%360,s:jt.s,l:jt.l}),pe({h:(st+270)%360,s:jt.s,l:jt.l})]}function kw(pt){var jt=pe(pt).toHsl(),st=jt.h;return[pe(pt),pe({h:(st+72)%360,s:jt.s,l:jt.l}),pe({h:(st+216)%360,s:jt.s,l:jt.l})]}function Aw(pt,jt,st){jt=jt||6,st=st||30;var re=pe(pt).toHsl(),se=360/st,we=[pe(pt)];for(re.h=(re.h-(se*jt>>1)+720)%360;--jt;)re.h=(re.h+se)%360,we.push(pe(re));return we}function Mw(pt,jt){jt=jt||6;for(var st=pe(pt).toHsv(),re=st.h,se=st.s,we=st.v,Be=[],Ge=1/jt;jt--;)Be.push(pe({h:re,s:se,v:we})),we=(we+Ge)%1;return Be}pe.mix=function(pt,jt,st){st=st===0?0:st||50;var re=pe(pt).toRgb(),se=pe(jt).toRgb(),we=st/100,Be=we*2-1,Ge=se.a-re.a,Re;Be*Ge==-1?Re=Be:Re=(Be+Ge)/(1+Be*Ge),Re=(Re+1)/2;var Ur=1-Re,an={r:se.r*Re+re.r*Ur,g:se.g*Re+re.g*Ur,b:se.b*Re+re.b*Ur,a:se.a*we+re.a*(1-we)};return pe(an)},pe.readability=function(pt,jt){var st=pe(pt),re=pe(jt),se=st.toRgb(),we=re.toRgb(),Be=st.getBrightness(),Ge=re.getBrightness(),Re=Math.max(se.r,we.r)-Math.min(se.r,we.r)+Math.max(se.g,we.g)-Math.min(se.g,we.g)+Math.max(se.b,we.b)-Math.min(se.b,we.b);return{brightness:Math.abs(Be-Ge),color:Re}},pe.isReadable=function(pt,jt){var st=pe.readability(pt,jt);return st.brightness>125&&st.color>500},pe.mostReadable=function(pt,jt){for(var st=null,re=0,se=!1,we=0;we<jt.length;we++){var Be=pe.readability(pt,jt[we]),Ge=Be.brightness>125&&Be.color>500,Re=3*(Be.brightness/125)+Be.color/500;(Ge&&!se||Ge&&se&&Re>re||!Ge&&!se&&Re>re)&&(se=Ge,re=Re,st=pe(jt[we]))}return st};var qp=pe.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Lw=pe.hexNames=Dw(qp);function Dw(pt){var jt={};for(var st in pt)pt.hasOwnProperty(st)&&(jt[pt[st]]=st);return jt}function Sh(pt){return pt=parseFloat(pt),(isNaN(pt)||pt<0||pt>1)&&(pt=1),pt}function Rr(pt,jt){jw(pt)&&(pt="100%");var st=Iw(pt);return pt=Ee(jt,Fe(0,parseFloat(pt))),st&&(pt=parseInt(pt*jt,10)/100),Pe.abs(pt-jt)<1e-6?1:pt%jt/parseFloat(jt)}function cf(pt){return Ee(1,Fe(0,pt))}function ci(pt){return parseInt(pt,16)}function jw(pt){return typeof pt=="string"&&pt.indexOf(".")!=-1&&parseFloat(pt)===1}function Iw(pt){return typeof pt=="string"&&pt.indexOf("%")!=-1}function bs(pt){return pt.length==1?"0"+pt:""+pt}function _u(pt){return pt<=1&&(pt=pt*100+"%"),pt}function Vw(pt){return Math.round(parseFloat(pt)*255).toString(16)}function Rw(pt){return ci(pt)/255}var Bi=function(){var pt="[-\\+]?\\d+%?",jt="[-\\+]?\\d*\\.\\d+%?",st="(?:"+jt+")|(?:"+pt+")",re="[\\s|\\(]+("+st+")[,|\\s]+("+st+")[,|\\s]+("+st+")\\s*\\)?",se="[\\s|\\(]+("+st+")[,|\\s]+("+st+")[,|\\s]+("+st+")[,|\\s]+("+st+")\\s*\\)?";return{rgb:new RegExp("rgb"+re),rgba:new RegExp("rgba"+se),hsl:new RegExp("hsl"+re),hsla:new RegExp("hsla"+se),hsv:new RegExp("hsv"+re),hsva:new RegExp("hsva"+se),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Nw(pt){pt=pt.replace(Qt,"").replace(fe,"").toLowerCase();var jt=!1;if(qp[pt])pt=qp[pt],jt=!0;else if(pt=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var st;return(st=Bi.rgb.exec(pt))?{r:st[1],g:st[2],b:st[3]}:(st=Bi.rgba.exec(pt))?{r:st[1],g:st[2],b:st[3],a:st[4]}:(st=Bi.hsl.exec(pt))?{h:st[1],s:st[2],l:st[3]}:(st=Bi.hsla.exec(pt))?{h:st[1],s:st[2],l:st[3],a:st[4]}:(st=Bi.hsv.exec(pt))?{h:st[1],s:st[2],v:st[3]}:(st=Bi.hsva.exec(pt))?{h:st[1],s:st[2],v:st[3],a:st[4]}:(st=Bi.hex8.exec(pt))?{a:Rw(st[1]),r:ci(st[2]),g:ci(st[3]),b:ci(st[4]),format:jt?"name":"hex8"}:(st=Bi.hex6.exec(pt))?{r:ci(st[1]),g:ci(st[2]),b:ci(st[3]),format:jt?"name":"hex"}:(st=Bi.hex3.exec(pt))?{r:ci(st[1]+""+st[1]),g:ci(st[2]+""+st[2]),b:ci(st[3]+""+st[3]),format:jt?"name":"hex"}:!1}window.tinycolor=pe,a(function(){a.fn.spectrum.load&&a.fn.spectrum.processNativeColorInputs()})}var ai=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),on=function(a){ai(n,a);function n(t){t===void 0&&(t={});var e=a.call(this,t)||this,r=t.ppfx||"";return e.opts=t,e.ppfx=r,e.em=t.target||{},!t.onChange&&e.listenTo(e.model,"change:value",e.handleModelChange),e}return n.prototype.template=function(){return'<span class="'.concat(this.holderClass(),'"></span>')},n.prototype.inputClass=function(){return"".concat(this.ppfx,"field")},n.prototype.holderClass=function(){return"".concat(this.ppfx,"input-holder")},n.prototype.elementUpdated=function(){this.model.trigger("el:change")},n.prototype.setValue=function(t,e){var r=this.model,o=t||r.get("defaults"),l=this.getInputEl();l&&(l.value=o)},n.prototype.handleModelChange=function(t,e,r){this.setValue(e,r)},n.prototype.handleChange=function(t){t.stopPropagation();var e=this.getInputEl().value;this.__onInputChange(e),this.elementUpdated()},n.prototype.__onInputChange=function(t){this.model.set({value:t},{fromInput:1})},n.prototype.getInputEl=function(){if(!this.inputEl){var t=this,e=t.model,r=t.opts,o=r.type||"text",l=e.get("placeholder")||e.get("defaults")||e.get("default")||"";this.inputEl=(0,C.default)('<input type="'.concat(o,'" placeholder="').concat(l,'">'))}return this.inputEl.get(0)},n.prototype.render=function(){this.inputEl=null;var t=this.$el;return t.addClass(this.inputClass()),t.html(this.template()),t.find(".".concat(this.holderClass())).append(this.getInputEl()),this},n}(m.G7);const Hn=on;on.prototype.events={change:"handleChange"};var Xr=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Vi=function(){return Vi=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Vi.apply(this,arguments)};C.default&&xa(C.default);var Yn=function(a){var n=a.getFormat()==="name"&&a.toName(),t=a.getAlpha()==1?a.toHexString():a.toRgbString();return n||t.replace(/ /g,"")},Ri=function(a){Xr(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.template=function(){var t=this.ppfx;return`
      <div class="`.concat(this.holderClass(),`"></div>
      <div class="`).concat(t,`field-colorp">
        <div class="`).concat(t,`field-colorp-c" data-colorp-c>
          <div class="`).concat(t,`checker-bg"></div>
        </div>
      </div>
    `)},n.prototype.inputClass=function(){var t=this.ppfx;return"".concat(t,"field ").concat(t,"field-color")},n.prototype.holderClass=function(){return"".concat(this.ppfx,"input-holder")},n.prototype.remove=function(){return a.prototype.remove.call(this),this.colorEl.spectrum("destroy"),this},n.prototype.handleChange=function(t){t.stopPropagation();var e=t.target.value;(0,R.isUndefined)(e)||this.__onInputChange(e)},n.prototype.__onInputChange=function(t){var e=this,r=e.model,o=e.opts,l=o.onChange,f=t,p=this.getColorEl();if(p){p.spectrum("set",f);var h=p.spectrum("get"),v=f&&Yn(h);v&&(f=v)}l?l(f):r.set({value:f},{fromInput:1})},n.prototype.setValue=function(t,e){e===void 0&&(e={});var r=this.model,o=(0,R.isUndefined)(e.def)?r.get("defaults"):e.def,l=(0,R.isUndefined)(t)?(0,R.isUndefined)(o)?"":o:t,f=this.getInputEl(),p=this.getColorEl(),h=l!="none"?l:"";f.value=l,p.get(0).style.backgroundColor=h,(e.fromTarget||e.fromInput&&!e.avoidStore)&&(p.spectrum("set",h),this.noneColor=l=="none",this.movedColor=h)},n.prototype.getColorEl=function(){var t=this;if(!this.colorEl){var e=this,r=e.em,o=e.model,l=e.opts,f=this.ppfx,p=l.onChange,h=(0,C.default)('<div class="'.concat(this.ppfx,'field-color-picker"></div>')),v=h.get(0).style,b=r&&r.getConfig&&r.getConfig().colorPicker||{};this.movedColor="";var P=!1,B;this.$el.find("[data-colorp-c]").append(h);var tt=function(ut,ct){ct===void 0&&(ct=!0),p?p(ut,!ct):(ct&&o.setValueFromInput(0,!1),o.setValueFromInput(ut,ct))};h.spectrum(Vi(Vi(Vi({color:o.getValue()||!1,containerClassName:"".concat(f,"one-bg ").concat(f,"two-color ").concat(f,"editor-sp"),maxSelectionSize:8,showPalette:!0,showAlpha:!0,chooseText:"Ok",cancelText:"⨯",palette:[]},b),o.get("colorPicker")||{}),{move:function(ut){var ct=Yn(ut);t.movedColor=ct,v.backgroundColor=ct,tt(ct,!1)},change:function(ut){P=!0;var ct=Yn(ut);v.backgroundColor=ct,tt(ct),t.noneColor=!1},show:function(ut){P=!1,t.movedColor="",B=p?o.getValue({noDefault:!0}):Yn(ut)},hide:function(){!P&&(B||p)&&(t.noneColor&&(B=""),v.backgroundColor=B,h.spectrum("set",B),tt(B,!1))}})),r&&r.on&&this.listenTo(r,"component:selected",function(){t.movedColor&&tt(t.movedColor),P=!0,t.movedColor="",h.spectrum("hide")}),this.colorEl=h}return this.colorEl},n.prototype.render=function(){return Hn.prototype.render.call(this),this.getColorEl(),this},n}(Hn);const si=Ri;var _n=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ca=function(a){_n(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.templateInput=function(){return""},n.prototype.getInputEl=function(){if(!this.input){var t=this.model,e=this.getModelValue(),r=new si({model:t,target:this.config.em,contClass:this.ppfx+"field-color",ppfx:this.ppfx}),o=r.render();o.setValue(e,{fromTarget:1}),this.input=o.el}return this.input},n}(hr);const fu=Ca;var iv=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),sd=function(a){iv(n,a);function n(t){t===void 0&&(t={});var e=a.call(this,t)||this;return(0,R.bindAll)(e,"moveIncrement","upIncrement"),e.doc=document,e.listenTo(e.model,"change:unit",e.handleModelChange),e}return n.prototype.template=function(){var t=this.ppfx;return`
      <span class="`.concat(t,`input-holder"></span>
      <span class="`).concat(t,`field-units"></span>
      <div class="`).concat(t,`field-arrows" data-arrows>
        <div class="`).concat(t,`field-arrow-u" data-arrow-up></div>
        <div class="`).concat(t,`field-arrow-d" data-arrow-down></div>
      </div>
    `)},n.prototype.inputClass=function(){var t=this.ppfx;return this.opts.contClass||"".concat(t,"field ").concat(t,"field-integer")},n.prototype.setValue=function(t,e){var r=e||{},o=this.validateInputValue(t,{deepCheck:1}),l={value:o.value,unit:""};(o.unit||o.force)&&(l.unit=o.unit),this.model.set(l,r),r.silent&&this.handleModelChange()},n.prototype.handleChange=function(t){t.stopPropagation(),this.setValue(this.getInputEl().value),this.elementUpdated()},n.prototype.handleUnitChange=function(t){t.stopPropagation();var e=this.getUnitEl().value;this.model.set("unit",e),this.elementUpdated()},n.prototype.handleKeyDown=function(t){t.key==="ArrowUp"&&(t.preventDefault(),this.upArrowClick()),t.key==="ArrowDown"&&(t.preventDefault(),this.downArrowClick())},n.prototype.elementUpdated=function(){this.model.trigger("el:change")},n.prototype.handleModelChange=function(){var t=this.model;this.getInputEl().value=t.get("value");var e=this.getUnitEl();e&&(e.value=t.get("unit")||"")},n.prototype.getUnitEl=function(){if(!this.unitEl){var t=this.model,e=t.get("units")||[];if(e.length){var r=['<option value="" disabled hidden>-</option>'];e.forEach(function(l){var f=l==t.get("unit")?"selected":"";r.push("<option ".concat(f,">").concat(l,"</option>"))});var o=document.createElement("div");o.innerHTML='<select class="'.concat(this.ppfx,'input-unit">').concat(r.join(""),"</select>"),this.unitEl=o.firstChild}}return this.unitEl},n.prototype.upArrowClick=function(){var t=this.model,e=t.get("step"),r=parseFloat(t.get("value"));this.setValue(this.normalizeValue(r+e)),this.elementUpdated()},n.prototype.downArrowClick=function(){var t=this.model,e=t.get("step"),r=parseFloat(t.get("value"));this.setValue(this.normalizeValue(r-e)),this.elementUpdated()},n.prototype.downIncrement=function(t){t.preventDefault(),this.moved=!1;var e=this.model.get("value")||0;e=this.normalizeValue(e),this.current={y:t.pageY,val:e},(0,te.on)(this.doc,"mousemove",this.moveIncrement),(0,te.on)(this.doc,"mouseup",this.upIncrement)},n.prototype.moveIncrement=function(t){this.moved=!0;var e=this.model,r=e.get("step"),o=this.current,l=this.normalizeValue(o.val+(o.y-t.pageY)*r),f=this.validateInputValue(l),p=f.value,h=f.unit;return this.prValue=p,e.set({value:p,unit:h},{avoidStore:1}),!1},n.prototype.upIncrement=function(){var t=this.model,e=t.get("step");if((0,te.S1)(this.doc,"mouseup",this.upIncrement),(0,te.S1)(this.doc,"mousemove",this.moveIncrement),this.prValue&&this.moved){var r=this.prValue-e;t.set("value",r,{avoidStore:1}).set("value",r+e),this.elementUpdated()}},n.prototype.normalizeValue=function(t,e){e===void 0&&(e=0);var r=this.model,o=r.get("step"),l=0;if(isNaN(t))return e;if(t=parseFloat(t),Math.floor(t)!==t){var f=o.toString().split(".")[1];l=f?f.length:0}return l?parseFloat(t.toFixed(l)):t},n.prototype.validateInputValue=function(t,e){e===void 0&&(e={});var r=0,o=e||{},l=this.model,f="",p=(0,R.isUndefined)(t)?f:t,h=e.units||l.get("units")||[],v=l.get("unit")||h.length&&h[0]||"",b=(0,R.isUndefined)(e.max)?l.get("max"):e.max,P=(0,R.isUndefined)(e.min)?l.get("min"):e.min,B=!!l.get("limitlessMax"),tt=!!l.get("limitlessMin");if(o.deepCheck){var ut=l.get("fixedValues")||[];if(p===""&&(v=""),p){var ct=new RegExp("^"+ut.join("|"),"g");if(ut.length&&ct.test(p))p=p.match(ct)[0],v="",r=1;else{var Tt=p+"";p+="",p=parseFloat(p.replace(",",".")),p=isNaN(p)?f:p;var Nt=Tt.replace(p,"");(0,R.indexOf)(h,Nt)>=0&&(v=Nt)}}}return!B&&!(0,R.isUndefined)(b)&&b!==""&&(p=p>b?b:p),!tt&&!(0,R.isUndefined)(P)&&P!==""&&(p=p<P?P:p),{force:r,value:p,unit:v}},n.prototype.render=function(){Hn.prototype.render.call(this),this.unitEl=null;var t=this.getUnitEl();return t&&this.$el.find(".".concat(this.ppfx,"field-units")).get(0).appendChild(t),this},n}(Hn);const ld=sd;sd.prototype.events={"change input":"handleChange","change select":"handleUnitChange","click [data-arrow-up]":"upArrowClick","click [data-arrow-down]":"downArrowClick","mousedown [data-arrows]":"downIncrement",keydown:"handleKeyDown"};var av=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),sv=function(a){av(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.getValueForTarget=function(){var t=this.model,e=t.attributes,r=e.value,o=e.unit;return!(0,R.isUndefined)(r)&&r!==""?r+o:t.get("default")},n.prototype.getInputEl=function(){if(!this.input){var t=this,e=t.ppfx,r=t.model,o=this.getModelValue(),l=new ld({contClass:"".concat(e,"field-int"),type:"number",model:r,ppfx:e});l.render(),this.$input=l.inputEl,this.$unit=l.unitEl,r.set("value",o,{fromTarget:!0}),this.$input.val(o),this.input=l.el}return this.input},n}(hr);const lv=sv;var uv=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),cv=function(a){uv(n,a);function n(t){t===void 0&&(t={});var e=a.call(this,t)||this;return e.listenTo(e.model,"change:options",e.rerender),e}return n.prototype.templateInput=function(){var t=this,e=t.ppfx,r=t.clsField;return'<div class="'.concat(r,`">
      <div data-input></div>
      <div class="`).concat(e,`sel-arrow">
        <div class="`).concat(e,`d-s-arrow"></div>
      </div>
    </div>`)},n.prototype.getInputEl=function(){if(!this.$input){var t=this,e=t.model,r=t.em,o=e.get("name"),l=e.get("options")||[],f=[],p="<select>";l.forEach(function(b){var P="",B,tt,ut;(0,R.isString)(b)?(B=b,tt=b):(B=b.name||b.label||b.value,tt="".concat((0,R.isUndefined)(b.value)?b.id:b.value).replace(/"/g,"&quot;"),ut=b.style?b.style.replace(/"/g,"&quot;"):"",P+=ut?' style="'.concat(ut,'"'):"");var ct=r.t("traitManager.traits.options.".concat(o,".").concat(tt))||B;p+='<option value="'.concat(tt,'"').concat(P,">").concat(ct,"</option>"),f.push(tt)}),p+="</select>",this.$input=(0,C.default)(p);var h=e.getTargetValue(),v=f.indexOf(h)>=0?h:e.get("default");!(0,R.isUndefined)(v)&&this.$input.val(v)}return this.$input.get(0)},n}(hr);const fv=cv;var pv=vr(330),dv=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ud="data-categories",cd="data-no-categories",fd=function(a){dv(n,a);function n(t,e){var r=a.call(this,t)||this;r.reuseView=!0,r.renderedCategories=new Map,r.itemsView=e;var o=t.config||{};r.config=o;var l=t.editor;r.em=l;var f=o.pStylePrefix||"";return r.ppfx=f,r.pfx=f+o.stylePrefix||"",r.className="".concat(r.pfx,"traits"),r.traitContClass="".concat(f,"traits-c"),r.classNoCat="".concat(f,"traits-empty-c"),r.catsClass="".concat(f,"trait-categories"),r.collection=new mn([],{em:l}),r.listenTo(l,"component:toggled",r.updatedCollection),r.updatedCollection(),r}return n.prototype.updatedCollection=function(){var t=this,e=t.ppfx,r=t.em,o=r.getSelected();this.el.className="".concat(this.traitContClass,"s ").concat(e,"one-bg ").concat(e,"two-color"),this.collection=(o==null?void 0:o.traits)||new mn([],{em:r}),this.render()},n.prototype.add=function(t,e){var r=this,o=r.config,l=r.renderedCategories,f=this.itemView,p=t.get(this.itemType);this.itemsView&&this.itemsView[p]&&(f=this.itemsView[p]);var h=new f({config:o,model:t,attributes:t.get("attributes")}),v=h.render().el,b=t.parent.initCategory(t);if(b){var P=b.getId(),B=this.getCategoriesEl(),tt=l.get(P);!tt&&B&&(tt=new vc({model:b},o,"trait").render(),l.set(P,tt),B.appendChild(tt.el)),tt==null||tt.append(v);return}e?e.appendChild(v):this.append(v)},n.prototype.getCategoriesEl=function(){return this.catsEl||(this.catsEl=this.el.querySelector("[".concat(ud,"]"))),this.catsEl},n.prototype.getTraitsEl=function(){return this.traitsEl||(this.traitsEl=this.el.querySelector("[".concat(cd,"]"))),this.traitsEl},n.prototype.append=function(t){var e=this.getTraitsEl();e==null||e.appendChild(t)},n.prototype.render=function(){var t=this,e=this,r=e.el,o=e.ppfx,l=e.catsClass,f=e.traitContClass,p=e.classNoCat,h=document.createDocumentFragment();delete this.catsEl,delete this.traitsEl,this.renderedCategories=new Map,r.innerHTML=`
      <div class="`.concat(l,'" ').concat(ud,`></div>
      <div class="`).concat(p," ").concat(f,'" ').concat(cd,`></div>
    `),this.collection.forEach(function(b){return t.add(b,h)}),this.append(h);var v="".concat(f,"s ").concat(o,"one-bg ").concat(o,"two-color");return this.$el.addClass(v),this.rendered=!0,this},n}(pv.Z);const pd=fd;fd.prototype.itemView=hr;var hv=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),vv=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return a.concat(o||Array.prototype.slice.call(n))},gv=function(a){hv(n,a);function n(t){var e=a.call(this,t,"TraitManager",Zr)||this;e.TraitsView=pd,e.events=xo,e.state=new m.Hn({traits:[]}),e.types={text:hr,number:lv,select:fv,checkbox:An,color:fu,button:Gr};var r=e,o=r.state,l=r.config,f=r.events,p=l.pStylePrefix;p&&(l.stylePrefix="".concat(p).concat(l.stylePrefix)),(0,R.bindAll)(e,"__onSelect");var h=(0,R.debounce)(function(){return e.__upSel()},0),v=(0,R.debounce)(function(){return e.__onUp()},0);return o.listenTo(t,"component:toggled",h),o.listenTo(t,f.value,v),o.on("change:traits",e.__onSelect),e.debounced=[h,v],e}return n.prototype.select=function(t){var e=(t==null?void 0:t.getTraits())||[];this.state.set({component:t,traits:e}),this.__trgCustom()},n.prototype.getCategories=function(){var t,e=this.getComponent(),r=((t=e==null?void 0:e.traits.categories)===null||t===void 0?void 0:t.models)||[];return vv([],r,!0)},n.prototype.getTraits=function(){return this.getCurrent()},n.prototype.getTraitsByCategory=function(t){return Ro(t||this.getTraits())},n.prototype.getComponent=function(){return this.state.attributes.component},n.prototype.addType=function(t,e){var r=this.getType("text");this.types[t]=r.extend(e)},n.prototype.getType=function(t){return this.getTypes()[t]},n.prototype.getTypes=function(){return this.types},n.prototype.getTraitsViewer=function(){return this.view},n.prototype.getCurrent=function(){return this.state.get("traits")||[]},n.prototype.render=function(){var t=this.view,e=this.em;return t=new pd({el:t==null?void 0:t.el,collection:[],editor:e,config:this.getConfig()},this.getTypes()),this.view=t,t.el},n.prototype.postRender=function(){this.__appendTo()},n.prototype.__onSelect=function(){var t=this,e=t.em,r=t.events,o=t.state,l=o.attributes,f=l.component,p=l.traits;e.trigger(r.select,{component:f,traits:p})},n.prototype.__trgCustom=function(t){t===void 0&&(t={});var e=this,r=e.em,o=e.events,l=e.__ctn;this.__ctn=l||t.container,r.trigger(o.custom,this.__customData())},n.prototype.__customData=function(){return{container:this.__ctn}},n.prototype.__upSel=function(){this.select(this.em.getSelected())},n.prototype.__onUp=function(){this.select(this.getComponent())},n}(V);const mv=gv;var yv={stylePrefix:"",appendTo:"",sortable:!0,hidable:!0,hideTextnode:!0,root:"",showWrapper:!0,showHover:!0,scrollCanvas:{behavior:"smooth",block:"nearest"},scrollLayers:{behavior:"auto",block:"nearest"},highlightHover:!0,custom:!1,onInit:function(){},onRender:function(){},extend:{}};const wv=yv;var bv=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),_v=function(a){bv(n,a);function n(t){t===void 0&&(t={});var e=a.call(this,t)||this;e.items=[],e.opt=t;var r=t.config||{};e.config=r,e.parentView=t.parentView;var o=r.stylePrefix||"",l=r.pStylePrefix||"",f=e.collection;e.listenTo(f,"add",e.addTo),e.listenTo(f,"reset resetNavigator",e.render),e.listenTo(f,"remove",e.removeChildren),e.className="".concat(o,"layers");var p=r.em;if(r.sortable&&!e.opt.sorter){var h=p.Utils;e.opt.sorter=new h.Sorter({container:r.sortContainer||e.el,containerSel:".".concat(e.className),itemSel:".".concat(o,"layer"),ignoreViewChildren:1,avoidSelectOnEnd:1,nested:1,ppfx:l,pfx:o,em:p})}return e.$el.data("collection",f),t.parent&&e.$el.data("model",t.parent),e}return n.prototype.removeChildren=function(t){var e=t.viewLayer;e&&(e.remove(),delete t.viewLayer)},n.prototype.addTo=function(t){this.addToCollection(t,null,this.collection.indexOf(t))},n.prototype.addToCollection=function(t,e,r){var o=this,l=o.parentView,f=o.opt,p=o.config,h=o.el,v=f.ItemView,b=f.opened,P=f.module,B=f.level,tt=f.sorter,ut=t.viewLayer||new v({ItemView:v,level:B,model:t,parentView:l,config:p,sorter:tt,opened:b,module:P}),ct=ut.render().el;if(e)e.appendChild(ct);else{var Tt=h,Nt=Tt.childNodes;if((0,R.isUndefined)(r))Tt.appendChild(ct);else{var Ft=Nt.length==r;Ft&&r--,Ft||!Nt.length?Tt.appendChild(ct):Tt.insertBefore(ct,Nt[r])}}return this.items.push(ut),ct},n.prototype.remove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return m.G7.prototype.remove.apply(this,t),this.items.map(function(r){return r.remove()}),this},n.prototype.render=function(){var t=this,e=document.createDocumentFragment(),r=this.el;return r.innerHTML="",this.collection.each(function(o){return t.addToCollection(o,e)}),r.appendChild(e),r.className=this.className,this},n}(m.G7);const xv=_v;var gp=vr(790),Cv={stylePrefix:"com-",defaults:{},strict:!0};const Sv=Cv;var Ov=vr(713),Tv=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Hc=function(){return Hc=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Hc.apply(this,arguments)},dd=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return a.concat(o||Array.prototype.slice.call(n))},hd=[["preview","Preview","preview"],["resize","Resize","resize"],["fullscreen","Fullscreen","fullscreen"],["copy","CopyComponent"],["paste","PasteComponent"],["canvas-move","CanvasMove"],["canvas-clear","CanvasClear"],["open-code","ExportTemplate","export-template"],["open-layers","OpenLayers","open-layers"],["open-styles","OpenStyleManager","open-sm"],["open-traits","OpenTraitManager","open-tm"],["open-blocks","OpenBlocks","open-blocks"],["open-assets","OpenAssets","open-assets"],["component-select","SelectComponent","select-comp"],["component-outline","SwitchVisibility","sw-visibility"],["component-offset","ShowOffset","show-offset"],["component-move","MoveComponent","move-comp"],["component-next","ComponentNext"],["component-prev","ComponentPrev"],["component-enter","ComponentEnter"],["component-exit","ComponentExit","select-parent"],["component-delete","ComponentDelete"],["component-style-clear","ComponentStyleClear"],["component-drag","ComponentDrag"]],vd={preserveSelected:1},gd=function(a){return function(n){return a.trigger("".concat(Tn,":start"),n)}},md=function(a){return function(n){return a.trigger(Tn,n)}},yd=function(a,n,t){return t===void 0&&(t={}),function(e,r,o){n.forEach(function(l){return l.set("status",l.get("selectable")?"selected":"")}),a.setSelected(n),n[0].emitUpdate(),a.trigger("".concat(Tn,":end"),o),setTimeout(function(){return a.runDefault(vd)}),(t.altMode||o.cancelled)&&a.set("_cmpDrag",1)}},Ev=function(a){Tv(n,a);function n(t){var e=a.call(this,t,"Commands",Sv)||this;e.CommandAbstract=gp.default,e.defaultCommands={},e.commands={},e.active={},e.events=Ov.Z;var r=e.config,o=r.pStylePrefix,l=e.defaultCommands;o&&(r.stylePrefix=o+r.stylePrefix),Object.keys(r.defaults).forEach(function(p){var h=r.defaults[p];h.id&&e.add(h.id,h)}),l["tlb-delete"]={run:function(p){return p.runCommand("core:component-delete")}},l["tlb-clone"]={run:function(p){p.runCommand("core:copy"),p.runCommand("core:paste",{action:"clone-component"})}},l["tlb-move"]={run:function(p,h,v){var b;v===void 0&&(v={});var P=p.getModel(),B=v.event,tt=v.target,ut=tt?[tt]:dd([],p.getSelectedAll(),!0),ct=ut.map(function(ur){var pe,Wn;return((Wn=(pe=ur.delegate)===null||pe===void 0?void 0:pe.move)===null||Wn===void 0?void 0:Wn.call(pe,ur))||ur}).filter(Boolean),Tt=ct[ct.length-1],Nt=(B==null?void 0:B.type)==="dragstart",Ft=["absolute","translate"];if(!(Tt!=null&&Tt.get("draggable")))return P.logWarning("The element is not draggable");var Qt=Tt.get("dmode")||P.get("dmode"),fe=function(){return P.stopDefault(vd)},Se=(0,R.includes)(Ft,Qt);ct.forEach(function(ur){return ur.trigger("disable",{fromMove:!0})}),Nt?setTimeout(fe,0):fe();var Pe=gd(P),ie=md(P),Ee=yd(P,ct,{altMode:Se});if(Se)p.runCommand("core:component-drag",{guidesInfo:1,mode:Qt,target:Tt,onStart:Pe,onDrag:ie,onEnd:Ee,event:B});else{Nt&&B.dataTransfer.setDragImage((b=Tt.view)===null||b===void 0?void 0:b.el,0,0);var Fe=p.Commands.get("move-comp");Fe.onStart=Pe,Fe.onDrag=ie,Fe.onEndMoveFromModel=Ee,Fe.initSorterFromModels(ct)}ct.filter(function(ur){return ur.get("selectable")}).forEach(function(ur){return ur.set("status","freezed-selected")})}},l["core:undo"]=function(p){return p.UndoManager.undo()},l["core:redo"]=function(p){return p.UndoManager.redo()},hd.forEach(function(p){var h=p[2],v=vr(828)("./".concat(p[1])).default,b="core:".concat(p[0]);l[b]=v,h&&(l[h]=v,["run","stop"].forEach(function(P){t.on("".concat(P,":").concat(h),function(){for(var B=[],tt=0;tt<arguments.length;tt++)B[tt]=arguments[tt];return t.trigger.apply(t,dd(["".concat(P,":").concat(b)],B,!1))})}))}),r.model=t.Canvas;for(var f in l)e.add(f,l[f]);return e}return n.prototype.add=function(t,e){var r=(0,R.isFunction)(e)?{run:e}:e;return r.stop||(r.noStop=!0),delete r.initialize,r.id=t,this.commands[t]=gp.default.extend(r),this},n.prototype.get=function(t){var e=this.commands[t];return(0,R.isFunction)(e)?(e=new e(this.config),this.commands[t]=e):e||this.em.logWarning("'".concat(t,"' command not found")),e},n.prototype.extend=function(t,e){e===void 0&&(e={});var r=this.get(t);if(r){var o=Hc(Hc({},r.constructor.prototype),e);this.add(t,o);var l=hd.filter(function(f){return"core:".concat(f[0])===t&&f[2]})[0];l&&this.add(l[2],o)}return this},n.prototype.has=function(t){return!!this.commands[t]},n.prototype.getAll=function(){return this.commands},n.prototype.run=function(t,e){return e===void 0&&(e={}),this.runCommand(this.get(t),e)},n.prototype.stop=function(t,e){return e===void 0&&(e={}),this.stopCommand(this.get(t),e)},n.prototype.isActive=function(t){return this.getActive().hasOwnProperty(t)},n.prototype.getActive=function(){return this.active},n.prototype.runCommand=function(t,e){e===void 0&&(e={});var r;if(t&&t.run){var o=this,l=o.em,f=o.config,p=t.id,h=l.Editor;(!this.isActive(p)||e.force||!f.strict)&&(r=h&&t.callRun(h,e),p&&t.stop&&!t.noStop&&!e.abort&&(this.active[p]=r))}return r},n.prototype.stopCommand=function(t,e){e===void 0&&(e={});var r;if(t&&t.run){var o=this,l=o.em,f=o.config,p=t.id,h=l.Editor;(this.isActive(p)||e.force||!f.strict)&&(p&&delete this.active[p],r=t.callStop(h,e))}return r},n.prototype.create=function(t){t.stop||(t.noStop=!0);var e=gp.default.extend(t);return new e(this.config)},n.prototype.__onRun=function(t,e){var r=this,o=r.em,l=r.events;o.on("".concat(l.runCommand).concat(t),e)},n.prototype.__onStop=function(t,e){var r=this,o=r.em,l=r.events;o.on("".concat(l.stopCommand).concat(t),e)},n.prototype.destroy=function(){this.defaultCommands={},this.commands={},this.active={}},n}(V);const Pv=Ev;var kv=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),wd="contentEditable",Bc="data-toggle-move",Av=function(a){kv(n,a);function n(t){var e=a.call(this,t)||this;(0,R.bindAll)(e,"__render"),e.opt=t,e.module=t.module,e.config=t.config||{},e.sorter=t.sorter||"",e.parentView=t.parentView;var r=e,o=r.model,l=r.pfx,f=r.ppfx,p=o.get("type")||"default";return e.className="".concat(l,"layer ").concat(l,"layer__t-").concat(p," no-select ").concat(f,"two-color"),e.inputNameCls="".concat(f,"layer-name"),e.clsTitleC="".concat(l,"layer-title-c"),e.clsTitle="".concat(l,"layer-title"),e.clsCaret="".concat(l,"layer-caret"),e.clsCount="".concat(l,"layer-count"),e.clsMove="".concat(l,"layer-move"),e.clsChildren="".concat(l,"layer-children"),e.clsNoChild="".concat(l,"layer-no-chld"),e.clsEdit="".concat(e.inputNameCls,"--edit"),e.clsNoEdit="".concat(e.inputNameCls,"--no-edit"),e.initComponent(),e}return n.prototype.events=function(){var t;return t={},t["mousedown [".concat(Bc,"]")]="startSort",t["touchstart [".concat(Bc,"]")]="startSort",t["click [data-toggle-visible]"]="toggleVisibility",t["click [data-toggle-open]"]="toggleOpening",t["click [data-toggle-select]"]="handleSelect",t["mouseover [data-toggle-select]"]="handleHover",t["mouseout [data-toggle-select]"]="handleHoverOut",t["dblclick [data-name]"]="handleEdit",t["keydown [data-name]"]="handleEditKey",t["focusout [data-name]"]="handleEditEnd",t},n.prototype.template=function(t){var e=this,r=e.pfx,o=e.ppfx,l=e.config,f=e.clsNoEdit,p=e.module,h=e.opt,v=e.em,b=l.hidable,P=p.getComponents(t).length,B=P?"":this.clsNoChild,tt="".concat(this.clsTitle," ").concat(B),ut="".concat(this.clsTitleC),ct="".concat(this.inputNameCls," ").concat(f," ").concat(o,"no-app"),Tt=h.level||0,Nt="".concat(Tt*10,"px"),Ft=t.getName(),Qt=t.getIcon(),fe="".concat(r,"layer"),Se=(v==null?void 0:v.getConfig()).icons,Pe=Se,ie=Pe.move,Ee=Pe.eye,Fe=Pe.eyeOff,ur=Pe.chevron;return`
      <div class="`.concat(r,"layer-item ").concat(o,`one-bg" data-toggle-select>
        <div class="`).concat(r,`layer-item-left">
          `).concat(b?'<i class="'.concat(r,`layer-vis" data-toggle-visible>
                <i class="`).concat(r,'layer-vis-on">').concat(Ee,`</i>
                <i class="`).concat(r,'layer-vis-off">').concat(Fe,`</i>
              </i>`):"",`
          <div class="`).concat(ut,`">
            <div class="`).concat(tt,'" style="padding-left: ').concat(Nt,`">
              <div class="`).concat(r,'layer-title-inn" title="').concat(Ft,`">
                <i class="`).concat(this.clsCaret,'" data-toggle-open>').concat(ur,`</i>
                  `).concat(Qt?'<span class="'.concat(fe,'__icon">').concat(Qt,"</span>"):"",`
                <span class="`).concat(ct,'" data-name>').concat(Ft,`</span>
              </div>
            </div>
          </div>
        </div>
        <div class="`).concat(r,`layer-item-right">
          <div class="`).concat(this.clsCount,'" data-count>').concat(P||"",`</div>
          <div class="`).concat(this.clsMove,'" ').concat(Bc,">").concat(ie||"",`</div>
        </div>
      </div>
      <div class="`).concat(this.clsChildren,`"></div>
    `)},Object.defineProperty(n.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"ppfx",{get:function(){return this.em.getConfig().stylePrefix},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"pfx",{get:function(){return this.config.stylePrefix},enumerable:!1,configurable:!0}),n.prototype.initComponent=function(){var t=this,e=this,r=e.model,o=e.config,l=o.onInit,f=r.components();this.listenTo(f,"remove add reset",this.checkChildren),[["change:status",this.updateStatus],["change:open",this.updateOpening],["change:layerable",this.updateLayerable],["change:style:display",this.updateVisibility],["change:draggable",this.updateMove],["rerender:layer",this.render],["change:name change:custom-name",this.updateName]].forEach(function(p){return t.listenTo(r,p[0],p[1])}),this.$el.data("model",r),this.$el.data("collection",f),r.viewLayer=this,l.bind(this)({component:r,render:this.__render,listenTo:this.listenTo})},n.prototype.updateName=function(){this.getInputName().innerText=this.model.getName()},n.prototype.getVisibilityEl=function(){return this.getItemContainer().find("[data-toggle-visible]")},n.prototype.updateVisibility=function(){var t=this,e=t.pfx,r=t.model,o=t.module,l="".concat(e,"layer-hidden"),f=!o.isVisible(r),p=f?"addClass":"removeClass";this.$el[p](l),this.getVisibilityEl()[p]("".concat(e,"layer-off"))},n.prototype.updateMove=function(){var t=this,e=t.model,r=t.config,o=this.getItemContainer().find("[".concat(Bc,"]"))[0];if(o){var l=e.get("draggable")&&r.sortable;o.style.display=l?"":"none"}},n.prototype.toggleVisibility=function(t){t==null||t.stopImmediatePropagation();var e=this,r=e.module,o=e.model;r.setVisible(o,!r.isVisible(o))},n.prototype.handleEdit=function(t){t==null||t.stopPropagation();var e=this,r=e.em,o=e.$el,l=e.clsNoEdit,f=e.clsEdit,p=this.getInputName();p[wd]="true",p.focus(),document.execCommand("selectAll",!1),r.setEditing(!0),o.find(".".concat(this.inputNameCls)).removeClass(l).addClass(f)},n.prototype.handleEditKey=function(t){t.stopPropagation(),((0,te.kl)(t)||(0,te.r$)(t))&&this.handleEditEnd(t)},n.prototype.handleEditEnd=function(t){t==null||t.stopPropagation();var e=this,r=e.em,o=e.$el,l=e.clsNoEdit,f=e.clsEdit,p=e.model,h=this.getInputName(),v=h.textContent;h.scrollLeft=0,h[wd]="false",p.setName(v),r.setEditing(!1),o.find(".".concat(this.inputNameCls)).addClass(l).removeClass(f),this.updateName()},n.prototype.getInputName=function(){return this.inputName||(this.inputName=this.el.querySelector(".".concat(this.inputNameCls))),this.inputName},n.prototype.updateOpening=function(){var t=this,e=t.$el,r=t.model,o=t.pfx,l="open",f="".concat(o,"layer-open"),p=this.getCaret();this.module.isOpen(r)?(e.addClass(l),p.addClass(f)):(e.removeClass(l),p.removeClass(f))},n.prototype.toggleOpening=function(t){var e=this,r=e.model,o=e.module;t==null||t.stopImmediatePropagation(),r.get("components").length&&o.setOpen(r,!o.isOpen(r))},n.prototype.handleSelect=function(t){t==null||t.stopPropagation();var e=this,r=e.module,o=e.model;r.setLayerData(o,{selected:!0},{event:t})},n.prototype.handleHover=function(t){t==null||t.stopPropagation();var e=this,r=e.module,o=e.model;r.setLayerData(o,{hovered:!0})},n.prototype.handleHoverOut=function(t){t==null||t.stopPropagation();var e=this,r=e.module,o=e.model;r.setLayerData(o,{hovered:!1})},n.prototype.startSort=function(t){var e,r,o;t.stopPropagation();var l=this,f=l.em,p=l.sorter,h=l.model;if(!(t.button&&t.button!==0)&&p){var v=((r=(e=h.delegate)===null||e===void 0?void 0:e.move)===null||r===void 0?void 0:r.call(e,h))||h;p.onStart=gd(f),p.onMoveClb=md(f),p.onEndMove=yd(f,[v]);var b=((o=v.viewLayer)===null||o===void 0?void 0:o.el)||t.target;p.startSort(b)}},n.prototype.updateStatus=function(){Sr.prototype.updateStatus.apply(this,[{avoidHover:!this.config.highlightHover,noExtHl:!0}])},n.prototype.getItemContainer=function(){return this.$el.children("[data-toggle-select]")},n.prototype.checkChildren=function(){var t=this,e=t.model,r=t.clsNoChild,o=t.module,l=o.getComponents(e).length,f=this.getItemContainer(),p=f.find(".".concat(this.clsTitle)),h=f.find("[data-count]");p[l?"removeClass":"addClass"](r),h.html("".concat(l||"")),!l&&o.setOpen(e,!1)},n.prototype.getCaret=function(){return(!this.caret||!this.caret.length)&&(this.caret=this.getItemContainer().find(".".concat(this.clsCaret))),this.caret},n.prototype.setRoot=function(t){var e,r=(0,R.isString)(t)?(e=this.em.getWrapper())===null||e===void 0?void 0:e.find(t)[0]:t;r&&(this.stopListening(),this.model=r,this.initComponent(),this._rendered&&this.render())},n.prototype.updateLayerable=function(){var t=this.parentView,e=t||this;e.render()},n.prototype.__clearItems=function(){var t;(t=this.items)===null||t===void 0||t.remove()},n.prototype.remove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return m.G7.prototype.remove.apply(this,t),this.__clearItems(),this},n.prototype.render=function(){var t=this,e=t.model,r=t.config,o=t.pfx,l=t.ppfx,f=t.opt,p=t.sorter;this.__clearItems();var h=f.opened,v=f.module,b=f.ItemView,P=!v.__isLayerable(e),B=this.$el.empty(),tt=f.level+1;delete this.inputName,this.items=new xv({ItemView:b,collection:e.get("components"),config:r,sorter:p,opened:h,parentView:this,parent:e,level:tt,module:v});var ut=this.items.render().$el;return!r.showWrapper&&tt===1?B.append(ut):(B.html(this.template(e)),B.find(".".concat(this.clsChildren)).append(ut)),!v.isVisible(e)&&(this.className+=" ".concat(o,"hide")),P&&(this.className+=" ".concat(l,"hidden")),B.attr("class",this.className),this.updateStatus(),this.updateOpening(),this.updateVisibility(),this.updateMove(),this.__render(),this._rendered=!0,this},n.prototype.__render=function(){var t=this,e=t.model,r=t.config,o=t.el,l=r.onRender,f={component:e,el:o};l.bind(this)(f),this.em.trigger("layer:render",f)},n}(m.G7);const Mv=Av;var Lv=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),mp=function(){return mp=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},mp.apply(this,arguments)},bd="layer",yp="".concat(bd,":"),_d="".concat(yp,"root"),xd="".concat(yp,"component"),Dv="".concat(yp,"custom"),jv={all:bd,root:_d,component:xd,custom:Dv},wp={mediaText:""},Iv=["open","status","locked","custom-name","components","classes"].map(function(a){return"".concat(De.g.update,":").concat(a)}).join(" "),Vv=function(a){return a===void 0&&(a={}),(a.display||"").trim().indexOf("none")===0},Rv=function(a){Lv(n,a);function n(t){var e=a.call(this,t,"LayerManager",wv)||this;return e.events=jv,(0,R.bindAll)(e,"componentChanged","__onRootChange","__onComponent"),e.model=new et.Z(e,{opened:{}}),e.config.stylePrefix=e.config.pStylePrefix,e}return n.prototype.onLoad=function(){var t=this,e=this,r=e.em,o=e.config,l=e.model;l.listenTo(r,"component:selected",this.componentChanged),l.on("change:root",this.__onRootChange),l.listenTo(r,Iv,this.__onComponent),this.componentChanged(),l.listenToOnce(r,"load",function(){t.setRoot(o.root),t.__appendTo()})},n.prototype.setRoot=function(t){var e=this.em.getWrapper(),r=(0,dt.isComponent)(t)?t:e;return t&&(0,R.isString)(t)&&(0,dt.hasWin)()&&(r=e.find(t)[0]||e),this.model.set("root",r),r},n.prototype.getRoot=function(){return this.model.get("root")},n.prototype.getComponents=function(t){var e=this;return t.components().filter(function(r){return e.__isLayerable(r)})},n.prototype.setOpen=function(t,e){t.set("open",e)},n.prototype.isOpen=function(t){return!!t.get("open")},n.prototype.setVisible=function(t,e){var r="__prev-display",o=t.getStyle(wp),l=o.display;if(e){var f=t.get(r);delete o.display,f&&(o.display=f,t.unset(r))}else l&&t.set(r,l),o.display="none";t.setStyle(o,wp),this.updateLayer(t),this.em.trigger("component:toggled")},n.prototype.isVisible=function(t){return!Vv(t.getStyle(wp))},n.prototype.setLocked=function(t,e){t.set("locked",e)},n.prototype.isLocked=function(t){return!!t.get("locked")},n.prototype.setName=function(t,e){t.set("custom-name",e)},n.prototype.getName=function(t){return t.getName()},n.prototype.getLayerData=function(t){var e=t.get("status");return{name:t.getName(),open:this.isOpen(t),selected:e==="selected",hovered:e==="hovered",visible:this.isVisible(t),locked:this.isLocked(t),components:this.getComponents(t)}},n.prototype.setLayerData=function(t,e,r){var o;r===void 0&&(r={});var l=this,f=l.em,p=l.config,h=e.open,v=e.selected,b=e.hovered,P=e.visible,B=e.locked,tt=e.name,ut=mp({fromLayers:!0},r);if((0,dt.isDef)(h)&&this.setOpen(t,h),(0,dt.isDef)(v))if(v){f.setSelected(t,ut);var ct=p.scrollCanvas;ct&&((o=t.views)===null||o===void 0||o.forEach(function(Tt){return Tt.scrollIntoView(ct)}))}else f.removeSelected(t,ut);(0,dt.isDef)(b)&&p.showHover&&(b?f.setHovered(t,ut):f.setHovered(null,ut)),(0,dt.isDef)(P)&&P!==this.isVisible(t)&&this.setVisible(t,P),(0,dt.isDef)(B)&&this.setLocked(t,B),(0,dt.isDef)(tt)&&this.setName(t,tt)},n.prototype.componentChanged=function(t,e){var r;if(e===void 0&&(e={}),!e.fromLayers){var o=this,l=o.em,f=o.config,p=f.scrollLayers,h=this.model.get("opened"),v=l.getSelected(),b=v==null?void 0:v.parent();for(var P in h)h[P].set("open",!1),delete h[P];for(;b;)b.set("open",!0),h[b.cid]=b,b=b.parent();if(v&&p){var B=(r=v.viewLayer)===null||r===void 0?void 0:r.el;B==null||B.scrollIntoView(p)}}},n.prototype.getAll=function(){return this.view},n.prototype.render=function(){var t,e,r=this,o=r.config,l=r.model,f=Mv.extend(o.extend);return this.view=new f({el:(t=this.view)===null||t===void 0?void 0:t.el,ItemView:f,level:0,config:o,opened:l.get("opened"),model:this.getRoot(),module:this}),(e=this.view)===null||e===void 0?void 0:e.render().el},n.prototype.destroy=function(){var t;(t=this.view)===null||t===void 0||t.remove()},n.prototype.__onRootChange=function(){var t,e=this.getRoot();(t=this.view)===null||t===void 0||t.setRoot(e),this.em.trigger(_d,e),this.__trgCustom()},n.prototype.__onComponent=function(t){this.updateLayer(t)},n.prototype.__isLayerable=function(t){var e=t.get("tagName"),r=this.config.hideTextnode,o=!r||!t.isInstanceOf("textnode")&&e!=="br";return o&&t.get("layerable")},n.prototype.__trgCustom=function(t){var e=this,r=e.__ctn,o=e.em,l=e.events;this.__ctn=r||(t==null?void 0:t.container),o.trigger(l.custom,{container:this.__ctn,root:this.getRoot()})},n.prototype.updateLayer=function(t,e){this.em.trigger(xd,t,e)},n}(V);const Nv=Rv;var Fv={assets:[],noAssets:"",stylePrefix:"am-",upload:"",uploadName:"files",headers:{},params:{},credentials:"include",multiUpload:!0,multiUploadSuffix:"[]",autoAdd:!0,customFetch:void 0,uploadFile:void 0,embedAsBase64:!0,handleAdd:void 0,beforeUpload:void 0,showUrlInput:!0,custom:!1,dropzone:!1,openAssetsOnDrop:!0,dropzoneContent:""};const Hv=Fv;var Bv=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Cd=function(a){Bv(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.getDefaults=function(){return(0,R.result)(this.prototype,"defaults")},n.prototype.defaults=function(){return{type:"",src:""}},n.prototype.getType=function(){return this.get("type")},n.prototype.getSrc=function(){return this.get("src")},n.prototype.getFilename=function(){return this.get("src").split("/").pop().split("?").shift()},n.prototype.getExtension=function(){return this.getFilename().split(".").pop()},n}(m.Hn);const bp=Cd;Cd.prototype.idAttribute="src";var Uv=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Uc=function(){return Uc=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Uc.apply(this,arguments)},zv=function(a){Uv(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.defaults=function(){return Uc(Uc({},bp.getDefaults()),{type:"image",unitDim:"px",height:0,width:0})},n}(bp);const Wv=zv;var Gv=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Kv=function(a){Gv(n,a);function n(t){var e=a.call(this,t)||this;e.options=t,e.collection=t.collection;var r=t.config||{};e.config=r,e.pfx=r.stylePrefix||"",e.ppfx=r.pStylePrefix||"",e.em=r.em,e.className=e.pfx+"asset",e.listenTo(e.model,"destroy remove",e.remove),e.model.view=e;var o=e.init&&e.init.bind(e);return o&&o(t),e}return n.prototype.__getBhv=function(){var t=this.em,e=t==null?void 0:t.Assets;return(e==null?void 0:e.__getBehaviour())||{}},n.prototype.template=function(t,e){var r=this.pfx;return`
      <div class="`.concat(r,`preview-cont">
        `).concat(this.getPreview(),`
      </div>
      <div class="`).concat(r,`meta">
        `).concat(this.getInfo(),`
      </div>
      <div class="`).concat(r,`close" data-toggle="asset-remove">
        &Cross;
      </div>
    `)},n.prototype.updateTarget=function(t){t&&t.set&&(t.set("attributes",(0,R.clone)(t.get("attributes"))),t.set("src",this.model.get("src")))},n.prototype.getPreview=function(){return""},n.prototype.getInfo=function(){return""},n.prototype.render=function(){var t=this.el;return t.innerHTML=this.template(this,this.model),t.className=this.className,this},n}(m.G7);const $v=Kv;var qv=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Sd=function(a,n){return Object.defineProperty?Object.defineProperty(a,"raw",{value:n}):a.raw=n,a},Od=function(a){qv(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.getPreview=function(){var t=this,e=t.pfx,r=t.ppfx,o=t.model,l=o.get("src");return wt(Td||(Td=Sd([`
      <div class="`,`preview" style="background-image: url('`,`');"></div>
      <div class="`,"preview-bg ",`checker-bg"></div>
    `],[`
      <div class="`,`preview" style="background-image: url('`,`');"></div>
      <div class="`,"preview-bg ",`checker-bg"></div>
    `])),e,l,e,r)},n.prototype.getInfo=function(){var t=this,e=t.pfx,r=t.model,o=r.get("name"),l=r.get("width"),f=r.get("height"),p=r.get("unitDim"),h=l&&f?"".concat(l,"x").concat(f).concat(p):"";return o=o||r.getFilename(),wt(Ed||(Ed=Sd([`
      <div class="`,'name">',`</div>
      <div class="`,'dimensions">',`</div>
    `],[`
      <div class="`,'name">',`</div>
      <div class="`,'dimensions">',`</div>
    `])),e,o,e,h)},n.prototype.init=function(t){var e=this.pfx;this.className+=" ".concat(e,"asset-image")},n.prototype.onClick=function(){var t=this,e=t.model,r=t.pfx,o=this.__getBhv().select,l=this.config.onClick,f=this.collection;f.trigger("deselectAll"),this.$el.addClass(r+"highlight"),(0,R.isFunction)(o)?o(e,!1):(0,R.isFunction)(l)?l(e):this.updateTarget(f.target)},n.prototype.onDblClick=function(){var t=this,e=t.em,r=t.model,o=this.__getBhv().select,l=this.config.onDblClick,f=this.collection,p=f.target,h=f.onSelect;(0,R.isFunction)(o)?o(r,!0):(0,R.isFunction)(l)?l(r):(this.updateTarget(p),e==null||e.Modal.close()),(0,R.isFunction)(h)&&h(r)},n.prototype.onRemove=function(t){t.stopImmediatePropagation(),this.model.collection.remove(this.model)},n}($v);const Zv=Od;Od.prototype.events={"click [data-toggle=asset-remove]":"onRemove",click:"onClick",dblclick:"onDblClick"};var Td,Ed,zc=function(){return zc=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},zc.apply(this,arguments)},Yv={types:[],initialize:function(a,n){var t=this;n===void 0&&(n={});var e=n.em;this.em=e,this.opts=n,this.model=function(o,l){o===void 0&&(o={}),l===void 0&&(l={});var f,p,h;if(o&&o.type){var v=t.getBaseType();h=t.getType(o.type),f=h?h.model:v.model,p=h?h.view:v.view}else{var b=t.recognizeType(o);h=b.type,f=h.model,p=h.view,o=b.attributes}var P=new f(o,zc(zc({},l),{em:e}));return P.typeView=p,P};var r=this.init&&this.init.bind(this);r&&r()},recognizeType:function(a){for(var n=this.getTypes(),t=0;t<n.length;t++){var e=n[t],r=e.isType(a);if(r=typeof r=="boolean"&&r?{type:e.id}:r,r)return{type:e,attributes:r}}return{type:this.getBaseType(),attributes:a}},getBaseType:function(){var a=this.getTypes();return a[a.length-1]},getTypes:function(){return this.types},getType:function(a){for(var n=this.getTypes(),t=0;t<n.length;t++){var e=n[t];if(e.id===a)return e}},addType:function(a,n){var t=this.getType(a),e=this.getBaseType(),r=t?t.model:e.model,o=t?t.view:e.view,l=n.model,f=n.view,p=n.isType;l=l instanceof m.Hn||(0,R.isFunction)(l)?l:r.extend(l||{}),f=f instanceof m.G7||(0,R.isFunction)(f)?f:o.extend(f||{}),this.extendViewApi&&!n.model&&!n.view&&(f=f.extend(n)),t?(t.model=l,t.view=f,t.isType=p||t.isType):(n.id=a,n.model=l,n.view=f,n.isType=p||function(h){if(h&&h.type==a)return!0},this.getTypes().unshift(n))}};const Pd=Yv;var Xv=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Jv=m.FE.extend(Pd),kd=function(a){Xv(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n}(Jv);const _p=kd;kd.prototype.types=[{id:"image",model:Wv,view:Zv,isType:function(a){return typeof a=="string"?{type:"image",src:a}:a}}];var xp;(function(a){a.add="asset:add",a.remove="asset:remove",a.removeBefore="asset:remove:before",a.update="asset:update",a.open="asset:open",a.close="asset:close",a.uploadStart="asset:upload:start",a.uploadEnd="asset:upload:end",a.uploadError="asset:upload:error",a.uploadResponse="asset:upload:response",a.custom="asset:custom",a.all="asset"})(xp||(xp={}));const Ad=xp;var Qv=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Md=function(a){Qv(n,a);function n(t){t===void 0&&(t={});var e=a.call(this,t)||this;e.options=t,e.config=t.config,e.pfx=e.config.stylePrefix||"",e.ppfx=e.config.pStylePrefix||"",e.em=e.config.em;var r=e.collection;return e.listenTo(r,"reset",e.renderAssets),e.listenTo(r,"add",e.addToAsset),e.listenTo(r,"remove",e.removedAsset),e.listenTo(r,"deselectAll",e.deselectAll),e}return n.prototype.template=function(t){var e=t.pfx,r=t.ppfx,o=t.em,l="";return this.config.showUrlInput&&(l=`
          <form class="`.concat(e,`add-asset">
            <div class="`).concat(r,"field ").concat(e,`add-field">
              <input placeholder="`).concat(o==null?void 0:o.t("assetManager.inputPlh"),`"/>
            </div>
            <button class="`).concat(r,'btn-prim">').concat(o==null?void 0:o.t("assetManager.addButton"),`</button>
            <div style="clear:both"></div>
          </form>
      `)),`
    <div class="`.concat(e,`assets-cont">
      <div class="`).concat(e,`assets-header">
        `).concat(l,`
      </div>
      <div class="`).concat(e,`assets" data-el="assets"></div>
      <div style="clear:both"></div>
    </div>
    `)},n.prototype.handleSubmit=function(t){t.preventDefault();var e=this.getAddInput(),r=e&&e.value.trim(),o=this.config.handleAdd;if(r){e.value="";var l=this.getAssetsEl();l&&(l.scrollTop=0),o?o.bind(this)(r):this.options.globalCollection.add(r,{at:0})}},n.prototype.getAssetsEl=function(){return this.el.querySelector(".".concat(this.pfx,"assets"))},n.prototype.getAddInput=function(){return(!this.inputUrl||!this.inputUrl.value)&&(this.inputUrl=this.el.querySelector(".".concat(this.pfx,"add-asset input"))),this.inputUrl},n.prototype.removedAsset=function(t){this.collection.length||this.toggleNoAssets()},n.prototype.addToAsset=function(t){this.collection.length==1&&this.toggleNoAssets(!0),this.addAsset(t)},n.prototype.addAsset=function(t,e){e===void 0&&(e=null);var r=e,o=this.collection,l=this.config,f=new t.typeView({model:t,collection:o,config:l}).render().el;if(r)r.appendChild(f);else{var p=this.getAssetsEl();p&&p.insertBefore(f,p.firstChild)}return f},n.prototype.toggleNoAssets=function(t){t===void 0&&(t=!1);var e=this.$el.find(".".concat(this.pfx,"assets"));if(t)e.empty();else{var r=this.config.noAssets;r&&e.append(r)}},n.prototype.deselectAll=function(){var t=this.pfx;this.$el.find(".".concat(t,"highlight")).removeClass("".concat(t,"highlight"))},n.prototype.renderAssets=function(){var t=this,e=document.createDocumentFragment(),r=this.$el.find(".".concat(this.pfx,"assets"));r.empty(),this.toggleNoAssets(!!this.collection.length),this.collection.each(function(o){return t.addAsset(o,e)}),r.append(e)},n.prototype.render=function(){var t=this.options.fu.render().el;return this.$el.empty(),this.$el.append(t).append(this.template(this)),this.el.className="".concat(this.ppfx,"asset-manager"),this.renderAssets(),this},n}(m.G7);const tg=Md;Md.prototype.events={submit:"handleSubmit"};var eg=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),rg=function(a,n){return Object.defineProperty?Object.defineProperty(a,"raw",{value:n}):a.raw=n,a},ng=function(a){eg(n,a);function n(t){t===void 0&&(t={});var e=a.call(this,t)||this;e.options=t;var r=t.config||{};e.module=t.module,e.config=r,e.em=e.config.em,e.pfx=r.stylePrefix||"",e.ppfx=r.pStylePrefix||"",e.target=e.options.globalCollection||{},e.uploadId=e.pfx+"uploadFile",e.disabled=r.disableUpload!==void 0?r.disableUpload:!r.upload&&!r.embedAsBase64,e.multiUpload=r.multiUpload!==void 0?r.multiUpload:!0;var o=r.uploadFile;return o?e.uploadFile=o.bind(e):!r.upload&&r.embedAsBase64&&(e.uploadFile=n.embedAsBase64),e.delegateEvents(),e}return n.prototype.template=function(t){var e=t.pfx,r=t.title,o=t.uploadId,l=t.disabled,f=t.multiUpload;return wt(Ld||(Ld=rg([`
      <form>
        <div id="`,'title">',`</div>
        <input
          data-input
          type="file"
          id="`,`"
          name="file"
          accept="*/*"
          `,`
          `,`
        />
        <div style="clear:both;"></div>
      </form>
    `],[`
      <form>
        <div id="`,'title">',`</div>
        <input
          data-input
          type="file"
          id="`,`"
          name="file"
          accept="*/*"
          `,`
          `,`
        />
        <div style="clear:both;"></div>
      </form>
    `])),e,r,o,l?"disabled":"",f?"multiple":"")},n.prototype.events=function(){return{"change [data-input]":"uploadFile"}},n.prototype.onUploadStart=function(){var t=this.module;t==null||t.__propEv(t.events.uploadStart)},n.prototype.onUploadEnd=function(t){var e=this,r=e.$el,o=e.module;o==null||o.__propEv(o.events.uploadEnd,t);var l=r.find("input");l&&l.val("")},n.prototype.onUploadError=function(t){var e=this.module;console.error(t),this.onUploadEnd(t),e==null||e.__propEv(e.events.uploadError,t)},n.prototype.onUploadResponse=function(t,e){var r=this,o=r.module,l=r.config,f=r.target,p;try{p=typeof t=="string"?JSON.parse(t):t}catch{p=t}o==null||o.__propEv(o.events.uploadResponse,p),l.autoAdd&&f&&f.add(p.data,{at:0}),this.onUploadEnd(t),e==null||e(p)},n.prototype.uploadFile=function(t,e){var r=this,o=t.dataTransfer?t.dataTransfer.files:t.target.files,l=this.config,f=l.beforeUpload,p=f&&f(o);if(p!==!1){var h=new FormData,v=l.params,b=l.customFetch,P=l.fetchOptions;for(var B in v)h.append(B,v[B]);if(this.multiUpload)for(var tt=0;tt<o.length;tt++)h.append("".concat(l.uploadName).concat(l.multiUploadSuffix),o[tt]);else o.length&&h.append(l.uploadName,o[0]);var ut=l.upload,ct=l.headers,Tt="X-Requested-With";if(typeof ct[Tt]>"u"&&(ct[Tt]="XMLHttpRequest"),ut){this.onUploadStart();var Nt={method:"post",credentials:l.credentials||"include",headers:ct,body:h},Ft=(P==null?void 0:P(Nt))||Nt,Qt=b?b(ut,Ft):D(ut,Ft).then(function(fe){return(fe.status/200|0)==1?fe.text():fe.text().then(function(Se){return Promise.reject(Se)})});return Qt.then(function(fe){return r.onUploadResponse(fe,e)}).catch(function(fe){return r.onUploadError(fe)})}}},n.prototype.initDrop=function(){var t=this;if(!this.uploadForm){this.uploadForm=this.$el.find("form").get(0);var e=this.uploadForm;"draggable"in e&&(this.uploadForm.ondragover=function(){return e.className=t.pfx+"hover",!1},this.uploadForm.ondragleave=function(){return e.className="",!1},this.uploadForm.ondrop=function(r){e.className="",r.preventDefault(),t.uploadFile(r)})}},n.prototype.initDropzone=function(t){var e=this,r=0,o=this.config,l=t.model,f=t.el,p=l.Editor,h=l.Canvas.getBody(),v=this.ppfx,b="".concat(v,"dropzone-active"),P="".concat(v,"dropzone"),B=function(){f.className=f.className.replace(b,"").trim(),r=0},tt=function(){return r||(f.className+=" ".concat(b),r=1),!1},ut=function(){return B(),!1},ct=function(Tt){if(B(),Tt.preventDefault(),Tt.stopPropagation(),e.uploadFile(Tt),o.openAssetsOnDrop&&p){var Nt=p.getSelected();p.runCommand("open-assets",{target:Nt,onSelect:function(){p.Modal.close(),p.AssetManager.setTarget(null)}})}return!1};t.$el.append('<div class="'.concat(P,'">').concat(o.dropzoneContent,"</div>")),B(),"draggable"in f&&[f,h].forEach(function(Tt){Tt.ondragover=tt,Tt.ondragleave=ut,Tt.ondrop=ct})},n.prototype.render=function(){var t=this,e=t.$el,r=t.pfx,o=t.em;return e.html(this.template({title:o&&o.t("assetManager.uploadTitle"),uploadId:this.uploadId,disabled:this.disabled,multiUpload:this.multiUpload,pfx:r})),this.initDrop(),e.attr("class",r+"file-uploader"),this},n.embedAsBase64=function(t,e){var r=this,o=t.dataTransfer?t.dataTransfer.files:t.target.files,l={data:[]};if(!FileReader){this.onUploadError(new Error("Unsupported platform, FileReader is not defined"));return}for(var f=[],p=/^(.+)\/(.+)$/,h=function(B){var tt=new Promise(function(ut,ct){var Tt=new FileReader;Tt.addEventListener("load",function(Nt){var Ft,Qt=B.name,fe=p.exec(B.type);if(fe?Ft=fe[1]:Ft=B.type,Ft==="image"){var Se={src:Tt.result,name:Qt,type:Ft,height:0,width:0},Pe=new Image;Pe.addEventListener("error",function(ie){ct(ie)}),Pe.addEventListener("load",function(){Se.height=Pe.height,Se.width=Pe.width,ut(Se)}),Pe.src=Se.src}else ut(Ft?{src:Tt.result,name:Qt,type:Ft}:Tt.result)}),Tt.addEventListener("error",function(Nt){ct(Nt)}),Tt.addEventListener("abort",function(Nt){ct("Aborted")}),Tt.readAsDataURL(B)});f.push(tt)},v=0,b=o;v<b.length;v++){var P=b[v];h(P)}return Promise.all(f).then(function(B){l.data=B,r.onUploadResponse(l,e)},function(B){r.onUploadError(B)})},n}(m.G7);const og=ng;var Ld,ig=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),pl=function(){return pl=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},pl.apply(this,arguments)},Dd=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return a.concat(o||Array.prototype.slice.call(n))},pu="open-assets",ag=function(a){ig(n,a);function n(t){var e=a.call(this,t,"AssetManager",new _p([],t),Ad,Hv)||this;e.storageKey="assets",e.Asset=bp,e.Assets=_p,e.events=Ad;var r=e,o=r.all,l=r.config;e.assetsVis=new _p([]);var f=l.pStylePrefix;return f&&(l.stylePrefix="".concat(f).concat(l.stylePrefix)),o.on("add",function(p){return e.getAllVisible().add(p)}),o.on("remove",function(p){return e.getAllVisible().remove(p)}),e.__onAllEvent=(0,R.debounce)(function(){return e.__trgCustom()},0),e}return n.prototype.open=function(t){t===void 0&&(t={});var e=this.em.Commands;e.run(pu,pl({types:["image"],select:function(){}},t))},n.prototype.close=function(){var t=this.em.Commands;t.stop(pu)},n.prototype.isOpen=function(){var t=this.em.Commands;return!!(t!=null&&t.isActive(pu))},n.prototype.add=function(t,e){return e===void 0&&(e={}),typeof e.at>"u"&&(e.at=0),this.all.add(t,e)},n.prototype.get=function(t){return this.all.where({src:t})[0]||null},n.prototype.getAll=function(){return this.all},n.prototype.getAllVisible=function(){return this.assetsVis},n.prototype.remove=function(t,e){return this.__remove(t,e)},n.prototype.store=function(){return this.getProjectData()},n.prototype.load=function(t){return this.loadProjectData(t)},n.prototype.getContainer=function(){var t,e=this.__getBehaviour();return e.container||((t=this.am)===null||t===void 0?void 0:t.el)},n.prototype.getAssetsEl=function(){var t;return(t=this.am)===null||t===void 0?void 0:t.el.querySelector("[data-el=assets]")},n.prototype.render=function(t){if(!this.getConfig().custom){var e=t||this.getAll().models;if(!this.am){var r=this.__viewParams();r.fu=this.FileUploader(),this.am=new tg(pl({},r)),this.am.render()}return this.assetsVis.reset(e),this.getContainer()}},n.prototype.__viewParams=function(){return{collection:this.assetsVis,globalCollection:this.all,config:this.config,module:this,fu:void 0}},n.prototype.addType=function(t,e){this.getAll().addType(t,e)},n.prototype.getType=function(t){return this.getAll().getType(t)},n.prototype.getTypes=function(){return this.getAll().getTypes()},n.prototype.AssetsView=function(){return this.am},n.prototype.FileUploader=function(){return this.fu||(this.fu=new og(this.__viewParams())),this.fu},n.prototype.onLoad=function(){var t=this;this.getAll().reset(this.config.assets);var e=this,r=e.em,o=e.events;r.Commands.__onRun(pu,function(){return t.__propEv(o.open)}),r.Commands.__onStop(pu,function(){return t.__propEv(o.close)})},n.prototype.postRender=function(t){var e;this.config.dropzone&&((e=this.fu)===null||e===void 0||e.initDropzone(t))},n.prototype.setTarget=function(t){this.assetsVis.target=t},n.prototype.onSelect=function(t){this.assetsVis.onSelect=t},n.prototype.onClick=function(t){this.config.onClick=t},n.prototype.onDblClick=function(t){this.config.onDblClick=t},n.prototype.__propEv=function(t){for(var e,r,o=[],l=1;l<arguments.length;l++)o[l-1]=arguments[l];(e=this.em).trigger.apply(e,Dd([t],o,!1)),(r=this.getAll()).trigger.apply(r,Dd([t],o,!1))},n.prototype.__trgCustom=function(){var t=this.__getBehaviour(),e=this.getConfig().custom;!t.container&&!e.open||this.em.trigger(this.events.custom,this.__customData())},n.prototype.__customData=function(){var t=this,e=this.__getBehaviour();return{am:this,open:this.isOpen(),assets:this.getAll().models,types:e.types||[],container:e.container,close:function(){return t.close()},remove:function(r,o){return t.remove(r,o)},select:function(r,o){var l=t.add(r);(0,R.isFunction)(e.select)&&e.select(l,o)},options:e.options||{}}},n.prototype.__behaviour=function(t){return t===void 0&&(t={}),this._bhv=pl(pl({},this._bhv||{}),t)},n.prototype.__getBehaviour=function(t){return this._bhv||{}},n.prototype.destroy=function(){var t,e;this.all.stopListening(),this.all.reset(),this.assetsVis.stopListening(),this.assetsVis.reset(),(t=this.fu)===null||t===void 0||t.remove(),(e=this.am)===null||e===void 0||e.remove(),this._bhv={}},n}(j);const sg=ag;var lg=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ug=function(a){lg(n,a);function n(t,e){e===void 0&&(e={});var r=a.call(this,t,e)||this,o=e.em,l={};r.em=o,t.frames||(l.component=t.component,l.styles=t.styles,["component","styles"].map(function(h){return r.unset(h)}));var f=t.frames||[l],p=new Ve(o.Canvas,f);return p.page=r,r.set("frames",p),!r.getId()&&r.set("id",o==null?void 0:o.Pages._createId()),o==null||o.UndoManager.add(p),r}return n.prototype.defaults=function(){return{name:"",frames:[],_undo:!0}},n.prototype.onRemove=function(){this.getFrames().reset()},n.prototype.getFrames=function(){return this.get("frames")},n.prototype.getId=function(){return this.id},n.prototype.getName=function(){return this.get("name")},n.prototype.setName=function(t){return this.set({name:t})},n.prototype.getAllFrames=function(){return this.getFrames().models||[]},n.prototype.getMainFrame=function(){return this.getFrames().at(0)},n.prototype.getMainComponent=function(){var t=this.getMainFrame();return t==null?void 0:t.getComponent()},n.prototype.toJSON=function(t){t===void 0&&(t={});var e=m.Hn.prototype.toJSON.call(this,t),r=(0,R.result)(this,"defaults");return(0,R.forEach)(e,function(o,l){l.indexOf("_")===0&&delete e[l]}),(0,R.forEach)(r,function(o,l){e[l]===o&&delete e[l]}),e},n}(m.Hn);const Cp=ug;var cg=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Wc=function(){return Wc=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Wc.apply(this,arguments)},fg=function(a){cg(n,a);function n(t,e){var r=a.call(this,t)||this;return r.on("reset",r.onReset),r.on("remove",r.onRemove),r.model=function(o,l){return l===void 0&&(l={}),new Cp(o,Wc(Wc({},l),{em:e}))},r}return n.prototype.onReset=function(t,e){var r=this,o;(o=e==null?void 0:e.previousModels)===null||o===void 0||o.map(function(l){return r.onRemove(l)})},n.prototype.onRemove=function(t){t==null||t.onRemove()},n}(m.FE);const pg=fg;var dg=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),hg=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return a.concat(o||Array.prototype.slice.call(n))},jd="change:selected",Id="main",vg=function(a){dg(n,a);function n(t){var e=a.call(this,t,"PageManager",new pg([],t),Je)||this;e.events=Je,e.storageKey="pages",(0,R.bindAll)(e,"_onPageChange");var r=new et.Z({_undo:!0});return e.model=r,e.pages.on("reset",function(o){return o.at(0)&&e.select(o.at(0))}),e.pages.on("all",e.__onChange,e),r.on(jd,e._onPageChange),e}return Object.defineProperty(n.prototype,"pages",{get:function(){return this.all},enumerable:!1,configurable:!0}),n.prototype.getAll=function(){return hg([],this.all.models,!0)},n.prototype.__onChange=function(t,e,r,o){var l=this,f=l.em,p=l.events,h=o||r;f.trigger(p.all,{event:t,page:e,options:h})},n.prototype.onLoad=function(){var t,e=this,r=e.pages,o=e.config,l=e.em,f={silent:!0},p=((t=o.pages)===null||t===void 0?void 0:t.map(function(v){return new Cp(v,{em:l,config:o})}))||[];r.add(p,f);var h=r.length?this._initPage():this.add({type:Id},f);h&&this.select(h,f)},n.prototype._onPageChange=function(t,e,r){var o=this,l=o.em,f=o.events,p=l.Layers,h=e.getMainComponent();p&&h&&p.setRoot(h),l.trigger(f.select,e,t.previous("selected")),this.__onChange(jd,e,r)},n.prototype.postLoad=function(){var t=this,e=t.em,r=t.model,o=t.pages,l=e.UndoManager;l.add(r),l.add(o),o.on("add remove reset change",function(f,p,h){return e.changesUp(h||p)})},n.prototype.add=function(t,e){var r=this;e===void 0&&(e={});var o=this,l=o.em,f=o.events;t.id=t.id||this._createId();var p=function(){var h=r.pages.add(new Cp(t,{em:r.em,config:r.config}),e);return e.select&&r.select(h),h};return!e.silent&&l.trigger(f.addBefore,t,p,e),e.abort?void 0:p()},n.prototype.remove=function(t,e){var r=this;e===void 0&&(e={});var o=this,l=o.em,f=o.events,p=(0,R.isString)(t)?this.get(t):t,h=function(){return p&&r.pages.remove(p,e),p};return!e.silent&&l.trigger(f.removeBefore,p,h,e),!e.abort&&h()},n.prototype.get=function(t){return this.pages.filter(function(e){return e.get(e.idAttribute)===t})[0]},n.prototype.getMain=function(){var t=this.pages;return t.filter(function(e){return e.get("type")===Id})[0]||t.at(0)},n.prototype.getAllWrappers=function(){var t=this.getAll();return(0,R.unique)((0,R.flatten)(t.map(function(e){return e.getAllFrames().map(function(r){return r.getComponent()})})))},n.prototype.select=function(t,e){e===void 0&&(e={});var r=this,o=r.em,l=r.model,f=r.events,p=(0,R.isString)(t)?this.get(t):t;return p&&(o.trigger(f.selectBefore,p,e),l.set("selected",p,e)),this},n.prototype.getSelected=function(){return this.model.get("selected")},n.prototype.destroy=function(){var t=this;this.pages.off().reset(),this.model.stopListening(),this.model.clear({silent:!0}),["selected","model"].map(function(e){return t[e]=0})},n.prototype.store=function(){return this.getProjectData()},n.prototype.load=function(t){var e=this.loadProjectData(t,{all:this.pages,reset:!0});return this.pages.forEach(function(r){return r.getFrames().initRefs()}),e},n.prototype._initPage=function(){return this.get(this.config.selected)||this.getMain()},n.prototype._createId=function(){var t=this.getAll(),e=t.length+16,r=this.getAllMap(),o;do o=(0,dt.createId)(e);while(r[o]);return o},n}(j);const gg=vg;var Sp={placeholder:"eg. Text here"},mg={locale:"en",localeFallback:"en",detectLocale:!0,debug:!1,messages:{en:{assetManager:{addButton:"Add image",inputPlh:"http://path/to/the/image.jpg",modalTitle:"Select Image",uploadTitle:"Drop files here or click to upload"},blockManager:{labels:{},categories:{}},domComponents:{names:{"":"Box",wrapper:"Body",text:"Text",comment:"Comment",image:"Image",video:"Video",label:"Label",link:"Link",map:"Map",tfoot:"Table foot",tbody:"Table body",thead:"Table head",table:"Table",row:"Table row",cell:"Table cell"}},deviceManager:{device:"Device",devices:{desktop:"Desktop",tablet:"Tablet",mobileLandscape:"Mobile Landscape",mobilePortrait:"Mobile Portrait"}},panels:{buttons:{titles:{preview:"Preview",fullscreen:"Fullscreen","sw-visibility":"View components","export-template":"View code","open-sm":"Open Style Manager","open-tm":"Settings","open-layers":"Open Layer Manager","open-blocks":"Open Blocks"}}},selectorManager:{label:"Classes",selected:"Selected",emptyState:"- State -",states:{hover:"Hover",active:"Click","nth-of-type(2n)":"Even/Odd"}},styleManager:{empty:"Select an element before using Style Manager",layer:"Layer",fileButton:"Images",sectors:{general:"General",layout:"Layout",typography:"Typography",decorations:"Decorations",extra:"Extra",flex:"Flex",dimension:"Dimension"},properties:{"text-shadow-h":"X","text-shadow-v":"Y","text-shadow-blur":"Blur","text-shadow-color":"Color","box-shadow-h":"X","box-shadow-v":"Y","box-shadow-blur":"Blur","box-shadow-spread":"Spread","box-shadow-color":"Color","box-shadow-type":"Type","margin-top-sub":"Top","margin-right-sub":"Right","margin-bottom-sub":"Bottom","margin-left-sub":"Left","padding-top-sub":"Top","padding-right-sub":"Right","padding-bottom-sub":"Bottom","padding-left-sub":"Left","border-width-sub":"Width","border-style-sub":"Style","border-color-sub":"Color","border-top-left-radius-sub":"Top Left","border-top-right-radius-sub":"Top Right","border-bottom-right-radius-sub":"Bottom Right","border-bottom-left-radius-sub":"Bottom Left","transform-rotate-x":"Rotate X","transform-rotate-y":"Rotate Y","transform-rotate-z":"Rotate Z","transform-scale-x":"Scale X","transform-scale-y":"Scale Y","transform-scale-z":"Scale Z","transition-property-sub":"Property","transition-duration-sub":"Duration","transition-timing-function-sub":"Timing","background-image-sub":"Image","background-repeat-sub":"Repeat","background-position-sub":"Position","background-attachment-sub":"Attachment","background-size-sub":"Size"}},traitManager:{empty:"Select an element before using Trait Manager",label:"Component settings",categories:{},traits:{labels:{},attributes:{id:Sp,alt:Sp,title:Sp,href:{placeholder:"eg. https://google.com"}},options:{target:{false:"This window",_blank:"New window"}}}},storageManager:{recover:"Do you want to recover unsaved changes?"}}},messagesAdd:void 0};const yg=mg;var Op;(function(a){a.add="i18n:add",a.update="i18n:update",a.locale="i18n:locale"})(Op||(Op={}));const wg=Op;var bg=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),_g=function(a){bg(n,a);function n(t){var e=a.call(this,t,"I18n",yg)||this;e.events=wg;var r=e.config.messagesAdd;return r&&e.addMessages(r),e.config.detectLocale&&(e.config.locale=e._localLang()),e}return n.prototype.setLocale=function(t){var e=this,r=e.em,o=e.config,l=e.events;return r.trigger(l.locale,{value:t,valuePrev:o.locale}),o.locale=t,this},n.prototype.getLocale=function(){return this.config.locale},n.prototype.getMessages=function(t,e){e===void 0&&(e={});var r=this.config.messages;return t&&!r[t]&&this._debug("'".concat(t,"' i18n lang not found"),e),t?r[t]:r},n.prototype.setMessages=function(t){var e=this,r=e.em,o=e.config,l=e.events;return o.messages=t,r.trigger(l.update,t),this},n.prototype.addMessages=function(t){var e=this,r=e.em,o=e.events,l=e.config,f=l.messages;return r.trigger(o.add,t),this.setMessages((0,dt.deepMerge)(f,t)),this},n.prototype.t=function(t,e){e===void 0&&(e={});var r=this.config,o=e.params||{},l=e.l||this.getLocale(),f=e.lFlb||r.localeFallback,p=this._getMsg(t,l,e);return p||(p=this._getMsg(t,f,e)),!p&&this._debug("'".concat(t,"' i18n key not found in '").concat(l,"' lang"),e),p=p&&(0,R.isString)(p)?this._addParams(p,o):p,p},n.prototype._localLang=function(){var t=(0,dt.hasWin)()&&window.navigator||{},e=t.language||t.userLanguage;return e?e.split("-")[0]:"en"},n.prototype._addParams=function(t,e){var r=new RegExp("{([\\w\\d-]*)}","g");return t.replace(r,function(o,l){return e[l]||""}).trim()},n.prototype._getMsg=function(t,e,r){r===void 0&&(r={});var o=this.getMessages(e,r);if(o){var l=o[t];return!l&&t.indexOf(".")>0&&(l=t.split(".").reduce(function(f,p){if(!(0,R.isUndefined)(f))return f[p]},o)),l}},n.prototype._debug=function(t,e){e===void 0&&(e={});var r=this,o=r.em,l=r.config;(e.debug||l.debug)&&o&&o.logWarning(t)},n.prototype.destroy=function(){},n}(V);const xg=_g;var Cg=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),li=function(){return li=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},li.apply(this,arguments)},Sg=function(){},Og=tr.q.Target,Vd={id:"sorter-target",type:Og},Tg=function(a){Cg(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.initialize=function(t){t===void 0&&(t={}),this.opt=t||{},(0,R.bindAll)(this,"startSort","onMove","endMove","rollback","updateOffset","moveDragHelper");var e=t||{};this.elT=0,this.elL=0,this.borderOffset=e.borderOffset||10;var r=e.container;this.el=typeof r=="string"?document.querySelector(r):r,this.$el=(0,C.default)(this.el),this.containerSel=e.containerSel||"div",this.itemSel=e.itemSel||"div",this.draggable=e.draggable||!0,this.nested=!!e.nested,this.pfx=e.pfx||"",this.ppfx=e.ppfx||"",this.freezeClass=e.freezeClass||this.pfx+"freezed",this.onStart=e.onStart||Sg,this.onEndMove=e.onEndMove,this.customTarget=e.customTarget,this.onEnd=e.onEnd,this.direction=e.direction||"v",this.onMoveClb=e.onMove,this.relative=e.relative||!1,this.ignoreViewChildren=!!e.ignoreViewChildren,this.plh=e.placer,this.wmargin=e.wmargin||0,this.offTop=e.offsetTop||0,this.offLeft=e.offsetLeft||0,this.document=e.document||document,this.em=e.em,this.canvasRelative=!!e.canvasRelative,this.selectOnEnd=!e.avoidSelectOnEnd,this.scale=e.scale;var o=this.em;o!=null&&o.on&&(o.on(o.Canvas.events.refresh,this.updateOffset),this.updateOffset())},n.prototype.getScale=function(){return(0,R.result)(this,"scale")||1},n.prototype.getContainerEl=function(t){if(t&&(this.el=t),!this.el){var e=this.opt.container;this.el=typeof e=="string"?document.querySelector(e):e,this.$el=(0,C.default)(this.el)}return this.el},n.prototype.getDocuments=function(t){var e=this.em,r=t?t.ownerDocument:e==null?void 0:e.Canvas.getBody().ownerDocument,o=[document];return r&&o.push(r),o},n.prototype.updateOffset=function(){var t,e=((t=this.em)===null||t===void 0?void 0:t.get("canvasOffset"))||{};this.offTop=e.top,this.offLeft=e.left},n.prototype.setDropContent=function(t){delete this.dropModel,this.dropContent=t},n.prototype.updateTextViewCursorPosition=function(t){var e=this.em;if(e){var r=e.Canvas,o=r.getDocument(),l=null;if(o.caretRangeFromPoint){var f=(0,te.VB)(t);l=o.caretRangeFromPoint(f.clientX,f.clientY)}else t.rangeParent&&(l=o.createRange(),l.setStart(t.rangeParent,t.rangeOffset));var p=r.getWindow().getSelection();r.getFrameEl().focus(),p==null||p.removeAllRanges(),l&&(p==null||p.addRange(l)),this.setContentEditable(this.activeTextModel,!0)}},n.prototype.setContentEditable=function(t,e){if(t){var r=t.getEl();r.contentEditable!=e&&(r.contentEditable=e)}},n.prototype.toggleSortCursor=function(t){var e=this.em,r=e==null?void 0:e.Canvas;r&&(t?r.startAutoscroll():r.stopAutoscroll())},n.prototype.setDragHelper=function(t,e){for(var r=e||"",o=t.cloneNode(!0),l=t.getBoundingClientRect(),f=getComputedStyle(t),p="",h=0;h<f.length;h++){var v=f[h];p+="".concat(v,":").concat(f.getPropertyValue(v),";")}if(document.body.appendChild(o),o.className+=" ".concat(this.pfx,"bdrag"),o.setAttribute("style",p),this.dragHelper=o,o.style.width="".concat(l.width,"px"),o.style.height="".concat(l.height,"px"),r&&this.moveDragHelper(r),this.em){var b=(0,C.default)(this.em.Canvas.getBody().ownerDocument);b.off("mousemove",this.moveDragHelper).on("mousemove",this.moveDragHelper)}(0,C.default)(document).off("mousemove",this.moveDragHelper).on("mousemove",this.moveDragHelper)},n.prototype.moveDragHelper=function(t){var e=t.target.ownerDocument;if(!(!this.dragHelper||!e)){var r=t.pageY,o=t.pageX,l=0,f=0,p=e.defaultView||e.parentWindow,h=p.frameElement,v=this.dragHelper.style;if(h){var b=h.getBoundingClientRect();l=b.top+document.documentElement.scrollTop,f=b.left+document.documentElement.scrollLeft,r=t.clientY,o=t.clientX}v.top=r+l+"px",v.left=o+f+"px"}},n.prototype.matches=function(t,e){return dt.matches.call(t,e)},n.prototype.closest=function(t,e){if(t)for(var r=t.parentNode;r&&r.nodeType===1;){if(this.matches(r,e))return r;r=r.parentNode}},n.prototype.offset=function(t){var e=t.getBoundingClientRect();return{top:e.top+document.body.scrollTop,left:e.left+document.body.scrollLeft}},n.prototype.createPlaceholder=function(){var t=this.pfx,e=document.createElement("div"),r=document.createElement("div");return e.className=t+"placeholder",e.style.display="none",e.style.pointerEvents="none",r.className=t+"placeholder-int",e.appendChild(r),e},n.prototype.startSort=function(t,e){var r,o;e===void 0&&(e={});var l=this,f=l.em,p=l.itemSel,h=l.containerSel,v=l.plh,b=this.getContainerEl(e.container),P=this.getDocuments(t),B;delete this.dropModel,delete this.target,delete this.prevTarget,this.moved=!1,t&&!this.matches(t,"".concat(p,", ").concat(h))&&(t=this.closest(t,p)),this.sourceEl=t,v||(this.plh=this.createPlaceholder(),b.appendChild(this.plh)),t&&(B=this.getSourceModel(t),B!=null&&B.set&&B.set("status","freezed"),this.srcModel=B),(0,te.on)(b,"mousemove dragover",this.onMove),(0,te.on)(P,"mouseup dragend touchend",this.endMove),(0,te.on)(P,"keydown",this.rollback),this.onStart({sorter:this,target:B,parent:B&&((r=B.parent)===null||r===void 0?void 0:r.call(B)),index:B&&((o=B.index)===null||o===void 0?void 0:o.call(B))}),f==null||f.clearSelection(),this.toggleSortCursor(!0),f==null||f.trigger("sorter:drag:start",t,B)},n.prototype.getTargetModel=function(t){var e=t||this.target;return(0,C.default)(e).data("model")},n.prototype.getSourceModel=function(t,e){var r=this,o=e===void 0?{}:e,l=o.target,f=o.avoidChildren,p=f===void 0?1:f,h=this,v=h.em,b=h.sourceEl,P=t||b,B=this,tt=B.dropModel,ut=B.dropContent,ct=function(Qt){return Qt&&l&&Qt.opt&&Qt.opt.avoidChildren&&r.isTextableActive(Qt,l)};if(ut&&v){if(ct(tt)&&(tt=void 0),!tt){var Tt=v.Components.getComponents(),Nt={avoidChildren:p,avoidStore:1,avoidUpdateStyle:1},Ft=Tt.add(ut,li(li({},Nt),{temporary:!0}));if(tt=Tt.remove(Ft,Nt),tt=tt instanceof Array?tt[0]:tt,this.dropModel=tt,ct(tt))return this.getSourceModel(P,{target:l,avoidChildren:0})}return tt}return P&&(0,C.default)(P).data("model")},n.prototype.selectTargetModel=function(t,e){if(!(t instanceof m.FE)&&!(e&&e===t)){var r=this.targetModel;if(r&&r!==this.srcModel&&r.set("status",""),t!=null&&t.set){var o=this.em.Canvas,l=tr.q.Select,f=tr.q.Hover,p=tr.q.Spacing;[l,f,p].forEach(function(h){return o.removeSpots({type:h})}),o.addSpot(li(li({},Vd),{component:t})),t.set("status","selected-parent"),this.targetModel=t}}},n.prototype.onMove=function(t){var e=t,r=this,o=r.em,l=r.onMoveClb,f=r.plh,p=r.customTarget;this.moved=!0;var h=f.style.display;(!h||h==="none")&&(f.style.display="block");var v=this.offset(this.el);this.elT=this.wmargin?Math.abs(v.top):v.top,this.elL=this.wmargin?Math.abs(v.left):v.left;var b=t.pageY-this.elT+this.el.scrollTop,P=t.pageX-this.elL+this.el.scrollLeft;if(this.canvasRelative&&o){var B=o.Canvas.getMouseRelativeCanvas(t,{noScroll:1});P=B.x,b=B.y}this.rX=P,this.rY=b,this.eventMove=t;var tt=this.getSourceModel(),ut=p?p({sorter:this,event:t}):t.target,ct=this.dimsFromTarget(ut,P,b),Tt=this.target,Nt=Tt&&this.getTargetModel(Tt);if(this.selectTargetModel(Nt,tt),Nt||(f.style.display="none"),!!Tt){this.lastDims=ct;var Ft=this.findPosition(ct,P,b);this.isTextableActive(tt,Nt)?(this.activeTextModel=Nt,f.style.display="none",this.lastPos=Ft,this.updateTextViewCursorPosition(e)):(this.disableTextable(),delete this.activeTextModel,(!this.lastPos||this.lastPos.index!=Ft.index||this.lastPos.method!=Ft.method)&&(this.movePlaceholder(this.plh,ct,Ft,this.prevTargetDim),this.$plh||(this.$plh=(0,C.default)(this.plh)),this.canvasRelative||(this.offTop&&this.$plh.css("top","+="+this.offTop+"px"),this.offLeft&&this.$plh.css("left","+="+this.offLeft+"px")),this.lastPos=Ft)),(0,R.isFunction)(l)&&l({event:t,target:tt,parent:Nt,index:Ft.index+(Ft.method=="after"?1:0)}),o&&o.trigger("sorter:drag",{target:Tt,targetModel:Nt,sourceModel:tt,dims:ct,pos:Ft,x:P,y:b})}},n.prototype.isTextableActive=function(t,e){var r;return((r=t==null?void 0:t.get)===null||r===void 0?void 0:r.call(t,"textable"))&&(e==null?void 0:e.isInstanceOf("text"))},n.prototype.disableTextable=function(){var t=this.activeTextModel;t==null||t.getView().disableEditing(),this.setContentEditable(t,!1)},n.prototype.isInFlow=function(t,e){if(!t)return!1;e=e||document.body;var r=t;return r.offsetHeight,!!this.styleInFlow(r,e)},n.prototype.styleInFlow=function(t,e){if(!(0,te.BM)(t)){var r=t.style||{},o=(0,C.default)(t),l=e&&(0,C.default)(e);if(!(r.overflow&&r.overflow!=="visible")){var f=o.css("float");if(!(f&&f!=="none")&&!(l&&l.css("display")=="flex"&&l.css("flex-direction")!=="column")){switch(r.position){case"static":case"relative":case"":break;default:return}switch(t.tagName){case"TR":case"TBODY":case"THEAD":case"TFOOT":return!0}switch(o.css("display")){case"block":case"list-item":case"table":case"flex":case"grid":return!0}}}}},n.prototype.validTarget=function(t,e){var r,o,l=this.lastPos,f=this.getTargetModel(t),p=this.getSourceModel(e,{target:f});e=(r=p==null?void 0:p.view)===null||r===void 0?void 0:r.el,t=(o=f==null?void 0:f.view)===null||o===void 0?void 0:o.el;var h={valid:!0,src:e,srcModel:p,trg:t,trgModel:f,draggable:!1,droppable:!1,dragInfo:"",dropInfo:""};if(!e||!t)return h.valid=!1,h;var v=l?l.method==="after"?l.indexEl+1:l.indexEl:f.components().length,b=p.get("draggable");if((0,R.isFunction)(b)){var P=b(p,f,v);h.dragInfo=P,h.draggable=P,b=P}else b=b instanceof Array?b.join(", "):b,h.dragInfo=b,b=(0,R.isString)(b)?this.matches(t,b):b,h.draggable=b;var B=f.get("droppable");if((0,R.isFunction)(B)){var P=B(p,f,v);h.droppable=P,h.dropInfo=P,B=P}else B=B instanceof m.FE?1:B,B=B instanceof Array?B.join(", "):B,h.dropInfo=B,B=(0,R.isString)(B)?this.matches(e,B):B,B=b&&this.isTextableActive(p,f)?1:B,h.droppable=B;return(!B||!b)&&(h.valid=!1),h},n.prototype.dimsFromTarget=function(t,e,r){e===void 0&&(e=0),r===void 0&&(r=0);var o=this.em,l=[];if(!t||(this.matches(t,"".concat(this.itemSel,", ").concat(this.containerSel))||(t=this.closest(t,this.itemSel)),this.draggable instanceof Array&&(t=this.closest(t,this.draggable.join(","))),!t))return l;if(this.prevTarget&&this.prevTarget!=t&&delete this.prevTarget,!this.prevTarget){this.targetP=this.closest(t,this.containerSel);var f=this.validTarget(t);if(o&&o.trigger("sorter:drag:validation",f),!f.valid&&this.targetP)return this.dimsFromTarget(this.targetP,e,r);this.prevTarget=t,this.prevTargetDim=this.getDim(t),this.cacheDimsP=this.getChildrenDim(this.targetP),this.cacheDims=this.getChildrenDim(t)}if(this.prevTarget==t&&(l=this.cacheDims),this.target=this.prevTarget,this.nearBorders(this.prevTargetDim,e,r)||!this.nested&&!this.cacheDims.length){var p=this.targetP;p&&this.validTarget(p).valid&&(l=this.cacheDimsP,this.target=p)}return delete this.lastPos,l},n.prototype.getTargetFromEl=function(t){var e=t,r,o=this.targetPrev,l=this.em,f=this.containerSel,p=this.itemSel;if(this.matches(e,"".concat(p,", ").concat(f))||(e=this.closest(e,p)),this.draggable instanceof Array&&(e=this.closest(e,this.draggable.join(","))),o&&o!=e&&delete this.targetPrev,!this.targetPrev){r=this.closest(e,f);var h=this.validTarget(e);if(l&&l.trigger("sorter:drag:validation",h),!h.valid&&r)return this.getTargetFromEl(r);this.targetPrev=e}return this.nearElBorders(e)&&(r=this.closest(e,f),r&&this.validTarget(r).valid&&(e=r)),e},n.prototype.nearElBorders=function(t){var e=10,r=t.getBoundingClientRect(),o=t.ownerDocument.body,l=this.getCurrentPos(),f=l.x,p=l.y,h=r.top+o.scrollTop,v=r.left+o.scrollLeft,b=r.width,P=r.height;if(p<h+e||p>h+P-e||f<v+e||f>v+b-e)return 1},n.prototype.getCurrentPos=function(){var t=this.eventMove,e=(t==null?void 0:t.pageX)||0,r=(t==null?void 0:t.pageY)||0;return{x:e,y:r}},n.prototype.getDim=function(t){var e=this,r=e.em,o=e.canvasRelative,l=r==null?void 0:r.Canvas,f=l?l.getElementOffsets(t):{},p,h,v,b;if(o&&r){var P=l.getElementPos(t,{noScroll:1});p=P.top,h=P.left,v=P.height,b=P.width}else{var B=this.offset(t);p=this.relative?t.offsetTop:B.top-(this.wmargin?-1:1)*this.elT,h=this.relative?t.offsetLeft:B.left-(this.wmargin?-1:1)*this.elL,v=t.offsetHeight,b=t.offsetWidth}return{top:p,left:h,height:v,width:b,offsets:f}},n.prototype.getChildrenDim=function(t){var e=this,r=[];if(!t)return r;var o=this.getTargetModel(t);if(o&&o.view&&!this.ignoreViewChildren){var l=o.getCurrentView?o.getCurrentView():o.view;t=l.getChildrenContainer()}return(0,R.each)(t.children,function(f,p){var h=f,v=(0,dt.getModel)(h,C.default),b=v&&v.index?v.index():p;if(!(!(0,te.BM)(h)&&!e.matches(h,e.itemSel))){var P=e.getDim(h),B=e.direction,tt;B=="v"?tt=!0:B=="h"?tt=!1:tt=e.isInFlow(h,t),P.dir=tt,P.el=h,P.indexEl=b,r.push(P)}}),r},n.prototype.nearBorders=function(t,e,r){var o=!1,l=this.borderOffset,f=e||0,p=r||0,h=t.top,v=t.left,b=t.height,P=t.width;return(h+l>p||p>h+b-l||v+l>f||f>v+P-l)&&(o=!0),o},n.prototype.findPosition=function(t,e,r){for(var o={index:0,indexEl:0,method:"before"},l=0,f=0,p=0,h=0,v=0,b=0,P=0,B,tt=0,ut=t.length;tt<ut;tt++){B=t[tt];var ct=B.top,Tt=B.left,Nt=B.height,Ft=B.width;if(p=Tt+Ft,P=ct+Nt,v=Tt+Ft/2,b=ct+Nt/2,!(f&&Tt>f||h&&b>=h||l&&p<l))if(o.index=tt,o.indexEl=B.indexEl,!B.dir)r<P&&(h=P),e<v?(f=v,o.method="before"):(l=v,o.method="after");else if(r<b){o.method="before";break}else o.method="after"}return o},n.prototype.movePlaceholder=function(t,e,r,o){var l=0,f=0,p=0,h="",v="",b="px",P=5,B=r.method,tt=e[r.index];if(t.classList.remove("vertical"),t.classList.add("horizontal"),tt){var ut=tt.top,ct=tt.left,Tt=tt.height,Nt=tt.width;tt.dir?(h=Nt+b,v="auto",f=B=="before"?ut-l:ut+Tt-l,p=ct):(h="auto",v=Tt-l*2+b,f=ut+l,p=B=="before"?ct-l:ct+Nt-l,t.classList.remove("horizontal"),t.classList.add("vertical"))}else{if(!this.nested){t.style.display="none";return}if(o){var Ft=o.offsets||{},Qt=Ft.paddingTop||P,fe=Ft.paddingLeft||P,Se=Ft.borderTopWidth||0,Pe=Ft.borderLeftWidth||0,ie=Ft.borderRightWidth||0,Ee=Pe+ie;f=o.top+Qt+Se,p=o.left+fe+Pe,h=parseInt("".concat(o.width))-fe*2-Ee+b,v="auto"}}t.style.top=f+b,t.style.left=p+b,h&&(t.style.width=h),v&&(t.style.height=v)},n.prototype.parents=function(t){return t?[t].concat(this.parents(t.parent())):[]},n.prototype.sort=function(t,e){var r=t.parents.filter(function(p){return e.parents.includes(p)}),o=r[0];if(!o)return e.model.index()-t.model.index();var l=t.parents[t.parents.indexOf(o)-1],f=e.parents[e.parents.indexOf(o)-1];return f.index()-l.index()},n.prototype.endMove=function(){var t=this,e,r=this.sourceEl,o=[],l=this.getDocuments(),f=this.getContainerEl(),p=this.onEndMove,h=this.onEnd,v=this,b=v.target,P=v.lastPos,B;if((0,te.S1)(f,"mousemove dragover",this.onMove),(0,te.S1)(l,"mouseup dragend touchend",this.endMove),(0,te.S1)(l,"keydown",this.rollback),this.plh.style.display="none",r&&(B=this.getSourceModel()),this.moved&&b){var tt=this.toMove,ut=(0,R.isArray)(tt)?tt:tt?[tt]:[r],ct=0;ut.length===1?o.push(this.move(b,ut[0],P)):ut.map(function(Ft){return{model:Ft,parents:t.parents(Ft)}}).sort(this.sort).forEach(function(Ft){var Qt=Ft.model,fe=Qt.index(),Se=Qt.parent().getEl();o.push(t.move(b,Qt,li(li({},P),{indexEl:P.indexEl-ct,index:P.index-ct}))),Se===b&&fe<=P.index&&ct++})}this.plh&&(this.plh.style.display="none");var Tt=this.dragHelper;if(Tt&&(Tt.parentNode.removeChild(Tt),delete this.dragHelper),this.disableTextable(),this.selectTargetModel(),this.toggleSortCursor(),(e=this.em)===null||e===void 0||e.Canvas.removeSpots(Vd),delete this.toMove,delete this.eventMove,delete this.dropModel,(0,R.isFunction)(p)){var Nt={target:B,parent:B&&B.parent(),index:B&&B.index()};o.length?o.forEach(function(Ft){return p(Ft,t,Nt)}):p(null,this,li(li({},Nt),{cancelled:1}))}(0,R.isFunction)(h)&&h({sorter:this})},n.prototype.move=function(t,e,r){var o=this,l=o.em,f=o.dropContent,p=(0,dt.getElement)(e),h=[],v=r.method==="after"?r.indexEl+1:r.indexEl,b=this.validTarget(t,p),P=(0,C.default)(t).data("collection"),B=b.trgModel,tt=b.srcModel,ut=b.draggable,ct=B instanceof m.FE?1:b.droppable,Tt,Nt;if(P&&ct&&ut){var Ft={at:v,action:"move-component"},Qt=this.isTextableActive(tt,B);if(f)Tt=(0,R.isFunction)(f)?f():f,Ft.avoidUpdateStyle=!0,Ft.action="add-component";else{var fe=tt.collection.indexOf(tt),Se=P===tt.collection,Pe=fe===v||fe===v-1,ie=!Se||!Pe||Qt;ie&&(Tt=tt.collection.remove(tt,{temporary:!0}),Se&&v>fe&&(Ft.at=v-1))}Tt&&(Qt?(delete Ft.at,Nt=B.getView().insertComponent(Tt,Ft)):Nt=P.add(Tt,Ft)),delete this.dropContent,delete this.prevTarget}else if(l){var Ee=b.dropInfo||(B==null?void 0:B.get("droppable")),Fe=b.dragInfo||(tt==null?void 0:tt.get("draggable"));!P&&h.push("Target collection not found"),!ct&&Ee&&h.push("Target is not droppable, accepts [".concat(Ee,"]")),!ut&&Fe&&h.push("Component not draggable, acceptable by [".concat(Fe,"]")),l.logWarning("Invalid target position",{errors:h,model:tt,context:"sorter",target:B})}return l==null||l.trigger("sorter:drag:end",{targetCollection:P,modelToDrop:Tt,warns:h,validResult:b,dst:t,srcEl:p}),Nt},n.prototype.rollback=function(t){(0,te.S1)(this.getDocuments(),"keydown",this.rollback);var e=t.which||t.keyCode;e==27&&(this.moved=!1,this.endMove())},n}(m.G7);const Eg=Tg;var ds=function(){return ds=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},ds.apply(this,arguments)},Pg=function(a,n){n===void 0&&(n={});var t=n.prefix||"",e=document.createElement("i");return e.className=t+"resizer-h "+t+"resizer-h-"+a,e.setAttribute("data-"+t+"handler",a),e},kg=function(a,n){var t=window,e=a.getBoundingClientRect();return{left:e.left+t.pageXOffset,top:e.top+t.pageYOffset,width:e.width,height:e.height}},Ag=function(){function a(n){n===void 0&&(n={}),this.defOpts={ratioDefault:!1,onUpdateContainer:function(){},step:1,minDim:10,maxDim:1/0,unitHeight:"px",unitWidth:"px",keyHeight:"height",keyWidth:"width",currentUnit:!0,silentFrames:!1,avoidContainerUpdate:!1,keepAutoHeight:!1,keepAutoWidth:!1,autoHeight:!1,autoWidth:!1,tl:!0,tc:!0,tr:!0,cl:!0,cr:!0,bl:!0,bc:!0,br:!0},this.opts=ds({},this.defOpts),this.setOptions(n),(0,R.bindAll)(this,"handleKeyDown","handleMouseDown","move","stop")}return a.prototype.getConfig=function(){return this.opts},a.prototype.setOptions=function(n,t){n===void 0&&(n={}),this.opts=ds(ds({},t?this.defOpts:this.opts),n),this.setup()},a.prototype.setup=function(){var n=this.opts,t=n.prefix||"",e=n.appendTo||document.body,r=this.container;for(r||(r=document.createElement("div"),r.className="".concat(t,"resizer-c"),e.appendChild(r),this.container=r);r.firstChild;)r.removeChild(r.firstChild);var o={};["tl","tc","tr","cl","cr","bl","bc","br"].forEach(function(p){return o[p]=n[p]?Pg(p,n):null});for(var l in o){var f=o[l];f&&r.appendChild(f)}this.handlers=o,this.mousePosFetcher=n.mousePosFetcher,this.updateTarget=n.updateTarget,this.posFetcher=n.posFetcher,this.onStart=n.onStart,this.onMove=n.onMove,this.onEnd=n.onEnd,this.onUpdateContainer=n.onUpdateContainer},a.prototype.toggleFrames=function(n){if(this.opts.silentFrames){var t=document.querySelectorAll("iframe");(0,R.each)(t,function(e){return e.style.pointerEvents=n?"none":""})}},a.prototype.isHandler=function(n){var t=this.handlers;for(var e in t)if(t[e]===n)return!0;return!1},a.prototype.getFocusedEl=function(){return this.el},a.prototype.getParentEl=function(){var n;return(n=this.el)===null||n===void 0?void 0:n.parentElement},a.prototype.getDocumentEl=function(){return[this.el.ownerDocument,document]},a.prototype.getElementPos=function(n,t){t===void 0&&(t={});var e=this.posFetcher;return e?e(n,t):kg(n)},a.prototype.focus=function(n){n&&n===this.el||(this.el=n,this.updateContainer({forceShow:!0}),(0,te.on)(this.getDocumentEl(),"pointerdown",this.handleMouseDown))},a.prototype.blur=function(){this.container.style.display="none",this.el&&((0,te.S1)(this.getDocumentEl(),"pointerdown",this.handleMouseDown),delete this.el)},a.prototype.start=function(n){var t=n;if(t.button===0){t.preventDefault(),t.stopPropagation();var e=this.el,r=this.getParentEl(),o=this,l=this.opts||{},f=this.mousePosFetcher,p="data-"+l.prefix+"handler",h=this.getElementPos(e,{avoidFrameZoom:!0,avoidFrameOffset:!0}),v=this.getElementPos(r),b=t.target;this.handlerAttr=b.getAttribute(p),this.clickedHandler=b,this.startDim={t:h.top,l:h.left,w:h.width,h:h.height},this.rectDim={t:h.top,l:h.left,w:h.width,h:h.height},this.startPos=f?f(t):{x:t.clientX,y:t.clientY},this.parentDim={t:v.top,l:v.left,w:v.width,h:v.height};var P=this.getDocumentEl();this.docs=P,(0,te.on)(P,"pointermove",this.move),(0,te.on)(P,"keydown",this.handleKeyDown),(0,te.on)(P,"pointerup",this.stop),(0,R.isFunction)(this.onStart)&&this.onStart(t,{docs:P,config:l,el:e,resizer:o}),this.toggleFrames(!0),this.move(t)}},a.prototype.move=function(n){var t=n,e=this.onMove,r=this.mousePosFetcher,o=r?r(t):{x:t.clientX,y:t.clientY};this.currentPos=o,this.delta={x:o.x-this.startPos.x,y:o.y-this.startPos.y},this.keys={shift:t.shiftKey,ctrl:t.ctrlKey,alt:t.altKey},this.rectDim=this.calc(this),this.updateRect(!1),e&&e(t)},a.prototype.stop=function(n){var t=this.el,e=this.opts,r=this.docs||this.getDocumentEl();(0,te.S1)(r,"pointermove",this.move),(0,te.S1)(r,"keydown",this.handleKeyDown),(0,te.S1)(r,"pointerup",this.stop),this.updateRect(!0),this.toggleFrames(),(0,R.isFunction)(this.onEnd)&&this.onEnd(n,{docs:r,config:e,el:t,resizer:this}),delete this.docs},a.prototype.updateRect=function(n){var t=this.el,e=this,r=this.opts,o=this.rectDim,l=this.updateTarget,f=this.getSelectedHandler(),p=r.unitHeight,h=r.unitWidth,v=r.keyWidth,b=r.keyHeight;if((0,R.isFunction)(l))l(t,o,{store:n,selectedHandler:f,resizer:e,config:r});else{var P=t.style;P[v]=o.w+h,P[b]=o.h+p}this.updateContainer()},a.prototype.updateContainer=function(n){var t;n===void 0&&(n={});var e=this,r=e.opts,o=e.container,l=e.el,f=o.style;!r.avoidContainerUpdate&&l&&n.forceShow&&(f.display="block"),(t=this.onUpdateContainer)===null||t===void 0||t.call(this,{el:o,resizer:this,opts:ds(ds({},r),n)})},a.prototype.getSelectedHandler=function(){var n=this.handlers;if(this.selectedHandler){for(var t in n)if(n[t]===this.selectedHandler)return t}},a.prototype.handleKeyDown=function(n){n.keyCode===27&&(this.rectDim=this.startDim,this.stop(n))},a.prototype.handleMouseDown=function(n){var t=n.target;this.isHandler(t)?(this.selectedHandler=t,this.start(n)):t!==this.el&&(delete this.selectedHandler,this.blur())},a.prototype.calc=function(n){var t,e=this.opts||{},r=e.step,o=this.startDim,l=e.minDim,f=e.maxDim,p=n.delta.x,h=n.delta.y,v=this.parentDim.w,b=this.parentDim.h,P=this.opts.unitWidth,B=this.opts.unitHeight,tt=P==="%"?o.w/100*v:o.w,ut=B==="%"?o.h/100*b:o.h,ct={t:o.t,l:o.l,w:tt,h:ut};if(n){var Tt=n.handlerAttr;~Tt.indexOf("r")&&(t=P==="%"?(0,dt.normalizeFloat)((tt+p*r)/v*100,.01):(0,dt.normalizeFloat)(tt+p*r,r),t=Math.max(l,t),f&&(t=Math.min(f,t)),ct.w=t),~Tt.indexOf("b")&&(t=B==="%"?(0,dt.normalizeFloat)((ut+h*r)/b*100,.01):(0,dt.normalizeFloat)(ut+h*r,r),t=Math.max(l,t),f&&(t=Math.min(f,t)),ct.h=t),~Tt.indexOf("l")&&(t=P==="%"?(0,dt.normalizeFloat)((tt-p*r)/v*100,.01):(0,dt.normalizeFloat)(tt-p*r,r),t=Math.max(l,t),f&&(t=Math.min(f,t)),ct.w=t),~Tt.indexOf("t")&&(t=B==="%"?(0,dt.normalizeFloat)((ut-h*r)/b*100,.01):(0,dt.normalizeFloat)(ut-h*r,r),t=Math.max(l,t),f&&(t=Math.min(f,t)),ct.h=t);var Nt=e.ratioDefault?!n.keys.shift:n.keys.shift;if(Tt.indexOf("c")<0&&Nt){var Ft=o.w/o.h;ct.w/ct.h>Ft?ct.h=Math.round(ct.w/Ft):ct.w=Math.round(ct.h*Ft)}~Tt.indexOf("l")&&(ct.l+=o.w-ct.w),~Tt.indexOf("t")&&(ct.t+=o.h-ct.h);for(var Qt in ct){var fe=Qt;ct[fe]=parseInt("".concat(ct[fe]),10)}return ct}},a}();const Mg=Ag;var Lg=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Tp=function(){return Tp=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Tp.apply(this,arguments)},Dg=function(a){Lg(n,a);function n(t){var e=a.call(this,t,"Utils")||this;return e.Sorter=Eg,e.Resizer=Mg,e.Dragger=Qi.Z,e.helpers=Tp({},dt),e}return n.prototype.destroy=function(){},n}(V);const jg=Dg;var Xn,co={},Bn={16:!1,18:!1,17:!1,91:!1},Rd="all",hs={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,command:91},Nd={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},Ep=function(a){return Nd[a]||a.toUpperCase().charCodeAt(0)},dl=[];for(Xn=1;Xn<20;Xn++)Nd["f"+Xn]=111+Xn;function du(a,n){for(var t=a.length;t--;)if(a[t]===n)return t;return-1}function Ig(a,n){if(a.length!=n.length)return!1;for(var t=0;t<a.length;t++)if(a[t]!==n[t])return!1;return!0}var Vg={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function Rg(a){for(Xn in Bn)Bn[Xn]=a[Vg[Xn]]}function Ng(a){var n,t,e,r,o,l;if(n=a.keyCode,du(dl,n)==-1&&dl.push(n),(n==93||n==224)&&(n=91),n in Bn){Bn[n]=!0;for(e in hs)hs[e]==n&&(Un[e]=!0);return}if(Rg(a),!!Un.filter.call(this,a)&&n in co){for(l=Pp(),r=0;r<co[n].length;r++)if(t=co[n][r],t.scope==l||t.scope=="all"){o=t.mods.length>0;for(e in Bn)(!Bn[e]&&du(t.mods,+e)>-1||Bn[e]&&du(t.mods,+e)==-1)&&(o=!1);(t.mods.length==0&&!Bn[16]&&!Bn[18]&&!Bn[17]&&!Bn[91]||o)&&t.method(a,t)===!1&&(a.preventDefault?a.preventDefault():a.returnValue=!1,a.stopPropagation&&a.stopPropagation(),a.cancelBubble&&(a.cancelBubble=!0))}}}function Fg(a){var n=a.keyCode,t,e=du(dl,n);if(e>=0&&dl.splice(e,1),(n==93||n==224)&&(n=91),n in Bn){Bn[n]=!1;for(t in hs)hs[t]==n&&(Un[t]=!1)}}function Hg(){for(Xn in Bn)Bn[Xn]=!1;for(Xn in hs)Un[Xn]=!1}function Un(a,n,t){var e,r;e=Fd(a),t===void 0&&(t=n,n="all");for(var o=0;o<e.length;o++)r=[],a=e[o].split("+"),a.length>1&&(r=Hd(a),a=[a[a.length-1]]),a=a[0],a=Ep(a),a in co||(co[a]=[]),co[a].push({shortcut:e[o],scope:n,method:t,key:e[o],mods:r})}function Bg(a,n){var t,e,r=[],o,l,f;for(t=Fd(a),l=0;l<t.length;l++){if(e=t[l].split("+"),e.length>1&&(r=Hd(e)),a=e[e.length-1],a=Ep(a),n===void 0&&(n=Pp()),!co[a])return;for(o=0;o<co[a].length;o++)f=co[a][o],f.scope===n&&Ig(f.mods,r)&&(co[a][o]={})}}function Ug(a){return typeof a=="string"&&(a=Ep(a)),du(dl,a)!=-1}function zg(){return dl.slice(0)}function Wg(a){var n=(a.target||a.srcElement).tagName;return!(n=="INPUT"||n=="SELECT"||n=="TEXTAREA")}for(Xn in hs)Un[Xn]=!1;function Gg(a){Rd=a||"all"}function Pp(){return Rd||"all"}function Kg(a){var n,t,e;for(n in co)for(t=co[n],e=0;e<t.length;)t[e].scope===a?t.splice(e,1):e++}function Fd(a){var n;return a=a.replace(/\s/g,""),n=a.split(","),n[n.length-1]==""&&(n[n.length-2]+=","),n}function Hd(a){for(var n=a.slice(0,a.length-1),t=0;t<n.length;t++)n[t]=hs[n[t]];return n}function kp(a,n,t){a.addEventListener?a.addEventListener(n,t,!1):a.attachEvent&&a.attachEvent("on"+n,function(){t(window.event)})}Un.setScope=Gg,Un.getScope=Pp,Un.deleteScope=Kg,Un.filter=Wg,Un.isPressed=Ug,Un.getPressedKeyCodes=zg,Un.unbind=Bg,Un.handlers=co,Un.init=function(a){kp(a.document,"keydown",function(n){Ng(n)}),kp(a.document,"keyup",Fg),kp(a,"focus",Hg)};const hu=Un;var $g={defaults:{"core:undo":{keys:"⌘+z, ctrl+z",handler:"core:undo",opts:{prevent:!0}},"core:redo":{keys:"⌘+shift+z, ctrl+shift+z",handler:"core:redo",opts:{prevent:!0}},"core:copy":{keys:"⌘+c, ctrl+c",handler:"core:copy"},"core:paste":{keys:"⌘+v, ctrl+v",handler:"core:paste"},"core:component-next":{keys:"s",handler:"core:component-next"},"core:component-prev":{keys:"w",handler:"core:component-prev"},"core:component-enter":{keys:"d",handler:"core:component-enter"},"core:component-exit":{keys:"a",handler:"core:component-exit"},"core:component-delete":{keys:"backspace, delete",handler:"core:component-delete",opts:{prevent:!0}}}};const qg=$g;var Zg=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Bd=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return a.concat(o||Array.prototype.slice.call(n))};(0,dt.hasWin)()&&hu.init(window);var Yg=function(a){Zg(n,a);function n(t){var e=a.call(this,t,"Keymaps",qg)||this;return e.keymaster=hu,e.keymaps={},e}return n.prototype.onLoad=function(){var t=this.config.defaults;for(var e in t){var r=t[e];this.add(e,r.keys,r.handler,r.opts||{})}},n.prototype.add=function(t,e,r,o){o===void 0&&(o={});var l=this.em,f=l.Commands,p=l.getEditor(),h=l.Canvas,v={id:t,keys:e,handler:r},b=this.keymaps[t];return b&&this.remove(t),this.keymaps[t]=v,hu(e,function(P,B){var tt={event:P,h:B},ut=(0,R.isString)(r)?f.get(r):r,ct=!l.isEditing()&&!p.Canvas.isInputFocused();if(ct||o.force){o.prevent&&h.getCanvasView().preventDefault(P),(0,R.isFunction)(ut)?ut(p,0,tt):f.runCommand(ut,tt);var Tt=[t,B.shortcut,P];l.trigger.apply(l,Bd(["keymap:emit"],Tt,!1)),l.trigger.apply(l,Bd(["keymap:emit:".concat(t)],Tt,!1))}},void 0),l.trigger("keymap:add",v),v},n.prototype.get=function(t){return this.keymaps[t]},n.prototype.getAll=function(){return this.keymaps},n.prototype.remove=function(t){var e=this.em,r=this.get(t);if(r)return delete this.keymaps[t],r.keys.split(", ").forEach(function(o){hu.unbind(o.trim())}),e==null||e.trigger("keymap:remove",r),r},n.prototype.removeAll=function(){var t=this;return Object.keys(this.keymaps).forEach(function(e){return t.remove(e)}),hu.handlers={},this},n.prototype.destroy=function(){this.removeAll(),this.keymaps={}},n}(V);const Xg=Yg;var Jg={stylePrefix:"mdl-",title:"",content:"",backdrop:!0,custom:!1,extend:{}};const Qg=Jg;var tm=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),em=function(a){tm(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.defaults=function(){return{title:"",content:"",attributes:{},open:!1}},n.prototype.open=function(){this.set("open",!0)},n.prototype.close=function(){this.set("open",!1)},n}(et.Z);const rm=em;var nm=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Gc=function(){return Gc=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Gc.apply(this,arguments)},om=function(a){nm(n,a);function n(t){var e=a.call(this,t)||this,r=e.model;return e.listenTo(r,"change:open",e.updateOpen),e.listenTo(r,"change:title",e.updateTitle),e.listenTo(r,"change:content",e.updateContent),e}return n.prototype.template=function(t){var e=t.pfx,r=t.ppfx,o=t.content,l=t.title;return'<div class="'.concat(e,"dialog ").concat(r,"one-bg ").concat(r,`two-color">
      <div class="`).concat(e,`header">
        <div class="`).concat(e,'title">').concat(l,`</div>
        <div class="`).concat(e,`btn-close" data-close-modal>&Cross;</div>
      </div>
      <div class="`).concat(e,`content">
        <div id="`).concat(e,'c">').concat(o,`</div>
        <div style="clear:both"></div>
      </div>
    </div>
    <div class="`).concat(e,'collector" style="display: none"></div>')},n.prototype.events=function(){return{click:"onClick","click [data-close-modal]":"hide"}},n.prototype.onClick=function(t){var e=this.config.backdrop;e&&t.target===this.el&&this.hide()},n.prototype.getCollector=function(){return this.$collector||(this.$collector=this.$el.find("."+this.pfx+"collector")),this.$collector},n.prototype.getContent=function(){var t=this.pfx;return this.$content||(this.$content=this.$el.find(".".concat(t,"content #").concat(t,"c"))),this.$content},n.prototype.getTitle=function(t){return t===void 0&&(t={}),this.$title||(this.$title=this.$el.find("."+this.pfx+"title")),t.$?this.$title:this.$title.get(0)},n.prototype.updateContent=function(){var t=this.getContent(),e=t.children(),r=this.getCollector(),o=this.model.get("content");e.length&&r.append(e),t.empty().append(o)},n.prototype.updateTitle=function(){var t=this.getTitle({$:!0});t&&t.empty().append(this.model.get("title"))},n.prototype.updateOpen=function(){this.el.style.display=this.model.get("open")?"":"none"},n.prototype.hide=function(){this.model.close()},n.prototype.show=function(){this.model.open()},n.prototype.updateAttr=function(t){var e=this,r=e.pfx,o=e.$el,l=e.el,f=[].slice.call(l.attributes).map(function(p){return p.name});o.removeAttr(f.join(" ")),o.attr(Gc(Gc({},t||{}),{class:"".concat(r,"container ").concat(t&&t.class||"").trim()}))},n.prototype.render=function(){var t=this.$el,e=this.model.toJSON();return e.pfx=this.pfx,e.ppfx=this.ppfx,t.html(this.template(e)),this.updateAttr(),this.updateOpen(),this},n}(pr);const im=om;var am=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),sm=function(a){am(n,a);function n(t){var e=a.call(this,t,"Modal",Qg)||this;return e.model=new rm(e),e.model.on("change:open",function(r,o){t.trigger("modal:".concat(o?"open":"close"))}),e.model.on("change",(0,R.debounce)(function(){var r=e._evData(),o=e.config.custom;(0,R.isFunction)(o)&&o(r),t.trigger("modal",r)},0)),e}return n.prototype._evData=function(){var t=this,e=this.getTitle(),r=this.getContent(),o=this.model.attributes,l=o.open,f=o.attributes;return{open:l,attributes:f,title:(0,R.isString)(e)?(0,te.rw)(e):e,content:(0,R.isString)(r)?(0,te.rw)(r):r.get?r.get(0):r,close:function(){t.close()}}},n.prototype.postRender=function(t){var e=t.model.config.el||t.el,r=this.render();r&&(e==null||e.appendChild(r))},n.prototype.open=function(t){t===void 0&&(t={});var e=t.attributes||{};return t.title&&this.setTitle(t.title),t.content&&this.setContent(t.content),this.model.set("attributes",e),this.model.open(),this.modal&&this.modal.updateAttr(e),this},n.prototype.close=function(){return this.model.close(),this},n.prototype.onceClose=function(t){return this.em.once("modal:close",t),this},n.prototype.onceOpen=function(t){return this.em.once("modal:open",t),this},n.prototype.isOpen=function(){return!!this.model.get("open")},n.prototype.setTitle=function(t){return this.model.set("title",t),this},n.prototype.getTitle=function(){return this.model.get("title")},n.prototype.setContent=function(t){return this.model.set("content"," "),this.model.set("content",t),this},n.prototype.getContent=function(){return this.model.get("content")},n.prototype.getContentEl=function(){var t;return(t=this.modal)===null||t===void 0?void 0:t.getContent().get(0)},n.prototype.getModel=function(){return this.model},n.prototype.render=function(){var t;if(!this.config.custom){var e=im.extend(this.config.extend),r=this.modal&&this.modal.el;return this.modal=new e({el:r,model:this.model,config:this.config}),(t=this.modal)===null||t===void 0?void 0:t.render().el}},n.prototype.destroy=function(){var t;(t=this.modal)===null||t===void 0||t.remove()},n}(V);const lm=sm;var Ud="sw-visibility",zd="export-template",Wd="open-sm",Gd="open-tm",Kd="open-layers",$d="open-blocks",Ap="fullscreen",Mp="preview",um={stylePrefix:"pn-",defaults:[{id:"commands",buttons:[{}]},{id:"options",buttons:[{active:!0,id:Ud,className:"fa fa-square-o",command:"core:component-outline",context:Ud,attributes:{title:"View components"}},{id:Mp,className:"fa fa-eye",command:Mp,context:Mp,attributes:{title:"Preview"}},{id:Ap,className:"fa fa-arrows-alt",command:Ap,context:Ap,attributes:{title:"Fullscreen"}},{id:zd,className:"fa fa-code",command:zd,attributes:{title:"View code"}}]},{id:"views",buttons:[{id:Wd,className:"fa fa-paint-brush",command:Wd,active:!0,togglable:!1,attributes:{title:"Open Style Manager"}},{id:Gd,className:"fa fa-cog",command:Gd,togglable:!1,attributes:{title:"Settings"}},{id:Kd,className:"fa fa-bars",command:Kd,togglable:!1,attributes:{title:"Open Layer Manager"}},{id:$d,className:"fa fa-th-large",command:$d,togglable:!1,attributes:{title:"Open Blocks"}}]}]};const Lp=um;var cm=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),fm=function(a){cm(n,a);function n(t,e){var r=a.call(this,t,e)||this;return r.get("buttons").length&&r.set("buttons",new Yd(r.module,r.get("buttons"))),r}return n.prototype.defaults=function(){return{id:"",label:"",tagName:"span",className:"",command:"",context:"",buttons:[],attributes:{},options:{},active:!1,dragDrop:!1,togglable:!0,runDefaultCommand:!0,stopDefaultCommand:!1,disable:!1}},Object.defineProperty(n.prototype,"className",{get:function(){return this.get("className")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"command",{get:function(){return this.get("command")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"active",{get:function(){return this.get("active")},set:function(t){this.set("active",t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"togglable",{get:function(){return this.get("togglable")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"runDefaultCommand",{get:function(){return this.get("runDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"stopDefaultCommand",{get:function(){return this.get("stopDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"disable",{get:function(){return this.get("disable")},enumerable:!1,configurable:!0}),n}(et.Z);const qd=fm;var pm=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Zd=function(a){pm(n,a);function n(t,e){return a.call(this,t,e,qd)||this}return n.prototype.deactivateAllExceptOne=function(t,e){this.forEach(function(r,o){r!==t&&(r.set("active",!1),e&&r.get("buttons").length&&r.get("buttons").deactivateAllExceptOne(t,e))})},n.prototype.deactivateAll=function(t,e){var r=t||"";this.forEach(function(o){o.get("context")==r&&o!==e&&o.set("active",!1,{fromCollection:!0})})},n.prototype.disableAllButtons=function(t){var e=t||"";this.forEach(function(r,o){r.get("context")==e&&r.set("disable",!0)})},n.prototype.disableAllButtonsExceptOne=function(t,e){this.forEach(function(r,o){r!==t&&(r.set("disable",!0),e&&r.get("buttons").length&&r.get("buttons").disableAllButtonsExceptOne(t,e))})},n}(ve);const Yd=Zd;Zd.prototype.model=qd;var dm=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),hm=function(a){dm(n,a);function n(t,e){var r=a.call(this,t,e)||this,o=r.get("buttons")||[];return r.buttons=new Yd(t,o),r}return n.prototype.defaults=function(){return{id:"",content:"",visible:!0,buttons:[],attributes:{}}},Object.defineProperty(n.prototype,"buttons",{get:function(){return this.get("buttons")},set:function(t){this.set("buttons",t)},enumerable:!1,configurable:!0}),n}(et.Z);const Xd=hm;var vm=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Jd=function(a){vm(n,a);function n(t,e){return a.call(this,t,e,Xd)||this}return n}(ve);const gm=Jd;Jd.prototype.model=Xd;var mm=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),hl=function(){return hl=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},hl.apply(this,arguments)},ym=function(a){mm(n,a);function n(t){var e=a.call(this,t)||this,r=e,o=r.model,l=r.em,f=r.pfx,p=r.ppfx,h=o.className,v=o.attributes,b=v.command,P=v.listen;if(e.id=f+o.get("id"),e.activeCls="".concat(f,"active ").concat(p,"four-color"),e.disableCls="".concat(p,"disabled"),e.btnsVisCls="".concat(f,"visible"),e.className=f+"btn"+(h?" "+h:""),e.listenTo(o,"change",e.render),e.listenTo(o,"change:active updateActive",e.updateActive),e.listenTo(o,"checkActive",e.checkActive),e.listenTo(o,"change:bntsVis",e.updateBtnsVis),e.listenTo(o,"change:attributes",e.updateAttributes),e.listenTo(o,"change:className",e.updateClassName),e.listenTo(o,"change:disable",e.updateDisable),l&&(0,R.isString)(b)&&P){var B={fromListen:!0};e.listenTo(l,"run:".concat(b),function(){return o.set("active",!0,B)}),e.listenTo(l,"stop:".concat(b),function(){return o.set("active",!1,B)})}return l&&l.get&&(e.commands=l.get("Commands")),e}return n.prototype.tagName=function(){return this.model.get("tagName")},n.prototype.events=function(){return{click:"clicked"}},n.prototype.updateClassName=function(){var t=this,e=t.model,r=t.pfx,o=e.className,l=e.get("attributes").class,f="".concat(l||""," ").concat(r,"btn ").concat(o||"");this.$el.attr("class",f.trim())},n.prototype.updateAttributes=function(){var t=this,e=t.em,r=t.model,o=t.$el,l=r.get("attributes")||{},f=e&&e.t&&e.t("panels.buttons.titles.".concat(r.id));o.attr(l),f&&o.attr({title:f}),this.updateClassName()},n.prototype.updateBtnsVis=function(){this.$buttons&&(this.model.get("bntsVis")?this.$buttons.addClass(this.btnsVisCls):this.$buttons.removeClass(this.btnsVisCls))},n.prototype.updateActive=function(t,e,r){var o;r===void 0&&(r={});var l=this,f=l.model,p=l.commands,h=l.$el,v=l.activeCls,b=r.fromCollection,P=r.fromListen,B=f.get("context"),tt=f.get("options"),ut=f.command,ct={};ut&&(p&&(0,R.isString)(ut)?ct=p.get(ut)||{}:(0,R.isFunction)(ut)?ct=p.create({run:ut}):ut!==null&&(0,R.isObject)(ut)&&(ct=p.create(ut)),f.active?(!b&&((o=f.collection)===null||o===void 0||o.deactivateAll(B,f)),f.set("active",!0,{silent:!0}).trigger("checkActive"),!P&&p.runCommand(ct,hl(hl({},tt),{sender:f})),ct.noStop&&f.set("active",!1)):(h.removeClass(v),!P&&p.stopCommand(ct,hl(hl({},tt),{sender:f,force:1}))))},n.prototype.updateDisable=function(){var t=this,e=t.disableCls,r=t.model,o=r.disable;this.$el[o?"addClass":"removeClass"](e)},n.prototype.checkActive=function(){var t=this,e=t.model,r=t.$el,o=t.activeCls;e.active?r.addClass(o):r.removeClass(o)},n.prototype.clicked=function(){var t=this.model;t.get("bntsVis")||t.disable||!t.command||this.toggleActive()},n.prototype.toggleActive=function(){var t=this,e=t.model,r=t.em,o=e.active,l=e.togglable;o&&!l||(e.active=!o,o?e.runDefaultCommand&&r.runDefault():e.stopDefaultCommand&&r.stopDefault())},n.prototype.render=function(){var t=this.model,e=t.get("label"),r=this.$el;return!t.get("el")&&r.empty(),this.updateAttributes(),e&&r.append(e),this.checkActive(),this.updateDisable(),this},n}(pr);const wm=ym;var bm=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),_m=function(a){bm(n,a);function n(t){var e=a.call(this,{collection:t})||this;return e.listenTo(e.collection,"add",e.addTo),e.listenTo(e.collection,"reset remove",e.render),e.className=e.pfx+"buttons",e}return n.prototype.addTo=function(t){this.addToCollection(t)},n.prototype.addToCollection=function(t,e){var r=e||null,o=t.get("el"),l=new wm({el:o,model:t}),f=l.render().el;return r?r.appendChild(f):this.$el.append(f),f},n.prototype.render=function(){var t=this,e=document.createDocumentFragment();return this.$el.empty(),this.collection.each(function(r){return t.addToCollection(r,e)}),this.$el.append(e),this.$el.attr("class",(0,R.result)(this,"className")),this},n}(pr);const xm=_m;var Cm=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Dp=function(){return Dp=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Dp.apply(this,arguments)},Sm=function(a){Cm(n,a);function n(t){var e=a.call(this,{model:t,el:t.get("el")})||this;return e.className=e.pfx+"panel",e.id=e.pfx+t.get("id"),e.listenTo(t,"change:appendContent",e.appendContent),e.listenTo(t,"change:content",e.updateContent),e.listenTo(t,"change:visible",e.toggleVisible),t.view=e,e}return n.prototype.appendContent=function(){this.$el.append(this.model.get("appendContent"))},n.prototype.updateContent=function(){this.$el.html(this.model.get("content"))},n.prototype.toggleVisible=function(){if(!this.model.get("visible")){this.$el.addClass("".concat(this.ppfx,"hidden"));return}this.$el.removeClass("".concat(this.ppfx,"hidden"))},n.prototype.attributes=function(){return this.model.get("attributes")},n.prototype.initResize=function(){var t=this.em,e=t==null?void 0:t.Editor,r=this.model.get("resizable");if(e&&r){var o=r===!0?[!0,!0,!0,!0]:r,l=o.length,f=void 0,p=void 0,h=void 0,v=!1;if(l==2){var b=o;f=b[0],h=b[0],p=b[1],v=b[1]}else if(l==4){var b=o;f=b[0],p=b[1],h=b[2],v=b[3]}var P=new e.Utils.Resizer(Dp({tc:f,cr:p,bc:h,cl:v,tl:!1,tr:!1,bl:!1,br:!1,appendTo:this.el,silentFrames:!0,avoidContainerUpdate:!0,prefix:e.getConfig().stylePrefix,onEnd:function(){t.Canvas.refresh({all:!0})},posFetcher:function(B,tt){var ut=tt.target,ct=B.style,Tt=P.getConfig(),Nt=Tt.keyWidth,Ft=Tt.keyHeight,Qt=B.getBoundingClientRect(),fe=ut=="container",Se=ct[Nt],Pe=ct[Ft],ie=Se&&!fe?parseFloat(Se):Qt.width,Ee=Pe&&!fe?parseFloat(Pe):Qt.height;return{left:0,top:0,width:ie,height:Ee}}},r&&typeof r!="boolean"?r:{}));P.blur=function(){},P.focus(this.el)}},n.prototype.render=function(){var t=this.model.buttons,e=this.$el,r=this.ppfx,o="".concat(this.className," ").concat(this.id," ").concat(r,"one-bg ").concat(r,"two-color");if(e.addClass(o),this.toggleVisible(),t.length){var l=new xm(t);e.append(l.render().el)}return e.append(this.model.get("content")),this},n}(pr);const Om=Sm;var Tm=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Em=function(a){Tm(n,a);function n(t){var e=a.call(this,{collection:t})||this;return e.listenTo(t,"add",e.addTo),e.listenTo(t,"reset",e.render),e.listenTo(t,"remove",e.onRemove),e.className=e.pfx+"panels",e}return n.prototype.onRemove=function(t){var e=t.view;e&&e.remove()},n.prototype.addTo=function(t){this.addToCollection(t)},n.prototype.addToCollection=function(t,e){var r=e||null,o=t.get("el"),l=new Om(t),f=l.render().el,p=t.get("appendTo");if(!o)if(p){var h=document.querySelector(p);h==null||h.appendChild(f)}else r?r.appendChild(f):this.$el.append(f);return l.initResize(),f},n.prototype.render=function(){var t=this,e=this.$el,r=document.createDocumentFragment();return e.empty(),this.collection.each(function(o){return t.addToCollection(o,r)}),e.append(r),e.attr("class",this.className),this},n}(pr);const Pm=Em;var km=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Am=function(a){km(n,a);function n(t){var e=a.call(this,t,"Panels",Lp)||this;e.panels=new gm(e,e.config.defaults);for(var r in Lp)r in e.config||(e.config[r]=Lp[r]);return e}return n.prototype.getPanels=function(){return this.panels},n.prototype.getPanelsEl=function(){var t;return(t=this.PanelsViewObj)===null||t===void 0?void 0:t.el},n.prototype.addPanel=function(t){return this.panels.add(t)},n.prototype.removePanel=function(t){return this.panels.remove(t)},n.prototype.getPanel=function(t){var e=this.panels.where({id:t});return e.length?e[0]:null},n.prototype.addButton=function(t,e){var r=this.getPanel(t);return r?r.buttons.add(e):null},n.prototype.removeButton=function(t,e){var r=this.getPanel(t);return r&&r.buttons.remove(e)},n.prototype.getButton=function(t,e){var r=this.getPanel(t);if(r){var o=r.buttons.where({id:e});return o.length?o[0]:null}return null},n.prototype.render=function(){var t;return(t=this.PanelsViewObj)===null||t===void 0||t.remove(),this.PanelsViewObj=new Pm(this.panels),this.PanelsViewObj.render().el},n.prototype.active=function(){this.getPanels().each(function(t){t.buttons.each(function(e){e.get("active")&&e.trigger("updateActive")})})},n.prototype.disableButtons=function(){this.getPanels().each(function(t){t.buttons.each(function(e){e.get("disable")&&e.trigger("change:disable")})})},n.prototype.destroy=function(){this.panels.reset(),this.panels.stopListening(),this.PanelsViewObj&&this.PanelsViewObj.remove()},n}(V);const Mm=Am;var Lm={stylePrefix:"cm-",optsCodeViewer:{}};const Dm=Lm;var jm=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Im=function(a,n){var t={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&n.indexOf(e)<0&&(t[e]=a[e]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(a);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(a,e[r])&&(t[e[r]]=a[e[r]]);return t},Vm=function(a){jm(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.build=function(t,e){e===void 0&&(e={});var r=e.em,o=Im(e,["em"]),l=o;if(e.cleanId&&r){var f=r.Css.getAll(),p=f.toJSON().map(function(h){var v=h.selectors,b=v&&v.length===1&&v.models[0];return b&&b.isId()&&b.get("name")}).filter(Boolean);l.attributes||(l.attributes=function(h,v){var b=v.id;return b&&b[0]==="i"&&!h.get("script")&&!h.get("attributes").id&&p.indexOf(b)<0&&delete v.id,v})}return t.toHTML(l)},n}(m.Hn);const Rm=Vm;var Nm=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Fm=function(a){Nm(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.build=function(t){var e=this,r=t.toJSON();return this.beforeEach(r),(0,R.each)(r,function(o,l){var f=r[l];if(f instanceof m.Hn)r[l]=e.build(f);else if(f instanceof m.FE){var p=f;r[l]=[],p.length&&p.forEach(function(h,v){r[l][v]=e.build(h)})}}),r},n.prototype.beforeEach=function(t){delete t.status},n}(m.Hn);const Hm=Fm;var Bm=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();function Um(a){var n,t=((n=a.toString().match(/\{([\s\S]*)\}/m))===null||n===void 0?void 0:n[1])||"";return t.replace(/^\s*\/\/.*$/gm,"").trim().length===0}var zm=function(a){Bm(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.mapModel=function(t){var e,r=this,o="",l=t.get("script-export")||t.get("script"),f=t.get("type"),p=t.get("components"),h=t.getId();if(l){var v=t.get("attributes");v=(0,R.extend)({},v,{id:h}),t.set("attributes",v,{silent:!0});var b=t.getScriptString(l),P=t.get("script-props");if(t.get("scriptUpdated")&&!P)this.mapJs[f+"-"+h]={ids:[h],code:b};else{var B=void 0,tt=this.mapJs[f];if(P&&(B=t.__getScriptProps()),tt)tt.ids.push(h),B&&(tt.props[h]=B);else{var ut={ids:[h],code:b};B&&(ut.props=(e={},e[h]=B,e)),this.mapJs[f]=ut}}}return p.forEach(function(ct){o+=r.mapModel(ct)}),o},n.prototype.build=function(t){this.mapJs={},this.mapModel(t);var e="";for(var r in this.mapJs){var o=this.mapJs[r];if(o.code)if(o.props){if(Um(o.code))continue;e+=`
          var props = `.concat(JSON.stringify(o.props),`;
          var ids = Object.keys(props).map(function(id) { return '#'+id }).join(',');
          var els = document.querySelectorAll(ids);
          for (var i = 0, len = els.length; i < len; i++) {
            var el = els[i];
            (`).concat(o.code,`.bind(el))(props[el.id]);
          }`)}else{var l="#"+o.ids.join(", #");e+=`
          var items = document.querySelectorAll('`.concat(l,`');
          for (var i = 0, len = items.length; i < len; i++) {
            (function(){
`).concat(o.code,`
}.bind(items[i]))();
          }`)}}return e},n}(m.Hn);const Wm=zm;var Gm=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),jp=function(){return jp=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},jp.apply(this,arguments)},vu;(0,dt.hasWin)()&&(vu=vr(631),vr(531),vr(629),vr(210));var Qd=function(a){Gm(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.defaults=function(){return{input:"",label:"",codeName:"",theme:"hopscotch",readOnly:!0,lineNumbers:!0,autoFormat:!0}},n.prototype.init=function(t){return(0,R.bindAll)(this,"onChange"),this.editor=vu.fromTextArea(t,jp({dragDrop:!1,lineWrapping:!0,mode:this.get("codeName")},this.attributes)),this.element=t,this.editor.on("change",this.onChange),this},n.prototype.onChange=function(){this.trigger("update",this)},n.prototype.getEditor=function(){return this.editor},n.prototype.getElement=function(){return this.element},n.prototype.setElement=function(t){return this.element=t,this},n.prototype.refresh=function(){return this.getEditor().refresh(),this},n.prototype.focus=function(){return this.getEditor().focus(),this},n.prototype.getContent=function(){var t=this.getEditor();return t&&t.getValue()},n.prototype.setContent=function(t,e){var r=this;e===void 0&&(e={});var o=this.editor;if(o){o.setValue(t);var l=this.get("autoFormat"),f=o.autoFormatRange&&(l===!0||Array.isArray(l)&&l.includes(this.get("codeName")));f&&(vu.commands.selectAll(o),o.autoFormatRange(o.getCursor(!0),o.getCursor(!1)),vu.commands.goDocStart(o)),!e.noRefresh&&setTimeout(function(){return r.refresh()})}},n}(m.Hn);const Km=Qd;Qd.prototype.CodeMirror=vu;var $m=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),qm=function(a,n){return Object.defineProperty?Object.defineProperty(a,"raw",{value:n}):a.raw=n,a},Zm=function(a){$m(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.template=function(t){var e=t.pfx,r=t.codeName,o=t.label;return wt(th||(th=qm([`
      <div class="`,'editor" id="',"",`">
        <div id="`,'title">',`</div>
        <div id="`,`code"></div>
      </div>
    `],[`
      <div class="`,'editor" id="',"",`">
        <div id="`,'title">',`</div>
        <div id="`,`code"></div>
      </div>
    `])),e,e,r,e,o,e)},n.prototype.initialize=function(t){this.config=t.config||{},this.pfx=this.config.stylePrefix},n.prototype.render=function(){var t,e,r=this,o=r.model,l=r.pfx,f=r.$el,p=o.toJSON(),h=o.get("input")||((e=(t=o).getElement)===null||e===void 0?void 0:e.call(t));return p.pfx=l,f.html(this.template(p)),f.attr("class","".concat(l,"editor-c")),f.find("#".concat(l,"code")).append(h),this},n}(m.G7);const Ym=Zm;var th,Xm=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Kc=function(){return Kc=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Kc.apply(this,arguments)},Jm="CodeMirror",Qm=function(a){Xm(n,a);function n(t){var e=a.call(this,t,"CodeManager",Dm)||this;e.EditorView=Ym;var r=e.config,o=r.pStylePrefix;return o&&(r.stylePrefix=o+r.stylePrefix),e.generators={},e.viewers={},e.defGenerators={html:new Rm,css:new $f,json:new Hm,js:new Wm},e.defViewers={CodeMirror:new Km},e.loadDefaultGenerators().loadDefaultViewers(),e}return n.prototype.addGenerator=function(t,e){return this.generators[t]=e,this},n.prototype.getGenerator=function(t){return this.generators[t]},n.prototype.getGenerators=function(){return this.generators},n.prototype.addViewer=function(t,e){return this.viewers[t]=e,this},n.prototype.getViewer=function(t){return this.viewers[t]},n.prototype.getViewers=function(){return this.viewers},n.prototype.createViewer=function(t){t===void 0&&(t={});var e=(0,R.isUndefined)(t.type)?Jm:t.type,r=this.getViewer(e)&&this.getViewer(e).clone(),o=document.createElement("div"),l=document.createElement("textarea");return o.appendChild(l),r.set(Kc(Kc({},this.config.optsCodeViewer),t)),r.init(l),r.setElement(o),r},n.prototype.updateViewer=function(t,e){t.setContent(e)},n.prototype.getCode=function(t,e,r){r===void 0&&(r={}),r.em=this.em;var o=this.getGenerator(e);return o?o.build(t,r):""},n.prototype.loadDefaultGenerators=function(){for(var t in this.defGenerators)this.addGenerator(t,this.defGenerators[t]);return this},n.prototype.loadDefaultViewers=function(){for(var t in this.defViewers)this.addViewer(t,this.defViewers[t]);return this},n.prototype.destroy=function(){},n}(V);const ty=Qm;var ey=vr(410),ry=vr.n(ey),ny={maximumStackLength:500,trackSelection:!0};const oy=ny;var iy=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ni=function(){return Ni=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Ni.apply(this,arguments)},ay=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return a.concat(o||Array.prototype.slice.call(n))},$c=function(a){return a.avoidStore||a.noUndo},eh=function(a){return Object.keys(a.changedAttributes())},sy=function(a){iy(n,a);function n(t){var e=a.call(this,t,"UndoManager",oy)||this;e.config._disable&&(e.config.maximumStackLength=0);var r=!0;return e.um=new(ry())(Ni({track:!0,register:[]},e.config)),e.um.changeUndoType("change",{condition:function(o){var l=o.get("_undo");if(l){var f=o.get("_undoexc");if((0,R.isArray)(f)&&eh(o).some(function(p){return f.indexOf(p)>=0}))return!1;if((0,R.isBoolean)(l)||(0,R.isArray)(l)&&eh(o).some(function(p){return l.indexOf(p)>=0}))return!0}return!1},on:function(o,l,f){var p=this;!this.beforeCache&&(this.beforeCache=o.previousAttributes());var h=f||l||{};if(h.noUndo&&setTimeout(function(){p.beforeCache=null}),!$c(h)){var v=o.toJSON({fromUndo:r}),b={object:o,before:this.beforeCache,after:v};return this.beforeCache=null,(0,R.isEmpty)(v)?void 0:b}}}),e.um.changeUndoType("add",{on:function(o,l,f){if(f===void 0&&(f={}),!($c(f)||!e.isRegistered(l)))return{object:l,before:void 0,after:o,options:Ni(Ni({},f),{fromUndo:r})}}}),e.um.changeUndoType("remove",{on:function(o,l,f){if(f===void 0&&(f={}),!($c(f)||!e.isRegistered(l)))return{object:l,before:o,after:void 0,options:Ni(Ni({},f),{fromUndo:r})}}}),e.um.changeUndoType("reset",{undo:function(o,l){o.reset(l,{fromUndo:r})},redo:function(o,l,f){o.reset(f,{fromUndo:r})},on:function(o,l){if(l===void 0&&(l={}),!($c(l)||!e.isRegistered(o)))return{object:o,before:l.previousModels,after:ay([],o.models,!0),options:Ni(Ni({},l),{fromUndo:r})}}}),e.um.on("undo redo",function(){t.getSelectedAll().map(function(o){return o.trigger("rerender:layer")})}),["undo","redo"].forEach(function(o){return e.um.on(o,function(){return t.trigger(o)})}),e}return n.prototype.postLoad=function(){var t=this,e=t.config,r=t.em;e.trackSelection&&r&&this.add(r.get("selected"))},n.prototype.add=function(t){return this.um.register(t),this},n.prototype.remove=function(t){return this.um.unregister(t),this},n.prototype.removeAll=function(){return this.um.unregisterAll(),this},n.prototype.start=function(){return this.um.startTracking(),this},n.prototype.stop=function(){return this.um.stopTracking(),this},n.prototype.undo=function(t){t===void 0&&(t=!0);var e=this,r=e.em,o=e.um;return!r.isEditing()&&o.undo(t),this},n.prototype.undoAll=function(){return this.um.undoAll(),this},n.prototype.redo=function(t){t===void 0&&(t=!0);var e=this,r=e.em,o=e.um;return!r.isEditing()&&o.redo(t),this},n.prototype.redoAll=function(){return this.um.redoAll(),this},n.prototype.hasUndo=function(){return!!this.um.isAvailable("undo")},n.prototype.hasRedo=function(){return!!this.um.isAvailable("redo")},n.prototype.isRegistered=function(t){return!!this.getInstance().objectRegistry.isRegistered(t)},n.prototype.getStack=function(){return this.um.stack},n.prototype.getStackGroup=function(){var t=[],e=[];return this.getStack().forEach(function(r){var o=r.get("magicFusionIndex");e.indexOf(o)<0&&(e.push(o),t.push(r))}),t},n.prototype.skip=function(t){var e=!!this.um.isTracking();e&&this.stop(),t(),e&&this.start()},n.prototype.getGroupedStack=function(){var t={},e=this.getStack(),r=function(o,l){var f=o.attributes,p=f.type,h=f.after,v=f.before,b=f.object,P=f.options,B=P===void 0?{}:P;return{index:l,type:p,after:h,before:v,object:b,options:B}};return e.forEach(function(o,l){var f=o.get("magicFusionIndex"),p=r(o,l);t[f]?t[f].push(p):t[f]=[p]}),Object.keys(t).map(function(o){var l=t[o];return{index:l[l.length-1].index,actions:l,labels:(0,R.unique)(l.reduce(function(f,p){var h,v=(h=p.options)===null||h===void 0?void 0:h.action;return v&&f.push(v),f},[]))}})},n.prototype.goToGroup=function(t){var e=this;if(t){var r=this.getPointer(),o=t.index-r;(0,R.times)(Math.abs(o),function(){e[o<0?"undo":"redo"](!1)})}},n.prototype.getPointer=function(){return this.getStack().pointer},n.prototype.clear=function(){return this.um.clear(),this},n.prototype.getInstance=function(){return this.um},n.prototype.destroy=function(){this.clear().removeAll()},n}(V);const ly=sy;var uy={stylePrefix:"rte-",adjustToolbar:!0,actions:["bold","italic","underline","strikethrough","link","wrap"],custom:!1};const cy=uy;var vl=function(){return vl=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},vl.apply(this,arguments)},qc;(function(a){a[a.ACTIVE=1]="ACTIVE",a[a.INACTIVE=0]="INACTIVE",a[a.DISABLED=-1]="DISABLED"})(qc||(qc={}));var Ip="_rte",vs={ACTIVE:1,INACTIVE:0,DISABLED:-1},Zc=function(a,n){n===void 0&&(n="A");var t=a.selection()||{},e=t.anchorNode,r=t.focusNode,o=e==null?void 0:e.parentNode,l=r==null?void 0:r.parentNode;return(o==null?void 0:o.nodeName)==n||(l==null?void 0:l.nodeName)==n},Yc="data-selectme",gu={bold:{name:"bold",icon:"<b>B</b>",attributes:{title:"Bold"},result:function(a){return a.exec("bold")}},italic:{name:"italic",icon:"<i>I</i>",attributes:{title:"Italic"},result:function(a){return a.exec("italic")}},underline:{name:"underline",icon:"<u>U</u>",attributes:{title:"Underline"},result:function(a){return a.exec("underline")}},strikethrough:{name:"strikethrough",icon:"<s>S</s>",attributes:{title:"Strike-through"},result:function(a){return a.exec("strikeThrough")}},link:{icon:`<svg viewBox="0 0 24 24">
          <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z" />
        </svg>`,name:"link",attributes:{style:"font-size:1.4rem;padding:0 4px 2px;",title:"Link"},state:function(a){return a&&a.selection()&&Zc(a)?vs.ACTIVE:vs.INACTIVE},result:function(a){Zc(a)?a.exec("unlink"):a.insertHTML('<a href="" '.concat(Yc,">").concat(a.selection(),"</a>"),{select:!0})}},wrap:{name:"wrap",icon:`<svg viewBox="0 0 24 24">
            <path fill="currentColor" d="M20.71,4.63L19.37,3.29C19,2.9 18.35,2.9 17.96,3.29L9,12.25L11.75,15L20.71,6.04C21.1,5.65 21.1,5 20.71,4.63M7,14A3,3 0 0,0 4,17C4,18.31 2.84,19 2,19C2.92,20.22 4.5,21 6,21A4,4 0 0,0 10,17A3,3 0 0,0 7,14Z" />
        </svg>`,attributes:{title:"Wrap for style"},state:function(a){return a!=null&&a.selection()&&Zc(a,"SPAN")?vs.DISABLED:vs.INACTIVE},result:function(a){!Zc(a,"SPAN")&&a.insertHTML("<span ".concat(Yc,">").concat(a.selection(),"</span>"),{select:!0})}}},fy=function(){function a(n,t,e){var r=this;if(e===void 0&&(e={}),this.em=n,this.settings=e,t[Ip])return t[Ip];t[Ip]=this,this.setEl(t),this.updateActiveActions=this.updateActiveActions.bind(this),this.__onKeydown=this.__onKeydown.bind(this),this.__onPaste=this.__onPaste.bind(this);var o=(e.actions||[]).map(function(v){var b=v;return(0,R.isString)(v)?b=vl({},gu[v]):gu[v.name]&&(b=vl(vl({},gu[v.name]),v)),b}),l=o.length?o:Object.keys(gu).map(function(v){return gu[v]});e.classes=vl({actionbar:"actionbar",button:"action",active:"active",disabled:"disabled",inactive:"inactive"},e.classes);var f=e.classes,p=e.actionbar;if(this.actionbar=p,this.classes=f,this.actions=l,!p){if(!this.isCustom(e.module)){var h=e.actionbarContainer;p=document.createElement("div"),p.className=f.actionbar,h==null||h.appendChild(p),this.actionbar=p}l.forEach(function(v){return r.addAction(v)})}return e.styleWithCSS&&this.exec("styleWithCSS"),this}return a.prototype.isCustom=function(n){var t=n||this.em.RichTextEditor;return!!(t!=null&&t.config.custom||t!=null&&t.customRte)},a.prototype.destroy=function(){},a.prototype.setEl=function(n){this.el=n,this.doc=n.ownerDocument},a.prototype.updateActiveActions=function(){var n=this,t=this.getActions();t.forEach(function(e){var r=e.update,o=e.btn,l=n.classes,f=l.active,p=l.inactive,h=l.disabled,v=e.state,b=e.name,P=n.doc,B=qc.INACTIVE;if(o&&(o.className=o.className.replace(f,"").trim(),o.className=o.className.replace(p,"").trim(),o.className=o.className.replace(h,"").trim()),v){var tt=v(n,P);if(B=tt,o)switch(tt){case vs.ACTIVE:o.className+=" ".concat(f);break;case vs.INACTIVE:o.className+=" ".concat(p);break;case vs.DISABLED:o.className+=" ".concat(h);break}}else P.queryCommandSupported(b)&&P.queryCommandState(b)&&(o&&(o.className+=" ".concat(f)),B=qc.ACTIVE);e.currentState=B,r==null||r(n,e)}),t.length&&this.em.RichTextEditor.__dbdTrgCustom()},a.prototype.enable=function(n){return this.enabled?this:this.__toggleEffects(!0,n)},a.prototype.disable=function(){return this.__toggleEffects(!1)},a.prototype.__toggleEffects=function(n,t){n===void 0&&(n=!1),t===void 0&&(t={});var e=n?te.on:te.S1,r=this,o=r.el,l=r.doc,f=this.actionbarEl();if(f&&(f.style.display=n?"":"none"),o.contentEditable="".concat(!!n),e(o,"mouseup keyup",this.updateActiveActions),e(l,"keydown",this.__onKeydown),e(l,"paste",this.__onPaste),this.enabled=n,n){var p=t.event;if(this.syncActions(),this.updateActiveActions(),p){var h=null;if(l.caretRangeFromPoint){var v=(0,te.VB)(p);h=l.caretRangeFromPoint(v.clientX,v.clientY)}else p.rangeParent&&(h=l.createRange(),h.setStart(p.rangeParent,p.rangeOffset));var b=l.getSelection();b==null||b.removeAllRanges(),h&&(b==null||b.addRange(h))}o.focus()}return this},a.prototype.__onKeydown=function(n){var t=this.em,e=t.RichTextEditor.getConfig().onKeydown;if(e)return e({ev:n,rte:this,editor:t.getEditor()});var r=this.doc,o=["insertOrderedList","insertUnorderedList"];n.key==="Enter"&&!o.some(function(l){return r.queryCommandState(l)})&&(r.execCommand("insertLineBreak"),n.preventDefault())},a.prototype.__onPaste=function(n){var t=this.em,e=t.RichTextEditor.getConfig().onPaste;if(e)return e({ev:n,rte:this,editor:t.getEditor()});var r=n.clipboardData,o=r.getData("text"),l=r.getData("text/html");if(o&&!l){n.preventDefault();var f=o.replace(/(?:\r\n|\r|\n)/g,"<br/>");this.doc.execCommand("insertHTML",!1,f)}},a.prototype.syncActions=function(){var n=this;this.getActions().forEach(function(t){if(n.actionbar&&(!t.state||t.state&&t.state(n,n.doc)>=0)){var e=t.event||"click",r=t.btn;r&&(r["on".concat(e)]=function(){t.result(n,t),n.updateActiveActions()})}})},a.prototype.addAction=function(n,t){t===void 0&&(t={});var e=t.sync,r=this.actionbarEl();if(r){var o=n.icon,l=n.attributes,f=l===void 0?{}:l,p=document.createElement("span");p.className=this.classes.button,n.btn=p;for(var h in f)p.setAttribute(h,f[h]);typeof o=="string"?p.innerHTML=o:p.appendChild(o),r.appendChild(p)}e&&(this.actions.push(n),this.syncActions())},a.prototype.getActions=function(){return this.actions},a.prototype.selection=function(){return this.doc.getSelection()},a.prototype.exec=function(n,t){this.doc.execCommand(n,!1,t)},a.prototype.actionbarEl=function(){return this.actionbar},a.prototype.insertHTML=function(n,t){var e=t===void 0?{}:t,r=e.select,o=this,l=o.em,f=o.doc,p=o.el,h=f.getSelection();if(h&&h.rangeCount){var v=(0,dt.getComponentModel)(p)||l.getSelected(),b=f.createElement("div"),P=h.getRangeAt(0);P.deleteContents(),(0,R.isString)(n)?b.innerHTML=n:n&&b.appendChild(n),Array.prototype.slice.call(b.childNodes).forEach(function(B){P.insertNode(B)}),h.removeAllRanges(),h.addRange(P),p.focus(),r&&v&&(v.once("rte:disable",function(){var B=v.find("[".concat(Yc,"]"))[0];B&&(l.setSelected(B),B.removeAttributes(Yc))}),v.trigger("disable"))}},a}();const py=fy;var dy=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),rh=function(a,n,t,e){function r(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function f(v){try{h(e.next(v))}catch(b){l(b)}}function p(v){try{h(e.throw(v))}catch(b){l(b)}}function h(v){v.done?o(v.value):r(v.value).then(f,p)}h((e=e.apply(a,n||[])).next())})},nh=function(a,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,r,o,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(h){return function(v){return p([h,v])}}function p(h){if(e)throw new TypeError("Generator is already executing.");for(;l&&(l=0,h[0]&&(t=0)),t;)try{if(e=1,r&&(o=h[0]&2?r.return:h[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,h[1])).done)return o;switch(r=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,r=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){t.label=h[1];break}if(h[0]===6&&t.label<o[1]){t.label=o[1],o=h;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(h);break}o[2]&&t.ops.pop(),t.trys.pop();continue}h=n.call(a,t)}catch(v){h=[6,v],r=0}finally{e=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},hy=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return a.concat(o||Array.prototype.slice.call(n))},Vp="".concat(ke.refresh," frame:scroll ").concat(De.g.update),vy="rte:enable",gy="rte:disable",my="rte:custom",yy={enable:vy,disable:gy,custom:my},wy=function(a){dy(n,a);function n(t){var e=a.call(this,t,"RichTextEditor",cy)||this;e.events=yy;var r=e.config,o=r.pStylePrefix;o&&(r.stylePrefix=o+r.stylePrefix),e.pfx=r.stylePrefix,e.actions=r.actions||[];var l=new m.Hn;return e.model=l,l.on("change:currentView",e.__trgCustom,e),e.__dbdTrgCustom=(0,R.debounce)(function(){return e.__trgCustom()},0),e}return n.prototype.onLoad=function(){if((0,dt.hasWin)()){var t=this.config,e=t.pStylePrefix,r=t.custom,o=(0,te.ut)("div",{class:(0,te.cx)("".concat(e,"rte-toolbar"),!r&&"".concat(e,"one-bg ").concat(e,"rte-toolbar-ui"))});this.toolbar=o,this.initRte((0,te.ut)("div")),(0,te.on)(o,"mousedown",function(l){return l.stopPropagation()})}},n.prototype.__trgCustom=function(){var t=this,e=t.model,r=t.em,o=t.events;r.trigger(o.custom,{enabled:!!e.get("currentView"),container:this.getToolbarEl(),actions:this.getAll()})},n.prototype.destroy=function(){var t,e,r;(t=this.globalRte)===null||t===void 0||t.destroy(),(r=(e=this.customRte)===null||e===void 0?void 0:e.destroy)===null||r===void 0||r.call(e),this.model.stopListening().clear({silent:!0}),this.__dbdTrgCustom.cancel(),(0,te.L_)(this.toolbar)},n.prototype.postRender=function(t){var e=t.model.get("Canvas");this.toolbar.style.pointerEvents="all",this.hideToolbar(),e.getToolsEl().appendChild(this.toolbar)},n.prototype.initRte=function(t){var e=this.globalRte,r=this,o=r.em,l=r.pfx,f=r.actionbar,p=r.config,h=this.actions||hy([],p.actions,!0),v={actionbar:"".concat(l,"actionbar"),button:"".concat(l,"action"),active:"".concat(l,"active"),inactive:"".concat(l,"inactive"),disabled:"".concat(l,"disabled")};return e?(e.em=o,e.setEl(t)):(e=new py(o,t,{classes:v,actions:h,actionbar:f,actionbarContainer:this.toolbar,module:this}),this.globalRte=e),e.actionbar&&(this.actionbar=e.actionbar),e.actions&&(this.actions=e.actions),e},n.prototype.add=function(t,e){var r;e===void 0&&(e={}),e.name=t,(r=this.globalRte)===null||r===void 0||r.addAction(e,{sync:!0})},n.prototype.get=function(t){var e,r;return(e=this.globalRte)===null||e===void 0||e.getActions().forEach(function(o){o.name==t&&(r=o)}),r},n.prototype.getAll=function(){var t;return((t=this.globalRte)===null||t===void 0?void 0:t.getActions())||[]},n.prototype.remove=function(t){var e,r=this.getAll(),o=this.get(t);if(o){var l=o.btn,f=r.indexOf(o);(e=l==null?void 0:l.parentNode)===null||e===void 0||e.removeChild(l),r.splice(f,1)}return o},n.prototype.run=function(t){var e=this.globalRte,r=(0,R.isString)(t)?this.get(t):t;e&&r&&(r.result(e,r),e.updateActiveActions())},n.prototype.getToolbarEl=function(){return this.toolbar},n.prototype.updatePosition=function(){var t=this,e=t.em,r=t.toolbar,o="px",l=e.Canvas,f=r.style,p=l.getTargetToElementFixed(this.lastEl,r,{event:"rteToolbarPosUpdate",left:0});["top","left","bottom","right"].forEach(function(h){var v=p[h];(0,dt.isDef)(v)&&(f[h]=(0,R.isString)(v)?v:(v||0)+o)})},n.prototype.enable=function(t,e,r){return r===void 0&&(r={}),rh(this,void 0,void 0,function(){var o,l,f,p,h;return nh(this,function(v){switch(v.label){case 0:return this.lastEl=t.el,o=this,l=o.customRte,f=o.em,p=t.getChildrenContainer(),this.toolbar.style.display="",[4,l?l.enable(p,e):this.initRte(p).enable(r)];case 1:return h=v.sent(),f&&(setTimeout(this.updatePosition.bind(this),0),f.off(Vp,this.updatePosition,this),f.on(Vp,this.updatePosition,this),f.trigger("rte:enable",t,h)),this.model.set({currentView:t}),[2,h]}})})},n.prototype.getContent=function(t,e){return rh(this,void 0,void 0,function(){var r;return nh(this,function(o){switch(o.label){case 0:return r=this.customRte,r&&e&&(0,R.isFunction)(r.getContent)?[4,r.getContent(t.el,e)]:[3,2];case 1:return[2,o.sent()];case 2:return[2,t.getChildrenContainer().innerHTML]}})})},n.prototype.hideToolbar=function(){var t=this.toolbar.style,e="-1000px";t.top=e,t.left=e,t.display="none"},n.prototype.disable=function(t,e,r){r===void 0&&(r={});var o=this.em,l=this.customRte,f=t.getChildrenContainer();l?l.disable(f,e):e&&e.disable(),this.hideToolbar(),o&&(o.off(Vp,this.updatePosition,this),!r.fromMove&&o.trigger("rte:disable",t,e)),this.model.unset("currentView")},n}(V);const by=wy,_y={sectors:[{name:"General",open:!1,properties:["display","float","position","top","right","left","bottom"]},{name:"Flex",open:!1,properties:["flex-direction","flex-wrap","justify-content","align-items","align-content","order","flex-basis","flex-grow","flex-shrink","align-self"]},{name:"Dimension",open:!1,properties:["width","height","max-width","min-height","margin","padding"]},{name:"Typography",open:!1,properties:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","text-shadow"]},{name:"Decorations",open:!1,properties:["background-color","border-radius","border","box-shadow","background"]},{name:"Extra",open:!1,properties:["opacity","transition","transform"]}],appendTo:"",stylePrefix:"sm-",custom:!1,hideNotStylable:!0,highlightChanged:!0,highlightComputed:!0,showComputed:!0,clearProperties:!0,avoidComputed:["width","height"]};var xy=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),zn=function(){return zn=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},zn.apply(this,arguments)},Cy=function(a,n){var t={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&n.indexOf(e)<0&&(t[e]=a[e]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(a);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(a,e[r])&&(t[e[r]]=a[e[r]]);return t},oh=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return a.concat(o||Array.prototype.slice.call(n))},Rp=function(a){xy(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.getDefaults=function(){return(0,R.result)(this.prototype,"defaults")},n.prototype.defaults=function(){return{name:"",property:"",type:"",defaults:"",info:"",value:"",icon:"",functionName:"",status:"",visible:!0,fixedValues:["initial","inherit"],full:!1,important:!1,toRequire:!1,requires:void 0,requiresParent:null,parentTarget:null}},n.prototype.initialize=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),this.em=e.em;var r=this.getId()||"",o=this.get("name")||this.get("label")||"";!this.get("property")&&this.set("property",(o||r).replace(/ /g,"-"));var l=this.get("property");!this.get("id")&&this.set("id",l),!o&&this.set("name",(0,dt.capitalize)(l).replace(/-/g," ")),this.on("change",this.__upTargets),n.callInit(this,t,e)},n.prototype.__getParentProp=function(){var t,e;return(e=(t=this.collection)===null||t===void 0?void 0:t.opts)===null||e===void 0?void 0:e.parentProp},n.prototype.__upTargets=function(t,e){var r,o=this;e===void 0&&(e={});var l=this.em,f=l.Styles,p=this.getName(),h=e.__clear,v=h?"":this.__getFullValue(e),b=this.__getParentProp(),P=this.changedAttributes(),B=(0,R.keys)(P).reduce(function(Ft,Qt){return Ft[Qt]=o.previous(Qt),Ft},{}),tt=oh(oh([],(0,R.keys)(this.__getClearProps()),!0),["__p"],!1),ut=(0,R.keys)(P),ct=!e.__up&&!b&&(h||tt.some(function(Ft){return ut.indexOf(Ft)>=0})),Tt=this.get("onChange"),Nt={property:this,from:B,to:P,value:v,opts:e};f.__trgEv(f.events.propertyUpdate,Nt),Tt&&Tt(Nt),ct&&this.__upTargetsStyle((r={},r[p]=v,r),e)},n.prototype.__upTargetsStyle=function(t,e){var r,o=(r=this.em)===null||r===void 0?void 0:r.get("StyleManager");o==null||o.addStyleTargets(zn(zn({},t),{__p:!!e.avoidStore}),e)},n.prototype._up=function(t,e){e===void 0&&(e={}),e.noTarget&&(e.__up=!0);var r=e.partial,o=Cy(e,["partial"]);return t.__p=!!(o.avoidStore||r),this.set(t,zn(zn({},o),{avoidStore:t.__p}))},n.prototype.up=function(t,e){e===void 0&&(e={}),this.set(t,zn(zn({},e),{__up:!0}))},n.prototype.init=function(){},n.prototype.getId=function(){return this.get("id")},n.prototype.getType=function(){return this.get("type")},n.prototype.getName=function(){return this.get("property")},n.prototype.getLabel=function(t){var e;t===void 0&&(t={});var r=t.locale,o=r===void 0?!0:r,l=this.getId(),f=this.get("name")||this.get("label");return o&&((e=this.em)===null||e===void 0?void 0:e.t("styleManager.properties.".concat(l)))||f},n.prototype.getValue=function(t){t===void 0&&(t={});var e=t.noDefault,r=this.get("value");return!this.hasValue()&&!e?this.getDefaultValue():r},n.prototype.hasValue=function(t){t===void 0&&(t={});var e=t.noParent,r=e&&this.getParentTarget(),o=this.get("value");return!(0,R.isUndefined)(o)&&o!==""&&!r},n.prototype.hasValueParent=function(){return this.hasValue()&&!this.hasValue({noParent:!0})},n.prototype.getStyle=function(t){var e;t===void 0&&(t={});var r=this.getName(),o=t.camelCase?(0,dt.camelCase)(r):r;return e={},e[o]=this.__getFullValue(t),e},n.prototype.getDefaultValue=function(){var t=this.get("default");return"".concat((0,R.isUndefined)(t)?this.get("defaults"):t)},n.prototype.upValue=function(t,e){e===void 0&&(e={});var r=t===null||t===""?this.__getClearProps():this.__parseValue(t,e);return this._up(r,e)},n.prototype.isVisible=function(){return!!this.get("visible")},n.prototype.clear=function(t){return t===void 0&&(t={}),this._up(this.__getClearProps(),zn(zn({},t),{__clear:!0})),this},n.prototype.canClear=function(){var t=this.getParent();return t?t.__canClearProp(this):this.hasValue({noParent:!0})},n.prototype.getParent=function(){return this.__getParentProp()},n.prototype.isFull=function(){return!!this.get("full")},n.prototype.__parseValue=function(t,e){return this.parseValue(t,e)},n.prototype.__getClearProps=function(){return{value:""}},n.prototype.setValue=function(t,e,r){e===void 0&&(e=!0),r===void 0&&(r={});var o=this.parseValue(t),l=!e;!l&&this.set({value:void 0},{avoidStore:l,silent:!0}),this.set(o,zn({avoidStore:l},r))},n.prototype.setValueFromInput=function(t,e,r){r===void 0&&(r={}),this.setValue(t,e,zn(zn({},r),{fromInput:1}))},n.prototype.parseValue=function(t,e){e===void 0&&(e={});var r={value:t},o="!important",l=this.get("functionName")||"";if((0,R.isString)(t)&&t.indexOf(o)!==-1&&(r.value=t.replace(o,"").trim(),r.important=!0),!l&&!e.complete)return r;var f=[],p="".concat(r.value).trim(),h=p.indexOf("(")+1,v=l||p.substring(0,h-1);if(v&&(r.functionName=v),!l||p.indexOf("".concat(l,"("))===0){var b=p.lastIndexOf(")");f.push(h),b>=0&&f.push(b),r.value=String.prototype.substring.apply(p,f)}if(e.numeric){var P=parseFloat(r.value);r.unit=r.value.replace(P,""),r.value=P}return r},n.prototype.__getFullValue=function(t){var e=t===void 0?{}:t,r=e.withDefault;return!this.hasValue()&&r?this.getDefaultValue():this.getFullValue()},n.prototype.getFullValue=function(t,e){e===void 0&&(e={});var r=this.get("functionName"),o=this.getDefaultValue(),l=(0,R.isUndefined)(t)?this.get("value"):t,f=!(0,R.isUndefined)(l)&&l!=="";if(l&&o&&l===o)return o;if(r&&f){var p=r==="url"?"'".concat(l.replace(/'|"/g,""),"'"):l;l="".concat(r,"(").concat(p,")")}return f&&this.get("important")&&!e.skipImportant&&(l="".concat(l," !important")),l||""},n.prototype.__setParentTarget=function(t){this.up({parentTarget:t})},n.prototype.getParentTarget=function(){return this.get("parentTarget")||null},n.prototype.__parseFn=function(t){t===void 0&&(t="");var e=t.indexOf("(")+1,r=t.lastIndexOf(")");return{name:t.substring(0,e-1).trim(),value:String.prototype.substring.apply(t,[e,r>=0?r:void 0]).trim()}},n.prototype.__checkVisibility=function(t){var e=t.target,r=t.component,o=t.sectors,l=r||e;if(!l)return!1;var f=this.getId(),p=this.getName(),h=this.get("toRequire"),v=this.get("requires"),b=this.get("requiresParent"),P=l.get("unstylable"),B=l.get("stylable-require"),tt=l.get("stylable");if((0,R.isArray)(tt)&&(tt=tt.indexOf(p)>=0),(0,R.isArray)(P)&&(tt=P.indexOf(p)<0),h&&(tt=!e||B&&(B.indexOf(f)>=0||B.indexOf(p)>=0)),o&&v){var ut=(0,R.keys)(v);o.forEach(function(Ft){Ft.getProperties().forEach(function(Qt){if((0,R.includes)(ut,Qt.id)){var fe=v[Qt.id];tt=tt&&(0,R.includes)(fe,Qt.get("value"))}})})}if(b){var ct=r&&r.parent(),Tt=ct&&ct.getEl();if(Tt){var Nt=(0,dt.hasWin)()?window.getComputedStyle(Tt):{};(0,R.each)(b,function(Ft,Qt){tt=tt&&Nt[Qt]&&(0,R.includes)(Ft,Nt[Qt])})}else tt=!1}return!!tt},n}(m.Hn);const Pr=Rp;Rp.callParentInit=function(a,n,t,e){e===void 0&&(e={}),a.prototype.initialize.apply(n,[t,zn(zn({},e),{skipInit:1})])},Rp.callInit=function(a,n,t){t===void 0&&(t={}),!t.skipInit&&a.init(n,t)};var Sy=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Xc=function(){return Xc=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Xc.apply(this,arguments)},Oy=function(a){Sy(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.defaults=function(){return{values:{}}},n.prototype.initialize=function(){var t=this.collection;this.prop=t==null?void 0:t.prop},n.prototype.getId=function(){return this.cid},n.prototype.getIndex=function(){var t=this.collection;return t?t.indexOf(this):-1},n.prototype.getValues=function(t){t===void 0&&(t={});var e=this.get("values");return t.camelCase?Object.keys(e).reduce(function(r,o){return r[(0,dt.camelCase)(o)]=e[o],r},{}):e},n.prototype.getLabel=function(){var t;return(t=this.prop)===null||t===void 0?void 0:t.getLayerLabel(this)},n.prototype.isSelected=function(){var t;return((t=this.prop)===null||t===void 0?void 0:t.getSelectedLayer())===this},n.prototype.select=function(){var t;return(t=this.prop)===null||t===void 0?void 0:t.selectLayer(this)},n.prototype.remove=function(){var t;return(t=this.prop)===null||t===void 0?void 0:t.removeLayer(this)},n.prototype.move=function(t){var e;return(e=this.prop)===null||e===void 0?void 0:e.moveLayer(this,t)},n.prototype.getStylePreview=function(t){var e;return t===void 0&&(t={}),(e=this.prop)===null||e===void 0?void 0:e.getStylePreview(this,t)},n.prototype.hasPreview=function(){var t;return!!(!((t=this.prop)===null||t===void 0)&&t.get("preview"))},n.prototype.upValues=function(t){return t===void 0&&(t={}),this.set("values",Xc(Xc({},this.getValues()),t))},n}(m.Hn);const Ty=Oy;var Ey=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ih=function(a){Ey(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.initialize=function(t,e){e===void 0&&(e={}),this.prop=e.prop},n}(m.FE);const Py=ih;ih.prototype.model=Ty;var ky=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),gl=function(){return gl=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},gl.apply(this,arguments)},ah=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return a.concat(o||Array.prototype.slice.call(n))},sh=function(a){return a==="integer"||a==="number"},Ay=function(a){ky(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.defaults=function(){return gl(gl({},Pr.getDefaults()),{detached:!1,properties:[],separator:" ",join:null,fromStyle:null,toStyle:null,full:!0})},n.prototype.initialize=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Pr.callParentInit(Pr,this,t,e);var r=this.em,o=new Bp(this.get("properties")||[],{em:r,parentProp:this});this.set("properties",o,{silent:!0}),this.listenTo(o,"change",this.__upProperties),Pr.callInit(this,t,e)},Object.defineProperty(n.prototype,"properties",{get:function(){return this.get("properties")||[]},enumerable:!1,configurable:!0}),n.prototype.getProperties=function(){return ah([],this.get("properties").models,!0)},n.prototype.getProperty=function(t){return this.properties.filter(function(e){return e.getId()===t||e.getName()===t})[0]},n.prototype.getPropertyAt=function(t){return this.get("properties").at(t)},n.prototype.isDetached=function(){return!!this.get("detached")},n.prototype.getValues=function(t){var e=t===void 0?{}:t,r=e.byName;return this.getProperties().reduce(function(o,l){var f=r?l.getName():l.getId();return o[f]="".concat(l.__getFullValue()),o},{})},n.prototype.getSeparator=function(){return this.getSplitSeparator()},n.prototype.getJoin=function(){return this.__getJoin()},n.prototype.getStyleFromProps=function(t){var e;t===void 0&&(t={});var r=this.getName(),o=this.__getJoin(),l=this.get("toStyle"),f=this.getValues(),p={};if(l)p=l(f,{join:o,name:r,property:this});else if(f=this.getValues({byName:!0}),this.isDetached())p=f;else{var h=this.getProperties().map(function(v){return v.__getFullValue({withDefault:1})}).filter(Boolean).join(o);p=(e={},e[r]=h,e)}return this.isDetached()?p[r]="":(p[r]=p[r]||"",p=gl(gl({},p),this.getProperties().reduce(function(v,b){return v[b.getName()]="",v},{}))),t.camelCase?Object.keys(p).reduce(function(v,b){return v[(0,dt.camelCase)(b)]=p[b],v},{}):p},n.prototype.getSplitSeparator=function(){return new RegExp("".concat(this.get("separator"),"(?![^\\(]*\\))"))},n.prototype.__upProperties=function(t,e){if(e===void 0&&(e={}),!(e.__up||e.__clearIn)){var r=this.__getParentProp();if(r)return r.__upProperties(this,e);this.__upTargetsStyleProps(e,t)}},n.prototype.__upTargetsStyleProps=function(t,e){var r;t===void 0&&(t={});var o=this.getStyleFromProps();if(this.isDetached()&&e){var l=e.getName();o=(r={},r[l]=o[l],r)}this.__upTargetsStyle(o,t)},n.prototype._up=function(t,e){return e===void 0&&(e={}),this.__setProperties(this.__getSplitValue(t.value),e),Pr.prototype._up.call(this,t,e),this},n.prototype.getStyle=function(t){return this.getStyleFromProps(t)},n.prototype.__getFullValue=function(t){if(t===void 0&&(t={}),this.isDetached()||t.__clear)return"";var e=this.getStyleFromProps()[this.getName()]||"";return qn(e)},n.prototype.__getJoin=function(){var t=this.get("join");return(0,R.isString)(t)?t:this.get("separator")},n.prototype.__styleHasProps=function(t){t===void 0&&(t={});var e=this.getName(),r=this.getProperties(),o=r.map(function(f){return f.getName()}),l=ah([e],o,!0);return l.some(function(f){return!(0,R.isUndefined)(t[f])&&t[f]!==""})},n.prototype.__splitValue=function(t,e){return qn(t).split(e).map(function(r){return r.trim()}).filter(Boolean)},n.prototype.__splitStyleName=function(t,e,r){return this.__splitValue(t[e]||"",r)},n.prototype.__getSplitValue=function(t,e){t===void 0&&(t="");var r=e===void 0?{}:e,o=r.byName,l=this.getProperties(),f=l.length===4&&l.every(function(v){return sh(v.getType())}),p=this.__splitValue(t,this.getSplitSeparator()),h={};return l.forEach(function(v,b){var P=p[b],B=(0,R.isUndefined)(P)?"":P;if(f){var tt=p.length;B=p[b]||p[b%tt+(tt!=1&&tt%2?1:0)]||B}var ut=o?v.getName():v.getId();h[ut]=B||""}),h},n.prototype.__getPropsFromStyle=function(t,e){if(t===void 0&&(t={}),e===void 0&&(e={}),!this.__styleHasProps(t))return null;var r=e.byName,o=this.getName(),l=this.getProperties(),f=this.getSplitSeparator(),p=this.get("fromStyle"),h=p?p(t,{property:this,name:o,separator:f}):{};return p||(h=this.__getSplitValue(t[o]||"",{byName:r}),l.forEach(function(v){var b=t[v.getName()],P=r?v.getName():v.getId();!(0,R.isUndefined)(b)&&b!==""&&(h[P]=b)})),h},n.prototype.__setProperties=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),this.getProperties().forEach(function(o){var l=t[o.getId()];o.__getFullValue()!==l&&o.upValue(l,e)});var r=(0,R.keys)(t).map(function(o){return t[o]}).join(" ");this.set("value",r,{silent:!0})},n.prototype.clear=function(){var t=this;return this.getProperties().map(function(e){return e.clear({__clearIn:!t.isDetached()})}),Pr.prototype.clear.call(this),this},n.prototype.hasValue=function(t){return this.getProperties().some(function(e){return e.hasValue(t)})},n.prototype.getFullValue=function(){return this.__getFullValue()},n.prototype.__canClearProp=function(t){return this.isDetached()&&t.hasValue({noParent:!0})},n}(Pr);const ml=Ay;var My=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Jn=function(){return Jn=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Jn.apply(this,arguments)},Ly=function(a,n){var t={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&n.indexOf(e)<0&&(t[e]=a[e]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(a);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(a,e[r])&&(t[e[r]]=a[e[r]]);return t},Dy=/,(?![^\(]*\))/,jy=/\s(?![^(]*\))/,Iy=function(a){My(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.defaults=function(){return Jn(Jn({},ml.getDefaults()),{layers:[],emptyValue:"unset",layerSeparator:", ",layerJoin:"",prepend:0,preview:!1,layerLabel:null,selectedLayer:null})},n.prototype.initialize=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),ml.callParentInit(ml,this,t,e);var r=this.get("layers"),o=new Py(r,{prop:this});o.property=this,o.properties=this.get("properties"),this.set("layers",o,{silent:!0}),this.on("change:selectedLayer",this.__upSelected),this.listenTo(o,"add remove",this.__upLayers),ml.callInit(this,t,e)},Object.defineProperty(n.prototype,"layers",{get:function(){return this.get("layers")},enumerable:!1,configurable:!0}),n.prototype.getLayers=function(){return this.layers.models},n.prototype.hasLayers=function(){return this.getLayers().length>0},n.prototype.getLayer=function(t){return t===void 0&&(t=0),this.layers.at(t)||void 0},n.prototype.getSelectedLayer=function(){var t=this.get("selectedLayer");return t&&t.getIndex()>=0?t:void 0},n.prototype.selectLayer=function(t){return this.set("selectedLayer",t,{__select:!0})},n.prototype.selectLayerAt=function(t){t===void 0&&(t=0);var e=this.getLayer(t);return e&&this.selectLayer(e)},n.prototype.moveLayer=function(t,e){e===void 0&&(e=0);var r=this.layers,o=t?t.getIndex():-1;o>=0&&(0,R.isNumber)(e)&&e>=0&&e<r.length&&o!==e&&(this.removeLayer(t),r.add(t,{at:e}))},n.prototype.addLayer=function(t,e){t===void 0&&(t={}),e===void 0&&(e={});var r={};this.getProperties().forEach(function(l){var f=l.getId(),p=t[f];r[f]=(0,R.isUndefined)(p)?l.getDefaultValue():p});var o=this.layers.push({values:r},e);return o},n.prototype.removeLayer=function(t){return this.layers.remove(t)},n.prototype.removeLayerAt=function(t){t===void 0&&(t=0);var e=this.getLayer(t);return e?this.removeLayer(e):null},n.prototype.getLayerLabel=function(t){var e="";if(t){var r=this.get("layerLabel"),o=t.getValues(),l=t.getIndex();if(r)e=r(t,{index:l,values:o,property:this});else{var f=[];this.getProperties().map(function(p){f.push(o[p.getId()])}),e=f.filter(Boolean).join(" ")}}return e},n.prototype.getStyleFromLayer=function(t,e){var r;e===void 0&&(e={});var o=this.__getJoin(),l=this.__getJoinLayers(),f=this.get("toStyle"),p=this.getName(),h=t.getValues(),v;if(f)v=f(h,{join:o,joinLayers:l,name:p,layer:t,property:this});else{var b=this.getProperties().map(function(P){var B=P.getName(),tt=h[P.getId()],ut=(0,R.isUndefined)(tt)?P.getDefaultValue():tt;if(e.number&&sh(P.getType())){var ct=P.parseValue(tt,e.number);ut="".concat(ct.value).concat(ct.unit)}return{name:B,value:ut}});v=this.isDetached()?b.reduce(function(P,B){return P[B.name]=B.value,P},{}):(r={},r[this.getName()]=b.map(function(P){return P.value}).join(o),r)}return e.camelCase?Object.keys(v).reduce(function(P,B){return P[(0,dt.camelCase)(B)]=v[B],P},{}):v},n.prototype.getStylePreview=function(t,e){e===void 0&&(e={});var r={},o=this.get("preview");return o&&(r=this.getStyleFromLayer(t,e)),r},n.prototype.getLayerSeparator=function(){var t=this.get("layerSeparator");return(0,R.isString)(t)?new RegExp("".concat(t,"(?![^\\(]*\\))")):t},n.prototype.hasEmptyValue=function(){return!this.hasLayers()&&!!this.attributes.isEmptyValue},n.prototype.__upProperties=function(t,e){var r;e===void 0&&(e={});var o=this.getSelectedLayer();o&&(o.upValues((r={},r[t.getId()]=t.__getFullValue(),r)),!e.__up&&this.__upTargetsStyleProps(e))},n.prototype.__upLayers=function(t,e,r){this.__upTargetsStyleProps(r||e)},n.prototype.__upTargets=function(t,e){if(e===void 0&&(e={}),!e.__select)return Pr.prototype.__upTargets.call(this,t,e)},n.prototype.__upTargetsStyleProps=function(t){t===void 0&&(t={}),this.__upTargetsStyle(this.getStyleFromLayers(t),t)},n.prototype.__upTargetsStyle=function(t,e){return Pr.prototype.__upTargetsStyle.call(this,t,e)},n.prototype.__upSelected=function(t,e){var r=t===void 0?{}:t,o=r.noEvent;e===void 0&&(e={});var l=this.em.Styles,f=this.getSelectedLayer(),p=f==null?void 0:f.getValues();p&&this.getProperties().forEach(function(h){var v,b=(v=p[h.getId()])!==null&&v!==void 0?v:"";h.__getFullValue()!==b&&h.upValue(b,Jn(Jn({},e),{__up:!0}))}),!o&&l.__trgEv(l.events.layerSelect,{property:this})},n.prototype._up=function(t,e){e===void 0&&(e={});var r=t.__layers,o=r===void 0?[]:r,l=Ly(t,["__layers"]);return!this.isDetached()&&this.__setLayers(o),this.__upSelected({noEvent:!0},e),Pr.prototype._up.call(this,l,e),this},n.prototype.__setLayers=function(t,e){t===void 0&&(t=[]),e===void 0&&(e={});var r=this.layers,o=t.map(function(l){return{values:l}});r.length===o.length?o.map(function(l,f){var p;return(p=r.at(f))===null||p===void 0?void 0:p.upValues(l.values)}):r.reset(o),this.set({isEmptyValue:!!e.isEmptyValue}),this.__upSelected({noEvent:!0})},n.prototype.__parseValue=function(t){var e=this,r=this.parseValue(t);return r.__layers=t.split(Dy).map(function(o){return o.trim()}).map(function(o){return e.__parseLayer(o)}).filter(Boolean),r},n.prototype.__parseLayer=function(t){var e=this.get("parseLayer"),r=t.split(jy),o=this.getProperties();return e?e({value:t,values:r}):o.reduce(function(l,f,p){var h=r[p];return l[f.getId()]=(0,R.isUndefined)(h)?f.getDefaultValue():h,l},{})},n.prototype.__getLayersFromStyle=function(t){var e=this;if(t===void 0&&(t={}),!this.__styleHasProps(t))return null;if(this.isEmptyValueStyle(t))return[];var r=this.getName(),o=this.getProperties(),l=this.getLayerSeparator(),f=this.attributes.fromStyle,p=f?f(t,{property:this,name:r,separatorLayers:l}):[];if(!f){var h=this.__splitStyleName(t,r,l).map(function(v){return v.split(e.getSplitSeparator())}).map(function(v){var b={};return o.forEach(function(P,B){var tt=v[B];b[P.getId()]=(0,R.isUndefined)(tt)?P.getDefaultValue():tt}),b});o.forEach(function(v){var b=v.getId();e.__splitStyleName(t,v.getName(),l).map(function(P){var B;return B={},B[b]=P||v.getDefaultValue(),B}).forEach(function(P,B){h[B]=h[B]?Jn(Jn({},h[B]),P):P})}),p=h}return(0,R.isArray)(p)?p:[p]},n.prototype.getStyle=function(t){return t===void 0&&(t={}),this.getStyleFromLayers(t)},n.prototype.getStyleFromLayers=function(t){var e=this;t===void 0&&(t={});var r={},o=this.getName(),l=this.getLayers(),f=this.getProperties(),p=l.map(function(v){return e.getStyleFromLayer(v,t)});if(p.forEach(function(v){(0,R.keys)(v).map(function(b){r[b]||(r[b]=[]),r[b].push(v[b])})}),(0,R.keys)(r).map(function(v){r[v]=r[v].join(e.__getJoinLayers())}),this.isDetached())r[o]="",!l.length&&f.map(function(v){r[v.getName()]=""});else{var h=f.reduce(function(v,b){return v[b.getName()]="",v},{});r[o]=r[o]||"",r=Jn(Jn({},r),h)}return Jn(Jn({},r),t.__clear?{}:this.getEmptyValueStyle())},n.prototype.isEmptyValueStyle=function(t){t===void 0&&(t={});var e=this.getEmptyValueStyle({force:!0}),r=(0,R.keys)(e);return!!r.length&&r.every(function(o){return e[o]===t[o]})},n.prototype.getEmptyValueStyle=function(t){t===void 0&&(t={});var e=this.attributes.emptyValue;if(e&&(!this.hasLayers()||t.force)){var r=this.getName(),o=this.getProperties(),l=(0,R.isString)(e)?e:e({property:this});if((0,R.isString)(l)){var f={};return this.isDetached()?o.map(function(p){f[p.getName()]=l}):f[r]=l,f}else return l}else return{}},n.prototype.__getJoinLayers=function(){var t=this.get("layerJoin"),e=this.get("layerSeparator");return t||((0,R.isString)(e)?e:t)},n.prototype.__getFullValue=function(){if(this.get("detached"))return"";var t=this.getStyleFromLayers();return qn(t[this.getName()])},n.prototype.hasValue=function(t){t===void 0&&(t={});var e=t.noParent,r=e&&this.getParentTarget();return(this.hasLayers()||this.hasEmptyValue())&&!r},n.prototype.clear=function(t){return t===void 0&&(t={}),this.layers.reset(),this.__upTargetsStyleProps(Jn(Jn({},t),{__clear:!0})),Pr.prototype.clear.call(this),this},n.prototype.__canClearProp=function(){return!1},n.prototype.__getLayers=function(){return this.layers},n}(ml);const Vy=Iy;var Ry=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Jc=function(){return Jc=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Jc.apply(this,arguments)},Ny=function(a,n){var t={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&n.indexOf(e)<0&&(t[e]=a[e]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(a);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(a,e[r])&&(t[e[r]]=a[e[r]]);return t},Fy=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return a.concat(o||Array.prototype.slice.call(n))},Np="data-clear-style",Hy=function(a){Ry(n,a);function n(t){t===void 0&&(t={});var e=a.call(this,t)||this;(0,R.bindAll)(e,"__change","__updateStyle");var r=t.config||{},o=r.em;e.config=r,e.em=o,e.pfx=r.stylePrefix||"",e.ppfx=r.pStylePrefix||"",e.__destroyFn=e.destroy?e.destroy.bind(e):function(){};var l=e.model;l.view=e,e.onValueChange=(0,R.debounce)(e.onValueChange.bind(e),10),e.updateStatus=(0,R.debounce)(e.updateStatus.bind(e),0),e.listenTo(l,"destroy remove",e.remove),e.listenTo(l,"change:visible",e.updateVisibility),e.listenTo(l,"change:name change:className change:full",e.render),e.listenTo(l,"change:value",e.onValueChange),e.listenTo(l,"change:parentTarget",e.updateStatus),e.listenTo(o,"change:device",e.onValueChange);var f=e.init&&e.init.bind(e);return f&&f(),e}return n.prototype.events=function(){var t;return t={change:"inputValueChanged"},t["click [".concat(Np,"]")]="clear",t},n.prototype.template=function(t){var e=this,r=e.pfx,o=e.ppfx;return`
      <div class="`.concat(r,`label" data-sm-label></div>
      <div class="`).concat(o,`fields" data-sm-fields></div>
    `)},n.prototype.templateLabel=function(t){var e=this,r=e.pfx,o=e.em,l=t.parent,f=t.attributes,p=f.icon,h=p===void 0?"":p,v=f.info,b=v===void 0?"":v,P=o==null?void 0:o.getConfig().icons,B=(P==null?void 0:P.close)||"";return`
      <span class="`.concat(r,"icon ").concat(h,'" title="').concat(b,`">
        `).concat(t.getLabel(),`
      </span>
      `).concat(l?"":'<div class="'.concat(r,'clear" style="display: none" ').concat(Np,">").concat(B,"</div>"),`
    `)},n.prototype.templateInput=function(t){return`
      <div class="`.concat(this.ppfx,`field">
        <input placeholder="`).concat(t.getDefaultValue(),`"/>
      </div>
    `)},n.prototype.remove=function(){var t=this;return m.G7.prototype.remove.apply(this,arguments),["em","input","$input","view"].forEach(function(e){return t[e]=null}),this.__destroyFn(this._getClbOpts()),this},n.prototype.updateStatus=function(){var t,e=this,r=e.model,o=e.pfx,l=e.ppfx,f=e.config,p="".concat(l,"four-color"),h="".concat(l,"color-warn"),v=this.$el.children(".".concat(o,"label")),b=this.getClearEl(),P=b?b.style:{};v.removeClass("".concat(p," ").concat(h)),P.display="none",r.hasValue({noParent:!0})&&f.highlightChanged?(v.addClass(p),f.clearProperties&&(P.display="")):r.hasValue()&&f.highlightComputed&&v.addClass(h),(t=this.parent)===null||t===void 0||t.updateStatus()},n.prototype.clear=function(t){t&&t.stopPropagation(),this.model.clear()},n.prototype.getClearEl=function(){return this.clearEl||(this.clearEl=this.el.querySelector("[".concat(Np,"]"))),this.clearEl},n.prototype.inputValueChanged=function(t){t&&t.stopPropagation(),!this.emit&&this.model.upValue(t.target.value)},n.prototype.onValueChange=function(t,e,r){this.setValue(this.model.getFullValue(void 0,{skipImportant:!0})),this.updateStatus()},n.prototype.setValue=function(t){var e=this.model,r=(0,R.isUndefined)(t)||t===""?e.getDefaultValue():t;if(this.update)return this.__update(r);this.__setValueInput(r)},n.prototype.__setValueInput=function(t){var e=this.getInputEl();e&&(e.value=t)},n.prototype.getInputEl=function(){return this.input||(this.input=this.el.querySelector("input")),this.input},n.prototype.updateVisibility=function(){this.el.style.display=this.model.isVisible()?"":"none"},n.prototype.clearCached=function(){delete this.clearEl,delete this.input,delete this.$input},n.prototype.__unset=function(){var t=this.unset&&this.unset.bind(this);t&&t(this._getClbOpts())},n.prototype.__update=function(t){var e=this.update&&this.update.bind(this);e&&e(Jc(Jc({},this._getClbOpts()),{value:t}))},n.prototype.__change=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=this.emit&&this.emit.bind(this);r&&r.apply(void 0,Fy([this._getClbOpts()],t,!1))},n.prototype.__updateStyle=function(t,e){e===void 0&&(e={});var r=e.complete,o=e.partial;Ny(e,["complete","partial"]);var l=this.model,f=r!==!1&&o!==!0;(0,dt.isObject)(t)?l.__upTargetsStyle(t,{avoidStore:!f}):l.upValue(t,{partial:!f})},n.prototype._getClbOpts=function(){var t=this,e=t.model,r=t.el,o=t.createdEl;return{el:r,createdEl:o,property:e,props:e.attributes,change:this.__change,updateStyle:this.__updateStyle}},n.prototype.render=function(){this.clearCached();var t=this,e=t.pfx,r=t.model,o=t.el,l=t.$el,f=r.getName(),p=r.getType(),h=r.get("className")||"",v="".concat(e,"property"),b=p==="number"?"".concat(e).concat(p," ").concat(e,"integer"):"".concat(e).concat(p);this.createdEl&&this.__destroyFn(this._getClbOpts()),l.empty().append(this.template(r)),l.find("[data-sm-label]").append(this.templateLabel(r));var P=this.create&&this.create.bind(this);this.createdEl=P&&P(this._getClbOpts()),l.find("[data-sm-fields]").append(this.createdEl||this.templateInput(r)),o.className="".concat(v," ").concat(b," ").concat(v,"__").concat(f," ").concat(h).trim(),o.className+=r.isFull()?" ".concat(v,"--full"):"";var B=this.onRender&&this.onRender.bind(this);return B&&B(),this.setValue(r.getValue()),this},n.prototype.onRender=function(){},n}(m.G7);const Fi=Hy;var By=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Uy=function(a){By(n,a);function n(t){var e=a.call(this,t)||this;e.config=t.config||{},e.pfx=e.config.stylePrefix||"",e.properties=[],e.parent=t.parent;var r=e.collection;return e.listenTo(r,"add",e.addTo),e.listenTo(r,"reset",e.render),e}return n.prototype.addTo=function(t,e,r){this.add(t,null,r)},n.prototype.add=function(t,e,r){r===void 0&&(r={});var o=this,l=o.parent,f=o.config,p=e||this.el,h=new t.typeView({model:t,config:f});l&&(h.parent=l),h.render();var v=h.el;this.properties.push(h),(0,te.$Q)(p,v,r.at)},n.prototype.remove=function(){return m.G7.prototype.remove.apply(this,arguments),this.clearItems(),this},n.prototype.clearItems=function(){this.properties.forEach(function(t){return t.remove()}),this.properties=[]},n.prototype.render=function(){var t=this,e=this,r=e.$el,o=e.pfx;this.clearItems();var l=document.createDocumentFragment();return this.collection.forEach(function(f){return t.add(f,l)}),r.empty(),r.append(l),r.attr("class","".concat(o,"properties")),this},n}(m.G7);const Fp=Uy;var zy=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Qc=function(){return Qc=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Qc.apply(this,arguments)},Wy=function(a){zy(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.templateInput=function(){var t=this.pfx;return`
      <div class="`.concat(t,"field ").concat(t,`composite">
        <span id="`).concat(t,`input-holder"></span>
      </div>
    `)},n.prototype.remove=function(){var t;return(t=this.props)===null||t===void 0||t.remove(),Fi.prototype.remove.apply(this,arguments),this},n.prototype.onValueChange=function(){},n.prototype.onRender=function(){var t=this.pfx,e=this.model,r=e.get("properties");if(r.length&&!this.props){var o=e.isDetached(),l=new Fp({config:Qc(Qc({},this.config),{highlightComputed:o,highlightChanged:o}),collection:r,parent:this});l.render(),this.$el.find("#".concat(t,"input-holder")).append(l.el),this.props=l}},n.prototype.clearCached=function(){Fi.prototype.clearCached.apply(this,arguments),delete this.props},n}(Fi);const mu=Wy;var Gy=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ky=function(a){Gy(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.events=function(){return{click:"select","click [data-close-layer]":"removeItem","mousedown [data-move-layer]":"initSorter","touchstart [data-move-layer]":"initSorter"}},n.prototype.template=function(){var t=this,e=t.pfx,r=t.ppfx,o=t.em,l=o==null?void 0:o.getConfig().icons,f=(l==null?void 0:l.close)||"",p=(l==null?void 0:l.move)||"";return`
      <div class="`.concat(e,`label-wrp">
        <div id="`).concat(e,'move" class="').concat(r,`no-touch-actions" data-move-layer>
          `).concat(p,`
        </div>
        <div id="`).concat(e,`label" data-label></div>
        <div id="`).concat(e,'preview-box" class="').concat(e,`layer-preview" style="display: none" data-preview-box>
          <div id="`).concat(e,'preview" class="').concat(e,`layer-preview-cnt" data-preview></div>
        </div>
        <div id="`).concat(e,'close-layer" class="').concat(e,`btn-close" data-close-layer>
          `).concat(f,`
        </div>
      </div>
      <div id="`).concat(e,`inputs" data-properties></div>
    `)},n.prototype.initialize=function(t){t===void 0&&(t={});var e=this.model,r=t.config||{};this.em=r.em,this.config=r,this.sorter=t.sorter,this.pfx=r.stylePrefix||"",this.ppfx=r.pStylePrefix||"",this.propertyView=t.propertyView;var o=this.propertyView.model;this.listenTo(e,"destroy remove",this.remove),this.listenTo(e,"change:values",this.updateLabel),this.listenTo(o,"change:selectedLayer",this.updateVisibility),e.view=this,e.set({droppable:0,draggable:1}),this.$el.data("model",e)},n.prototype.initSorter=function(){var t;(t=this.sorter)===null||t===void 0||t.startSort(this.el)},n.prototype.removeItem=function(t){t&&t.stopPropagation(),this.model.remove()},n.prototype.select=function(){this.model.select()},n.prototype.getPropertiesWrapper=function(){return this.propsWrapEl||(this.propsWrapEl=this.el.querySelector("[data-properties]")),this.propsWrapEl},n.prototype.getPreviewEl=function(){return this.previewEl||(this.previewEl=this.el.querySelector("[data-preview]")),this.previewEl},n.prototype.getLabelEl=function(){return this.labelEl||(this.labelEl=this.el.querySelector("[data-label]")),this.labelEl},n.prototype.updateLabel=function(){var t=this.model,e=t.getLabel();if(this.getLabelEl().innerHTML=e,t.hasPreview()){var r=this.getPreviewEl(),o=t.getStylePreview({number:{min:-3,max:3}}),l=(0,R.keys)(o).map(function(f){return"".concat(f,":").concat(o[f])}).join(";");r.setAttribute("style",l)}},n.prototype.updateVisibility=function(){var t,e=this,r=e.pfx,o=e.model,l=e.propertyView,f=this.getPropertiesWrapper(),p=o.isSelected();f.style.display=p?"":"none",this.$el[p?"addClass":"removeClass"]("".concat(r,"active")),p&&f.appendChild((t=l.props)===null||t===void 0?void 0:t.el)},n.prototype.render=function(){var t=this,e=t.el,r=t.pfx,o=t.model;return e.innerHTML=this.template(),e.className="".concat(r,"layer"),o.hasPreview()&&(e.querySelector("[data-preview-box]").style.display=""),this.updateLabel(),this.updateVisibility(),this},n}(m.G7);const $y=Ky;var qy=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Zy=function(a){qy(n,a);function n(t){var e=a.call(this,t)||this,r=e.collection,o=t.config||{},l=o.em,f=o.stylePrefix||"",p=o.pStylePrefix||"";e.config=o,e.pfx=f,e.ppfx=p,e.propertyView=t.propertyView,e.className="".concat(f,"layers ").concat(p,"field"),e.listenTo(r,"add",e.addTo),e.listenTo(r,"reset",e.reset),e.items=[];var h=l==null?void 0:l.Utils;return e.sorter=h?new h.Sorter({container:e.el,ignoreViewChildren:1,containerSel:".".concat(f,"layers"),itemSel:".".concat(f,"layer"),pfx:o.pStylePrefix,em:l}):"",r.view=e,e.$el.data("model",r),e.$el.data("collection",r),e}return n.prototype.addTo=function(t){var e=this.collection.indexOf(t);this.addToCollection(t,null,e)},n.prototype.addToCollection=function(t,e,r){var o=e||null,l=this,f=l.propertyView,p=l.config,h=l.sorter,v=l.$el,b=new $y({model:t,config:p,sorter:h,propertyView:f}),P=b.render().el;if(this.items.push(b),o)o.appendChild(P);else if(typeof r<"u"){var B="before";v.children().length===r&&(r--,B="after"),r<0?v.append(P):v.children().eq(r)[B](P)}else v.append(P);return P},n.prototype.reset=function(t,e){this.clearItems(),this.render()},n.prototype.remove=function(){return this.clearItems(),m.G7.prototype.remove.apply(this,arguments),this},n.prototype.clearItems=function(){this.items.forEach(function(t){return t.remove()}),this.items=[]},n.prototype.render=function(){var t=this,e=this,r=e.$el,o=e.sorter,l=document.createDocumentFragment();return r.empty(),this.collection.forEach(function(f){return t.addToCollection(f,l)}),r.append(l),r.attr("class",this.className),o&&(o.plh=null),this},n}(m.G7);const Yy=Zy;var Xy=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),yl=function(){return yl=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},yl.apply(this,arguments)},Jy=function(a){Xy(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.events=function(){return yl(yl({},mu.prototype.events()),{"click [data-add-layer]":"addLayer",change:""})},n.prototype.templateInput=function(){var t=this,e=t.pfx,r=t.em,o=r==null?void 0:r.getConfig().icons,l=(o==null?void 0:o.plus)||"+";return`
      <div class="`.concat(e,"field ").concat(e,`stack">
        <button type="button" id="`).concat(e,`add" data-add-layer>
          `).concat(l,`
        </button>
        <div data-layers-wrapper></div>
      </div>
    `)},n.prototype.init=function(){var t=this.model;this.listenTo(t.layers,"change reset",this.updateStatus),this.listenTo(t,"change:isEmptyValue",this.updateStatus)},n.prototype.addLayer=function(){this.model.addLayer({},{at:0})},n.prototype.setValue=function(){},n.prototype.remove=function(){var t;return(t=this.layersView)===null||t===void 0||t.remove(),mu.prototype.remove.apply(this,arguments),this},n.prototype.clearCached=function(){mu.prototype.clearCached.apply(this,arguments),delete this.layersView},n.prototype.onRender=function(){var t=this,e=t.model,r=t.el,o=t.config,l=e.get("properties");if(l.length&&!this.props){var f=new Fp({config:yl(yl({},o),{highlightComputed:!1,highlightChanged:!1}),collection:l,parent:this});f.render();var p=new Yy({collection:e.layers,config:o,propertyView:this});p.render();var h=r.querySelector("[data-layers-wrapper]");h.appendChild(p.el),this.props=f,this.layersView=p}},n}(mu);const Qy=Jy;var t0=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),tf=function(){return tf=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},tf.apply(this,arguments)},e0=function(a){t0(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.events=function(){return tf(tf({},Fi.prototype.events()),{"click [data-clear-asset]":"clear","click [data-open-assets]":"openAssetManager"})},n.prototype.templateInput=function(){var t,e=this,r=e.pfx,o=e.em,l=(t=this.em)===null||t===void 0?void 0:t.getConfig().icons,f=l==null?void 0:l.close;return`
      <div class="`.concat(r,"field ").concat(r,`file">
        <div id='`).concat(r,`input-holder'>
          <div class="`).concat(r,`btn-c">
            <button class="`).concat(r,'btn" id="').concat(r,`images" type="button" data-open-assets>
              `).concat(o.t("styleManager.fileButton"),`
            </button>
          </div>
          <div style="clear:both;"></div>
        </div>
        <div id="`).concat(r,'preview-box" class="').concat(r,`preview-file" data-preview-box>
          <div id="`).concat(r,'preview-file" class="').concat(r,`preview-file-cnt" data-preview></div>
          <div id="`).concat(r,'close" class="').concat(r,'preview-file-close" data-clear-asset>').concat(f,`</div>
        </div>
      </div>
    `)},n.prototype.__setValueInput=function(t){var e=this,r=e.model,o=e.el,l=r.getDefaultValue(),f=o.querySelector("[data-preview-box]"),p=o.querySelector("[data-preview]");f.style.display=!t||t===l?"none":"",p.style.backgroundImage=t||r.getDefaultValue()},n.prototype.openAssetManager=function(){var t=this,e,r=(e=this.em)===null||e===void 0?void 0:e.Assets;r==null||r.open({select:function(o,l){var f=(0,R.isString)(o)?o:o.get("src");t.model.upValue(f,{partial:!l}),l&&r.close()},types:["image"],accept:"image/*"})},n}(Fi);const r0=e0;var n0=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),o0=function(a){n0(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.templateInput=function(t){return""},n.prototype.init=function(){var t=this.model;this.listenTo(t,"change:unit",this.onValueChange),this.listenTo(t,"change:units",this.render)},n.prototype.setValue=function(t){},n.prototype.onRender=function(){var t=this,e=t.ppfx,r=t.model,o=t.el;if(!this.inputInst){var l=r.input;l.ppfx=e,l.render();var f=o.querySelector(".".concat(e,"fields"));f.appendChild(l.el),this.input=l.inputEl.get(0),this.inputInst=l}},n.prototype.clearCached=function(){Fi.prototype.clearCached.apply(this,arguments),this.inputInst=null},n}(Fi);const Hi=o0;var i0=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),a0=function(a){i0(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.setValue=function(t){var e;(e=this.inputInst)===null||e===void 0||e.setValue(t,{fromTarget:1,def:this.model.getDefaultValue()})},n.prototype.remove=function(){var t=this;Hi.prototype.remove.apply(this,arguments);var e=this.inputInst;return e&&e.remove&&e.remove(),["inputInst","$color"].forEach(function(r){return t[r]=null}),this},n.prototype.__handleChange=function(t,e){this.model.upValue(t,{partial:e})},n.prototype.onRender=function(){var t;if(!this.inputInst){this.__handleChange=this.__handleChange.bind(this);var e=this,r=e.ppfx,o=e.model,l=e.em,f=e.el,p=new si({target:l,model:o,ppfx:r,onChange:this.__handleChange}),h=p.render();f.querySelector(".".concat(r,"fields")).appendChild(h.el),this.input=(t=h.inputEl)===null||t===void 0?void 0:t.get(0),this.inputInst=h}},n}(Hi);const s0=a0;var l0=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ef=function(){return ef=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},ef.apply(this,arguments)},lh=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return a.concat(o||Array.prototype.slice.call(n))},u0=function(a){l0(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.defaults=function(){return ef(ef({},Pr.getDefaults()),{options:[],full:0})},n.prototype.getOptions=function(){var t=this.attributes,e=t.options,r=t.list;return(e&&e.length?e:r)||[]},n.prototype.getOption=function(t){var e=this,r=(0,dt.isDef)(t)?t:this.getValue();return this.getOptions().filter(function(o){return e.getOptionId(o)===r})[0]||null},n.prototype.setOptions=function(t){return t===void 0&&(t=[]),this.set("options",t),this},n.prototype.addOption=function(t){if(t){var e=this.getOptions();this.setOptions(lh(lh([],e,!0),[t],!1))}return this},n.prototype.getOptionId=function(t){return(0,dt.isDef)(t.id)?t.id:t.value},n.prototype.getOptionLabel=function(t,e){var r;e===void 0&&(e={});var o=e.locale,l=o===void 0?!0:o,f=((0,R.isString)(t)?this.getOption(t):t)||{},p=this.getOptionId(f),h=f.label||f.name||p,v=e.property||this.getId();return l&&((r=this.em)===null||r===void 0?void 0:r.t("styleManager.options.".concat(v,".").concat(p)))||h},n.prototype.initialize=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Pr.prototype.initialize.apply(this,t),this.listenTo(this,"change:options",this.__onOptionChange)},n.prototype.__onOptionChange=function(){this.set("list",this.get("options"))},n}(Pr);const Hp=u0;var c0=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),f0=function(a){c0(n,a);function n(t){var e=a.call(this,t)||this;return e.listenTo(e.model,"change:options",e.updateOptions),e}return n.prototype.templateInput=function(){var t=this,e=t.pfx,r=t.ppfx;return`
      <div class="`.concat(r,"field ").concat(r,`select">
        <span id="`).concat(e,`input-holder"></span>
        <div class="`).concat(r,`sel-arrow">
          <div class="`).concat(r,`d-s-arrow"></div>
        </div>
      </div>
    `)},n.prototype.updateOptions=function(){delete this.input,this.onRender()},n.prototype.onRender=function(){var t=this.pfx,e=this.model,r=e.getOptions();if(!this.input){var o=[];r.forEach(function(f){var p=e.getOptionId(f),h=e.getOptionLabel(p),v=f.style?f.style.replace(/"/g,"&quot;"):"",b=v?'style="'.concat(v,'"'):"",P=p.replace(/"/g,"&quot;");o.push('<option value="'.concat(P,'" ').concat(b,">").concat(h,"</option>"))});var l=this.el.querySelector("#".concat(t,"input-holder"));l.innerHTML="<select>".concat(o.join(""),"</select>"),this.input=l.firstChild}},n.prototype.__setValueInput=function(t){var e=this.model,r=this.getInputEl(),o=e.getOptions()[0],l=o?e.getOptionId(o):"";r&&(r.value=t||l)},n}(Fi);const uh=f0;var p0=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),rf=function(){return rf=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},rf.apply(this,arguments)},d0=function(a){p0(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.defaults=function(){return rf(rf({},Hp.getDefaults()),{full:1})},n}(Hp);const h0=d0;var v0=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),g0=function(a){v0(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.templateInput=function(){var t=this.ppfx;return'<div class="'.concat(t,"field ").concat(t,'field-radio"></div>')},n.prototype.onRender=function(){var t=this,e=t.pfx,r=t.ppfx,o=this.model,l="".concat(r,"radio-item-label"),f=o.getName(),p=o.getOptions(),h="".concat(e,"radio ").concat(e,"radio-").concat(f),v=o.cid;if(!this.input){var b=[];p.forEach(function(B){var tt=B.className?"".concat(B.className," ").concat(e,"icon ").concat(l):"",ut=o.getOptionId(B),ct="".concat(f,"-").concat(ut,"-").concat(v),Tt=tt?"":o.getOptionLabel(ut),Nt=B.title?'title="'.concat(B.title,'"'):"",Ft=o.getValue()===ut?"checked":"";b.push(`
          <div class="`.concat(r,`radio-item">
            <input type="radio" class="`).concat(h,'" id="').concat(ct,'" name="').concat(f,"-").concat(v,'" value="').concat(ut,'" ').concat(Ft,`/>
            <label class="`).concat(tt||l,'" ').concat(Nt,' for="').concat(ct,'">').concat(Tt,`</label>
          </div>
        `))});var P=this.el.querySelector(".".concat(r,"field"));P.innerHTML='<div class="'.concat(r,'radio-items">').concat(b.join(""),"</div>"),this.input=P.firstChild}},n.prototype.__setValueInput=function(t){var e,r=this.model,o=t||r.getDefaultValue(),l=(e=this.getInputEl())===null||e===void 0?void 0:e.querySelector('[value="'.concat(o,'"]'));l&&(l.checked=!0)},n}(uh);const m0=g0;var y0=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),gs=function(){return gs=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},gs.apply(this,arguments)},w0=function(a){y0(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.defaults=function(){return gs(gs({},Pr.getDefaults()),{units:[],unit:"",min:"",max:"",step:1})},n.prototype.getUnits=function(){return this.get("units")||[]},n.prototype.getUnit=function(){return this.get("unit")},n.prototype.getMin=function(){return this.get("min")},n.prototype.getMax=function(){return this.get("max")},n.prototype.getStep=function(){return this.get("step")},n.prototype.upUnit=function(t,e){return e===void 0&&(e={}),this._up({unit:t},e)},n.prototype.initialize=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Pr.callParentInit(Pr,this,t,e);var r=this.get("unit"),o=this.getUnits();this.input=(0,dt.hasWin)()?new ld({model:this}):void 0,o.length&&!r&&this.set("unit",o[0],{silent:!0}),Pr.callInit(this,t,e)},n.prototype.__getClearProps=function(){return gs(gs({},Pr.prototype.__getClearProps()),{unit:""})},n.prototype.parseValue=function(t,e){e===void 0&&(e={});var r=Pr.prototype.parseValue.apply(this,arguments),o=this.input.validateInputValue(r.value,gs({deepCheck:1},e)),l=o.value,f=o.unit;return r.value=l,r.unit=f,r},n.prototype.getFullValue=function(){var t=this.get("value"),e=this.get("unit"),r=(0,R.isUndefined)(t)?"":"".concat(t),o=!(0,R.isUndefined)(e)&&r?e:"",l="".concat(r).concat(o);return Pr.prototype.getFullValue.apply(this,[l])},n}(Pr);const nf=w0;var b0=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),of=function(){return of=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},of.apply(this,arguments)},_0=function(a){b0(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.defaults=function(){return of(of({},nf.getDefaults()),{showInput:1})},n}(nf);const x0=_0;var C0=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),af=function(){return af=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},af.apply(this,arguments)},S0=function(a){C0(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.events=function(){return af(af({},Hi.prototype.events()),{"change [type=range]":"inputValueChanged","input [type=range]":"inputValueChangedSoft",change:""})},n.prototype.templateInput=function(t){var e=this.ppfx;return`
      <div class="`.concat(e,"field ").concat(e,`field-range">
        <input type="range" min="`).concat(t.get("min"),'" max="').concat(t.get("max"),'" step="').concat(t.get("step"),`"/>
      </div>
    `)},n.prototype.getSliderEl=function(){return this.slider||(this.slider=this.el.querySelector("input[type=range]")),this.slider},n.prototype.inputValueChanged=function(t){t.stopPropagation(),this.model.upValue(this.getSliderEl().value)},n.prototype.inputValueChangedSoft=function(t){t.stopPropagation(),this.model.upValue(this.getSliderEl().value,{partial:!0})},n.prototype.setValue=function(t){var e=this.model,r=e.parseValue(t);this.getSliderEl().value=t===""?e.getDefaultValue():parseFloat(r.value),Hi.prototype.setValue.apply(this,arguments)},n.prototype.onRender=function(){Hi.prototype.onRender.apply(this,arguments),this.model.get("showInput")||(this.inputInst.el.style.display="none")},n.prototype.clearCached=function(){Hi.prototype.clearCached.apply(this,arguments),delete this.slider},n}(Hi);const O0=S0;var T0=m.FE.extend(Pd),E0=T0.extend({extendViewApi:1,init:function(){var a=this,n=a.opts,t=a.em,e=n.module||(t==null?void 0:t.get("StyleManager"));e&&(e.__listenAdd(this,e.events.propertyAdd),e.__listenRemove(this,e.events.propertyRemove))},types:[{id:"stack",model:Vy,view:Qy,isType:function(a){if(a&&a.type=="stack")return a}},{id:"composite",model:ml,view:mu,isType:function(a){if(a&&a.type=="composite")return a}},{id:"file",model:Pr,view:r0,isType:function(a){if(a&&a.type=="file")return a}},{id:"color",model:Pr,view:s0,isType:function(a){if(a&&a.type=="color")return a}},{id:"select",model:Hp,view:uh,isType:function(a){if(a&&a.type=="select")return a}},{id:"radio",model:h0,view:m0,isType:function(a){if(a&&a.type=="radio")return a}},{id:"slider",model:x0,view:O0,isType:function(a){if(a&&a.type=="slider")return a}},{id:"integer",model:nf,view:Hi,isType:function(a){if(a&&a.type=="integer")return a}},{id:"number",model:nf,view:Hi,isType:function(a){if(a&&a.type=="number")return a}},{id:"base",model:Pr,view:Fi,isType:function(a){return a.type="base",a}}]});const Bp=E0;var P0=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),sf=function(){return sf=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},sf.apply(this,arguments)},k0=function(a,n){var t={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&n.indexOf(e)<0&&(t[e]=a[e]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(a);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(a,e[r])&&(t[e[r]]=a[e[r]]);return t},A0=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return a.concat(o||Array.prototype.slice.call(n))},M0=function(a){P0(n,a);function n(t,e){e===void 0&&(e={});var r=a.call(this,t)||this,o=e.em;r.em=o;var l=t||{},f=r.buildProperties(l.buildProps),p=r.get("name")||"",h=[];!r.get("id")&&r.set("id",p.replace(/ /g,"_").toLowerCase()),f?h=r.extendProperties(f):h=r.get("properties").map(function(b){return(0,R.isString)(b)?r.buildProperties(b)[0]:b}).filter(Boolean),h=h.map(function(b){return r.checkExtend(b)});var v=new Bp(h,{em:o});return v.sector=r,r.set("properties",v),r}return n.prototype.defaults=function(){return{id:"",name:"",open:!0,visible:!0,extendBuilded:!0,properties:[]}},Object.defineProperty(n.prototype,"properties",{get:function(){return this.get("properties")},enumerable:!1,configurable:!0}),n.prototype.getId=function(){return this.get("id")},n.prototype.getName=function(){var t,e=this.getId();return((t=this.em)===null||t===void 0?void 0:t.t("styleManager.sectors.".concat(e)))||this.get("name")},n.prototype.setName=function(t){return this.set("name",t)},n.prototype.isOpen=function(){return!!this.get("open")},n.prototype.setOpen=function(t){return this.set("open",t)},n.prototype.isVisible=function(){return!!this.get("visible")},n.prototype.getProperties=function(t){t===void 0&&(t={});var e=this.properties,r=e.models?A0([],e.models,!0):e;return r.filter(function(o){var l=!0;if(t.withValue&&(l=o.hasValue({noParent:!0})),t.withParentValue){var f=o.hasValue({noParent:!0});l=!f&&o.hasValue()}return l})},n.prototype.getProperty=function(t){return this.getProperties().filter(function(e){return e.get("id")===t})[0]||void 0},n.prototype.addProperty=function(t,e){return this.properties.add(this.checkExtend(t),e)},n.prototype.extendProperties=function(t,e,r){r===void 0&&(r=!1);for(var o=t.length,l=e||this.get("properties"),f=this.get("extendBuilded"),p=[],h=0,v=l.length;h<v;h++){for(var b=l[h],P=0,B=0;B<o;B++){var tt=t[B];if(b.property==tt.property||b.id==tt.property){var ut=b.properties;ut&&ut.length&&(b.properties=this.extendProperties(tt.properties||[],ut,1)),t[B]=f?(0,R.extend)(tt,b):b,p[B]=t[B],P=1;continue}}P||(t.push(b),p.push(b))}return r?p.filter(function(ct){return ct}):t},n.prototype.checkExtend=function(t){var e=((0,R.isString)(t)?{extend:t}:t)||{},r=e.extend,o=k0(e,["extend"]);return r?sf(sf({},this.buildProperties([r])[0]||{}),o):t},n.prototype.buildProperties=function(t){var e,r=t||[];if(!r.length)return[];var o=(e=this.em)===null||e===void 0?void 0:e.Styles.builtIn;return o==null?void 0:o.build(r)},n}(m.Hn);const ch=M0;var L0=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),lf=function(){return lf=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},lf.apply(this,arguments)},D0=function(a){L0(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.initialize=function(t,e){e===void 0&&(e={});var r=e.module,o=e.em;this.em=o,this.module=r,this.listenTo(this,"reset",this.onReset)},n.prototype.model=function(t,e){e===void 0&&(e={});var r=e.collection.em;return new ch(t,lf(lf({},e),{em:r}))},n.prototype.onReset=function(t,e){e===void 0&&(e={});var r=e.previousModels||[];r.forEach(function(o){return o.get("properties").reset()})},n}(m.FE);const j0=D0;var Sa=function(){return Sa=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Sa.apply(this,arguments)},I0=function(a,n){var t={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&n.indexOf(e)<0&&(t[e]=a[e]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(a);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(a,e[r])&&(t[e[r]]=a[e[r]]);return t},ms=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return a.concat(o||Array.prototype.slice.call(n))},hn=function(a){return a.map(function(n){return{id:n}})},V0=function(){function a(){this.props={},this.typeNumber="number",this.typeColor="color",this.typeRadio="radio",this.typeSelect="select",this.typeFile="file",this.typeSlider="slider",this.typeComposite="composite",this.typeStack="stack",this.unitsSize=["px","%","em","rem","vh","vw"],this.unitsSizeNoPerc=["px","em","rem","vh","vw"],this.unitsTime=["s","ms"],this.unitsAngle=["deg","rad","grad"],this.fixedValues=["initial","inherit","auto"];var n=", sans-serif",t=["flex-start","flex-end","center"],e=ms(ms([],t,!0),["baseline","stretch"],!1);this.optsBgSize=hn(["auto","cover","contain"]),this.optsBgAttach=hn(["scroll","fixed","local"]),this.optsBgRepeat=hn(["repeat","repeat-x","repeat-y","no-repeat"]),this.optsWrap=hn(["nowrap","wrap","wrap-reverse"]),this.optsOverflow=hn(["visible","hidden","scroll","auto"]),this.optsDir=hn(["row","row-reverse","column","column-reverse"]),this.opstDisplay=hn(["block","inline","inline-block","flex","none"]),this.optsTransitFn=hn(["linear","ease","ease-in","ease-out","ease-in-out"]),this.optsCursor=hn(["auto","pointer","copy","crosshair","grab","grabbing","help","move","text"]),this.optsFloat=hn(["none","left","right"]),this.optsPos=hn(["static","relative","absolute","fixed"]),this.optsTextAlign=hn(["left","center","right","justify"]),this.optsFlexAlign=hn(e),this.optsJustCont=hn(ms(ms([],t,!0),["space-between","space-around","space-evenly"],!1)),this.optsAlignCont=hn(ms(ms([],t,!0),["space-between","space-around","stretch"],!1)),this.optsAlignSelf=hn(ms(["auto"],e,!0)),this.optsTransitProp=hn(["all","width","height","background-color","transform","box-shadow","opacity"]),this.optsBorderStyle=hn(["none","solid","dotted","dashed","double","groove","ridge","inset","outset"]),this.optsBgPos=hn(["left top","left center","left bottom","right top","right center","right bottom","center top","center center","center bottom"]),this.optsWeight=[{id:"100",label:"Thin"},{id:"200",label:"Extra-Light"},{id:"300",label:"Light"},{id:"400",label:"Normal"},{id:"500",label:"Medium"},{id:"600",label:"Semi-Bold"},{id:"700",label:"Bold"},{id:"800",label:"Extra-Bold"},{id:"900",label:"Ultra-Bold"}],this.optsShadowType=[{id:"",label:"Outside"},{id:"inset",label:"Inside"}],this.optsFonts=["Arial, Helvetica"+n,"Arial Black, Gadget"+n,"Brush Script MT"+n,"Comic Sans MS, cursive"+n,"Courier New, Courier, monospace","Georgia, serif","Helvetica"+n,"Impact, Charcoal"+n,"Lucida Sans Unicode, Lucida Grande"+n,"Tahoma, Geneva"+n,"Times New Roman, Times, serif","Trebuchet MS, Helvetica"+n,"Verdana, Geneva"+n].map(function(r){return{id:r,label:r.split(",")[0]}}),this.fixedFontSizes=["medium","xx-small","x-small","small","large","x-large","xx-large","smaller","larger","length","initial","inherit"],this.fixedLetSpace=["normal","initial","inherit"],this.requireFlex={display:["flex"]},this.init()}return a.prototype.__sub=function(n){var t=this;return function(){return n.map(function(e){if((0,R.isString)(e))return t.get(e);var r=e.extend,o=I0(e,["extend"]);return Sa(Sa({},t.get(r)),o)})}},a.prototype.init=function(){var n=this,t=this,e=t.fixedValues,r=t.requireFlex,o=t.typeNumber;this.props={};var l=[["text-shadow-h",{type:o,default:"0",units:this.unitsSizeNoPerc}],["top",{default:"auto",units:this.unitsSize,fixedValues:e},"text-shadow-h"],["right",{},"top"],["bottom",{},"top"],["left",{},"top"],["margin-top",{default:"0"},"top"],["margin-right",{},"margin-top"],["margin-bottom",{},"margin-top"],["margin-left",{},"margin-top"],["padding-top",{min:0},"margin-top"],["padding-right",{},"padding-top"],["padding-bottom",{},"padding-top"],["padding-left",{},"padding-top"],["width",{min:0},"top"],["min-width",{},"width"],["max-width",{},"width"],["height",{},"width"],["min-height",{},"width"],["max-height",{},"width"],["flex-basis",{requiresParent:r},"width"],["font-size",{default:"medium",fixedValues:this.fixedFontSizes},"width"],["letter-spacing",{default:"normal",fixedValues:this.fixedLetSpace},"top"],["line-height",{},"letter-spacing"],["text-shadow-v",{},"text-shadow-h"],["text-shadow-blur",{min:0},"text-shadow-h"],["border-radius-c",{property:"border-radius",fixedValues:void 0},"padding-top"],["border-top-left-radius",{},"border-radius-c"],["border-top-right-radius",{},"border-radius-c"],["border-bottom-left-radius",{},"border-radius-c"],["border-bottom-right-radius",{},"border-radius-c"],["border-width",{units:this.unitsSizeNoPerc},"border-radius-c"],["box-shadow-h",{},"text-shadow-h"],["box-shadow-v",{},"text-shadow-h"],["box-shadow-blur",{default:"5px"},"text-shadow-blur"],["box-shadow-spread",{},"text-shadow-h"],["transition-duration",{default:"2s",units:this.unitsTime},"border-radius-c"],["perspective",{},"border-radius-c"],["order",{type:o,default:"0",requiresParent:r}],["flex-grow",{},"order"],["flex-shrink",{default:"1"},"order"],["float",{type:this.typeRadio,default:"none",options:this.optsFloat}],["position",{default:"static",options:this.optsPos},"float"],["text-align",{default:"left",options:this.optsTextAlign},"float"],["color",{type:this.typeColor,default:"black",full:!0}],["text-shadow-color",{},"color"],["border-color",{},"color"],["box-shadow-color",{},"color"],["background-color",{default:"none"},"color"],["background-image",{type:this.typeFile,functionName:"url",default:"none",full:!0}],["opacity",{type:this.typeSlider,default:"1",min:0,max:1,step:.01,full:!0}],["display",{type:this.typeSelect,default:"block",options:this.opstDisplay}],["flex-direction",{default:"row",options:this.optsDir,requires:r},"display"],["flex-wrap",{default:"nowrap",options:this.optsWrap},"flex-direction"],["justify-content",{default:"flex-start",options:this.optsJustCont},"flex-wrap"],["align-items",{default:"stretch",options:this.optsFlexAlign},"flex-wrap"],["align-content",{options:this.optsAlignCont},"align-items"],["align-self",{default:"auto",options:this.optsAlignSelf,requiresParent:r},"display"],["font-family",{default:"Arial, Helvetica, sans-serif",options:this.optsFonts},"display"],["font-weight",{default:"400",options:this.optsWeight},"display"],["border-style",{default:"solid",options:this.optsBorderStyle},"display"],["box-shadow-type",{default:"",options:this.optsShadowType},"display"],["background-repeat",{default:"repeat",options:this.optsBgRepeat},"display"],["background-position",{default:"left top",options:this.optsBgPos},"display"],["background-attachment",{default:"scroll",options:this.optsBgAttach},"display"],["background-size",{default:"auto",options:this.optsBgSize},"display"],["transition-property",{default:"width",options:this.optsTransitProp},"display"],["transition-timing-function",{default:"ease",options:this.optsTransitFn},"display"],["cursor",{default:"auto",options:this.optsCursor},"display"],["overflow",{default:"visible",options:this.optsOverflow},"display"],["overflow-x",{},"overflow"],["overflow-y",{},"overflow"],["margin",{type:this.typeComposite,properties:this.__sub([{extend:"margin-top",id:"margin-top-sub"},{extend:"margin-right",id:"margin-right-sub"},{extend:"margin-bottom",id:"margin-bottom-sub"},{extend:"margin-left",id:"margin-left-sub"}])}],["padding",{properties:this.__sub([{extend:"padding-top",id:"padding-top-sub"},{extend:"padding-right",id:"padding-right-sub"},{extend:"padding-bottom",id:"padding-bottom-sub"},{extend:"padding-left",id:"padding-left-sub"}])},"margin"],["border",{properties:this.__sub([{extend:"border-width",id:"border-width-sub"},{extend:"border-style",id:"border-style-sub"},{extend:"border-color",id:"border-color-sub"}])},"margin"],["border-radius",{properties:this.__sub([{extend:"border-top-left-radius",id:"border-top-left-radius-sub"},{extend:"border-top-right-radius",id:"border-top-right-radius-sub"},{extend:"border-bottom-right-radius",id:"border-bottom-right-radius-sub"},{extend:"border-bottom-left-radius",id:"border-bottom-left-radius-sub"}])},"margin"],["transition",{type:this.typeStack,properties:this.__sub([{extend:"transition-property",id:"transition-property-sub"},{extend:"transition-duration",id:"transition-duration-sub"},{extend:"transition-timing-function",id:"transition-timing-function-sub"}])}],["box-shadow",{preview:!0,layerLabel:function(f,p){var h=p.values,v=h["box-shadow-h"],b=h["box-shadow-v"],P=h["box-shadow-blur"],B=h["box-shadow-spread"];return"".concat(v," ").concat(b," ").concat(P," ").concat(B)},properties:this.__sub(["box-shadow-h","box-shadow-v","box-shadow-blur","box-shadow-spread","box-shadow-color","box-shadow-type"])},"transition"],["text-shadow",{default:"none",layerLabel:function(f,p){var h=p.values,v=h["text-shadow-h"],b=h["text-shadow-v"],P=h["text-shadow-blur"];return"".concat(v," ").concat(b," ").concat(P)},properties:this.__sub(["text-shadow-h","text-shadow-v","text-shadow-blur","text-shadow-color"])},"box-shadow"],["background",{detached:!0,layerLabel:function(f,p){var h=p.values,v=h["background-repeat-sub"]||"",b=h["background-position-sub"]||"",P=h["background-attachment-sub"]||"",B=h["background-size-sub"]||"";return[v,b,P,B].join(" ")},properties:this.__sub([{extend:"background-image",id:"background-image-sub"},{extend:"background-repeat",id:"background-repeat-sub"},{extend:"background-position",id:"background-position-sub"},{extend:"background-attachment",id:"background-attachment-sub"},{extend:"background-size",id:"background-size-sub"}])},"box-shadow"],["transform",{type:"stack",layerSeparator:" ",fromStyle:function(f,p){var h=p.property,v=p.name,b=f[v]||"",P=h.getLayerSeparator();return b?b.split(P).map(function(B){var tt=h.__parseFn(B),ut=tt.name,ct=tt.value;return{"transform-type":ut,"transform-value":ct}}):[]},toStyle:function(f,p){var h,v=p.name;return h={},h[v]="".concat(f["transform-type"],"(").concat(f["transform-value"],")"),h},properties:[{property:"transform-type",name:"Type",type:this.typeSelect,default:"rotateZ",full:!0,options:[{id:"scaleX",propValue:{units:[""],step:.01}},{id:"scaleY",propValue:{units:[""],step:.01}},{id:"scaleZ",propValue:{units:[""],step:.01}},{id:"rotateX",propValue:{units:this.unitsAngle,step:1}},{id:"rotateY",propValue:{units:this.unitsAngle,step:1}},{id:"rotateZ",propValue:{units:this.unitsAngle,step:1}},{id:"translateX",propValue:{units:this.unitsSize,step:1}},{id:"translateY",propValue:{units:this.unitsSize,step:1}}],onChange:function(f){var p=f.property,h=f.to;if(h.value){var v=p.getOption(),b=Sa({},v.propValue||{}),P=p.getParent().getProperty("transform-value"),B=P.getUnit();(!B||(b==null?void 0:b.units.indexOf(B))<0)&&(b.unit=(b==null?void 0:b.units[0])||""),P.up(b)}}},{property:"transform-value",type:this.typeNumber,default:"0",full:!0}]}]];return l.forEach(function(f){var p=f[0],h=f[1],v=f[2];n.add(p,h||{},{from:v})}),this},a.prototype.add=function(n,t,e){t===void 0&&(t={}),e===void 0&&(e={});var r=e.from||"",o=this.props[r||n]||{},l=Sa(Sa(Sa({},o),{property:n}),t);return l.properties&&(0,R.isFunction)(l.properties)&&(l.properties=l.properties()),this.props[n]=l,l},a.prototype.get=function(n){return this.props[n]},a.prototype.build=function(n){var t=this,e=[],r=(0,R.isString)(n)?[n]:n;return r.forEach(function(o){e.push(t.get(o)||{property:o})}),e},a}();const R0=V0;var N0=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),F0=function(a,n){return Object.defineProperty?Object.defineProperty(a,"raw",{value:n}):a.raw=n,a},H0=function(a){N0(n,a);function n(t){var e=a.call(this,t)||this,r=t.config||{},o=e.model,l=r.em;return e.config=r,e.em=l,e.pfx=r.stylePrefix||"",e.listenTo(o,"destroy remove",e.remove),e.listenTo(o,"change:open",e.updateOpen),e.listenTo(o,"change:visible",e.updateVisibility),e}return n.prototype.template=function(t){var e,r=t.pfx,o=t.label,l=(e=this.em)===null||e===void 0?void 0:e.getConfig().icons,f=(l==null?void 0:l.caret)||"",p="".concat(r,"sector-");return wt(fh||(fh=F0([`
      <div class="`,`title" data-sector-title>
        <div class="`,'caret">$',`</div>
        <div class="`,'label">',`</div>
      </div>
    `],[`
      <div class="`,`title" data-sector-title>
        <div class="`,'caret">$',`</div>
        <div class="`,'label">',`</div>
      </div>
    `])),p,p,f,p,o)},n.prototype.events=function(){return{"click [data-sector-title]":"toggle"}},n.prototype.updateOpen=function(){var t=this,e=t.$el,r=t.model,o=t.pfx,l=r.isOpen();e[l?"addClass":"removeClass"]("".concat(o,"open")),this.getPropertiesEl().style.display=l?"":"none"},n.prototype.updateVisibility=function(){this.el.style.display=this.model.isVisible()?"":"none"},n.prototype.getPropertiesEl=function(){var t=this,e=t.$el,r=t.pfx;return e.find(".".concat(r,"properties")).get(0)},n.prototype.toggle=function(){var t=this.model;t.setOpen(!t.get("open"))},n.prototype.renderProperties=function(){var t=this,e=t.model,r=t.config,o=e.get("properties");if(o){var l=new Fp({collection:o,config:r});this.$el.append(l.render().el)}},n.prototype.render=function(){var t=this,e=t.pfx,r=t.model,o=t.$el,l=r.getId(),f=r.getName();return o.html(this.template({pfx:e,label:f})),this.renderProperties(),o.attr("class","".concat(e,"sector ").concat(e,"sector__").concat(l," no-select")),this.updateOpen(),this},n}(m.G7);const B0=H0;var fh,U0=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),z0=function(a){U0(n,a);function n(t){t===void 0&&(t={});var e=a.call(this,t)||this,r=t.module,o=t.config,l=e.collection;return e.pfx=(o==null?void 0:o.stylePrefix)||"",e.ppfx=(o==null?void 0:o.pStylePrefix)||"",e.config=o,e.module=r,e.listenTo(l,"add",e.addTo),e.listenTo(l,"reset",e.render),e}return n.prototype.remove=function(){var t=this;return m.G7.prototype.remove.apply(this,arguments),["config","module","em"].forEach(function(e){return t[e]={}}),this},n.prototype.addTo=function(t,e,r){r===void 0&&(r={}),this.addToCollection(t,null,r)},n.prototype.addToCollection=function(t,e,r){r===void 0&&(r={});var o=this,l=o.config,f=o.el,p=e||f,h=new B0({model:t,config:l}).render().el;return(0,te.$Q)(p,h,r.at),h},n.prototype.render=function(){var t=this,e=this,r=e.$el,o=e.pfx,l=e.ppfx;r.empty();var f=document.createDocumentFragment();return this.collection.each(function(p){return t.addToCollection(p,f)}),r.append(f),r.addClass("".concat(o,"sectors ").concat(l,"one-bg ").concat(l,"two-color")),this},n}(m.G7);const W0=z0;var G0=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Oa=function(){return Oa=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Oa.apply(this,arguments)},ph=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return a.concat(o||Array.prototype.slice.call(n))},dh="style",yu="".concat(dh,":"),Up="".concat(yu,"sector"),K0="".concat(Up,":add"),$0="".concat(Up,":remove"),q0="".concat(Up,":update"),zp="".concat(yu,"property"),Z0="".concat(zp,":add"),Y0="".concat(zp,":remove"),X0="".concat(zp,":update"),hh="".concat(yu,"layer:select"),Wp="".concat(yu,"target"),J0="".concat(yu,"custom"),vh=function(a){return a||a===0},Q0={all:dh,sectorAdd:K0,sectorRemove:$0,sectorUpdate:q0,propertyAdd:Z0,propertyRemove:Y0,propertyUpdate:X0,layerSelect:hh,target:Wp,custom:J0},tw=function(a){G0(n,a);function n(t){var e=a.call(this,t,"StyleManager",new j0([],{em:t}),Q0,_y)||this;e.Sector=ch,e.storageKey="",(0,R.bindAll)(e,"__clearStateTarget");var r=e.config,o=r.pStylePrefix;o&&(r.stylePrefix=o+r.stylePrefix),e.builtIn=new R0,e.properties=new Bp([],{em:t,module:e}),e.sectors=e.all;var l=new m.Hn({targets:[]});e.model=l;var f=De.g.update,p="component:toggled ".concat(f,":classes change:state change:device frame:resized selector:type");e.upAll=(0,R.debounce)(function(){return e.__upSel()},0),l.listenTo(t,p,e.upAll),l.listenTo(t,"component:toggled",e.__clearStateTarget);var h=(0,R.debounce)(function(){e.__upProps(),e.__trgCustom()},0);l.listenTo(t,"styleable:change undo redo",h);var v=(0,R.debounce)(function(){return e.__trgCustom()},0);return l.listenTo(t,"".concat(hh," ").concat(Wp),v),l.on("change:lastTarget",function(){return t.trigger(Wp,e.getSelected())}),e}return n.prototype.__upSel=function(){this.select(this.em.getSelectedAll())},n.prototype.__trgCustom=function(t){t===void 0&&(t={}),this.__ctn=this.__ctn||t.container,this.em.trigger(this.events.custom,{container:this.__ctn})},n.prototype.__trgEv=function(t){for(var e,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];(e=this.em).trigger.apply(e,ph([t],r,!1))},n.prototype.__clearStateTarget=function(){var t=this,e=this.em,r=this.__getStateTarget();r&&(e==null||e.skip(function(){e.Css.remove(r),t.model.set({stateTarget:null})}))},n.prototype.onLoad=function(){this.sectors.add(this.config.sectors,{silent:!0})},n.prototype.postRender=function(){this.__appendTo()},n.prototype.addSector=function(t,e,r){r===void 0&&(r={});var o=this.getSector(t);return o||(e.id=t,o=this.sectors.add(e,r)),o},n.prototype.getSector=function(t,e){e===void 0&&(e={});var r=this.sectors.where({id:t})[0];return!r&&e.warn&&this._logNoSector(t),r||null},n.prototype.getSectors=function(t){t===void 0&&(t={});var e=this.sectors,r=e&&e.models?t.array?ph([],e.models,!0):e:[];return t.visible?r.filter(function(o){return o.isVisible()}):r},n.prototype.removeSector=function(t){return this.getSectors().remove(this.getSector(t,{warn:!0}))},n.prototype.addProperty=function(t,e,r){r===void 0&&(r={});var o=this.getSector(t,{warn:!0}),l;return o&&(l=o.addProperty(e,r)),l},n.prototype.getProperty=function(t,e){var r=this.getSector(t,{warn:!0}),o;return r&&(o=r.properties.filter(function(l){return l.get("property")===e||l.get("id")===e})[0]),o},n.prototype.getProperties=function(t){var e,r=this.getSector(t,{warn:!0});return r&&(e=r.properties),e},n.prototype.removeProperty=function(t,e){var r=this.getProperties(t);return r?r.remove(this.getProperty(t,e)):null},n.prototype.select=function(t,e){var r=this;e===void 0&&(e={});var o=this.em,l=(0,R.isArray)(t)?t:[t],f=e.stylable,p=o.Css,h=[];l.filter(Boolean).forEach(function(ut){var ct=ut;if((0,R.isString)(ut)){var Tt=p.getRule(ut)||p.setRule(ut);!(0,R.isUndefined)(f)&&Tt.set({stylable:f}),ct=Tt}h.push(ct)});var v=e.component||h.filter(function(ut){return(0,dt.isComponent)(ut)}).reverse()[0];h=h.map(function(ut){return r.getModelToStyle(ut)});var b=o.getState(),P=h.slice().reverse()[0],B=this.getParentRules(P,{state:b,component:v}),tt=this.__getStateTarget();return o.skip(function(){var ut;if(b&&(!((ut=P==null?void 0:P.getState)===null||ut===void 0)&&ut.call(P))){var ct=P.getStyle();tt?tt.setStyle(ct):tt=p.getAll().add({selectors:"gjs-selected",style:ct,shallow:!0,important:!0})}else tt&&(p.remove(tt),tt=void 0)}),this.model.set({targets:h,lastTarget:P,lastTargetParents:B,stateTarget:tt,component:v}),this.__upProps(e),h},n.prototype.getSelected=function(){return this.model.get("lastTarget")},n.prototype.getSelectedAll=function(){return this.model.get("targets")},n.prototype.getSelectedParents=function(){return this.model.get("lastTargetParents")||[]},n.prototype.__getStateTarget=function(){return this.model.get("stateTarget")},n.prototype.addStyleTargets=function(t,e){this.getSelectedAll().map(function(l){return l.addStyle(t,e)});var r=this.getSelected();r&&this.__emitCmpStyleUpdate(t);var o=this.__getStateTarget();r&&(o==null||o.setStyle(r.getStyle(),e))},n.prototype.getBuiltIn=function(t){return this.builtIn.get(t)},n.prototype.getBuiltInAll=function(){return this.builtIn.props},n.prototype.addBuiltIn=function(t,e){return this.builtIn.add(t,e)},n.prototype.getModelToStyle=function(t,e){e===void 0&&(e={});var r=this.em,o=e.skipAdd;if(r&&(t!=null&&t.toHTML)){var l=r.getConfig(),f=r.UndoManager,p=r.Css,h=r.Selectors,v=h?h.getConfig():{},b=l.devicePreviewMode?"":r.get("state"),P=t.get("classes"),B=P.getStyleable(),tt=B.length,ut=!v.componentFirst||e.useClasses,ct={noCount:1},Tt={state:b,addOpts:ct};f.skip(function(){var Nt;if(tt&&ut){var Ft=r.getCurrentMedia();Nt=p.get(B,b,Ft),!Nt&&!o&&(Nt=p.add(B,b,Ft,{},ct))}else if(l.avoidInlineStyle){var Qt=t.getId();Nt=p.getIdRule(Qt,Tt),!Nt&&!o&&(Nt=p.setIdRule(Qt,{},Tt)),t.is("wrapper")&&Nt.set("wrapper",1,ct)}Nt&&(t=Nt)})}return t},n.prototype.getParentRules=function(t,e){var r=e===void 0?{}:e,o=r.state,l=r.component,f=this.em,p=[];if(f&&t){var h=l,v=f.Css,b=f.CodeManager.getGenerator("css"),P=t.toHTML?t:t.getComponent(),B={array:!0},tt=[],ut=[],ct=[],Tt=[],Nt=[],Ft=function(ie){return ie.length?v.getRules().filter(function(Ee){var Fe=Ee.getSelectors().map(function(ur){return ur.getFullName()});return Fe.length===0?!1:Fe.every(function(ur){return ie.indexOf(ur)>=0})}):[]},Qt=function(ie){return ie?v.getRules().filter(function(Ee){return Ee.selectorsToString()===ie}):[]};if(P)tt=v.getRules("#".concat(P.getId())),ut=Qt(P.get("tagName")),Tt=h?Ft(h.getSelectors().getFullName(B)):[],Nt=Tt.concat(ut).concat(tt);else{tt=h?v.getRules("#".concat(h.getId())):[],ut=Qt((h==null?void 0:h.get("tagName"))||"");var fe=(h==null?void 0:h.getSelectors().getFullName(B))||[],Se=fe.filter(function(ie){return t.getSelectors().getFullName(B).findIndex(function(Ee){return Ee===ie})===-1});ct=Ft(Se.concat(t.getSelectors().getFullName(B))),Nt=ut.concat(tt).concat(ct)}var Pe=Nt.filter(function(ie){return(0,R.isUndefined)(o)?1:ie.get("state")===o}).sort(b.sortRules).reverse();p=Pe.slice(Pe.indexOf(t)+1)}return p},n.prototype.addType=function(t,e){this.properties.addType(t,e)},n.prototype.getType=function(t){return this.properties.getType(t)},n.prototype.getTypes=function(){return this.properties.getTypes()},n.prototype.createType=function(t,e){var r=e===void 0?{}:e,o=r.model,l=o===void 0?{}:o,f=r.view,p=f===void 0?{}:f,h=this.config,v=this.getType(t);if(v)return new v.view(Oa({model:new v.model(l),config:h},p))},n.prototype.render=function(){var t=this,e=t.config,r=t.em,o=t.SectView,l=o&&o.el;return this.SectView=new W0({el:l,em:r,config:e,module:this,collection:this.sectors}),this.SectView.render().el},n.prototype._logNoSector=function(t){var e=this.em;e&&e.logWarning("'".concat(t,"' sector not found"))},n.prototype.__emitCmpStyleUpdate=function(t,e){e===void 0&&(e={});var r=this.em;if(!t.__p){var o=this.getSelectedAll(),l=e.components||r.getSelectedAll(),f=Array.isArray(l)?l:[l],p=Oa({},t);delete p.__p,f.forEach(function(h){return!o.includes(h)&&h.__onStyleChange(p)})}},n.prototype.__upProps=function(t){var e=this;t===void 0&&(t={});var r=this.getSelected();if(r){var o=this.sectors,l=this.model.get("component"),f=this.getSelectedParents(),p=r.getStyle(),h=f.map(function(v){return{target:v,style:v.getStyle()}});o.map(function(v){v.getProperties().map(function(b){e.__upProp(b,p,h,t)})}),o.forEach(function(v){var b=v.getProperties();b.forEach(function(B){var tt=B.__checkVisibility({target:r,component:l,sectors:o});B.set("visible",tt)});var P=b.some(function(B){return B.isVisible()});v.set("visible",P)})}},n.prototype.__upProp=function(t,e,r,o){var l=this,f=t.getName(),p=e[f],h=vh(p),v=t.getType()==="stack",b=t.getType()==="composite",P=Oa(Oa({},o),{__up:!0}),B=!b&&!v,tt=t,ut=t,ct=v?tt.__getLayersFromStyle(e):[],Tt=b?ut.__getPropsFromStyle(e):{},Nt=h?p:null,Ft=null;if(v&&ct===null||b&&Tt===null){var Qt=v?"__getLayersFromStyle":"__getPropsFromStyle",fe=r.filter(function(Fe){return tt[Qt](Fe.style)!==null})[0];if(fe){Nt=fe.style[f],Ft=fe.target;var Se=tt[Qt](fe.style);v?ct=Se:Tt=Se}}else if(!h){Nt=null;var fe=r.filter(function(ur){return vh(ur.style[f])})[0];fe&&(Nt=fe.style[f],Ft=fe.target)}if(t.__setParentTarget(Ft),B&&t.__getFullValue()!==Nt&&t.upValue(Nt,P),v&&tt.__setLayers(ct||[],{isEmptyValue:tt.isEmptyValueStyle(e)}),b){var Pe=ut.getProperties();if(ut.isDetached()){var ie=ut.__getPropsFromStyle(e,{byName:!0})||{},Ee=r.map(function(Fe){return Oa(Oa({},Fe),{style:ut.__getPropsFromStyle(Fe.style,{byName:!0})||{}})});Pe.map(function(Fe){return l.__upProp(Fe,ie,Ee,o)})}else ut.__setProperties(Tt||{},P),ut.getProperties().map(function(Fe){return Fe.__setParentTarget(Ft)})}},n.prototype.destroy=function(){var t;[this.properties,this.sectors].forEach(function(e){e.reset(),e.stopListening()}),(t=this.SectView)===null||t===void 0||t.remove(),this.model.stopListening(),this.upAll.cancel()},n}(j);const ew=tw;var rw=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),In=function(){return In=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},In.apply(this,arguments)},Gp=function(a,n,t,e){function r(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function f(v){try{h(e.next(v))}catch(b){l(b)}}function p(v){try{h(e.throw(v))}catch(b){l(b)}}function h(v){v.done?o(v.value):r(v.value).then(f,p)}h((e=e.apply(a,n||[])).next())})},Kp=function(a,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,r,o,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(h){return function(v){return p([h,v])}}function p(h){if(e)throw new TypeError("Generator is already executing.");for(;l&&(l=0,h[0]&&(t=0)),t;)try{if(e=1,r&&(o=h[0]&2?r.return:h[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,h[1])).done)return o;switch(r=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,r=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){t.label=h[1];break}if(h[0]===6&&t.label<o[1]){t.label=o[1],o=h;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(h);break}o[2]&&t.ops.pop(),t.trys.pop();continue}h=n.call(a,t)}catch(v){h=[6,v],r=0}finally{e=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},nw=function(a,n){var t={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&n.indexOf(e)<0&&(t[e]=a[e]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(a);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(a,e[r])&&(t[e[r]]=a[e[r]]);return t},ow=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return a.concat(o||Array.prototype.slice.call(n))};J().$=C.default;var iw=[jg,xg,Xg,ly,We,de,jc,ew,lp,lm,ty,Mm,by,mv,Nv,Ba,Pv,gc],aw=[sg,ns,gg,oc];M({$:C.default});var gh={debug:console.log,info:console.info,warning:console.warn,error:console.error},sw=function(a){rw(n,a);function n(t){t===void 0&&(t={});var e=a.call(this)||this;e.__skip=!1,e.defaultRunning=!1,e.destroyed=!1,e._config=t;var r=e.config;e.set("Config",t),e.set("modules",[]),e.set("toLoad",[]),e.set("storables",[]),e.set("selected",new O),e.set("dmode",r.dragMode);var o=r.el,l=r.log,f=l===!0?(0,R.keys)(gh):(0,R.isArray)(l)?l:[];return(0,R.bindAll)(e,"initBaseColorPicker"),o&&r.fromElement&&(r.components=o.innerHTML),e.attrsOrig=o?(0,R.toArray)(o.attributes).reduce(function(p,h){return p[h.nodeName]=h.nodeValue,p},{}):"",r.components&&!r.pageManager&&(r.pageManager={pages:[{component:r.components}]}),iw.forEach(function(p){return e.loadModule(p)}),aw.forEach(function(p){return e.loadStorableModule(p)}),e.on("change:componentHovered",e.componentHovered,e),e.on("change:changesCount",e.updateChanges,e),e.on("change:readyLoad change:readyCanvas",e._checkReady,e),f.forEach(function(p){return e.listenLog(p)}),[{from:"change:selectedComponent",to:"component:toggled"}].forEach(function(p){var h=p.from,v=p.to;e.listenTo(e,h,function(){for(var b=[],P=0;P<arguments.length;P++)b[P]=arguments[P];e.trigger.apply(e,ow([v],b,!1)),e.logWarning("The event '".concat(h,"' is deprecated, replace it with '").concat(v,"'"))})}),e}return n.prototype.defaults=function(){return{editing:0,selected:0,clipboard:null,dmode:0,componentHovered:null,previousModel:null,changesCount:0,storables:[],modules:[],toLoad:[],opened:{},device:""}},Object.defineProperty(n.prototype,"storables",{get:function(){return this.get("storables")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"modules",{get:function(){return this.get("modules")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"toLoad",{get:function(){return this.get("toLoad")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"selected",{get:function(){return this.get("selected")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"shallow",{get:function(){return this.get("shallow")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"I18n",{get:function(){return this.get("I18n")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Utils",{get:function(){return this.get("Utils")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Commands",{get:function(){return this.get("Commands")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Keymaps",{get:function(){return this.get("Keymaps")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Modal",{get:function(){return this.get("Modal")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Panels",{get:function(){return this.get("Panels")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"CodeManager",{get:function(){return this.get("CodeManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"UndoManager",{get:function(){return this.get("UndoManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"RichTextEditor",{get:function(){return this.get("RichTextEditor")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Canvas",{get:function(){return this.get("Canvas")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Editor",{get:function(){return this.get("Editor")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Components",{get:function(){return this.get("DomComponents")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Css",{get:function(){return this.get("CssComposer")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Blocks",{get:function(){return this.get("BlockManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Selectors",{get:function(){return this.get("SelectorManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Storage",{get:function(){return this.get("StorageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Traits",{get:function(){return this.get("TraitManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Parser",{get:function(){return this.get("Parser")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Layers",{get:function(){return this.get("LayerManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Assets",{get:function(){return this.get("AssetManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Devices",{get:function(){return this.get("DeviceManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Pages",{get:function(){return this.get("PageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Styles",{get:function(){return this.get("StyleManager")},enumerable:!1,configurable:!0}),n.prototype._checkReady=function(){this.get("readyLoad")&&this.get("readyCanvas")&&!this.get("ready")&&this.set("ready",!0)},n.prototype.getContainer=function(){return this.config.el},n.prototype.listenLog=function(t){this.listenTo(this,"log:".concat(t),gh[t])},Object.defineProperty(n.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),n.prototype.getConfig=function(t){var e=this.config;return(0,R.isUndefined)(t)?e:e[t]},n.prototype.loadOnStart=function(){var t=this,e=this.config,r=e.projectData,o=e.headless,l=this.Storage;this.toLoad.reverse().forEach(function(h){return h.onLoad()});var f=function(){t.modules.forEach(function(h){return h.postLoad&&h.postLoad(t)}),t.set("readyLoad",1)};o?(r&&this.loadData(r),f()):this._storageTimeout=setTimeout(function(){return Gp(t,void 0,void 0,function(){var h;return Kp(this,function(v){switch(v.label){case 0:return r?(this.loadData(r),[3,5]):[3,1];case 1:if(!(l!=null&&l.canAutoload()))return[3,5];v.label=2;case 2:return v.trys.push([2,4,,5]),[4,this.load()];case 3:return v.sent(),[3,5];case 4:return h=v.sent(),this.logError(h),[3,5];case 5:return f(),[2]}})})});var p=new n({noticeOnUnload:!1,storageManager:!1,undoManager:!1});p.Pages.onLoad(),p.Canvas.postLoad(),this.set("shallow",p)},n.prototype.updateChanges=function(t,e,r){var o=this,l=this.Storage,f=this.getDirtyCount();r.isClear||(this.updateItr&&clearTimeout(this.updateItr),this.updateItr=setTimeout(function(){return o.trigger("update")})),this.config.noticeOnUnload&&(window.onbeforeunload=f?function(){return!0}:null),l.isAutosave()&&f>=l.getStepsBeforeSave()&&this.store().catch(function(p){return o.logError(p)})},n.prototype.loadModule=function(t){var e=new t(this);return this.set(e.name,e),e.onLoad&&this.toLoad.push(e),this.modules.push(e),e},n.prototype.loadStorableModule=function(t){var e=this.loadModule(t);return this.storables.push(e),e},n.prototype.init=function(t,e){e===void 0&&(e={}),this.destroyed&&(this.initialize(e),this.destroyed=!1),this.set("Editor",t)},n.prototype.getEditor=function(){return this.get("Editor")},n.prototype.handleUpdates=function(t,e,r){var o=this;r===void 0&&(r={}),!(this.__skip||r.temporary||r.noCount||r.avoidStore||!this.get("ready"))&&(this.timedInterval&&clearTimeout(this.timedInterval),this.timedInterval=setTimeout(function(){var l=o.getDirtyCount()||0;r.unset;var f=nw(r,["unset"]);o.set("changesCount",l+1,f)},0))},n.prototype.changesUp=function(t){this.handleUpdates(0,0,t)},n.prototype.componentHovered=function(t,e,r){var o=this.previous("componentHovered");o&&this.trigger("component:unhovered",o,r),e&&this.trigger("component:hovered",e,r)},n.prototype.getSelected=function(){return this.selected.lastComponent()},n.prototype.getSelectedAll=function(){return this.selected.allComponents()},n.prototype.setSelected=function(t,e){var r=this;e===void 0&&(e={});var o=e.event,l=o&&(o.ctrlKey||o.metaKey),f=(o||{}).shiftKey,p=((0,R.isArray)(t)?t:[t]).map(function(P){var B,tt;return((tt=(B=P==null?void 0:P.delegate)===null||B===void 0?void 0:B.select)===null||tt===void 0?void 0:tt.call(B,P))||P}).filter(Boolean),h=this.getSelectedAll(),v=this.getConfig().multipleSelection,b=(0,R.isArray)(t);(b||!t)&&this.removeSelected(h.filter(function(P){return!(0,R.contains)(p,P)})),p.forEach(function(P){if(P&&(r.trigger("component:select:before",P,e),!P.get("selectable")||e.abort))if(e.useValid){for(var B=P.parent();B&&!B.get("selectable");)B=B.parent();P=B}else return;if(l&&v)return r.toggleSelected(P);if(f&&v){r.clearSelection(r.Canvas.getWindow());var tt=P.collection,ut=P.index(),ct,Tt;if(r.getSelectedAll().forEach(function(Nt){var Ft=Nt.collection,Qt=Nt.index();Ft===tt&&(Qt<ut?ct=(0,R.isUndefined)(ct)?Qt:Math.max(ct,Qt):Qt>ut&&(Tt=(0,R.isUndefined)(Tt)?Qt:Math.min(Tt,Qt)))}),!(0,R.isUndefined)(ct))for(;ct!==ut;)r.addSelected(tt.at(ct)),ct++;if(!(0,R.isUndefined)(Tt))for(;Tt!==ut;)r.addSelected(tt.at(Tt)),Tt--;return r.addSelected(P)}!b&&r.removeSelected(h.filter(function(Nt){return Nt!==P})),r.addSelected(P,e)})},n.prototype.addSelected=function(t,e){var r=this;e===void 0&&(e={});var o=(0,R.isArray)(t)?t:[t];o.forEach(function(l){var f=r.selected;if(!(!l||!l.get("selectable")||l.parents().some(function(h){return f.hasComponent(h)}))){e.forceChange&&r.removeSelected(l,e);var p=f.allComponents().filter(function(h){return(0,R.contains)(h.parents(),l)});p.forEach(function(h){return r.removeSelected(h,e)}),f.addComponent(l,e),r.trigger("component:select",l,e),r.Canvas.addSpot({type:tr.q.Select,component:l})}})},n.prototype.removeSelected=function(t,e){var r=this;e===void 0&&(e={}),this.selected.removeComponent(t,e);var o=(0,R.isArray)(t)?t:[t];o.forEach(function(l){return r.Canvas.removeSpots({type:tr.q.Select,component:l})})},n.prototype.toggleSelected=function(t,e){var r=this;e===void 0&&(e={});var o=(0,R.isArray)(t)?t:[t];o.forEach(function(l){r.selected.hasComponent(l)?r.removeSelected(l,e):r.addSelected(l,e)})},n.prototype.setHovered=function(t,e){var r=this;e===void 0&&(e={});var o=function(p,h){var v=r,b=v.config,P=v.Canvas,B=r.getHovered(),tt=r.getSelectedAll(),ut=tr.q.Hover,ct=tr.q.Spacing;r.set("componentHovered",p||null,h),B&&(P.removeSpots({type:ut,component:B}),P.removeSpots({type:ct,component:B})),p&&(P.addSpot({type:ut,component:p}),(!tt.includes(p)||b.showOffsetsSelected)&&P.addSpot({type:ct,component:p}))};if(!t)return o();var l="component:hover";if(e.forceChange&&o(),this.trigger("".concat(l,":before"),t,e),!t.get("hoverable"))if(e.useValid&&!e.abort){for(var f=t.parent();f&&!f.get("hoverable");)f=f.parent();t=f}else return;e.abort||(o(t,e),this.trigger(l,t,e))},n.prototype.getHovered=function(){return this.get("componentHovered")},n.prototype.setComponents=function(t,e){return e===void 0&&(e={}),this.Components.setComponents(t,e)},n.prototype.getComponents=function(){var t=this.Components,e=this.CodeManager;if(!(!t||!e)){var r=t.getComponents();return e.getCode(r,"json")}},n.prototype.setStyle=function(t,e){e===void 0&&(e={});var r=this.Css;return r.clear(e),r.getAll().add(t,e),this},n.prototype.addStyle=function(t,e){e===void 0&&(e={});var r=this.getStyle().add(t,e);return(0,R.isArray)(r)?r:[r]},n.prototype.getStyle=function(){return this.Css.getAll()},n.prototype.setState=function(t){return this.set("state",t),this},n.prototype.getState=function(){return this.get("state")||""},n.prototype.getHtml=function(t){t===void 0&&(t={});var e=this.config,r=e.optsHtml,o=e.jsInHtml?this.getJs(t):"",l=t.component||this.Components.getComponent(),f=l?this.CodeManager.getCode(l,"html",In(In({},r),t)):"";return f+=o?"<script>".concat(o,"<\/script>"):"",f},n.prototype.getCss=function(t){t===void 0&&(t={});var e=this.config,r=e.optsCss,o=t.avoidProtected,l=(0,R.isUndefined)(t.keepUnusedStyles)?e.keepUnusedStyles:t.keepUnusedStyles,f=this.Css,p=t.component||this.Components.getComponent(),h=o?"":e.protectedCss,v=p&&this.CodeManager.getCode(p,"css",In(In({cssc:f,keepUnusedStyles:l},r),t));return p?t.json?v:h+v:""},n.prototype.getJs=function(t){t===void 0&&(t={});var e=t.component||this.Components.getWrapper();return e?this.CodeManager.getCode(e,"js").trim():""},n.prototype.store=function(t){return Gp(this,void 0,void 0,function(){var e;return Kp(this,function(r){switch(r.label){case 0:return e=this.storeData(),[4,this.Storage.store(e,t)];case 1:return r.sent(),this.clearDirtyCount(),[2,e]}})})},n.prototype.load=function(t,e){return e===void 0&&(e={}),Gp(this,void 0,void 0,function(){var r;return Kp(this,function(o){switch(o.label){case 0:return[4,this.Storage.load(t)];case 1:return r=o.sent(),this.loadData(r),[4,(0,dt.wait)()];case 2:return o.sent(),e.clear&&(this.UndoManager.clear(),this.clearDirtyCount()),[2,r]}})})},n.prototype.storeData=function(){var t={},e=this.getEditing();return e&&e.trigger("sync:content",{noCount:!0}),this.storables.forEach(function(r){t=In(In({},t),r.store(1))}),JSON.parse(JSON.stringify(t))},n.prototype.loadData=function(t){return t===void 0&&(t={}),(0,dt.isEmptyObj)(t)||(this.storables.forEach(function(e){return e.clear()}),this.storables.forEach(function(e){return e.load(t)})),t},n.prototype.getDeviceModel=function(){var t=this.get("device");return this.Devices.get(t)},n.prototype.runDefault=function(t){t===void 0&&(t={});var e=this.get("Commands").get(this.config.defaultCommand);!e||this.defaultRunning||(e.stop(this,this,t),e.run(this,this,t),this.defaultRunning=!0)},n.prototype.stopDefault=function(t){t===void 0&&(t={});var e=this.get("Commands"),r=e.get(this.config.defaultCommand);!r||!this.defaultRunning||(r.stop(this,this,t),this.defaultRunning=!1)},n.prototype.refreshCanvas=function(t){t===void 0&&(t={}),this.Canvas.refresh({spots:t.tools})},n.prototype.clearSelection=function(t){var e,r=t||window;(e=r.getSelection())===null||e===void 0||e.removeAllRanges()},n.prototype.getCurrentMedia=function(){var t=this.config,e=this.getDeviceModel(),r=t.mediaCondition,o=t.devicePreviewMode,l=e&&e.get("widthMedia");return e&&l&&!o?"(".concat(r,": ").concat(l,")"):""},n.prototype.getWrapper=function(){return this.Components.getWrapper()},n.prototype.setCurrentFrame=function(t){return this.set("currentFrame",t)},n.prototype.getCurrentFrame=function(){return this.get("currentFrame")},n.prototype.getCurrentFrameModel=function(){var t;return(t=this.getCurrentFrame()||{})===null||t===void 0?void 0:t.model},n.prototype.getIcon=function(t){var e=this.config.icons||{};return e[t]||""},n.prototype.getDirtyCount=function(){return this.get("changesCount")},n.prototype.clearDirtyCount=function(){return this.set({changesCount:0},{isClear:!0})},n.prototype.getZoomDecimal=function(){return this.Canvas.getZoomDecimal()},n.prototype.getZoomMultiplier=function(){return this.Canvas.getZoomMultiplier()},n.prototype.setDragMode=function(t){return this.set("dmode",t)},n.prototype.getDragMode=function(t){var e=(t==null?void 0:t.getDragMode())||this.get("dmode");return e||""},n.prototype.t=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=this.get("I18n");return r==null?void 0:r.t.apply(r,t)},n.prototype.inAbsoluteMode=function(t){return this.getDragMode(t)==="absolute"},n.prototype.destroyAll=function(){var t=this,e=this,r=e.config,o=e.view,l=this.getEditor(),f=(r.grapesjs||{}).editors,p=f===void 0?[]:f,h=this.get("shallow");this._storageTimeout&&clearTimeout(this._storageTimeout),h==null||h.destroyAll(),this.stopListening(),this.stopDefault(),this.modules.slice().reverse().forEach(function(v){return v.destroy()}),o&&o.remove(),this.clear({silent:!0}),this.destroyed=!0,["_config","view","_previousAttributes","_events","_listeners"].forEach(function(v){return t[v]={}}),p.splice(p.indexOf(l),1),(0,dt.hasWin)()&&(0,C.default)(r.el).empty().attr(this.attrsOrig)},n.prototype.getEditing=function(){var t=this.get("editing");return t&&t.model||void 0},n.prototype.setEditing=function(t){return this.set("editing",t),this},n.prototype.isEditing=function(){return!!this.get("editing")},n.prototype.log=function(t,e){e===void 0&&(e={});var r=e.ns,o=e.level,l=o===void 0?"debug":o;if(this.trigger("log",t,e),l&&this.trigger("log:".concat(l),t,e),r){var f="log-".concat(r);this.trigger(f,t,e),l&&this.trigger("".concat(f,":").concat(l),t,e)}},n.prototype.logInfo=function(t,e){this.log(t,In(In({},e),{level:"info"}))},n.prototype.logWarning=function(t,e){this.log(t,In(In({},e),{level:"warning"}))},n.prototype.logError=function(t,e){this.log(t,In(In({},e),{level:"error"}))},n.prototype.initBaseColorPicker=function(t,e){e===void 0&&(e={});var r=this.config,o=r.colorPicker,l=o===void 0?{}:o,f=r.el,p=r.stylePrefix;return(0,C.default)(t).spectrum(In(In({containerClassName:"".concat(p,"one-bg ").concat(p,"two-color"),appendTo:f||"body",maxSelectionSize:8,showPalette:!0,palette:[],showAlpha:!0,chooseText:"Ok",cancelText:"⨯"},e),l))},n.prototype.skip=function(t){this.__skip=!0;var e=this.UndoManager;e?e.skip(t):t(),this.__skip=!1},n.prototype.data=function(t,e,r){var o="_gjs-data";if(t[o]||(t[o]={}),(0,R.isUndefined)(r))return t[o][e];t[o][e]=r},n}(m.Hn);const lw=sw;var uw=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),cw=function(a){uw(n,a);function n(t){var e=a.call(this,{model:t})||this,r=t.Panels,o=t.UndoManager;return t.view=e,t.once("change:ready",function(){r.active(),r.disableButtons(),o.clear(),setTimeout(function(){t.trigger("load",t.Editor),t.clearDirtyCount()})}),e}return n.prototype.render=function(){var t=this,e=this,r=e.$el,o=e.model,l=o.Panels,f=o.Canvas,p=o.config,h=o.modules,v=p.stylePrefix,b=["".concat(v,"editor")];!p.customUI&&b.push("".concat(v,"one-bg ").concat(v,"two-color"));var P=(0,C.default)(p.el||"body ".concat(p.container));p.cssIcons&&(0,dt.appendStyles)(p.cssIcons,{unique:!0,prepand:!0}),r.empty(),p.width&&P.css("width",p.width),p.height&&P.css("height",p.height),r.append(f.render()),r.append(l.render());var B=o.shallow,tt=B.Canvas.render();return tt.style.display="none",r.append(tt),r.attr("class",b.join(" ")),P.addClass("".concat(v,"editor-cont")).empty().append(r),h.forEach(function(ut){var ct;return(ct=ut.postRender)===null||ct===void 0?void 0:ct.call(ut,t)}),this},n}(m.G7);const fw=cw;var wu=function(){return wu=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},wu.apply(this,arguments)},mh=function(a,n,t,e){function r(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function f(v){try{h(e.next(v))}catch(b){l(b)}}function p(v){try{h(e.throw(v))}catch(b){l(b)}}function h(v){v.done?o(v.value):r(v.value).then(f,p)}h((e=e.apply(a,n||[])).next())})},yh=function(a,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,r,o,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(h){return function(v){return p([h,v])}}function p(h){if(e)throw new TypeError("Generator is already executing.");for(;l&&(l=0,h[0]&&(t=0)),t;)try{if(e=1,r&&(o=h[0]&2?r.return:h[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,h[1])).done)return o;switch(r=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,r=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){t.label=h[1];break}if(h[0]===6&&t.label<o[1]){t.label=o[1],o=h;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(h);break}o[2]&&t.ops.pop(),t.trys.pop();continue}h=n.call(a,t)}catch(v){h=[6,v],r=0}finally{e=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},pw=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return a.concat(o||Array.prototype.slice.call(n))},dw=function(){function a(n,t){n===void 0&&(n={}),t===void 0&&(t={});var e;this.html=wt,this.config=wu(wu(wu({},_t),n),{pStylePrefix:(e=n.stylePrefix)!==null&&e!==void 0?e:_t.stylePrefix}),this.em=new lw(this.config),this.$=t.$,this.em.init(this),this.editor=this.em}return Object.defineProperty(a.prototype,"Config",{get:function(){return this.em.config},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"I18n",{get:function(){return this.em.I18n},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Utils",{get:function(){return this.em.Utils},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Commands",{get:function(){return this.em.Commands},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Keymaps",{get:function(){return this.em.Keymaps},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Modal",{get:function(){return this.em.Modal},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Panels",{get:function(){return this.em.Panels},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Canvas",{get:function(){return this.em.Canvas},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Parser",{get:function(){return this.em.Parser},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"CodeManager",{get:function(){return this.em.CodeManager},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"UndoManager",{get:function(){return this.em.UndoManager},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"RichTextEditor",{get:function(){return this.em.RichTextEditor},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Pages",{get:function(){return this.em.Pages},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Components",{get:function(){return this.em.Components},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"DomComponents",{get:function(){return this.em.Components},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Layers",{get:function(){return this.em.Layers},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"LayerManager",{get:function(){return this.em.Layers},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Css",{get:function(){return this.em.Css},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"CssComposer",{get:function(){return this.em.Css},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Storage",{get:function(){return this.em.Storage},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"StorageManager",{get:function(){return this.em.Storage},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Assets",{get:function(){return this.em.Assets},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"AssetManager",{get:function(){return this.em.Assets},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Blocks",{get:function(){return this.em.Blocks},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"BlockManager",{get:function(){return this.em.Blocks},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Traits",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"TraitManager",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Selectors",{get:function(){return this.em.Selectors},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"SelectorManager",{get:function(){return this.em.Selectors},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Styles",{get:function(){return this.em.Styles},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"StyleManager",{get:function(){return this.em.Styles},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Devices",{get:function(){return this.em.Devices},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"DeviceManager",{get:function(){return this.em.Devices},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"EditorModel",{get:function(){return this.em},enumerable:!1,configurable:!0}),a.prototype.getConfig=function(n){return this.em.getConfig(n)},a.prototype.getHtml=function(n){return this.em.getHtml(n)},a.prototype.getCss=function(n){return this.em.getCss(n)},a.prototype.getJs=function(n){return this.em.getJs(n)},a.prototype.getComponents=function(){return this.Components.getComponents()},a.prototype.getWrapper=function(){return this.Components.getWrapper()},a.prototype.setComponents=function(n,t){return t===void 0&&(t={}),this.em.setComponents(n,t),this},a.prototype.addComponents=function(n,t){return this.getWrapper().append(n,t)},a.prototype.getStyle=function(){return this.em.Css.getAll()},a.prototype.setStyle=function(n,t){return t===void 0&&(t={}),this.em.setStyle(n,t),this},a.prototype.addStyle=function(n,t){return t===void 0&&(t={}),this.em.addStyle(n,t)},a.prototype.getSelected=function(){return this.em.getSelected()},a.prototype.getSelectedAll=function(){return this.em.getSelectedAll()},a.prototype.getSelectedToStyle=function(){var n=this.em.getSelected();if(n)return this.StyleManager.getModelToStyle(n)},a.prototype.select=function(n,t){return this.em.setSelected(n,t),this},a.prototype.selectAdd=function(n){return this.em.addSelected(n),this},a.prototype.selectRemove=function(n){return this.em.removeSelected(n),this},a.prototype.selectToggle=function(n){return this.em.toggleSelected(n),this},a.prototype.getEditing=function(){return this.em.getEditing()},a.prototype.setDevice=function(n){return this.em.set("device",n),this},a.prototype.getDevice=function(){return this.em.get("device")},a.prototype.runCommand=function(n,t){return t===void 0&&(t={}),this.Commands.run(n,t)},a.prototype.stopCommand=function(n,t){return t===void 0&&(t={}),this.Commands.stop(n,t)},a.prototype.store=function(n){return mh(this,void 0,void 0,function(){return yh(this,function(t){switch(t.label){case 0:return[4,this.em.store(n)];case 1:return[2,t.sent()]}})})},a.prototype.load=function(n,t){return t===void 0&&(t={}),mh(this,void 0,void 0,function(){return yh(this,function(e){switch(e.label){case 0:return[4,this.em.load(n,t)];case 1:return[2,e.sent()]}})})},a.prototype.getProjectData=function(){return this.em.storeData()},a.prototype.loadProjectData=function(n){return this.em.loadData(n)},a.prototype.storeData=function(){return this.em.storeData()},a.prototype.loadData=function(n){return this.em.loadData(n)},a.prototype.getContainer=function(){return this.config.el},a.prototype.getDirtyCount=function(){return this.em.getDirtyCount()},a.prototype.clearDirtyCount=function(){return this.em.clearDirtyCount()},a.prototype.refresh=function(n){this.em.refreshCanvas(n)},a.prototype.setCustomRte=function(n){this.RichTextEditor.customRte=n},a.prototype.setCustomParserCss=function(n){return this.Parser.getConfig().parserCss=n,this},a.prototype.setDragMode=function(n){return this.em.setDragMode(n),this},a.prototype.log=function(n,t){return t===void 0&&(t={}),this.em.log(n,t),this},a.prototype.t=function(){for(var n,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(n=this.em).t.apply(n,t)},a.prototype.on=function(n,t){return this.em.on(n,t),this},a.prototype.once=function(n,t){return this.em.once(n,t),this},a.prototype.off=function(n,t){return this.em.off(n,t),this},a.prototype.trigger=function(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return this.em.trigger.apply(this.em,pw([n],t,!0)),this},a.prototype.destroy=function(){this.em&&(this.em.destroyAll(),this.editorView=void 0)},a.prototype.getEl=function(){var n;return(n=this.editorView)===null||n===void 0?void 0:n.el},a.prototype.getModel=function(){return this.em},a.prototype.render=function(){var n;return(n=this.editorView)===null||n===void 0||n.remove(),this.editorView=new fw(this.em),this.editorView.render().el},a.prototype.onReady=function(n){this.em.get("ready")?n(this):this.em.on("load",n)},a}();const hw=dw;var vw=function(a,n){var t=n.get(a);if(!t){var e=(0,dt.getGlobal)()[a];t=(e==null?void 0:e.default)||e}return t},wh=function(a,n){return(0,R.isString)(a)?vw(a,n):(a==null?void 0:a.default)||a},bh=function(a,n){a.getModel().logWarning("Plugin ".concat(n," not found"),{context:"plugins",plugin:n})},gw=function(){function a(){this.plugins={}}return a.prototype.add=function(n,t){var e=this.get(n);return e||(this.plugins[n]=t,t)},a.prototype.get=function(n){return this.plugins[n]},a.prototype.getAll=function(){return this.plugins},a}();const mw=gw,yw=function(){var a=function(){for(var t,e=window.navigator.userAgent,r=[["edge",/Edge\/([0-9\._]+)/],["ie",/MSIE\s(7\.0)/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/]],o=0;o<r.length;o++){var l=r[o];if(t=l[1].exec(e),t)break}return!!t};if((0,dt.hasWin)()&&a()){var n=DOMImplementation.prototype.createHTMLDocument;DOMImplementation.prototype.createHTMLDocument=function(t){return t||(t=""),n.apply(document.implementation,[t])}}};var uf=function(){return uf=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},uf.apply(this,arguments)};yw();var $p=new mw,_h=[],xh=function(a,n){var t=wh(a,$p);return function(e){t?t(e,n||{}):bh(e,a)}},Ch={$:C.default,editors:_h,plugins:$p,usePlugin:xh,version:"0.21.12",init:function(a){a===void 0&&(a={});var n=a.headless,t=a.container;if(!t&&!n)throw new Error("'container' is required");var e=uf(uf({autorender:!0,plugins:[],pluginsOpts:{}},a),{grapesjs:this,el:n?void 0:(0,R.isElement)(t)?t:document.querySelector(t)}),r=new hw(e,{$:C.default}),o=r.getModel();return e.plugins.forEach(function(l){var f=wh(l,$p),p=e.pluginsOpts[l]||{};f?f(r,p):bh(r,l)}),o.loadOnStart(),e.autorender&&!n&&r.render(),_h.push(r),r}};const ww=Ch})();var ob=Zh.ZP,Yh={exports:{}};/*! grapesjs-blocks-basic - 1.0.2 */(function(R,dt){(function(wt,ht){R.exports=ht()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:zi,()=>(()=>{var wt={d:(C,M)=>{for(var m in M)wt.o(M,m)&&!wt.o(C,m)&&Object.defineProperty(C,m,{enumerable:!0,get:M[m]})},o:(C,M)=>Object.prototype.hasOwnProperty.call(C,M),r:C=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(C,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(C,"__esModule",{value:!0})}},ht={};wt.r(ht),wt.d(ht,{default:()=>J});var _t=function(){return _t=Object.assign||function(C){for(var M,m=1,A=arguments.length;m<A;m++)for(var w in M=arguments[m])Object.prototype.hasOwnProperty.call(M,w)&&(C[w]=M[w]);return C},_t.apply(this,arguments)},ot=function(){return ot=Object.assign||function(C){for(var M,m=1,A=arguments.length;m<A;m++)for(var w in M=arguments[m])Object.prototype.hasOwnProperty.call(M,w)&&(C[w]=M[w]);return C},ot.apply(this,arguments)};const J=function(C,M){M===void 0&&(M={}),function(m,A){var w=m.BlockManager,_=A.category,O=A.blocks,L=A.stylePrefix,Q=A.flexGrid,X=A.rowHeight,U=A.addBasicStyle,V="".concat(L,"row"),j="".concat(L,"cell"),k=Q?`
    .`.concat(V,` {
      display: flex;
      justify-content: flex-start;
      align-items: stretch;
      flex-wrap: nowrap;
      padding: 10px;
    }
    @media (max-width: 768px) {
      .`).concat(V,` {
        flex-wrap: wrap;
      }
    }`):`
    .`.concat(V,` {
      display: table;
      padding: 10px;
      width: 100%;
    }
    @media (max-width: 768px) {
      .`).concat(L,"cell, .").concat(L,"cell30, .").concat(L,`cell70 {
        width: 100%;
        display: block;
      }
    }`),q=Q?`
    .`.concat(j,` {
      min-height: `).concat(X,`px;
      flex-grow: 1;
      flex-basis: 100%;
    }`):`
    .`.concat(j,` {
      width: 8%;
      display: table-cell;
      height: `).concat(X,`px;
    }`),et=`
  .`.concat(L,`cell30 {
    width: 30%;
  }`),Z=`
  .`.concat(L,`cell70 {
    width: 70%;
  }`),rt=1,T={tl:0,tc:0,tr:0,cl:0,cr:0,bl:0,br:0,minDim:rt},z=_t(_t({},T),{cr:1,bc:0,currentUnit:1,minDim:rt,step:.2});Q&&(z.keyWidth="flex-basis");var I={class:V,"data-gjs-droppable":".".concat(j),"data-gjs-resizable":T,"data-gjs-name":"Row"},N={class:j,"data-gjs-draggable":".".concat(V),"data-gjs-resizable":z,"data-gjs-name":"Cell"};Q&&(N["data-gjs-unstylable"]=["width"],N["data-gjs-stylable-require"]=["flex-basis"]);var G=[".".concat(V),".".concat(j)];m.on("selector:add",function(Lt){return G.indexOf(Lt.getFullName())>=0&&Lt.set("private",1)});var E=function(Lt){var Xt=[];for(var St in Lt){var Ut=Lt[St];Ut=Ut instanceof Array||Ut instanceof Object?JSON.stringify(Ut):Ut,Xt.push("".concat(St,"=").concat("'".concat(Ut,"'")))}return Xt.length?" ".concat(Xt.join(" ")):""},$=function(Lt){return O.indexOf(Lt)>=0},x=E(I),gt=E(N),at={category:_,select:!0};$("column1")&&w.add("column1",_t(_t({},at),{label:A.labelColumn1,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M2 20h20V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h20a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1Z"/>
      </svg>`,content:"<div ".concat(x,`>
        <div `).concat(gt,`></div>
      </div>
      `).concat(U?`<style>
          `.concat(k,`
          `).concat(q,`
        </style>`):"")})),$("column2")&&w.add("column2",_t(_t({},at),{label:A.labelColumn2,media:`<svg viewBox="0 0 23 24">
        <path fill="currentColor" d="M2 20h8V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1ZM13 20h8V4h-8v16Zm-1 0V4a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-8a1 1 0 0 1-1-1Z"/>
      </svg>`,content:"<div ".concat(x,`>
        <div `).concat(gt,`></div>
        <div `).concat(gt,`></div>
      </div>
      `).concat(U?`<style>
          `.concat(k,`
          `).concat(q,`
        </style>`):"")})),$("column3")&&w.add("column3",_t(_t({},at),{label:A.labelColumn3,media:`<svg viewBox="0 0 23 24">
        <path fill="currentColor" d="M2 20h4V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1ZM17 20h4V4h-4v16Zm-1 0V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1ZM9.5 20h4V4h-4v16Zm-1 0V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1Z"/>
      </svg>`,content:"<div ".concat(x,`>
        <div `).concat(gt,`></div>
        <div `).concat(gt,`></div>
        <div `).concat(gt,`></div>
      </div>
      `).concat(U?`<style>
          `.concat(k,`
          `).concat(q,`
        </style>`):"")})),$("column3-7")&&w.add("column3-7",_t(_t({},at),{label:A.labelColumn37,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M2 20h5V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1ZM10 20h12V4H10v16Zm-1 0V4a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1Z"/>
      </svg>`,content:"<div ".concat(x,`>
        <div `).concat(gt," style='").concat(Q?"flex-basis":"width",`: 30%;'></div>
        <div `).concat(gt," style='").concat(Q?"flex-basis":"width",`: 70%;'></div>
      </div>
      `).concat(U?`<style>
          `.concat(k,`
          `).concat(q,`
          `).concat(et,`
          `).concat(Z,`
        </style>`):"")})),$("text")&&w.add("text",_t(_t({},at),{activate:!0,label:A.labelText,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M18.5,4L19.66,8.35L18.7,8.61C18.25,7.74 17.79,6.87 17.26,6.43C16.73,6 16.11,6 15.5,6H13V16.5C13,17 13,17.5 13.33,17.75C13.67,18 14.33,18 15,18V19H9V18C9.67,18 10.33,18 10.67,17.75C11,17.5 11,17 11,16.5V6H8.5C7.89,6 7.27,6 6.74,6.43C6.21,6.87 5.75,7.74 5.3,8.61L4.34,8.35L5.5,4H18.5Z" />
      </svg>`,content:{type:"text",content:"Insert your text here",style:{padding:"10px"}}})),$("link")&&w.add("link",_t(_t({},at),{label:A.labelLink,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z" />
      </svg>`,content:{type:"link",content:"Link",style:{color:"#d983a6"}}})),$("image")&&w.add("image",_t(_t({},at),{activate:!0,label:A.labelImage,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M21,3H3C2,3 1,4 1,5V19A2,2 0 0,0 3,21H21C22,21 23,20 23,19V5C23,4 22,3 21,3M5,17L8.5,12.5L11,15.5L14.5,11L19,17H5Z" />
      </svg>`,content:{style:{color:"black"},type:"image"}})),$("video")&&w.add("video",_t(_t({},at),{label:A.labelVideo,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M10,15L15.19,12L10,9V15M21.56,7.17C21.69,7.64 21.78,8.27 21.84,9.07C21.91,9.87 21.94,10.56 21.94,11.16L22,12C22,14.19 21.84,15.8 21.56,16.83C21.31,17.73 20.73,18.31 19.83,18.56C19.36,18.69 18.5,18.78 17.18,18.84C15.88,18.91 14.69,18.94 13.59,18.94L12,19C7.81,19 5.2,18.84 4.17,18.56C3.27,18.31 2.69,17.73 2.44,16.83C2.31,16.36 2.22,15.73 2.16,14.93C2.09,14.13 2.06,13.44 2.06,12.84L2,12C2,9.81 2.16,8.2 2.44,7.17C2.69,6.27 3.27,5.69 4.17,5.44C4.64,5.31 5.5,5.22 6.82,5.16C8.12,5.09 9.31,5.06 10.41,5.06L12,5C16.19,5 18.8,5.16 19.83,5.44C20.73,5.69 21.31,6.27 21.56,7.17Z" />
      </svg>`,content:{type:"video",src:"img/video2.webm",style:{height:"350px",width:"615px"}}})),$("map")&&w.add("map",_t(_t({},at),{label:A.labelMap,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M20.5,3L20.34,3.03L15,5.1L9,3L3.36,4.9C3.15,4.97 3,5.15 3,5.38V20.5A0.5,0.5 0 0,0 3.5,21L3.66,20.97L9,18.9L15,21L20.64,19.1C20.85,19.03 21,18.85 21,18.62V3.5A0.5,0.5 0 0,0 20.5,3M10,5.47L14,6.87V18.53L10,17.13V5.47M5,6.46L8,5.45V17.15L5,18.31V6.46M19,17.54L16,18.55V6.86L19,5.7V17.54Z" />
      </svg>`,content:{type:"map",style:{height:"350px"}}}))}(C,ot({blocks:["column1","column2","column3","column3-7","text","link","image","video","map"],flexGrid:!1,stylePrefix:"gjs-",addBasicStyle:!0,category:"Basic",labelColumn1:"1 Column",labelColumn2:"2 Columns",labelColumn3:"3 Columns",labelColumn37:"2 Columns 3/7",labelText:"Text",labelLink:"Link",labelImage:"Image",labelVideo:"Video",labelMap:"Map",rowHeight:75},M))};return ht})())})(Yh);var ib=Yh.exports;const ab=Wi(ib);var Xh={exports:{}};/*! grapesjs-plugin-forms - 2.0.6 */(function(R,dt){(function(wt,ht){R.exports=ht()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:zi,()=>(()=>{var wt={d:(X,U)=>{for(var V in U)wt.o(U,V)&&!wt.o(X,V)&&Object.defineProperty(X,V,{enumerable:!0,get:U[V]})},o:(X,U)=>Object.prototype.hasOwnProperty.call(X,U),r:X=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(X,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(X,"__esModule",{value:!0})}},ht={};wt.r(ht),wt.d(ht,{default:()=>Q});var _t="form",ot="input",J="textarea",C="select",M="checkbox",m="radio",A="button",w="label",_="option",O=function(){return O=Object.assign||function(X){for(var U,V=1,j=arguments.length;V<j;V++)for(var k in U=arguments[V])Object.prototype.hasOwnProperty.call(U,k)&&(X[k]=U[k]);return X},O.apply(this,arguments)},L=function(){return L=Object.assign||function(X){for(var U,V=1,j=arguments.length;V<j;V++)for(var k in U=arguments[V])Object.prototype.hasOwnProperty.call(U,k)&&(X[k]=U[k]);return X},L.apply(this,arguments)};const Q=function(X,U){U===void 0&&(U={});var V=L({blocks:["form","input","textarea","select","button","label","checkbox","radio"],category:{id:"forms",label:"Forms"},block:function(){return{}}},U);(function(j){var k=j.Components,q={name:"name"},et={name:"placeholder"},Z={type:"checkbox",name:"required"},rt=function(z,I){return{type:_,content:I,attributes:{value:z}}},T=function(z){j.Commands.isActive("preview")||z.preventDefault()};k.addType(_t,{isComponent:function(z){return z.tagName=="FORM"},model:{defaults:{tagName:"form",droppable:":not(form)",draggable:":not(form)",attributes:{method:"get"},traits:[{type:"select",name:"method",options:[{value:"get",name:"GET"},{value:"post",name:"POST"}]},{name:"action"}]}},view:{events:{submit:function(z){return z.preventDefault()}}}}),k.addType(ot,{isComponent:function(z){return z.tagName=="INPUT"},model:{defaults:{tagName:"input",droppable:!1,highlightable:!1,attributes:{type:"text"},traits:[q,et,{type:"select",name:"type",options:[{value:"text"},{value:"email"},{value:"password"},{value:"number"}]},Z]}},extendFnView:["updateAttributes"],view:{updateAttributes:function(){this.el.setAttribute("autocomplete","off")}}}),k.addType(J,{extend:ot,isComponent:function(z){return z.tagName=="TEXTAREA"},model:{defaults:{tagName:"textarea",attributes:{},traits:[q,et,Z]}}}),k.addType(_,{isComponent:function(z){return z.tagName=="OPTION"},model:{defaults:{tagName:"option",layerable:!1,droppable:!1,draggable:!1,highlightable:!1}}}),k.addType(C,{isComponent:function(z){return z.tagName=="SELECT"},model:{defaults:{tagName:"select",droppable:!1,highlightable:!1,components:[rt("opt1","Option 1"),rt("opt2","Option 2")],traits:[q,{name:"options",type:"select-options"},Z]}},view:{events:{mousedown:T}}}),k.addType(M,{extend:ot,isComponent:function(z){return z.tagName=="INPUT"&&z.type=="checkbox"},model:{defaults:{copyable:!1,attributes:{type:"checkbox"},traits:[{name:"id"},q,{name:"value"},Z,{type:"checkbox",name:"checked"}]}},view:{events:{click:T},init:function(){this.listenTo(this.model,"change:attributes:checked",this.handleChecked)},handleChecked:function(){var z;this.el.checked=!!(!((z=this.model.get("attributes"))===null||z===void 0)&&z.checked)}}}),k.addType(m,{extend:M,isComponent:function(z){return z.tagName=="INPUT"&&z.type=="radio"},model:{defaults:{attributes:{type:"radio"}}}}),k.addType(A,{extend:ot,isComponent:function(z){return z.tagName=="BUTTON"},model:{defaults:{tagName:"button",attributes:{type:"button"},text:"Send",traits:[{name:"text",changeProp:!0},{type:"select",name:"type",options:[{value:"button"},{value:"submit"},{value:"reset"}]}]},init:function(){var z=this.components(),I=z.length===1&&z.models[0],N=I&&I.is("textnode")&&I.get("content")||"",G=N||this.get("text");this.set("text",G),this.on("change:text",this.__onTextChange),G!==N&&this.__onTextChange()},__onTextChange:function(){this.components(this.get("text"))}},view:{events:{click:T}}}),k.addType(w,{extend:"text",isComponent:function(z){return z.tagName=="LABEL"},model:{defaults:{tagName:"label",components:"Label",traits:[{name:"for"}]}}})})(X),function(j){j.TraitManager.addType("select-options",{events:{keyup:"onChange"},onValueChange:function(){for(var k,q=this.model,et=this.target,Z=q.get("value").trim().split(`
`),rt=[],T=0;T<Z.length;T++){var z=Z[T].split("::");rt.push({type:_,components:z[1]||z[0],attributes:{value:z[0]}})}et.components().reset(rt),(k=et.view)===null||k===void 0||k.render()},getInputEl:function(){if(!this.$input){for(var k=[],q=this.target.components(),et=0;et<q.length;et++){var Z=q.models[et],rt=Z.get("attributes"),T=(rt==null?void 0:rt.value)||"",z=Z.components().models[0],I=z&&z.get("content")||"";k.push("".concat(T,"::").concat(I))}var N=document.createElement("textarea");N.value=k.join(`
`),this.$input=N}return this.$input}})}(X),function(j,k){var q=k,et=j.BlockManager,Z=function(rt,T){var z;((z=q.blocks)===null||z===void 0?void 0:z.indexOf(rt))>=0&&et.add(rt,O(O(O({},T),{category:q.category,select:!0}),k.block(rt)))};Z(_t,{label:"Form",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 5.5c0-.3-.5-.5-1.3-.5H3.4c-.8 0-1.3.2-1.3.5v3c0 .3.5.5 1.3.5h17.4c.8 0 1.3-.2 1.3-.5v-3zM21 8H3V6h18v2zM22 10.5c0-.3-.5-.5-1.3-.5H3.4c-.8 0-1.3.2-1.3.5v3c0 .3.5.5 1.3.5h17.4c.8 0 1.3-.2 1.3-.5v-3zM21 13H3v-2h18v2z"/><rect width="10" height="3" x="2" y="15" rx=".5"/></svg>',content:{type:_t,components:[{components:[{type:w,components:"Name"},{type:ot}]},{components:[{type:w,components:"Email"},{type:ot,attributes:{type:"email"}}]},{components:[{type:w,components:"Gender"},{type:M,attributes:{value:"M"}},{type:w,components:"M"},{type:M,attributes:{value:"F"}},{type:w,components:"F"}]},{components:[{type:w,components:"Message"},{type:J}]},{components:[{type:A}]}]}}),Z(ot,{label:"Input",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 9c0-.6-.5-1-1.3-1H3.4C2.5 8 2 8.4 2 9v6c0 .6.5 1 1.3 1h17.4c.8 0 1.3-.4 1.3-1V9zm-1 6H3V9h18v6z"/><path d="M4 10h1v4H4z"/></svg>',content:{type:ot}}),Z(J,{label:"Textarea",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 7.5c0-.9-.5-1.5-1.3-1.5H3.4C2.5 6 2 6.6 2 7.5v9c0 .9.5 1.5 1.3 1.5h17.4c.8 0 1.3-.6 1.3-1.5v-9zM21 17H3V7h18v10z"/><path d="M4 8h1v4H4zM19 7h1v10h-1zM20 8h1v1h-1zM20 15h1v1h-1z"/></svg>',content:{type:J}}),Z(C,{label:"Select",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 9c0-.6-.5-1-1.3-1H3.4C2.5 8 2 8.4 2 9v6c0 .6.5 1 1.3 1h17.4c.8 0 1.3-.4 1.3-1V9zm-1 6H3V9h18v6z"/><path d="M18.5 13l1.5-2h-3zM4 11.5h11v1H4z"/></svg>',content:{type:C}}),Z(A,{label:"Button",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 9c0-.6-.5-1-1.3-1H3.4C2.5 8 2 8.4 2 9v6c0 .6.5 1 1.3 1h17.4c.8 0 1.3-.4 1.3-1V9zm-1 6H3V9h18v6z"/><path d="M4 11.5h16v1H4z"/></svg>',content:{type:A}}),Z(w,{label:"Label",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 11.9c0-.6-.5-.9-1.3-.9H3.4c-.8 0-1.3.3-1.3.9V17c0 .5.5.9 1.3.9h17.4c.8 0 1.3-.4 1.3-.9V12zM21 17H3v-5h18v5z"/><rect width="14" height="5" x="2" y="5" rx=".5"/><path d="M4 13h1v3H4z"/></svg>',content:{type:w}}),Z(M,{label:"Checkbox",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 17l-5-5 1.41-1.42L10 14.17l7.59-7.59L19 8m0-5H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2z"></path></svg>',content:{type:M}}),Z(m,{label:"Radio",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8m0-18C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 5c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5z"></path></svg>',content:{type:m}})}(X,V)};return ht})())})(Xh);var sb=Xh.exports;const lb=Wi(sb);var Jh={exports:{}};/*! grapesjs-custom-code - 1.0.2 */(function(R,dt){(function(wt,ht){R.exports=ht()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:zi,()=>(()=>{var wt={d:(_,O)=>{for(var L in O)wt.o(O,L)&&!wt.o(_,L)&&Object.defineProperty(_,L,{enumerable:!0,get:O[L]})},o:(_,O)=>Object.prototype.hasOwnProperty.call(_,O),r:_=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(_,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(_,"__esModule",{value:!0})}},ht={};wt.r(ht),wt.d(ht,{default:()=>w});var _t="custom-code-plugin__code",ot="custom-code",J="custom-code:open-modal",C=function(){return C=Object.assign||function(_){for(var O,L=1,Q=arguments.length;L<Q;L++)for(var X in O=arguments[L])Object.prototype.hasOwnProperty.call(O,X)&&(_[X]=O[X]);return _},C.apply(this,arguments)},M=function(){return M=Object.assign||function(_){for(var O,L=1,Q=arguments.length;L<Q;L++)for(var X in O=arguments[L])Object.prototype.hasOwnProperty.call(O,X)&&(_[X]=O[X]);return _},M.apply(this,arguments)},m=function(){return m=Object.assign||function(_){for(var O,L=1,Q=arguments.length;L<Q;L++)for(var X in O=arguments[L])Object.prototype.hasOwnProperty.call(O,X)&&(_[X]=O[X]);return _},m.apply(this,arguments)},A=function(){return A=Object.assign||function(_){for(var O,L=1,Q=arguments.length;L<Q;L++)for(var X in O=arguments[L])Object.prototype.hasOwnProperty.call(O,X)&&(_[X]=O[X]);return _},A.apply(this,arguments)};const w=function(_,O){O===void 0&&(O={});var L=A({blockCustomCode:{},propsCustomCode:{},toolbarBtnCustomCode:{},placeholderScript:`<div style="pointer-events: none; padding: 10px;">
      <svg viewBox="0 0 24 24" style="height: 30px; vertical-align: middle;">
        <path d="M13 14h-2v-4h2m0 8h-2v-2h2M1 21h22L12 2 1 21z"></path>
        </svg>
      Custom code with <i>&lt;script&gt;</i> can't be rendered on the canvas
    </div>`,modalTitle:"Insert your code",codeViewOptions:{},buttonLabel:"Save",commandCustomCode:{}},O);(function(Q,X){X===void 0&&(X={});var U,V=Q.Components,j=X.toolbarBtnCustomCode;V.addType("script",{view:{onRender:function(){var k=this.model,q=this.el;k.closestType(ot)&&(q.innerHTML="")}}}),V.addType(ot,{model:{defaults:m({name:"Custom Code",editable:!0,components:{tagName:"span",components:{type:"textnode",content:"Insert here your custom code"}}},X.propsCustomCode),init:function(){this.on("change:".concat(_t),this.onCustomCodeChange);var k=this.get(_t);!this.components().length&&this.components(k);var q=this.get("toolbar"),et="custom-code";j&&!q.filter(function(Z){return Z.id===et}).length&&q.unshift(m({id:et,command:J,label:`<svg viewBox="0 0 24 24">
              <path d="M14.6 16.6l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4m-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4z"></path>
            </svg>`},j))},onCustomCodeChange:function(){this.components(this.get(_t))}},view:{events:{dblclick:"onActive"},init:function(){this.listenTo(this.model.components(),"add remove reset",this.onComponentsChange),this.onComponentsChange()},onComponentsChange:function(){var k=this;U&&clearInterval(U),U=setTimeout(function(){var q=k,et=q.model,Z=q.el,rt=!0;(et.get(_t)||"").indexOf("<script")>=0&&X.placeholderScript&&(Z.innerHTML=X.placeholderScript,rt=!1),et.set({droppable:rt})},0)},onActive:function(){var k=this.model;this.em.get("Commands").run(J,{target:k})}}})})(_,L),function(Q,X){var U=(X===void 0?{}:X).blockCustomCode,V=Q.Blocks;U&&V.add(ot,C({label:"Custom Code",media:`
      <svg viewBox="0 0 24 24">
        <path d="M14.6 16.6l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4m-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4z"></path>
      </svg>
    `,category:"Extra",activate:!0,select:!0,content:{type:ot}},U))}(_,L),function(Q,X){X===void 0&&(X={});var U=X.modalTitle,V=X.codeViewOptions,j=X.commandCustomCode,k=function(q,et){et instanceof HTMLElement?q.appendChild(et):et&&q.insertAdjacentHTML("beforeend",et)};Q.Commands.add(J,M({keyCustomCode:_t,target:null,codeViewer:null,run:function(q,et,Z){Z===void 0&&(Z={});var rt=Z.target||q.getSelected();this.target=rt,rt!=null&&rt.get("editable")&&this.showCustomCode(rt,Z)},stop:function(q){q.Modal.close()},showCustomCode:function(q,et){var Z=et.title||U,rt=q.get(_t)||"",T=this.getContent();Q.Modal.open({title:Z,content:T}).onceClose(function(){return Q.stopCommand(J)}),this.getCodeViewer().setContent(rt)},getPreContent:function(){},getPostContent:function(){},getContent:function(){var q=this.getCodeViewer(),et=document.createElement("div"),Z=Q.getConfig("stylePrefix");return et.className="".concat(Z,"custom-code"),k(et,this.getPreContent()),et.appendChild(q.getElement()),k(et,this.getPostContent()),k(et,this.getContentActions()),q.refresh(),setTimeout(function(){return q.focus()},0),et},getContentActions:function(){var q=this,et=document.createElement("button");et.setAttribute("type","button");var Z=Q.getConfig("stylePrefix");return et.innerHTML=X.buttonLabel,et.className="".concat(Z,"btn-prim ").concat(Z,"btn-import__custom-code"),et.onclick=function(){return q.handleSave()},et},handleSave:function(){var q=this.target,et=this.getCodeViewer().getContent();q==null||q.set(_t,et),Q.Modal.close()},getCodeViewer:function(){return this.codeViewer||(this.codeViewer=Q.CodeManager.createViewer(M({codeName:"htmlmixed",theme:"hopscotch",readOnly:0},V))),this.codeViewer}},j))}(_,L)};return ht})())})(Jh);var ub=Jh.exports;const cb=Wi(ub);var Qh={exports:{}};/*! grapesjs-component-countdown - 1.0.2 */(function(R,dt){(function(wt,ht){R.exports=ht()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:zi,()=>(()=>{var wt={d:(J,C)=>{for(var M in C)wt.o(C,M)&&!wt.o(J,M)&&Object.defineProperty(J,M,{enumerable:!0,get:C[M]})},o:(J,C)=>Object.prototype.hasOwnProperty.call(J,C),r:J=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(J,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(J,"__esModule",{value:!0})}},ht={};wt.r(ht),wt.d(ht,{default:()=>ot});var _t=function(){return _t=Object.assign||function(J){for(var C,M=1,m=arguments.length;M<m;M++)for(var A in C=arguments[M])Object.prototype.hasOwnProperty.call(C,A)&&(J[A]=C[A]);return J},_t.apply(this,arguments)};const ot=function(J,C){C===void 0&&(C={});var M=_t({id:"countdown",label:"Countdown",block:{},props:{},style:"",styleAdditional:"",startTime:"",endText:"EXPIRED",dateInputType:"date",labelDays:"days",labelHours:"hours",labelMinutes:"minutes",labelSeconds:"seconds",classPrefix:"countdown"},C),m=M.block,A=M.props,w=M.style,_=M.id,O=M.label,L=M.classPrefix;m&&J.Blocks.add(_,_t({media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M12 20C16.4 20 20 16.4 20 12S16.4 4 12 4 4 7.6 4 12 7.6 20 12 20M12 2C17.5 2 22 6.5 22 12S17.5 22 12 22C6.5 22 2 17.5 2 12C2 6.5 6.5 2 12 2M17 11.5V13H11V7H12.5V11.5H17Z" />
      </svg>`,label:O,category:"Extra",select:!0,content:{type:_}},m)),J.Components.addType(_,{model:{defaults:_t({startfrom:M.startTime,classes:[L],endText:M.endText,droppable:!1,script:function(Q){var X=Q.startfrom,U=Q.endText,V=this,j=new Date(X).getTime(),k=V.querySelector("[data-js=countdown]"),q=V.querySelector("[data-js=countdown-endtext]"),et=V.querySelector("[data-js=countdown-day]"),Z=V.querySelector("[data-js=countdown-hour]"),rt=V.querySelector("[data-js=countdown-minute]"),T=V.querySelector("[data-js=countdown-second]"),z=V.__gjsCountdownInterval;z&&clearInterval(z);var I=window.__gjsCountdownIntervals||[],N=[];I.forEach(function($){$.isConnected||(clearInterval($.__gjsCountdownInterval),N.push($))}),I.indexOf(V)<0&&I.push(V),window.__gjsCountdownIntervals=I.filter(function($){return N.indexOf($)<0});var G=function($,x,gt,at){et.innerHTML="".concat($<10?"0"+$:$),Z.innerHTML="".concat(x<10?"0"+x:x),rt.innerHTML="".concat(gt<10?"0"+gt:gt),T.innerHTML="".concat(at<10?"0"+at:at)},E=function(){var $=new Date().getTime(),x=j-$,gt=Math.floor(x/864e5),at=Math.floor(x%864e5/36e5),Lt=Math.floor(x%36e5/6e4),Xt=Math.floor(x%6e4/1e3);G(gt,at,Lt,Xt),x<0&&(clearInterval(V.__gjsCountdownInterval),q.innerHTML=U,k.style.display="none",q.style.display="")};j?(V.__gjsCountdownInterval=setInterval(E,1e3),q.style.display="none",k.style.display="",E()):G(0,0,0,0)},"script-props":["startfrom","endText"],traits:[{label:"Start",name:"startfrom",changeProp:!0,type:M.dateInputType},{label:"End text",name:"endText",changeProp:!0}],components:`
          <span data-js="countdown" class="`.concat(L,`-cont">
            <div class="`).concat(L,`-block">
              <div data-js="countdown-day" class="`).concat(L,`-digit"></div>
              <div class="`).concat(L,'-label">').concat(M.labelDays,`</div>
            </div>
            <div class="`).concat(L,`-block">
              <div data-js="countdown-hour" class="`).concat(L,`-digit"></div>
              <div class="`).concat(L,'-label">').concat(M.labelHours,`</div>
            </div>
            <div class="`).concat(L,`-block">
              <div data-js="countdown-minute" class="`).concat(L,`-digit"></div>
              <div class="`).concat(L,'-label">').concat(M.labelMinutes,`</div>
            </div>
            <div class="`).concat(L,`-block">
              <div data-js="countdown-second" class="`).concat(L,`-digit"></div>
              <div class="`).concat(L,'-label">').concat(M.labelSeconds,`</div>
            </div>
          </span>
          <span data-js="countdown-endtext" class="`).concat(L,`-endtext"></span>
        `),styles:(w||`
          .`.concat(L,` {
            text-align: center;
          }

          .`).concat(L,`-block {
            display: inline-block;
            margin: 0 10px;
            padding: 10px;
          }

          .`).concat(L,`-digit {
            font-size: 5rem;
          }

          .`).concat(L,`-endtext {
            font-size: 5rem;
          }

          .`).concat(L,`-cont {
            display: inline-block;
          }
        `))+M.styleAdditional},A)}})};return ht})())})(Qh);var fb=Qh.exports;const pb=Wi(fb);var tv={exports:{}};(function(R,dt){var wt={};/*! grapesjs-parser-postcss - 1.0.3 */(function(ht,_t){R.exports=_t()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:zi,()=>(()=>{var ht={241:C=>{var M=String,m=function(){return{isColorSupported:!1,reset:M,bold:M,dim:M,italic:M,underline:M,inverse:M,hidden:M,strikethrough:M,black:M,red:M,green:M,yellow:M,blue:M,magenta:M,cyan:M,white:M,gray:M,bgBlack:M,bgRed:M,bgGreen:M,bgYellow:M,bgBlue:M,bgMagenta:M,bgCyan:M,bgWhite:M}};C.exports=m(),C.exports.createColors=m},353:(C,M,m)=>{let A=m(19);class w extends A{constructor(O){super(O),this.type="atrule"}append(...O){return this.proxyOf.nodes||(this.nodes=[]),super.append(...O)}prepend(...O){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...O)}}C.exports=w,w.default=w,A.registerAtRule(w)},932:(C,M,m)=>{let A=m(631);class w extends A{constructor(O){super(O),this.type="comment"}}C.exports=w,w.default=w},19:(C,M,m)=>{let A,w,_,O,{isClean:L,my:Q}=m(513),X=m(258),U=m(932),V=m(631);function j(et){return et.map(Z=>(Z.nodes&&(Z.nodes=j(Z.nodes)),delete Z.source,Z))}function k(et){if(et[L]=!1,et.proxyOf.nodes)for(let Z of et.proxyOf.nodes)k(Z)}class q extends V{append(...Z){for(let rt of Z){let T=this.normalize(rt,this.last);for(let z of T)this.proxyOf.nodes.push(z)}return this.markDirty(),this}cleanRaws(Z){if(super.cleanRaws(Z),this.nodes)for(let rt of this.nodes)rt.cleanRaws(Z)}each(Z){if(!this.proxyOf.nodes)return;let rt,T,z=this.getIterator();for(;this.indexes[z]<this.proxyOf.nodes.length&&(rt=this.indexes[z],T=Z(this.proxyOf.nodes[rt],rt),T!==!1);)this.indexes[z]+=1;return delete this.indexes[z],T}every(Z){return this.nodes.every(Z)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let Z=this.lastEach;return this.indexes[Z]=0,Z}getProxyProcessor(){return{get:(Z,rt)=>rt==="proxyOf"?Z:Z[rt]?rt==="each"||typeof rt=="string"&&rt.startsWith("walk")?(...T)=>Z[rt](...T.map(z=>typeof z=="function"?(I,N)=>z(I.toProxy(),N):z)):rt==="every"||rt==="some"?T=>Z[rt]((z,...I)=>T(z.toProxy(),...I)):rt==="root"?()=>Z.root().toProxy():rt==="nodes"?Z.nodes.map(T=>T.toProxy()):rt==="first"||rt==="last"?Z[rt].toProxy():Z[rt]:Z[rt],set:(Z,rt,T)=>(Z[rt]===T||(Z[rt]=T,rt!=="name"&&rt!=="params"&&rt!=="selector"||Z.markDirty()),!0)}}index(Z){return typeof Z=="number"?Z:(Z.proxyOf&&(Z=Z.proxyOf),this.proxyOf.nodes.indexOf(Z))}insertAfter(Z,rt){let T,z=this.index(Z),I=this.normalize(rt,this.proxyOf.nodes[z]).reverse();z=this.index(Z);for(let N of I)this.proxyOf.nodes.splice(z+1,0,N);for(let N in this.indexes)T=this.indexes[N],z<T&&(this.indexes[N]=T+I.length);return this.markDirty(),this}insertBefore(Z,rt){let T,z=this.index(Z),I=z===0&&"prepend",N=this.normalize(rt,this.proxyOf.nodes[z],I).reverse();z=this.index(Z);for(let G of N)this.proxyOf.nodes.splice(z,0,G);for(let G in this.indexes)T=this.indexes[G],z<=T&&(this.indexes[G]=T+N.length);return this.markDirty(),this}normalize(Z,rt){if(typeof Z=="string")Z=j(A(Z).nodes);else if(Array.isArray(Z)){Z=Z.slice(0);for(let T of Z)T.parent&&T.parent.removeChild(T,"ignore")}else if(Z.type==="root"&&this.type!=="document"){Z=Z.nodes.slice(0);for(let T of Z)T.parent&&T.parent.removeChild(T,"ignore")}else if(Z.type)Z=[Z];else if(Z.prop){if(Z.value===void 0)throw new Error("Value field is missed in node creation");typeof Z.value!="string"&&(Z.value=String(Z.value)),Z=[new X(Z)]}else if(Z.selector)Z=[new w(Z)];else if(Z.name)Z=[new _(Z)];else{if(!Z.text)throw new Error("Unknown node type in node creation");Z=[new U(Z)]}return Z.map(T=>(T[Q]||q.rebuild(T),(T=T.proxyOf).parent&&T.parent.removeChild(T),T[L]&&k(T),T.raws.before===void 0&&rt&&rt.raws.before!==void 0&&(T.raws.before=rt.raws.before.replace(/\S/g,"")),T.parent=this.proxyOf,T))}prepend(...Z){Z=Z.reverse();for(let rt of Z){let T=this.normalize(rt,this.first,"prepend").reverse();for(let z of T)this.proxyOf.nodes.unshift(z);for(let z in this.indexes)this.indexes[z]=this.indexes[z]+T.length}return this.markDirty(),this}push(Z){return Z.parent=this,this.proxyOf.nodes.push(Z),this}removeAll(){for(let Z of this.proxyOf.nodes)Z.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(Z){let rt;Z=this.index(Z),this.proxyOf.nodes[Z].parent=void 0,this.proxyOf.nodes.splice(Z,1);for(let T in this.indexes)rt=this.indexes[T],rt>=Z&&(this.indexes[T]=rt-1);return this.markDirty(),this}replaceValues(Z,rt,T){return T||(T=rt,rt={}),this.walkDecls(z=>{rt.props&&!rt.props.includes(z.prop)||rt.fast&&!z.value.includes(rt.fast)||(z.value=z.value.replace(Z,T))}),this.markDirty(),this}some(Z){return this.nodes.some(Z)}walk(Z){return this.each((rt,T)=>{let z;try{z=Z(rt,T)}catch(I){throw rt.addToError(I)}return z!==!1&&rt.walk&&(z=rt.walk(Z)),z})}walkAtRules(Z,rt){return rt?Z instanceof RegExp?this.walk((T,z)=>{if(T.type==="atrule"&&Z.test(T.name))return rt(T,z)}):this.walk((T,z)=>{if(T.type==="atrule"&&T.name===Z)return rt(T,z)}):(rt=Z,this.walk((T,z)=>{if(T.type==="atrule")return rt(T,z)}))}walkComments(Z){return this.walk((rt,T)=>{if(rt.type==="comment")return Z(rt,T)})}walkDecls(Z,rt){return rt?Z instanceof RegExp?this.walk((T,z)=>{if(T.type==="decl"&&Z.test(T.prop))return rt(T,z)}):this.walk((T,z)=>{if(T.type==="decl"&&T.prop===Z)return rt(T,z)}):(rt=Z,this.walk((T,z)=>{if(T.type==="decl")return rt(T,z)}))}walkRules(Z,rt){return rt?Z instanceof RegExp?this.walk((T,z)=>{if(T.type==="rule"&&Z.test(T.selector))return rt(T,z)}):this.walk((T,z)=>{if(T.type==="rule"&&T.selector===Z)return rt(T,z)}):(rt=Z,this.walk((T,z)=>{if(T.type==="rule")return rt(T,z)}))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}}q.registerParse=et=>{A=et},q.registerRule=et=>{w=et},q.registerAtRule=et=>{_=et},q.registerRoot=et=>{O=et},C.exports=q,q.default=q,q.rebuild=et=>{et.type==="atrule"?Object.setPrototypeOf(et,_.prototype):et.type==="rule"?Object.setPrototypeOf(et,w.prototype):et.type==="decl"?Object.setPrototypeOf(et,X.prototype):et.type==="comment"?Object.setPrototypeOf(et,U.prototype):et.type==="root"&&Object.setPrototypeOf(et,O.prototype),et[Q]=!0,et.nodes&&et.nodes.forEach(Z=>{q.rebuild(Z)})}},671:(C,M,m)=>{let A=m(241),w=m(868);class _ extends Error{constructor(L,Q,X,U,V,j){super(L),this.name="CssSyntaxError",this.reason=L,V&&(this.file=V),U&&(this.source=U),j&&(this.plugin=j),Q!==void 0&&X!==void 0&&(typeof Q=="number"?(this.line=Q,this.column=X):(this.line=Q.line,this.column=Q.column,this.endLine=X.line,this.endColumn=X.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,_)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",this.line!==void 0&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(L){if(!this.source)return"";let Q=this.source;L==null&&(L=A.isColorSupported),w&&L&&(Q=w(Q));let X,U,V=Q.split(/\r?\n/),j=Math.max(this.line-3,0),k=Math.min(this.line+2,V.length),q=String(k).length;if(L){let{bold:et,gray:Z,red:rt}=A.createColors(!0);X=T=>et(rt(T)),U=T=>Z(T)}else X=U=et=>et;return V.slice(j,k).map((et,Z)=>{let rt=j+1+Z,T=" "+(" "+rt).slice(-q)+" | ";if(rt===this.line){let z=U(T.replace(/\d/g," "))+et.slice(0,this.column-1).replace(/[^\t]/g," ");return X(">")+U(T)+et+`
 `+z+X("^")}return" "+U(T)+et}).join(`
`)}toString(){let L=this.showSourceCode();return L&&(L=`

`+L+`
`),this.name+": "+this.message+L}}C.exports=_,_.default=_},258:(C,M,m)=>{let A=m(631);class w extends A{constructor(O){O&&O.value!==void 0&&typeof O.value!="string"&&(O={...O,value:String(O.value)}),super(O),this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}}C.exports=w,w.default=w},461:(C,M,m)=>{let A,w,_=m(19);class O extends _{constructor(Q){super({type:"document",...Q}),this.nodes||(this.nodes=[])}toResult(Q={}){return new A(new w,this,Q).stringify()}}O.registerLazyResult=L=>{A=L},O.registerProcessor=L=>{w=L},C.exports=O,O.default=O},250:(C,M,m)=>{let A=m(258),w=m(981),_=m(932),O=m(353),L=m(995),Q=m(25),X=m(675);function U(V,j){if(Array.isArray(V))return V.map(et=>U(et));let{inputs:k,...q}=V;if(k){j=[];for(let et of k){let Z={...et,__proto__:L.prototype};Z.map&&(Z.map={...Z.map,__proto__:w.prototype}),j.push(Z)}}if(q.nodes&&(q.nodes=V.nodes.map(et=>U(et,j))),q.source){let{inputId:et,...Z}=q.source;q.source=Z,et!=null&&(q.source.input=j[et])}if(q.type==="root")return new Q(q);if(q.type==="decl")return new A(q);if(q.type==="rule")return new X(q);if(q.type==="comment")return new _(q);if(q.type==="atrule")return new O(q);throw new Error("Unknown node type: "+V.type)}C.exports=U,U.default=U},995:(C,M,m)=>{let{SourceMapConsumer:A,SourceMapGenerator:w}=m(209),{fileURLToPath:_,pathToFileURL:O}=m(414),{isAbsolute:L,resolve:Q}=m(830),{nanoid:X}=m(961),U=m(868),V=m(671),j=m(981),k=Symbol("fromOffsetCache"),q=!!(A&&w),et=!!(Q&&L);class Z{constructor(T,z={}){if(T==null||typeof T=="object"&&!T.toString)throw new Error(`PostCSS received ${T} instead of CSS string`);if(this.css=T.toString(),this.css[0]==="\uFEFF"||this.css[0]==="￾"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,z.from&&(!et||/^\w+:\/\//.test(z.from)||L(z.from)?this.file=z.from:this.file=Q(z.from)),et&&q){let I=new j(this.css,z);if(I.text){this.map=I;let N=I.consumer().file;!this.file&&N&&(this.file=this.mapResolve(N))}}this.file||(this.id="<input css "+X(6)+">"),this.map&&(this.map.file=this.from)}error(T,z,I,N={}){let G,E,$;if(z&&typeof z=="object"){let gt=z,at=I;if(typeof gt.offset=="number"){let Lt=this.fromOffset(gt.offset);z=Lt.line,I=Lt.col}else z=gt.line,I=gt.column;if(typeof at.offset=="number"){let Lt=this.fromOffset(at.offset);E=Lt.line,$=Lt.col}else E=at.line,$=at.column}else if(!I){let gt=this.fromOffset(z);z=gt.line,I=gt.col}let x=this.origin(z,I,E,$);return G=x?new V(T,x.endLine===void 0?x.line:{column:x.column,line:x.line},x.endLine===void 0?x.column:{column:x.endColumn,line:x.endLine},x.source,x.file,N.plugin):new V(T,E===void 0?z:{column:I,line:z},E===void 0?I:{column:$,line:E},this.css,this.file,N.plugin),G.input={column:I,endColumn:$,endLine:E,line:z,source:this.css},this.file&&(O&&(G.input.url=O(this.file).toString()),G.input.file=this.file),G}fromOffset(T){let z,I;if(this[k])I=this[k];else{let G=this.css.split(`
`);I=new Array(G.length);let E=0;for(let $=0,x=G.length;$<x;$++)I[$]=E,E+=G[$].length+1;this[k]=I}z=I[I.length-1];let N=0;if(T>=z)N=I.length-1;else{let G,E=I.length-2;for(;N<E;)if(G=N+(E-N>>1),T<I[G])E=G-1;else{if(!(T>=I[G+1])){N=G;break}N=G+1}}return{col:T-I[N]+1,line:N+1}}mapResolve(T){return/^\w+:\/\//.test(T)?T:Q(this.map.consumer().sourceRoot||this.map.root||".",T)}origin(T,z,I,N){if(!this.map)return!1;let G,E,$=this.map.consumer(),x=$.originalPositionFor({column:z,line:T});if(!x.source)return!1;typeof I=="number"&&(G=$.originalPositionFor({column:N,line:I})),E=L(x.source)?O(x.source):new URL(x.source,this.map.consumer().sourceRoot||O(this.map.mapFile));let gt={column:x.column,endColumn:G&&G.column,endLine:G&&G.line,line:x.line,url:E.toString()};if(E.protocol==="file:"){if(!_)throw new Error("file: protocol is not available in this PostCSS build");gt.file=_(E)}let at=$.sourceContentFor(x.source);return at&&(gt.source=at),gt}toJSON(){let T={};for(let z of["hasBOM","css","file","id"])this[z]!=null&&(T[z]=this[z]);return this.map&&(T.map={...this.map},T.map.consumerCache&&(T.map.consumerCache=void 0)),T}get from(){return this.file||this.id}}C.exports=Z,Z.default=Z,U&&U.registerInput&&U.registerInput(Z)},939:(C,M,m)=>{let{isClean:A,my:w}=m(513),_=m(505),O=m(88),L=m(19),Q=m(461),X=(m(448),m(632)),U=m(964),V=m(25);const j={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},k={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},q={Once:!0,postcssPlugin:!0,prepare:!0},et=0;function Z(G){return typeof G=="object"&&typeof G.then=="function"}function rt(G){let E=!1,$=j[G.type];return G.type==="decl"?E=G.prop.toLowerCase():G.type==="atrule"&&(E=G.name.toLowerCase()),E&&G.append?[$,$+"-"+E,et,$+"Exit",$+"Exit-"+E]:E?[$,$+"-"+E,$+"Exit",$+"Exit-"+E]:G.append?[$,et,$+"Exit"]:[$,$+"Exit"]}function T(G){let E;return E=G.type==="document"?["Document",et,"DocumentExit"]:G.type==="root"?["Root",et,"RootExit"]:rt(G),{eventIndex:0,events:E,iterator:0,node:G,visitorIndex:0,visitors:[]}}function z(G){return G[A]=!1,G.nodes&&G.nodes.forEach(E=>z(E)),G}let I={};class N{constructor(E,$,x){let gt;if(this.stringified=!1,this.processed=!1,typeof $!="object"||$===null||$.type!=="root"&&$.type!=="document")if($ instanceof N||$ instanceof X)gt=z($.root),$.map&&(x.map===void 0&&(x.map={}),x.map.inline||(x.map.inline=!1),x.map.prev=$.map);else{let at=U;x.syntax&&(at=x.syntax.parse),x.parser&&(at=x.parser),at.parse&&(at=at.parse);try{gt=at($,x)}catch(Lt){this.processed=!0,this.error=Lt}gt&&!gt[w]&&L.rebuild(gt)}else gt=z($);this.result=new X(E,gt,x),this.helpers={...I,postcss:I,result:this.result},this.plugins=this.processor.plugins.map(at=>typeof at=="object"&&at.prepare?{...at,...at.prepare(this.result)}:at)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(E){return this.async().catch(E)}finally(E){return this.async().then(E,E)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(E,$){let x=this.result.lastPlugin;try{$&&$.addToError(E),this.error=E,E.name!=="CssSyntaxError"||E.plugin?x.postcssVersion:(E.plugin=x.postcssPlugin,E.setMessage())}catch(gt){console&&console.error&&console.error(gt)}return E}prepareVisitors(){this.listeners={};let E=($,x,gt)=>{this.listeners[x]||(this.listeners[x]=[]),this.listeners[x].push([$,gt])};for(let $ of this.plugins)if(typeof $=="object")for(let x in $){if(!k[x]&&/^[A-Z]/.test(x))throw new Error(`Unknown event ${x} in ${$.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!q[x])if(typeof $[x]=="object")for(let gt in $[x])E($,gt==="*"?x:x+"-"+gt.toLowerCase(),$[x][gt]);else typeof $[x]=="function"&&E($,x,$[x])}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let E=0;E<this.plugins.length;E++){let $=this.plugins[E],x=this.runOnRoot($);if(Z(x))try{await x}catch(gt){throw this.handleError(gt)}}if(this.prepareVisitors(),this.hasListener){let E=this.result.root;for(;!E[A];){E[A]=!0;let $=[T(E)];for(;$.length>0;){let x=this.visitTick($);if(Z(x))try{await x}catch(gt){let at=$[$.length-1].node;throw this.handleError(gt,at)}}}if(this.listeners.OnceExit)for(let[$,x]of this.listeners.OnceExit){this.result.lastPlugin=$;try{if(E.type==="document"){let gt=E.nodes.map(at=>x(at,this.helpers));await Promise.all(gt)}else await x(E,this.helpers)}catch(gt){throw this.handleError(gt)}}}return this.processed=!0,this.stringify()}runOnRoot(E){this.result.lastPlugin=E;try{if(typeof E=="object"&&E.Once){if(this.result.root.type==="document"){let $=this.result.root.nodes.map(x=>E.Once(x,this.helpers));return Z($[0])?Promise.all($):$}return E.Once(this.result.root,this.helpers)}if(typeof E=="function")return E(this.result.root,this.result)}catch($){throw this.handleError($)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let E=this.result.opts,$=O;E.syntax&&($=E.syntax.stringify),E.stringifier&&($=E.stringifier),$.stringify&&($=$.stringify);let x=new _($,this.result.root,this.result.opts).generate();return this.result.css=x[0],this.result.map=x[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let E of this.plugins)if(Z(this.runOnRoot(E)))throw this.getAsyncError();if(this.prepareVisitors(),this.hasListener){let E=this.result.root;for(;!E[A];)E[A]=!0,this.walkSync(E);if(this.listeners.OnceExit)if(E.type==="document")for(let $ of E.nodes)this.visitSync(this.listeners.OnceExit,$);else this.visitSync(this.listeners.OnceExit,E)}return this.result}then(E,$){return this.async().then(E,$)}toString(){return this.css}visitSync(E,$){for(let[x,gt]of E){let at;this.result.lastPlugin=x;try{at=gt($,this.helpers)}catch(Lt){throw this.handleError(Lt,$.proxyOf)}if($.type!=="root"&&$.type!=="document"&&!$.parent)return!0;if(Z(at))throw this.getAsyncError()}}visitTick(E){let $=E[E.length-1],{node:x,visitors:gt}=$;if(x.type!=="root"&&x.type!=="document"&&!x.parent)return void E.pop();if(gt.length>0&&$.visitorIndex<gt.length){let[Lt,Xt]=gt[$.visitorIndex];$.visitorIndex+=1,$.visitorIndex===gt.length&&($.visitors=[],$.visitorIndex=0),this.result.lastPlugin=Lt;try{return Xt(x.toProxy(),this.helpers)}catch(St){throw this.handleError(St,x)}}if($.iterator!==0){let Lt,Xt=$.iterator;for(;Lt=x.nodes[x.indexes[Xt]];)if(x.indexes[Xt]+=1,!Lt[A])return Lt[A]=!0,void E.push(T(Lt));$.iterator=0,delete x.indexes[Xt]}let at=$.events;for(;$.eventIndex<at.length;){let Lt=at[$.eventIndex];if($.eventIndex+=1,Lt===et)return void(x.nodes&&x.nodes.length&&(x[A]=!0,$.iterator=x.getIterator()));if(this.listeners[Lt])return void($.visitors=this.listeners[Lt])}E.pop()}walkSync(E){E[A]=!0;let $=rt(E);for(let x of $)if(x===et)E.nodes&&E.each(gt=>{gt[A]||this.walkSync(gt)});else{let gt=this.listeners[x];if(gt&&this.visitSync(gt,E.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}}N.registerPostcss=G=>{I=G},C.exports=N,N.default=N,V.registerLazyResult(N),Q.registerLazyResult(N)},715:C=>{let M={comma:m=>M.split(m,[","],!0),space:m=>M.split(m,[" ",`
`,"	"]),split(m,A,w){let _=[],O="",L=!1,Q=0,X=!1,U="",V=!1;for(let j of m)V?V=!1:j==="\\"?V=!0:X?j===U&&(X=!1):j==='"'||j==="'"?(X=!0,U=j):j==="("?Q+=1:j===")"?Q>0&&(Q-=1):Q===0&&A.includes(j)&&(L=!0),L?(O!==""&&_.push(O.trim()),O="",L=!1):O+=j;return(w||O!=="")&&_.push(O.trim()),_}};C.exports=M,M.default=M},505:(C,M,m)=>{let{SourceMapConsumer:A,SourceMapGenerator:w}=m(209),{dirname:_,relative:O,resolve:L,sep:Q}=m(830),{pathToFileURL:X}=m(414),U=m(995),V=!!(A&&w),j=!!(_&&L&&O&&Q);C.exports=class{constructor(k,q,et,Z){this.stringify=k,this.mapOpts=et.map||{},this.root=q,this.opts=et,this.css=Z,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let k;k=this.isInline()?"data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?this.mapOpts.annotation(this.opts.to,this.root):this.outputFile()+".map";let q=`
`;this.css.includes(`\r
`)&&(q=`\r
`),this.css+=q+"/*# sourceMappingURL="+k+" */"}applyPrevMaps(){for(let k of this.previous()){let q,et=this.toUrl(this.path(k.file)),Z=k.root||_(k.file);this.mapOpts.sourcesContent===!1?(q=new A(k.text),q.sourcesContent&&(q.sourcesContent=q.sourcesContent.map(()=>null))):q=k.consumer(),this.map.applySourceMap(q,et,this.toUrl(this.path(Z)))}}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let k;for(let q=this.root.nodes.length-1;q>=0;q--)k=this.root.nodes[q],k.type==="comment"&&k.text.indexOf("# sourceMappingURL=")===0&&this.root.removeChild(q)}else this.css&&(this.css=this.css.replace(/(\n)?\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),j&&V&&this.isMap())return this.generateMap();{let k="";return this.stringify(this.root,q=>{k+=q}),[k]}}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let k=this.previous()[0].consumer();k.file=this.outputFile(),this.map=w.fromSourceMap(k)}else this.map=new w({file:this.outputFile()}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new w({file:this.outputFile()});let k,q,et=1,Z=1,rt="<no source>",T={generated:{column:0,line:0},original:{column:0,line:0},source:""};this.stringify(this.root,(z,I,N)=>{if(this.css+=z,I&&N!=="end"&&(T.generated.line=et,T.generated.column=Z-1,I.source&&I.source.start?(T.source=this.sourcePath(I),T.original.line=I.source.start.line,T.original.column=I.source.start.column-1,this.map.addMapping(T)):(T.source=rt,T.original.line=1,T.original.column=0,this.map.addMapping(T))),k=z.match(/\n/g),k?(et+=k.length,q=z.lastIndexOf(`
`),Z=z.length-q):Z+=z.length,I&&N!=="start"){let G=I.parent||{raws:{}};(I.type==="decl"||I.type==="atrule"&&!I.nodes)&&I===G.last&&!G.raws.semicolon||(I.source&&I.source.end?(T.source=this.sourcePath(I),T.original.line=I.source.end.line,T.original.column=I.source.end.column-1,T.generated.line=et,T.generated.column=Z-2,this.map.addMapping(T)):(T.source=rt,T.original.line=1,T.original.column=0,T.generated.line=et,T.generated.column=Z-1,this.map.addMapping(T)))}})}isAnnotation(){return!!this.isInline()||(this.mapOpts.annotation!==void 0?this.mapOpts.annotation:!this.previous().length||this.previous().some(k=>k.annotation))}isInline(){if(this.mapOpts.inline!==void 0)return this.mapOpts.inline;let k=this.mapOpts.annotation;return(k===void 0||k===!0)&&(!this.previous().length||this.previous().some(q=>q.inline))}isMap(){return this.opts.map!==void 0?!!this.opts.map:this.previous().length>0}isSourcesContent(){return this.mapOpts.sourcesContent!==void 0?this.mapOpts.sourcesContent:!this.previous().length||this.previous().some(k=>k.withContent())}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(k){if(this.mapOpts.absolute||k.charCodeAt(0)===60||/^\w+:\/\//.test(k))return k;let q=this.memoizedPaths.get(k);if(q)return q;let et=this.opts.to?_(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(et=_(L(et,this.mapOpts.annotation)));let Z=O(et,k);return this.memoizedPaths.set(k,Z),Z}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(k=>{if(k.source&&k.source.input.map){let q=k.source.input.map;this.previousMaps.includes(q)||this.previousMaps.push(q)}});else{let k=new U(this.css,this.opts);k.map&&this.previousMaps.push(k.map)}return this.previousMaps}setSourcesContent(){let k={};if(this.root)this.root.walk(q=>{if(q.source){let et=q.source.input.from;if(et&&!k[et]){k[et]=!0;let Z=this.usesFileUrls?this.toFileUrl(et):this.toUrl(this.path(et));this.map.setSourceContent(Z,q.source.input.css)}}});else if(this.css){let q=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(q,this.css)}}sourcePath(k){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(k.source.input.from):this.toUrl(this.path(k.source.input.from))}toBase64(k){return Buffer?Buffer.from(k).toString("base64"):window.btoa(unescape(encodeURIComponent(k)))}toFileUrl(k){let q=this.memoizedFileURLs.get(k);if(q)return q;if(X){let et=X(k).toString();return this.memoizedFileURLs.set(k,et),et}throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(k){let q=this.memoizedURLs.get(k);if(q)return q;Q==="\\"&&(k=k.replace(/\\/g,"/"));let et=encodeURI(k).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(k,et),et}}},647:(C,M,m)=>{let A=m(505),w=m(88),_=(m(448),m(964));const O=m(632);class L{constructor(X,U,V){let j;U=U.toString(),this.stringified=!1,this._processor=X,this._css=U,this._opts=V,this._map=void 0;let k=w;this.result=new O(this._processor,j,this._opts),this.result.css=U;let q=this;Object.defineProperty(this.result,"root",{get:()=>q.root});let et=new A(k,j,this._opts,U);if(et.isMap()){let[Z,rt]=et.generate();Z&&(this.result.css=Z),rt&&(this.result.map=rt)}}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(X){return this.async().catch(X)}finally(X){return this.async().then(X,X)}sync(){if(this.error)throw this.error;return this.result}then(X,U){return this.async().then(X,U)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let X,U=_;try{X=U(this._css,this._opts)}catch(V){this.error=V}if(this.error)throw this.error;return this._root=X,X}get[Symbol.toStringTag](){return"NoWorkResult"}}C.exports=L,L.default=L},631:(C,M,m)=>{let{isClean:A,my:w}=m(513),_=m(671),O=m(62),L=m(88);function Q(U,V){let j=new U.constructor;for(let k in U){if(!Object.prototype.hasOwnProperty.call(U,k)||k==="proxyCache")continue;let q=U[k],et=typeof q;k==="parent"&&et==="object"?V&&(j[k]=V):k==="source"?j[k]=q:Array.isArray(q)?j[k]=q.map(Z=>Q(Z,j)):(et==="object"&&q!==null&&(q=Q(q)),j[k]=q)}return j}class X{constructor(V={}){this.raws={},this[A]=!1,this[w]=!0;for(let j in V)if(j==="nodes"){this.nodes=[];for(let k of V[j])typeof k.clone=="function"?this.append(k.clone()):this.append(k)}else this[j]=V[j]}addToError(V){if(V.postcssNode=this,V.stack&&this.source&&/\n\s{4}at /.test(V.stack)){let j=this.source;V.stack=V.stack.replace(/\n\s{4}at /,`$&${j.input.from}:${j.start.line}:${j.start.column}$&`)}return V}after(V){return this.parent.insertAfter(this,V),this}assign(V={}){for(let j in V)this[j]=V[j];return this}before(V){return this.parent.insertBefore(this,V),this}cleanRaws(V){delete this.raws.before,delete this.raws.after,V||delete this.raws.between}clone(V={}){let j=Q(this);for(let k in V)j[k]=V[k];return j}cloneAfter(V={}){let j=this.clone(V);return this.parent.insertAfter(this,j),j}cloneBefore(V={}){let j=this.clone(V);return this.parent.insertBefore(this,j),j}error(V,j={}){if(this.source){let{end:k,start:q}=this.rangeBy(j);return this.source.input.error(V,{column:q.column,line:q.line},{column:k.column,line:k.line},j)}return new _(V)}getProxyProcessor(){return{get:(V,j)=>j==="proxyOf"?V:j==="root"?()=>V.root().toProxy():V[j],set:(V,j,k)=>(V[j]===k||(V[j]=k,j!=="prop"&&j!=="value"&&j!=="name"&&j!=="params"&&j!=="important"&&j!=="text"||V.markDirty()),!0)}}markDirty(){if(this[A]){this[A]=!1;let V=this;for(;V=V.parent;)V[A]=!1}}next(){if(!this.parent)return;let V=this.parent.index(this);return this.parent.nodes[V+1]}positionBy(V,j){let k=this.source.start;if(V.index)k=this.positionInside(V.index,j);else if(V.word){let q=(j=this.toString()).indexOf(V.word);q!==-1&&(k=this.positionInside(q,j))}return k}positionInside(V,j){let k=j||this.toString(),q=this.source.start.column,et=this.source.start.line;for(let Z=0;Z<V;Z++)k[Z]===`
`?(q=1,et+=1):q+=1;return{column:q,line:et}}prev(){if(!this.parent)return;let V=this.parent.index(this);return this.parent.nodes[V-1]}rangeBy(V){let j={column:this.source.start.column,line:this.source.start.line},k=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:j.column+1,line:j.line};if(V.word){let q=this.toString(),et=q.indexOf(V.word);et!==-1&&(j=this.positionInside(et,q),k=this.positionInside(et+V.word.length,q))}else V.start?j={column:V.start.column,line:V.start.line}:V.index&&(j=this.positionInside(V.index)),V.end?k={column:V.end.column,line:V.end.line}:V.endIndex?k=this.positionInside(V.endIndex):V.index&&(k=this.positionInside(V.index+1));return(k.line<j.line||k.line===j.line&&k.column<=j.column)&&(k={column:j.column+1,line:j.line}),{end:k,start:j}}raw(V,j){return new O().raw(this,V,j)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...V){if(this.parent){let j=this,k=!1;for(let q of V)q===this?k=!0:k?(this.parent.insertAfter(j,q),j=q):this.parent.insertBefore(j,q);k||this.remove()}return this}root(){let V=this;for(;V.parent&&V.parent.type!=="document";)V=V.parent;return V}toJSON(V,j){let k={},q=j==null;j=j||new Map;let et=0;for(let Z in this){if(!Object.prototype.hasOwnProperty.call(this,Z)||Z==="parent"||Z==="proxyCache")continue;let rt=this[Z];if(Array.isArray(rt))k[Z]=rt.map(T=>typeof T=="object"&&T.toJSON?T.toJSON(null,j):T);else if(typeof rt=="object"&&rt.toJSON)k[Z]=rt.toJSON(null,j);else if(Z==="source"){let T=j.get(rt.input);T==null&&(T=et,j.set(rt.input,et),et++),k[Z]={end:rt.end,inputId:T,start:rt.start}}else k[Z]=rt}return q&&(k.inputs=[...j.keys()].map(Z=>Z.toJSON())),k}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(V=L){V.stringify&&(V=V.stringify);let j="";return V(this,k=>{j+=k}),j}warn(V,j,k){let q={node:this};for(let et in k)q[et]=k[et];return V.warn(j,q)}get proxyOf(){return this}}C.exports=X,X.default=X},964:(C,M,m)=>{let A=m(19),w=m(867),_=m(995);function O(L,Q){let X=new _(L,Q),U=new w(X);try{U.parse()}catch(V){throw V}return U.root}C.exports=O,O.default=O,A.registerParse(O)},867:(C,M,m)=>{let A=m(258),w=m(852),_=m(932),O=m(353),L=m(25),Q=m(675);const X={empty:!0,space:!0};C.exports=class{constructor(U){this.input=U,this.root=new L,this.current=this.root,this.spaces="",this.semicolon=!1,this.customProperty=!1,this.createTokenizer(),this.root.source={input:U,start:{column:1,line:1,offset:0}}}atrule(U){let V,j,k,q=new O;q.name=U[1].slice(1),q.name===""&&this.unnamedAtrule(q,U),this.init(q,U[2]);let et=!1,Z=!1,rt=[],T=[];for(;!this.tokenizer.endOfFile();){if(V=(U=this.tokenizer.nextToken())[0],V==="("||V==="["?T.push(V==="("?")":"]"):V==="{"&&T.length>0?T.push("}"):V===T[T.length-1]&&T.pop(),T.length===0){if(V===";"){q.source.end=this.getPosition(U[2]),q.source.end.offset++,this.semicolon=!0;break}if(V==="{"){Z=!0;break}if(V==="}"){if(rt.length>0){for(k=rt.length-1,j=rt[k];j&&j[0]==="space";)j=rt[--k];j&&(q.source.end=this.getPosition(j[3]||j[2]),q.source.end.offset++)}this.end(U);break}rt.push(U)}else rt.push(U);if(this.tokenizer.endOfFile()){et=!0;break}}q.raws.between=this.spacesAndCommentsFromEnd(rt),rt.length?(q.raws.afterName=this.spacesAndCommentsFromStart(rt),this.raw(q,"params",rt),et&&(U=rt[rt.length-1],q.source.end=this.getPosition(U[3]||U[2]),q.source.end.offset++,this.spaces=q.raws.between,q.raws.between="")):(q.raws.afterName="",q.params=""),Z&&(q.nodes=[],this.current=q)}checkMissedSemicolon(U){let V=this.colon(U);if(V===!1)return;let j,k=0;for(let q=V-1;q>=0&&(j=U[q],j[0]==="space"||(k+=1,k!==2));q--);throw this.input.error("Missed semicolon",j[0]==="word"?j[3]+1:j[2])}colon(U){let V,j,k,q=0;for(let[et,Z]of U.entries()){if(V=Z,j=V[0],j==="("&&(q+=1),j===")"&&(q-=1),q===0&&j===":"){if(k){if(k[0]==="word"&&k[1]==="progid")continue;return et}this.doubleColon(V)}k=V}return!1}comment(U){let V=new _;this.init(V,U[2]),V.source.end=this.getPosition(U[3]||U[2]),V.source.end.offset++;let j=U[1].slice(2,-2);if(/^\s*$/.test(j))V.text="",V.raws.left=j,V.raws.right="";else{let k=j.match(/^(\s*)([^]*\S)(\s*)$/);V.text=k[2],V.raws.left=k[1],V.raws.right=k[3]}}createTokenizer(){this.tokenizer=w(this.input)}decl(U,V){let j=new A;this.init(j,U[0][2]);let k,q=U[U.length-1];for(q[0]===";"&&(this.semicolon=!0,U.pop()),j.source.end=this.getPosition(q[3]||q[2]||function(rt){for(let T=rt.length-1;T>=0;T--){let z=rt[T],I=z[3]||z[2];if(I)return I}}(U)),j.source.end.offset++;U[0][0]!=="word";)U.length===1&&this.unknownWord(U),j.raws.before+=U.shift()[1];for(j.source.start=this.getPosition(U[0][2]),j.prop="";U.length;){let rt=U[0][0];if(rt===":"||rt==="space"||rt==="comment")break;j.prop+=U.shift()[1]}for(j.raws.between="";U.length;){if(k=U.shift(),k[0]===":"){j.raws.between+=k[1];break}k[0]==="word"&&/\w/.test(k[1])&&this.unknownWord([k]),j.raws.between+=k[1]}j.prop[0]!=="_"&&j.prop[0]!=="*"||(j.raws.before+=j.prop[0],j.prop=j.prop.slice(1));let et,Z=[];for(;U.length&&(et=U[0][0],et==="space"||et==="comment");)Z.push(U.shift());this.precheckMissedSemicolon(U);for(let rt=U.length-1;rt>=0;rt--){if(k=U[rt],k[1].toLowerCase()==="!important"){j.important=!0;let T=this.stringFrom(U,rt);T=this.spacesFromEnd(U)+T,T!==" !important"&&(j.raws.important=T);break}if(k[1].toLowerCase()==="important"){let T=U.slice(0),z="";for(let I=rt;I>0;I--){let N=T[I][0];if(z.trim().indexOf("!")===0&&N!=="space")break;z=T.pop()[1]+z}z.trim().indexOf("!")===0&&(j.important=!0,j.raws.important=z,U=T)}if(k[0]!=="space"&&k[0]!=="comment")break}U.some(rt=>rt[0]!=="space"&&rt[0]!=="comment")&&(j.raws.between+=Z.map(rt=>rt[1]).join(""),Z=[]),this.raw(j,"value",Z.concat(U),V),j.value.includes(":")&&!V&&this.checkMissedSemicolon(U)}doubleColon(U){throw this.input.error("Double colon",{offset:U[2]},{offset:U[2]+U[1].length})}emptyRule(U){let V=new Q;this.init(V,U[2]),V.selector="",V.raws.between="",this.current=V}end(U){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(U[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(U)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(U){if(this.spaces+=U[1],this.current.nodes){let V=this.current.nodes[this.current.nodes.length-1];V&&V.type==="rule"&&!V.raws.ownSemicolon&&(V.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(U){let V=this.input.fromOffset(U);return{column:V.col,line:V.line,offset:U}}init(U,V){this.current.push(U),U.source={input:this.input,start:this.getPosition(V)},U.raws.before=this.spaces,this.spaces="",U.type!=="comment"&&(this.semicolon=!1)}other(U){let V=!1,j=null,k=!1,q=null,et=[],Z=U[1].startsWith("--"),rt=[],T=U;for(;T;){if(j=T[0],rt.push(T),j==="("||j==="[")q||(q=T),et.push(j==="("?")":"]");else if(Z&&k&&j==="{")q||(q=T),et.push("}");else if(et.length===0){if(j===";"){if(k)return void this.decl(rt,Z);break}if(j==="{")return void this.rule(rt);if(j==="}"){this.tokenizer.back(rt.pop()),V=!0;break}j===":"&&(k=!0)}else j===et[et.length-1]&&(et.pop(),et.length===0&&(q=null));T=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(V=!0),et.length>0&&this.unclosedBracket(q),V&&k){if(!Z)for(;rt.length&&(T=rt[rt.length-1][0],T==="space"||T==="comment");)this.tokenizer.back(rt.pop());this.decl(rt,Z)}else this.unknownWord(rt)}parse(){let U;for(;!this.tokenizer.endOfFile();)switch(U=this.tokenizer.nextToken(),U[0]){case"space":this.spaces+=U[1];break;case";":this.freeSemicolon(U);break;case"}":this.end(U);break;case"comment":this.comment(U);break;case"at-word":this.atrule(U);break;case"{":this.emptyRule(U);break;default:this.other(U)}this.endFile()}precheckMissedSemicolon(){}raw(U,V,j,k){let q,et,Z,rt,T=j.length,z="",I=!0;for(let N=0;N<T;N+=1)q=j[N],et=q[0],et!=="space"||N!==T-1||k?et==="comment"?(rt=j[N-1]?j[N-1][0]:"empty",Z=j[N+1]?j[N+1][0]:"empty",X[rt]||X[Z]||z.slice(-1)===","?I=!1:z+=q[1]):z+=q[1]:I=!1;if(!I){let N=j.reduce((G,E)=>G+E[1],"");U.raws[V]={raw:N,value:z}}U[V]=z}rule(U){U.pop();let V=new Q;this.init(V,U[0][2]),V.raws.between=this.spacesAndCommentsFromEnd(U),this.raw(V,"selector",U),this.current=V}spacesAndCommentsFromEnd(U){let V,j="";for(;U.length&&(V=U[U.length-1][0],V==="space"||V==="comment");)j=U.pop()[1]+j;return j}spacesAndCommentsFromStart(U){let V,j="";for(;U.length&&(V=U[0][0],V==="space"||V==="comment");)j+=U.shift()[1];return j}spacesFromEnd(U){let V,j="";for(;U.length&&(V=U[U.length-1][0],V==="space");)j=U.pop()[1]+j;return j}stringFrom(U,V){let j="";for(let k=V;k<U.length;k++)j+=U[k][1];return U.splice(V,U.length-V),j}unclosedBlock(){let U=this.current.source.start;throw this.input.error("Unclosed block",U.line,U.column)}unclosedBracket(U){throw this.input.error("Unclosed bracket",{offset:U[2]},{offset:U[2]+1})}unexpectedClose(U){throw this.input.error("Unexpected }",{offset:U[2]},{offset:U[2]+1})}unknownWord(U){throw this.input.error("Unknown word",{offset:U[0][2]},{offset:U[0][2]+U[0][1].length})}unnamedAtrule(U,V){throw this.input.error("At-rule without name",{offset:V[2]},{offset:V[2]+V[1].length})}}},20:(C,M,m)=>{let A=m(671),w=m(258),_=m(939),O=m(19),L=m(723),Q=m(88),X=m(250),U=m(461),V=m(728),j=m(932),k=m(353),q=m(632),et=m(995),Z=m(964),rt=m(715),T=m(675),z=m(25),I=m(631);function N(...G){return G.length===1&&Array.isArray(G[0])&&(G=G[0]),new L(G)}N.plugin=function(G,E){let $,x=!1;function gt(...at){console&&console.warn&&!x&&(x=!0,console.warn(G+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),wt.LANG&&wt.LANG.startsWith("cn")&&console.warn(G+`: 里面 postcss.plugin 被弃用. 迁移指南:
https://www.w3ctech.com/topic/2226`));let Lt=E(...at);return Lt.postcssPlugin=G,Lt.postcssVersion=new L().version,Lt}return Object.defineProperty(gt,"postcss",{get:()=>($||($=gt()),$)}),gt.process=function(at,Lt,Xt){return N([gt(Xt)]).process(at,Lt)},gt},N.stringify=Q,N.parse=Z,N.fromJSON=X,N.list=rt,N.comment=G=>new j(G),N.atRule=G=>new k(G),N.decl=G=>new w(G),N.rule=G=>new T(G),N.root=G=>new z(G),N.document=G=>new U(G),N.CssSyntaxError=A,N.Declaration=w,N.Container=O,N.Processor=L,N.Document=U,N.Comment=j,N.Warning=V,N.AtRule=k,N.Result=q,N.Input=et,N.Rule=T,N.Root=z,N.Node=I,_.registerPostcss(N),C.exports=N,N.default=N},981:(C,M,m)=>{let{SourceMapConsumer:A,SourceMapGenerator:w}=m(209),{existsSync:_,readFileSync:O}=m(777),{dirname:L,join:Q}=m(830);class X{constructor(V,j){if(j.map===!1)return;this.loadAnnotation(V),this.inline=this.startWith(this.annotation,"data:");let k=j.map?j.map.prev:void 0,q=this.loadMap(j.from,k);!this.mapFile&&j.from&&(this.mapFile=j.from),this.mapFile&&(this.root=L(this.mapFile)),q&&(this.text=q)}consumer(){return this.consumerCache||(this.consumerCache=new A(this.text)),this.consumerCache}decodeInline(V){if(/^data:application\/json;charset=utf-?8,/.test(V)||/^data:application\/json,/.test(V))return decodeURIComponent(V.substr(RegExp.lastMatch.length));if(/^data:application\/json;charset=utf-?8;base64,/.test(V)||/^data:application\/json;base64,/.test(V))return j=V.substr(RegExp.lastMatch.length),Buffer?Buffer.from(j,"base64").toString():window.atob(j);var j;let k=V.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+k)}getAnnotationURL(V){return V.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(V){return typeof V=="object"&&(typeof V.mappings=="string"||typeof V._mappings=="string"||Array.isArray(V.sections))}loadAnnotation(V){let j=V.match(/\/\*\s*# sourceMappingURL=/gm);if(!j)return;let k=V.lastIndexOf(j.pop()),q=V.indexOf("*/",k);k>-1&&q>-1&&(this.annotation=this.getAnnotationURL(V.substring(k,q)))}loadFile(V){if(this.root=L(V),_(V))return this.mapFile=V,O(V,"utf-8").toString().trim()}loadMap(V,j){if(j===!1)return!1;if(j){if(typeof j=="string")return j;if(typeof j!="function"){if(j instanceof A)return w.fromSourceMap(j).toString();if(j instanceof w)return j.toString();if(this.isMap(j))return JSON.stringify(j);throw new Error("Unsupported previous source map format: "+j.toString())}{let k=j(V);if(k){let q=this.loadFile(k);if(!q)throw new Error("Unable to load previous source map: "+k.toString());return q}}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let k=this.annotation;return V&&(k=Q(L(V),k)),this.loadFile(k)}}}startWith(V,j){return!!V&&V.substr(0,j.length)===j}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}}C.exports=X,X.default=X},723:(C,M,m)=>{let A=m(647),w=m(939),_=m(461),O=m(25);class L{constructor(X=[]){this.version="8.4.31",this.plugins=this.normalize(X)}normalize(X){let U=[];for(let V of X)if(V.postcss===!0?V=V():V.postcss&&(V=V.postcss),typeof V=="object"&&Array.isArray(V.plugins))U=U.concat(V.plugins);else if(typeof V=="object"&&V.postcssPlugin)U.push(V);else if(typeof V=="function")U.push(V);else if(typeof V!="object"||!V.parse&&!V.stringify)throw new Error(V+" is not a PostCSS plugin");return U}process(X,U={}){return this.plugins.length===0&&U.parser===void 0&&U.stringifier===void 0&&U.syntax===void 0?new A(this,X,U):new w(this,X,U)}use(X){return this.plugins=this.plugins.concat(this.normalize([X])),this}}C.exports=L,L.default=L,O.registerProcessor(L),_.registerProcessor(L)},632:(C,M,m)=>{let A=m(728);class w{constructor(O,L,Q){this.processor=O,this.messages=[],this.root=L,this.opts=Q,this.css=void 0,this.map=void 0}toString(){return this.css}warn(O,L={}){L.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(L.plugin=this.lastPlugin.postcssPlugin);let Q=new A(O,L);return this.messages.push(Q),Q}warnings(){return this.messages.filter(O=>O.type==="warning")}get content(){return this.css}}C.exports=w,w.default=w},25:(C,M,m)=>{let A,w,_=m(19);class O extends _{constructor(Q){super(Q),this.type="root",this.nodes||(this.nodes=[])}normalize(Q,X,U){let V=super.normalize(Q);if(X){if(U==="prepend")this.nodes.length>1?X.raws.before=this.nodes[1].raws.before:delete X.raws.before;else if(this.first!==X)for(let j of V)j.raws.before=X.raws.before}return V}removeChild(Q,X){let U=this.index(Q);return!X&&U===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[U].raws.before),super.removeChild(Q)}toResult(Q={}){return new A(new w,this,Q).stringify()}}O.registerLazyResult=L=>{A=L},O.registerProcessor=L=>{w=L},C.exports=O,O.default=O,_.registerRoot(O)},675:(C,M,m)=>{let A=m(19),w=m(715);class _ extends A{constructor(L){super(L),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return w.comma(this.selector)}set selectors(L){let Q=this.selector?this.selector.match(/,\s*/):null,X=Q?Q[0]:","+this.raw("between","beforeOpen");this.selector=L.join(X)}}C.exports=_,_.default=_,A.registerRule(_)},62:C=>{const M={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};class m{constructor(w){this.builder=w}atrule(w,_){let O="@"+w.name,L=w.params?this.rawValue(w,"params"):"";if(w.raws.afterName!==void 0?O+=w.raws.afterName:L&&(O+=" "),w.nodes)this.block(w,O+L);else{let Q=(w.raws.between||"")+(_?";":"");this.builder(O+L+Q,w)}}beforeAfter(w,_){let O;O=w.type==="decl"?this.raw(w,null,"beforeDecl"):w.type==="comment"?this.raw(w,null,"beforeComment"):_==="before"?this.raw(w,null,"beforeRule"):this.raw(w,null,"beforeClose");let L=w.parent,Q=0;for(;L&&L.type!=="root";)Q+=1,L=L.parent;if(O.includes(`
`)){let X=this.raw(w,null,"indent");if(X.length)for(let U=0;U<Q;U++)O+=X}return O}block(w,_){let O,L=this.raw(w,"between","beforeOpen");this.builder(_+L+"{",w,"start"),w.nodes&&w.nodes.length?(this.body(w),O=this.raw(w,"after")):O=this.raw(w,"after","emptyBody"),O&&this.builder(O),this.builder("}",w,"end")}body(w){let _=w.nodes.length-1;for(;_>0&&w.nodes[_].type==="comment";)_-=1;let O=this.raw(w,"semicolon");for(let L=0;L<w.nodes.length;L++){let Q=w.nodes[L],X=this.raw(Q,"before");X&&this.builder(X),this.stringify(Q,_!==L||O)}}comment(w){let _=this.raw(w,"left","commentLeft"),O=this.raw(w,"right","commentRight");this.builder("/*"+_+w.text+O+"*/",w)}decl(w,_){let O=this.raw(w,"between","colon"),L=w.prop+O+this.rawValue(w,"value");w.important&&(L+=w.raws.important||" !important"),_&&(L+=";"),this.builder(L,w)}document(w){this.body(w)}raw(w,_,O){let L;if(O||(O=_),_&&(L=w.raws[_],L!==void 0))return L;let Q=w.parent;if(O==="before"&&(!Q||Q.type==="root"&&Q.first===w||Q&&Q.type==="document"))return"";if(!Q)return M[O];let X=w.root();if(X.rawCache||(X.rawCache={}),X.rawCache[O]!==void 0)return X.rawCache[O];if(O==="before"||O==="after")return this.beforeAfter(w,O);{let V="raw"+((U=O)[0].toUpperCase()+U.slice(1));this[V]?L=this[V](X,w):X.walk(j=>{if(L=j.raws[_],L!==void 0)return!1})}var U;return L===void 0&&(L=M[O]),X.rawCache[O]=L,L}rawBeforeClose(w){let _;return w.walk(O=>{if(O.nodes&&O.nodes.length>0&&O.raws.after!==void 0)return _=O.raws.after,_.includes(`
`)&&(_=_.replace(/[^\n]+$/,"")),!1}),_&&(_=_.replace(/\S/g,"")),_}rawBeforeComment(w,_){let O;return w.walkComments(L=>{if(L.raws.before!==void 0)return O=L.raws.before,O.includes(`
`)&&(O=O.replace(/[^\n]+$/,"")),!1}),O===void 0?O=this.raw(_,null,"beforeDecl"):O&&(O=O.replace(/\S/g,"")),O}rawBeforeDecl(w,_){let O;return w.walkDecls(L=>{if(L.raws.before!==void 0)return O=L.raws.before,O.includes(`
`)&&(O=O.replace(/[^\n]+$/,"")),!1}),O===void 0?O=this.raw(_,null,"beforeRule"):O&&(O=O.replace(/\S/g,"")),O}rawBeforeOpen(w){let _;return w.walk(O=>{if(O.type!=="decl"&&(_=O.raws.between,_!==void 0))return!1}),_}rawBeforeRule(w){let _;return w.walk(O=>{if(O.nodes&&(O.parent!==w||w.first!==O)&&O.raws.before!==void 0)return _=O.raws.before,_.includes(`
`)&&(_=_.replace(/[^\n]+$/,"")),!1}),_&&(_=_.replace(/\S/g,"")),_}rawColon(w){let _;return w.walkDecls(O=>{if(O.raws.between!==void 0)return _=O.raws.between.replace(/[^\s:]/g,""),!1}),_}rawEmptyBody(w){let _;return w.walk(O=>{if(O.nodes&&O.nodes.length===0&&(_=O.raws.after,_!==void 0))return!1}),_}rawIndent(w){if(w.raws.indent)return w.raws.indent;let _;return w.walk(O=>{let L=O.parent;if(L&&L!==w&&L.parent&&L.parent===w&&O.raws.before!==void 0){let Q=O.raws.before.split(`
`);return _=Q[Q.length-1],_=_.replace(/\S/g,""),!1}}),_}rawSemicolon(w){let _;return w.walk(O=>{if(O.nodes&&O.nodes.length&&O.last.type==="decl"&&(_=O.raws.semicolon,_!==void 0))return!1}),_}rawValue(w,_){let O=w[_],L=w.raws[_];return L&&L.value===O?L.raw:O}root(w){this.body(w),w.raws.after&&this.builder(w.raws.after)}rule(w){this.block(w,this.rawValue(w,"selector")),w.raws.ownSemicolon&&this.builder(w.raws.ownSemicolon,w,"end")}stringify(w,_){if(!this[w.type])throw new Error("Unknown AST node type "+w.type+". Maybe you need to change PostCSS stringifier.");this[w.type](w,_)}}C.exports=m,m.default=m},88:(C,M,m)=>{let A=m(62);function w(_,O){new A(O).stringify(_)}C.exports=w,w.default=w},513:C=>{C.exports.isClean=Symbol("isClean"),C.exports.my=Symbol("my")},852:C=>{const I=/[\t\n\f\r "#'()/;[\\\]{}]/g,N=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,G=/.[\r\n"'(/\\]/,E=/[\da-f]/i;C.exports=function($,x={}){let gt,at,Lt,Xt,St,Ut,Yt,Bt,ne,Ot,Rt=$.css.valueOf(),Wt=x.ignoreErrors,ae=Rt.length,$t=0,Jt=[],de=[];function Ne(Je){throw $.error("Unclosed "+Je,$t)}return{back:function(Je){de.push(Je)},endOfFile:function(){return de.length===0&&$t>=ae},nextToken:function(Je){if(de.length)return de.pop();if($t>=ae)return;let mr=!!Je&&Je.ignoreUnclosed;switch(gt=Rt.charCodeAt($t),gt){case 10:case 32:case 9:case 13:case 12:at=$t;do at+=1,gt=Rt.charCodeAt(at);while(gt===32||gt===10||gt===9||gt===13||gt===12);Ot=["space",Rt.slice($t,at)],$t=at-1;break;case 91:case 93:case 123:case 125:case 58:case 59:case 41:{let nr=String.fromCharCode(gt);Ot=[nr,nr,$t];break}case 40:if(Bt=Jt.length?Jt.pop()[1]:"",ne=Rt.charCodeAt($t+1),Bt==="url"&&ne!==39&&ne!==34&&ne!==32&&ne!==10&&ne!==9&&ne!==12&&ne!==13){at=$t;do{if(Ut=!1,at=Rt.indexOf(")",at+1),at===-1){if(Wt||mr){at=$t;break}Ne("bracket")}for(Yt=at;Rt.charCodeAt(Yt-1)===92;)Yt-=1,Ut=!Ut}while(Ut);Ot=["brackets",Rt.slice($t,at+1),$t,at],$t=at}else at=Rt.indexOf(")",$t+1),Xt=Rt.slice($t,at+1),at===-1||G.test(Xt)?Ot=["(","(",$t]:(Ot=["brackets",Xt,$t,at],$t=at);break;case 39:case 34:Lt=gt===39?"'":'"',at=$t;do{if(Ut=!1,at=Rt.indexOf(Lt,at+1),at===-1){if(Wt||mr){at=$t+1;break}Ne("string")}for(Yt=at;Rt.charCodeAt(Yt-1)===92;)Yt-=1,Ut=!Ut}while(Ut);Ot=["string",Rt.slice($t,at+1),$t,at],$t=at;break;case 64:I.lastIndex=$t+1,I.test(Rt),at=I.lastIndex===0?Rt.length-1:I.lastIndex-2,Ot=["at-word",Rt.slice($t,at+1),$t,at],$t=at;break;case 92:for(at=$t,St=!0;Rt.charCodeAt(at+1)===92;)at+=1,St=!St;if(gt=Rt.charCodeAt(at+1),St&&gt!==47&&gt!==32&&gt!==10&&gt!==9&&gt!==13&&gt!==12&&(at+=1,E.test(Rt.charAt(at)))){for(;E.test(Rt.charAt(at+1));)at+=1;Rt.charCodeAt(at+1)===32&&(at+=1)}Ot=["word",Rt.slice($t,at+1),$t,at],$t=at;break;default:gt===47&&Rt.charCodeAt($t+1)===42?(at=Rt.indexOf("*/",$t+2)+1,at===0&&(Wt||mr?at=Rt.length:Ne("comment")),Ot=["comment",Rt.slice($t,at+1),$t,at],$t=at):(N.lastIndex=$t+1,N.test(Rt),at=N.lastIndex===0?Rt.length-1:N.lastIndex-2,Ot=["word",Rt.slice($t,at+1),$t,at],Jt.push(Ot),$t=at)}return $t++,Ot},position:function(){return $t}}}},448:C=>{let M={};C.exports=function(m){M[m]||(M[m]=!0,typeof console<"u"&&console.warn&&console.warn(m))}},728:C=>{class M{constructor(A,w={}){if(this.type="warning",this.text=A,w.node&&w.node.source){let _=w.node.rangeBy(w);this.line=_.start.line,this.column=_.start.column,this.endLine=_.end.line,this.endColumn=_.end.column}for(let _ in w)this[_]=w[_]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}C.exports=M,M.default=M},868:()=>{},777:()=>{},830:()=>{},209:()=>{},414:()=>{},961:C=>{let M="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";C.exports={nanoid:(m=21)=>{let A="",w=m;for(;w--;)A+=M[64*Math.random()|0];return A},customAlphabet:(m,A=21)=>(w=A)=>{let _="",O=w;for(;O--;)_+=m[Math.random()*m.length|0];return _}}}},_t={};function ot(C){var M=_t[C];if(M!==void 0)return M.exports;var m=_t[C]={exports:{}};return ht[C](m,m.exports,ot),m.exports}ot.d=(C,M)=>{for(var m in M)ot.o(M,m)&&!ot.o(C,m)&&Object.defineProperty(C,m,{enumerable:!0,get:M[m]})},ot.o=(C,M)=>Object.prototype.hasOwnProperty.call(C,M),ot.r=C=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(C,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(C,"__esModule",{value:!0})};var J={};return(()=>{ot.r(J),ot.d(J,{default:()=>O});var C=ot(20);const M=C;C.stringify,C.fromJSON,C.plugin,C.parse,C.list,C.document,C.comment,C.atRule,C.rule,C.decl,C.root,C.CssSyntaxError,C.Declaration,C.Container,C.Processor,C.Document,C.Comment,C.Warning,C.AtRule,C.Result,C.Input,C.Rule,C.Root,C.Node;var m=function(){return m=Object.assign||function(L){for(var Q,X=1,U=arguments.length;X<U;X++)for(var V in Q=arguments[X])Object.prototype.hasOwnProperty.call(Q,V)&&(L[V]=Q[V]);return L},m.apply(this,arguments)},A=function(L,Q){return L&&L.log(Q,{ns:"parser-poscss"})},w=function(L){var Q=L.nodes||[],X={};return Q.forEach(function(U){var V=U.prop,j=U.value,k=U.important;X[V]=j+(k?" !important":"")}),{selectors:L.selector||"",style:X}};const _=function(L,Q){var X=[];A(Q,["Input CSS",L]);var U=M().process(L).sync().root;return A(Q,["PostCSS AST",U]),U.nodes.forEach(function(V){switch(V.type){case"rule":X.push(w(V));break;case"atrule":(function(j,k){var q=j.name,et=j.params;["media","keyframes"].indexOf(q)>=0?j.nodes.forEach(function(Z){k.push(m(m({},w(Z)),{atRule:q,params:et}))}):k.push(m(m({},w(j)),{atRule:q}))})(V,X)}}),A(Q,["Output",X]),X},O=function(L){L.setCustomParserCss(_)}})(),J})())})(tv);var db=tv.exports;const hb=Wi(db);var ev={exports:{}};/*! grapesjs-preset-webpage - 1.0.3 */(function(R,dt){(function(wt,ht){R.exports=ht()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:zi,()=>(()=>{var wt={d:(L,Q)=>{for(var X in Q)wt.o(Q,X)&&!wt.o(L,X)&&Object.defineProperty(L,X,{enumerable:!0,get:Q[X]})},o:(L,Q)=>Object.prototype.hasOwnProperty.call(L,Q),r:L=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(L,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(L,"__esModule",{value:!0})}},ht={};wt.r(ht),wt.d(ht,{default:()=>O});var _t=function(){return _t=Object.assign||function(L){for(var Q,X=1,U=arguments.length;X<U;X++)for(var V in Q=arguments[X])Object.prototype.hasOwnProperty.call(Q,V)&&(L[V]=Q[V]);return L},_t.apply(this,arguments)},ot="gjs-open-import-webpage",J="set-device-desktop",C="set-device-tablet",M="set-device-mobile",m="canvas-clear",A=function(){return A=Object.assign||function(L){for(var Q,X=1,U=arguments.length;X<U;X++)for(var V in Q=arguments[X])Object.prototype.hasOwnProperty.call(Q,V)&&(L[V]=Q[V]);return L},A.apply(this,arguments)};const w=function(L,Q){var X=L.Commands,U=Q.textCleanCanvas;(function(V,j){var k=V.getConfig("stylePrefix"),q=j.modalImportLabel,et=j.modalImportContent;V.Commands.add(ot,{codeViewer:null,container:null,run:function(Z){var rt=typeof et=="function"?et(Z):et,T=this.getCodeViewer();Z.Modal.open({title:j.modalImportTitle,content:this.getContainer()}).onceClose(function(){return Z.stopCommand(ot)}),T.setContent(rt??""),T.refresh(),setTimeout(function(){return T.focus()},0)},stop:function(){V.Modal.close()},getContainer:function(){if(!this.container){var Z=this.getCodeViewer(),rt=document.createElement("div");if(rt.className="".concat(k,"import-container"),q){var T=document.createElement("div");T.className="".concat(k,"import-label"),T.innerHTML=q,rt.appendChild(T)}rt.appendChild(Z.getElement());var z=document.createElement("button");z.type="button",z.innerHTML=j.modalImportButton,z.className="".concat(k,"btn-prim ").concat(k,"btn-import"),z.onclick=function(){V.Css.clear(),V.setComponents(Z.getContent().trim()),V.Modal.close()},rt.appendChild(z),this.container=rt}return this.container},getCodeViewer:function(){return this.codeViewer||(this.codeViewer=V.CodeManager.createViewer(A({codeName:"htmlmixed",theme:"hopscotch",readOnly:!1},j.importViewerOptions))),this.codeViewer}})})(L,Q),X.add(J,{run:function(V){return V.setDevice("Desktop")},stop:function(){}}),X.add(C,{run:function(V){return V.setDevice("Tablet")},stop:function(){}}),X.add(M,{run:function(V){return V.setDevice("Mobile portrait")},stop:function(){}}),X.add(m,function(V){return confirm(U)&&V.runCommand("core:canvas-clear")})};var _=function(){return _=Object.assign||function(L){for(var Q,X=1,U=arguments.length;X<U;X++)for(var V in Q=arguments[X])Object.prototype.hasOwnProperty.call(Q,V)&&(L[V]=Q[V]);return L},_.apply(this,arguments)};const O=function(L,Q){Q===void 0&&(Q={});var X=_({blocks:["link-block","quote","text-basic"],block:function(){return{}},modalImportTitle:"Import",modalImportButton:"Import",modalImportLabel:"",modalImportContent:"",importViewerOptions:{},textCleanCanvas:"Are you sure you want to clear the canvas?",showStylesOnChange:!0,useCustomTheme:!0},Q);if(X.useCustomTheme&&typeof window<"u"){var U="gjs-",V="";[["one","#463a3c"],["two","#b9a5a6"],["three","#804f7b"],["four","#d97aa6"]].forEach(function(k){var q=k[0],et=k[1];V+=`
        .`.concat(U).concat(q,`-bg {
          background-color: `).concat(et,`;
        }

        .`).concat(U).concat(q,`-color {
          color: `).concat(et,`;
        }

        .`).concat(U).concat(q,`-color-h:hover {
          color: `).concat(et,`;
        }
      `)});var j=document.createElement("style");j.innerText=V,document.head.appendChild(j)}(function(k,q){var et=function(Z,rt){q.blocks.indexOf(Z)>=0&&k.Blocks.add(Z,_t(_t({select:!0,category:"Basic"},rt),q.block(Z)))};et("link-block",{label:"Link Block",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z"></path>
    </svg>`,content:{type:"link",editable:!1,droppable:!0,style:{display:"inline-block",padding:"5px","min-height":"50px","min-width":"50px"}}}),et("quote",{label:"Quote",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M14,17H17L19,13V7H13V13H16M6,17H9L11,13V7H5V13H8L6,17Z" />
    </svg>`,content:`<blockquote class="quote">
        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore ipsum dolor sit
      </blockquote>`}),et("text-basic",{label:"Text section",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M21,6V8H3V6H21M3,18H12V16H3V18M3,13H21V11H3V13Z" />
    </svg>`,content:`<section class="bdg-sect">
      <h1 class="heading">Insert title here</h1>
      <p class="paragraph">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua</p>
      </section>`})})(L,X),w(L,X),function(k,q){var et=k.Panels,Z=k.getConfig(),rt="sw-visibility",T="export-template",z="open-sm",I="open-tm",N="open-layers",G="open-blocks",E="fullscreen",$="preview",x='style="display: block; max-width:22px"';Z.showDevices=!1,et.getPanels().reset([{id:"commands",buttons:[{}]},{id:"devices-c",buttons:[{id:J,command:J,active:!0,label:"<svg ".concat(x,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M21,16H3V4H21M21,2H3C1.89,2 1,2.89 1,4V16A2,2 0 0,0 3,18H10V20H8V22H16V20H14V18H21A2,2 0 0,0 23,16V4C23,2.89 22.1,2 21,2Z" />
        </svg>`)},{id:C,command:C,label:"<svg ".concat(x,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M19,18H5V6H19M21,4H3C1.89,4 1,4.89 1,6V18A2,2 0 0,0 3,20H21A2,2 0 0,0 23,18V6C23,4.89 22.1,4 21,4Z" />
        </svg>`)},{id:M,command:M,label:"<svg ".concat(x,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M17,19H7V5H17M17,1H7C5.89,1 5,1.89 5,3V21A2,2 0 0,0 7,23H17A2,2 0 0,0 19,21V3C19,1.89 18.1,1 17,1Z" />
        </svg>`)}]},{id:"options",buttons:[{id:rt,command:rt,context:rt,label:"<svg ".concat(x,` viewBox="0 0 24 24">
        <path fill="currentColor" d="M15,5H17V3H15M15,21H17V19H15M11,5H13V3H11M19,5H21V3H19M19,9H21V7H19M19,21H21V19H19M19,13H21V11H19M19,17H21V15H19M3,5H5V3H3M3,9H5V7H3M3,13H5V11H3M3,17H5V15H3M3,21H5V19H3M11,21H13V19H11M7,21H9V19H7M7,5H9V3H7V5Z" />
    </svg>`)},{id:$,context:$,command:function(){return k.runCommand($)},label:"<svg ".concat(x,' viewBox="0 0 24 24"><path fill="currentColor" d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z"></path></svg>')},{id:E,command:E,context:E,label:"<svg ".concat(x,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M5,5H10V7H7V10H5V5M14,5H19V10H17V7H14V5M17,14H19V19H14V17H17V14M10,17V19H5V14H7V17H10Z" />
        </svg>`)},{id:T,command:function(){return k.runCommand(T)},label:"<svg ".concat(x,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M12.89,3L14.85,3.4L11.11,21L9.15,20.6L12.89,3M19.59,12L16,8.41V5.58L22.42,12L16,18.41V15.58L19.59,12M1.58,12L8,5.58V8.41L4.41,12L8,15.58V18.41L1.58,12Z" />
        </svg>`)},{id:"undo",command:function(){return k.runCommand("core:undo")},label:"<svg ".concat(x,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M20 13.5C20 17.09 17.09 20 13.5 20H6V18H13.5C16 18 18 16 18 13.5S16 9 13.5 9H7.83L10.91 12.09L9.5 13.5L4 8L9.5 2.5L10.92 3.91L7.83 7H13.5C17.09 7 20 9.91 20 13.5Z" />
        </svg>`)},{id:"redo",command:function(){return k.runCommand("core:redo")},label:"<svg ".concat(x,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M10.5 18H18V20H10.5C6.91 20 4 17.09 4 13.5S6.91 7 10.5 7H16.17L13.08 3.91L14.5 2.5L20 8L14.5 13.5L13.09 12.09L16.17 9H10.5C8 9 6 11 6 13.5S8 18 10.5 18Z" />
        </svg>`)},{id:ot,command:function(){return k.runCommand(ot)},label:"<svg ".concat(x,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z" />
        </svg>`)},{id:m,command:function(){return k.runCommand(m)},label:"<svg ".concat(x,` viewBox="0 0 24 24">
              <path fill="currentColor" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" />
          </svg>`)}]},{id:"views",buttons:[{id:z,command:z,active:!0,label:"<svg ".concat(x,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M20.71,4.63L19.37,3.29C19,2.9 18.35,2.9 17.96,3.29L9,12.25L11.75,15L20.71,6.04C21.1,5.65 21.1,5 20.71,4.63M7,14A3,3 0 0,0 4,17C4,18.31 2.84,19 2,19C2.92,20.22 4.5,21 6,21A4,4 0 0,0 10,17A3,3 0 0,0 7,14Z" />
        </svg>`)},{id:I,command:I,label:"<svg ".concat(x,` viewBox="0 0 24 24">
          <path fill="currentColor" d="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z" />
      </svg>`)},{id:N,command:N,label:"<svg ".concat(x,` viewBox="0 0 24 24">
          <path fill="currentColor" d="M12,16L19.36,10.27L21,9L12,2L3,9L4.63,10.27M12,18.54L4.62,12.81L3,14.07L12,21.07L21,14.07L19.37,12.8L12,18.54Z" />
      </svg>`)},{id:G,command:G,label:"<svg ".concat(x,` viewBox="0 0 24 24">
          <path fill="currentColor" d="M17,13H13V17H11V13H7V11H11V7H13V11H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z" />
      </svg>`)}]}]);var gt=et.getButton("views",G);k.on("load",function(){return gt==null?void 0:gt.set("active",!0)}),q.showStylesOnChange&&k.on("component:selected",function(){var at=et.getButton("views",z),Lt=et.getButton("views",N);Lt&&Lt.get("active")||!k.getSelected()||at==null||at.set("active",!0)})}(L,X)};return ht})())})(ev);var vb=ev.exports;const gb=Wi(vb);var rv={exports:{}};/*! grapesjs-tooltip - 0.1.8 */(function(R,dt){(function(wt,ht){R.exports=ht()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:zi,()=>(()=>{var wt={d:(J,C)=>{for(var M in C)wt.o(C,M)&&!wt.o(J,M)&&Object.defineProperty(J,M,{enumerable:!0,get:C[M]})},o:(J,C)=>Object.prototype.hasOwnProperty.call(J,C),r:J=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(J,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(J,"__esModule",{value:!0})}},ht={};wt.r(ht),wt.d(ht,{default:()=>ot});var _t=function(){return _t=Object.assign||function(J){for(var C,M=1,m=arguments.length;M<m;M++)for(var A in C=arguments[M])Object.prototype.hasOwnProperty.call(C,A)&&(J[A]=C[A]);return J},_t.apply(this,arguments)};const ot=function(J,C){var M;C===void 0&&(C={});var m=_t({id:"tooltip",labelTooltip:"Tooltip",blockTooltip:{},propsTooltip:{},extendTraits:function(I){return I},attrTooltip:"data-tooltip",classTooltip:"tooltip-component",style:"",styleAdditional:"",privateClasses:!0,stylableTooltip:["background-color","padding","padding-top","padding-right","padding-bottom","padding-left","font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","border-radius","border-top-left-radius","border-top-right-radius","border-bottom-left-radius","border-bottom-right-radius","border","border-width","border-style","border-color"],showTooltipOnStyle:!0},C),A=m.propsTooltip,w=m.classTooltip,_=m.style,O=m.styleAdditional,L=m.privateClasses,Q=m.stylableTooltip,X=m.showTooltipOnStyle,U=m.blockTooltip,V=m.extendTraits,j=m.id,k=m.labelTooltip,q=m.attrTooltip;U&&J.BlockManager.add(j,_t({media:`<svg viewBox="0 0 24 24">
          <path d="M4 2h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2h-4l-4 4-4-4H4c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2m0 2v12h4.83L12 19.17 15.17 16H20V4H4z"></path>
        </svg>`,label:k,category:"Extra",select:!0,content:{type:j}},U));var et="".concat(w,"__body"),Z="".concat(w,"--empty"),rt="".concat(q,"-visible"),T="".concat(q,"-pos"),z="".concat(q,"-length");L&&J.SelectorManager.getAll().add([{private:1,name:w},{private:1,name:et},{private:1,name:Z}]),J.Components.addType(j,{isComponent:function(I){var N;return(N=I.hasAttribute)===null||N===void 0?void 0:N.call(I,q)},model:{defaults:_t({name:k,classes:[w],attributes:(M={},M[q]=k,M),styles:(_||`
          .`.concat(w,` {
            position: relative;
            display: inline-block;
            vertical-align: top;
          }

          .`).concat(Z,` {
            width: 50px;
            height: 50px;
          }

          .`).concat(et,`,
          [`).concat(q,`]::after {
            font-family: Helvetica, sans-serif;
            background: rgba(55, 61, 73, 0.95);
            border-radius: 3px;
            bottom: 100%;
            color: #fff;
            content: attr(`).concat(q,`);
            display: block;
            font-size: 12px;
            left: 50%;
            line-height: normal;
            max-width: 32rem;
            opacity: 0;
            overflow: hidden;
            padding: 8px 16px;
            pointer-events: none;
            position: absolute;
            text-overflow: ellipsis;
            transform: translate(-50%, 0);
            transition: opacity 0.25s, transform 0.25s;
            white-space: nowrap;
            box-sizing: border-box;
            z-index: 10;
          }

          [`).concat(rt,`=true]::after,
          [`).concat(q,`]:focus::after,
          [`).concat(q,`]:hover::after {
            opacity: 1;
            transform: translate(-50%, -0.5rem);
          }

          [`).concat(T,`=right]::after {
            bottom: 50%;
            left: 100%;
            transform: translate(0, 50%);
          }

          [`).concat(T,`=right]:focus::after,
          [`).concat(T,`=right]:hover::after,
          [`).concat(rt,"=true][").concat(T,`=right]::after {
            transform: translate(0.5rem, 50%);
          }

          [`).concat(T,`=bottom]::after {
            bottom: auto;
            top: 100%;
            transform: translate(-50%, 0);
          }

          [`).concat(T,`=bottom]:focus::after,
          [`).concat(T,`=bottom]:hover::after,
          [`).concat(rt,"=true][").concat(T,`=bottom]::after {
            transform: translate(-50%, 0.5rem);
          }

          [`).concat(T,`=left]::after {
            bottom: 50%;
            left: auto;
            right: 100%;
            transform: translate(0, 50%);
          }

          [`).concat(T,`=left]:focus::after,
          [`).concat(T,`=left]:hover::after,
          [`).concat(rt,"=true][").concat(T,`=left]::after {
            transform: translate(-0.5rem, 50%);
          }

          [`).concat(z,`=small]::after {
            white-space: normal;
            width: 80px;
          }

          [`).concat(z,`=medium]::after {
            white-space: normal;
            width: 150px;
          }

          [`).concat(z,`=large]::after {
            white-space: normal;
            width: 300px;
          }

          [`).concat(z,`=fit]::after {
            white-space: normal;
            width: 100%;
          }

          // IE 11 bugfix
          button[`).concat(q,`] {
            overflow: visible;
          }
        `))+O,traits:V([{name:q,label:"Text"},{name:T,label:"Position",type:"select",options:[{value:"top",name:"Top"},{value:"right",name:"Right"},{value:"bottom",name:"Bottom"},{value:"left",name:"Left"}]},{name:z,label:"Length",type:"select",options:[{value:"",name:"One line"},{value:"small",name:"Small"},{value:"medium",name:"Medium"},{value:"large",name:"Large"},{value:"fit",name:"Fit"}]},{name:rt,label:"Visible",type:"checkbox",valueTrue:"true"},{name:"style-tooltip",labelButton:"Style tooltip",type:"button",full:!0,command:function(I){var N,G=I.Panels.getButton("views","open-sm");G==null||G.set("active",!0);var E=I.Css.getRules(".".concat(et))[0];if(E.set("stylable",Q),I.StyleManager.select(E),X){var $=I.getSelected();$!=null&&$.is(j)&&($.addAttributes(((N={})[rt]="true",N)),I.once("style:target",function(){var x;$.addAttributes(((x={})[rt]="false",x))}))}}}])},A),init:function(){this.listenTo(this.components(),"add remove",this.checkEmpty),this.checkEmpty()},checkEmpty:function(){this[this.components().length?"removeClass":"addClass"]("".concat(Z))}}})};return ht})())})(rv);var mb=rv.exports;const yb=Wi(mb);var nv={exports:{}};/*! grapesjs-tui-image-editor - 1.0.2 */(function(R,dt){(function(wt,ht){R.exports=ht()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:zi,()=>(()=>{var wt={d:(C,M)=>{for(var m in M)wt.o(M,m)&&!wt.o(C,m)&&Object.defineProperty(C,m,{enumerable:!0,get:M[m]})},o:(C,M)=>Object.prototype.hasOwnProperty.call(C,M),r:C=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(C,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(C,"__esModule",{value:!0})}},ht={};wt.r(ht),wt.d(ht,{default:()=>J});var _t=function(){return _t=Object.assign||function(C){for(var M,m=1,A=arguments.length;m<A;m++)for(var w in M=arguments[m])Object.prototype.hasOwnProperty.call(M,w)&&(C[w]=M[w]);return C},_t.apply(this,arguments)},ot=function(C,M,m){if(m||arguments.length===2)for(var A,w=0,_=M.length;w<_;w++)!A&&w in M||(A||(A=Array.prototype.slice.call(M,0,w)),A[w]=M[w]);return C.concat(A||Array.prototype.slice.call(M))};const J=function(C,M){M===void 0&&(M={});var m=_t({config:{},constructor:"",labelImageEditor:"Image Editor",labelApply:"Apply",height:"650px",width:"100%",commandId:"tui-image-editor",toolbarIcon:`<svg viewBox="0 0 24 24">
                    <path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z">
                    </path>
                  </svg>`,hideHeader:!0,addToAssets:!0,upload:!1,onApplyButton:function(){},onApply:null,script:["https://uicdn.toast.com/tui.code-snippet/v1.5.2/tui-code-snippet.min.js","https://uicdn.toast.com/tui-color-picker/v2.2.7/tui-color-picker.min.js","https://uicdn.toast.com/tui-image-editor/v3.15.2/tui-image-editor.min.js"],style:["https://uicdn.toast.com/tui-color-picker/v2.2.7/tui-color-picker.min.css","https://uicdn.toast.com/tui-image-editor/v3.15.2/tui-image-editor.min.css"]},M),A=m.script,w=m.style,_=m.height,O=m.width,L=m.hideHeader,Q=m.onApply,X=m.upload,U=m.addToAssets,V=m.commandId,j=typeof window<"u",k=function(){var N;return m.constructor||j&&((N=window.tui)===null||N===void 0?void 0:N.ImageEditor)},q=k();if(!q&&(A!=null&&A.length)&&j){var et=document.head,Z=Array.isArray(A)?ot([],A,!0):[A],rt=Array.isArray(w)?ot([],w,!0):[w],T=function(N){if(N.length){var G=document.createElement("link");G.href=N.shift(),G.rel="stylesheet",et.appendChild(G),T(N)}},z=function(N){if(N.length){var G=document.createElement("script");G.src=N.shift(),G.onerror=G.onload=z.bind(null,N),et.appendChild(G)}else q=k()};T(rt),z(Z)}m.toolbarIcon&&C.Components.addType("image",{extendFn:["initToolbar"],model:{initToolbar:function(){var N=this.get("toolbar");N!=null&&N.some(function(G){return G.command===V})||(N==null||N.unshift({command:V,label:m.toolbarIcon}),this.set("toolbar",N))}}});var I={level:"error",ns:V};C.Commands.add(V,{imageEditor:null,run:function(N,G,E){var $=this;if(E===void 0&&(E={}),!q)return N.log("TOAST UI Image editor not found",I),N.stopCommand(V);var x=E.target||N.getSelected();if(!x)return N.log("Target not available",I),N.stopCommand(V);var gt=this.createContent(),at=m.labelImageEditor,Lt=gt.children[1];N.Modal.open({title:at,content:gt}).onceClose(function(){return N.stopCommand(V)});var Xt=this.getEditorConfig(x.get("src"));this.imageEditor=new q(gt.children[0],Xt),N.getModel().setEditing(!0),Lt.onclick=function(){return $.applyChanges(x)},m.onApplyButton(Lt)},stop:function(N){var G;(G=this.imageEditor)===null||G===void 0||G.destroy(),N.getModel().setEditing(!1)},getEditorConfig:function(N){var G=_t({},m.config);return G.includeUI||(G.includeUI={}),G.includeUI=_t(_t({theme:{}},G.includeUI),{loadImage:{path:N,name:"1"},uiSize:{height:_,width:O}}),L&&(G.includeUI.theme["header.display"]="none"),G},createContent:function(){var N=document.createElement("div");return N.style.position="relative",N.innerHTML=`
        <div></div>
        <button class="tui-image-editor__apply-btn" style="
          position: absolute;
          top: 0; right: 0;
          margin: 10px;
          background-color: #fff;
          font-size: 1rem;
          border-radius: 3px;
          border: none;
          padding: 10px 20px;
          cursor: pointer
        ">
          `.concat(m.labelApply,`
        </botton>
      `),N},applyChanges:function(N){var G=this,E=this.imageEditor;Q?Q(E,N):E.getDrawingMode()==="CROPPER"?E.crop(E.getCropzoneRect()).then(function(){G.uploadImage(E,N)}):this.uploadImage(E,N)},uploadImage:function(N,G){var E=this,$=C.Assets,x=N.toDataURL();if(X){var gt=this.dataUrlToBlob(x);$.FileUploader().uploadFile({dataTransfer:{files:[gt]}},function(at){var Lt=at&&at.data&&at.data[0],Xt=Lt&&(typeof Lt=="string"?Lt:Lt.src);Xt&&E.applyToTarget(Xt,G)})}else U&&$.add({src:x,name:(G.get("src")||"").split("/").pop()}),this.applyToTarget(x,G)},applyToTarget:function(N,G){G.set("src",N),C.Modal.close()},dataUrlToBlob:function(N){for(var G=N.split(","),E=window.atob(G[1]),$=G[0].split(":")[1].split(";")[0],x=new ArrayBuffer(E.length),gt=new Uint8Array(x),at=0;at<E.length;at++)gt[at]=E.charCodeAt(at);return new Blob([x],{type:$})}})};return ht})())})(nv);var wb=nv.exports;const bb=Wi(wb);var ov={exports:{}};/*! grapesjs-style-bg - 2.0.2 */(function(R,dt){(function(wt,ht){R.exports=ht()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:zi,()=>(()=>{var wt={180:function(J){var C;C=()=>(()=>{var M={9:function(_){_.exports=function(O){function L(X){if(Q[X])return Q[X].exports;var U=Q[X]={i:X,l:!1,exports:{}};return O[X].call(U.exports,U,U.exports,L),U.l=!0,U.exports}var Q={};return L.m=O,L.c=Q,L.d=function(X,U,V){L.o(X,U)||Object.defineProperty(X,U,{configurable:!1,enumerable:!0,get:V})},L.n=function(X){var U=X&&X.__esModule?function(){return X.default}:function(){return X};return L.d(U,"a",U),U},L.o=function(X,U){return Object.prototype.hasOwnProperty.call(X,U)},L.p="",L(L.s=1)}([function(O,L,Q){Object.defineProperty(L,"__esModule",{value:!0}),L.on=function(X,U,V){U=U.split(/\s+/);for(var j=0;j<U.length;++j)X.addEventListener(U[j],V)},L.off=function(X,U,V){U=U.split(/\s+/);for(var j=0;j<U.length;++j)X.removeEventListener(U[j],V)},L.isFunction=function(X){return typeof X=="function"},L.isDef=function(X){return X!==void 0},L.getPointerEvent=function(X){return X.touches&&X.touches[0]||X}},function(O,L,Q){var X=function(U){return U&&U.__esModule?U:{default:U}}(Q(2));O.exports=function(U){return new X.default(U)}},function(O,L,Q){function X(Z){return Z&&Z.__esModule?Z:{default:Z}}Object.defineProperty(L,"__esModule",{value:!0});var U=function(){function Z(rt,T){for(var z=0;z<T.length;z++){var I=T[z];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(rt,I.key,I)}}return function(rt,T,z){return T&&Z(rt.prototype,T),z&&Z(rt,z),rt}}(),V=X(Q(3)),j=X(Q(4)),k=Q(0),q=function(Z,rt){return Z.position-rt.position},et=function(Z){function rt(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(function(E,$){if(!(E instanceof $))throw new TypeError("Cannot call a class as a function")})(this,rt);var z=function(E,$){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!$||typeof $!="object"&&typeof $!="function"?E:$}(this,(rt.__proto__||Object.getPrototypeOf(rt)).call(this));T=Object.assign({},T);var I={pfx:"grp",el:".grp",colorEl:"",min:0,max:100,direction:"90deg",type:"linear",height:"30px",width:"100%",emptyColor:"#000",onValuePos:function(E){return parseInt(E)}};for(var N in I)N in T||(T[N]=I[N]);var G=T.el;if(!((G=typeof G=="string"?document.querySelector(G):G)instanceof HTMLElement))throw"Element not found, given "+G;return z.el=G,z.handlers=[],z.options=T,z.on("handler:color:change",function(E,$){return z.change($)}),z.on("handler:position:change",function(E,$){return z.change($)}),z.on("handler:remove",function(E){return z.change(1)}),z.on("handler:add",function(E){return z.change(1)}),z.render(),z}return function(T,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof z);T.prototype=Object.create(z&&z.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),z&&(Object.setPrototypeOf?Object.setPrototypeOf(T,z):T.__proto__=z)}(rt,Z),U(rt,[{key:"destroy",value:function(){var T=this;this.clear(),this.e={},["el","handlers","options","colorPicker"].forEach(function(z){return T[z]=0}),["previewEl","wrapperEl","sandEl"].forEach(function(z){var I=T[z];I&&I.parentNode&&I.parentNode.removeChild(I),delete T[z]})}},{key:"setColorPicker",value:function(T){this.colorPicker=T}},{key:"getValue",value:function(T,z){var I=this.getColorValue(),N=T||this.getType(),G=["top","left","bottom","right","center"],E=z||this.getDirection();return["linear","repeating-linear"].indexOf(N)>=0&&G.indexOf(E)>=0&&(E=E==="center"?"to right":"to "+E),["radial","repeating-radial"].indexOf(N)>=0&&G.indexOf(E)>=0&&(E="circle at "+E),I?N+"-gradient("+E+", "+I+")":""}},{key:"getSafeValue",value:function(T,z){var I=this.previewEl,N=this.getValue(T,z);if(!this.sandEl&&(this.sandEl=document.createElement("div")),!I||!N)return"";for(var G=this.sandEl.style,E=[N].concat(function(gt){if(Array.isArray(gt)){for(var at=0,Lt=Array(gt.length);at<gt.length;at++)Lt[at]=gt[at];return Lt}return Array.from(gt)}(this.getPrefixedValues(T,z))),$=void 0,x=0;x<E.length&&($=E[x],G.backgroundImage=$,G.backgroundImage!=$);x++);return G.backgroundImage}},{key:"setValue",value:function(){var T=this,z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},N=this.type,G=this.direction,E=z.indexOf("(")+1,$=z.lastIndexOf(")"),x=z.substring(E,$),gt=x.split(/,(?![^(]*\)) /);if(this.clear(I),x){gt.length>2&&(G=gt.shift());var at=void 0;["repeating-linear","repeating-radial","linear","radial"].forEach(function(Lt){z.indexOf(function(Xt){return Xt+"-gradient("}(Lt))>-1&&!at&&(at=1,N=Lt)}),this.setDirection(G,I),this.setType(N,I),gt.forEach(function(Lt){var Xt=Lt.split(" "),St=parseFloat(Xt.pop()),Ut=Xt.join("");T.addHandler(St,Ut,0,I)}),this.updatePreview()}else this.updatePreview()}},{key:"getColorValue",value:function(){var T=this.handlers;return T.sort(q),(T=T.length==1?[T[0],T[0]]:T).map(function(z){return z.getValue()}).join(", ")}},{key:"getPrefixedValues",value:function(T,z){var I=this.getValue(T,z);return["-moz-","-webkit-","-o-","-ms-"].map(function(N){return""+N+I})}},{key:"change",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.updatePreview(),!z.silent&&this.emit("change",T)}},{key:"setDirection",value:function(T){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.options.direction=T;var I=z.complete,N=I===void 0?1:I;this.change(N,z)}},{key:"getDirection",value:function(){return this.options.direction}},{key:"setType",value:function(T){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.options.type=T;var I=z.complete,N=I===void 0?1:I;this.change(N,z)}},{key:"getType",value:function(){return this.options.type}},{key:"addHandler",value:function(T,z){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},G=new j.default(this,T,z,I,N);return!N.silent&&this.emit("handler:add",G),G}},{key:"getHandler",value:function(T){return this.handlers[T]}},{key:"getHandlers",value:function(){return this.handlers}},{key:"clear",value:function(){for(var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},z=this.handlers,I=z.length-1;I>=0;I--)z[I].remove(T)}},{key:"getSelected",value:function(){for(var T=this.getHandlers(),z=0;z<T.length;z++){var I=T[z];if(I.isSelected())return I}return null}},{key:"updatePreview",value:function(){var T=this.previewEl;T&&(T.style.backgroundImage=this.getValue("linear","to right"))}},{key:"initEvents",value:function(){var T=this,z=this.previewEl;z&&(0,k.on)(z,"click",function(I){var N=T.options,G=N.min,E=N.max,$={w:z.clientWidth,h:z.clientHeight},x=I.offsetX-z.clientLeft,gt=I.offsetY-z.clientTop,at=x/$.w*100;if(!(at>E||at<G||gt>$.h||gt<0)){var Lt=document.createElement("canvas"),Xt=Lt.getContext("2d");Lt.width=$.w,Lt.height=$.h;var St=Xt.createLinearGradient(0,0,$.w,$.h);T.getHandlers().forEach(function(ne){return St.addColorStop(ne.position/100,ne.color)}),Xt.fillStyle=St,Xt.fillRect(0,0,Lt.width,Lt.height),Lt.style.background="black";var Ut=Lt.getContext("2d").getImageData(x,gt,1,1).data,Yt="rgba("+Ut[0]+", "+Ut[1]+", "+Ut[2]+", "+Ut[3]+")",Bt=Yt=="rgba(0, 0, 0, 0)"?N.emptyColor:Yt;T.addHandler(at,Bt)}})}},{key:"render",value:function(){var T=this.options,z=this.el,I=T.pfx,N=T.height,G=T.width;if(z){var E=I+"-wrapper",$=I+"-preview";z.innerHTML=`
      <div class="`+E+`">
        <div class="`+$+`"></div>
      </div>
    `;var x=z.querySelector("."+E),gt=z.querySelector("."+$),at=x.style;at.position="relative",this.wrapperEl=x,this.previewEl=gt,N&&(at.height=N),G&&(at.width=G),this.initEvents(),this.updatePreview()}}}]),rt}(V.default);L.default=et},function(O,L,Q){Object.defineProperty(L,"__esModule",{value:!0});var X=function(){function V(j,k){for(var q=0;q<k.length;q++){var et=k[q];et.enumerable=et.enumerable||!1,et.configurable=!0,"value"in et&&(et.writable=!0),Object.defineProperty(j,et.key,et)}}return function(j,k,q){return k&&V(j.prototype,k),q&&V(j,q),j}}(),U=function(){function V(){(function(j,k){if(!(j instanceof k))throw new TypeError("Cannot call a class as a function")})(this,V)}return X(V,[{key:"on",value:function(j,k,q){var et=this.e||(this.e={});return(et[j]||(et[j]=[])).push({fn:k,ctx:q}),this}},{key:"once",value:function(j,k,q){function et(){Z.off(j,et),k.apply(q,arguments)}var Z=this;return et._=k,this.on(j,et,q)}},{key:"emit",value:function(j){for(var k=[].slice.call(arguments,1),q=((this.e||(this.e={}))[j]||[]).slice(),et=0,Z=q.length;et<Z;et++)q[et].fn.apply(q[et].ctx,k);return this}},{key:"off",value:function(j,k){var q=this.e||(this.e={}),et=q[j],Z=[];if(et&&k)for(var rt=0,T=et.length;rt<T;rt++)et[rt].fn!==k&&et[rt].fn._!==k&&Z.push(et[rt]);return Z.length?q[j]=Z:delete q[j],this}}]),V}();L.default=U},function(O,L,Q){Object.defineProperty(L,"__esModule",{value:!0});var X=function(){function j(k,q){for(var et=0;et<q.length;et++){var Z=q[et];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(k,Z.key,Z)}}return function(k,q,et){return q&&j(k.prototype,q),et&&j(k,et),k}}(),U=Q(0),V=function(){function j(k){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"black",Z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,rt=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};(function(T,z){if(!(T instanceof z))throw new TypeError("Cannot call a class as a function")})(this,j),k.getHandlers().push(this),this.gp=k,this.position=q,this.color=et,this.selected=0,this.render(),Z&&this.select(rt)}return X(j,[{key:"toJSON",value:function(){return{position:this.position,selected:this.selected,color:this.color}}},{key:"setColor",value:function(k){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.color=k,this.emit("handler:color:change",this,q)}},{key:"setPosition",value:function(k){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,et=this.getEl();this.position=k,et&&(et.style.left=k+"%"),this.emit("handler:position:change",this,q)}},{key:"getColor",value:function(){return this.color}},{key:"getPosition",value:function(){var k=this.position,q=this.gp.options.onValuePos;return(0,U.isFunction)(q)?q(k):k}},{key:"isSelected",value:function(){return!!this.selected}},{key:"getValue",value:function(){return this.getColor()+" "+this.getPosition()+"%"}},{key:"select",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},q=this.getEl(),et=this.gp.getHandlers();!k.keepSelect&&et.forEach(function(rt){return rt.deselect()}),this.selected=1;var Z=this.getSelectedCls();q&&(q.className+=" "+Z),this.emit("handler:select",this)}},{key:"deselect",value:function(){var k=this.getEl();this.selected=0;var q=this.getSelectedCls();k&&(k.className=k.className.replace(q,"").trim()),this.emit("handler:deselect",this)}},{key:"getSelectedCls",value:function(){return this.gp.options.pfx+"-handler-selected"}},{key:"remove",value:function(){var k=this,q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},et=this.cpFn,Z=this.getEl(),rt=this.gp.getHandlers(),T=rt.splice(rt.indexOf(this),1)[0];return Z&&Z.parentNode.removeChild(Z),!q.silent&&this.emit("handler:remove",T),(0,U.isFunction)(et)&&et(this),["el","gp"].forEach(function(z){return k[z]=0}),T}},{key:"getEl",value:function(){return this.el}},{key:"initEvents",value:function(){var k=this,q=this.getEl(),et=this.gp.previewEl,Z=this.gp.options,rt=Z.min,T=Z.max,z=q.querySelector("[data-toggle=handler-close]"),I=q.querySelector("[data-toggle=handler-color-c]"),N=q.querySelector("[data-toggle=handler-color-wrap]"),G=q.querySelector("[data-toggle=handler-color]"),E=q.querySelector("[data-toggle=handler-drag]"),$=function(Bt){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,Ot=Bt.target.value;k.setColor(Ot,ne),N&&(N.style.backgroundColor=Ot)};if(I&&(0,U.on)(I,"click",function(Bt){return Bt.stopPropagation()}),z&&(0,U.on)(z,"click",function(Bt){Bt.stopPropagation(),k.remove()}),G&&((0,U.on)(G,"change",$),(0,U.on)(G,"input",function(Bt){return $(Bt,0)})),E){var x=0,gt=0,at=0,Lt={},Xt={},St={},Ut=function(Bt){var ne=(0,U.getPointerEvent)(Bt);at=1,St.x=ne.clientX-Xt.x,St.y=ne.clientY-Xt.y,x=100*St.x,x/=Lt.w,x=(x=(x=gt+x)<rt?rt:x)>T?T:x,k.setPosition(x,0),k.emit("handler:drag",k,x),(0,U.isDef)(Bt.button)&&Bt.which===0&&Yt(Bt)},Yt=function Bt(ne){(0,U.off)(document,"touchmove mousemove",Ut),(0,U.off)(document,"touchend mouseup",Bt),at&&(at=0,k.setPosition(x),k.emit("handler:drag:end",k,x))};(0,U.on)(E,"touchstart mousedown",function(Bt){if(!(0,U.isDef)(Bt.button)||Bt.button===0){k.select();var ne=(0,U.getPointerEvent)(Bt);gt=k.position,Lt.w=et.clientWidth,Lt.h=et.clientHeight,Xt.x=ne.clientX,Xt.y=ne.clientY,(0,U.on)(document,"touchmove mousemove",Ut),(0,U.on)(document,"touchend mouseup",Yt),k.emit("handler:drag:start",k)}}),(0,U.on)(E,"click",function(Bt){return Bt.stopPropagation()})}}},{key:"emit",value:function(){var k;(k=this.gp).emit.apply(k,arguments)}},{key:"render",value:function(){var k=this.gp,q=k.options,et=k.previewEl,Z=k.colorPicker,rt=q.pfx,T=q.colorEl,z=this.getColor();if(et){var I=document.createElement("div"),N=I.style,G=rt+"-handler";return I.className=G,I.innerHTML=`
      <div class="`+G+`-close-c">
        <div class="`+G+`-close" data-toggle="handler-close">&Cross;</div>
      </div>
      <div class="`+G+`-drag" data-toggle="handler-drag"></div>
      <div class="`+G+`-cp-c" data-toggle="handler-color-c">
        `+(T||`
          <div class="`+G+'-cp-wrap" data-toggle="handler-color-wrap" style="background-color: '+z+`">
            <input type="color" data-toggle="handler-color" value="`+z+`">
          </div>`)+`
      </div>
    `,N.position="absolute",N.top=0,N.left=this.position+"%",et.appendChild(I),this.el=I,this.initEvents(),this.cpFn=Z&&Z(this),I}}}]),j}();L.default=V}])}},m={};function A(_){var O=m[_];if(O!==void 0)return O.exports;var L=m[_]={exports:{}};return M[_].call(L.exports,L,L.exports,A),L.exports}A.n=_=>{var O=_&&_.__esModule?()=>_.default:()=>_;return A.d(O,{a:O}),O},A.d=(_,O)=>{for(var L in O)A.o(O,L)&&!A.o(_,L)&&Object.defineProperty(_,L,{enumerable:!0,get:O[L]})},A.o=(_,O)=>Object.prototype.hasOwnProperty.call(_,O),A.r=_=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(_,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(_,"__esModule",{value:!0})};var w={};return(()=>{A.r(w),A.d(w,{GRAD_DIRS:()=>j,GRAD_TYPES:()=>k,default:()=>z,getValidDir:()=>V,parseGradient:()=>X,toGradient:()=>U});var _=A(9),O=A.n(_),L=function(){return L=Object.assign||function(I){for(var N,G=1,E=arguments.length;G<E;G++)for(var $ in N=arguments[G])Object.prototype.hasOwnProperty.call(N,$)&&(I[$]=N[$]);return I},L.apply(this,arguments)},Q=function(I,N,G){if(G||arguments.length===2)for(var E,$=0,x=N.length;$<x;$++)!E&&$ in N||(E||(E=Array.prototype.slice.call(N,0,$)),E[$]=N[$]);return I.concat(E||Array.prototype.slice.call(N))},X=function(I){var N=I.indexOf("(")+1,G=I.lastIndexOf(")"),E=I.substring(N,G),$=E.split(/,(?![^(]*\))/),x={direction:"left",type:"linear",content:E,colors:E,stops:[]};if(!E)return x;$.length>2&&(x.direction=$.shift(),x.colors=$.join(",").trim());var gt=!1;return["repeating-linear","repeating-radial","linear","radial"].forEach(function(at){I.indexOf(function(Lt){return"".concat(Lt,"-gradient(")}(at))>-1&&!gt&&(gt=!0,x.type=at)}),x.stops=$.map(function(at){var Lt=at.split(" "),Xt=(Lt.length>1?Lt.pop():"").trim();return{color:Lt.join(" ").trim(),position:Xt}}),x},U=function(I,N,G){var E=Q(Q([],j,!0),["center"],!1),$=N;return["linear","repeating-linear"].indexOf(I)>=0&&E.indexOf($)>=0&&($=$==="center"?"to right":"to ".concat($)),["radial","repeating-radial"].indexOf(I)>=0&&E.indexOf($)>=0&&($="circle at ".concat($)),G?"".concat(I,"-gradient(").concat($,", ").concat(G,")"):""},V=function(I){return j.filter(function(N){return I.indexOf(N)>-1})[0]},j=["right","bottom","left","top"],k=["linear","radial","repeating-linear","repeating-radial"],q='[data-toggle="handler-color-wrap"]',et="background-image-gradient",Z="".concat(et,"-dir"),rt="".concat(et,"-type"),T=function(){return T=Object.assign||function(I){for(var N,G=1,E=arguments.length;G<E;G++)for(var $ in N=arguments[G])Object.prototype.hasOwnProperty.call(N,$)&&(I[$]=N[$]);return I},T.apply(this,arguments)};const z=function(I,N){N===void 0&&(N={}),function(G,E){E===void 0&&(E={});var $=G.getModel(),x=G.Styles,gt=E.colorPicker,at=E.builtInType,Lt=E.styleType,Xt=function(St){var Ut=St.getEl().querySelector(q),Yt=G.$(Ut);Yt.spectrum&&Yt.spectrum("destroy")};Lt&&x.addType(Lt,{create:function(St){var Ut=St.change,Yt=document.createElement("div");Yt.className="gp-container",Yt.style.width="100%";var Bt=new(O())(L({el:Yt},E.grapickOpts));return Bt.on("change",function(ne){return Ut({value:Bt.getValue(),partial:!ne})}),this.gp=Bt,gt==="default"&&(gt=function(ne){var Ot=ne.getEl(),Rt=Ot.querySelector(q),Wt=Ot.querySelector("input");Wt==null||Wt.parentNode.removeChild(Wt);var ae=Rt.style;ae.backgroundColor=ne.getColor();var $t=function(Jt,de){de===void 0&&(de=1);var Ne=function(Je){return(Je.getAlpha()==1?Je.toHexString():Je.toRgbString()).replace(/ /g,"")}(Jt);ae.backgroundColor=Ne,ne.setColor(Ne,de)};$.initBaseColorPicker(Rt,{color:ne.getColor(),change:function(Jt){$t(Jt)},move:function(Jt){$t(Jt,0)}})},Bt.on("handler:remove",Xt)),gt&&Bt.setColorPicker(gt),Yt},emit:function(St,Ut){var Yt=St.updateStyle,Bt=Ut.partial;Yt(Ut.value,{partial:Bt})},update:function(St){var Ut=St.value,Yt=this.gp;if(Yt.getValue()!==Ut){var Bt=Yt.getHandlers();Bt.map(Xt),Yt.setValue(Ut,{silent:!0}),E.selectEdgeStops&&[Bt[0],Bt[Bt.length-1]].filter(Boolean).map(function(ne){return ne.select({keepSelect:!0})})}},destroy:function(){var St;(St=this.gp)===null||St===void 0||St.destroy()}}),at&&x.addBuiltIn(at,{type:"composite",fromStyle:function(St,Ut){var Yt,Bt=Ut.name,ne=X(St[Bt]||""),Ot=ne.type||k[0],Rt=V(ne.direction)||j[0];return(Yt={})[et]=U(Ot,Rt,ne.colors),Yt[rt]=Ot,Yt[Z]=Rt,Yt},toStyle:function(St,Ut){var Yt,Bt=Ut.name,ne=St[et]||"",Ot=St[rt]||k[0],Rt=St[Z]||j[0],Wt=X(ne),ae=U(Ot,Rt,Wt.colors);return(Yt={})[Bt]=ae,Yt},properties:[{name:" ",full:!0,defaults:"none",type:Lt,property:et},{name:"Direction",type:"select",defaults:"right",property:Z,options:j.map(function(St){return{value:St}})},{name:"Type",type:"select",defaults:"linear",property:rt,options:k.map(function(St){return{value:St}})}]})}(I,T({grapickOpts:{},selectEdgeStops:!0,styleType:"gradient",builtInType:"background-image"},N))}})(),w})(),J.exports=C()}},ht={};function _t(J){var C=ht[J];if(C!==void 0)return C.exports;var M=ht[J]={exports:{}};return wt[J].call(M.exports,M,M.exports,_t),M.exports}_t.n=J=>{var C=J&&J.__esModule?()=>J.default:()=>J;return _t.d(C,{a:C}),C},_t.d=(J,C)=>{for(var M in C)_t.o(C,M)&&!_t.o(J,M)&&Object.defineProperty(J,M,{enumerable:!0,get:C[M]})},_t.o=(J,C)=>Object.prototype.hasOwnProperty.call(J,C),_t.r=J=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(J,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(J,"__esModule",{value:!0})};var ot={};return(()=>{_t.r(ot),_t.d(ot,{BackgroundType:()=>J,default:()=>q});var J,C=_t(180),M=_t.n(C),m=function(){return m=Object.assign||function(et){for(var Z,rt=1,T=arguments.length;rt<T;rt++)for(var z in Z=arguments[rt])Object.prototype.hasOwnProperty.call(Z,z)&&(et[z]=Z[z]);return et},m.apply(this,arguments)};(function(et){et.Image="image",et.Color="color",et.Grad="grad"})(J||(J={}));var A=function(et){return et.map(function(Z){return{id:Z}})},w=function(et){var Z,rt=((Z={})[L]=J.Image,Z);if(et.indexOf("url(")>-1)rt[Q]=et;else if(et.indexOf("gradient(")>-1){var T=(0,C.parseGradient)(et),z=T.stops;if(z.length===2&&T.type==="linear"&&z[0].color===z[1].color)rt[L]=J.Color,rt[X]=z[0].color;else{var I=(0,C.getValidDir)(T.direction)||C.GRAD_DIRS[0],N=T.type||C.GRAD_TYPES[0];rt[L]=J.Grad,rt[U]=(0,C.toGradient)(N,I,T.colors),rt[j]=N,rt[V]=I}}return rt},_='style="max-height: 16px; display: block; margin: 0 auto" viewBox="0 0 24 24"',O="background-image",L="__background-type",Q=O,X="".concat(Q,"-color"),U="".concat(Q,"-gradient"),V="".concat(U,"-dir"),j="".concat(U,"-type"),k="none";const q=function(et,Z){Z===void 0&&(Z={});var rt=m({styleGradientOpts:{},propExtender:function(T){return T}},Z);M()(et,m({colorPicker:"default"},rt.styleGradientOpts)),et.Styles.addBuiltIn("background",{type:"stack",layerSeparator:new RegExp("(?<!\\(.*[^)]),(?![^(]*\\))"),layerJoin:", ",detached:!0,layerLabel:function(T,z){var I,N=z.values,G=z.property.getProperty(L).getOption(N[L]);return G!=null&&G.title?"".concat((I=G.title)&&I.charAt(0).toUpperCase()+I.substring(1)):""},fromStyle:function(T,z){var I=z.property,N=z.name,G=I.getLayerSeparator(),E=I.getProperties(),$=[];return T[O]?($=I.__splitStyleName(T,O,G).map(w),E.forEach(function(x){var gt=x.getId(),at=x.getName();at!==O&&I.__splitStyleName(T,at,G).map(function(Lt){var Xt;return(Xt={})[gt]=Lt||x.getDefaultValue(),Xt}).forEach(function(Lt,Xt){$[Xt]=$[Xt]?m(m({},$[Xt]),Lt):Lt})})):T[N]&&($=I.__splitStyleName(T,N,/(?![^)(]*\([^)(]*?\)\)),(?![^\(]*\))/).map(function(x){return x.substring(0,x.lastIndexOf(")")+1)}).map(w)),$},toStyle:function(T){var z=m({},T),I=z[L],N=z[Q];if(I===J.Color){var G=z[X];N=G===k?k:"linear-gradient(".concat(G," 0%, ").concat(G," 100%)")}else if(I===J.Grad){var E=(0,C.parseGradient)(z[U]||"");N=(0,C.toGradient)(z[j]||C.GRAD_TYPES[0],z[V]||C.GRAD_DIRS[0],E.colors)}return delete z[Q],delete z[X],delete z[U],delete z[V],delete z[j],m(m({},z),{"background-image":N||k})},properties:[{label:" ",property:L,type:"radio",default:J.Image,onChange:function(T){var z=T.property,I=T.to.value;I&&z.getParent().getProperties().forEach(function(N){var G=N.getName(),E=!1;G!==L&&((I===J.Image&&[X,U,V,j].indexOf(G)<0||I===J.Color&&G===X||I===J.Grad&&[U,V,j].indexOf(G)>=0)&&(E=!0),N.up({visible:E}))})},options:[{id:J.Image,title:"Image",label:"<svg ".concat(_,'><path fill="currentColor" d="M8.5 13.5l2.5 3 3.5-4.5 4.5 6H5m16 1V5a2 2 0 00-2-2H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2z"/></svg>')},{id:J.Color,title:"Color",label:"<svg ".concat(_,'><path fill="currentColor" d="M19 3H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V5a2 2 0 00-2-2z"/></svg>')},{id:J.Grad,title:"Gradient",label:"<svg ".concat(_,'><path fill="currentColor" d="M11 9h2v2h-2V9m-2 2h2v2H9v-2m4 0h2v2h-2v-2m2-2h2v2h-2V9M7 9h2v2H7V9m12-6H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V5a2 2 0 00-2-2M9 18H7v-2h2v2m4 0h-2v-2h2v2m4 0h-2v-2h2v2m2-7h-2v2h2v2h-2v-2h-2v2h-2v-2h-2v2H9v-2H7v2H5v-2h2v-2H5V5h14v6z"/></svg>')}]},{label:"Image",property:Q,default:"none",functionName:"url",type:"file",full:!0},{property:"background-repeat",default:"repeat",type:"select",options:[{id:"repeat",label:"Repeat"},{id:"repeat-x",label:"Repeat x"},{id:"repeat-y",label:"Repeat y"},{id:"no-repeat",label:"No repeat"},{id:"space",label:"Space"},{id:"round",label:"Round"}]},{property:"background-position",default:"left top",type:"select",options:A(["left top","left center","left bottom","right top","right center","right bottom","center top","center center","center bottom"])},{property:"background-attachment",default:"scroll",type:"select",options:A(["scroll","fixed","local"])},{type:"select",default:"auto",property:"background-size",options:A(["auto","cover","contain"])},{label:"Color",property:X,default:"none",type:"color",full:!0},{label:"Gradient",property:U,default:"linear-gradient(right, black 0%, white 100%)",type:"gradient",full:!0},{name:"Direction",property:V,type:"select",default:"right",options:A(C.GRAD_DIRS)},{name:"Type",property:j,default:"linear",type:"select",options:A(C.GRAD_TYPES)}].map(function(T){var z;return((z=rt.propExtender)===null||z===void 0?void 0:z.call(rt,T))||T})})}})(),ot})())})(ov);var _b=ov.exports;const xb=Wi(_b),ad={attributes:{"Link Block":"链接块",Quote:"引用","Text section":"文本部分","1 Column":"一列","2 Columns":"两列","3 Columns":"三列","2 Columns 3/7":"两列 3/7",Text:"文本",Link:"链接",Image:"图片",Video:"视频",Map:"地图",Faq:"常见问题",Heading:"标题",Paragraph:"段落",List:"列表",Divider:"分隔线",Button:"按钮",Slider:"滑块","Progress Bar":"进度条",Checkbox:"复选框",Radio:"单选框",Input:"输入框",Select:"下拉框",Textarea:"文本区域"},changed:{Basic:"基础",Text:"文本",Custom:"自定义",Media:"媒体",Form:"表单"}},Cb=R=>{R.forEach(dt=>{var wt,ht,_t,ot,J,C,M;if((wt=dt.attributes.label)!=null&&wt.includes("gjs-block-label")){const m=(ht=dt.attributes.label)==null?void 0:ht.match(/<div class="gjs-block-label">\s*(.*?)\s*<\/div>/);dt.attributes.label=(_t=dt.attributes.label)==null?void 0:_t.replace(new RegExp(m[1],"g"),ad.attributes[m[1]])}else dt.attributes.label=ad.attributes[dt.attributes.label]??dt.attributes.label;(C=(J=(ot=dt.changed)==null?void 0:ot.category)==null?void 0:J.attributes)!=null&&C.label&&(dt.changed.category.attributes.label=((M=ad.changed)==null?void 0:M[dt.changed.category.attributes.label])??dt.changed.category.attributes.label)})},Sb=`
<body>
<style type="text/css">
* {

    margin: 0;
    padding: 0;
  }

  .nav {
    position: fixed;
    top: 0;
    left: 0;
    z-index: 3;
    width: 100%;
    height: 4rem;
    background-color: #fff;
    border-bottom: 1px solid #ebebeb;

  }

  .top-nav {
    display: flex;
    align-items: center;
    justify-content: space-between;
    color: #0f0f0f;
    padding: 0 11.25rem 0 11.25rem;
    height: 100%;
  }
  .top-nav p {
    font-weight: bold;
  }

  .button-div button {
   width: 5.3125rem;
   cursor: pointer;
    height: 2.25rem;
    color: #fff;
    background: #409eff;
    border: 1px solid #409eff;
    border-radius: 4px 4px 4px 4px;
  }

  .page1 img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;

    height: 100%;
  }

  .page1 {

    display: flex;
    height: 31.25rem;
    position: relative;
    padding-left: 7.5rem;
    padding-top: 9.0625rem;
  }

  .text_36 {

    color: rgba(51, 51, 51, 1);
    font-size: 3rem;
    font-family: Source Han Sans CN-Bold;
    font-weight: 700;
    z-index: 9999;
    white-space: nowrap;

  }

  .text {
    z-index: 9999;
  }

  .flex-col {
    display: flex;
    flex-direction: column;
  }

  .justify-between {
    display: flex;
    justify-content: space-between;
  }

  .text-group-1 {
    padding-top: 4rem;
    margin-bottom: 4rem;
  }

  .box_5 {
    background-color: rgba(248, 249, 251, 1);
    width: 100%;
    text-align: center;
    padding-bottom: 4rem;
  }

  .group_2 {
    display: flex;
    justify-content: center;
    margin: 1.707rem 0 0 11.147rem;
  }

  .text_8 {

    overflow-wrap: break-word;
    color: rgba(51, 51, 51, 1);
    font-size: 3rem;
    font-family: Source Han Sans CN-Medium;
    font-weight: 500;
    text-align: left;
    white-space: nowrap;

  }



  .box_6 {
    background-color: rgba(255, 255, 255, 1);
    border-radius: 8px;
    width: 21.25rem;
    height: 16.25rem;
    padding: 2.25rem 1.5rem 2.625rem 1.5rem;
  }

  .box-margin {
    margin: 0 2rem;
  }

  .image_5 {
    width: 7.5rem;
    height: 7.5rem;
  }



  .text_9 {

    overflow-wrap: break-word;
    color: rgba(51, 51, 51, 1);
    font-size: 1.5rem;
    font-family: Source Han Sans CN-Medium;
    font-weight: 500;
    text-align: center;
    white-space: nowrap;
    margin: 1.5rem 0 1.5rem 0;

  }

  .text_10 {

    height: 1.28rem;
    overflow-wrap: break-word;
    color: rgba(51, 51, 51, 1);
    font-size: 1rem;
    font-family: Source Han Sans CN-Regular;
    font-weight: 500;
    text-align: left;
    margin-top: 0.427rem;
  }


  .group_5 {
    position: absolute;
    left: 0;
    top: -0.533rem;
    width: 51.2rem;
    height: 21.334rem;
  }

  .group_1 {
    width: 100%;
    background-color: white;
  }


  .b2b3 {
    margin: 7.5rem 11.25rem;
    background-color: #F8F9FB;
  }

  .image_1 {
    width: 41.125rem;
    height: 27.375rem;
  }

  .text-group_1 {
    margin-top: 5.375rem;
    margin-left: 5rem;
  }

  .text_1 {

    overflow-wrap: break-word;
    color: rgba(51, 51, 51, 1);
    font-size: 3rem;
    font-family: Source Han Sans CN-Medium;
    font-weight: 500;
    text-align: left;
    white-space: nowrap;

  }


  .box_2 {

    margin: 7.5rem 11.25rem;
  }

  .text-group_2 {
    margin-top: 5.375rem;
    margin-right: 5rem;
  }

  .text_2 {

    overflow-wrap: break-word;
    color: rgba(51, 51, 51, 1);
    font-size: 3rem;
    font-family: Source Han Sans CN-Medium;
    font-weight: 500;
    text-align: left;
    white-space: nowrap;
  }


  .image_2 {
    width: 41.125rem;
    height: 27.375rem;
  }

  .box_3 {
    margin: 4rem 1.5rem;
  }

  .image_3 {
    width: 41.125rem;
    height: 27.375rem;
  }

  .text-group_3 {
    margin-top: 5.375rem;
    margin-left: 5rem;
  }

  .text_3 {

    overflow-wrap: break-word;
    color: rgba(51, 51, 51, 1);
    font-size: 3rem;
    font-family: Source Han Sans CN-Medium;
    font-weight: 500;
    text-align: left;
    white-space: nowrap;
  }

  .text_4 {
    overflow-wrap: break-word;
    color: rgba(119, 119, 119, 1);
    font-size: 1.5rem;
    font-family: Source Han Sans CN-Regular;
    font-weight: 400;
    text-align: left;
    margin-top: 1rem;
  }
  .box_4 {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 100%;
    height: 31.25rem;
    position: relative;
  }
  .box_4 img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
  .text_5 {
    overflow-wrap: break-word;
    color: rgba(51, 51, 51, 1);
    font-size: 3rem;
    font-family: Source Han Sans CN-Medium;
    font-weight: 500;
    white-space: nowrap;
    z-index: 9999;
  }
    .margin-left {
  margin-left: 15px;
}
</style>
 <div class="page flex-col">
    <div class="nav">
      <div class="top-nav">
        <p >租户官网</p>
        <div class="button-div">
         <button  id="my-button">供应商登录</button>
          <button  class="margin-left" id="my-button2">会员登录</button>
        </div>

      </div>
    </div>
    <div class="page1">
      <img src="">
      <div class="text">
        <div class="text_36">海量调查项目待承接·开启</div>

        <div class="text_36">共赢新篇章</div>
      </div>

    </div>
    <div class="box-5-margin">
      <div class="box_5">
        <div class="text-group_4 text-group-1">
          <span class="text_8">简单三步即可成为供应商</span>

        </div>

        <div class="group_2">
          <div class="box_6">

            <img class="image_5" referrerpolicy="no-referrer" src="" />
            <div class="text-group_5 flex-col justify-between">
              <span class="text_9">注册</span>
              <span class="text_10">
                任何人都可以参加，注册步骤简单只需要30秒
              </span>

            </div>
          </div>
          <div class="box_6 box-margin">
            <img class="image_5" referrerpolicy="no-referrer" src="" />
            <div class="text-group_5 flex-col justify-between">
              <span class="text_9">会员</span>
              <span class="text_10">
                将您的会员进行录入系统，形成会员系统管控，会员操作尽在掌握之中
              </span>

            </div>

          </div>
          <div class="box_6">
            <img class="image_5" referrerpolicy="no-referrer" src="" />
            <div class="text-group_5 flex-col justify-between">
              <span class="text_9">项目</span>
              <span class="text_10">
                自动获取源源不断的调查项目，可自由分配给旗下的会员
              </span>

            </div>
          </div>
        </div>

      </div>
    </div>
    <div class="group_1 flex-row">
      <div class="flex-col">
        <div class="b2b3">
          <div class="box_3 flex-row justify-between">
            <img class="image_1" referrerpolicy="no-referrer" src="" />
            <div class="text-group_1 flex-col">
              <span class="text_3">项目管理</span>
              <span class="text_4">

                您不需要创建项目，我们的客户会根据系统的数据匹配，给您分配
                <br />
                最适配的问卷项目。问卷项目关联性高，也就意味着可获得更多专
                <br />
                属项目。您也可以在次分配项目，支持自定义分配给指定的部门，
                <br />
                进行项目的细分，让样本的质量越来越高，赚取的佣金就会越来越多。

              </span>
            </div>
          </div>
          <div class="box_3 flex-row justify-between">
            <div class="text-group_2 flex-col ">
              <span class="text_2">会员管理&nbsp;&nbsp;提升业绩与用户忠诚度的<br />核心驱动力</span>
              <span class="text_4">
                通过会员的专属服务通道、优先响应机制，实时查看会员完成的调<br />
                查质量、定制的功能开关，给予指定会员的特权、会员佣金的财务<br />
                跟踪，保证财务对账的数据确定性。促进会员与您的黏性，从而达<br />
                成长期稳定的合作关系，提高会员数据的透明度。

              </span>
            </div>
            <img class="image_2" referrerpolicy="no-referrer" src="" />
          </div>
          <div class="box_3 flex-row justify-between">
            <img class="image_3" referrerpolicy="no-referrer" src="" />
            <div class="text-group_3 flex-col ">
              <span class="text_3">数据中心</span>
              <span class="text_4">

                调查数据中心，展示多维度数据管理，支持查看您的收益以及会员<br />
                的收益，对每个项目的成本进行管控。根据会员的排行榜，了解部 <br />
                门与会员的绩效评估，明确工作成果和激励员工提高工作绩效

              </span>
            </div>
          </div>

        </div>
      </div>
    </div>
    <div class="box_4 flex-col">
      <img src="">
      <span class="text_5">诚邀供应商·开启合作新篇章</span>
    </div>
  </div>
</body>
`,Ob=`
<body>
<style type="text/css">
* {

    margin: 0;
    padding: 0;
  }
.margin-left {
  margin-left: 15px;
}
  .flex-col {
    display: flex;
    flex-direction: column;
  }

  .flex-row {
    display: flex;
    flex-direction: row;
  }

  .justify-between {
    display: flex;
    justify-content: space-around;
  }

  .nav {
    position: fixed;
    top: 0;
    left: 0;
    z-index: 3;
    width: 100%;
    height: 4rem;
    background-color: #fff;
    border-bottom: 1px solid #ebebeb;

  }

  .top-nav {
    display: flex;
    align-items: center;
    justify-content: space-between;
    color: #0f0f0f;
    padding: 0 11.25rem 0 11.25rem;
    height: 100%;
  }

  .top-nav p {
    font-weight: bold;
  }

  .button-div button {
    width: 4rem;
    height: 2.25rem;
    cursor: pointer;
    color: #fff;
    background: #409eff;
    border: 1px solid #409eff;
    border-radius: 4px 4px 4px 4px;
  }

  .group_5 {

    width: 100%;

    background-image: linear-gradient(180deg,
        rgba(237, 244, 255, 1) 0,
        rgba(255, 255, 255, 1) 100%);
  }

  .block_4 {

    margin-top: 198px;
    margin-left: 11.25rem;
  }

  .box_10 {
    height: 5.494rem;
    margin-top: 1.92rem;
  }

  .text_36 {

    color: rgba(51, 51, 51, 1);
    font-size: 3rem;
    font-family: Source Han Sans CN-Bold;
    font-weight: 700;

    white-space: nowrap;

  }

  .text_37 {
    width: 21.227rem;

    color: rgba(119, 119, 119, 1);
    font-size: 1.5rem;
    font-family: Source Han Sans CN-Medium;
    font-weight: 500;

    margin-top: 1rem;
  }


  .image_11 {
    width: 32.5rem;
    height: 32.5rem;
  }

  .text-group-1 {
    padding-top: 4rem;
    margin-bottom: 4rem;
  }




  .box_5 {
    background-color: rgba(248, 249, 251, 1);
    width: 100%;
    text-align: center;
    padding-bottom: 4rem;
  }

  .box-5-margin {
    margin-bottom: 7.5rem;
  }



  .text_8 {

    overflow-wrap: break-word;
    color: rgba(51, 51, 51, 1);
    font-size: 3rem;
    font-family: Source Han Sans CN-Medium;
    font-weight: 500;
    text-align: left;
    white-space: nowrap;

  }



  .box_6 {
    background-color: rgba(255, 255, 255, 1);
    border-radius: 8px;
    width: 21.25rem;
    height: 16.25rem;
    padding: 2.25rem 1.5rem 2.625rem 1.5rem;
  }

  .box-margin {
    margin: 0 2rem;
  }

  .image_5 {
    width: 7.5rem;
    height: 7.5rem;
  }



  .text_9 {

    overflow-wrap: break-word;
    color: rgba(51, 51, 51, 1);
    font-size: 1.5rem;
    font-family: Source Han Sans CN-Medium;
    font-weight: 500;
    text-align: center;
    white-space: nowrap;
    margin: 1.5rem 0 1.5rem 0;

  }

  .text_10 {

    height: 1.28rem;
    overflow-wrap: break-word;
    color: rgba(51, 51, 51, 1);
    font-size: 1rem;
    font-family: Source Han Sans CN-Regular;
    font-weight: 500;
    text-align: left;
    margin-top: 0.427rem;
  }





  .group_1 {
    width: 100%;
    background-color: white;
  }

  .block_1 {
    background-color: white;
    width: 100%;
  }


  .image_1 {
    width: 41.125rem;
    height: 27.375rem;
  }

  .text-group_1 {
    margin-top: 5.375rem;
    margin-left: 5rem;
  }


  .box_2 {

    margin: 7.5rem 11.25rem;
  }

  .text-group_2 {
    margin-top: 5.375rem;
    margin-right: 5rem;
  }

  .text_2 {

    overflow-wrap: break-word;
    color: rgba(51, 51, 51, 1);
    font-size: 3rem;
    font-family: Source Han Sans CN-Medium;
    font-weight: 500;
    text-align: left;
    white-space: nowrap;
  }

  .image_2 {
    width: 41.125rem;
    height: 27.375rem;
  }

  .box_3 {
    margin: 0 11.25rem 7.5rem 11.25rem;
  }

  .image_3 {
    width: 41.125rem;
    height: 27.375rem;
  }

  .text-group_3 {
    margin-top: 5.375rem;
    margin-left: 5rem;
  }

  .text_3 {

    overflow-wrap: break-word;
    color: rgba(51, 51, 51, 1);
    font-size: 3rem;
    font-family: Source Han Sans CN-Medium;
    font-weight: 500;
    text-align: left;
    white-space: nowrap;
  }

  .text_4 {
    overflow-wrap: break-word;
    color: rgba(119, 119, 119, 1);
    font-size: 1.5rem;
    font-family: Source Han Sans CN-Regular;
    font-weight: 400;
    text-align: left;
    margin-top: 1rem;
  }






  .group_2 {
    display: flex;
    justify-content: center;
    margin: 1.707rem 0 0 11.147rem;
  }

  .box_4 {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 100%;
    height: 31.25rem;
    position: relative;
  }

  .box_4 img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .text_5 {
    overflow-wrap: break-word;
    color: rgba(51, 51, 51, 1);
    font-size: 3rem;
    font-family: Source Han Sans CN-Medium;
    font-weight: 500;
    white-space: nowrap;
    z-index: 9999;
  }
</style>
<div class="page flex-col">
    <div class="nav">
      <div class="top-nav">
        <p>供应商官网</p>
        <div class="button-div">
          <button  id="my-button">登录</button>
          <button   class="margin-left" id="my-button2">注册</button>
        </div>

      </div>
    </div>

    <div class="group_5 flex-col">
      <div class="block_4 flex-row justify-between">
        <div class="box_10 flex-col">
          <span class="text_36">有偿问卷在家远程办公也能</span>
          <span class="text_36">轻松赚钱</span>
          <span class="text_37">做完问卷即得奖励</span>



        </div>
        <img class="image_11" referrerpolicy="no-referrer" src=""/>
      </div>
    </div>
    <div class="box-5-margin">
      <div class="box_5 ">
        <div class="text-group_4 text-group-1">
          <span class="text_8">简单三步即可填问卷赚钱</span>

        </div>

        <div class="group_2">
          <div class="box_6">

            <img class="image_5" referrerpolicy="no-referrer" src="" />
            <div class="text-group_5 flex-col justify-between">
              <span class="text_9">注册</span>
              <span class="text_10">
                任何人都可以参加，注册步骤简单只需要30秒
              </span>

            </div>
          </div>
          <div class="box_6 box-margin">
            <img class="image_5" referrerpolicy="no-referrer" src="" />
            <div class="text-group_5 flex-col justify-between">
              <span class="text_9">问卷</span>
              <span class="text_10">
                将在问卷列表中收到问卷，请如实认真回答，并且您所回答内容是匿名的，请放心
              </span>

            </div>

          </div>
          <div class="box_6">
            <img class="image_5" referrerpolicy="no-referrer" src="" />
            <div class="text-group_5 flex-col justify-between">
              <span class="text_9">佣金</span>
              <span class="text_10">
                将在问卷列表中收到问卷，请如实认真回答，操作完成，佣金会在第一时间进入账号明细并且您所回答内容是匿名的，请放心
              </span>

            </div>
          </div>
        </div>

      </div>
    </div>
    <div class="group_1 flex-row">
      <div class="block_1 flex-col">

        <div class="box_3 flex-row justify-between">
          <img class="image_1" referrerpolicy="no-referrer" src="" />
          <div class="text-group_1 flex-col">
            <span class="text_3">在线赚钱</span>
            <span class="text_4">
              在该网站填写问卷就可轻松在线赚钱
              <br />
              我们已经优化系统来匹配最适配的问卷。问卷相关性越高，意味着可获奖金也更多。
              当我们为您匹配到完美问卷后，请及时进行参与，每一份问卷的配额是有限的。
              在该网站上赚钱趣味十足。公司参考您的意见来改善产品开发设计，这意味着您的意见非常宝贵。
            </span>
          </div>
        </div>
        <div class="box_2 flex-row justify-between">
          <div class="text-group_2 flex-col ">
            <span class="text_2">填问卷，在家办公</span>
            <span class="text_4">
              通过您的手机或电脑就可轻松参与问卷填写，您随时随地都可以在线填问卷，所以这是在家工作的理想选择。
              <br />
              这不需要花太多时间，您随时可以参与问卷，任何人都可以通过参与问卷的方式在家赚钱，您甚至可以在填写问卷的同时边做其他事。这是简单、有弹性的快速赚钱方法。
              <br />
              在家填写问卷是一件非常有意义的事，您的意见有助于公司设计更优质的产品和服务，问卷仅作为公司的产品调研使用。
            </span>
          </div>
          <img class="image_2" referrerpolicy="no-referrer" src="" />
        </div>
        <div class="box_3 flex-row justify-between">
          <img class="image_3" referrerpolicy="no-referrer" src="" />
          <div class="text-group_3 flex-col ">
            <span class="text_3">在家工作您能赚多少?</span>
            <span class="text_4">
              您填写的每一份问卷都会获得奖金。这是一份有保障的兼职收入。让您轻松在家填问卷赚钱。我们提供最详细的市场问卷内容，您还可以在问卷邀请上查看每份问卷能赚到的奖金金额。
            </span>
          </div>
        </div>



      </div>

    </div>
    <div class="box_4 flex-col">
      <img
        src=""
        alt="Background Image">
      <span class="text_5">立即注册并体验功能</span>
    </div>
  </div>
</body>
`,Tb=[{id:"B2b-Html",label:"B2B模版",content:Sb,category:"Custom"},{id:"B2C-Html",label:"B2C模版",content:Ob,category:"Custom"}],Eb=()=>{alert("这是一个色块")},Pb=[{id:"color-blocks",model:{defaults:{script:Eb,style:{width:"100px",height:"100px",background:"red"}}}}],Lb=Jw({__name:"index",emits:["fetch-data"],setup(R,{expose:dt,emit:wt}){const ht=wt,_t=Qw({title:"",dialogFormVisible:!1,form:{}}),ot=Hh(null),J=Hh(null);function C(w,_="设计模板"){_t.title=_,_t.form=w,_t.dialogFormVisible=!0}async function M(){await rb(),ot.value=ob.init({fromElement:!0,showOffsets:!0,container:"#gjs",height:"900px",width:"100%",selectorManager:{componentFirst:!0},plugins:[gb,ab,lb,pb,cb,hb,yb,bb,xb],pluginsOpts:{basic:{flexGrid:"0"},presetWebpage:{modalImportTitle:"Import Template",modalImportLabel:'<div style="margin-bottom: 10px; font-size: 13px;">Paste here your HTML/CSS and click Import</div>',modalImportContent(w){return`${w.getHtml()}<style>${w.getCss()}</style>`}}},projectData:JSON.parse(_t.form.rawData||"{}"),storageManager:!1,assetManager:{uploadFile:async w=>{const _=w.target.files[0];if(_)try{if(Number(_.size)>2097152)Kh.warning({message:"文件大小不能超过 2mb",center:!0});else{const L=new FormData;L.append("file",_),L.append("id",_t.form.id),$h.uploadHomePageTemplateImage(L).then(Q=>{ot.value.AssetManager.add(Q.data)})}}catch(O){console.error("Image upload failed",O)}}}}),ot.value.on("block:custom",w=>{Cb(w.blocks)}),ot.value.on("asset:remove",w=>{ot.value.AssetManager.getAll().find(O=>O.get("src")===w.id)&&ot.value.AssetManager.remove(w)}),Tb.forEach(w=>{ot.value.Blocks.add(w.id,w)}),Pb.forEach(w=>{ot.value.Components.addType(w.id,w)})}async function m(){if(_t.title==="设计模板"){const w=ot.value.getHtml(),_=ot.value.getCss(),O=JSON.stringify(ot.value.getProjectData());_t.form={..._t.form,html:w,css:_,rawData:O};const{status:L}=await $h.edit(_t.form);L===1&&Kh.success({message:"编辑成功",center:!0}),ht("fetch-data"),A()}}function A(){ot.value&&(ot.value.destroy(),ot.value=null),_t.form={},_t.dialogFormVisible=!1}return dt({showEdit:C}),(w,_)=>{const O=Bh("el-button"),L=Bh("el-drawer");return Au(_t).dialogFormVisible?(Uh(),zh(L,{key:0,modelValue:Au(_t).dialogFormVisible,"onUpdate:modelValue":_[0]||(_[0]=Q=>Au(_t).dialogFormVisible=Q),title:Au(_t).title,size:"100%",onOpened:M,onClose:A},{footer:xf(()=>[tb(O,{onClick:A},{default:xf(()=>[Wh(" 取 消 ")]),_:1}),Au(_t).title==="设计模板"?(Uh(),zh(O,{key:0,type:"primary",onClick:m},{default:xf(()=>[Wh(" 确 定 ")]),_:1})):Gh("",!0)]),default:xf(()=>[eb("div",{id:"gjs",ref_key:"formRef",ref:J},null,512)]),_:1},8,["modelValue","title"])):Gh("",!0)}}});export{Lb as _};
