
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{_ as q}from"./index-DPe9Gazk.js";import{d as A,aH as J,r as p,G as K,a2 as E,a as r,al as O,o as m,b as Q,l,f as n,w as s,am as h,e as w,I as v,aM as S,g as U,i as d,aF as W,aG as X,_ as Y}from"./index-fuY6ctZR.js";import{a as N}from"./basicDictionary-DrcJ1yKq.js";const Z=u=>(W("data-v-89e41471"),u=u(),X(),u),$={class:"absolute-container"},ee={class:"page-main"},ae={class:"custom-tree-node"},te=["title"],oe={class:"code"},ne={class:"dictionary-container"},ie={class:"dictionary-container"},se=Z(()=>l("div",{class:"empty"},"请在左侧新增或选择一个字典",-1)),le=[se],re=A({name:"PagesExampleDictionary",__name:"index",setup(u){const{pagination:o,getParams:I,onSizeChange:k,onCurrentChange:x,onSortChange:z}=J();o.value.size=20;const y=p(),i=p({search:{chineseName:""},tree:[],currentNode:void 0,currentData:void 0,dialog:{visible:!1,parentId:"",id:""},row:"",loading:!1}),L=p(),a=p({loading:!1,search:{id:"",chineseName:""},dataList:[],selectionDataList:[],row:"",dialog:{visible:!1,id:"",parentId:"",level:1}});async function D(){i.value.loading=!0,a.value.search.id="";const e={...i.value.search},t=await N.list(e);i.value.tree=t.data,i.value.loading=!1}K(()=>{D()}),E(()=>i.value.search,e=>{y.value.filter(e)});function T(e,t){return e?t.label.includes(e):!0}function P(e){o.value.page=1,a.value.search.id=e.id}E(()=>a.value.search.id,()=>{_()});async function _(){a.value.loading=!0;const e={...I(),id:a.value.search.id},t=await N.itemlist(e);a.value.loading=!1,a.value.dataList=t.data.records,a.value.dataList.forEach(f=>{f.enableLoading=!1}),o.value.total=Number(t.data.total)}function B(e){k(e).then(()=>_())}function R(e=1){x(e).then(()=>_())}function V({prop:e,order:t}){z(e,t).then(()=>_())}return(e,t)=>{const f=r("ElTree"),F=r("ElScrollbar"),g=r("ElTableColumn"),G=r("ElTag"),M=r("ElTable"),H=r("ElPagination"),j=q,b=O("loading");return m(),Q("div",$,[l("div",ee,[n(j,{"hide-left-side-toggle":""},{leftSide:s(()=>[n(F,{class:"tree"},{default:s(()=>[h((m(),w(f,{ref_key:"dictionaryRef",ref:y,data:i.value.tree,"filter-node-method":T,"default-expand-all":"",onNodeClick:P},{default:s(({node:c,data:C})=>[l("div",ae,[l("div",{class:"label",title:c.label},v(C.chineseName),9,te),l("div",oe,v(C.englishName),1)])]),_:1},8,["data","filter-node-method"])),[[b,i.value.loading]])]),_:1})]),default:s(()=>[h(l("div",ne,[h((m(),w(M,{ref_key:"dictionaryItemRef",ref:L,data:a.value.dataList,stripe:"","highlight-current-row":"",border:"",height:"100%",onSortChange:V,onSelectionChange:t[0]||(t[0]=c=>a.value.selectionDataList=c),"row-key":"id","default-expand-all":""},{default:s(()=>[n(g,{prop:"chineseName",label:"中文名称"}),n(g,{prop:"englishName",label:"英文名称"}),n(g,{prop:"remark",label:"备注"}),n(g,{label:"键值",align:"center",width:"150"},{default:s(c=>[n(G,{type:"info"},{default:s(()=>[U(v(c.row.code),1)]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[b,a.value.loading]]),n(H,{"current-page":d(o).page,total:d(o).total,"page-size":d(o).size,"page-sizes":d(o).sizes,layout:d(o).layout,"hide-on-single-page":!1,class:"pagination",background:"",onSizeChange:B,onCurrentChange:R},null,8,["current-page","total","page-size","page-sizes","layout"])],512),[[S,a.value.search.id]]),h(l("div",ie,le,512),[[S,!a.value.search.id]])]),_:1})])])}}}),_e=Y(re,[["__scopeId","data-v-89e41471"]]);export{_e as default};
