
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{a as K}from"./department-BWPjO77r.js";import{u as O}from"./department-CinucMBd.js";import{u as Q}from"./configuration_manager-DtPbiEQK.js";import{u as W}from"./position_manage-BrezH8rG.js";import{u as X}from"./group_manage-BrJCO7RH.js";import{d as Y,r as f,l as Z,b as i,o as d,f as m,w as e,g as a,h as n,H as u,e as h,v as w,k as x,F as y,aI as $,aJ as ee,t as k,R as ae}from"./index-Ch_t1wnJ.js";import"./position_manage-D8o3wCAK.js";import"./group_manage-COTXTa1d.js";const E=v=>($("data-v-ed412912"),v=v(),ee(),v),le=E(()=>k("div",{class:"card-header"},[k("div",{class:"leftTitle"},"基本信息")],-1)),te=E(()=>k("div",{class:"card-header"},[k("span",null,"员工")],-1)),oe=Y({__name:"index",emits:["fetch-data"],setup(v,{expose:F,emit:z}){const I=O(),D=f(),G=Q(),T=f([]),S=W(),V=f(),N=X(),L=f(),C=[{label:"完成计提",value:1},{label:"审核计提",value:2},{label:"收款计提",value:3}],H=z,b=f(!1),o=f();async function J(M){const g={id:M.id},{data:s,status:c}=await K.detail(g);o.value=s,b.value=!0}function P(){H("fetch-data"),o.value={},b.value=!1}return Z(async()=>{D.value=await(I==null?void 0:I.getDepartment()),T.value=await G.getStaff(),V.value=await(S==null?void 0:S.getPositionManage())||[],L.value=await(N==null?void 0:N.getGroupManage())||[]}),F({showEdit:J}),(M,g)=>{const s=i("el-text"),c=i("el-form-item"),p=i("el-col"),R=i("el-row"),B=i("el-card"),_=i("el-table-column"),U=i("el-empty"),j=i("el-table"),q=i("el-form"),A=i("el-drawer");return d(),m(A,{modelValue:b.value,"onUpdate:modelValue":g[0]||(g[0]=l=>b.value=l),"append-to-body":"","close-on-click-modal":!1,"destroy-on-close":"",draggable:"",size:"60%",title:"详情",onClose:P},{default:e(()=>[a(q,{"label-width":"100px","label-position":"right"},{default:e(()=>[a(B,{class:"box-card"},{header:e(()=>[le]),default:e(()=>[a(R,{gutter:24},{default:e(()=>[a(p,{span:6},{default:e(()=>[a(c,{label:"部门ID:"},{default:e(()=>[a(s,{class:"mx-1"},{default:e(()=>{var l;return[n(u((l=o.value)!=null&&l.id?o.value.id:"-"),1)]}),_:1})]),_:1})]),_:1}),a(p,{span:6},{default:e(()=>[a(c,{label:"部门名称:"},{default:e(()=>[a(s,{class:"mx-1"},{default:e(()=>{var l;return[n(u((l=o.value)!=null&&l.name?o.value.name:"-"),1)]}),_:1})]),_:1})]),_:1}),a(p,{span:6},{default:e(()=>[a(c,{label:"部门主管:"},{default:e(()=>[(d(!0),h(y,null,w(T.value,l=>(d(),m(s,{key:l.id},{default:e(()=>{var t;return[l.id===((t=o.value)==null?void 0:t.director)?(d(),m(s,{key:0},{default:e(()=>[n(u(l.name),1)]),_:2},1024)):x("",!0)]}),_:2},1024))),128))]),_:1})]),_:1}),a(p,{span:6},{default:e(()=>[a(c,{label:"员工数:"},{default:e(()=>[a(s,{class:"mx-1"},{default:e(()=>{var l,t,r;return[n(u((t=(l=o.value)==null?void 0:l.result)!=null&&t.length?(r=o.value.result)==null?void 0:r.length:"-"),1)]}),_:1})]),_:1})]),_:1}),a(p,{span:6},{default:e(()=>[a(c,{label:"状态:"},{default:e(()=>[a(s,{class:"mx-1"},{default:e(()=>{var l;return[n(u(((l=o.value)==null?void 0:l.commissionStatus)===1?"启用":"禁用"),1)]}),_:1})]),_:1})]),_:1}),a(p,{span:6},{default:e(()=>[a(c,{label:"创建时间:"},{default:e(()=>[a(s,{class:"mx-1"},{default:e(()=>{var l;return[n(u((l=o.value)!=null&&l.createTime?o.value.createTime:"-"),1)]}),_:1})]),_:1})]),_:1}),a(p,{span:6},{default:e(()=>[a(c,{label:"部门提成:"},{default:e(()=>[a(s,{class:"mx-1"},{default:e(()=>{var l;return[n(u((l=o.value)!=null&&l.commission?o.value.commission:"-"),1)]}),_:1})]),_:1})]),_:1}),a(p,{span:6},{default:e(()=>[a(c,{label:"提成发放规则:"},{default:e(()=>[a(s,{class:"mx-1"},{default:e(()=>{var l,t;return[n(u(C[((l=o.value)==null?void 0:l.commissionType)-1]?C[((t=o.value)==null?void 0:t.commissionType)-1].label:"-"),1)]}),_:1})]),_:1})]),_:1}),a(p,{span:6},{default:e(()=>[a(c,{label:"备注:"},{default:e(()=>[a(s,{class:"mx-1"},{default:e(()=>{var l;return[n(u((l=o.value)!=null&&l.remark?o.value.remark:"-"),1)]}),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(B,{class:"box-card"},{header:e(()=>[te]),default:e(()=>{var l;return[a(j,{data:(l=o.value)==null?void 0:l.result,border:""},{empty:e(()=>[a(U,{description:"暂无数据"})]),default:e(()=>[a(_,{align:"center",type:"index",label:"序号",width:"80"}),a(_,{align:"center","show-overflow-tooltip":"",prop:"id",label:"员工ID"}),a(_,{align:"center","show-overflow-tooltip":"",prop:"userName",label:"用户名"},{default:e(({row:t})=>[n(u(t.userName?t.userName:"-"),1)]),_:1}),a(_,{align:"center","show-overflow-tooltip":"",prop:"name",label:"姓名"},{default:e(({row:t})=>[n(u(t.name?t.name:"-"),1)]),_:1}),a(_,{align:"center","show-overflow-tooltip":"",prop:"phoneNumber",label:"电话号码"},{default:e(({row:t})=>[n(u(t.phoneNumber?t.phoneNumber:"-"),1)]),_:1}),a(_,{align:"center","show-overflow-tooltip":"",prop:"email",label:"电子邮箱"},{default:e(({row:t})=>[n(u(t.email?t.email:"-"),1)]),_:1}),a(_,{align:"center","show-overflow-tooltip":"",prop:"departmentId",label:"部门"},{default:e(({row:t})=>[(d(!0),h(y,null,w(D.value,r=>(d(),m(s,{key:r.id},{default:e(()=>[r.id===t.departmentId?(d(),m(s,{key:0},{default:e(()=>[n(u(r.name),1)]),_:2},1024)):x("",!0)]),_:2},1024))),128))]),_:1}),a(_,{align:"center","show-overflow-tooltip":"",prop:"personId",label:"职位"},{default:e(({row:t})=>[(d(!0),h(y,null,w(V.value,r=>(d(),m(s,null,{default:e(()=>[t.positionId===r.id?(d(),m(s,{key:0},{default:e(()=>[n(u(r.name?r.name:"-"),1)]),_:2},1024)):x("",!0)]),_:2},1024))),256))]),_:1}),a(_,{align:"center","show-overflow-tooltip":"",prop:"groupId",label:"小组"},{default:e(({row:t})=>[(d(!0),h(y,null,w(L.value,r=>(d(),m(s,null,{default:e(()=>[t.groupId===r.id?(d(),m(s,{key:0},{default:e(()=>[n(u(r.name?r.name:"-"),1)]),_:2},1024)):x("",!0)]),_:2},1024))),256))]),_:1})]),_:1},8,["data"])]}),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),_e=ae(oe,[["__scopeId","data-v-ed412912"]]);export{_e as default};
