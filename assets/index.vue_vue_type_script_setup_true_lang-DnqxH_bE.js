
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{s as b}from"./apiLoading-dxhKf-yO.js";import{a as E}from"./otherFunctions_screenLibrary-BZnjIfXr.js";import{u as q}from"./otherFunctions_basicDictionary-BvpbnpqA.js";import{u as z}from"./stagedData-Nh6rSahh.js";import{d as h,m as w,r as u,u as J,l as P,a as n,o as c,b as I,f as a,w as s,g as C,i as l,F as T,n as A,e as S,j as G,E as D}from"./index-D7X-4r4C.js";const Y=h({__name:"index",props:w(["id","countryId","row"],{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:w(["success"],["update:modelValue"]),setup(f,{emit:N}){const g=q(),k=z(),r=f,y=u([]),x=N,i=J(f,"modelValue"),m=u("新增"),B=u(),e=u({countryId:r.countryId,status:2,isDefault:2}),F=u({categoryName:[{required:!0,message:"请输入名称",trigger:"blur"}],countryId:[{required:!0,message:"请选择国家",trigger:"blur"}]});async function M(){if(r.id){const{data:v,status:t}=await b(E.edit(e.value));t===1&&D.success({message:"编辑成功",center:!0})}else{const{data:v,status:t}=await b(E.create(e.value));t===1&&D.success({message:"新增成功",center:!0})}p(),x("success"),k.projectManagementList=null}function p(){i.value=!1,e.value={}}return P(async()=>{y.value=await g.country||await g.getCountry(),m.value="新增",r.id&&(m.value="编辑",e.value=JSON.parse(r.row))}),(v,t)=>{const U=n("ElInput"),d=n("ElFormItem"),L=n("ElOption"),j=n("el-select"),_=n("ElSwitch"),O=n("ElForm"),V=n("ElButton"),R=n("ElDialog");return c(),I("div",null,[a(R,{modelValue:i.value,"onUpdate:modelValue":t[4]||(t[4]=o=>i.value=o),title:l(m),width:"50%","close-on-click-modal":!1,"append-to-body":"","destroy-on-close":"",onClose:p},{footer:s(()=>[a(V,{size:"large",onClick:p},{default:s(()=>[C(" 取消 ")]),_:1}),a(V,{type:"primary",size:"large",onClick:M},{default:s(()=>[C(" 确定 ")]),_:1})]),default:s(()=>[a(O,{ref_key:"formRef",ref:B,model:l(e),rules:l(F),"label-width":"120px","label-suffix":"："},{default:s(()=>[a(d,{label:"名称",prop:"categoryName"},{default:s(()=>[a(U,{modelValue:l(e).categoryName,"onUpdate:modelValue":t[0]||(t[0]=o=>l(e).categoryName=o),placeholder:"请输入名称"},null,8,["modelValue"])]),_:1}),a(d,{label:"国家",prop:"countryId"},{default:s(()=>[a(j,{filterable:"",modelValue:l(e).countryId,"onUpdate:modelValue":t[1]||(t[1]=o=>l(e).countryId=o),placeholder:"Select"},{default:s(()=>[(c(!0),I(T,null,A(l(y),o=>(c(),S(L,{label:o.chineseName,value:o.id},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:1}),a(d,{label:"状态"},{default:s(()=>[a(_,{modelValue:l(e).status,"onUpdate:modelValue":t[2]||(t[2]=o=>l(e).status=o),"active-value":1,"inactive-value":2,placeholder:"请输入状态"},null,8,["modelValue"])]),_:1}),l(e).projectProblemCategoryId?G("",!0):(c(),S(d,{key:0,label:"默认"},{default:s(()=>[a(_,{modelValue:l(e).isDefault,"onUpdate:modelValue":t[3]||(t[3]=o=>l(e).isDefault=o),"active-value":1,"inactive-value":2,placeholder:"请输入默认"},null,8,["modelValue"])]),_:1}))]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])])}}});export{Y as _};
