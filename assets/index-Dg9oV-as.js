
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{d as D,r as s,a as n,al as N,o as V,b as L,f as e,w as l,D as c,g as r,am as h,e as C,E,P as I}from"./index-BD98V0Sq.js";const R={class:"shenhe"},U={class:"beizhu"},q={style:{"margin-top":"10px"}},O={style:{flex:"auto"}},P=D({name:"ProjectReview",__name:"index",emits:["success"],setup(F,{expose:b,emit:H}){const f=s(!1),m=s([]),v=s(),t=s({settlementType:"",remark:"",projectSettlementBuilderList:[]}),j=s({settlementType:[{required:!0,message:"请选择审核方式",trigger:"change"}],projectSettlementBuilderList:[{required:!0,message:"请输入至少一个ID",trigger:"blur"}]}),p=s();s(!1);const i=s(!1);async function x(d){d&&(v.value=JSON.parse(d),t.value.projectId=v.value.projectId,t.value.projectName=v.value.projectName),i.value=!0}async function k(){p.value&&p.value.validate(async d=>{d?(f.value=!0,delete t.value.projectName,t.value.settlementType===1||t.value.settlementType===2?t.value.projectSettlementBuilderList=m.value.split(`
`)||[]:t.value.projectSettlementBuilderList=[],console.log("formData.value",t.value)):E({message:"请检查必填项",type:"warning"})})}function B(){p.value.resetFields(),Object.assign(t.value,{settlementType:"",remark:"",projectSettlementBuilderList:[]}),m.value=[],i.value=!1}return b({showEdit:x}),(d,a)=>{const u=n("el-radio"),T=n("el-radio-group"),_=n("el-form-item"),g=n("el-input"),w=n("el-form"),y=n("el-button"),z=n("el-drawer"),S=N("loading");return V(),L("div",null,[e(z,{modelValue:i.value,"onUpdate:modelValue":a[4]||(a[4]=o=>i.value=o),title:"项目审核",size:"50%","before-close":B},{footer:l(()=>[c("div",O,[e(y,{type:"primary",onClick:k},{default:l(()=>[r(" 确定 ")]),_:1}),e(y,{onClick:a[3]||(a[3]=o=>i.value=!1)},{default:l(()=>[r(" 取消 ")]),_:1})])]),default:l(()=>[h((V(),C(w,{ref_key:"formRef",ref:p,model:t.value,rules:j.value,"label-width":"174px",inline:!1},{default:l(()=>[c("div",R,[e(_,{prop:"settlementType",style:{display:"flex","align-items":"center"},label:"变更状态"},{default:l(()=>[e(T,{modelValue:t.value.settlementType,"onUpdate:modelValue":a[0]||(a[0]=o=>t.value.settlementType=o)},{default:l(()=>[e(u,{value:1,size:"large"},{default:l(()=>[r(" 完成 ")]),_:1}),e(u,{value:2,size:"large"},{default:l(()=>[r(" 审核通过 ")]),_:1}),e(u,{value:3,size:"large"},{default:l(()=>[r(" 审核失败 ")]),_:1}),e(u,{value:4,size:"large"},{default:l(()=>[r(" 数据冻结 ")]),_:1}),e(u,{value:5,size:"large"},{default:l(()=>[r(" 被甄别 ")]),_:1}),e(u,{value:6,size:"large"},{default:l(()=>[r(" 配额满 ")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),c("div",U,[e(_,{label:"备注"},{default:l(()=>[e(g,{class:"custom-input",modelValue:t.value.remark,"onUpdate:modelValue":a[1]||(a[1]=o=>t.value.remark=o),placeholder:"",clearable:""},null,8,["modelValue"])]),_:1})]),c("div",q,[e(_,{prop:"projectSettlementBuilderList"},{default:l(()=>[e(g,{modelValue:m.value,"onUpdate:modelValue":a[2]||(a[2]=o=>m.value=o),placeholder:"请粘贴ID，每行一个,多个请回车换行",type:"textarea",rows:"15"},null,8,["modelValue"])]),_:1})])]),_:1},8,["model","rules"])),[[S,f.value]])]),_:1},8,["modelValue"])])}}}),M=I(P,[["__scopeId","data-v-0701b7de"]]);export{M as default};
