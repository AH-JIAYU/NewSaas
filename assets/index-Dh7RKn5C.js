
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{s as j,v as k,d as z,r as b,a as h,o as i,b as u,f as o,w as s,p as e,g as l,F as N,q as w,R as V,i as c,G as a,j as y,H as C,aJ as O,aK as B,Q as P}from"./index-CIFOFIw0.js";const E={list:r=>j.post("tenantBind/getProjectAllocationList",r),getTenantMeasurementList:r=>j.post("tenantBind/getTenantMeasurementList",r)},D=k("projectManagementOutsource",()=>({projectStatusList:["进行中(在线)","已完成(审核通过)","离线"],typeList:["租户","供应商","会员组"]})),F=D,M=r=>(O("data-v-ed9447c8"),r=r(),B(),r),H={class:"milestone"},Q={class:"left"},R={class:"left-top-left p-4"},$={class:"project"},q={class:"projectName flex-b"},A={class:"projectId"},G={class:"price flex-b"},J={key:0,class:"left-top-right p-4"},K={class:"type"},U={class:"tenant"},W={key:0,class:"left-bottom"},X=M(()=>e("div",{class:"line"},null,-1)),Y={class:"allocation"},Z=M(()=>e("div",{class:"arrow"},null,-1)),ee={key:0,class:"right"},te={style:{flex:"auto"}},ne=z({name:"Edit",__name:"index",setup(r,{expose:L}){const m=F(),p=b(!1),d=b({currentTenantId:"",tenantMeasurementInfoList:[]});async function x(v){const _={linkId:v.linkId,projectId:v.projectId},n=await E.getTenantMeasurementList(_),f=n.data.tenantMeasurementInfoList.findIndex(g=>g.allocationTenantId===n.data.currentTenantId);n.data.tenantMeasurementInfoList.splice(0,f),d.value.currentTenantId=n.data.currentTenantId,d.value.tenantMeasurementInfoList=n.data.tenantMeasurementInfoList,p.value=!0}function I(){p.value=!1}function S(){I()}return L({showEdit:x}),(v,_)=>{const n=h("el-text"),f=h("el-button"),g=h("el-drawer");return i(),u("div",null,[o(g,{modelValue:c(p),"onUpdate:modelValue":_[0]||(_[0]=t=>C(p)?p.value=t:null),title:"项目测查",size:"60%","before-close":I},{footer:s(()=>[e("div",te,[o(f,{onClick:I},{default:s(()=>[l(" 取消 ")]),_:1}),o(f,{type:"primary",onClick:S},{default:s(()=>[l(" 确定 ")]),_:1})])]),default:s(()=>[e("div",H,[(i(!0),u(N,null,w(c(d).tenantMeasurementInfoList,(t,T)=>(i(),u("div",{class:"item",key:t.allocationTenantId},[e("div",Q,[e("div",{class:V({"left-top":!0,"flex-b":!0,currentTenant:t.allocationTenantId===c(d).currentTenantId})},[e("div",R,[e("div",$,[e("div",q,[e("b",null,a(t.projectName),1),e("span",null,a(c(m).projectStatusList[t.projectStatus-1]),1)]),e("div",A,a(t.projectId),1)]),e("div",G,[e("p",null," 原价： "+a(t.doMoneyPrice),1),e("p",null,[l(" 参数： "),o(n,{size:"large"},{default:s(()=>[l(a(t.participationNumber||0),1)]),_:2},1024),o(n,{size:"large"},{default:s(()=>[l(" / ")]),_:1}),o(n,{type:"success",size:"large"},{default:s(()=>[l(a(t.doneNumber||0),1)]),_:2},1024),o(n,{size:"large"},{default:s(()=>[l(" / ")]),_:1}),o(n,{type:"warning",size:"large"},{default:s(()=>[l(a(t.num||0),1)]),_:2},1024),o(n,{size:"large"},{default:s(()=>[l(" / ")]),_:1}),o(n,{size:"large"},{default:s(()=>[l(a(t.limitedQuantity||0),1)]),_:2},1024)])])]),t.allocationTenantId!==c(d).currentTenantId?(i(),u("div",J,[e("p",K,a(c(m).typeList[t.type-1]),1),e("div",U,[e("p",null,a(t.tenantName),1),e("p",null,a(t.allocationTenantId),1)])])):y("",!0)],2),c(d).tenantMeasurementInfoList.length!==T+1?(i(),u("div",W,[X,e("div",Y,a(t.tenantName)+"-分配-"+a(c(m).typeList[c(d).tenantMeasurementInfoList[T+1].type-1]),1),Z])):y("",!0)]),t.allocationTenantId!==c(d).currentTenantId?(i(),u("div",ee," 》 ")):y("",!0)]))),128))])]),_:1},8,["modelValue"])])}}}),ae=P(ne,[["__scopeId","data-v-ed9447c8"]]),oe=Object.freeze(Object.defineProperty({__proto__:null,default:ae},Symbol.toStringTag,{value:"Module"}));export{E as a,ae as e,oe as i,F as u};
