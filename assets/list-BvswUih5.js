
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{d as pe,r as p,b as h,o as l,e as T,g as a,w as t,t as r,h as c,S as D,F as P,v as X,f as i,H as g,j as o,k as u,an as fe,n as Ye,aF as de,aI as ye,aJ as ge,R as ue,a3 as qe,az as he,N as ve,am as Ke,aO as Ge,c as We,l as Xe,q as Ze,I as q,s as et,aN as tt,bd as lt,E as ne,aQ as ot,aR as at,bc as nt,ap as it}from"./index-BOIe6JP6.js";import{_ as st}from"./index-DPUv1hQk.js";import{_ as ct}from"./index.vue_vue_type_style_index_0_lang-DdCfPL4K.js";import{_ as rt}from"./index.vue_vue_type_script_setup_true_lang-CCuXacrE.js";import{S as dt}from"./sortable.esm-C0-Qcoum.js";import pt from"./index-Dct0MTXL.js";import ut from"./index-D6rHTUa0.js";import mt from"./index-1cIbjnDt.js";import ft from"./index-BEdlxKWa.js";import ht from"./index-CD8ooHdX.js";import{_ as _t}from"./index.vue_vue_type_script_setup_true_lang-BKyPqfSb.js";import{o as yt}from"./index-Dgo7l82e.js";import{a as _e}from"./projectManagement-DJgIZmZ0.js";import{s as gt}from"./apiLoading-Bbvg9_e1.js";import{u as vt}from"./user_customer-Duulipua.js";import{u as kt}from"./projectManagement_list-DXN_-Ed3.js";import"./index-AvUmW2fa.js";import"./user_cooperation-BiZ2snqK.js";import"./user_supplier-D1-0jAZz.js";import"./user_supplier-BMzS2Tp1.js";import"./survey_vipGroup-Bu5Z2NB-.js";import"./survey_vipGroup-LZ52dDeh.js";import"./index-BjEsqTdx.js";import"./index-BI2QB-vU.js";import"./index-ClvB8ZWm.js";import"./zh_Hans-BlYa25XI.js";import"./zh_Hans-B39mJ-rS.js";import"./file-C2nuHzxj.js";import"./index.vue_vue_type_script_setup_true_lang-Cfzd5jWH.js";import"./index.vue_vue_type_script_setup_true_lang-yBznQQ50.js";import"./index-Ca64Jm0S.js";import"./user_customer-DrYlCuyz.js";import"./index-C1QKeJYo.js";import"./department-benjo_N4.js";import"./position_manage-at6l6WUf.js";import"./department-D8uRN-ow.js";import"./tenant_role-BeOVSgzg.js";import"./configuration_role-DWH0Gpop.js";import"./configuration_manager-DvwCMECX.js";import"./stagedData-C55BO8Hu.js";import"./index.vue_vue_type_script_setup_true_lang-BbUqYyEb.js";import"./index.vue_vue_type_script_setup_true_lang-DRdvkMql.js";import"./download-C8PHVIy1.js";import"./projectManagement_scheduling-C_ztugeV.js";const ke=x=>(ye("data-v-399e44a2"),x=x(),ge(),x),bt=["id"],St=ke(()=>r("p",{class:"Big"},[c("全部筛选项 "),r("span",{class:"Small"}," 不被选中的筛选项将会被隐藏 ")],-1)),Ct={class:"grid"},Lt=ke(()=>r("p",{class:"Big"},[c("展示效果 "),r("span",{class:"Small"}," 长按筛选项，可拖拽调整展示顺序 ")],-1)),It={class:"grid tagGrid"},Nt=pe({name:"FormSearchSort",__name:"sort",emits:["chagne-form-search-list"],setup(x,{expose:K,emit:S}){const A=S,d=p({dialogTableVisible:!1,formSearchList:[],formSearchSelectList:[],formSearchName:""}),$=(N,I)=>{d.value.dialogTableVisible=!0,d.value.formSearchName=I;const v=fe(N);d.value.formSearchSelectList=v.filter(y=>y.show),d.value.formSearchList=v.sort((y,w)=>y.index-w.index),Ye(()=>{const y=document.querySelector(".tagGrid");new dt(y,{animation:150,handle:".gridItem",onEnd:w=>{const m=d.value.formSearchSelectList.splice(w.oldIndex||0,1);d.value.formSearchSelectList.splice(w.newIndex||0,0,m[0])}})})},V=N=>{if(N.show=!N.show,N.show)d.value.formSearchSelectList.push(N);else{const I=d.value.formSearchSelectList.findIndex(v=>v.modelName===N.modelName);d.value.formSearchSelectList.splice(I,1)}},G=()=>{const N=d.value.formSearchList.filter(v=>!v.show),I=fe(d.value.formSearchSelectList);I.push(...N),de.local.set(d.value.formSearchName,JSON.stringify(I)),d.value.dialogTableVisible=!1,A("chagne-form-search-list",I)};return K({showEdit:$}),(N,I)=>{const v=h("el-button"),y=h("el-tag"),w=h("el-drawer");return l(),T("div",null,[a(w,{modelValue:o(d).dialogTableVisible,"onUpdate:modelValue":I[0]||(I[0]=m=>o(d).dialogTableVisible=m),"append-to-body":"","destroy-on-close":"",draggable:"",size:"50%"},{header:t(({close:m,titleId:z,titleClass:M})=>[r("h4",{id:z,class:D(M),style:{display:"flex","justify-content":"start","align-items":"center"}},[c(" 设置筛选项   "),a(v,{round:"",type:"primary",size:"default",onClick:G},{default:t(()=>[c("保存")]),_:1})],10,bt)]),default:t(()=>[St,r("div",Ct,[(l(!0),T(P,null,X(o(d).formSearchList,m=>(l(),i(v,{type:m.show?"primary":"",onClick:z=>V(m)},{default:t(()=>[c(g(m.placeholder??`${m.startplaceholder}-${m.endplaceholder}`),1)]),_:2},1032,["type","onClick"]))),256))]),Lt,r("div",It,[(l(!0),T(P,null,X(o(d).formSearchSelectList,m=>(l(),T(P,{key:m.modelName},[m.show?(l(),i(y,{key:0,class:"gridItem",closable:"",type:"primary",onClose:z=>V(m)},{default:t(()=>[c(g(m.placeholder??`${m.startplaceholder}-${m.endplaceholder}`),1)]),_:2},1032,["onClose"])):u("",!0)],64))),128))])]),_:1},8,["modelValue"])])}}}),jt=ue(Nt,[["__scopeId","data-v-399e44a2"]]),xt=x=>(ye("data-v-e97c230d"),x=x(),ge(),x),wt=xt(()=>r("div",{class:"i-grommet-icons:power-reset h-1em w-1em"},null,-1)),Tt=pe({name:"FormSearch",__name:"index",props:["formSearchList","model","formSearchName"],emits:["current-change","on-reset"],setup(x,{emit:K}){const S=x,A=K,d=p(),$=p([]),V=()=>{A("current-change")},G=()=>{A("on-reset")},N=v=>{$.value=v},I=()=>{d.value.showEdit(JSON.parse(de.local.get(S.formSearchName))??$.value,S.formSearchName)};return qe(()=>S.formSearchList,(v,y)=>{$.value=JSON.parse(de.local.get(S.formSearchName))??v},{deep:!0}),(v,y)=>{const w=h("el-input"),m=h("ElOption"),z=h("el-select"),M=h("el-date-picker"),Z=h("el-form-item"),H=ve,F=h("ElButton"),Q=h("ElFormItem"),k=h("el-form"),J=rt;return l(),T("div",null,[a(J,{"show-toggle":!1},{default:t(({fold:B,toggle:ee})=>[a(k,{model:S.model,size:"default","label-width":"100px","inline-message":"",inline:"",class:"search-form"},{default:t(()=>[(l(!0),T(P,null,X(o($),f=>(l(),T(P,{key:f.modelName},[f.show?(l(),i(Z,{key:0,label:""},{default:t(()=>[f.type==="input"?(l(),i(w,{key:0,modelValue:S.model[f.modelName],"onUpdate:modelValue":C=>S.model[f.modelName]=C,clearable:"",placeholder:f.placeholder,onKeydown:y[0]||(y[0]=he(C=>V(),["enter"]))},null,8,["modelValue","onUpdate:modelValue","placeholder"])):u("",!0),f.type==="select"?(l(),i(z,{key:1,modelValue:S.model[f.modelName],"onUpdate:modelValue":C=>S.model[f.modelName]=C,clearable:"",placeholder:f.placeholder,onKeydown:y[1]||(y[1]=he(C=>V(),["enter"]))},{default:t(()=>[(l(!0),T(P,null,X(f.option,C=>(l(),i(m,{label:C[f.optionLabel],value:C[f.optionValue]},null,8,["label","value"]))),256))]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"])):u("",!0),f.type==="datetimerange"?(l(),i(M,{key:2,modelValue:S.model[f.modelName],"onUpdate:modelValue":C=>S.model[f.modelName]=C,type:"datetimerange","range-separator":"-","start-placeholder":f.startplaceholder,"end-placeholder":f.endplaceholder,"value-format":"YYYY-MM-DD HH:mm:ss",size:"",style:{width:"192px"},"clear-icon":"true"},null,8,["modelValue","onUpdate:modelValue","start-placeholder","end-placeholder"])):u("",!0)]),_:2},1024)):u("",!0)],64))),128)),a(Q,null,{default:t(()=>{var f;return[a(F,{type:"primary",onClick:y[2]||(y[2]=C=>V())},{icon:t(()=>[a(H,{name:"i-ep:search"})]),default:t(()=>[c(" 筛选 ")]),_:1}),a(F,{onClick:G},{icon:t(()=>[wt]),default:t(()=>[c(" 重置 ")]),_:1}),((f=o($))==null?void 0:f.length)>=6?(l(),i(F,{key:0,type:"primary",onClick:I},{icon:t(()=>[a(H,{name:"i-ep:search"})]),default:t(()=>[c(" 排序 ")]),_:1})):u("",!0),a(F,{link:"",onClick:ee},{icon:t(()=>[a(H,{name:B?"i-ep:caret-bottom":"i-ep:caret-top"},null,8,["name"])]),default:t(()=>[c(" "+g(B?"展开":"收起"),1)]),_:2},1032,["onClick"])]}),_:2},1024)]),_:2},1032,["model"])]),_:1}),a(jt,{ref_key:"sortRef",ref:d,formSearchName:x.formSearchName,onChagneFormSearchList:N},null,8,["formSearchName"])])}}}),$t=ue(Tt,[["__scopeId","data-v-e97c230d"]]),Et={class:"copyId tableSmall"},Vt={class:"id oneLine"},zt={class:"flex-c"},Rt={class:"oneLine",style:{width:"calc(100% - 20px)"}},Dt=["type"],Pt={class:"oneLine"},Ft={class:"flex-c"},Bt={class:"oneLine",style:{width:"calc(100% - 20px)"}},Ot={class:"tableBig"},Ut={key:0,class:"oneLine"},At=["src"],Mt={class:""},Ht={class:"flex-c"},Qt={class:"oneLine parameter",style:{width:"calc(100% - 20px)"}},Jt={class:"flex-c"},Yt={class:"oneLine tableBig",style:{width:"calc(100% - 20px)"}},qt={class:"flex-c"},Kt={class:"oneLine tableBig",style:{width:"calc(100% - 20px)"}},Gt={class:"flex-c"},Wt={class:"oneLine tableBig",style:{width:"calc(100% - 20px)"}},Xt=pe({name:"list",__name:"list",setup(x){const{format:K}=lt(),S=Ke(),A=vt();kt();const{pagination:d,getParams:$,onSizeChange:V,onCurrentChange:G,onSortChange:N}=Ge(),I=p(),v=p(),y=p(!0),w=p(),m=p(),z=p(),M=p(),Z=p(),H=p(),F=p(),Q=p(!1),k=p([]),J=p(!1),B=p("default"),ee=p(),f=p("formSearch-list"),C=p(!1),te=p([{prop:"projectType",label:"项目类型",checked:!0,sotrtable:!0},{prop:"projectId",label:"项目ID",checked:!0,sotrtable:!0},{prop:"name",label:"项目名称",checked:!0,sotrtable:!0},{prop:"clientName",label:"客户名称/标识",checked:!0,sotrtable:!0},{prop:"PCNL",label:"参与/完成/配额/限量",checked:!0,sotrtable:!0},{prop:"allocationType",label:"分配类型",checked:!0,sotrtable:!0},{prop:"doMoneyPrice",label:"原价",checked:!0,sotrtable:!0},{prop:"ir",label:"IR/NIR",checked:!0,sotrtable:!0},{prop:"countryIdList",label:"国家地区",checked:!0,sotrtable:!0},{prop:"allocationStatus",label:"分配状态",checked:!0,sotrtable:!0},{prop:"isOnline",label:"项目状态",checked:!0,sotrtable:!0},{prop:"remark",label:"备注",checked:!0,sotrtable:!0},{prop:"create",label:"创建",checked:!0,sotrtable:!0},{prop:"createTime",label:"创建时间",checked:!0,sotrtable:!0}]),O=p({time:[],beginTime:"",endTime:"",projectId:"",name:"",projectIdentification:"",clientId:"",countryId:[],createName:"",allocation:"",allocationStatus:"",status:""}),ie=p([]),R=p();function be(n){n?R.value=n.projectId:R.value=""}function Se(n){w.value.showEdit(n,"distribution")}function Ce(n){w.value.showEdit(n,"reassign")}function Le(){m.value.showEdit()}function Ie(n){m.value.showEdit(n)}function Y(n,s){Z.value.showEdit(n,s)}async function Ne(n,s){const b={projectId:n.projectId,isOnline:s},{status:re}=await gt(_e.changestatus(b));re===1&&ne.success({message:"修改「状态」成功",center:!0}),E()}function je(n){z.value.showEdit(n,n.projectType)}function xe(){const n=v.value.getSelectionRows();n.length!==1?ne.warning({message:"请选择一个项目",center:!0}):n[0].isOnline===2?ne.warning({message:"离线不可调度",center:!0}):n[0].projectType===2?ne.warning({message:"外包项目不可调度",center:!0}):H.value.showEdit(n[0],"projectList")}function we(n){let s;n.allocationType===4&&(s=0),n.projectType===2&&(s=1),F.value.showEdit(n,s)}function le(n,s){const b={projectId:n.projectId,type:s};M.value.showEdit(b)}function Te(n){V(n).then(()=>E())}function se(n=1){G(n).then(()=>E())}function $e(){O.value={time:[],beginTime:"",endTime:"",projectId:"",name:"",projectIdentification:"",clientId:"",countryId:[],createName:"",allocation:"",allocationStatus:"",status:""},E()}async function E(){var n;try{y.value=!0;const s={...$(),...O.value};Array.isArray(s.countryId)||(s.countryId=(n=s.countryId)==null?void 0:n.split(",")),O.value.time&&O.value.time.length&&(s.beginTime=O.value.time[0]||"",s.endTime=O.value.time[1]||"");const{data:b}=await _e.list(s);I.value=b.currencyType,ie.value=b.getChildrenProjectInfoList,d.value.total=b.total,y.value=!1}catch{}finally{y.value=!1}}const Ee=n=>!ie.value.filter(b=>b.projectType===2).map(b=>b.projectId).includes(n.projectId),ce=p([]),me=p([]),oe=We(()=>n=>ce.value.filter(b=>n.includes(b.id)).map(b=>b.chineseName));return Xe(async()=>{ce.value=await S.getCountry(),me.value=await A.getCustomerList(),te.value.forEach(n=>{n.checked&&k.value.push(n.prop)}),E(),ee.value=[{index:1,show:!0,type:"input",modelName:"projectId",placeholder:"项目ID"},{index:2,show:!0,type:"input",modelName:"name",placeholder:"项目名称"},{index:3,show:!0,type:"input",modelName:"projectIdentification",placeholder:"项目标识"},{index:4,show:!0,type:"select",modelName:"countryId",placeholder:"国家地区",option:ce.value,optionLabel:"chineseName",optionValue:"id"},{index:5,show:!0,type:"select",modelName:"clientId",placeholder:"客户简称",option:me.value,optionLabel:"tenantCustomerId",optionValue:"tenantCustomerId"},{index:6,show:!0,type:"select",modelName:"allocationStatus",placeholder:"分配类型",option:[{label:"供应商",value:2},{label:"会员组",value:3},{label:"租户",value:4}],optionLabel:"label",optionValue:"value"},{index:7,show:!0,type:"select",modelName:"status",placeholder:"项目状态",option:[{label:"在线",value:1},{label:"离线",value:2}],optionLabel:"label",optionValue:"value"},{index:8,show:!0,type:"input",modelName:"createName",placeholder:"创建人"},{index:9,show:!0,type:"select",modelName:"allocation",placeholder:"分配状态",option:[{label:"已分配",value:1},{label:"未分配",value:2}],optionLabel:"label",optionValue:"value"},{index:10,show:!0,type:"select",modelName:"projectType",placeholder:"项目类型",option:[{label:"自有项目",value:1},{label:"外包项目",value:2}],optionLabel:"label",optionValue:"value"},{index:11,show:!0,type:"datetimerange",modelName:"time",startplaceholder:"创建开始日期",endplaceholder:"创建结束日期"}]}),(n,s)=>{const b=$t,re=h("ElDivider"),L=h("el-button"),Ve=ct,ze=ot,Re=at,De=h("el-row"),j=h("el-table-column"),Pe=h("ElSwitch"),U=ve,Fe=st,W=h("el-text"),Be=nt,ae=h("el-tag"),Oe=h("el-link"),Ue=h("el-tooltip"),Ae=h("el-empty"),Me=h("el-table"),He=h("ElPagination"),Qe=it,Je=Ze("loading");return l(),T("div",{class:D({"absolute-container":o(J)})},[a(Qe,{class:"hide-drawer-header"},{default:t(()=>[a(b,{formSearchList:o(ee),formSearchName:o(f),onCurrentChange:se,onOnReset:$e,model:o(O)},null,8,["formSearchList","formSearchName","model"]),a(re,{"border-style":"dashed"}),a(De,{gutter:24},{default:t(()=>[a(Ve,null,{default:t(()=>[a(L,{type:"primary",size:"default",onClick:Le},{default:t(()=>[c(" 新增项目 ")]),_:1}),a(L,{type:"primary",size:"default",onClick:xe},{default:t(()=>[c(" 调度 ")]),_:1})]),_:1}),a(Re,null,{default:t(()=>[a(L,{size:"default",onClick:s[0]||(s[0]=()=>{})},{default:t(()=>[c(" 导出 ")]),_:1}),a(ze,{border:o(Q),"onUpdate:border":s[1]||(s[1]=e=>q(Q)?Q.value=e:null),tableAutoHeight:o(J),"onUpdate:tableAutoHeight":s[2]||(s[2]=e=>q(J)?J.value=e:null),checkList:o(k),"onUpdate:checkList":s[3]||(s[3]=e=>q(k)?k.value=e:null),columns:o(te),"onUpdate:columns":s[4]||(s[4]=e=>q(te)?te.value=e:null),"line-height":o(B),"onUpdate:lineHeight":s[5]||(s[5]=e=>q(B)?B.value=e:null),stripe:o(C),"onUpdate:stripe":s[6]||(s[6]=e=>q(C)?C.value=e:null),style:{"margin-left":"12px"},onQueryData:se},null,8,["border","tableAutoHeight","checkList","columns","line-height","stripe"])]),_:1})]),_:1}),et((l(),i(Me,{ref_key:"tableSortRef",ref:v,style:{"margin-top":"10px"},"row-key":"projectId",data:o(ie),"tree-props":{children:"getChildrenProjectListInfoList"},border:o(Q),size:o(B),stripe:o(C),"highlight-current-row":"",height:"100%",onCurrentChange:be},{empty:t(()=>[a(Ae,{image:o(tt),"image-size":300},null,8,["image"])]),default:t(()=>[a(j,{align:"center",type:"selection",selectable:Ee}),o(k).includes("isOnline")?(l(),i(j,{key:0,"show-overflow-tooltip":"",prop:"isOnline",align:"center",width:"100",label:"状态"},{default:t(({row:e})=>[a(Pe,{onChange:_=>Ne(e,_),"inline-prompt":"",modelValue:e.isOnline,"onUpdate:modelValue":_=>e.isOnline=_,"active-text":"在线","inactive-text":"离线","active-value":1,"inactive-value":2},null,8,["onChange","modelValue","onUpdate:modelValue"])]),_:1})):u("",!0),o(k).includes("projectType")?(l(),i(j,{key:1,width:"200",align:"left",label:"项目"},{default:t(({row:e})=>[r("div",null,[e.projectType===2?(l(),i(L,{key:0,class:"p-1",size:"small",type:"warning"},{default:t(()=>[c("外包")]),_:1})):(l(),i(L,{key:1,class:"p-1",size:"small",type:"primary"},{default:t(()=>[c("自有")]),_:1})),e.projectLinkType===2?(l(),i(L,{key:2,class:"p-1",size:"small",text:"",type:"primary",onClick:_=>we(e)},{default:t(()=>[a(U,{name:"i-ri:share-forward-line",color:"#409eff",size:"20px"})]),_:2},1032,["onClick"])):u("",!0)]),r("div",Et,[r("div",Vt,"ID: "+g(e.projectId),1),a(Fe,{class:"copy",content:e.projectId},null,8,["content"])])]),_:1})):u("",!0),o(k).includes("name")?(l(),i(j,{key:2,"show-overflow-tooltip":"",prop:"name",width:"180",align:"left",label:"名称/标识"},{default:t(({row:e})=>[r("div",zt,[r("div",Rt,[r("b",{class:"oneLine tableBig",type:e.isB2b===2?"danger":""},"名: "+g(e.name),9,Dt),r("div",Pt,"标: "+g(e.clientName.split("/")[1]),1)]),e.projectType!==2?(l(),i(U,{key:0,onClick:_=>Y(e,"name"),class:D({edit:"edit",current:e.projectId===o(R)}),name:"i-ep:edit",color:"#409eff"},null,8,["onClick","class"])):u("",!0)])]),_:1})):u("",!0),o(k).includes("clientName")?(l(),i(j,{key:3,prop:"clientName","show-overflow-tooltip":"",align:"left",label:"客户",width:"120"},{default:t(({row:e})=>[r("div",Ft,[r("div",Bt,[r("b",Ot,g(e.clientName.split("/")[0]),1),e.projectType!==2?(l(),T("div",Ut,[r("img",{src:e.avatar,alt:"",class:"avatar"},null,8,At),r("span",Mt,g(e.chargeName),1)])):u("",!0)]),e.projectType!==2?(l(),i(U,{key:0,onClick:_=>Y(e,"customer"),class:D({edit:"edit",current:e.projectId===o(R)}),name:"i-ep:edit",color:"#409eff"},null,8,["onClick","class"])):u("",!0)])]),_:1})):u("",!0),o(k).includes("PCNL")?(l(),i(j,{key:4,align:"center",label:"参数",width:"180"},{default:t(({row:e})=>[r("div",Ht,[r("div",Qt,[a(W,{class:"oneLine",type:"danger"},{default:t(()=>[c("参与: "+g(e.participation||0),1)]),_:2},1024),a(W,{class:"oneLine",type:"success"},{default:t(()=>[c("完成: "+g(e.complete||0),1)]),_:2},1024),a(W,{class:"oneLine",type:"warning"},{default:t(()=>[c("配额: "+g(e.num||0),1)]),_:2},1024),a(W,{class:"oneLine",type:"info"},{default:t(()=>[c("限量: "+g(e.limitedQuantity||"-"),1)]),_:2},1024)]),e.projectType!==2?(l(),i(U,{key:0,onClick:_=>Y(e,"PCNL"),class:D({edit:"edit",current:e.projectId===o(R)}),name:"i-ep:edit",color:"#409eff"},null,8,["onClick","class"])):u("",!0)])]),_:1})):u("",!0),o(k).includes("allocationType")?(l(),i(j,{key:5,align:"center",label:"分配",width:"90"},{default:t(({row:e})=>[e.allocationType===1?(l(),i(L,{key:0,size:"small",onClick:_=>le(e,1),type:"danger",plain:""},{default:t(()=>[c("自动分配")]),_:2},1032,["onClick"])):e.allocationType===2?(l(),i(L,{key:1,size:"small",onClick:_=>le(e,2),type:"danger"},{default:t(()=>[c("供应商")]),_:2},1032,["onClick"])):e.allocationType===3?(l(),i(L,{key:2,size:"small",onClick:_=>le(e,3),type:"success"},{default:t(()=>[c("会员组")]),_:2},1032,["onClick"])):e.allocationType===4?(l(),i(L,{key:3,size:"small",onClick:_=>le(e,4),type:"primary"},{default:t(()=>[c("租户")]),_:2},1032,["onClick"])):(l(),i(L,{key:4,size:"small",plain:"",type:"info"},{default:t(()=>[c(" 未分配")]),_:1}))]),_:1})):u("",!0),o(k).includes("doMoneyPrice")?(l(),i(j,{key:6,"show-overflow-tooltip":"",align:"center",label:"原价"},{default:t(({row:e})=>[r("div",Jt,[r("div",Yt,[a(Be),c(g(e.doMoneyPrice||0),1)]),e.projectType!==2?(l(),i(U,{key:0,onClick:_=>Y(e,"doMoneyPrice"),class:D({edit:"edit",current:e.projectId===o(R)}),name:"i-ep:edit",color:"#409eff"},null,8,["onClick","class"])):u("",!0)])]),_:1})):u("",!0),o(k).includes("ir")?(l(),i(j,{key:7,"show-overflow-tooltip":"",prop:"ir",align:"center",label:"IR/NIR",width:"100"},{default:t(({row:e})=>[r("div",qt,[r("div",Kt,g(e.ir?e.ir:0)+"%/"+g(e.nir?e.nir:0)+"% ",1),e.projectType!==2?(l(),i(U,{key:0,onClick:_=>Y(e,"ir"),class:D({edit:"edit",current:e.projectId===o(R)}),name:"i-ep:edit",color:"#409eff"},null,8,["onClick","class"])):u("",!0)])]),_:1})):u("",!0),o(k).includes("countryIdList")?(l(),i(j,{key:8,"show-overflow-tooltip":"",prop:"countryIdList",align:"center",label:"国家",width:"80"},{default:t(({row:e})=>[e.countryIdList?(l(),T(P,{key:0},[e.countryIdList.length===o(S).country.length?(l(),i(ae,{key:0,type:"primary"},{default:t(()=>[c("全球")]),_:1})):o(oe)(e.countryIdList).length>1?(l(),i(Ue,{key:1,class:"box-item",effect:"dark",content:o(oe)(e.countryIdList).join(","),placement:"top"},{default:t(()=>[a(Oe,{type:"primary"},{default:t(()=>[a(ae,{type:"primary"},{default:t(()=>[c("×"+g(o(oe)(e.countryIdList).length),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["content"])):(l(!0),T(P,{key:2},X(o(oe)(e.countryIdList),_=>(l(),i(ae,{key:_,type:"primary"},{default:t(()=>[c(g(_),1)]),_:2},1024))),128))],64)):u("",!0)]),_:1})):u("",!0),o(k).includes("create")?(l(),i(j,{key:9,prop:"createTime",align:"center",width:"100",label:"创建"},{default:t(({row:e})=>[a(W,{class:"tableBig"},{default:t(()=>[c(g(e.createName),1)]),_:2},1024),a(ae,{effect:"plain",type:"info"},{default:t(()=>[c(g(o(K)(e.createTime)),1)]),_:2},1024)]),_:1})):u("",!0),o(k).includes("remark")?(l(),i(j,{key:10,"show-overflow-tooltip":"",prop:"remark",align:"left",width:"100",label:"备注"},{default:t(({row:e})=>[r("div",Gt,[r("div",Wt,g(e.remark?e.remark:"-"),1),e.projectType!==2?(l(),i(U,{key:0,onClick:_=>Y(e,"remark"),class:D({edit:"edit",current:e.projectId===o(R)}),name:"i-ep:edit",color:"#409eff"},null,8,["onClick","class"])):u("",!0)])]),_:1})):u("",!0),a(j,{align:"center",fixed:"right",label:"操作",width:"240"},{default:t(({row:e})=>[e.allocationStatus===1?(l(),i(L,{key:0,plain:"",disabled:e.isOnline===2,type:"primary",size:"small",onClick:_=>Se(e)},{default:t(()=>[c(" 分配 ")]),_:2},1032,["disabled","onClick"])):(l(),i(L,{key:1,plain:"",type:"primary",disabled:e.isOnline===2,size:"small",onClick:_=>Ce(e)},{default:t(()=>[c(" 重新分配 ")]),_:2},1032,["disabled","onClick"])),a(L,{type:"warning",plain:"",size:"small",onClick:_=>Ie(e),disabled:e.projectType===2},{default:t(()=>[c(" 编辑 ")]),_:2},1032,["onClick","disabled"]),a(L,{type:"danger",size:"small",plain:"",onClick:_=>je(e)},{default:t(()=>[c(" 详情 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data","border","size","stripe"])),[[Je,o(y)]]),a(He,{"current-page":o(d).page,total:o(d).total,"page-size":o(d).size,"page-sizes":o(d).sizes,layout:o(d).layout,"hide-on-single-page":!1,class:"pagination",background:"",onSizeChange:Te,onCurrentChange:se},null,8,["current-page","total","page-size","page-sizes","layout"])]),_:1}),a(pt,{ref_key:"addAllocationEditRef",ref:w,onFetchData:E},null,512),a(ut,{ref_key:"addProjeckRef",ref:m,onFetchData:E},null,512),a(ht,{ref_key:"QuickEditRef",ref:Z,onFetchData:E},null,512),a(mt,{ref_key:"projectDetailsRef",ref:z},null,512),a(ft,{ref_key:"viewAllocationsRef",ref:M},null,512),a(_t,{ref_key:"schedulingRef",ref:H,onFetchData:E},null,512),a(yt,{ref_key:"outsourceRef",ref:F},null,512)],2)}}}),Ml=ue(Xt,[["__scopeId","data-v-7fb73fc3"]]);export{Ml as default};
