
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{d as Z,aF as ee,r as i,a1 as te,B as ne,a2 as x,a as s,aj as oe,o as k,b as ae,f as t,w as l,g as p,i as e,E as c,ak as le,e as S,j as ie,O as se,aG as re,aH as ce,aI as ue,K as de,q as pe,_ as fe}from"./index-1E3Ahbco.js";import{_ as _e}from"./index.vue_vue_type_style_index_0_lang-l22RzHcJ.js";import{S as ge}from"./sortable.esm-BS5toX6s.js";import me from"./index-B2-vQ4CR.js";const be=Z({name:"ConfigurationSupplierLevelIndex",__name:"index",setup(he){const{pagination:u,onSizeChange:T,onCurrentChange:R}=ee(),y=i(!1),C=i(),w=i([]),D=i(""),d=i([]),f=i(!0),_=i(!1),g=i("default"),m=i(!1),b=i([{label:"等级名称",prop:"a",sortable:!0,disableCheck:!1,checked:!0}]);function H(){C.value.showEdit()}function L(n){C.value.showEdit(n)}function U(n){n.id&&re.confirm("您确定要删除当前项吗?","确认信息").then(()=>{}).catch(()=>{})}const $=te({pageNo:1,pageSize:10,select:{}});function P(){$.pageNo=1,h()}function A(n){T(n).then(()=>h())}function B(n=1){R(n).then(()=>h())}async function h(){y.value=!0,w.value=[{a:1,b:2,c:3,d:4,e:5,f:6,g:7,h:8,r:9,i:10,id:1},{a:1,b:2,c:3,d:4,e:5,f:6,g:7,h:8,r:9,i:10,id:9},{a:1,b:2,c:3,d:4,e:5,f:6,g:7,h:8,r:9,i:10,id:3},{a:1,b:2,c:3,d:4,e:5,f:6,g:7,h:8,r:9,i:10,id:4},{a:1,b:2,c:3,d:4,e:5,f:6,g:7,h:8,r:9,i:10,id:5},{a:1,b:2,c:3,d:4,e:5,f:6,g:7,h:8,r:9,i:10,id:6}],y.value=!1}function N(n){D.value=n}const q=i(0),z=i();function E(){const n=z.value.$el.querySelector(".el-table__body-wrapper tbody");ge.create(n,{handle:".sortable",animation:300,ghostClass:"ghost",onEnd:({newIndex:o,oldIndex:r})=>{o===void 0||r===void 0||x(()=>E())}})}return ne(()=>{b.value.forEach(n=>{n.checked&&d.value.push(n.prop)}),h(),x(()=>{E()})}),(n,o)=>{const r=s("el-button"),F=_e,I=ce,M=ue,V=s("el-row"),j=de,G=s("ElTag"),K=s("ElTableColumn"),v=s("el-table-column"),O=s("el-empty"),Q=s("el-table"),J=s("ElPagination"),W=pe,X=oe("loading");return k(),ae("div",{class:se({"absolute-container":e(m)})},[t(W,null,{default:l(()=>[t(V,null,{default:l(()=>[t(F,null,{default:l(()=>[t(r,{size:"default",type:"primary",onClick:H},{default:l(()=>[p(" 新增 ")]),_:1})]),_:1}),t(M,null,{default:l(()=>[t(r,{size:"default"},{default:l(()=>[p(" 导出 ")]),_:1}),t(I,{border:e(f),"onUpdate:border":o[0]||(o[0]=a=>c(f)?f.value=a:null),tableAutoHeight:e(m),"onUpdate:tableAutoHeight":o[1]||(o[1]=a=>c(m)?m.value=a:null),checkList:e(d),"onUpdate:checkList":o[2]||(o[2]=a=>c(d)?d.value=a:null),columns:e(b),"onUpdate:columns":o[3]||(o[3]=a=>c(b)?b.value=a:null),"line-height":e(g),"onUpdate:lineHeight":o[4]||(o[4]=a=>c(g)?g.value=a:null),stripe:e(_),"onUpdate:stripe":o[5]||(o[5]=a=>c(_)?_.value=a:null),style:{"margin-left":"12px"},onQueryData:P},null,8,["border","tableAutoHeight","checkList","columns","line-height","stripe"])]),_:1})]),_:1}),le((k(),S(Q,{ref_key:"elTableRef",ref:z,key:e(q),"row-key":"id",border:e(f),data:e(w),size:e(g),stripe:e(_),fit:"",onSelectionChange:N},{empty:l(()=>[t(O,{class:"vab-data-empty",description:"暂无数据"})]),default:l(()=>[t(K,{width:"80",align:"center",fixed:""},{header:l(()=>[p(" 排序 ")]),default:l(()=>[t(G,{type:"info",class:"sortable"},{default:l(()=>[t(j,{name:"i-ep:d-caret"})]),_:1})]),_:1}),e(d).includes("a")?(k(),S(v,{key:0,align:"center",prop:"id","show-overflow-tooltip":"",label:"等级名称"})):ie("",!0),t(v,{align:"center",prop:"b","show-overflow-tooltip":"",label:"加成比例(百分比)"}),t(v,{align:"center",prop:"c","show-overflow-tooltip":"",label:"成员数量"}),t(v,{align:"center","show-overflow-tooltip":"",label:"操作"},{default:l(({row:a})=>[t(r,{size:"small",plain:"",type:"primary",onClick:Y=>L(a)},{default:l(()=>[p(" 编辑 ")]),_:2},1032,["onClick"]),t(r,{size:"small",plain:"",type:"danger",onClick:Y=>U(a)},{default:l(()=>[p(" 删除 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["border","data","size","stripe"])),[[X,e(y)]]),t(J,{"current-page":e(u).page,total:e(u).total,"page-size":e(u).size,"page-sizes":e(u).sizes,layout:e(u).layout,"hide-on-single-page":!1,class:"pagination",background:"",onSizeChange:A,onCurrentChange:B},null,8,["current-page","total","page-size","page-sizes","layout"])]),_:1}),t(me,{ref_key:"EditRef",ref:C},null,512)],2)}}}),we=fe(be,[["__scopeId","data-v-e2305a9b"]]);export{we as default};
