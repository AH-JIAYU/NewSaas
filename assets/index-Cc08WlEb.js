
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{a as C}from"./project_settlement-D9XqokjL.js";import{d as h,aj as E,r as s,a as r,q as B,s as N,o as R,b as q,f as l,w as a,v as A,g as _,A as v,i as d,E as M,M as T}from"./index-DZ7Gqds7.js";const U={style:{flex:"auto"}},$=h({name:"AddSettlement",__name:"index",emits:["success"],setup(F,{expose:g,emit:b}){const{t:e}=E(),S=b,i=s(),u=s(!1),o=s(!1),n=s({projectId:null}),I=s({projectId:[{required:!0,trigger:"blur",message:e("addSettlement.enterID")},{pattern:/^\d+$/,message:e("addSettlement.num"),trigger:"blur"}]});function j(){i.value&&i.value.validate(async f=>{if(f)try{u.value=!0,await C.omissionProject(n.value),S("success"),u.value=!1,M.success({message:"t('addSettlement.complete')",center:!0}),m()}catch{}finally{u.value=!1}})}async function V(){o.value=!0}function m(){i.value.resetFields(),Object.assign(n,{projectId:null}),o.value=!1}return g({showEdit:V}),(f,t)=>{const y=r("el-input"),x=r("el-form-item"),w=r("el-form"),p=r("el-button"),D=r("el-dialog"),k=B("loading");return N((R(),q("div",null,[l(D,{modelValue:o.value,"onUpdate:modelValue":t[2]||(t[2]=c=>o.value=c),title:d(e)("addSettlement.add"),width:"700","before-close":m},{footer:a(()=>[A("div",U,[l(p,{onClick:t[1]||(t[1]=c=>o.value=!1)},{default:a(()=>[_(v(d(e)("addSettlement.cancel")),1)]),_:1}),l(p,{type:"primary",onClick:j},{default:a(()=>[_(v(d(e)("addSettlement.confirm")),1)]),_:1})])]),default:a(()=>[l(w,{ref_key:"formRef",ref:i,"label-width":"6.375rem",model:n.value,rules:I.value,inline:!1},{default:a(()=>[l(x,{label:d(e)("addSettlement.projectID"),prop:"projectId"},{default:a(()=>[l(y,{modelValue:n.value.projectId,"onUpdate:modelValue":t[0]||(t[0]=c=>n.value.projectId=c),placeholder:d(e)("addSettlement.enterID")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])])),[[k,u.value]])}}}),P=T($,[["__scopeId","data-v-d2684ff1"]]);export{P as default};
