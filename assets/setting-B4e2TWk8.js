
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{d as q,m as U,u as F,r as T,a as i,o as v,b as V,f as t,w as l,e as z,l as s,aC as w,aw as B,ak as O,aK as Q,i as n,j as M,ai as C,K as A,_ as x,L as D,g as E,q as K,az as L,aA as G,p as P}from"./index-Cw-g3-rV.js";const H={class:"upload-container"},J={key:1,class:"image"},W={class:"mask"},X={class:"actions"},Y={key:0,class:"el-upload__tip"},Z={style:{display:"inline-block"}},ee=q({name:"ImageUpload",__name:"index",props:U({action:{},headers:{},data:{},name:{default:"file"},size:{default:2},width:{default:150},height:{default:150},placeholder:{default:""},notip:{type:Boolean,default:!1},ext:{default:()=>["jpg","png","gif","bmp"]}},{modelValue:{default:""},modelModifiers:{}}),emits:U(["onSuccess"],["update:modelValue"]),setup(m,{emit:$}){const o=m,k=$,r=F(m,"modelValue"),a=T({imageViewerVisible:!1,progress:{preview:"",percent:0}});function d(){a.value.imageViewerVisible=!0}function f(){a.value.imageViewerVisible=!1}function h(){r.value=""}const g=e=>{const u=e.name.split(".").at(-1)??"",p=o.ext.includes(u),_=e.size/1024/1024<o.size;return p||C.error(`上传图片只支持 ${o.ext.join(" / ")} 格式！`),_||C.error(`上传图片大小不能超过 ${o.size}MB！`),p&&_&&(a.value.progress.preview=URL.createObjectURL(e)),p&&_},I=e=>{a.value.progress.percent=~~e.percent},y=e=>{a.value.progress.preview="",a.value.progress.percent=0,k("onSuccess",e)};return(e,S)=>{const u=A,p=i("ElImage"),_=i("ElProgress"),c=i("ElUpload"),j=i("ElAlert"),R=i("ElImageViewer");return v(),V("div",H,[t(c,{"show-file-list":!1,headers:e.headers,action:e.action,data:e.data,name:e.name,"before-upload":g,"on-progress":I,"on-success":y,drag:"",class:"image-upload"},{default:l(()=>[r.value===""?(v(),z(p,{key:0,src:r.value===""?e.placeholder:r.value,style:w(`width:${e.width}px;height:${e.height}px;`),fit:"fill"},{error:l(()=>[s("div",{class:"image-slot",style:w(`width:${e.width}px;height:${e.height}px;`)},[t(u,{name:"i-ep:plus",class:"icon"})],4)]),_:1},8,["src","style"])):(v(),V("div",J,[t(p,{src:r.value,style:w(`width:${e.width}px;height:${e.height}px;`),fit:"fill"},null,8,["src","style"]),s("div",W,[s("div",X,[s("span",{title:"预览",onClick:B(d,["stop"])},[t(u,{name:"i-ep:zoom-in",class:"icon"})]),s("span",{title:"移除",onClick:B(h,["stop"])},[t(u,{name:"i-ep:delete",class:"icon"})])])])])),O(s("div",{class:"progress",style:w(`width:${e.width}px;height:${e.height}px;`)},[t(p,{src:n(a).progress.preview,style:w(`width:${e.width}px;height:${e.height}px;`),fit:"fill"},null,8,["src","style"]),t(_,{type:"circle",width:Math.min(e.width,e.height)*.8,percentage:n(a).progress.percent},null,8,["width","percentage"])],4),[[Q,r.value===""&&n(a).progress.percent]])]),_:1},8,["headers","action","data","name"]),e.notip?M("",!0):(v(),V("div",Y,[s("div",Z,[t(j,{title:`上传图片支持 ${e.ext.join(" / ")} 格式，且图片大小不超过 ${e.size}MB，建议图片尺寸为 ${e.width}*${e.height}`,type:"info","show-icon":"",closable:!1},null,8,["title"])])])),n(a).imageViewerVisible?(v(),z(R,{key:1,"url-list":[r.value],teleported:"",onClose:f},null,8,["url-list"])):M("",!0)])}}}),te=x(ee,[["__scopeId","data-v-bde0ed46"]]),b=m=>(L("data-v-6e83c843"),m=m(),G(),m),se=b(()=>s("h2",null,"基本设置",-1)),le=b(()=>s("h2",null,"安全设置",-1)),oe={class:"setting-list"},ae={class:"item"},ne=b(()=>s("div",{class:"content"},[s("div",{class:"title"}," 账户密码 "),s("div",{class:"desc"}," 当前密码强度：强 ")],-1)),ie={class:"action"},de={class:"item"},ce=b(()=>s("div",{class:"content"},[s("div",{class:"title"}," 密保手机 "),s("div",{class:"desc"}," 已绑定手机：187****3441 ")],-1)),re={class:"action"},pe={class:"item"},ue=b(()=>s("div",{class:"content"},[s("div",{class:"title"}," 备用邮箱 "),s("div",{class:"desc"}," 当前未绑定备用邮箱 ")],-1)),me={class:"action"},N=q({name:"personalSetting",__name:"setting",setup(m){const $=D(),o=T({headimg:"",mobile:"",name:"",qq:"",wechat:""});function k(a){a.error===""?o.value.headimg=a.data.path:C.warning(a.error)}function r(){$.push({name:"personalEditPassword"})}return(a,d)=>{const f=i("ElInput"),h=i("ElFormItem"),g=i("ElButton"),I=i("ElForm"),y=i("ElCol"),e=te,S=i("ElRow"),u=i("ElTabPane"),p=i("ElTabs"),_=K;return v(),V("div",null,[t(_,null,{default:l(()=>[t(p,{"tab-position":"left",style:{height:"600px"}},{default:l(()=>[t(u,{label:"基本设置",class:"basic"},{default:l(()=>[se,t(S,{gutter:20},{default:l(()=>[t(y,{span:16},{default:l(()=>[t(I,{model:n(o),"label-width":"120px","label-suffix":"："},{default:l(()=>[t(h,{label:"名 称"},{default:l(()=>[t(f,{modelValue:n(o).name,"onUpdate:modelValue":d[0]||(d[0]=c=>n(o).name=c),placeholder:"请输入你的名称"},null,8,["modelValue"])]),_:1}),t(h,{label:"手机号"},{default:l(()=>[t(f,{modelValue:n(o).mobile,"onUpdate:modelValue":d[1]||(d[1]=c=>n(o).mobile=c),placeholder:"请输入你的手机号"},null,8,["modelValue"])]),_:1}),t(h,{label:"QQ 号"},{default:l(()=>[t(f,{modelValue:n(o).qq,"onUpdate:modelValue":d[2]||(d[2]=c=>n(o).qq=c),placeholder:"请输入你的 QQ 号"},null,8,["modelValue"])]),_:1}),t(h,{label:"微信号"},{default:l(()=>[t(f,{modelValue:n(o).wechat,"onUpdate:modelValue":d[3]||(d[3]=c=>n(o).wechat=c),placeholder:"请输入你的微信号"},null,8,["modelValue"])]),_:1}),t(h,null,{default:l(()=>[t(g,{type:"primary"},{default:l(()=>[E(" 保存 ")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),t(y,{span:8},{default:l(()=>[t(e,{url:n(o).headimg,"onUpdate:url":d[4]||(d[4]=c=>n(o).headimg=c),action:"http://scrm.1daas.com/api/upload/upload",name:"image",data:{token:"TKD628431923530324"},notip:"",class:"headimg-upload",onOnSuccess:k},null,8,["url"])]),_:1})]),_:1})]),_:1}),t(u,{label:"安全设置",class:"security"},{default:l(()=>[le,s("div",oe,[s("div",ae,[ne,s("div",ie,[t(g,{type:"primary",text:"",onClick:r},{default:l(()=>[E(" 修改 ")]),_:1})])]),s("div",de,[ce,s("div",re,[t(g,{type:"primary",text:""},{default:l(()=>[E(" 修改 ")]),_:1})])]),s("div",pe,[ue,s("div",me,[t(g,{type:"primary",text:""},{default:l(()=>[E(" 绑定 ")]),_:1})])])])]),_:1})]),_:1})]),_:1})])}}});typeof P=="function"&&P(N);const _e=x(N,[["__scopeId","data-v-6e83c843"]]);export{_e as default};
