
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import I from"./index-CL4YMzYc.js";import{_ as N}from"./index.vue_vue_type_script_setup_true_lang-BJtgN8lN.js";import{d as $,r as o,a0 as z,$ as E,a as f,o as d,b as _,f as v,w as r,g as y,F,n as M,e as T,l as h,D as P,O as S,j as O,al as g,_ as Q}from"./index-BTcEBOVJ.js";import"./index-Bb0XkzNN.js";import"./index-DFJLODe7.js";const U={style:{float:"right",position:"sticky",top:"19px",width:"70%","z-index":"1000",display:"flex","justify-content":"start","align-items":"start"}},q=$({__name:"index",props:{leftTabsData:Array,validateTopTabs:Array,validateAll:Array},emits:["validate"],setup(x,{expose:k,emit:C}){const s=x,V=C,m=o(),j=o(),e=o(s.leftTabsData),w=o(s.validateTopTabs);e.value.forEach((a,t)=>{const i=o(null);z(`formRef${t}`,i)});const b=o(0),l=o(0),A={name:"项目名称",addProjectQuotaInfoList:[]};function D(){const a=g(e.value[0]);e.value.splice(l.value,1,a)}function L(){const a=g(e.value[0]);l.value=++b.value,e.value.push({...A,client:m.value,await:a.await,multi:a.multi})}function R(a){e.value.splice(a,1),w.value.splice(a,1),l.value>=e.value.length&&(l.value=Math.max(0,e.value.length-1),b.value=Math.max(0,e.value.length-1))}function B(a){e.value.forEach(t=>{t.client=a}),m.value=a}return E(()=>l.value,(a,t)=>{s.validateAll.reduce((u,p,n)=>(p==="rejected"&&u.push(n),u),[]).includes(t)&&V("validate")}),k({activeLeftTab:l}),(a,t)=>{const i=f("el-button"),u=f("el-tab-pane"),p=f("el-tabs");return d(),_("div",null,[v(i,{class:"button",disabled:e.value.length>29,onClick:t[0]||(t[0]=n=>L())},{default:r(()=>[y(" 新增 ")]),_:1},8,["disabled"]),v(p,{modelValue:l.value,"onUpdate:modelValue":t[1]||(t[1]=n=>l.value=n),"tab-position":"left",onTabRemove:R},{default:r(()=>[(d(!0),_(F,null,M(e.value,(n,c)=>(d(),T(u,{key:c,style:{position:"relative"},closable:e.value.length!==1,name:c},{label:r(()=>[h("div",{class:S(s.validateAll[c]&&s.validateAll[c]==="rejected"?"validateRejected":"")},P(n.name),3)]),default:r(()=>[h("div",U,[l.value>0?(d(),T(i,{key:0,size:"small",type:"primary",round:"",plain:"",onClick:D},{default:r(()=>[y(" 同步数据 ")]),_:1})):O("",!0)]),v(I,{"left-tab":n,"tab-index":c,onSetClient:B},null,8,["left-tab","tab-index"])]),_:2},1032,["closable","name"]))),128)),v(N,{ref_key:"settingsRef",ref:j},null,512)]),_:1},8,["modelValue"])])}}}),X=Q(q,[["__scopeId","data-v-c52a7115"]]);export{X as default};
