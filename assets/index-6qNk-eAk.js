
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{k as w,d as ve,aF as be,r as c,a1 as he,B as Se,a as i,aj as we,o as k,b as ke,f as e,w as t,i as l,ak as y,g as d,D as A,E as v,e as I,j as ye,O as Ve,K as Ce,aH as Ee,aI as ze,q as Ue,az as Ie,aA as De,l as xe,aK as D,_ as Pe}from"./index-FpWNHEfI.js";import{_ as Te}from"./index.vue_vue_type_style_index_0_lang-DscrFPtw.js";import{_ as Ae}from"./index.vue_vue_type_script_setup_true_lang-DQjg6x5H.js";import{_ as Me}from"./index.vue_vue_type_script_setup_true_lang-BXqJtWAA.js";import $e from"./index-Br1Qy3f5.js";import{_ as Be}from"./index.vue_vue_type_script_setup_true_lang-B-MJTdcr.js";import"./index.vue_vue_type_script_setup_true_lang-CKW9AzSe.js";import"./index.vue_vue_type_script_setup_true_lang-DknwVOH6.js";import"./index.vue_vue_type_script_setup_true_lang-Cbk1iggv.js";const Fe={list:p=>w.post("tenantSupplier/getTenantSupplierList",p),detail:p=>w.post("tenantSupplier/getTenantSupplierInfo",p),create:p=>w.post("tenantSupplier/addTenantSupplier",p),edit:p=>w.post("tenantSupplier/updateTenantSupplier",p),editState:p=>w.post("tenantSupplier/updateTenantSupplierStatus",p)},Re=p=>(Ie("data-v-c9ac34e9"),p=p(),De(),p),Le=Re(()=>xe("div",{class:"i-grommet-icons:power-reset h-1em w-1em"},null,-1)),He=ve({name:"UserSupplierIndex",__name:"index",setup(p){const{pagination:f,getParams:N,onSizeChange:Y,onCurrentChange:j}=be(),x=c(!1),M=c([]),q=c(),P=c(),$=c(),B=c(),V=c(!0),C=c(!1),E=c("default"),b=c([]),z=c(!1),U=c([{label:"等级名称",prop:"a",sortable:!0,disableCheck:!1,checked:!0}]),n=he({tenantSupplierId:"",supplierPhone:"",supplierAccord:"",emailAddress:"",accountName:"",supplierStatus:"",time:[]});function K(){P.value.showEdit()}function O(s){P.value.showEdit(s)}function Q(s){$.value.showEdit(s)}function G(){f.value.page=1,m()}function J(){Object.assign(n,{}),m()}function W(s){B.value.showEdit(s)}function X(s){Y(s).then(()=>m())}function F(s=1){j(s).then(()=>m())}async function m(){x.value=!0;const s={...N(),...n,beginTime:n.time[0]||"",endTime:n.time[1]||""},{data:a}=await Fe.list(s);M.value=a.getTenantCustomerInfoList,f.value.total=a.total,x.value=!1}function Z(s){q.value=s}return Se(()=>{U.value.forEach(s=>{s.checked&&b.value.push(s.prop)}),m()}),(s,a)=>{const h=i("el-input"),_=i("el-form-item"),R=i("el-option"),ee=i("el-select"),le=i("el-date-picker"),L=Ce,T=i("ElButton"),te=i("ElFormItem"),ae=i("ElForm"),oe=Ae,ne=i("ElDivider"),S=i("el-button"),ie=Te,se=Ee,pe=ze,re=i("el-row"),u=i("el-table-column"),H=i("ElSwitch"),ue=i("ElTableColumn"),ce=i("ElSpace"),de=i("el-empty"),me=i("el-table"),fe=i("ElPagination"),_e=Ue,ge=we("loading");return k(),ke("div",{class:Ve({"absolute-container":l(z)})},[e(_e,null,{default:t(()=>[e(oe,{"show-toggle":!1},{default:t(({fold:o,toggle:g})=>[e(ae,{model:l(n),size:"default","label-width":"100px","inline-message":"",inline:"",class:"search-form"},{default:t(()=>[e(_,{label:""},{default:t(()=>[e(h,{modelValue:l(n).tenantSupplierId,"onUpdate:modelValue":a[0]||(a[0]=r=>l(n).tenantSupplierId=r),modelModifiers:{trim:!0},clearable:"",inline:!1,placeholder:"供应商ID"},null,8,["modelValue"])]),_:1}),e(_,{label:""},{default:t(()=>[e(h,{modelValue:l(n).supplierAccord,"onUpdate:modelValue":a[1]||(a[1]=r=>l(n).supplierAccord=r),modelModifiers:{trim:!0},clearable:"",inline:!1,placeholder:"供应商简称"},null,8,["modelValue"])]),_:1}),e(_,{label:""},{default:t(()=>[e(h,{modelValue:l(n).supplierPhone,"onUpdate:modelValue":a[2]||(a[2]=r=>l(n).supplierPhone=r),modelModifiers:{trim:!0},clearable:"",inline:!1,placeholder:"手机号码"},null,8,["modelValue"])]),_:1}),y(e(_,{label:""},{default:t(()=>[e(h,{modelValue:l(n).accountName,"onUpdate:modelValue":a[3]||(a[3]=r=>l(n).accountName=r),modelModifiers:{trim:!0},clearable:"",inline:!1,placeholder:"账号名称"},null,8,["modelValue"])]),_:2},1536),[[D,!o]]),y(e(_,{label:""},{default:t(()=>[e(h,{modelValue:l(n).emailAddress,"onUpdate:modelValue":a[4]||(a[4]=r=>l(n).emailAddress=r),modelModifiers:{trim:!0},clearable:"",inline:!1,placeholder:"邮箱"},null,8,["modelValue"])]),_:2},1536),[[D,!o]]),y(e(_,{label:""},{default:t(()=>[e(ee,{modelValue:l(n).supplierStatus,"onUpdate:modelValue":a[5]||(a[5]=r=>l(n).supplierStatus=r),clearable:"",placeholder:"供应商状态"},{default:t(()=>[e(R,{label:"默认",value:"true"}),e(R,{label:"关闭",value:"false"})]),_:1},8,["modelValue"])]),_:2},1536),[[D,!o]]),y(e(_,{label:""},{default:t(()=>[e(le,{modelValue:l(n).time,"onUpdate:modelValue":a[6]||(a[6]=r=>l(n).time=r),type:"datetimerange","unlink-panels":"","range-separator":"-","start-placeholder":"创建开始日期","end-placeholder":"创建结束日期","value-format":"YYYY-MM-DD hh:mm:ss",size:"default",style:{width:"192px"},"clear-icon":"true"},null,8,["modelValue"])]),_:2},1536),[[D,!o]]),e(te,null,{default:t(()=>[e(T,{type:"primary",onClick:a[7]||(a[7]=r=>F())},{icon:t(()=>[e(L,{name:"i-ep:search"})]),default:t(()=>[d(" 筛选 ")]),_:1}),e(T,{onClick:J},{icon:t(()=>[Le]),default:t(()=>[d(" 重置 ")]),_:1}),e(T,{link:"",onClick:g},{icon:t(()=>[e(L,{name:o?"i-ep:caret-bottom":"i-ep:caret-top"},null,8,["name"])]),default:t(()=>[d(" "+A(o?"展开":"收起"),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1032,["model"])]),_:1}),e(ne,{"border-style":"dashed"}),e(re,null,{default:t(()=>[e(ie,null,{default:t(()=>[e(S,{type:"primary",size:"default",onClick:K},{default:t(()=>[d(" 新增 ")]),_:1})]),_:1}),e(pe,null,{default:t(()=>[e(S,{size:"default"},{default:t(()=>[d(" 导出 ")]),_:1}),e(se,{border:l(V),"onUpdate:border":a[8]||(a[8]=o=>v(V)?V.value=o:null),tableAutoHeight:l(z),"onUpdate:tableAutoHeight":a[9]||(a[9]=o=>v(z)?z.value=o:null),checkList:l(b),"onUpdate:checkList":a[10]||(a[10]=o=>v(b)?b.value=o:null),columns:l(U),"onUpdate:columns":a[11]||(a[11]=o=>v(U)?U.value=o:null),"line-height":l(E),"onUpdate:lineHeight":a[12]||(a[12]=o=>v(E)?E.value=o:null),stripe:l(C),"onUpdate:stripe":a[13]||(a[13]=o=>v(C)?C.value=o:null),style:{"margin-left":"12px"},onQueryData:G},null,8,["border","tableAutoHeight","checkList","columns","line-height","stripe"])]),_:1})]),_:1}),y((k(),I(me,{border:l(V),data:l(M),size:l(E),stripe:l(C),onSelectionChange:Z},{empty:t(()=>[e(de,{class:"vab-data-empty",description:"暂无数据"})]),default:t(()=>[e(u,{align:"center",prop:"a","show-overflow-tooltip":"",type:"selection"}),l(b).includes("tenantSupplierId")?(k(),I(u,{key:0,align:"center",prop:"tenantSupplierId","show-overflow-tooltip":"",label:"供应商ID"})):ye("",!0),e(u,{align:"center",prop:"supplierAccord","show-overflow-tooltip":"",label:"供应商名称(所属国家)"}),e(u,{align:"center",prop:"balanceUs","show-overflow-tooltip":"",label:"余额($)"}),e(u,{align:"center",prop:"balanceHumanLife","show-overflow-tooltip":"",label:"余额(￥)"}),e(u,{align:"center",prop:"amountPendingTrial","show-overflow-tooltip":"",label:"待审金额"}),e(u,{align:"center",prop:"f","show-overflow-tooltip":"",label:"供应商等级"}),e(u,{align:"center","show-overflow-tooltip":"",label:"B2B|B2C"},{default:t(({row:o})=>[d(A(o.b2bStatus===1?"×":"√")+" | "+A(o.b2cStatus===1?"×":"√"),1)]),_:1}),e(u,{align:"center",prop:"settlementCycle","show-overflow-tooltip":"",label:"结算周期"}),e(ue,{align:"center","show-overflow-tooltip":"",label:"供应商状态"},{default:t(({row:o})=>[o.supplierStatus===3?(k(),I(H,{key:0,modelValue:o.supplierStatus,"onUpdate:modelValue":g=>o.supplierStatus=g,"inline-prompt":"","inactive-value":2,"active-value":3,"inactive-text":"启用","active-text":"待审核"},null,8,["modelValue","onUpdate:modelValue"])):(k(),I(H,{key:1,modelValue:o.supplierStatus,"onUpdate:modelValue":g=>o.supplierStatus=g,"inline-prompt":"","inactive-value":1,"active-value":2,"inactive-text":"禁用","active-text":"启用"},null,8,["modelValue","onUpdate:modelValue"]))]),_:1}),e(u,{align:"center",prop:"createTime","show-overflow-tooltip":"",label:"创建日期"}),e(u,{align:"center",prop:"remark","show-overflow-tooltip":"",label:"备注"}),e(u,{align:"center",prop:"i",label:"操作","show-overflow-tooltip":"",width:"250"},{default:t(({row:o})=>[e(ce,null,{default:t(()=>[e(S,{size:"small",plain:"",type:"primary",onClick:W},{default:t(()=>[d(" 加减款 ")]),_:1}),e(S,{size:"small",plain:"",type:"primary",onClick:g=>O(o)},{default:t(()=>[d(" 编辑 ")]),_:2},1032,["onClick"]),e(S,{size:"small",plain:"",type:"primary",onClick:g=>Q(o)},{default:t(()=>[d(" 详情 ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["border","data","size","stripe"])),[[ge,l(x)]]),e(fe,{"current-page":l(f).page,total:l(f).total,"page-size":l(f).size,"page-sizes":l(f).sizes,layout:l(f).layout,"hide-on-single-page":!1,class:"pagination",background:"",onSizeChange:X,onCurrentChange:F},null,8,["current-page","total","page-size","page-sizes","layout"])]),_:1}),e(Me,{ref_key:"editRef",ref:P,onFetchData:m},null,512),e($e,{ref_key:"checkRef",ref:$,onFetchData:m},null,512),e(Be,{ref_key:"plusMinusPaymentsRef",ref:B,onFetchData:m},null,512)],2)}}}),We=Pe(He,[["__scopeId","data-v-c9ac34e9"]]);export{We as default};
