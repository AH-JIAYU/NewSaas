
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{a as S}from"./user_customer-BJ15ayY1.js";import{d as D,y as M,a3 as Q,r as C,bd as R,a4 as W,a as m,o as s,b as r,f as e,w as t,e as v,j as f,g as z,F as h,q as T,p as i,i as E,at as J,aJ as O,aK as G,P as H}from"./index-BYPnl6Gi.js";const p=_=>(O("data-v-41dabf2f"),_=_(),G(),_),X=p(()=>i("div",{class:"card-header"},[i("span",null,"基本信息")],-1)),Y=p(()=>i("div",{class:"card-header"},[i("span",null,"权限信息")],-1)),Z=p(()=>i("div",{class:"card-header"},[i("span",null,"重定向配置")],-1)),$=p(()=>i("span",null," http://front-saas.surveyssaas.com/#/redirect?status=c&uid=[uid] ",-1)),ee={key:0},te=p(()=>i("span",null," http://front-saas.surveyssaas.com/#/redirect?status=q&uid=[uid] ",-1)),ae={key:0},le=p(()=>i("span",null," http://front-saas.surveyssaas.com/#/redirect?status=s&uid=[uid] ",-1)),ne={key:0},oe=p(()=>i("span",null," http://front-saas.surveyssaas.com/#/redirect?status=t&uid=[uid] ",-1)),ue={key:0},se={class:"card-header"},de=p(()=>i("span",null,"服务端回调配置",-1)),ie=p(()=>i("span",null,"http://47.96.98.102:9100/callback/serviceCallback?status=c&uid=[uid]",-1)),re={key:0},me=p(()=>i("span",null,"http://47.96.98.102:9100/callback/serviceCallback?status=q&uid=[uid]",-1)),pe={key:0},fe=p(()=>i("span",null,"http://47.96.98.102:9100/callback/serviceCallback?status=s&uid=[uid]",-1)),ce={key:0},ve=p(()=>i("span",null,"http://47.96.98.102:9100/callback/serviceCallback?status=t&uid=[uid]",-1)),_e={key:0},be=D({__name:"index",props:{leftTab:Object,tabIndex:Number},setup(_){const K=_,A=M("validateTopTabs"),P=Q({customerAccord:[{required:!0,message:"请输入客户名称",trigger:"blur"},{min:2,max:50,message:"内容在2-50个字之间",trigger:"blur"}],customerShortName:[{required:!0,message:"请输入客户简称",trigger:"blur"},{min:2,max:50,message:"内容在2-50个字之间",trigger:"blur"}]}),x=C("basicSettings"),k=C(!1),V=C([]),q=c=>{if(c)a.value.tenantCustomerConfigInfoList.push({callbackWay:1,isEncryption:2,encryptionId:"",secretKey:""});else{const l=a.value.tenantCustomerConfigInfoList.findIndex(d=>d.callbackWay===1);l!==-1&&a.value.tenantCustomerConfigInfoList.splice(l,1)}},U=async(c,l)=>{if(c){const d=V.value.find(u=>u.id===c),o=await S.generateKey({type:d.name});a.value.tenantCustomerConfigInfoList[l].secretKey=o.data}};R(async()=>{k.value=a.value.tenantCustomerConfigInfoList.length===2;const c=await S.getTenantSecretKeyConfigList();V.value=c.data});const N=C(null),a=C(K.leftTab);return W(()=>{A(N.value)}),(c,l)=>{const d=m("el-input"),o=m("el-form-item"),u=m("el-col"),g=m("el-option"),L=m("el-select"),y=m("el-row"),I=m("el-card"),b=m("el-switch"),B=m("el-input-number"),w=m("el-tab-pane"),j=m("el-checkbox"),F=m("el-tabs");return s(),r("div",null,[e(E(J),{ref_key:"formRef",ref:N,rules:E(P),model:a.value,"label-width":"100px"},{default:t(()=>[e(F,{modelValue:x.value,"onUpdate:modelValue":l[24]||(l[24]=n=>x.value=n)},{default:t(()=>[e(w,{label:"基础设置",name:"basicSettings"},{default:t(()=>[e(I,{class:"box-card"},{header:t(()=>[X]),default:t(()=>[e(y,{gutter:24},{default:t(()=>[e(u,{span:12},{default:t(()=>[e(o,{label:"客户名称",prop:"customerAccord"},{default:t(()=>[e(d,{modelValue:a.value.customerAccord,"onUpdate:modelValue":l[0]||(l[0]=n=>a.value.customerAccord=n),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:t(()=>[e(o,{label:"客户简称",prop:"customerShortName"},{default:t(()=>[e(d,{modelValue:a.value.customerShortName,"onUpdate:modelValue":l[1]||(l[1]=n=>a.value.customerShortName=n),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:t(()=>[e(o,{label:"公司名称",prop:"companyName"},{default:t(()=>[e(d,{modelValue:a.value.companyName,"onUpdate:modelValue":l[2]||(l[2]=n=>a.value.companyName=n),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:t(()=>[e(o,{label:"客户姓名",prop:"customerName"},{default:t(()=>[e(d,{modelValue:a.value.customerName,"onUpdate:modelValue":l[3]||(l[3]=n=>a.value.customerName=n),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:t(()=>[e(o,{label:"手机号码",prop:"customerPhone"},{default:t(()=>[e(d,{modelValue:a.value.customerPhone,"onUpdate:modelValue":l[4]||(l[4]=n=>a.value.customerPhone=n),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:t(()=>[e(o,{label:"电子邮箱",prop:"emailAddress"},{default:t(()=>[e(d,{modelValue:a.value.emailAddress,"onUpdate:modelValue":l[5]||(l[5]=n=>a.value.emailAddress=n),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:t(()=>[e(o,{label:"负责人",prop:"chargeName"},{default:t(()=>[e(d,{modelValue:a.value.chargeName,"onUpdate:modelValue":l[6]||(l[6]=n=>a.value.chargeName=n)},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:t(()=>[e(o,{label:"结算周期",prop:"settlementCycle"},{default:t(()=>[e(L,{modelValue:a.value.settlementCycle,"onUpdate:modelValue":l[7]||(l[7]=n=>a.value.settlementCycle=n)},{default:t(()=>[e(g,{label:"30天",value:30}),e(g,{label:"60天",value:60})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(I,{class:"box-card"},{header:t(()=>[Y]),default:t(()=>[e(y,{gutter:24},{default:t(()=>[e(u,{span:4},{default:t(()=>[e(o,{label:"客户状态"},{default:t(()=>[e(b,{modelValue:a.value.customerStatus,"onUpdate:modelValue":l[8]||(l[8]=n=>a.value.customerStatus=n),"active-value":2,"inactive-value":1,"inline-prompt":"","active-text":"开启","inactive-text":"关闭"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:4},{default:t(()=>[e(o,{label:"前置问卷"},{default:t(()=>[e(b,{modelValue:a.value.antecedentQuestionnaire,"onUpdate:modelValue":l[9]||(l[9]=n=>a.value.antecedentQuestionnaire=n),"active-value":2,"inactive-value":1,"inline-prompt":"","active-text":"开启","inactive-text":"关闭"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:16},{default:t(()=>[e(o,{label:"风险控制"},{default:t(()=>[e(b,{modelValue:a.value.riskControl,"onUpdate:modelValue":l[10]||(l[10]=n=>a.value.riskControl=n),"active-value":2,"inactive-value":1,"inline-prompt":"","active-text":"开启","inactive-text":"关闭"},null,8,["modelValue"])]),_:1})]),_:1}),a.value.riskControl===2?(s(),v(u,{key:0,span:12},{default:t(()=>[e(o,{label:"营业限额/月"},{default:t(()=>[e(B,{modelValue:a.value.turnover,"onUpdate:modelValue":l[11]||(l[11]=n=>a.value.turnover=n),"controls-position":"right",min:0},null,8,["modelValue"])]),_:1})]),_:1})):f("",!0),a.value.riskControl===2?(s(),v(u,{key:1,span:12},{default:t(()=>[e(o,{label:"审核率Min值"},{default:t(()=>[e(d,{modelValue:a.value.rateAudit,"onUpdate:modelValue":l[12]||(l[12]=n=>a.value.rateAudit=n),"controls-position":"right",min:1,type:"number"},{append:t(()=>[z(" % ")]),_:1},8,["modelValue"])]),_:1})]),_:1})):f("",!0)]),_:1})]),_:1})]),_:1}),e(w,{label:"端口设置",name:"portSettings"},{default:t(()=>[e(I,{class:"box-card"},{header:t(()=>[Z]),default:t(()=>[e(y,{gutter:24},{default:t(()=>[e(u,{span:24},{default:t(()=>[e(o,{label:"加密"},{default:t(()=>[e(b,{modelValue:a.value.tenantCustomerConfigInfoList[0].isEncryption,"onUpdate:modelValue":l[13]||(l[13]=n=>a.value.tenantCustomerConfigInfoList[0].isEncryption=n),"active-value":1,"inactive-value":2,"inline-prompt":"","active-text":"加密","inactive-text":"不加密"},null,8,["modelValue"])]),_:1})]),_:1}),a.value.tenantCustomerConfigInfoList[0].isEncryption===1?(s(),r(h,{key:0},[e(u,{span:24},{default:t(()=>[e(o,{label:"加密方式"},{default:t(()=>[e(L,{onChange:l[14]||(l[14]=n=>U(n,0)),clearable:"",modelValue:a.value.tenantCustomerConfigInfoList[0].encryptionId,"onUpdate:modelValue":l[15]||(l[15]=n=>a.value.tenantCustomerConfigInfoList[0].encryptionId=n)},{default:t(()=>[(s(!0),r(h,null,T(V.value,n=>(s(),v(g,{label:n.name,value:n.id},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(u,{span:24},{default:t(()=>[e(o,{label:"密钥"},{default:t(()=>[e(d,{disabled:"",modelValue:a.value.tenantCustomerConfigInfoList[0].secretKey,"onUpdate:modelValue":l[16]||(l[16]=n=>a.value.tenantCustomerConfigInfoList[0].secretKey=n)},null,8,["modelValue"])]),_:1})]),_:1})],64)):(s(),v(u,{key:1,span:24},{default:t(()=>[e(o,{label:"IP白名单"},{default:t(()=>[e(d,{placeholder:"输入ip两个ip之间用,分开",modelValue:a.value.tenantCustomerConfigInfoList[0].whitelistIp,"onUpdate:modelValue":l[17]||(l[17]=n=>a.value.tenantCustomerConfigInfoList[0].whitelistIp=n)},null,8,["modelValue"])]),_:1})]),_:1})),e(u,{span:24},{default:t(()=>[e(o,{label:"成功重定向"},{default:t(()=>[$,a.value.tenantCustomerConfigInfoList[0].encryptionId?(s(),r("span",ee,"&hash =[hash]")):f("",!0)]),_:1})]),_:1}),e(u,{span:24},{default:t(()=>[e(o,{label:"配额满重定向"},{default:t(()=>[te,a.value.tenantCustomerConfigInfoList[0].encryptionId?(s(),r("span",ae,"&hash=[hash]")):f("",!0)]),_:1})]),_:1}),e(u,{span:24},{default:t(()=>[e(o,{label:"被甄别重定向"},{default:t(()=>[le,a.value.tenantCustomerConfigInfoList[0].encryptionId?(s(),r("span",ne,"&hash=[hash]")):f("",!0)]),_:1})]),_:1}),e(u,{span:24},{default:t(()=>[e(o,{label:"安全重定向"},{default:t(()=>[oe,a.value.tenantCustomerConfigInfoList[0].encryptionId?(s(),r("span",ue,"&hash=[hash]")):f("",!0)]),_:1})]),_:1})]),_:1})]),_:1}),e(I,{class:"box-card"},{header:t(()=>[i("div",se,[e(j,{modelValue:k.value,"onUpdate:modelValue":l[18]||(l[18]=n=>k.value=n),size:"large",onChange:q},{default:t(()=>[de]),_:1},8,["modelValue"])])]),default:t(()=>[a.value.tenantCustomerConfigInfoList.length===2?(s(),v(y,{key:0,gutter:24},{default:t(()=>[e(u,{span:24},{default:t(()=>[e(o,{label:"加密"},{default:t(()=>[e(b,{modelValue:a.value.tenantCustomerConfigInfoList[1].isEncryption,"onUpdate:modelValue":l[19]||(l[19]=n=>a.value.tenantCustomerConfigInfoList[1].isEncryption=n),"active-value":1,"inactive-value":2,"inline-prompt":"","active-text":"加密","inactive-text":"不加密"},null,8,["modelValue"])]),_:1})]),_:1}),a.value.tenantCustomerConfigInfoList[1].isEncryption===1?(s(),r(h,{key:0},[e(u,{span:24},{default:t(()=>[e(o,{label:"加密方式"},{default:t(()=>[e(L,{onChange:l[20]||(l[20]=n=>U(n,1)),clearable:"",modelValue:a.value.tenantCustomerConfigInfoList[1].encryptionId,"onUpdate:modelValue":l[21]||(l[21]=n=>a.value.tenantCustomerConfigInfoList[1].encryptionId=n)},{default:t(()=>[(s(!0),r(h,null,T(V.value,n=>(s(),v(g,{label:n.name,value:n.id},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(u,{span:24},{default:t(()=>[e(o,{label:"密钥"},{default:t(()=>[e(d,{disabled:"",modelValue:a.value.tenantCustomerConfigInfoList[1].secretKey,"onUpdate:modelValue":l[22]||(l[22]=n=>a.value.tenantCustomerConfigInfoList[1].secretKey=n)},null,8,["modelValue"])]),_:1})]),_:1})],64)):(s(),v(u,{key:1,span:24},{default:t(()=>[e(o,{label:"IP白名单"},{default:t(()=>[e(d,{placeholder:"输入ip两个ip之间用,分开",modelValue:a.value.tenantCustomerConfigInfoList[1].whitelistIp,"onUpdate:modelValue":l[23]||(l[23]=n=>a.value.tenantCustomerConfigInfoList[1].whitelistIp=n)},null,8,["modelValue"])]),_:1})]),_:1})),e(u,{span:24},{default:t(()=>[e(o,{label:"成功回调"},{default:t(()=>[ie,a.value.tenantCustomerConfigInfoList[1].encryptionId?(s(),r("span",re,"&hash=[hash]")):f("",!0)]),_:1})]),_:1}),e(u,{span:24},{default:t(()=>[e(o,{label:"配额满回调"},{default:t(()=>[me,a.value.tenantCustomerConfigInfoList[1].encryptionId?(s(),r("span",pe,"&hash=[hash]")):f("",!0)]),_:1})]),_:1}),e(u,{span:24},{default:t(()=>[e(o,{label:"被甄别回调"},{default:t(()=>[fe,a.value.tenantCustomerConfigInfoList[1].encryptionId?(s(),r("span",ce,"&hash=[hash]")):f("",!0)]),_:1})]),_:1}),e(u,{span:24},{default:t(()=>[e(o,{label:"安全终止回调"},{default:t(()=>[ve,a.value.tenantCustomerConfigInfoList[1].encryptionId?(s(),r("span",_e,"&hash=[hash]")):f("",!0)]),_:1})]),_:1})]),_:1})):f("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["rules","model"])])}}}),ge=H(be,[["__scopeId","data-v-41dabf2f"]]);export{ge as default};
