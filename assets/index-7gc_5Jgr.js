
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{d as E,am as S,r as v,c as F,l as H,b as s,q as M,o as i,e as f,j as n,f as r,w as t,t as y,g as a,h as d,s as q,H as _,F as I,v as A,k,bd as R,R as U}from"./index-J8TY69ZM.js";import{_ as $}from"./index-BwwY7SBW.js";import{a as z}from"./user_customer-CO2JWBTJ.js";import"./index-D3egPxH_.js";const G={class:"copyId"},J={class:"id oneLine"},K={style:{"text-align":"center"}},O=E({name:"ProjeckEdit",__name:"index",setup(Q,{expose:w}){const g=S(),o=v({dialogTableVisible:!1,title:"",type:"",loading:"",tableData:[],staffList:[]}),b=v([]);async function L(u){o.value.loading=!0,o.value.dialogTableVisible=!0;const c=await z.getCustomerProjectList({tenantCustomerId:u.tenantCustomerId});o.value.tableData=c.data.getTenantCustomerProjectInfoList,o.value.loading=!1}const p=F(()=>u=>b.value.filter(l=>u.includes(l.id)).map(l=>l.chineseName));function V(){o.value.dialogTableVisible=!1,o.value.tableData=[]}return H(async()=>{b.value=await g.getCountry()}),w({showEdit:L}),(u,c)=>{const l=s("el-table-column"),C=$,m=s("el-tag"),j=s("el-link"),D=s("el-tooltip"),x=R,T=s("el-table"),N=s("el-button"),B=s("el-dialog"),P=M("loading");return i(),f("div",null,[n(o).dialogTableVisible?(i(),r(B,{key:0,modelValue:n(o).dialogTableVisible,"onUpdate:modelValue":c[0]||(c[0]=e=>n(o).dialogTableVisible=e),title:"查看",draggable:""},{footer:t(()=>[y("div",K,[a(N,{type:"primary",onClick:V},{default:t(()=>[d("关闭")]),_:1})])]),default:t(()=>[q((i(),r(T,{"row-key":"projectId",data:n(o).tableData,"highlight-current-row":"",height:"100%"},{default:t(()=>[a(l,{align:"left",type:"index"}),a(l,{width:"200",align:"left",label:"项目ID"},{default:t(({row:e})=>[y("div",G,[y("div",J,"ID: "+_(e.projectId),1),a(C,{class:"copy",content:e.projectId},null,8,["content"])])]),_:1}),a(l,{"show-overflow-tooltip":"",prop:"projectName",width:"100",align:"left",label:"项目名称"}),a(l,{"show-overflow-tooltip":"",prop:"projectIdentification",width:"100",align:"left",label:"项目名称"}),a(l,{"show-overflow-tooltip":"",prop:"countryIdList",align:"left",label:"国家",width:"80"},{default:t(({row:e})=>[e.countryIdList?(i(),f(I,{key:0},[e.countryIdList.length===n(g).country.length?(i(),r(m,{key:0,type:"primary"},{default:t(()=>[d("全球")]),_:1})):n(p)(e.countryIdList).length>1?(i(),r(D,{key:1,class:"box-item",effect:"dark",content:n(p)(e.countryIdList).join(","),placement:"top"},{default:t(()=>[a(j,{type:"primary"},{default:t(()=>[a(m,{type:"primary"},{default:t(()=>[d("×"+_(n(p)(e.countryIdList).length),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["content"])):(i(!0),f(I,{key:2},A(n(p)(e.countryIdList),h=>(i(),r(m,{key:h,type:"primary"},{default:t(()=>[d(_(h),1)]),_:2},1024))),128))],64)):k("",!0)]),_:1}),a(l,{"show-overflow-tooltip":"",align:"left",label:"原价"},{default:t(({row:e})=>[a(x),d(_(e.doMoneyPrice||0),1)]),_:1})]),_:1},8,["data"])),[[P,n(o).loading]])]),_:1},8,["modelValue"])):k("",!0)])}}}),ee=U(O,[["__scopeId","data-v-672dc5ef"]]);export{ee as default};
