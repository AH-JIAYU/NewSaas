
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{ad as ce,d as ue,ae as de,aN as me,r as d,E as r,o as _e,a2 as h,al as fe,a as l,i as U,f as a,w as o,h as t,g as m,t as _,k as I,a3 as he,c as s,aM as be,j as c,b as f,A as C,aO as ye,aP as ge,aQ as ve,ao as Ie,y as Ce}from"./index-D3S8ejkd.js";import{_ as Se}from"./index-DAtLBfam.js";import{_ as ke}from"./index.vue_vue_type_style_index_0_lang-fKRrZTAb.js";import{_ as je}from"./index-BEmwfxWw.js";import"./index-BtMm8s-v.js";import"./clipboard-B6WqHfEd.js";import"./index.vue_vue_type_script_setup_true_lang-DDZTvZxv.js";import"./sortable.esm-C0-Qcoum.js";const we={list:P=>ce.post("callback/getProjectTerminationScreenDetail",P)},Ne={class:"tableBig oneLine"},Te={class:"copyId tableSmall"},De={class:"id oneLine projectId"},xe={class:"copyId tableSmall"},Le={key:0,class:"id oneLine projectId"},ze={class:"copyId tableSmall"},Be={class:"id oneLine projectId"},Pe={class:"copyId tableSmall"},Ve={class:"id oneLine projectId"},Ee={class:"copyId tableSmall"},He={class:"id oneLine projectId"},Re={class:"fontC-System oneLine"},Ue=ue({name:"termination",__name:"index",setup(P){const{t:n}=de(),{getParams:A,pagination:y,onSizeChange:M,onCurrentChange:$}=me(),{format:F}=ye(),w=d(!1),V=d([]),O=d(""),u=d([]),N=d(!1),T=d(!1),D=d("default"),x=d(!1),E=d(),q=d("formSearch-termination"),L=d([{label:r(()=>n("termination.vip")),prop:"surveySource",sortable:!0,checked:!0},{label:r(()=>n("termination.vipID")),prop:"memberChildId",sortable:!0,checked:!0},{label:r(()=>n("termination.subVipId")),prop:"supplierMemberChildId",sortable:!0,checked:!0},{label:r(()=>n("termination.supplierID")),prop:"tenantSupplierId",sortable:!0,checked:!0},{label:r(()=>n("termination.projectID")),prop:"projectId",sortable:!0,checked:!0},{label:r(()=>n("termination.projectName")),prop:"projectName",sortable:!0,checked:!0},{label:r(()=>n("termination.ipCountry")),prop:"ipBelong",sortable:!0,checked:!0},{label:r(()=>n("termination.instructions")),prop:"notes",sortable:!0,checked:!0},{label:r(()=>n("termination.endTime")),prop:"terminationTime",sortable:!0,checked:!0}]),Q=[{label:r(()=>n("termination.internalVip")),value:1},{label:r(()=>n("termination.externalVip")),value:2}],g=d({time:[],beginTime:"",endTime:"",surveySource:"",projectId:"",tenantSupplierId:"",projectName:"",ipBelong:""});function G(){y.value.page=1,S()}function J(i){M(i).then(()=>S())}function H(i=1){$(i).then(()=>S())}async function S(){try{w.value=!0;const i={...A(),...g.value};g.value.time&&g.value.time.length&&(i.beginTime=g.value.time[0]||"",i.endTime=g.value.time[1]||""),delete i.time;const p=await we.list(i);V.value=p.data.projectTerminationScreenDetailInfoList,y.value.total=p.data.total,w.value=!1}catch{}finally{w.value=!1}}function K(){Object.assign(g.value,{beginTime:"",endTime:"",surveySource:"",projectId:"",tenantSupplierId:"",projectName:"",ipBelong:"",time:[]}),S()}function W(i){O.value=i}_e(()=>{L.value.forEach(i=>{i.checked&&u.value.push(i.prop)}),S(),E.value=[{index:1,show:!0,type:"input",modelName:"tenantSupplierId",placeholder:r(()=>n("termination.supplierID"))},{index:2,show:!0,type:"input",modelName:"projectId",placeholder:r(()=>n("termination.projectID"))},{index:3,show:!0,type:"select",modelName:"surveySource",placeholder:r(()=>n("termination.vipType")),option:"surveySource",optionLabel:"label",optionValue:"value"},{index:4,show:!0,type:"input",modelName:"projectName",placeholder:r(()=>n("termination.projectName"))},{index:5,show:!0,type:"input",modelName:"ipBelong",placeholder:r(()=>n("termination.ipCountry"))},{index:6,show:!0,type:"datetimerange",modelName:"time",startPlaceHolder:r(()=>n("termination.CreationStartDate")),endPlaceHolder:r(()=>n("termination.CreationEndDate"))}]});const X={surveySource:()=>Q},v=d();function Y(i){i?v.value=i.id:v.value=""}return(i,p)=>{const Z=je,ee=h("ElDivider"),te=ke,B=h("el-button"),ne=ge,oe=ve,le=h("el-row"),b=h("el-table-column"),k=h("el-tooltip"),j=Se,z=h("el-text"),R=h("el-tag"),ae=h("el-empty"),ie=h("el-table"),re=h("ElPagination"),se=Ie,pe=fe("loading");return l(),U("div",{class:C({"absolute-container":t(x)})},[a(se,null,{default:o(()=>[a(Z,{formSearchList:t(E),formSearchName:t(q),onCurrentChange:H,onOnReset:K,model:t(g),formOption:X},null,8,["formSearchList","formSearchName","model"]),a(ee,{"border-style":"dashed"}),a(le,null,{default:o(()=>[a(te),a(oe,null,{default:o(()=>[a(B,{size:"default"},{default:o(()=>[m(_(t(n)("termination.export")),1)]),_:1}),a(ne,{border:t(N),"onUpdate:border":p[0]||(p[0]=e=>I(N)?N.value=e:null),tableAutoHeight:t(x),"onUpdate:tableAutoHeight":p[1]||(p[1]=e=>I(x)?x.value=e:null),checkList:t(u),"onUpdate:checkList":p[2]||(p[2]=e=>I(u)?u.value=e:null),columns:t(L),"onUpdate:columns":p[3]||(p[3]=e=>I(L)?L.value=e:null),"line-height":t(D),"onUpdate:lineHeight":p[4]||(p[4]=e=>I(D)?D.value=e:null),stripe:t(T),"onUpdate:stripe":p[5]||(p[5]=e=>I(T)?T.value=e:null),style:{"margin-left":"12px"},onQueryData:G},null,8,["border","tableAutoHeight","checkList","columns","line-height","stripe"])]),_:1})]),_:1}),he((l(),s(ie,{border:t(N),data:t(V),size:t(D),stripe:t(T),"highlight-current-row":"",onCurrentChange:Y,onSelectionChange:W},{empty:o(()=>[a(ae,{image:t(be),"image-size":300},null,8,["image"])]),default:o(()=>[t(u).includes("surveySource")?(l(),s(b,{key:0,align:"left",prop:"surveySource","show-overflow-tooltip":"",width:"120",label:t(n)("termination.vip")},{default:o(({row:e})=>[e.surveySource===1?(l(),s(B,{key:0,class:"p-1",size:"small",type:"primary"},{default:o(()=>[m(_(t(n)("termination.internalVip")),1)]),_:1})):c("",!0),e.surveySource===2?(l(),s(B,{key:1,class:"p-1",size:"small",type:"warning"},{default:o(()=>[m(_(t(n)("termination.externalVip")),1)]),_:1})):c("",!0)]),_:1},8,["label"])):c("",!0),t(u).includes("projectName")?(l(),s(b,{key:1,align:"left",prop:"projectName","show-overflow-tooltip":"",label:t(n)("termination.projectName")},{default:o(({row:e})=>[f("div",Ne,_(e.projectName),1)]),_:1},8,["label"])):c("",!0),t(u).includes("projectId")?(l(),s(b,{key:2,align:"left",prop:"projectId",width:"180",label:t(n)("termination.projectID")},{default:o(({row:e})=>[f("div",Te,[f("div",De,[a(k,{effect:"dark",content:e.projectId,placement:"top-start"},{default:o(()=>[m(_(e.projectId),1)]),_:2},1032,["content"])]),a(j,{content:e.projectId,class:C({rowCopy:"rowCopy",current:e.id===t(v)})},null,8,["content","class"])])]),_:1},8,["label"])):c("",!0),t(u).includes("memberChildId")?(l(),s(b,{key:3,align:"left",prop:"",width:"180","show-overflow-tooltip":"",label:t(n)("termination.vipID")},{default:o(({row:e})=>[f("div",xe,[e.peopleType===1?(l(),U("div",Le,[a(k,{effect:"dark",content:e.memberChildId,placement:"top-start"},{default:o(()=>[m(_(e.memberChildId),1)]),_:2},1032,["content"])])):c("",!0),a(j,{content:e.memberChildId,class:C({rowCopy:"rowCopy",current:e.id===t(v)})},null,8,["content","class"])])]),_:1},8,["label"])):c("",!0),t(u).includes("supplierMemberChildId")?(l(),s(b,{key:4,align:"left",prop:"",width:"180",label:t(n)("termination.subVipId")},{default:o(({row:e})=>[f("div",ze,[f("div",Be,[e.peopleType!==1?(l(),s(z,{key:0},{default:o(()=>[a(k,{effect:"dark",content:e.memberChildId,placement:"top-start"},{default:o(()=>[m(_(e.memberChildId),1)]),_:2},1032,["content"])]),_:2},1024)):(l(),s(z,{key:1},{default:o(()=>[m(" - ")]),_:1}))]),e.peopleType!==1?(l(),s(j,{key:0,content:e.memberChildId,class:C({rowCopy:"rowCopy",current:e.id===t(v)})},null,8,["content","class"])):c("",!0)])]),_:1},8,["label"])):c("",!0),t(u).includes("tenantSupplierId")?(l(),s(b,{key:5,align:"left",prop:"tenantSupplierId",width:"180","show-overflow-tooltip":"",label:t(n)("termination.supplierID")},{default:o(({row:e})=>[f("div",Pe,[f("div",Ve,[e.tenantSupplierId?(l(),s(z,{key:0},{default:o(()=>[a(k,{effect:"dark",content:e.tenantSupplierId,placement:"top-start"},{default:o(()=>[m(_(e.tenantSupplierId),1)]),_:2},1032,["content"])]),_:2},1024)):(l(),s(z,{key:1},{default:o(()=>[m(" - ")]),_:1}))]),e.tenantSupplierId?(l(),s(j,{key:0,content:e.tenantSupplierId,class:C({rowCopy:"rowCopy",current:e.id===t(v)})},null,8,["content","class"])):c("",!0)])]),_:1},8,["label"])):c("",!0),t(u).includes("ipBelong")?(l(),s(b,{key:6,align:"left",prop:"ipBelong","show-overflow-tooltip":"",label:t(n)("termination.ipCountry"),width:"220"},{default:o(({row:e})=>[f("div",Ee,[f("div",He,[a(R,{type:"primary"},{default:o(()=>[m(_(e.ipBelong.split("/")[1]),1)]),_:2},1024),m(" "+_(e.ipBelong.split("/")[0]),1)]),a(j,{content:e.ipBelong.split("/")[0],class:C({rowCopy:"rowCopy",current:e.id===t(v)})},null,8,["content","class"])])]),_:1},8,["label"])):c("",!0),t(u).includes("terminationTime")?(l(),s(b,{key:7,label:t(n)("termination.endTime"),align:"left",prop:"terminationTime","show-overflow-tooltip":""},{default:o(({row:e})=>[a(k,{content:e.terminationTime,placement:"top"},{default:o(()=>[a(R,{effect:"plain",type:"info"},{default:o(()=>[m(_(t(F)(e.terminationTime)),1)]),_:2},1024)]),_:2},1032,["content"])]),_:1},8,["label"])):c("",!0),t(u).includes("notes")?(l(),s(b,{key:8,align:"left",prop:"notes","show-overflow-tooltip":"",width:"280",label:t(n)("termination.instructions")},{default:o(({row:e})=>[f("div",Re,_(e.notes),1)]),_:1},8,["label"])):c("",!0)]),_:1},8,["border","data","size","stripe"])),[[pe,t(w)]]),a(re,{"current-page":t(y).page,total:t(y).total,"page-size":t(y).size,"page-sizes":t(y).sizes,layout:t(y).layout,"hide-on-single-page":!1,class:"pagination",background:"",onSizeChange:J,onCurrentChange:H},null,8,["current-page","total","page-size","page-sizes","layout"])]),_:1})],2)}}}),Je=Ce(Ue,[["__scopeId","data-v-134dadb1"]]);export{Je as default};
