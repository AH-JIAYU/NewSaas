
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{d as z,l as E,r as v,c as S,n as A,a as s,q as F,o as i,b as f,i as n,e as r,w as t,y,f as a,g as d,s as M,z as _,F as I,t as q,j as k,be as H,L as U}from"./index-D46Z3f8a.js";import{_ as $}from"./index-CyDsuByK.js";import{c as G}from"./user_customer-Gybbltjy.js";import"./index-Cv-js1lZ.js";const J={class:"copyId"},K={class:"id oneLine"},O={style:{"text-align":"center"}},Q=z({name:"ProjeckEdit",__name:"index",setup(R,{expose:w}){const g=E(),o=v({dialogTableVisible:!1,title:"",type:"",loading:"",tableData:[],staffList:[]}),b=v([]);async function L(u){o.value.loading=!0,o.value.dialogTableVisible=!0;const c=await G.getCustomerProjectList({tenantCustomerId:u.tenantCustomerId});o.value.tableData=c.data.getTenantCustomerProjectInfoList,o.value.loading=!1}const p=S(()=>u=>b.value.filter(l=>u.includes(l.id)).map(l=>l.chineseName));function V(){o.value.dialogTableVisible=!1,o.value.tableData=[]}return A(async()=>{b.value=await g.getCountry()}),w({showEdit:L}),(u,c)=>{const l=s("el-table-column"),x=$,m=s("el-tag"),C=s("el-link"),j=s("el-tooltip"),D=H,T=s("el-table"),N=s("el-button"),B=s("el-dialog"),P=F("loading");return i(),f("div",null,[n(o).dialogTableVisible?(i(),r(B,{key:0,modelValue:n(o).dialogTableVisible,"onUpdate:modelValue":c[0]||(c[0]=e=>n(o).dialogTableVisible=e),style:{"min-height":"500px"},title:"查看",draggable:""},{footer:t(()=>[y("div",O,[a(N,{type:"primary",onClick:V},{default:t(()=>[d("关闭")]),_:1})])]),default:t(()=>[M((i(),r(T,{"row-key":"projectId",data:n(o).tableData,"highlight-current-row":"",height:"450px"},{default:t(()=>[a(l,{align:"left",type:"index"}),a(l,{width:"200",align:"left",label:"项目ID"},{default:t(({row:e})=>[y("div",J,[y("div",K,"ID: "+_(e.projectId),1),a(x,{class:"copy",content:e.projectId},null,8,["content"])])]),_:1}),a(l,{"show-overflow-tooltip":"",prop:"projectName",width:"100",align:"left",label:"项目名称"}),a(l,{"show-overflow-tooltip":"",prop:"projectIdentification",width:"100",align:"left",label:"项目名称"}),a(l,{"show-overflow-tooltip":"",prop:"countryIdList",align:"left",label:"区域",width:"100"},{default:t(({row:e})=>[e.countryIdList?(i(),f(I,{key:0},[e.countryIdList.length===n(g).country.length?(i(),r(m,{key:0,size:"small",type:"primary"},{default:t(()=>[d("全球")]),_:1})):n(p)(e.countryIdList).length>1?(i(),r(j,{key:1,class:"box-item",effect:"dark",content:n(p)(e.countryIdList).join(","),placement:"top"},{default:t(()=>[a(C,{type:"primary"},{default:t(()=>[a(m,{size:"small",type:"primary"},{default:t(()=>[d("×"+_(n(p)(e.countryIdList).length),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["content"])):(i(!0),f(I,{key:2},q(n(p)(e.countryIdList),h=>(i(),r(m,{size:"small",key:h,type:"primary"},{default:t(()=>[d(_(h),1)]),_:2},1024))),128))],64)):k("",!0)]),_:1}),a(l,{"show-overflow-tooltip":"",align:"left",label:"项目价"},{default:t(({row:e})=>[a(D),d(_(e.doMoneyPrice||0),1)]),_:1})]),_:1},8,["data"])),[[P,n(o).loading]])]),_:1},8,["modelValue"])):k("",!0)])}}}),ee=U(Q,[["__scopeId","data-v-adb24eef"]]);export{ee as default};
