
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{a as $}from"./apiLoading-DuUE4E_v.js";import{a as j}from"./basicDictionary-CTeaBGi3.js";import{ah as x,r as b,d as E,x as O,a1 as U,C as P,a2 as z,a as d,o as m,b as f,f as e,w as l,i as t,aA as H,F as G,n as I,e as w,p as J,l as _}from"./index-CX2PmK0L.js";import{a as K}from"./survey_vipLevel-Dp-vgnc8.js";import{a as Q}from"./survey_vipGroup-BJnEl4Ab.js";const W=x("basicDictionary",()=>{const n=b([]);return{country:n,getCountry:async()=>{if(!n.value.length){const i={page:1,limit:-1,id:"32"},L=await j.itemlist(i);n.value=L.data.records}return n.value}}}),X=W,Y=x("surveyVipLevel",()=>{const n=b(null);return{LevelNameList:n,getLevelNameList:async()=>{if(!n.value){const{data:i}=await K.getLevelNameList({});n.value=i.getMemberLevelNameInfoList}return n.value}}}),Z=Y,h=x("surveyVipGroup",()=>{const n=b(null);return{GroupNameList:n,getGroupNameList:async()=>{if(!n.value){const{data:i}=await Q.getGroupNameList({});n.value=i.getMemberGroupNameInfoList}return n.value}}}),ee=h,le=_("div",{class:"card-header"},[_("span",null,"基本信息")],-1),ae=_("div",{class:"card-header"},[_("span",null,"权限信息")],-1),de=E({__name:"index",props:{leftTab:Object,tabIndex:Number},emits:["setClient"],setup(n,{emit:V}){const i=X(),L=Z(),B=ee(),T=O("validateTopTabs"),A=n,g=b("basicSettings"),p=U({vipLevelList:[],vipGroupList:[],countryList:[]}),D=U({memberNickname:[{required:!0,message:"请输入会员昵称",trigger:"blur"},{min:2,max:50,message:"内容在2-50个字之间",trigger:"blur"}],memberLevelId:[{required:!0,message:"请选择会员等级",trigger:"change"}],subordinateCountryId:[{required:!0,message:"请选择国家",trigger:"change"}]});P(async()=>{await $(R())});const R=async()=>{p.vipLevelList=await L.getLevelNameList(),p.vipGroupList=await B.getGroupNameList(),p.countryList=await i.getCountry()},C=b(null),u=b(A.leftTab);return z(()=>{T(C.value)}),(te,o)=>{const c=d("el-input"),r=d("el-form-item"),s=d("el-col"),y=d("el-option"),N=d("el-select"),S=d("el-row"),k=d("el-card"),v=d("el-switch"),q=d("el-divider"),F=d("el-tab-pane"),M=d("el-tabs");return m(),f("div",null,[e(M,{modelValue:t(g),"onUpdate:modelValue":o[11]||(o[11]=a=>J(g)?g.value=a:null)},{default:l(()=>[e(F,{label:"会员信息",name:"basicSettings"},{default:l(()=>[e(t(H),{ref_key:"formRef",ref:C,model:t(u),rules:t(D),"label-width":"100px"},{default:l(()=>[e(k,{class:"box-card"},{header:l(()=>[le]),default:l(()=>[e(S,{gutter:24},{default:l(()=>[e(s,{span:8},{default:l(()=>[e(r,{label:"会员名称",prop:"memberNickname"},{default:l(()=>[e(c,{modelValue:t(u).memberNickname,"onUpdate:modelValue":o[0]||(o[0]=a=>t(u).memberNickname=a),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(s,{span:8},{default:l(()=>[e(r,{label:"所属国家",prop:"subordinateCountryId"},{default:l(()=>[e(N,{clearable:"",filterable:"",modelValue:t(u).subordinateCountryId,"onUpdate:modelValue":o[1]||(o[1]=a=>t(u).subordinateCountryId=a)},{default:l(()=>[(m(!0),f(G,null,I(t(p).countryList,a=>(m(),w(y,{key:a.id,value:a.id,label:a.chineseName},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(s,{span:8},{default:l(()=>[e(r,{label:"会员姓名"},{default:l(()=>[e(c,{clearable:"",modelValue:t(u).memberName,"onUpdate:modelValue":o[2]||(o[2]=a=>t(u).memberName=a)},null,8,["modelValue"])]),_:1})]),_:1}),e(s,{span:8},{default:l(()=>[e(r,{label:"手机号码"},{default:l(()=>[e(c,{clearable:"",modelValue:t(u).memberPhone,"onUpdate:modelValue":o[3]||(o[3]=a=>t(u).memberPhone=a)},null,8,["modelValue"])]),_:1})]),_:1}),e(s,{span:8},{default:l(()=>[e(r,{label:"电子邮箱"},{default:l(()=>[e(c,{clearable:"",modelValue:t(u).emailAddress,"onUpdate:modelValue":o[4]||(o[4]=a=>t(u).emailAddress=a)},null,8,["modelValue"])]),_:1})]),_:1}),e(s,{span:8},{default:l(()=>[e(r,{label:"初始密码"},{default:l(()=>[e(c,{clearable:"",value:"123456",disabled:""})]),_:1})]),_:1})]),_:1})]),_:1}),e(k,{class:"box-card"},{header:l(()=>[ae]),default:l(()=>[e(S,{gutter:20},{default:l(()=>[e(s,{span:4},{default:l(()=>[e(r,{label:"B2B"},{default:l(()=>[e(v,{"active-value":2,"inactive-value":1,modelValue:t(u).b2bStatus,"onUpdate:modelValue":o[5]||(o[5]=a=>t(u).b2bStatus=a)},null,8,["modelValue"])]),_:1})]),_:1}),e(s,{span:4},{default:l(()=>[e(r,{label:"B2C"},{default:l(()=>[e(v,{"active-value":2,"inactive-value":1,modelValue:t(u).b2cStatus,"onUpdate:modelValue":o[6]||(o[6]=a=>t(u).b2cStatus=a)},null,8,["modelValue"])]),_:1})]),_:1}),e(s,{span:4},{default:l(()=>[e(r,{label:"会员状态"},{default:l(()=>[e(v,{"active-value":2,"inactive-value":1,modelValue:t(u).memberStatus,"onUpdate:modelValue":o[7]||(o[7]=a=>t(u).memberStatus=a)},null,8,["modelValue"])]),_:1})]),_:1}),e(s,{span:4},{default:l(()=>[e(r,{label:"免审"},{default:l(()=>[e(v,{"active-value":2,"inactive-value":1,modelValue:t(u).exemptionTrial,"onUpdate:modelValue":o[8]||(o[8]=a=>t(u).exemptionTrial=a)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(q,{"content-position":"center"}),e(S,{gutter:20},{default:l(()=>[e(s,{span:8},{default:l(()=>[e(r,{label:"会员等级",prop:"memberLevelId"},{default:l(()=>[e(N,{clearable:"",filterable:"",modelValue:t(u).memberLevelId,"onUpdate:modelValue":o[9]||(o[9]=a=>t(u).memberLevelId=a)},{default:l(()=>[(m(!0),f(G,null,I(t(p).vipLevelList,a=>(m(),w(y,{key:a.memberLevelId,value:a.memberLevelId,label:a.levelNameOrAdditionRatio},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(s,{span:8},{default:l(()=>[e(r,{label:"会员组"},{default:l(()=>[e(N,{clearable:"",filterable:"",modelValue:t(u).memberGroupId,"onUpdate:modelValue":o[10]||(o[10]=a=>t(u).memberGroupId=a)},{default:l(()=>[(m(!0),f(G,null,I(t(p).vipGroupList,a=>(m(),w(y,{key:a.memberGroupId,label:a.memberGroupName,value:a.memberGroupId},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})]),_:1},8,["modelValue"])])}}});export{de as _,ee as a,Z as u};
