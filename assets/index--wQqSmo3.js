
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{k as n,d as F,r as c,a1 as q,a as u,o as b,e as M,w as t,l as k,f as e,g,i as a,b as P,n as R,F as z,p as D,aD as O,aE as T,_ as $}from"./index-CnQ4xoV5.js";import{u as A}from"./stagedData-BMdSSPBU.js";import{a as H}from"./apiLoading-Bi9sUNe-.js";const J={list:o=>n.post("memberGroup/getMemberGroupList",o),detail:o=>n.post("memberGroup/getMemberGroupInfo",o),getProjectList:o=>n.post("memberGroup/getMemberGroupProjectList",o),create:o=>n.post("memberGroup/addMemberGroup",o),getNickNameList:o=>n.post("member/getMemberLikeNickNameList",o),edit:o=>n.post("memberGroup/updateMemberGroup",o),changestatus:o=>n.post("memberGroup/updateMemberGroupStatus",o)},K=o=>(O("data-v-d812a2be"),o=o(),T(),o),Q=K(()=>k("div",{class:"radius p-2"},"用户1",-1)),W={class:"dialog-footer"},X=F({__name:"index",emits:["fetch-data"],setup(o,{expose:I,emit:L}){A();const w=L,p=c(!1),v=c([]),_=c("新增会员组"),s=c({memberGroupName:"",groupStatus:1,groupMemberId:[],groupLeaderMemberId:""}),S=c({}),x=q({memberGroupName:[{required:!0,message:"请输入会员组名称",trigger:"blur"}],groupStatus:[{required:!0,message:"请选择组状态",trigger:"change"}],groupMemberId:[{type:"array",required:!0,message:"请选择至少一个组成员",trigger:"change"}]});async function y(G){if(!G)_.value="新增会员组";else{_.value="编辑会员组";const{data:l}=await H(J.getNickNameList({memberNickname:""}));v.value=l.getMemberLikeNickNameInfoList}p.value=!0}function N(){w("fetch-data"),p.value=!1}const h=()=>{console.log("save")};return I({showEdit:y}),(G,l)=>{const C=u("el-input"),d=u("el-form-item"),m=u("el-col"),i=u("el-row"),E=u("el-switch"),U=u("el-option"),V=u("el-select"),j=u("ElForm"),f=u("el-button"),B=u("el-drawer");return b(),M(B,{modelValue:a(p),"onUpdate:modelValue":l[4]||(l[4]=r=>D(p)?p.value=r:null),size:"50%",title:a(_),onClose:N},{footer:t(()=>[k("div",W,[e(f,{onClick:N},{default:t(()=>[g(" 取消 ")]),_:1}),e(f,null,{default:t(()=>[g(" 暂存 ")]),_:1}),e(f,{type:"primary",onClick:h},{default:t(()=>[g(" 确定 ")]),_:1})])]),default:t(()=>[e(j,{ref_key:"formRef",ref:S,rules:a(x),model:a(s),"label-width":"100px"},{default:t(()=>[e(i,{gutter:10},{default:t(()=>[e(m,{span:8},{default:t(()=>[e(d,{label:"会员组名称",prop:"memberGroupName"},{default:t(()=>[e(C,{modelValue:a(s).memberGroupName,"onUpdate:modelValue":l[0]||(l[0]=r=>a(s).memberGroupName=r),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(m,{span:8}),e(m,{span:8})]),_:1}),e(i,{gutter:10},{default:t(()=>[e(m,{span:8},{default:t(()=>[e(d,{label:"组状态",prop:"groupStatus"},{default:t(()=>[e(E,{"active-value":1,"inactive-value":2,"active-text":"开启","inactive-text":"关闭","inline-prompt":"",modelValue:a(s).groupStatus,"onUpdate:modelValue":l[1]||(l[1]=r=>a(s).groupStatus=r)},null,8,["modelValue"])]),_:1})]),_:1}),e(m,{span:8})]),_:1}),e(i,{gutter:10},{default:t(()=>[e(m,{span:24},{default:t(()=>[e(d,{label:"组成员",prop:"groupMemberId"},{default:t(()=>[e(V,{multiple:"",modelValue:a(s).groupMemberId,"onUpdate:modelValue":l[2]||(l[2]=r=>a(s).groupMemberId=r),placeholder:"模糊搜索",clearable:""},{default:t(()=>[(b(!0),P(z,null,R(a(v),r=>(b(),M(U,{value:r.memberId,label:r.memberNickname},null,8,["value","label"]))),256))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(i,{gutter:10},{default:t(()=>[e(m,{span:24},{default:t(()=>[e(d,null,{default:t(()=>[Q]),_:1})]),_:1})]),_:1}),e(i,{gutter:10},{default:t(()=>[e(m,{span:24},{default:t(()=>[e(d,{label:"组长",prop:"top"},{default:t(()=>[e(V,{modelValue:a(s).groupLeaderMemberId,"onUpdate:modelValue":l[3]||(l[3]=r=>a(s).groupLeaderMemberId=r),placeholder:"模糊搜索"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["rules","model"])]),_:1},8,["modelValue","title"])}}}),Y=$(X,[["__scopeId","data-v-d812a2be"]]),oe=Object.freeze(Object.defineProperty({__proto__:null,default:Y},Symbol.toStringTag,{value:"Module"}));export{J as a,oe as i,Y as v};
