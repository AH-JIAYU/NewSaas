
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{u as L,_ as y}from"./index.vue_vue_type_script_setup_true_lang-DWfubBmq.js";import{d as N,r as n,a0 as j,a as p,o,b as v,F as T,f as d,w as i,g as h,n as A,e as f,l as E,j as R,al as g}from"./index-CnQ4xoV5.js";const $={style:{float:"right",position:"sticky",top:"19px",width:"85%","z-index":"1000",display:"flex","justify-content":"start","align-items":"start"}},M=N({__name:"index",props:{leftTabsData:Array,validateTopTabs:Array,title:String},setup(k){const x=L(),c=k,b=n(),e=n(c.leftTabsData),C=n(c.validateTopTabs);e.value.forEach((a,t)=>{const u=n(null);j(`formRef${t}`,u)});const m=n(0),l=n(0);function V(){const a=g(e.value[0]);e.value[l.value]=a}function S(){const a=g(e.value[0]);l.value=++m.value,e.value.push({...x.initialTopTabsData,client:b.value,await:a.await,multi:a.multi})}function w(a){e.value.splice(a,1),C.value.splice(a,1),l.value>=e.value.length&&(l.value=Math.max(0,e.value.length-1),m.value=Math.max(0,e.value.length-1))}function _(a){e.value.forEach(t=>{t.client=a}),b.value=a}return(a,t)=>{const u=p("el-button"),B=p("el-tab-pane"),D=p("el-tabs");return o(),v("div",null,[e.value[0].id?(o(),f(y,{key:1,"left-tab":e.value[0],onSetClient:_},null,8,["left-tab"])):(o(),v(T,{key:0},[d(u,{class:"button",disabled:e.value.length>9||c.title!=="添加",onClick:t[0]||(t[0]=s=>S())},{default:i(()=>[h(" 添加子项目 ")]),_:1},8,["disabled"]),d(D,{modelValue:l.value,"onUpdate:modelValue":t[1]||(t[1]=s=>l.value=s),"tab-position":"left",onTabRemove:w},{default:i(()=>[(o(!0),v(T,null,A(e.value,(s,r)=>(o(),f(B,{key:r,closable:e.value.length!==1,label:s.supplierAccord,name:r},{default:i(()=>[E("div",$,[l.value>0?(o(),f(u,{key:0,size:"small",type:"primary",round:"",plain:"",onClick:V},{default:i(()=>[h(" 同步主项目数据 ")]),_:1})):R("",!0)]),d(y,{"left-tab":s,"tab-index":r,onSetClient:_},null,8,["left-tab","tab-index"])]),_:2},1032,["closable","label","name"]))),128))]),_:1},8,["modelValue"])],64))])}}});export{M as _};
