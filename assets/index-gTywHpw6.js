
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{v as N}from"./index-PcKLvutJ.js";import{a as j}from"./survey_myProjeck-DYr-cNEU.js";import{f as B}from"./file-DYs_yFI5.js";import{D as I}from"./download-C8PHVIy1.js";import{d as z,r as a,a as t,p as E,q as L,o as r,b as _,f as o,w as c,j as p,e as f,g as S,H as T,S as q,s as A,i as H,R as P}from"./index-CbxE907u.js";const Q={key:0,class:"demo-image__preview"},R={class:"radius flex gap-2 p-2"},F=z({__name:"index",setup(G,{expose:g}){const s=a(!1),m=a(""),e=a({}),d=a(),v=a(),i=a(!1);async function w(u){try{if(s.value=!0,m.value="项目详情",u){i.value=!0;const l=await j.getQuotaProjectInfo({projectId:u.projectId});if(e.value=l.data,e.value.descriptionUrl!==""){const n=await B.detail({fileName:e.value.descriptionUrl});d.value=n.data.fileUrl,v.value=[n.data.fileUrl]}i.value=!1}}catch{}finally{i.value=!1}}async function y(){await I(d.value,e.value.descriptionUrl)}function x(){s.value=!1}return g({showEdit:w}),(u,l)=>{const n=t("el-image"),U=t("el-button"),h=t("el-col"),b=t("el-row"),k=t("el-empty"),C=t("el-dialog"),D=E("loading");return L((r(),_("div",null,[o(C,{modelValue:s.value,"onUpdate:modelValue":l[0]||(l[0]=V=>s.value=V),"append-to-body":"","close-on-click-modal":!1,"destroy-on-close":"",title:m.value,draggable:"",width:"50%",onClose:x},{default:c(()=>[e.value.descriptionUrl?(r(),_("div",Q,[o(n,{style:{width:"6.25rem",height:"6.25rem"},src:d.value,"preview-src-list":v.value,"zoom-rate":1.2,"max-scale":7,"min-scale":.2,"initial-index":0,fit:"cover"},null,8,["src","preview-src-list"])])):p("",!0),e.value.descriptionUrl?(r(),f(U,{key:1,style:{padding:"0"},type:"primary",text:"",onClick:y},{default:c(()=>[S(T(e.value.descriptionUrl)+"下载 ",1)]),_:1})):p("",!0),o(b,{gutter:20,class:q({isNone:!e.value.descriptionUrl})},{default:c(()=>[o(h,{span:24},{default:c(()=>[A("div",R,[o(H(N),{value:e.value.richText},null,8,["value"])])]),_:1})]),_:1},8,["class"]),e.value.descriptionUrl?p("",!0):(r(),f(k,{key:2,description:"暂无数据"}))]),_:1},8,["modelValue","title"])])),[[D,i.value]])}}}),X=P(F,[["__scopeId","data-v-9bff5b6a"]]);export{X as default};
