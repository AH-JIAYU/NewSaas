
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{a as p}from"./dictionary-Ab2tQbD4.js";import{d as M,m as E,u as U,c as F,r as f,l as R,b as s,o as S,f as q,w as d,g as l,h as y,j as a,E as g,R as z}from"./index-B32N5rJq.js";const N=M({__name:"index",props:E({dictionaryId:{default:""},id:{default:""},tree:{}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:E(["success"],["update:modelValue"]),setup(v,{emit:I}){const u=v,V=I,c=U(v,"modelValue"),C=F(()=>u.id===""?"新增字典项":"编辑字典项"),i=f(),e=f({dictionaryId:u.dictionaryId,id:u.id,name:"",value:"",enable:!0}),x=f({dictionaryId:[{required:!0,message:"请选择所属字典"}],name:[{required:!0,message:"请输入字典项名称"}],value:[{required:!0,message:"请输入字典项键值"}]});R(()=>{u.id!==""&&p.itemDetail(u.id).then(o=>{e.value.id=o.data.id,e.value.name=o.data.name,e.value.value=o.data.value,e.value.enable=o.data.enable})});function k(){e.value.id===""?i.value&&i.value.validate(o=>{o&&p.itemCreate(e.value).then(()=>{g.success({message:"模拟新增成功",center:!0}),V("success"),r()})}):i.value&&i.value.validate(o=>{o&&p.itemEdit(e.value).then(()=>{g.success({message:"模拟编辑成功",center:!0}),V("success"),r()})})}function r(){c.value=!1}return(o,t)=>{const w=s("ElCascader"),m=s("ElFormItem"),_=s("ElInput"),h=s("ElSwitch"),D=s("ElForm"),b=s("ElButton"),B=s("ElDialog");return S(),q(B,{modelValue:c.value,"onUpdate:modelValue":t[4]||(t[4]=n=>c.value=n),title:a(C),width:"400px","close-on-click-modal":!1,"append-to-body":"","destroy-on-close":"",onClosed:r},{footer:d(()=>[l(b,{size:"large",onClick:r},{default:d(()=>[y(" 取消 ")]),_:1}),l(b,{type:"primary",size:"large",onClick:k},{default:d(()=>[y(" 确定 ")]),_:1})]),default:d(()=>[l(D,{ref_key:"formRef",ref:i,model:a(e),rules:a(x),"label-width":"100px"},{default:d(()=>[l(m,{label:"所属字典",prop:"dictionaryId"},{default:d(()=>[l(w,{modelValue:a(e).dictionaryId,"onUpdate:modelValue":t[0]||(t[0]=n=>a(e).dictionaryId=n),options:o.tree,props:{value:"id",emitPath:!1,checkStrictly:!0},"show-all-levels":!1,placeholder:"请选择所属字典"},null,8,["modelValue","options"])]),_:1}),l(m,{label:"字典项名称",prop:"name"},{default:d(()=>[l(_,{modelValue:a(e).name,"onUpdate:modelValue":t[1]||(t[1]=n=>a(e).name=n),placeholder:"请输入字典项名称",clearable:""},null,8,["modelValue"])]),_:1}),l(m,{label:"字典项键值",prop:"value"},{default:d(()=>[l(_,{modelValue:a(e).value,"onUpdate:modelValue":t[2]||(t[2]=n=>a(e).value=n),placeholder:"请输入字典项键值",clearable:""},null,8,["modelValue"])]),_:1}),l(m,{label:"状态",prop:"enable"},{default:d(()=>[l(h,{modelValue:a(e).enable,"onUpdate:modelValue":t[3]||(t[3]=n=>a(e).enable=n),"inline-prompt":"","active-text":"启用","inactive-text":"禁用"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])}}}),T=z(N,[["__scopeId","data-v-39b1aab6"]]);export{T as default};
