
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{d as V,aM as E,r as m,z as H,k as B,a as v,o as n,b as d,f as c,w as _,s as o,i as e,S as f,H as r,ah as I,F as L,t as N,j as p,e as y,q as M,ao as P,n as S,N as z,an as F,R as j,am as T}from"./index-DXIwLSJH.js";import U from"./notification-news-DhsYXwsK.js";import G from"./notification-cooperation-Ga8aRQoU.js";const J={class:"absolute-container"},K={class:"flex-c"},O={class:"left"},Q={class:"buttons"},W=["onClick"],X={class:"info"},Y={class:"time"},Z={key:0,class:"new"},ee={class:"auditType"},te={class:"time"},se={class:"data"},ae=["onClick"],oe={class:"info"},ne={class:"title"},ie={class:"date"},le={key:0,class:"right"},q=V({name:"PersonalNotification",__name:"notification",setup(de){const i=E(),h=m(),k=m(),u=H(),t=m({tabs:"",selectId:"",ReadAlready:1,type:1});function b(l){t.value.selectId=l.id,t.value.type=1,S(()=>{var s;(s=k.value)==null||s.showEdit(l)})}function g(l){t.value.selectId=l.id,t.value.type=2,S(()=>{var s;(s=h.value)==null||s.showEdit(l)})}function C(){t.value.selectId="",t.value.type=0}return B(()=>{if(t.value.tabs=u.query.type==2?"cooperation":"news",u.query.id){if(Number(u.query.type)===1){const l=i.messageList.find(s=>s.id===u.query.id);b(l)}else if(Number(u.query.type)===2){const l=i.todoList.find(s=>s.id===u.query.id);g(l)}}}),(l,s)=>{const w=v("el-empty"),R=v("el-tab-pane"),A=z,D=v("el-tabs"),$=F;return n(),d("div",J,[c($,null,{default:_(()=>[o("div",K,[o("div",O,[c(D,{modelValue:e(t).tabs,"onUpdate:modelValue":s[2]||(s[2]=a=>e(t).tabs=a),onChange:C},{default:_(()=>[c(R,{label:"消息",name:"news"},{default:_(()=>[o("div",Q,[o("button",{class:f(e(t).ReadAlready===1?"unread":""),onClick:s[0]||(s[0]=a=>e(t).ReadAlready=1)},"未读"+r(e(i).message<100?`(${e(i).message})`:"99+"),3),o("button",{class:f(e(t).ReadAlready===2?"read":""),read:"",onClick:s[1]||(s[1]=a=>e(t).ReadAlready=2)},"已读",2)]),c(e(I),{options:{scrollbars:{autoHide:"leave",autoHideDelay:300}},defer:"",class:"list"},{default:_(()=>[e(i).messageList.length?(n(!0),d(L,{key:0},N(e(i).messageList,a=>(n(),d("div",{class:f({item:"item",select:a.id===e(t).selectId}),onClick:x=>b(a)},[o("div",X,[o("div",Y,[a.isReadAlready===1?(n(),d("span",Z)):p("",!0),o("span",ee,r(e(i).auditTypeList[a.auditType-1]||""),1),o("span",te,r(a.createTime),1)]),o("div",se,r(a.messageContent),1)])],10,W))),256)):(n(),y(w,{key:1,description:"暂无数据"}))]),_:1})]),_:1}),c(R,{label:"代办",name:"cooperation"},{default:_(()=>[c(e(I),{options:{scrollbars:{autoHide:"leave",autoHideDelay:300}},defer:"",class:"list"},{default:_(()=>[e(i).todoList.length?(n(!0),d(L,{key:0},N(e(i).todoList,a=>(n(),d("div",{class:f(a.isReadAlready===1?"item new":"item"),onClick:x=>g(a)},[c(A,{name:"i-ri:file-edit-fill",class:"service"}),o("div",oe,[o("div",ne,r(e(i).auditTypeList[a.auditType-1]||"")+"   "+r(a.messageContent),1),o("div",ie,r(a.createTime),1)])],10,ae))),256)):(n(),y(w,{key:1,description:"暂无数据"}))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),e(t).selectId?M((n(),d("div",le,[e(t).type===1?(n(),y(U,{key:0,ref_key:"newsRef",ref:k,onDelSelectId:C},null,512)):p("",!0),e(t).type===2?(n(),y(G,{key:1,ref_key:"cooperationRef",ref:h},null,512)):p("",!0)],512)),[[P,e(t).selectId]]):p("",!0)])]),_:1})])}}});typeof T=="function"&&T(q);const _e=j(q,[["__scopeId","data-v-3f0797c0"]]);export{_e as default};
