
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{k as O,d as L,r as c,G as N,a as u,al as C,am as S,o as E,b as W,f as e,w as a,g as D,ak as w,at as M,s as $,_ as q}from"./index-C29iptdf.js";const b={list:()=>O.post("supplier-config/get/getSupplierConfig"),create:f=>O.post("supplier-config/insert/insertSupplierConfig",f),edit:f=>O.post("/supplier-config/update/updateSupplierConfig",f)},B=L({name:"SettingSiteSettingList",__name:"list",setup(f){const n=c(!1),i=c(),l=c({id:"",registerOffOrOn:!0,registerExamineOffOrOn:!1,keyWords:"",webName:"",supplierURL:""}),V=c({webName:[{required:!0,message:"请输入网站名称",trigger:"blur"}],supplierURL:[{required:!0,message:"请输入供应商网址",trigger:"blur"}]});N(()=>{_()});async function _(){n.value=!0;const{data:r}=await b.list();l.value=r,n.value=!1,console.log(" form.value",l.value)}function y(){l.value.id===""?i.value&&i.value.validate(r=>{r&&(n.value=!0,b.create(l.value).then(()=>{n.value=!1,_(),w.success({message:"新增成功",center:!0})}))}):i.value&&i.value.validate(r=>{if(r){const{id:t,keyWords:v,registerExamineOffOrOn:m,registerOffOrOn:s,supplierURL:p,webName:g}=l.value,d={id:t,keyWords:v,registerExamineOffOrOn:m,registerOffOrOn:s,supplierURL:p,webName:g};n.value=!0,b.edit(d).then(()=>{n.value=!1,_(),w.success({message:"修改成功",center:!0})})}})}return(r,t)=>{const v=M,m=u("el-switch"),s=u("el-form-item"),p=u("el-col"),g=u("el-row"),d=u("el-input"),k=u("el-button"),U=u("el-form"),x=$,R=C("loading");return S((E(),W("div",null,[e(v,{title:"站点设置管理"}),e(x,null,{default:a(()=>[e(U,{ref_key:"formRef",ref:i,model:l.value,rules:V.value,"label-width":"100px",inline:!1},{default:a(()=>[e(g,{gutter:20},{default:a(()=>[e(p,{span:3},{default:a(()=>[e(s,{label:"注册开关"},{default:a(()=>[e(m,{modelValue:l.value.registerOffOrOn,"onUpdate:modelValue":t[0]||(t[0]=o=>l.value.registerOffOrOn=o),"active-value":!0,"inactive-value":!1},null,8,["modelValue"])]),_:1})]),_:1}),e(p,{span:6},{default:a(()=>[e(s,{label:"注册审核"},{default:a(()=>[e(m,{modelValue:l.value.registerExamineOffOrOn,"onUpdate:modelValue":t[1]||(t[1]=o=>l.value.registerExamineOffOrOn=o),"active-value":!0,"inactive-value":!1},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(s,{label:"网站名称",prop:"webName"},{default:a(()=>[e(d,{modelValue:l.value.webName,"onUpdate:modelValue":t[2]||(t[2]=o=>l.value.webName=o),style:{width:"18rem"}},null,8,["modelValue"])]),_:1}),e(s,{label:"keyWords"},{default:a(()=>[e(d,{modelValue:l.value.keyWords,"onUpdate:modelValue":t[3]||(t[3]=o=>l.value.keyWords=o),style:{width:"18rem"}},null,8,["modelValue"])]),_:1}),e(s,{label:"供应商网址",prop:"supplierURL"},{default:a(()=>[e(d,{modelValue:l.value.supplierURL,"onUpdate:modelValue":t[4]||(t[4]=o=>l.value.supplierURL=o),style:{width:"18rem"}},null,8,["modelValue"])]),_:1}),e(s,null,{default:a(()=>[e(k,{type:"primary",onClick:y},{default:a(()=>[D(" 确认 ")]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})])),[[R,n.value]])}}}),h=q(B,[["__scopeId","data-v-c8d9adf5"]]);export{h as default};
