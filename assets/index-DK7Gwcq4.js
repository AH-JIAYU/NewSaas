
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{a as j}from"./survey_vipGroup-kq-BchGG.js";import{o as L}from"./apiLoading-PVAPvZyH.js";import{d as B,aN as E,r as m,a3 as S,a as i,al as q,o as h,e as v,w as a,C as F,f as t,g as _,am as M,i as o,D as p,G as Q,P as R}from"./index-QP0aXqDP.js";const T={class:"dialog-footer"},U=B({__name:"index",emits:["fetch-data"],setup(A,{expose:y,emit:H}){const{pagination:n,getParams:C,onSizeChange:w,onCurrentChange:z}=E(),s=m(!1);m("");const g=m([]),f=S({memberGroupId:""});async function x(e){f.memberGroupId=e.memberGroupId,await u(),s.value=!0}async function u(){const e={...C(),...f},{data:r}=await L(j.getProjectList(e));g.value=r.getMemberGroupProjectInfoList,n.value.total=r.total}function P(e){w(e).then(()=>u())}function D(e=1){z(e).then(()=>u())}function d(){s.value=!1}return y({showEdit:x}),(e,r)=>{const c=i("el-table-column"),G=i("el-empty"),I=i("el-table"),b=i("el-button"),V=i("ElPagination"),k=i("el-dialog"),N=q("loading");return h(),v(k,{modelValue:o(s),"onUpdate:modelValue":r[0]||(r[0]=l=>Q(s)?s.value=l:null),title:"承接项目",onClose:d},{footer:a(()=>[F("div",T,[t(b,{onClick:d},{default:a(()=>[_(" 取消 ")]),_:1}),t(b,{type:"primary",onClick:d},{default:a(()=>[_(" 确定 ")]),_:1})])]),default:a(()=>[M((h(),v(I,{border:"",data:o(g),stripe:""},{empty:a(()=>[t(G,{class:"vab-data-empty",description:"暂无数据"})]),default:a(()=>[t(c,{type:"index",align:"center",label:"序号",width:"55"}),t(c,{align:"center",prop:"projectId","show-overflow-tooltip":"",label:"项目编码"}),t(c,{align:"center",prop:"projectName","show-overflow-tooltip":"",label:"项目名称"}),t(c,{align:"center",prop:"c","show-overflow-tooltip":"",label:"参与/完成/配额/限量"},{default:a(({row:l})=>[_(p(l.participation||0)+"/ "+p(l.complete||0)+"/ "+p(l.num||0)+"/ "+p(l.limitedQuantity||0),1)]),_:1})]),_:1},8,["data"])),[[N,e.listLoading]]),t(V,{"current-page":o(n).page,total:o(n).total,"page-size":o(n).size,"page-sizes":o(n).sizes,layout:o(n).layout,"hide-on-single-page":!1,class:"pagination",background:"",onSizeChange:P,onCurrentChange:D},null,8,["current-page","total","page-size","page-sizes","layout"])]),_:1},8,["modelValue"])}}}),W=R(U,[["__scopeId","data-v-7c4f298c"]]);export{W as default};
