
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{a as K}from"./department-CA16kA5F.js";import{u as O}from"./department-BfofyB2f.js";import{u as Q}from"./configuration_manager-Je6mLoC3.js";import{u as W}from"./position_manage-ClJTwc64.js";import{u as X}from"./group_manage-CDJa54X9.js";import{d as Y,r as f,k as Z,a as i,o as d,e as m,w as e,f as a,g as n,H as u,b as w,t as h,j as x,F as y,aG as $,aH as ee,s as k,R as ae}from"./index-DSaDGYUV.js";import"./position_manage-DaWuxejt.js";import"./group_manage-B0wmDMnW.js";const E=v=>($("data-v-ed412912"),v=v(),ee(),v),te=E(()=>k("div",{class:"card-header"},[k("div",{class:"leftTitle"},"基本信息")],-1)),le=E(()=>k("div",{class:"card-header"},[k("span",null,"员工")],-1)),oe=Y({__name:"index",emits:["fetch-data"],setup(v,{expose:F,emit:G}){const I=O(),D=f(),H=Q(),T=f([]),S=W(),V=f(),N=X(),L=f(),C=[{label:"完成计提",value:1},{label:"审核计提",value:2},{label:"收款计提",value:3}],j=G,b=f(!1),o=f();async function z(M){const g={id:M.id},{data:s,status:c}=await K.detail(g);o.value=s,b.value=!0}function P(){j("fetch-data"),o.value={},b.value=!1}return Z(async()=>{D.value=await(I==null?void 0:I.getDepartment()),T.value=await H.getStaff(),V.value=await(S==null?void 0:S.getPositionManage())||[],L.value=await(N==null?void 0:N.getGroupManage())||[]}),F({showEdit:z}),(M,g)=>{const s=i("el-text"),c=i("el-form-item"),p=i("el-col"),R=i("el-row"),B=i("el-card"),_=i("el-table-column"),U=i("el-empty"),q=i("el-table"),A=i("el-form"),J=i("el-drawer");return d(),m(J,{modelValue:b.value,"onUpdate:modelValue":g[0]||(g[0]=t=>b.value=t),"append-to-body":"","close-on-click-modal":!1,"destroy-on-close":"",draggable:"",size:"60%",title:"详情",onClose:P},{default:e(()=>[a(A,{"label-width":"100px","label-position":"right"},{default:e(()=>[a(B,{class:"box-card"},{header:e(()=>[te]),default:e(()=>[a(R,{gutter:24},{default:e(()=>[a(p,{span:6},{default:e(()=>[a(c,{label:"部门ID:"},{default:e(()=>[a(s,{class:"mx-1"},{default:e(()=>{var t;return[n(u((t=o.value)!=null&&t.id?o.value.id:"-"),1)]}),_:1})]),_:1})]),_:1}),a(p,{span:6},{default:e(()=>[a(c,{label:"部门名称:"},{default:e(()=>[a(s,{class:"mx-1"},{default:e(()=>{var t;return[n(u((t=o.value)!=null&&t.name?o.value.name:"-"),1)]}),_:1})]),_:1})]),_:1}),a(p,{span:6},{default:e(()=>[a(c,{label:"部门主管:"},{default:e(()=>[(d(!0),w(y,null,h(T.value,t=>(d(),m(s,{key:t.id},{default:e(()=>{var l;return[t.id===((l=o.value)==null?void 0:l.director)?(d(),m(s,{key:0},{default:e(()=>[n(u(t.name),1)]),_:2},1024)):x("",!0)]}),_:2},1024))),128))]),_:1})]),_:1}),a(p,{span:6},{default:e(()=>[a(c,{label:"员工数:"},{default:e(()=>[a(s,{class:"mx-1"},{default:e(()=>{var t,l,r;return[n(u((l=(t=o.value)==null?void 0:t.result)!=null&&l.length?(r=o.value.result)==null?void 0:r.length:"-"),1)]}),_:1})]),_:1})]),_:1}),a(p,{span:6},{default:e(()=>[a(c,{label:"状态:"},{default:e(()=>[a(s,{class:"mx-1"},{default:e(()=>{var t;return[n(u(((t=o.value)==null?void 0:t.commissionStatus)===1?"启用":"禁用"),1)]}),_:1})]),_:1})]),_:1}),a(p,{span:6},{default:e(()=>[a(c,{label:"创建时间:"},{default:e(()=>[a(s,{class:"mx-1"},{default:e(()=>{var t;return[n(u((t=o.value)!=null&&t.createTime?o.value.createTime:"-"),1)]}),_:1})]),_:1})]),_:1}),a(p,{span:6},{default:e(()=>[a(c,{label:"部门提成:"},{default:e(()=>[a(s,{class:"mx-1"},{default:e(()=>{var t;return[n(u((t=o.value)!=null&&t.commission?o.value.commission:"-"),1)]}),_:1})]),_:1})]),_:1}),a(p,{span:6},{default:e(()=>[a(c,{label:"提成发放规则:"},{default:e(()=>[a(s,{class:"mx-1"},{default:e(()=>{var t,l;return[n(u(C[((t=o.value)==null?void 0:t.commissionType)-1]?C[((l=o.value)==null?void 0:l.commissionType)-1].label:"-"),1)]}),_:1})]),_:1})]),_:1}),a(p,{span:6},{default:e(()=>[a(c,{label:"备注:"},{default:e(()=>[a(s,{class:"mx-1"},{default:e(()=>{var t;return[n(u((t=o.value)!=null&&t.remark?o.value.remark:"-"),1)]}),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(B,{class:"box-card"},{header:e(()=>[le]),default:e(()=>{var t;return[a(q,{data:(t=o.value)==null?void 0:t.result,border:""},{empty:e(()=>[a(U,{description:"暂无数据"})]),default:e(()=>[a(_,{align:"center",type:"index",label:"序号",width:"80"}),a(_,{align:"center","show-overflow-tooltip":"",prop:"id",label:"员工ID"}),a(_,{align:"center","show-overflow-tooltip":"",prop:"userName",label:"用户名"},{default:e(({row:l})=>[n(u(l.userName?l.userName:"-"),1)]),_:1}),a(_,{align:"center","show-overflow-tooltip":"",prop:"name",label:"姓名"},{default:e(({row:l})=>[n(u(l.name?l.name:"-"),1)]),_:1}),a(_,{align:"center","show-overflow-tooltip":"",prop:"phoneNumber",label:"电话号码"},{default:e(({row:l})=>[n(u(l.phoneNumber?l.phoneNumber:"-"),1)]),_:1}),a(_,{align:"center","show-overflow-tooltip":"",prop:"email",label:"电子邮箱"},{default:e(({row:l})=>[n(u(l.email?l.email:"-"),1)]),_:1}),a(_,{align:"center","show-overflow-tooltip":"",prop:"departmentId",label:"部门"},{default:e(({row:l})=>[(d(!0),w(y,null,h(D.value,r=>(d(),m(s,{key:r.id},{default:e(()=>[r.id===l.departmentId?(d(),m(s,{key:0},{default:e(()=>[n(u(r.name),1)]),_:2},1024)):x("",!0)]),_:2},1024))),128))]),_:1}),a(_,{align:"center","show-overflow-tooltip":"",prop:"personId",label:"职位"},{default:e(({row:l})=>[(d(!0),w(y,null,h(V.value,r=>(d(),m(s,null,{default:e(()=>[l.positionId===r.id?(d(),m(s,{key:0},{default:e(()=>[n(u(r.name?r.name:"-"),1)]),_:2},1024)):x("",!0)]),_:2},1024))),256))]),_:1}),a(_,{align:"center","show-overflow-tooltip":"",prop:"groupId",label:"小组"},{default:e(({row:l})=>[(d(!0),w(y,null,h(L.value,r=>(d(),m(s,null,{default:e(()=>[l.groupId===r.id?(d(),m(s,{key:0},{default:e(()=>[n(u(r.name?r.name:"-"),1)]),_:2},1024)):x("",!0)]),_:2},1024))),256))]),_:1})]),_:1},8,["data"])]}),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),_e=ae(oe,[["__scopeId","data-v-ed412912"]]);export{_e as default};
