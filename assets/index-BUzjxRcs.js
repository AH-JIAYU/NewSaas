
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{a as N}from"./tenantDictionary-DCMj_l52.js";import{d as T,m as E,u as R,c as A,r as _,l as F,a as m,o as L,e as H,w as l,f as e,g as U,i as d,E as k,aH as J,aI as O,q as p,N as j}from"./index-CyRDEfVX.js";const x=c=>(J("data-v-f18548f5"),c=c(),O(),c),G=x(()=>p("div",{class:"card-header"},[p("div",{class:"leftTitle"},"基本信息")],-1)),K=x(()=>p("div",{class:"card-header"},[p("div",{class:"leftTitle"},"角色信息")],-1)),P=x(()=>p("div",{class:"card-header"},[p("div",{class:"leftTitle"},[U("小组信息"),p("span",{style:{"margin-left":"20px","font-size":"14px"}},"负责人:迪迦")])],-1)),Q=T({__name:"index",props:E({catalogueId:{default:""},parentId:{default:""},id:{default:""},tree:{},dataList:{},row:{},level:{default:1}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:E(["success"],["update:modelValue"]),setup(c,{emit:C}){const r=c,I=C,b=R(c,"modelValue"),B=A(()=>r.id===""?"新增用户":"编辑用户"),i=_(),q=_([]),a=_({id:r.id,parentId:r.parentId,catalogueId:r.catalogueId,englishName:"",chineseName:"",code:"",remark:"",level:r.level}),D=_({userName:[{required:!0,message:"请输入用户名"}],name:[{required:!0,message:"请输入姓名"}],englishName:[{required:!0,message:"请输入字典项英文名称"}],code:[{required:!0,message:"请选择职位"}]});function M(){a.value.id===""?i.value&&i.value.validate(f=>{f&&N.itemcreate(a.value).then(()=>{k.success({message:"新增成功",center:!0}),I("success"),V()})}):i.value&&i.value.validate(f=>{f&&N.itemedit(a.value).then(()=>{k.success({message:"编辑成功",center:!0}),I("success"),V()})})}function V(){b.value=!1}const w=f=>f.reduce((o,u)=>Array.isArray(u)?o.concat(w(u)):o.concat(u),[]);return F(()=>{r.id!==""&&r.row&&(a.value=JSON.parse(r.row)),q.value=w(r.dataList)}),(f,o)=>{const u=m("el-input"),s=m("el-form-item"),n=m("el-col"),v=m("el-row"),g=m("el-card"),S=m("ElForm"),y=m("ElButton"),z=m("ElDrawer");return L(),H(z,{modelValue:b.value,"onUpdate:modelValue":o[18]||(o[18]=t=>b.value=t),title:d(B),size:"60%","close-on-click-modal":!1,"append-to-body":"","destroy-on-close":"",onClosed:V},{footer:l(()=>[e(y,{size:"large",onClick:V},{default:l(()=>[U(" 取消 ")]),_:1}),e(y,{type:"primary",size:"large",onClick:M},{default:l(()=>[U(" 确定 ")]),_:1})]),default:l(()=>[e(S,{ref_key:"formRef",ref:i,model:d(a),rules:d(D),"label-width":"100px"},{default:l(()=>[e(g,{class:"box-card"},{header:l(()=>[G]),default:l(()=>[e(v,{gutter:24},{default:l(()=>[e(n,{span:8},{default:l(()=>[e(s,{label:"用户名:",prop:"userName"},{default:l(()=>[e(u,{modelValue:d(a).code,"onUpdate:modelValue":o[0]||(o[0]=t=>d(a).code=t),placeholder:"",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{span:8},{default:l(()=>[e(s,{label:"姓名:",prop:"name"},{default:l(()=>[e(u,{modelValue:d(a).code,"onUpdate:modelValue":o[1]||(o[1]=t=>d(a).code=t),placeholder:"",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{span:8},{default:l(()=>[e(s,{label:"手机号:"},{default:l(()=>[e(u,{modelValue:d(a).code,"onUpdate:modelValue":o[2]||(o[2]=t=>d(a).code=t),placeholder:"",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{span:8},{default:l(()=>[e(s,{label:"邮箱:"},{default:l(()=>[e(u,{modelValue:d(a).code,"onUpdate:modelValue":o[3]||(o[3]=t=>d(a).code=t),placeholder:"",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{span:8},{default:l(()=>[e(s,{label:"部门:"},{default:l(()=>[e(u,{modelValue:d(a).code,"onUpdate:modelValue":o[4]||(o[4]=t=>d(a).code=t),placeholder:"",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{span:8},{default:l(()=>[e(s,{label:"职位:",prop:"code"},{default:l(()=>[e(u,{modelValue:d(a).code,"onUpdate:modelValue":o[5]||(o[5]=t=>d(a).code=t),placeholder:"",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(g,{class:"box-card"},{header:l(()=>[K]),default:l(()=>[e(v,{gutter:24},{default:l(()=>[e(n,{span:8},{default:l(()=>[e(s,{label:"用户名:"},{default:l(()=>[e(u,{modelValue:d(a).code,"onUpdate:modelValue":o[6]||(o[6]=t=>d(a).code=t),placeholder:"",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{span:8},{default:l(()=>[e(s,{label:"姓名:"},{default:l(()=>[e(u,{modelValue:d(a).code,"onUpdate:modelValue":o[7]||(o[7]=t=>d(a).code=t),placeholder:"",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{span:8},{default:l(()=>[e(s,{label:"手机号:"},{default:l(()=>[e(u,{modelValue:d(a).code,"onUpdate:modelValue":o[8]||(o[8]=t=>d(a).code=t),placeholder:"",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{span:8},{default:l(()=>[e(s,{label:"邮箱:"},{default:l(()=>[e(u,{modelValue:d(a).code,"onUpdate:modelValue":o[9]||(o[9]=t=>d(a).code=t),placeholder:"",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{span:8},{default:l(()=>[e(s,{label:"部门:"},{default:l(()=>[e(u,{modelValue:d(a).code,"onUpdate:modelValue":o[10]||(o[10]=t=>d(a).code=t),placeholder:"",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{span:8},{default:l(()=>[e(s,{label:"职位:"},{default:l(()=>[e(u,{modelValue:d(a).code,"onUpdate:modelValue":o[11]||(o[11]=t=>d(a).code=t),placeholder:"",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(g,{class:"box-card"},{header:l(()=>[P]),default:l(()=>[e(v,{gutter:24},{default:l(()=>[e(n,{span:8},{default:l(()=>[e(s,{label:"用户名:"},{default:l(()=>[e(u,{modelValue:d(a).code,"onUpdate:modelValue":o[12]||(o[12]=t=>d(a).code=t),placeholder:"",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{span:8},{default:l(()=>[e(s,{label:"姓名:"},{default:l(()=>[e(u,{modelValue:d(a).code,"onUpdate:modelValue":o[13]||(o[13]=t=>d(a).code=t),placeholder:"",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{span:8},{default:l(()=>[e(s,{label:"手机号:"},{default:l(()=>[e(u,{modelValue:d(a).code,"onUpdate:modelValue":o[14]||(o[14]=t=>d(a).code=t),placeholder:"",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{span:8},{default:l(()=>[e(s,{label:"邮箱:"},{default:l(()=>[e(u,{modelValue:d(a).code,"onUpdate:modelValue":o[15]||(o[15]=t=>d(a).code=t),placeholder:"",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{span:8},{default:l(()=>[e(s,{label:"部门:"},{default:l(()=>[e(u,{modelValue:d(a).code,"onUpdate:modelValue":o[16]||(o[16]=t=>d(a).code=t),placeholder:"",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{span:8},{default:l(()=>[e(s,{label:"职位:"},{default:l(()=>[e(u,{modelValue:d(a).code,"onUpdate:modelValue":o[17]||(o[17]=t=>d(a).code=t),placeholder:"",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])}}}),Y=j(Q,[["__scopeId","data-v-f18548f5"]]);export{Y as default};
