
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{k as u,d as E,aN as x,r as F,n as G,x as U,B as J,a as f,q as K,s as _,o as c,b as i,f as s,w as n,y as e,ao as p,z as o,g as v,j as w,i as C,aM as k,N as W,bq as L,br as S,bs as V,an as X,aH as Y,aI as Z,L as $}from"./index-CqImPfqe.js";const ee={list:l=>u.get("survey/data/list",{params:l,baseURL:"/mock/"}),detail:l=>u.get("survey/data/detail",{params:{id:l},baseURL:"/mock/"}),dataList:l=>u.post("member-dataCenter/getMemberDataCenter",l),create:l=>u.post("survey/data/create",l,{baseURL:"/mock/"}),edit:l=>u.post("survey/data/edit",l,{baseURL:"/mock/"}),delete:l=>u.post("survey/data/delete",{id:l},{baseURL:"/mock/"})},h=l=>(Y("data-v-7a217fa6"),l=l(),Z(),l),ae={class:"showDataRow",gutter:24},te={class:"showDataCol"},se={class:"showDataP"},oe={class:"showDataP"},ne={class:"showDataP"},le={class:"showDataCount"},ce={class:"showDataSpanLeft number-font"},ie={key:0,class:"showDataSpanRight"},re=h(()=>e("span",{class:"dd"},null,-1)),de={class:"participate"},_e={class:"number-font"},pe={class:"showDataCol"},me={class:"showDataP"},he={class:"showDataP"},ue={class:"showDataP"},fe={class:"showDataCount"},ve={class:"showDataSpanLeft number-font"},be={key:0,class:"showDataSpanRight"},ge=h(()=>e("span",{class:"dd"},null,-1)),ye={class:"participate"},De={class:"number-font"},we={class:"showDataCol"},Ce={class:"showDataP"},ke={class:"showDataP"},Le={class:"showDataP"},Se={class:"showDataCount"},Ve={class:"showDataSpanLeft number-font"},Pe={key:0,class:"showDataSpanRight"},Ie=h(()=>e("span",{class:"dd"},null,-1)),Ne={class:"participate"},Oe={class:"number-font"},Re={class:"showDataCol"},Qe=h(()=>e("p",{class:"showDataP"},"待审金额",-1)),Be={class:"showDataCount"},Me={class:"showDataSpanLeft number-font"},Ue={class:"showDataCol"},ze=h(()=>e("p",{class:"showDataP"},"可用余额",-1)),He={class:"showDataCount"},qe={class:"showDataSpanLeft number-font"},Ae={class:"ranking"},Te={class:"rankingCol"},je=h(()=>e("p",{class:"rankingColP"},[e("span",{class:"rankingColSpan"}),v("完成排行榜")],-1)),Ee={class:"center-image"},xe={key:0,src:L},Fe={key:1,src:S},Ge={key:2,src:V},Je={key:3,class:"number-font font-c"},Ke={class:"font-c"},We={class:"font-c"},Xe={class:"number-font font-c"},Ye={class:"rankingCol"},Ze=h(()=>e("p",{class:"rankingColP"},[e("span",{class:"rankingColSpan"}),v("退款排行榜")],-1)),$e={class:"center-image"},ea={key:0,src:L},aa={key:1,src:S},ta={key:2,src:V},sa={key:3,class:"number-font font-c"},oa={class:"font-c"},na={class:"font-c"},la={class:"number-font font-c"},ca={class:"number-font font-c"},ia={class:"rankingCol"},ra=h(()=>e("p",{class:"rankingColP"},[e("span",{class:"rankingColSpan"}),v("业绩排行榜")],-1)),da={class:"center-image"},_a={key:0,src:L},pa={key:1,src:S},ma={key:2,src:V},ha={key:3,class:"number-font font-c"},ua={class:"font-c"},fa={class:"font-c"},va={class:"number-font font-c"},ba=E({name:"surveydata",__name:"list",setup(l){const{pagination:z,getParams:ga}=x(),t=F({loading:!1,tableAutoHeight:!1,formMode:"router",formModeProps:{visible:!1,id:""},search:{type:"day"},batch:{enable:!1,selectionDataList:[]},memberDataCenterCompletedVOList:[],memberDataCenterRefundVOList:[],memberDataCenterPriceVOList:[],dataScreening:{participationVolume:"",completedQuantity:"",turnover:"",settlementRatio:"",pendingBalance:"",availableBalance:""}}),H=()=>{b()};G(()=>{b(),t.value.formMode==="router"&&U.on("get-data-list",()=>{b()})}),J(()=>{t.value.formMode==="router"&&U.off("get-data-list")});function b(){try{t.value.loading=!0;const g={clickTime:t.value.search.type};ee.dataList(g).then(m=>{t.value.loading=!1,t.value.memberDataCenterCompletedVOList=m.data.memberDataCenterCompletedVOList.filter(d=>d.completedQuantity&&d.completedQuantity!=0),t.value.memberDataCenterRefundVOList=m.data.memberDataCenterRefundVOList.filter(d=>d.completedQuantity&&d.completedQuantity!=0),t.value.memberDataCenterPriceVOList=m.data.memberDataCenterPriceVOList.filter(d=>d.price&&d.price!=0),t.value.dataScreening=m.data.memberDataCenterOverallOverviewVOList,z.value.total=m.data.total})}catch{}finally{t.value.loading=!1}}return(g,m)=>{const d=f("el-radio-button"),q=f("el-radio-group"),A=f("el-row"),r=f("el-table-column"),y=f("el-empty"),D=f("el-table"),T=X,j=K("loading");return _((c(),i("div",{class:W({"absolute-container":t.value.tableAutoHeight})},[s(T,null,{default:n(()=>{var P,I,N,O,R,Q,B,M;return[s(A,{style:{margin:"0 0 1rem 0"}},{default:n(()=>[s(q,{modelValue:t.value.search.type,"onUpdate:modelValue":m[0]||(m[0]=a=>t.value.search.type=a),onChange:H},{default:n(()=>[s(d,{label:"日",value:"day"}),s(d,{label:"月",value:"month"}),s(d,{label:"年",value:"year"})]),_:1},8,["modelValue"])]),_:1}),e("div",ae,[e("div",te,[_(e("p",se,"今日参与量",512),[[p,t.value.search.type==="day"]]),_(e("p",oe,"当月参与量",512),[[p,t.value.search.type==="month"]]),_(e("p",ne,"年度参与量",512),[[p,t.value.search.type==="year"]]),e("div",le,[e("span",ce,o(((P=t.value.dataScreening)==null?void 0:P.participationVolume)||0),1),t.value.search.type!=="year"?(c(),i("span",ie,[re,e("span",de,[v(o(t.value.search.type==="month"?"上月":"昨日")+"：",1),e("span",_e,o(((I=t.value.dataScreening)==null?void 0:I.participationVolumeDifference)||0),1)])])):w("",!0)])]),e("div",pe,[_(e("p",me,"今日完成量",512),[[p,t.value.search.type==="day"]]),_(e("p",he,"当月完成量",512),[[p,t.value.search.type==="month"]]),_(e("p",ue,"年度完成量",512),[[p,t.value.search.type==="year"]]),e("div",fe,[e("span",ve,o(((N=t.value.dataScreening)==null?void 0:N.completedQuantity)||0),1),t.value.search.type!=="year"?(c(),i("span",be,[ge,e("span",ye,[v(o(t.value.search.type==="month"?"上月":"昨日")+"：",1),e("span",De,o(((O=t.value.dataScreening)==null?void 0:O.completedQuantityDifference)||0),1)])])):w("",!0)])]),e("div",we,[_(e("p",Ce,"今日营业额",512),[[p,t.value.search.type==="day"]]),_(e("p",ke,"当月营业额",512),[[p,t.value.search.type==="month"]]),_(e("p",Le,"年度营业额",512),[[p,t.value.search.type==="year"]]),e("div",Se,[e("span",Ve,o(((R=t.value.dataScreening)==null?void 0:R.turnover)||0),1),t.value.search.type!=="year"?(c(),i("span",Pe,[Ie,e("span",Ne,[v(o(t.value.search.type==="month"?"上月":"昨日")+"：",1),e("span",Oe,o(((Q=t.value.dataScreening)==null?void 0:Q.turnoverDifference)||0),1)])])):w("",!0)])]),e("div",Re,[Qe,e("div",Be,[e("span",Me,o(((B=t.value.dataScreening)==null?void 0:B.pendingBalance)||0),1)])]),e("div",Ue,[ze,e("div",He,[e("span",qe,o(((M=t.value.dataScreening)==null?void 0:M.availableBalance)||0),1)])])]),e("div",Ae,[e("div",Te,[je,s(D,{data:t.value.memberDataCenterCompletedVOList,class:"tabless",style:{"--el-table-border-color":"none"}},{empty:n(()=>[s(y,{image:C(k),"image-size":300},null,8,["image"])]),default:n(()=>[s(r,{align:"center",type:"index",width:"60",label:"序号"},{default:n(({$index:a})=>[e("div",Ee,[a==0?(c(),i("img",xe)):a==1?(c(),i("img",Fe)):a==2?(c(),i("img",Ge)):(c(),i("span",Je,o(a+1),1))])]),_:1}),s(r,{"show-overflow-tooltip":"",align:"left",prop:"memberId",label:"会员ID"},{default:n(({row:a})=>[e("span",Ke,o(a.memberId?a.memberId:"-"),1)]),_:1}),s(r,{"show-overflow-tooltip":"",align:"left",prop:"memberName",label:"会员名称"},{default:n(({row:a})=>[e("span",We,o(a.memberName?a.memberName:"-"),1)]),_:1}),s(r,{"show-overflow-tooltip":"",align:"left",prop:"completedQuantity",label:"完成数量"},{default:n(({row:a})=>[e("span",Xe,o(a.completedQuantity?a.completedQuantity:"-"),1)]),_:1})]),_:1},8,["data"])]),e("div",Ye,[Ze,s(D,{data:t.value.memberDataCenterRefundVOList,style:{"--el-table-border-color":"none"}},{empty:n(()=>[s(y,{image:C(k),"image-size":300},null,8,["image"])]),default:n(()=>[s(r,{align:"center",type:"index",width:"60",label:"序号"},{default:n(({$index:a})=>[e("div",$e,[a==0?(c(),i("img",ea)):a==1?(c(),i("img",aa)):a==2?(c(),i("img",ta)):(c(),i("span",sa,o(a+1),1))])]),_:1}),s(r,{"show-overflow-tooltip":"",align:"left",prop:"memberId",label:"会员ID"},{default:n(({row:a})=>[e("span",oa,o(a.memberId?a.memberId:"-"),1)]),_:1}),s(r,{"show-overflow-tooltip":"",align:"left",prop:"memberName",label:"会员名称"},{default:n(({row:a})=>[e("span",na,o(a.memberName?a.memberName:"-"),1)]),_:1}),s(r,{"show-overflow-tooltip":"",align:"left",prop:"completedQuantity",label:"退款数"},{default:n(({row:a})=>[e("span",la,o(a.completedQuantity?a.completedQuantity:"-"),1)]),_:1}),s(r,{"show-overflow-tooltip":"",align:"left",prop:"refund",label:"退款金额"},{default:n(({row:a})=>[e("span",ca,o(a.refund?a.refund:0),1)]),_:1})]),_:1},8,["data"])]),e("div",ia,[ra,s(D,{data:t.value.memberDataCenterPriceVOList,style:{"--el-table-border-color":"none"}},{empty:n(()=>[s(y,{image:C(k),"image-size":300},null,8,["image"])]),default:n(()=>[s(r,{align:"center",type:"index",width:"60",label:"序号"},{default:n(({$index:a})=>[e("div",da,[a==0?(c(),i("img",_a)):a==1?(c(),i("img",pa)):a==2?(c(),i("img",ma)):(c(),i("span",ha,o(a+1),1))])]),_:1}),s(r,{"show-overflow-tooltip":"",align:"left",prop:"memberId",label:"会员ID"},{default:n(({row:a})=>[e("span",ua,o(a.memberId?a.memberId:"-"),1)]),_:1}),s(r,{"show-overflow-tooltip":"",align:"left",prop:"memberName",label:"会员名称"},{default:n(({row:a})=>[e("span",fa,o(a.memberName?a.memberName:"-"),1)]),_:1}),s(r,{"show-overflow-tooltip":"",align:"left",prop:"price",label:"业绩"},{default:n(({row:a})=>[e("span",va,o(a.price?a.price:0),1)]),_:1})]),_:1},8,["data"])])])]}),_:1})],2)),[[j,t.value.loading]])}}}),Da=$(ba,[["__scopeId","data-v-7a217fa6"]]);export{Da as default};
