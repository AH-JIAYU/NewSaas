
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{k as U,d as W,r as c,D,ak as g,a as s,al as A,am as B,i as o,o as h,b as N,f as e,w as t,l as z,g as m,p as G,_ as $}from"./index-BGuSShNg.js";import{C as q}from"./clipboard-Iz46j3VN.js";const x={list:()=>U.post("member-config/get/getMemberConfig"),create:b=>U.post("member-config/insert/insertMemberConfig",b),edit:b=>U.post("member-config/update/updateMemberConfig",b)},Q=W({name:"SurveySettingList",__name:"list",setup(b){const y=c("基本设置"),i=c(!1);({VITE_APP_SETTING:"false",VITE_APP_TITLE:"Fantastic-admin 专业版",VITE_APP_API_BASEURL:"http://47.96.98.102:9100",VITE_APP_DEBUG_TOOL:"",VITE_BUILD_MOCK:"false",VITE_BUILD_SOURCEMAP:"false",VITE_BUILD_COMPRESS:"gzip,brotli",VITE_BUILD_ARCHIVE:"",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1,LEGACY:!1}).VITE_APP_WEBSITE;const p=c(),l=c({webName:"",keyWords:"",memberURL:"",registerOffOrOn:!0,registerExamineOffOrOn:!1,priceProportion:null,withdrawalMethod:1,taxPointsProportion:null}),L=c({webName:[{required:!0,message:"请输入网站名称",trigger:"blur"}],memberURL:[{required:!0,message:"请输入供应商网址",trigger:"blur"}]});D(()=>{P()});async function P(){i.value=!0;const{data:u}=await x.list();l.value=u||l.value,i.value=!1}const k=new q(".btn");k.on("success",function(u){g.success({message:"复制成功",center:!0}),u.clearSelection()}),k.on("error",function(u){g.error({message:"复制失败",center:!0})});function R(){l.value.id?p.value&&p.value.validate(u=>{if(u){let{id:a,keyWords:V,registerExamineOffOrOn:n,registerOffOrOn:v,memberURL:O,webName:d,priceProportion:E,withdrawalMethod:f,taxPointsProportion:_}=l.value;const w={id:a,keyWords:V,registerExamineOffOrOn:n,registerOffOrOn:v,memberURL:O,webName:d,priceProportion:E,withdrawalMethod:f,taxPointsProportion:_};i.value=!0,x.edit(w).then(()=>{i.value=!1,P(),g.success({message:"修改成功",center:!0})})}}):p.value&&p.value.validate(u=>{u&&(i.value=!0,console.log("form.value",l.value),x.create(l.value).then(()=>{i.value=!1,P(),g.success({message:"新增成功",center:!0})}))})}return(u,a)=>{const V=s("el-switch"),n=s("el-form-item"),v=s("el-col"),O=s("el-row"),d=s("el-input"),E=s("el-text"),f=s("el-button"),_=s("el-tab-pane"),w=s("el-radio"),T=s("el-radio-group"),I=s("el-form"),M=s("el-tabs"),C=G,S=A("loading");return B((h(),N("div",null,[e(C,null,{default:t(()=>[e(M,{modelValue:o(y),"onUpdate:modelValue":a[12]||(a[12]=r=>z(y)?y.value=r:null)},{default:t(()=>[e(I,{ref_key:"formRef",ref:p,model:o(l),rules:o(L),"label-position":"right","label-width":"130px",style:{width:"500px"}},{default:t(()=>[e(_,{label:"基本设置",name:"基本设置"},{default:t(()=>[e(O,{gutter:20},{default:t(()=>[e(v,{span:7},{default:t(()=>[e(n,{label:"注册开关"},{default:t(()=>[e(V,{modelValue:o(l).registerOffOrOn,"onUpdate:modelValue":a[0]||(a[0]=r=>o(l).registerOffOrOn=r),"active-text":"开启","inline-prompt":"","inactive-text":"关闭","active-value":!0,"inactive-value":!1},null,8,["modelValue"])]),_:1})]),_:1}),e(v,{span:6},{default:t(()=>[e(n,{label:"注册审核"},{default:t(()=>[e(V,{modelValue:o(l).registerExamineOffOrOn,"onUpdate:modelValue":a[1]||(a[1]=r=>o(l).registerExamineOffOrOn=r),"active-text":"开启","inline-prompt":"","inactive-text":"关闭","active-value":!0,"inactive-value":!1},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(n,{prop:"webName",label:"网站名称"},{default:t(()=>[e(d,{modelValue:o(l).webName,"onUpdate:modelValue":a[2]||(a[2]=r=>o(l).webName=r),style:{width:"18rem"}},null,8,["modelValue"])]),_:1}),e(n,{label:"keyWords"},{default:t(()=>[e(d,{modelValue:o(l).keyWords,"onUpdate:modelValue":a[3]||(a[3]=r=>o(l).keyWords=r),style:{width:"18rem"}},null,8,["modelValue"])]),_:1}),e(n,{style:{width:"33rem"},label:"会员网址",prop:"memberURL"},{default:t(()=>[e(d,{modelValue:o(l).memberURL,"onUpdate:modelValue":a[4]||(a[4]=r=>o(l).memberURL=r),style:{width:"8rem"}},null,8,["modelValue"]),e(E,{class:"mx-1"},{default:t(()=>[m(".front-saas-web.surveyssaas.com")]),_:1}),e(f,{class:"btn","data-clipboard-text":`${o(l).memberURL}.front-supplier-web.surveyssaas.com`,type:"primary",link:""},{default:t(()=>[m("复制")]),_:1},8,["data-clipboard-text"])]),_:1})]),_:1}),e(_,{label:"高级设置",name:"高级设置"},{default:t(()=>[e(n,{label:"默认会员价格比例",prop:"confirmPassword"},{default:t(()=>[e(d,{modelValue:o(l).priceProportion,"onUpdate:modelValue":a[5]||(a[5]=r=>o(l).priceProportion=r),modelModifiers:{number:!0},style:{width:"18rem"},placeholder:""},null,8,["modelValue"])]),_:1}),e(n,{label:"抵扣税点",prop:"confirmPassword"},{default:t(()=>[e(d,{modelValue:o(l).taxPointsProportion,"onUpdate:modelValue":a[6]||(a[6]=r=>o(l).taxPointsProportion=r),modelModifiers:{number:!0},style:{width:"18rem"},placeholder:""},null,8,["modelValue"])]),_:1}),e(n,{label:"提现方式",prop:"confirmPassword"},{default:t(()=>[e(T,{modelValue:o(l).withdrawalMethod,"onUpdate:modelValue":a[7]||(a[7]=r=>o(l).withdrawalMethod=r),class:"ml-4"},{default:t(()=>[e(w,{value:1,size:"large"},{default:t(()=>[m(" 手动提现 ")]),_:1}),e(w,{value:2,size:"large"},{default:t(()=>[m(" 生成账单 ")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(n,null,{default:t(()=>[e(f,{type:"primary",onClick:R},{default:t(()=>[m(" 确认 ")]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"]),e(I,null,{default:t(()=>[e(_,{label:"联系我们",name:"联系我们"},{default:t(()=>[e(n,{label:"电子邮箱",prop:"originalPassword"},{default:t(()=>[e(d,{style:{width:"18rem"},modelValue:o(l).keyWords,"onUpdate:modelValue":a[8]||(a[8]=r=>o(l).keyWords=r),placeholder:""},null,8,["modelValue"])]),_:1}),e(n,{label:"手机号码",prop:"newPassword"},{default:t(()=>[e(d,{style:{width:"18rem"},modelValue:o(l).keyWords,"onUpdate:modelValue":a[9]||(a[9]=r=>o(l).keyWords=r),placeholder:""},null,8,["modelValue"])]),_:1}),e(n,{label:"QQ号码",prop:"confirmPassword"},{default:t(()=>[e(d,{style:{width:"18rem"},modelValue:o(l).keyWords,"onUpdate:modelValue":a[10]||(a[10]=r=>o(l).keyWords=r),placeholder:""},null,8,["modelValue"])]),_:1}),e(n,{label:"公司地址",prop:"confirmPassword"},{default:t(()=>[e(d,{style:{width:"18rem"},modelValue:o(l).keyWords,"onUpdate:modelValue":a[11]||(a[11]=r=>o(l).keyWords=r),placeholder:""},null,8,["modelValue"])]),_:1}),e(n,null,{default:t(()=>[e(f,{type:"primary"},{default:t(()=>[m(" 确认 ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})])),[[S,o(i)]])}}}),J=$(Q,[["__scopeId","data-v-fb77c5c0"]]);export{J as default};
