
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{d as Re,am as $e,aK as He,r as m,a5 as Te,c as De,k as Ae,a as p,p as Oe,o as a,b as k,f as o,w as e,i as l,az as K,q as x,F as Z,t as oe,e as s,g as c,H as g,I as V,j as _,s as f,S as Ke,bb as Ze,E as ne,N as Ge,aM as Ye,aN as qe,ba as Qe,ap as Je,aG as We,aH as Xe,aq as R,R as et}from"./index-wKxuI42m.js";import{_ as tt}from"./index.vue_vue_type_style_index_0_lang-BK6j_trX.js";import{_ as lt}from"./index.vue_vue_type_script_setup_true_lang-DbYeaIew.js";import{_ as ot}from"./index.vue_vue_type_script_setup_true_lang-XdVJMS15.js";import nt from"./index-Cf27BXUV.js";import at from"./index-DY-IRlAV.js";import it from"./index-Bn41hzPs.js";import{a as rt}from"./survey_myProjeck-D9eR6rpm.js";import{u as st}from"./user_customer-CuaofVD7.js";import{u as ct}from"./index-DFlzhOxh.js";import{e as ut}from"./empty-bAzhJQI7.js";import"./index-fZPnoG2N.js";import"./file-CXSd6Fmq.js";import"./download-C8PHVIy1.js";import"./apiLoading-DzfYw9LC.js";import"./projectManagement-BKdxmVIJ.js";import"./survey_vipGroup-BL7S6zdQ.js";import"./survey_vipGroup-B4GZwQuf.js";import"./user_customer-CUea4Tyh.js";import"./clipboard-B2F4X3iB.js";const $=E=>(We("data-v-e75ed140"),E=E(),Xe(),E),pt=$(()=>f("div",{class:"i-grommet-icons:power-reset h-1em w-1em"},null,-1)),dt={key:0,class:"crudeTop"},mt={class:"hoverSvg"},ft={key:0,class:"fineBom"},_t=["onClick"],gt=$(()=>f("g",{id:"Frame 3475223"},[f("g",{id:"Frame","clip-path":"url(#clip0_450_48083)"},[f("path",{id:"Vector",d:"M10.7625 2.1875H0.9625C0.4375 2.1875 0 2.625 0 3.15V12.95C0 13.475 0.4375 13.9125 0.9625 13.9125H10.7625C11.2875 13.9125 11.725 13.475 11.725 12.95V3.15C11.6375 2.625 11.2875 2.1875 10.7625 2.1875ZM8.3125 10.2375H3.4125C3.15 10.2375 2.8875 9.975 2.8875 9.7125C2.8875 9.45 3.0625 9.1 3.4125 9.1H8.3125C8.575 9.1 8.8375 9.3625 8.8375 9.625C8.8375 9.975 8.6625 10.2375 8.3125 10.2375ZM8.3125 6.9125H3.4125C3.15 6.9125 2.8875 6.65 2.8875 6.3875C2.8875 6.125 3.0625 5.775 3.4125 5.775H8.3125C8.575 5.775 8.8375 6.0375 8.8375 6.3C8.8375 6.65 8.6625 6.9125 8.3125 6.9125Z",fill:"#409EFF"}),f("path",{id:"Vector_2",d:"M12.95 0H2.8C2.1875 0 1.75 0.4375 1.75 1.05V1.3125H10.85C11.8125 1.3125 12.6 2.1 12.6 3.0625V12.25H12.95C13.5625 12.25 14 11.8125 14 11.2V1.05C14 0.4375 13.5625 0 12.95 0Z",fill:"#409EFF"})])],-1)),bt=$(()=>f("defs",null,[f("clipPath",{id:"clip0_450_48083"},[f("rect",{width:"14",height:"14",fill:"white"})])],-1)),yt=[gt,bt],ht={key:0,class:"crudeTop"},kt={key:1,class:"fineBom"},Ct={class:"parameter"},vt={class:"parameter"},It=$(()=>f("span",{class:"headerIcon"},[f("svg",{class:"timeSvg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},[f("g",{id:"Time (æ¶é´)"},[f("path",{id:"Vector",d:"M7.9987 14.6666C11.6806 14.6666 14.6654 11.6818 14.6654 7.99992C14.6654 4.31802 11.6806 1.33325 7.9987 1.33325C4.3168 1.33325 1.33203 4.31802 1.33203 7.99992C1.33203 11.6818 4.3168 14.6666 7.9987 14.6666Z",fill:"#409EFF"}),f("path",{id:"Vector_2",d:"M8.00431 4L8.00391 8.00293L10.8304 10.8294",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])]),c(" 创建时间 ")],-1)),wt=Re({name:"myProjeck",__name:"list",setup(E){const{format:ae}=Ze(),{toClipboard:G}=ct(),Y=$e(),ie=st(),{pagination:I,getParams:re,onSizeChange:se,onCurrentChange:ce,onSortChange:jt}=He(),H=m([]),q=m([]),Q=m(),ue=m(""),J=m(),L=m(!0),pe=m(),W=m(),S=m(!0),d=m([]),B=m(!1),M=m("default"),U=m(!1),z=m([{prop:"project",label:"项目",sortabel:!0,checked:!0},{prop:"projectId",label:"项目ID",sortabel:!0,checked:!0},{prop:"projectName",label:"项目名称",sortabel:!0,checked:!0},{prop:"projectIdentificationOrClientName",label:"名称/标识",sortabel:!0,checked:!0},{prop:"projectIdentification",label:"名称",sortabel:!0,checked:!0},{prop:"projectIdClientName",label:"标识",sortabel:!0,checked:!0},{prop:"participation",label:"参数",sortabel:!0,checked:!0},{prop:"withoutUrl",label:"URL",sortabel:!0,checked:!0},{prop:"doMoneyPrice",label:"原价",sortabel:!0,checked:!0},{prop:"memberPrice",label:"会员价",sortabel:!0,checked:!0},{prop:"countryNameList",label:"国家",sortabel:!0,checked:!0},{prop:"ir",label:"IR/NIR",sortabel:!0,checked:!0},{prop:"memberStatus",label:"分配",sortabel:!0,checked:!0},{prop:"createTime",label:"创建时间",sortabel:!0,checked:!0}]),u=Te({projectId:"",projectName:"",projectIdentification:"",clientId:"",countryId:[],b2bOrB2cStatus:"",time:[],beginTime:"",endTime:""}),X=m([]),ee=m();function de(r){J.value.showEdit(r)}function me(r){W.value.showEdit(r)}function fe(r){ee.value.showEdit(r)}function _e(r){se(r).then(()=>w())}function y(r=1){ce(r).then(()=>w())}function ge(){Object.assign(u,{projectId:"",projectName:"",projectIdentification:"",clientId:"",countryId:[],b2bOrB2cStatus:null,time:[],beginTime:"",endTime:""}),w()}async function w(){try{L.value=!0;const r={...re(),...u};u.time&&u.time.length&&(r.beginTime=u.time[0]||"",r.endTime=u.time[1]||"");const n=await rt.list(r);Q.value=n.data.currencyType,X.value=n.data.getMemberProjectListInfoList,I.value.total=n.data.total,L.value=!1}catch{}finally{L.value=!1}}const be=r=>{G(r),ne({type:"success",message:"复制成功"})},ye=m();function he(r){ye.value=r.projectId}const ke=r=>{G(r),ne({type:"success",message:"复制成功"})},F=De(()=>r=>H.value.filter(C=>r.includes(C.id)).map(C=>C.chineseName));return Ae(async()=>{z.value.forEach(r=>{r.checked&&d.value.push(r.prop)}),H.value=await Y.getCountry(),q.value=await ie.getCustomerList(),w()}),(r,n)=>{const C=p("el-input"),v=p("el-form-item"),Ce=p("ElOption"),T=p("el-select"),D=p("el-option"),ve=p("el-date-picker"),te=Ge,A=p("ElButton"),Ie=p("ElFormItem"),we=p("el-form"),je=lt,Ne=p("ElDivider"),Ve=tt,P=p("el-button"),xe=Ye,Ee=qe,Le=p("el-row"),b=p("el-table-column"),h=p("el-text"),le=p("el-tooltip"),Se=Qe,O=p("el-link"),j=p("el-tag"),Be=p("ElSpace"),Me=p("el-empty"),Ue=p("el-table"),ze=p("ElPagination"),Fe=Je,Pe=Oe("loading");return a(),k("div",{class:Ke({"absolute-container":l(B)})},[o(Fe,null,{default:e(()=>[o(je,{"show-toggle":!1},{default:e(({fold:t,toggle:N})=>[o(we,{model:l(u).select,size:"default","label-width":"100px","inline-message":"",inline:"",class:"search-form"},{default:e(()=>[o(v,{label:""},{default:e(()=>[o(C,{modelValue:l(u).projectId,"onUpdate:modelValue":n[0]||(n[0]=i=>l(u).projectId=i),clearable:"",placeholder:"项目ID",onKeydown:n[1]||(n[1]=K(i=>y(),["enter"]))},null,8,["modelValue"])]),_:1}),o(v,{label:""},{default:e(()=>[o(C,{clearable:"",modelValue:l(u).projectName,"onUpdate:modelValue":n[2]||(n[2]=i=>l(u).projectName=i),placeholder:"项目名称",onKeydown:n[3]||(n[3]=K(i=>y(),["enter"]))},null,8,["modelValue"])]),_:1}),o(v,{label:""},{default:e(()=>[o(C,{modelValue:l(u).projectIdentification,"onUpdate:modelValue":n[4]||(n[4]=i=>l(u).projectIdentification=i),clearable:"",placeholder:"项目标识",onKeydown:n[5]||(n[5]=K(i=>y(),["enter"]))},null,8,["modelValue"])]),_:1}),x(o(v,{label:""},{default:e(()=>[o(T,{placeholder:"国家地区",modelValue:l(u).countryId,"onUpdate:modelValue":n[6]||(n[6]=i=>l(u).countryId=i),clearable:"",filterable:"",multiple:"","collapse-tags":"",onChange:n[7]||(n[7]=i=>y())},{default:e(()=>[(a(!0),k(Z,null,oe(l(H),i=>(a(),s(Ce,{label:i.chineseName,value:i.id},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:2},1536),[[R,!t]]),x(o(v,{label:""},{default:e(()=>[o(T,{placeholder:"客户简称",clearable:"",filterable:"",modelValue:l(u).clientId,"onUpdate:modelValue":n[8]||(n[8]=i=>l(u).clientId=i),onChange:n[9]||(n[9]=i=>y())},{default:e(()=>[(a(!0),k(Z,null,oe(l(q),i=>(a(),s(D,{key:i.tenantCustomerId,value:i.tenantCustomerId,label:i.customerAccord},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:2},1536),[[R,!t]]),x(o(v,{label:""},{default:e(()=>[o(T,{placeholder:"B2B/B2C",clearable:"",filterable:"",modelValue:l(u).b2bOrB2cStatus,"onUpdate:modelValue":n[10]||(n[10]=i=>l(u).b2bOrB2cStatus=i),onChange:n[11]||(n[11]=i=>y())},{default:e(()=>[o(D,{label:"B2B",value:"1"}),o(D,{label:"B2C",value:"2"})]),_:1},8,["modelValue"])]),_:2},1536),[[R,!t]]),x(o(v,null,{default:e(()=>[o(ve,{modelValue:l(u).time,"onUpdate:modelValue":n[12]||(n[12]=i=>l(u).time=i),type:"datetimerange","unlink-panels":"","range-separator":"-","start-placeholder":"创建开始日期","end-placeholder":"创建结束日期",size:"default","value-format":"YYYY-MM-DD HH:mm:ss",style:{width:"192px"},"clear-icon":"true",onChange:n[13]||(n[13]=i=>y())},null,8,["modelValue"])]),_:2},1536),[[R,!t]]),o(Ie,null,{default:e(()=>[o(A,{type:"primary",onClick:n[14]||(n[14]=i=>w())},{icon:e(()=>[o(te,{name:"i-ep:search"})]),default:e(()=>[c(" 筛选 ")]),_:1}),o(A,{onClick:ge},{icon:e(()=>[pt]),default:e(()=>[c(" 重置 ")]),_:1}),o(A,{link:"",onClick:N},{icon:e(()=>[o(te,{name:t?"i-ep:caret-bottom":"i-ep:caret-top"},null,8,["name"])]),default:e(()=>[c(" "+g(t?"展开":"收起"),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1032,["model"])]),_:1}),o(Ne,{"border-style":"dashed"}),o(Le,{gutter:24},{default:e(()=>[o(Ve),o(Ee,null,{default:e(()=>[o(P,{size:"default",onClick:n[15]||(n[15]=()=>{})},{default:e(()=>[c(" 导出 ")]),_:1}),o(xe,{border:l(S),"onUpdate:border":n[16]||(n[16]=t=>V(S)?S.value=t:null),tableAutoHeight:l(B),"onUpdate:tableAutoHeight":n[17]||(n[17]=t=>V(B)?B.value=t:null),checkList:l(d),"onUpdate:checkList":n[18]||(n[18]=t=>V(d)?d.value=t:null),columns:l(z),"onUpdate:columns":n[19]||(n[19]=t=>V(z)?z.value=t:null),"line-height":l(M),"onUpdate:lineHeight":n[20]||(n[20]=t=>V(M)?M.value=t:null),stripe:l(U),"onUpdate:stripe":n[21]||(n[21]=t=>V(U)?U.value=t:null),style:{"margin-left":"12px"},onQueryData:y},null,8,["border","tableAutoHeight","checkList","columns","line-height","stripe"])]),_:1})]),_:1}),x((a(),s(Ue,{ref_key:"tableSortRef",ref:ue,style:{"margin-top":"10px"},"row-key":"id",data:l(X),border:l(S),size:l(M),stripe:l(U),onCurrentChange:he},{empty:e(()=>[o(Me,{image:l(ut),"image-size":300},null,8,["image"])]),default:e(()=>[o(b,{align:"center",type:"selection"}),l(d).includes("project")?(a(),s(b,{key:0,"show-overflow-tooltip":"",align:"center",prop:"projectIdentificationOrClientName",width:"200",label:"项目"},{default:e(({row:t})=>[l(d).includes("projectName")?(a(),k("p",dt,"名称："+g(t.projectName),1)):_("",!0),f("div",mt,[l(d).includes("projectId")?(a(),k("p",ft,"ID："+g(t.projectId),1)):_("",!0),f("span",null,[(a(),k("svg",{onClick:N=>ke(t.projectId),class:"svg",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none"},yt,8,_t))])])]),_:1})):_("",!0),l(d).includes("projectIdentificationOrClientName")?(a(),s(b,{key:1,"show-overflow-tooltip":"",prop:"projectIdentificationOrClientName",width:"180",align:"center",label:"名称/标识"},{default:e(({row:t})=>[l(d).includes("projectIdentification")?(a(),k("p",ht," 名称："+g(t.projectIdentification),1)):_("",!0),l(d).includes("projectIdClientName")?(a(),k("p",kt,"标识："+g(t.clientName),1)):_("",!0)]),_:1})):_("",!0),l(d).includes("participation")?(a(),s(b,{key:2,"show-overflow-tooltip":"",width:"180",align:"center",label:"参数"},{default:e(({row:t})=>[f("p",Ct,[o(h,{class:"mx-1 text",style:{color:"#FB6868"},type:"danger"},{default:e(()=>[c("参与："+g(t.participation||0),1)]),_:2},1024),o(h,{class:"mx-1 text",style:{color:"#03C239"},type:"success"},{default:e(()=>[c("完成："+g(t.complete||0),1)]),_:2},1024)]),f("p",vt,[o(h,{class:"mx-1 text",style:{color:"#FFAC54"},type:"warning"},{default:e(()=>[c("配额："+g(t.num||0),1)]),_:2},1024),o(h,{class:"mx-1 text",style:{color:"#AAAAAA"},type:"info"},{default:e(()=>[c("限量："+g(t.limitedQuantity||0),1)]),_:2},1024)])]),_:1})):_("",!0),l(d).includes("withoutUrl")?(a(),s(b,{key:3,prop:"withoutUrl",align:"center",label:"URL"},{default:e(({row:t})=>[o(le,{class:"box-item",effect:"dark",content:t.withoutUrl,placement:"top"},{default:e(()=>[o(P,{link:"",type:"primary",onClick:N=>be(t.withoutUrl)},{default:e(()=>[c("复制")]),_:2},1032,["onClick"])]),_:2},1032,["content"])]),_:1})):_("",!0),l(d).includes("doMoneyPrice")?(a(),s(b,{key:4,"show-overflow-tooltip":"",align:"center",label:"原价"},{default:e(({row:t})=>[l(Q)===3?(a(),s(h,{key:0,class:"mx-1"},{default:e(()=>[c("暂无数据")]),_:1})):(a(),s(h,{key:1,class:"mx-1"},{default:e(()=>[o(h,{style:{color:"#FD8989"}},{default:e(()=>[o(Se)]),_:1}),o(h,{style:{color:"#333333","font-weight":"700","font-family":"DINPro-Medium"}},{default:e(()=>[c(g(t.doMoneyPrice||0),1)]),_:2},1024)]),_:2},1024))]),_:1})):_("",!0),l(d).includes("memberPrice")?(a(),s(b,{key:5,"show-overflow-tooltip":"",align:"center",label:"会员价"},{default:e(({row:t})=>[t.getMemberGroupNameInfoList.length?(a(),s(O,{key:0,size:"small",plain:"",type:"primary",onClick:N=>me(t)},{default:e(()=>[c(" 查看 ")]),_:2},1032,["onClick"])):(a(),s(h,{key:1},{default:e(()=>[c(" - ")]),_:1}))]),_:1})):_("",!0),l(d).includes("countryNameList")?(a(),s(b,{key:6,"show-overflow-tooltip":"",align:"center",label:"国家"},{default:e(({row:t})=>[t.countryNameList?(a(),k(Z,{key:0},[t.countryNameList.length===l(Y).country.length?(a(),s(O,{key:0,type:"primary"},{default:e(()=>[o(j,{type:"warning"},{default:e(()=>[c("全球")]),_:1})]),_:1})):l(F)(t.countryNameList).length>4?(a(),s(le,{key:1,class:"box-item",effect:"dark",content:l(F)(t.countryNameList).join(","),placement:"top"},{default:e(()=>[o(O,{type:"primary"},{default:e(()=>[o(j,{type:"success"},{default:e(()=>[c(g(l(F)(t.countryNameList).length),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["content"])):(a(),s(j,{key:2,type:"primary"},{default:e(()=>[c(" x"+g(l(F)(t.countryNameList).length),1)]),_:2},1024))],64)):_("",!0)]),_:1})):_("",!0),l(d).includes("ir")?(a(),s(b,{key:7,"show-overflow-tooltip":"",align:"center",label:"IR/NIR"},{default:e(({row:t})=>[c(g(t.ir?t.ir:"-")+" / "+g(t.nir?t.nir:"-"),1)]),_:1})):_("",!0),l(d).includes("memberStatus")?(a(),s(b,{key:8,"show-overflow-tooltip":"",align:"center",label:"分配"},{default:e(({row:t})=>[t.getMemberGroupNameInfoList.length?(a(),s(j,{key:0,style:{"background-color":"#05C9BE",color:"#fff"}},{default:e(()=>[c(" 会员组 ")]),_:1})):(a(),s(j,{key:1,effect:"plain",type:"info"},{default:e(()=>[c(" 未分配 ")]),_:1}))]),_:1})):_("",!0),l(d).includes("createTime")?(a(),s(b,{key:9,"show-overflow-tooltip":"",prop:"createTime",align:"center",label:"创建时间"},{header:e(()=>[It]),default:e(({row:t})=>[o(j,{effect:"plain",type:"info"},{default:e(()=>[c(g(l(ae)(t.createTime)),1)]),_:2},1024)]),_:1})):_("",!0),o(b,{align:"center",fixed:"right",label:"操作",width:"200"},{default:e(({row:t})=>[o(Be,null,{default:e(()=>[t.getMemberGroupNameInfoList.length?_("",!0):(a(),s(P,{key:0,type:"primary",plain:"",size:"small",onClick:N=>fe(t)},{default:e(()=>[c(" 分配 ")]),_:2},1032,["onClick"])),o(P,{size:"small",plain:"",type:"warning",onClick:N=>de(t)},{default:e(()=>[c(" 配额 ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data","border","size","stripe"])),[[Pe,l(L)]]),o(ze,{"current-page":l(I).page,total:l(I).total,"page-size":l(I).size,"page-sizes":l(I).sizes,layout:l(I).layout,"hide-on-single-page":!1,class:"pagination",background:"",onSizeChange:_e,onCurrentChange:y},null,8,["current-page","total","page-size","page-sizes","layout"])]),_:1}),o(ot,{ref_key:"CheckEditRef",ref:pe},null,512),o(nt,{ref_key:"detailRef",ref:J},null,512),o(at,{ref_key:"checkMembershipPriceRef",ref:W},null,512),o(it,{ref_key:"addAllocationEditRef",ref:ee,onFetchData:w},null,512)],2)}}}),Zt=et(wt,[["__scopeId","data-v-e75ed140"]]);export{Zt as default};
