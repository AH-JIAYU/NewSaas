
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{a as f}from"./third-CQnNrR9r.js";import{d as T,r as D,n as x,a as m,o as i,b as h,i as t,e as c,w as o,f as a,g as v,j as p,E as y,M as F}from"./index-CaoSRXoh.js";const S=T({name:"qiuniuForm",__name:"QiniuForm",emits:["fetch-data"],setup(B,{expose:w,emit:K}){const I=K,_=D(),e=D({dialogTableVisible:!1,title:"",type:"",loading:"",formData:{}});async function k(r){e.value.type=r,e.value.loading=!1,e.value.dialogTableVisible=!0}async function C(){_.value.validate(async r=>{if(r){if(e.value.type==1){const{status:l}=await f.updateQiniuConfig(e.value.formData);l===1&&y.success({message:"添加成功",center:!0})}else if(e.value.type==2){const{status:l}=await f.updateAliConfig(e.value.formData);l===1&&y.success({message:"添加成功",center:!0})}else if(e.value.type==3){const{status:l}=await f.updateAliConfig(e.value.formData);l===1&&y.success({message:"添加成功",center:!0})}I("fetch-data"),V()}e.value.loading=!1})}function V(){e.value.dialogTableVisible=!1,e.value.formData={}}return x(async()=>{}),w({showEdit:k}),(r,l)=>{const d=m("ElInput"),n=m("ElFormItem"),u=m("el-col"),b=m("el-row"),E=m("el-form"),g=m("el-button"),U=m("el-dialog");return i(),h("div",null,[t(e).dialogTableVisible?(i(),c(U,{key:0,modelValue:t(e).dialogTableVisible,"onUpdate:modelValue":l[7]||(l[7]=s=>t(e).dialogTableVisible=s),title:"添加存储空间",draggable:""},{footer:o(()=>[a(g,{onClick:V,disabled:t(e).loading},{default:o(()=>[v(" 取消 ")]),_:1},8,["disabled"]),a(g,{type:"primary",onClick:C,disabled:t(e).loading},{default:o(()=>[v(" 确定 ")]),_:1},8,["disabled"])]),default:o(()=>[a(E,{ref_key:"formRef",ref:_,model:t(e).formData,"label-width":"120","label-position":"right",inline:!1},{default:o(()=>[t(e).type==1?(i(),c(b,{key:0,gutter:20},{default:o(()=>[a(u,{span:24},{default:o(()=>[a(n,{label:"accessKeyId:"},{default:o(()=>[a(d,{modelValue:t(e).formData.accessKeyId,"onUpdate:modelValue":l[0]||(l[0]=s=>t(e).formData.accessKeyId=s),placeholder:"请输入accessKey",style:{width:"22.4375rem"}},null,8,["modelValue"])]),_:1})]),_:1}),a(u,{span:24},{default:o(()=>[a(n,{label:"secretKey:"},{default:o(()=>[a(d,{modelValue:t(e).formData.secretKey,"onUpdate:modelValue":l[1]||(l[1]=s=>t(e).formData.secretKey=s),placeholder:"请输入secretKey",style:{width:"22.4375rem"}},null,8,["modelValue"])]),_:1})]),_:1}),a(u,{span:24},{default:o(()=>[a(n,{label:"空间名称:"},{default:o(()=>[a(d,{modelValue:t(e).formData.domain,"onUpdate:modelValue":l[2]||(l[2]=s=>t(e).formData.domain=s),placeholder:"空间名称",style:{width:"22.4375rem"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})):p("",!0),t(e).type==2?(i(),c(b,{key:1,gutter:20},{default:o(()=>[a(u,{span:24},{default:o(()=>[a(n,{label:"accessKeyId:"},{default:o(()=>[a(d,{modelValue:t(e).formData.accessKeyId,"onUpdate:modelValue":l[3]||(l[3]=s=>t(e).formData.accessKeyId=s),placeholder:"请输入accessKeyId",style:{width:"22.4375rem"}},null,8,["modelValue"])]),_:1})]),_:1}),a(u,{span:24},{default:o(()=>[a(n,{label:"accessKeySecret:"},{default:o(()=>[a(d,{modelValue:t(e).formData.accessKeySecret,"onUpdate:modelValue":l[4]||(l[4]=s=>t(e).formData.accessKeySecret=s),placeholder:"请输入accessKeySecret",style:{width:"22.4375rem"}},null,8,["modelValue"])]),_:1})]),_:1}),a(u,{span:24},{default:o(()=>[a(n,{label:"空间名称:"},{default:o(()=>[a(d,{modelValue:t(e).formData.domain,"onUpdate:modelValue":l[5]||(l[5]=s=>t(e).formData.domain=s),placeholder:"空间名称",style:{width:"22.4375rem"}},null,8,["modelValue"])]),_:1})]),_:1}),a(u,{span:24},{default:o(()=>[a(n,{label:"空间区域:"},{default:o(()=>[a(d,{modelValue:t(e).formData.region,"onUpdate:modelValue":l[6]||(l[6]=s=>t(e).formData.region=s),placeholder:"空间区域",style:{width:"22.4375rem"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})):p("",!0)]),_:1},8,["model"])]),_:1},8,["modelValue"])):p("",!0)])}}}),Q=F(S,[["__scopeId","data-v-c5e5a592"]]);export{Q as default};
