
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{d as U,m as I,u as x,c as B,r as p,n as D,a as m,o as M,e as q,w as n,f as a,g as N,i as o,M as F}from"./index-Cjx6Hppb.js";const L=U({__name:"index",props:I({catalogueId:{default:""},parentId:{default:""},id:{default:""},tree:{},dataList:{},row:{},level:{default:1}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:I(["success"],["update:modelValue"]),setup(v,{emit:S}){const d=v,f=x(v,"modelValue"),h=B(()=>d.id===""?"新增字典项":"编辑字典项"),i=p(),V=p([]),l=p({id:d.id,parentId:d.parentId,catalogueId:d.catalogueId,englishName:"",chineseName:"",code:"",remark:"",level:d.level}),E=p({catalogueId:[{required:!0,message:"请选择所属字典"}],chineseName:[{required:!0,message:"请输入字典项名称"}],englishName:[{required:!0,message:"请输入字典项英文名称"}],code:[{required:!0,message:"请输入字典项键值"}]}),k=r=>{if(r){const e=V.value.find(s=>s.id===r);l.value.level=Number(e.level)+1}else l.value.level=1};function y(){l.value.id===""?i.value&&i.value.validate(r=>{}):i.value&&i.value.validate(r=>{})}function g(){f.value=!1}const b=r=>r.reduce((e,s)=>Array.isArray(s)?e.concat(b(s)):e.concat(s),[]);return D(()=>{d.id!==""&&d.row&&(l.value=JSON.parse(d.row)),V.value=b(d.dataList)}),(r,e)=>{const s=m("ElCascader"),u=m("ElFormItem"),c=m("ElInput"),w=m("ElForm"),_=m("ElButton"),C=m("ElDialog");return M(),q(C,{modelValue:f.value,"onUpdate:modelValue":e[6]||(e[6]=t=>f.value=t),title:o(h),width:"25rem","close-on-click-modal":!1,"append-to-body":"","destroy-on-close":"",onClosed:g},{footer:n(()=>[a(_,{size:"large",onClick:g},{default:n(()=>[N(" 取消 ")]),_:1}),a(_,{type:"primary",size:"large",onClick:y},{default:n(()=>[N(" 确定 ")]),_:1})]),default:n(()=>[a(w,{ref_key:"formRef",ref:i,model:o(l),rules:o(E),"label-width":"8.25rem"},{default:n(()=>[a(u,{label:"所属字典"},{default:n(()=>[a(s,{modelValue:o(l).catalogueId,"onUpdate:modelValue":e[0]||(e[0]=t=>o(l).catalogueId=t),options:d.tree,clearable:"",props:{value:"id",label:"chineseName",emitPath:!1,checkStrictly:!0},"show-all-levels":!1,placeholder:"请选择所属字典"},null,8,["modelValue","options"])]),_:1}),a(u,{label:"选择父级"},{default:n(()=>[a(s,{modelValue:o(l).parentId,"onUpdate:modelValue":e[1]||(e[1]=t=>o(l).parentId=t),options:d.dataList,clearable:"",props:{value:"id",label:"chineseName",emitPath:!1,checkStrictly:!0},"show-all-levels":!1,placeholder:"请选择所属父级",onChange:k},null,8,["modelValue","options"])]),_:1}),a(u,{label:"中文名称",prop:"chineseName"},{default:n(()=>[a(c,{modelValue:o(l).chineseName,"onUpdate:modelValue":e[2]||(e[2]=t=>o(l).chineseName=t),placeholder:"请输入中文名称",clearable:""},null,8,["modelValue"])]),_:1}),a(u,{label:"英文名称",prop:"englishName"},{default:n(()=>[a(c,{modelValue:o(l).englishName,"onUpdate:modelValue":e[3]||(e[3]=t=>o(l).englishName=t),placeholder:"请输入英文名称",clearable:""},null,8,["modelValue"])]),_:1}),a(u,{label:"字典项键值",prop:"code"},{default:n(()=>[a(c,{modelValue:o(l).code,"onUpdate:modelValue":e[4]||(e[4]=t=>o(l).code=t),placeholder:"请输入字典项键值",clearable:""},null,8,["modelValue"])]),_:1}),a(u,{label:"备注"},{default:n(()=>[a(c,{modelValue:o(l).remark,"onUpdate:modelValue":e[5]||(e[5]=t=>o(l).remark=t),placeholder:"请输入备注",clearable:""},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])}}}),z=F(L,[["__scopeId","data-v-0cd33060"]]);export{z as default};
