
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{_ as O}from"./member-CB3zcQYN.js";import{a as Y}from"./user_cooperation-Cs0kY4YX.js";import{d as V,aA as z,r as S,Z as j,aF as L,a as u,o as r,b as g,f as i,w as s,i as U,F as X,t as q,e as m,y as a,j as c,z as p,g as d,A as K,aH as H,aI as G,L as P}from"./index-Stn8oVZn.js";import Z from"./index-CTxfKLC-.js";import"./index-DCtVb3WN.js";import"./index-CQj3GAon.js";import"./index-0mWHlZud.js";import"./clipboard-n87oDdkr.js";import"./department-ImskIUVM.js";const $="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAAXNSR0IArs4c6QAAAXxJREFUOE+dkr1Lm1EUxp/n3MQPSEWhCP4BlW7tkI6lc8FBtyQI4uTgoEMdChkipYMoqEOHguAHmrd0CnTQRTq20MWCIH4MHYWIhhpoEt57jrxiE1MrL3i389z7O89zOYd44OFt7mIVvT2dMk8gbcR+3evb7hOc4qlMVv7oet84Kn/ft4Ea8AsgQ81mZns80hc26LYBhJLzr++A9hkp8+7y3+SN0D+JtI6EOz4794/6J1GN6qajFZCwQSmD7G05osa6H0A3XpnJJg+1jwWEbWBU2CeZMuNSK44VUNM565IyiTwzuvzfP0ZiYwvPhS6t6vc7RvH9uuEHpHgT8Q7Y2EA6mXTPQEu1orIK+F/MYjfSfn/E454JnDWj+iAaAd/cO1LTkuRsRAMpG7DmsjrDyCmRdD/i9oD0wzXDz06TgzDUl7SiGzNiLRY0yzOn7zVw3wis0BdlmuRiLAgrMKuzGrivpJUYbmJIRN7FgsIFZvyWFWURpjttKxcH376/AhaHj+7Z6mhBAAAAAElFTkSuQmCC",tt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAY9JREFUOE+tkz9IQlEUxr9zn5BLQ0MQ0ehUEDa9J5gpDQ61hBARbkH0BxqCoKGtInELItoVanEMWsJ/g7pUNAVJFDjU0hhCvnviPn368l8O3elx7vl+33fvO5fQbeUNXUgsguABUANTRRJuEChk29vpV8ES0gURvN24zHiQgjcwWyzZ+y1ATo8IFkkiuLumahSZUSWSUTNQSqlSHVB3zvwltsEKIgUHVRILILK++16xe6WxjjNXmCGkjaCmUbpfbLUXHtGxOhrG2vMxamxa7SaxQSLvOyHGfj+AEqcmY3itvsN7F20CmPiIRM5IEChqA/ThKeyML2P35RQf35+Wsy2ef9y2aq3FVwpwSaAVJ+B2+sxyi1cSOPfsWd+dYqXgJIm8cUhMB84j2K5uMYSnr7ceYoAJMUJaNzRNFNrvQEHWx5awVY63xW51mmD/P/zGxiBpTBmg/xQ6UlZNU4YQKhWbo6zl9AggkgNAqkD7KNvoQR6TlJvKufMxOW8xrfuFSywQ8wQAFxPKssbXTqHd/gPUdrDB/9WxQwAAAABJRU5ErkJggg==",et="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAXZJREFUOE+tkz9PwlAUxc8plYg7YXF0YtIJBgYUNtgwwYER2voNHNw00W+A/Nk0kZC4SeKGTOqkE5OjIXwDCaW9pkWaQkGN+sbz7v3dc++7j1hyxpqWIJkXcgsiE5JvIO/WqtXeYjj9gmhaYkJegNxeBhaRF4gY4Xr9aXbvASaVSkEU5Qrk+rJkTxMZ0bZLaqNx42gu4LPy/bfJM4rISETSjhMXYOr68yrbq9w47YRrtR2+G0ZaBbpzgfE4GItBulOZ2SwwGED6/bkwse0kTcM4A3Dkv2E6jVCxCPv2FohEoGQysNptD+ibxynHun5JsrRoVcnloOTzruyA7E4n0I0ALY4N45rAQQCwv+9W/hIgckVT109AHs+1kM0iVChMWwBcJ1arBekF9uic43I5SVV9mAPE40A06iVwbw8YDgNDBJD6+zP+dpFMy9rdaDYf/2eVvQ39wWeaWNahUznwmfxDNDUtBUXJUWTTJlWKvJqW1fEnzuI/AJ2luY5Qh7ANAAAAAElFTkSuQmCC",at="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAXFJREFUOE+lkr9LQnEUxc9Rnwi1Rg2CU1C0OBYFPcvXv1CgDg1RW0sEQZBBEARBW0vg4Iv6G3pWho2FY4MFOrUENUSIT7vx3ivt5TP7cacv957z4XC/l/hnsZNfMmoIAaVgz+/MMabzdS9tZ0BWWwa555hkhUlj98cAyagDUJQSwF7HL094MQe5mH/4CvFMILq2D3DJJRY5YMpY6AqQjBqFEizawp5+oFEDqo9WjDrIUSZOrj9D2hJIViuAnLBFsS2AfuBs7d0jeSaNWEeA6NOzgP+4KYjvOM/casvDRpKJ08OPRjOB/W1KsAQg/C0AKMOsDXM+X7V0LUA2vgH60q4lTW0DPr87ge16TTOR22wCRFfDEKUEMuQC9I0AgRBw79qb9a1V1E0rRdlOIFntCORc26FYS7TqfN3jhkRn0khRdG0c4KXXlSEy6bQrF55j+ES1AEWAUW9Fl67IFUWfuQEw9CcAcEtJqwFE4Nz8b6uC5zcM9XNzoCQSrQAAAABJRU5ErkJggg==",A=v=>(H("data-v-030131a4"),v=v(),G(),v),st={class:"flex-a"},ot=["src"],nt={style:{"margin-left":"0.75rem"}},rt={class:"font-s16 color1"},lt={class:"font-s12 color2",style:{"margin-top":"0.25rem"}},it={class:"flex-a",style:{height:"100%"}},ct=A(()=>a("img",{src:$,style:{"margin-right":"3px"}},null,-1)),At=A(()=>a("img",{src:O,style:{"margin-right":"3px",width:"14px",height:"14px"}},null,-1)),ut={style:{height:"100%"},class:"flex-ab"},dt={key:0,class:"flex-a"},ft=A(()=>a("img",{src:tt,alt:"",style:{"margin-right":"3px"}},null,-1)),gt=A(()=>a("span",{class:"color3 font-s14"},"可邀约",-1)),mt=[ft,gt],pt={key:1,class:"flex-a"},_t=A(()=>a("img",{src:et,alt:"",style:{"margin-right":"3px"}},null,-1)),ht=A(()=>a("span",{class:"color5 font-s14"},"拒绝邀约",-1)),vt=[_t,ht],yt={key:2,class:"flex-a"},Et=A(()=>a("img",{src:at,alt:"",style:{"margin-right":"3px"}},null,-1)),Ut=A(()=>a("span",{class:"color4 font-s14"},"不可邀约",-1)),wt=[Et,Ut],St=V({__name:"customerDetail",emits:["queryData"],setup(v,{expose:k,emit:R}){z();const I=R,_=S(!1),f=S({companyName:""}),h=j({});async function Q(){await y(),_.value=!0}async function y(){const e=await Y.getTenantUserList({companyName:f.value.companyName});f.value.tenantUserList=e.data.tenantUserInfoList,J()}const C=()=>{y(),I("queryData")};function D(){_.value=!1,h&&Object.values(h).forEach(e=>{e&&clearInterval(e)})}const B=async()=>{await y()};k({showEdit:Q});const x=S(),F=e=>{x.value.showEdit(e)},T=e=>{if(e<=0)return"00:00:00";let o=Math.floor(e%(1e3*60*60*24)/(1e3*60*60));o=o<10?"0"+o:o;let l=Math.floor(e%(1e3*60*60)/(1e3*60));l=l<10?"0"+l:l;let n=Math.floor(e%(1e3*60)/1e3);return n=n<10?"0"+n:n,`${o}: ${l}: ${n}`},N=e=>{const o=new Date,l=new Date(e.refuseTime);l.setDate(l.getDate()+7);const n=l-o;return n<=0?(y(),0):n},J=()=>{f.value.tenantUserList.forEach(e=>{e.refuse>=2&&(e.remainingTime=N(e),h[e.tenantId]&&clearInterval(h[e.tenantId]),h[e.tenantId]=setInterval(()=>{e.remainingTime=N(e)},1e3))})};return L(()=>{}),(e,o)=>{const l=u("el-input"),n=u("el-col"),E=u("el-text"),w=u("el-button"),M=u("el-row"),W=u("el-card"),b=u("el-drawer");return r(),g("div",null,[i(b,{modelValue:U(_),"onUpdate:modelValue":o[1]||(o[1]=t=>K(_)?_.value=t:null),"append-to-body":"","close-on-click-modal":!1,"destroy-on-close":"",draggable:"",size:"55%",title:"邀约公司",class:"yaoyueDrawer","before-close":D},{default:s(()=>[i(l,{modelValue:U(f).companyName,"onUpdate:modelValue":o[0]||(o[0]=t=>U(f).companyName=t),placeholder:"请输入搜索名称",style:{width:"35%"},onChange:B},null,8,["modelValue"]),(r(!0),g(X,null,q(U(f).tenantUserList,t=>(r(),m(W,{key:t,shadow:"always","body-style":{padding:"1.5rem 1rem 1.5rem 1rem"},style:{"background-color":"#fff","margin-top":"1rem"}},{default:s(()=>[i(M,null,{default:s(()=>[i(n,{span:8,class:""},{default:s(()=>[a("div",st,[t.aratar?(r(),g("img",{key:0,src:`${t.aratar}`,alt:"",style:{width:"3rem",height:"3rem","border-radius":"3.125rem"}},null,8,ot)):c("",!0),a("div",nt,[a("div",rt,p(t.tenantName),1),a("div",lt,p(t.name),1)])])]),_:2},1024),i(n,{span:10,class:""},{default:s(()=>[a("div",it,[i(E,{class:"info-text1 font-s14"},{default:s(()=>[d(p(t.country),1)]),_:2},1024),i(E,{class:"info-text2 font-s14"},{default:s(()=>[d(p(t.currencyType=="2"?"人民币":"美元"),1)]),_:2},1024),t.hot?(r(),m(E,{key:0,class:"info-text3 font-s14 flex-a"},{default:s(()=>[ct,d(" 热门合作商")]),_:1})):c("",!0),t.versionName?(r(),m(E,{key:1,class:"info-text4 font-s14 flex-a"},{default:s(()=>[At,d(" "+p(t.versionName),1)]),_:2},1024)):c("",!0)])]),_:2},1024),i(n,{span:6},{default:s(()=>[a("div",ut,[t.invitationStatus==0||t.invitationStatus==4?(r(),g("div",dt,mt)):c("",!0),t.invitationStatus==3?(r(),g("div",pt,vt)):c("",!0),t.invitationStatus==1||t.invitationStatus==2?(r(),g("div",yt,wt)):c("",!0),t.invitationStatus==0||t.invitationStatus==3&&t.refuse<2||t.invitationStatus==4?(r(),m(w,{key:3,type:"primary",class:"font-s14",style:{"margin-left":"1rem"},onClick:xt=>F(t)},{default:s(()=>[d(" 申请合作 ")]),_:2},1032,["onClick"])):c("",!0),t.invitationStatus==1||t.invitationStatus==2?(r(),m(w,{key:4,type:"info",class:"font-s14 bgcolor1",style:{"margin-left":"1rem"}},{default:s(()=>[d(" 申请合作 ")]),_:1})):c("",!0),t.invitationStatus==3&&t.refuse>=2?(r(),m(w,{key:5,type:"info",class:"font-s14 bgcolor1",style:{"margin-left":"1rem"}},{default:s(()=>[d(p(T(t.remainingTime)),1)]),_:2},1024)):c("",!0)])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["modelValue"]),i(Z,{ref_key:"editRef",ref:x,onFetchData:C},null,512)])}}}),Tt=P(St,[["__scopeId","data-v-030131a4"]]);export{Tt as default};
