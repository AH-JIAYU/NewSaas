
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{d as G,r as f,n as H,a as r,o,e as _,w as e,f as t,b as m,A as u,v as c,g as d,t as b,j as V,F as h,p as K,aI as O,aJ as Q,M as W}from"./index-CRiLI5We.js";import{u as X}from"./department-D5V5U7Td.js";import{u as Y}from"./tenant_role-COFGSdK7.js";import{u as Z}from"./configuration_manager-DxyzEd4E.js";import{u as $}from"./position_manage-B3XJ-m44.js";import"./department-DG0uSGnK.js";import"./configuration_role-mdmOT2Ry.js";import"./position_manage-CI40d8Ly.js";const M=v=>(O("data-v-29f2526f"),v=v(),Q(),v),ee=M(()=>c("div",{class:"card-header"},[c("div",{class:"leftTitle"},"基本信息")],-1)),ae={key:1,class:"avatar"},te={style:{"font-size":"14px"}},le=M(()=>c("div",{class:"card-header"},[c("div",{class:"leftTitle"},"角色信息")],-1)),oe={class:"card-header"},se={class:"leftTitle"},ne={style:{"margin-left":"20px","font-size":"14px"}},ue=G({__name:"index",emits:["fetch-data"],setup(v,{expose:C,emit:z}){const B=Z(),I=f([]),L=$(),N=f(),j=Y(),T=f(),P=X(),D=f(),x=f({}),U=z,g=f(!1),l=f();async function E(y){x.value=y;const p={id:y.id},{status:s,data:w}=await K.list(p);l.value=w.data[0],g.value=!0}function F(){U("fetch-data"),g.value=!1}return H(async()=>{N.value=await L.getPositionManage(),I.value=await B.getStaff(),T.value=await j.getRole(),D.value=await P.getDepartment()}),C({showEdit:E}),(y,p)=>{const s=r("el-col"),w=r("el-avatar"),S=r("el-row"),n=r("el-text"),i=r("el-form-item"),k=r("el-card"),R=r("el-radio"),A=r("el-radio-group"),J=r("el-form"),q=r("el-drawer");return o(),_(q,{modelValue:g.value,"onUpdate:modelValue":p[1]||(p[1]=a=>g.value=a),"append-to-body":"","close-on-click-modal":!1,"destroy-on-close":"",draggable:"",size:"60%",title:"详情",onClose:F},{default:e(()=>[t(J,{"label-width":"100px","label-position":"right"},{default:e(()=>[t(k,{class:"box-card"},{header:e(()=>[ee]),default:e(()=>[t(S,{gutter:20},{default:e(()=>[t(s,{span:1}),t(s,{style:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"flex-start"},span:1.5},{default:e(()=>[l.value.avatar?(o(),_(w,{key:0,size:50,src:l.value.avatar},null,8,["src"])):(o(),m("div",ae,u(l.value.name),1))]),_:1}),t(s,{style:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"flex-start"},span:6},{default:e(()=>[c("p",null,u(l.value.userName),1),c("p",te,[d("账号:"),c("span",null,u(l.value.userName),1)])]),_:1})]),_:1}),t(S,{gutter:24},{default:e(()=>[t(s,{span:6},{default:e(()=>[t(i,{label:"员工ID:"},{default:e(()=>[t(n,{class:"mx-1"},{default:e(()=>{var a;return[d(u((a=l.value)!=null&&a.id?l.value.id:"-"),1)]}),_:1})]),_:1})]),_:1}),t(s,{span:6},{default:e(()=>[t(i,{label:"姓名:"},{default:e(()=>[t(n,{class:"mx-1"},{default:e(()=>{var a;return[d(u((a=l.value)!=null&&a.name?l.value.name:"-"),1)]}),_:1})]),_:1})]),_:1}),t(s,{span:6},{default:e(()=>[t(i,{label:"手机号:"},{default:e(()=>[t(n,{class:"mx-1"},{default:e(()=>{var a;return[d(u((a=l.value)!=null&&a.phone?l.value.phone:"-"),1)]}),_:1})]),_:1})]),_:1}),t(s,{span:6},{default:e(()=>[t(i,{label:"邮箱:"},{default:e(()=>[t(n,{class:"mx-1"},{default:e(()=>{var a;return[d(u((a=l.value)!=null&&a.email?l.value.email:"-"),1)]}),_:1})]),_:1})]),_:1}),t(s,{span:6},{default:e(()=>[t(i,{label:"部门:"},{default:e(()=>[(o(!0),m(h,null,b(D.value,a=>(o(),_(n,null,{default:e(()=>[l.value.departmentId===a.id?(o(),_(n,{key:0},{default:e(()=>[d(u(a.name?a.name:"-"),1)]),_:2},1024)):V("",!0)]),_:2},1024))),256))]),_:1})]),_:1}),t(s,{span:6},{default:e(()=>[t(i,{label:"职位:"},{default:e(()=>[(o(!0),m(h,null,b(N.value,a=>(o(),_(n,null,{default:e(()=>[l.value.positionId===a.id?(o(),_(n,{key:0},{default:e(()=>[d(u(a.name?a.name:"-"),1)]),_:2},1024)):V("",!0)]),_:2},1024))),256))]),_:1})]),_:1}),t(s,{span:6},{default:e(()=>[t(i,{label:"帐号状态:"},{default:e(()=>[t(n,{class:"mx-1"},{default:e(()=>{var a;return[d(u((a=l.value)!=null&&a.active?"启用":"禁用"),1)]}),_:1})]),_:1})]),_:1}),t(s,{span:6},{default:e(()=>[t(i,{label:"创建时间:"},{default:e(()=>[t(n,{class:"mx-1"},{default:e(()=>{var a;return[d(u((a=l.value)!=null&&a.createTime?l.value.createTime:"-"),1)]}),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(k,{class:"box-card"},{header:e(()=>[le]),default:e(()=>[t(S,{gutter:24},{default:e(()=>[t(i,{label:"分配角色:"},{default:e(()=>[t(A,{modelValue:x.value.role,"onUpdate:modelValue":p[0]||(p[0]=a=>x.value.role=a)},{default:e(()=>[(o(!0),m(h,null,b(T.value,a=>(o(),_(R,{key:a.id,value:a.roleName,label:a.roleName,disabled:""},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(k,{class:"box-card"},{header:e(()=>[c("div",oe,[c("div",se,[d(" 小组信息"),c("span",ne,[d("负责人:"),(o(!0),m(h,null,b(I.value,a=>(o(),_(n,{key:a.id},{default:e(()=>[a.id===x.value.director?(o(),_(n,{key:0},{default:e(()=>[d(u(a.name),1)]),_:2},1024)):V("",!0)]),_:2},1024))),128))])])])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),ve=W(ue,[["__scopeId","data-v-29f2526f"]]);export{ve as default};
