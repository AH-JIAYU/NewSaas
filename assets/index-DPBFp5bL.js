
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{a as f}from"./dictionary-eXeT9Fny.js";import{d as D,m as h,u as w,c as M,r as v,B as U,a as n,o as F,e as q,w as s,f as l,g as y,i as a,ai as E,_ as R}from"./index-CR_Og9_c.js";const z=D({__name:"index",props:h({dictionaryId:{default:""},id:{default:""},tree:{}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:h(["success"],["update:modelValue"]),setup(V,{emit:N}){const i=V,g=N,c=w(V,"modelValue"),I=M(()=>i.id===""?"新增字典项":"编辑字典项"),u=v(),e=v({dictionaryId:i.dictionaryId,id:i.id,englishName:"",chineseName:"",code:""}),b=v({dictionaryId:[{required:!0,message:"请选择所属字典"}],name:[{required:!0,message:"请输入字典项名称"}],code:[{required:!0,message:"请输入字典项键值"}]});U(()=>{i.id!==""&&f.itemDetail(i.id).then(o=>{e.value.id=o.data.id,e.value.chineseName=o.data.chineseName,e.value.englishName=o.data.englishName,e.value.code=o.data.code})});function C(){e.value.id===""?u.value&&u.value.validate(o=>{o&&f.itemCreate(e.value).then(()=>{E.success({message:"模拟新增成功",center:!0}),g("success"),m()})}):u.value&&u.value.validate(o=>{o&&f.itemEdit(e.value).then(()=>{E.success({message:"模拟编辑成功",center:!0}),g("success"),m()})})}function m(){c.value=!1}return(o,t)=>{const k=n("ElCascader"),r=n("ElFormItem"),p=n("ElInput"),x=n("ElForm"),_=n("ElButton"),B=n("ElDialog");return F(),q(B,{modelValue:c.value,"onUpdate:modelValue":t[4]||(t[4]=d=>c.value=d),title:a(I),width:"400px","close-on-click-modal":!1,"append-to-body":"","destroy-on-close":"",onClosed:m},{footer:s(()=>[l(_,{size:"large",onClick:m},{default:s(()=>[y(" 取消 ")]),_:1}),l(_,{type:"primary",size:"large",onClick:C},{default:s(()=>[y(" 确定 ")]),_:1})]),default:s(()=>[l(x,{ref_key:"formRef",ref:u,model:a(e),rules:a(b),"label-width":"100px"},{default:s(()=>[l(r,{label:"所属字典",prop:"dictionaryId"},{default:s(()=>[l(k,{modelValue:a(e).dictionaryId,"onUpdate:modelValue":t[0]||(t[0]=d=>a(e).dictionaryId=d),options:o.tree,props:{value:"id",emitPath:!1,checkStrictly:!0},"show-all-levels":!1,placeholder:"请选择所属字典"},null,8,["modelValue","options"])]),_:1}),l(r,{label:"中文名称",prop:"chineseName"},{default:s(()=>[l(p,{modelValue:a(e).chineseName,"onUpdate:modelValue":t[1]||(t[1]=d=>a(e).chineseName=d),placeholder:"请输入字典名称",clearable:""},null,8,["modelValue"])]),_:1}),l(r,{label:"英文名称",prop:"englishName"},{default:s(()=>[l(p,{modelValue:a(e).englishName,"onUpdate:modelValue":t[2]||(t[2]=d=>a(e).englishName=d),placeholder:"请输入字典名称",clearable:""},null,8,["modelValue"])]),_:1}),l(r,{label:"字典项键值",prop:"value"},{default:s(()=>[l(p,{modelValue:a(e).code,"onUpdate:modelValue":t[3]||(t[3]=d=>a(e).code=d),placeholder:"请输入字典项键值",clearable:""},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])}}}),T=R(z,[["__scopeId","data-v-0fd1aac8"]]);export{T as default};
