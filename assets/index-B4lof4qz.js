
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{_ as M}from"./index.vue_vue_type_script_setup_true_lang-BAAqjG9y.js";import{a as R}from"./user_customer-FI-5fX4q.js";import{a as $}from"./apiLoading-Bi9sUNe-.js";import{d as j,r as v,a as u,o as g,e as w,w as e,f as a,l as c,E as o,g as d,j as z,ai as O,aD as P,aE as Q,_ as U}from"./index-CnQ4xoV5.js";const b=p=>(P("data-v-ea9fcd4d"),p=p(),Q(),p),q={class:"card-header"},F=b(()=>c("span",null,"基本信息",-1)),G={class:"status"},H=b(()=>c("div",{class:"i-ph:seal-light w-1em h-1em"},null,-1)),J=b(()=>c("div",{class:"card-header"},[c("span",null,"权限信息")],-1)),K=b(()=>c("div",{class:"card-header"},[c("span",null,"操作日志")],-1)),W=j({__name:"index",emits:["fetch-data"],setup(p,{expose:k,emit:N}){const I=N,i=v(!1),x=v(),l=v(),y=v("开启");async function S(_){const f={tenantCustomerId:_.tenantCustomerId},{status:s,data:t}=await $(R.detail(f));y.value=t.customerStatus===1?"关闭":"开启",l.value=t,s===1&&O.success({message:"查询成功",center:!0}),i.value=!0}function T(_){x.value.showEdit(_)}function V(){I("fetch-data"),i.value=!1}const E=_=>["新增","编辑","启用","禁用"][_-1];return k({showEdit:S}),(_,f)=>{const s=u("el-text"),t=u("el-form-item"),n=u("el-col"),C=u("el-row"),h=u("el-card"),m=u("el-table-column"),A=u("el-button"),D=u("el-table"),B=u("el-form"),L=u("el-drawer");return g(),w(L,{modelValue:i.value,"onUpdate:modelValue":f[0]||(f[0]=r=>i.value=r),"append-to-body":"","close-on-click-modal":!1,"destroy-on-close":"",draggable:"",size:"60%",title:"详情",onClose:V},{default:e(()=>[a(B,{"label-width":"100px","label-position":"right"},{default:e(()=>[a(h,{class:"box-card"},{header:e(()=>[c("div",q,[F,c("div",G,[H,c("div",null,o(y.value),1)])])]),default:e(()=>[a(C,{gutter:24},{default:e(()=>[a(n,{span:8},{default:e(()=>[a(t,{label:"客户编码:"},{default:e(()=>[a(s,{class:"mx-1"},{default:e(()=>[d(o(l.value.tenantCustomerId),1)]),_:1})]),_:1})]),_:1}),a(n,{span:8},{default:e(()=>[a(t,{label:"客户名称:"},{default:e(()=>[a(s,{class:"mx-1"},{default:e(()=>[d(o(l.value.customerAccord),1)]),_:1})]),_:1})]),_:1}),a(n,{span:8},{default:e(()=>[a(t,{label:"客户简称:"},{default:e(()=>[a(s,{class:"mx-1"},{default:e(()=>[d(o(l.value.customerShortName),1)]),_:1})]),_:1})]),_:1}),a(n,{span:8},{default:e(()=>[a(t,{label:"公司名称:"},{default:e(()=>[a(s,{class:"mx-1"},{default:e(()=>[d(o(l.value.companyName),1)]),_:1})]),_:1})]),_:1}),a(n,{span:8},{default:e(()=>[a(t,{label:"客户姓名:"},{default:e(()=>[a(s,{class:"mx-1"},{default:e(()=>[d(o(l.value.customerName),1)]),_:1})]),_:1})]),_:1}),a(n,{span:8},{default:e(()=>[a(t,{label:"手机号码:"},{default:e(()=>[a(s,{class:"mx-1"},{default:e(()=>[d(o(l.value.customerPhone),1)]),_:1})]),_:1})]),_:1}),a(n,{span:8},{default:e(()=>[a(t,{label:"电子邮箱:"},{default:e(()=>[a(s,{class:"mx-1"},{default:e(()=>[d(o(l.value.emailAddress),1)]),_:1})]),_:1})]),_:1}),a(n,{span:8},{default:e(()=>[a(t,{label:"创建人:"},{default:e(()=>[a(s,{class:"mx-1"},{default:e(()=>[d(o(l.value.createName),1)]),_:1})]),_:1})]),_:1}),a(n,{span:8},{default:e(()=>[a(t,{label:"创建时间:"},{default:e(()=>[a(s,{class:"mx-1"},{default:e(()=>[d(o(l.value.createTime),1)]),_:1})]),_:1})]),_:1}),a(n,{span:8},{default:e(()=>[a(t,{label:"负责人:"},{default:e(()=>[a(s,{class:"mx-1"},{default:e(()=>[d(o(l.value.chargeName),1)]),_:1})]),_:1})]),_:1}),a(n,{span:8},{default:e(()=>[a(t,{label:"结算周期:"},{default:e(()=>[a(s,{class:"mx-1"},{default:e(()=>[d(o(l.value.settlementCycle),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(h,{class:"box-card"},{header:e(()=>[J]),default:e(()=>[a(C,{gutter:24},{default:e(()=>[a(n,{span:8},{default:e(()=>[a(t,{label:"客户状态:"},{default:e(()=>[a(s,{class:"mx-1"},{default:e(()=>[d(o(l.value.customerStatus===1?"关闭":"开启"),1)]),_:1})]),_:1})]),_:1}),a(n,{span:8},{default:e(()=>[a(t,{label:"资料:"},{default:e(()=>[a(s,{class:"mx-1"},{default:e(()=>[d(o(l.value.antecedentQuestionnaire===1?"关闭":"开启"),1)]),_:1})]),_:1})]),_:1}),a(n,{span:8},{default:e(()=>[a(t,{label:"风险控制:"},{default:e(()=>[a(s,{class:"mx-1"},{default:e(()=>[d(o(l.value.riskControl===1?"关闭":"开启"),1)]),_:1})]),_:1})]),_:1}),a(n,{span:8},{default:e(()=>[a(t,{label:"营业限额/月:"},{default:e(()=>[a(s,{class:"mx-1"},{default:e(()=>[d(o(l.value.turnover),1)]),_:1})]),_:1})]),_:1}),a(n,{span:8},{default:e(()=>[a(t,{label:"审核率Min值:"},{default:e(()=>[a(s,{class:"mx-1"},{default:e(()=>[d(o(l.value.turnover),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(h,{class:"box-card"},{header:e(()=>[K]),default:e(()=>[a(D,{data:l.value.getTenantCustomerOperationInfoList,border:""},{default:e(()=>[a(m,{type:"index",label:"序号",width:"80"}),a(m,{prop:"createTime",label:"操作时间"}),a(m,{prop:"createName",label:"操作人"}),a(m,{label:"操作事项"},{default:e(({row:r})=>[d(o(E(r.operationType)),1)]),_:1}),a(m,{label:"详情:"},{default:e(({row:r})=>[r.operationType===2?(g(),w(A,{key:0,type:"primary",link:"",onClick:X=>T(r)},{default:e(()=>[d(" 详情 ")]),_:2},1032,["onClick"])):z("",!0)]),_:1})]),_:1},8,["data"])]),_:1}),a(M,{ref_key:"checkRef",ref:x},null,512)]),_:1})]),_:1},8,["modelValue"])}}}),te=U(W,[["__scopeId","data-v-ea9fcd4d"]]);export{te as default};
