
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{u as I,T as M}from"./index-By9cxPVj.js";import{_ as B}from"./index.vue_vue_type_script_setup_true_lang-Cu6CY5Pd.js";import{d as N,r as l,a5 as S,a3 as w,G as z,a as u,o as r,b,f as d,w as c,g as _,e as m,F as U,n as $,l as T,I as E,R as F,j as g,an as y,_ as P}from"./index-LooN7LAT.js";import"./index-PaHEmWxv.js";import"./index-DFJLODe7.js";import"./apiLoading-DUZm31YG.js";import"./otherFunctions_basicDictionary-BPMnqCZl.js";import"./basicDictionary-CN5sUaNN.js";import"./user_customer-BA7LapcC.js";import"./user_customer-D-OWd7Ke.js";import"./stagedData-CcolcJQm.js";const G={style:{float:"right",position:"sticky",top:"19px",width:"70%","z-index":"1000",display:"flex","justify-content":"start","align-items":"start"}},q=N({__name:"index",props:{leftTabsData:Array,validateTopTabs:Array,validateAll:Array,title:String},emits:["validate"],setup(k,{expose:h,emit:H}){const x=I(),s=k;l();const j=l(),e=l(s.leftTabsData),R=l(s.validateTopTabs),f=l(),v=l(0),a=l(0);function L(){const{projectId:o,...t}=y(e.value[0]);console.log("projectId, ...syncdata",o,t),f.value[a.value].getUpLoad(t.descriptionUrl),e.value.splice(a.value,1,t)}function C(){a.value=++v.value;const{projectId:o,...t}=y(x.initialTopTabsData);e.value.push(t)}function V(o){e.value.splice(o,1),R.value.splice(o,1),a.value>=e.value.length&&(a.value=Math.max(0,e.value.length-1),v.value=Math.max(0,e.value.length-1))}return S(()=>{e.value.forEach((o,t)=>{const p=l(null);w(`formRef${t}`,p)})}),z(()=>{console.log("leftTabs",e.value)}),h({activeLeftTab:a}),(o,t)=>{const p=u("el-button"),A=u("el-tab-pane"),D=u("el-tabs");return r(),b("div",null,[d(p,{class:"button",disabled:e.value.length>29,onClick:t[0]||(t[0]=n=>C())},{default:c(()=>[_(" 新增 ")]),_:1},8,["disabled"]),e.value.length?(r(),m(D,{key:0,modelValue:a.value,"onUpdate:modelValue":t[1]||(t[1]=n=>a.value=n),"tab-position":"left",onTabRemove:V},{default:c(()=>[(r(!0),b(U,null,$(e.value,(n,i)=>(r(),m(A,{key:i,style:{position:"relative"},closable:e.value.length!==1,name:i},{label:c(()=>[T("div",{class:F(s.validateAll[i]&&s.validateAll[i]==="rejected"?"validateRejected":"")},E(n.name||"项目名称"),3)]),default:c(()=>[T("div",G,[a.value>0?(r(),m(p,{key:0,size:"small",type:"primary",round:"",plain:"",onClick:L},{default:c(()=>[_(" 同步数据 ")]),_:1})):g("",!0)]),d(M,{ref_for:!0,ref_key:"topTabsRef",ref:f,"left-tab":n,title:s.title,"tab-index":i},null,8,["left-tab","title","tab-index"])]),_:2},1032,["closable","name"]))),128)),d(B,{ref_key:"settingsRef",ref:j},null,512)]),_:1},8,["modelValue"])):g("",!0)])}}}),le=P(q,[["__scopeId","data-v-9567a808"]]);export{le as default};
