
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{k as Z,d as ee,M as te,aM as oe,q as ae,r as L,D as ne,E as M,H as le,a as r,al as re,o as m,b as se,f as a,w as n,i as o,aA as j,g as _,G as ie,l as pe,am as ue,e as b,j as h,P as ce,L as de,aO as me,aP as be,p as ge,aK as fe,aL as _e,F as he,_ as ve,n as E}from"./index-13Balsai.js";import{_ as ke}from"./index.vue_vue_type_style_index_0_lang-CSh2gVlG.js";import{_ as Ie}from"./index.vue_vue_type_script_setup_true_lang-DF9smcU1.js";import{u as Ce}from"./useTabbar-6x9eIbQX.js";const we={list:u=>Z.post("callback/getProjectOrMemberGroupIr",u)},ye=u=>(fe("data-v-4d914c5a"),u=u(),_e(),u),Le=ye(()=>he("div",{class:"i-grommet-icons:power-reset h-1em w-1em"},null,-1)),O=ee({name:"SurveyIrQueryList",__name:"list",setup(u){te();const{pagination:c,getParams:G,onSizeChange:z,onCurrentChange:S,onSortChange:D}=oe();Ce(),ae();const g=L([{label:"项目ID",prop:"projectOrMemberGroupId",sortable:!0,checked:!0},{label:"项目名称",prop:"projectOrMemberGroupName",sortable:!0,checked:!0},{label:"项目IR",prop:"ir",sortable:!0,checked:!0},{label:"项目实际IR",prop:"projectIr",sortable:!0,checked:!0}]),e=L({loading:!1,tableAutoHeight:!1,border:!0,stripe:!1,lineHeight:"default",checkList:[],formMode:"drawer",formModeProps:{visible:!1,id:""},search:{type:1,projectOrMemberGroupId:"",projectOrMemberGroupName:""},batch:{enable:!1,selectionDataList:[]},dataList:[]});ne(()=>{i(),g.value.forEach(s=>{s.checked&&e.value.checkList.push(s.prop)}),e.value.formMode==="router"&&M.on("get-data-list",()=>{i()})}),le(()=>{e.value.formMode==="router"&&M.off("get-data-list")});function H(s){i()}function i(){e.value.loading=!0;const s={...G(),...e.value.search};we.list(s).then(t=>{e.value.loading=!1,e.value.dataList=t.data.projectOrMemberGroupIrList,c.value.total=t.data.total})}function V(){Object.assign(e.value.search,{title:""}),i()}function P(s){z(s).then(()=>i())}function d(s=1){S(s).then(()=>i())}function R({prop:s,order:t}){D(s,t).then(()=>i())}return(s,t)=>{const v=r("el-tab-pane"),$=r("el-tabs"),N=r("el-col"),C=r("el-row"),w=r("ElInput"),k=r("ElFormItem"),y=de,I=r("ElButton"),U=r("ElForm"),B=Ie,T=r("ElDivider"),A=ke,x=r("el-button"),F=me,K=be,Q=r("el-table-column"),f=r("ElTableColumn"),q=r("ElTable"),J=r("ElPagination"),W=ge,X=re("loading");return m(),se("div",{class:ce({"absolute-container":o(e).tableAutoHeight})},[a(W,null,{default:n(()=>[a(C,{gutter:24},{default:n(()=>[a(N,{span:24},{default:n(()=>[a($,{modelValue:o(e).search.type,"onUpdate:modelValue":t[0]||(t[0]=l=>o(e).search.type=l),onTabChange:H},{default:n(()=>[a(v,{label:"项目IR",name:1}),a(v,{label:"会员IR",name:2}),a(v,{label:"小组IR",name:3})]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(B,{"show-toggle":!1},{default:n(({fold:l,toggle:Y})=>[a(U,{model:o(e).search,size:"default","label-width":"100px","inline-message":"",inline:"",class:"search-form"},{default:n(()=>[a(k,null,{default:n(()=>[a(w,{modelValue:o(e).search.projectOrMemberGroupId,"onUpdate:modelValue":t[1]||(t[1]=p=>o(e).search.projectOrMemberGroupId=p),placeholder:"项目ID",clearable:"",onKeydown:t[2]||(t[2]=j(p=>d(),["enter"])),onClear:t[3]||(t[3]=p=>d())},null,8,["modelValue"])]),_:1}),a(k,null,{default:n(()=>[a(w,{modelValue:o(e).search.projectOrMemberGroupName,"onUpdate:modelValue":t[4]||(t[4]=p=>o(e).search.projectOrMemberGroupName=p),placeholder:"项目名称",clearable:"",onKeydown:t[5]||(t[5]=j(p=>d(),["enter"])),onClear:t[6]||(t[6]=p=>d())},null,8,["modelValue"])]),_:1}),a(k,null,{default:n(()=>[a(I,{type:"primary",onClick:t[7]||(t[7]=p=>d())},{icon:n(()=>[a(y,{name:"i-ep:search"})]),default:n(()=>[_(" 筛选 ")]),_:1}),a(I,{onClick:V},{icon:n(()=>[Le]),default:n(()=>[_(" 重置 ")]),_:1}),a(I,{disabled:"",link:"",onClick:Y},{icon:n(()=>[a(y,{name:l?"i-ep:caret-bottom":"i-ep:caret-top"},null,8,["name"])]),default:n(()=>[_(" "+ie(l?"展开":"收起"),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1032,["model"])]),_:1}),a(T,{"border-style":"dashed"}),a(C,null,{default:n(()=>[a(A),a(K,null,{default:n(()=>[a(x,{size:"default"},{default:n(()=>[_(" 导出 ")]),_:1}),a(F,{border:o(e).border,"onUpdate:border":t[8]||(t[8]=l=>o(e).border=l),tableAutoHeight:o(e).tableAutoHeight,"onUpdate:tableAutoHeight":t[9]||(t[9]=l=>o(e).tableAutoHeight=l),checkList:o(e).checkList,"onUpdate:checkList":t[10]||(t[10]=l=>o(e).checkList=l),columns:o(g),"onUpdate:columns":t[11]||(t[11]=l=>pe(g)?g.value=l:null),"line-height":o(e).lineHeight,"onUpdate:lineHeight":t[12]||(t[12]=l=>o(e).lineHeight=l),stripe:o(e).stripe,"onUpdate:stripe":t[13]||(t[13]=l=>o(e).stripe=l),style:{"margin-left":"12px"},onQueryData:i},null,8,["border","tableAutoHeight","checkList","columns","line-height","stripe"])]),_:1})]),_:1}),ue((m(),b(q,{border:o(e).border,size:o(e).lineHeight,stripe:o(e).stripe,class:"my-4",data:o(e).dataList,"highlight-current-row":"",height:"100%",onSortChange:R,onSelectionChange:t[14]||(t[14]=l=>o(e).batch.selectionDataList=l)},{default:n(()=>[a(Q,{align:"center","show-overflow-tooltip":"",type:"selection"}),o(e).checkList.includes("projectOrMemberGroupId")?(m(),b(f,{key:0,"show-overflow-tooltip":"",align:"center",prop:"projectOrMemberGroupId",label:"项目ID"})):h("",!0),o(e).checkList.includes("projectOrMemberGroupName")?(m(),b(f,{key:1,"show-overflow-tooltip":"",align:"center",prop:"projectOrMemberGroupName",label:"项目名称"})):h("",!0),o(e).checkList.includes("ir")?(m(),b(f,{key:2,"show-overflow-tooltip":"",align:"center",prop:"ir",label:"项目IR"})):h("",!0),o(e).checkList.includes("projectIr")?(m(),b(f,{key:3,"show-overflow-tooltip":"",align:"center",prop:"projectIr",label:"项目实际IR"})):h("",!0)]),_:1},8,["border","size","stripe","data"])),[[X,o(e).loading]]),a(J,{"current-page":o(c).page,total:o(c).total,"page-size":o(c).size,"page-sizes":o(c).sizes,layout:o(c).layout,"hide-on-single-page":!1,class:"pagination",background:"",onSizeChange:P,onCurrentChange:d},null,8,["current-page","total","page-size","page-sizes","layout"])]),_:1})],2)}}});typeof E=="function"&&E(O);const Ge=ve(O,[["__scopeId","data-v-4d914c5a"]]);export{Ge as default};
