
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{e as N}from"./index-DkOs4Kru.js";import{g as P,a as z}from"./zh_Hans-CrfEz-Jr.js";import"./index-iJRjh0Y-.js";import{a as p,d as B,r as m,o as D,ai as g,a3 as i,al as E,a4 as L,i as l,b as h,j as _,g as n,w as r,O as M,P as j,z as H}from"./index-D3JQ81m5.js";const R="粗体",U="粗体文本",A="Markdown 语法",S="关闭帮助",W="关闭目录",$="代码",G="代码块",J="编程语言",K="代码",Q="退出全屏",X="恢复默认",Y="恢复默认",Z="全屏",ee="一级标题",te="二级标题",le="三级标题",oe="四级标题",ne="五级标题",se="六级标题",ae="标题",ce="帮助",ie="分割线",re="图片",ue="alt",de="图片描述",pe="斜体",me="斜体文本",fe="已达最大字符数限制",ve="行数",ge="链接",he="链接描述",_e="有序列表",xe="项目",be="预览",ye="仅预览区",we="引用",Te="引用文本",ke="快捷键",Oe="源代码",Ve="同步滚动",qe="目录",Ce="回到顶部",Fe="无序列表",Ie="项目",Ne="字数",Pe="编辑",ze="仅编辑区",Be={bold:R,boldText:U,cheatsheet:A,closeHelp:S,closeToc:W,code:$,codeBlock:G,codeLang:J,codeText:K,exitFullscreen:Q,exitPreviewOnly:X,exitWriteOnly:Y,fullscreen:Z,h1:ee,h2:te,h3:le,h4:oe,h5:ne,h6:se,headingText:ae,help:ce,hr:ie,image:re,imageAlt:ue,imageTitle:de,italic:pe,italicText:me,limited:fe,lines:ve,link:ge,linkText:he,ol:_e,olItem:xe,preview:be,previewOnly:ye,quote:we,quotedText:Te,shortcuts:ke,source:Oe,sync:Ve,toc:qe,top:Ce,ul:Fe,ulItem:Ie,words:Ne,write:Pe,writeOnly:ze},x={list:s=>p.post("notice/getNotice",s),create:s=>p.post("notice/insertNotice",s),edit:s=>p.post("notice/updateNotice",s),delete:s=>p.post("notice/deleteNotice",s)},De=B({__name:"index",props:["id","row"],setup(s,{expose:b}){const v=s,y=[{label:"公告",value:1},{label:"常见问题",value:2},{label:"帮助",value:3}],o=m(!1),u=m(),e=m({id:v.id,title:"",type:"",text:"",top:!1}),w=m({title:[{required:!0,message:"请输入标题",trigger:"blur"}],type:[{required:!0,message:"请选择类型",trigger:"change"}]}),T=[P({locale:z})];function k(c){e.value.text=c}D(()=>{e.value.id!==""&&O()});function O(){try{o.value=!0,e.value=v.row,o.value=!1}catch{}finally{o.value=!1}}return b({submit(){return new Promise(c=>{e.value.id===""?u.value&&u.value.validate(t=>{if(t)try{delete e.value.id,o.value=!0,x.create(e.value).then(()=>{o.value=!1,g.success({message:"新增成功",center:!0}),c()})}catch{}finally{o.value=!1}}):u.value&&u.value.validate(t=>{if(t)try{o.value=!0,x.edit(e.value).then(()=>{o.value=!1,g.success({message:"编辑成功",center:!0}),c()})}catch{}finally{o.value=!1}})})}}),(c,t)=>{const f=i("el-input"),d=i("el-form-item"),V=i("el-option"),q=i("el-select"),C=i("el-checkbox"),F=i("ElForm"),I=E("loading");return L((h(),_("div",null,[n(F,{ref_key:"formRef",ref:u,model:l(e),rules:l(w),"label-width":"120px"},{default:r(()=>[n(d,{label:"标题",prop:"title"},{default:r(()=>[n(f,{modelValue:l(e).title,"onUpdate:modelValue":t[0]||(t[0]=a=>l(e).title=a),placeholder:"请输入标题",clearable:"",onChange:t[1]||(t[1]=()=>{})},null,8,["modelValue"])]),_:1}),n(d,{label:"类型",prop:"type"},{default:r(()=>[n(q,{modelValue:l(e).type,"onUpdate:modelValue":t[2]||(t[2]=a=>l(e).type=a),"value-key":"",placeholder:"类型",clearable:"",filterable:""},{default:r(()=>[(h(),_(M,null,j(y,a=>n(V,{key:a.value,label:a.label,value:a.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),n(d,{label:"内容"},{default:r(()=>[n(l(N),{class:"editor",value:l(e).text,plugins:T,locale:l(Be),onChange:k},null,8,["value","locale"])]),_:1}),n(d,{label:""},{default:r(()=>[n(C,{modelValue:l(e).top,"onUpdate:modelValue":t[3]||(t[3]=a=>l(e).top=a),label:"置顶",size:"large"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])])),[[I,l(o)]])}}}),Ee=H(De,[["__scopeId","data-v-ee3968c4"]]),Re=Object.freeze(Object.defineProperty({__proto__:null,default:Ee},Symbol.toStringTag,{value:"Module"}));export{Ee as D,x as a,Re as i};
