
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{d as S,l as F,r as y,c as M,n as q,a as c,q as A,o as i,b as g,i as a,e as d,w as t,y as b,f as l,g as p,s as H,z as _,N as U,F as C,t as $,j as k,be as G,L as J}from"./index-DPapYRlU.js";import{_ as K}from"./index-CzUBR6H3.js";import{a as O}from"./user_customer-Bx0ZMK9_.js";import"./index-CJ_hbdPY.js";import"./clipboard-BgKpnIi9.js";const Q={class:"copyId"},R={class:"id oneLine"},W={style:{"text-align":"center"}},X=S({name:"ProjeckEdit",__name:"index",setup(Y,{expose:w}){const h=F(),o=y({dialogTableVisible:!1,title:"",type:"",loading:"",tableData:[],staffList:[]}),v=y([]);async function L(s){o.value.loading=!0,o.value.dialogTableVisible=!0;const r=await O.getCustomerProjectList({tenantCustomerId:s.tenantCustomerId});o.value.tableData=r.data.getTenantCustomerProjectInfoList,o.value.loading=!1}const u=M(()=>s=>v.value.filter(n=>s.includes(n.id)).map(n=>n.chineseName));function j(){o.value.dialogTableVisible=!1,o.value.tableData=[]}q(async()=>{v.value=await h.getCountry()}),w({showEdit:L});const m=y();function V(s){s?m.value=s.projectId:m.value=""}return(s,r)=>{const n=c("el-table-column"),x=K,f=c("el-tag"),D=c("el-link"),T=c("el-tooltip"),N=G,z=c("el-table"),B=c("el-button"),P=c("el-dialog"),E=A("loading");return i(),g("div",null,[a(o).dialogTableVisible?(i(),d(P,{key:0,modelValue:a(o).dialogTableVisible,"onUpdate:modelValue":r[0]||(r[0]=e=>a(o).dialogTableVisible=e),style:{"min-height":"500px"},title:"查看",draggable:""},{footer:t(()=>[b("div",W,[l(B,{type:"primary",onClick:j},{default:t(()=>[p("关闭")]),_:1})])]),default:t(()=>[H((i(),d(z,{"row-key":"projectId",data:a(o).tableData,"highlight-current-row":"",height:"450px",onCurrentChange:V},{default:t(()=>[l(n,{align:"left",type:"index"}),l(n,{width:"200",align:"left",label:"项目ID"},{default:t(({row:e})=>[b("div",Q,[b("div",R,"ID: "+_(e.projectId),1),l(x,{class:U(["copy",{rowCopy:"rowCopy",current:e.projectId===a(m)}]),content:e.projectId},null,8,["content","class"])])]),_:1}),l(n,{"show-overflow-tooltip":"",prop:"projectName",width:"100",align:"left",label:"项目名称"}),l(n,{"show-overflow-tooltip":"",prop:"projectIdentification",width:"100",align:"left",label:"项目名称"}),l(n,{"show-overflow-tooltip":"",prop:"countryIdList",align:"left",label:"区域",width:"100"},{default:t(({row:e})=>[e.countryIdList?(i(),g(C,{key:0},[e.countryIdList.length===a(h).country.length?(i(),d(f,{key:0,size:"small",type:"primary"},{default:t(()=>[p("全球")]),_:1})):a(u)(e.countryIdList).length>1?(i(),d(T,{key:1,class:"box-item",effect:"dark",content:a(u)(e.countryIdList).join(","),placement:"top"},{default:t(()=>[l(D,{type:"primary"},{default:t(()=>[l(f,{size:"small",type:"primary"},{default:t(()=>[p("×"+_(a(u)(e.countryIdList).length),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["content"])):(i(!0),g(C,{key:2},$(a(u)(e.countryIdList),I=>(i(),d(f,{size:"small",key:I,type:"primary"},{default:t(()=>[p(_(I),1)]),_:2},1024))),128))],64)):k("",!0)]),_:1}),l(n,{"show-overflow-tooltip":"",align:"left",label:"项目价"},{default:t(({row:e})=>[l(N),p(_(e.doMoneyPrice||0),1)]),_:1})]),_:1},8,["data"])),[[E,a(o).loading]])]),_:1},8,["modelValue"])):k("",!0)])}}}),le=J(X,[["__scopeId","data-v-03a68542"]]);export{le as default};
