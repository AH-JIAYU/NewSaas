
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{_ as E}from"./HTooltip.vue_vue_type_script_setup_true_lang-BqoMLhZ8.js";import R from"./index-CShxEY1d.js";import{d as $,r as n,a0 as j,a as r,o as s,b as d,f as m,w as c,g as _,F as T,n as z,e as p,j as y,l as A,ak as x}from"./index-Cfx4AYRq.js";const F=A("div",{class:"i-bi:exclamation-circle h-1em w-1em"},null,-1),S=$({__name:"index",props:{leftTabsData:Array,validateTopTabs:Array},setup(h){const f=h,v=n(),e=n(f.leftTabsData),k=n(f.validateTopTabs);e.value.forEach((a,l)=>{const u=n(null);j(`formRef${l}`,u)});const b=n(0),t=n(0),g={name:"新建项目",platform:{},screen:{},security:{}};function C(){const a=x(e.value[0]);e.value[t.value]=a}function V(){const a=x(e.value[0]);t.value=++b.value,e.value.push({...g,client:v.value,await:a.await,multi:a.multi})}function w(a){e.value.splice(a,1),k.value.splice(a,1),t.value>=e.value.length&&(t.value=Math.max(0,e.value.length-1),b.value=Math.max(0,e.value.length-1))}function B(a){e.value.forEach(l=>{l.client=a}),v.value=a}return(a,l)=>{const u=r("el-button"),D=E,L=r("el-tab-pane"),N=r("el-tabs");return s(),d(T,null,[m(u,{onClick:l[0]||(l[0]=o=>V())},{default:c(()=>[_(" 添加子项目 ")]),_:1}),m(N,{modelValue:t.value,"onUpdate:modelValue":l[1]||(l[1]=o=>t.value=o),"tab-position":"left",onTabRemove:w},{default:c(()=>[(s(!0),d(T,null,z(e.value,(o,i)=>(s(),p(L,{key:i,closable:e.value.length!==1,label:o.name,name:i},{default:c(()=>[t.value>0?(s(),p(u,{key:0,style:{"margin-bottom":"5px"},size:"small",type:"primary",round:"",plain:"",onClick:C},{default:c(()=>[_(" 同步主项目数据 ")]),_:1})):y("",!0),t.value>0?(s(),p(D,{key:1,style:{"z-index":"9",color:"#48a2ff","margin-left":"5px"},text:"注意噢！"},{default:c(()=>[F]),_:1})):y("",!0),m(R,{"left-tab":o,"tab-index":i,onSetClient:B},null,8,["left-tab","tab-index"])]),_:2},1032,["closable","label","name"]))),128))]),_:1},8,["modelValue"])],64)}}});export{S as _};
