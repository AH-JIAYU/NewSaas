
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{d as ye,aI as ke,r as a,a4 as Ce,G as Ee,a as n,al as Se,o as f,b as ze,f as e,w as t,am as d,e as g,g as r,I as De,i as v,R as Re,ak as q,N as Ie,aK as $e,aL as xe,s as Be,aG as Pe,aH as He,l as Le,aB as m,_ as Me}from"./index-C9-fbFy3.js";import{_ as Ue}from"./index.vue_vue_type_style_index_0_lang-TOiozKiB.js";import{_ as Ae}from"./index.vue_vue_type_script_setup_true_lang-B8w1uNiq.js";import{_ as Ne}from"./index.vue_vue_type_script_setup_true_lang-BLJEF9aU.js";import{_ as Ve}from"./index.vue_vue_type_script_setup_true_lang-nZoc0Pfs.js";import Fe from"./index-DpoT7RP3.js";import{_ as je}from"./index.vue_vue_type_script_setup_true_lang-BciliD8Q.js";import Oe from"./index-ecnuNr1G.js";import{_ as Ge}from"./index.vue_vue_type_script_setup_true_lang-Cq8V5QhC.js";const Te=b=>(Pe("data-v-82c07e4d"),b=b(),He(),b),qe=Te(()=>Le("div",{class:"i-grommet-icons:power-reset h-1em w-1em"},null,-1)),Ke=ye({name:"ProjectManagementSettlementIndex",__name:"list",setup(b){const{pagination:p,onSizeChange:K,onCurrentChange:Q}=ke();a("");const J=a(""),L=a(!0),S=a(),M=a(),z=a(),U=a(),A=a(),N=a(),D=a(!1),R=a(!0),V=a([]);a(!1);const I=a("default"),$=a(!1),c=a([]),F=a([{label:"项目ID",prop:"ID",sortable:!0,disableCheck:!0,checked:!0}]),h=Ce({pageNo:1,pageSize:10,title:"",order:{id:"ASC"},select:{}}),j=a([]);function O(i){c.value=i}function W(i){if(!c.value.length)return q({message:"请选择至少一条数据",type:"warning"});c.value.length===1?S.value.showEdit(i):z.value.showEdit(i,c.value)}function X(){M.value.showEdit()}function Y(i){if(!c.value.length)return q({message:"请选择至少一条数据",type:"warning"});c.value.length===1?S.value.showEdit(i):c.value.length>1&&z.value.showEdit(i,c.value)}function G(i){U.value.showEdit()}function Z(i){A.value.showEdit()}function ee(i){N.value.showEdit()}function te(i){K(i).then(()=>B())}function x(i=1){Q(i).then(()=>B())}function le(){Object.assign(h,{pageNo:1,pageSize:10,title:"",order:{id:"ASC"},select:{}})}async function B(){L.value=!0,j.value=[{a:1,b:2,c:3,d:4,e:5,f:6,g:7,h:8,r:9,i:10,id:1},{a:1,b:2,c:3,d:4,e:5,f:6,g:7,h:8,r:9,i:10,id:1},{a:1,b:2,c:3,d:4,e:5,f:6,g:7,h:8,r:9,i:10,id:1},{a:1,b:2,c:3,d:4,e:5,f:6,g:7,h:8,r:9,i:10,id:1},{a:1,b:2,c:3,d:4,e:5,f:6,g:7,h:8,r:9,i:10,id:1},{a:1,b:2,c:3,d:4,e:5,f:6,g:7,h:8,r:9,i:10,id:1}],p.value.total=3,L.value=!1}Ee(()=>{B()});function oe(i,l){switch(i){case"auditing":G();break;case"edit":Z();break;case"refundDetails":ee();break}}return(i,l)=>{const w=n("el-input"),u=n("el-form-item"),y=n("el-option"),k=n("el-select"),ne=n("el-date-picker"),P=Ie,C=n("ElButton"),ae=n("ElFormItem"),ie=n("el-form"),re=Ae,se=n("ElDivider"),_=n("el-button"),ue=Ue,ce=$e,de=xe,pe=n("el-row"),s=n("el-table-column"),H=n("ElDropdownItem"),fe=n("ElDropdownMenu"),me=n("ElDropdown"),_e=n("ElSpace"),ge=n("el-empty"),ve=n("el-table"),be=n("ElPagination"),he=Be,we=Se("loading");return f(),ze("div",{class:Re({"absolute-container":D.value})},[e(he,null,{default:t(()=>[e(re,{"show-toggle":!1},{default:t(({fold:o,toggle:E})=>[e(ie,{model:h,size:"default","label-width":"6.25rem","inline-message":"",inline:"",class:"search-form"},{default:t(()=>[e(u,{label:""},{default:t(()=>[e(w,{clearable:"",placeholder:"项目ID"})]),_:1}),e(u,{label:""},{default:t(()=>[e(w,{clearable:"",placeholder:"项目名称"})]),_:1}),e(u,{label:""},{default:t(()=>[e(w,{clearable:"",placeholder:"项目标识"})]),_:1}),d(e(u,{label:""},{default:t(()=>[e(k,{placeholder:"国家地区"},{default:t(()=>[(f(),g(y,{key:11,label:11,value:111},{default:t(()=>[r(" 11111 ")]),_:1}))]),_:1})]),_:2},1536),[[m,!o]]),d(e(u,{label:""},{default:t(()=>[e(k,{placeholder:"客户简称"},{default:t(()=>[(f(),g(y,{key:11,label:11,value:111},{default:t(()=>[r(" 11111 ")]),_:1}))]),_:1})]),_:2},1536),[[m,!o]]),d(e(u,{label:""},{default:t(()=>[e(k,{placeholder:"结算状态"},{default:t(()=>[(f(),g(y,{key:11,label:11,value:111},{default:t(()=>[r(" 11111 ")]),_:1}))]),_:1})]),_:2},1536),[[m,!o]]),d(e(u,null,{default:t(()=>[e(w,{clearable:"",placeholder:"创建人"})]),_:2},1536),[[m,!o]]),d(e(u,{label:""},{default:t(()=>[e(k,{placeholder:"时间类型"},{default:t(()=>[(f(),g(y,{key:11,label:11,value:111},{default:t(()=>[r(" 11111 ")]),_:1}))]),_:1})]),_:2},1536),[[m,!o]]),d(e(u,null,{default:t(()=>[e(ne,{modelValue:h.select.time,"onUpdate:modelValue":l[0]||(l[0]=T=>h.select.time=T),type:"daterange","unlink-panels":"","range-separator":"-","start-placeholder":"创建开始日期","end-placeholder":"创建结束日期",size:"default",style:{width:"12rem"},"clear-icon":"true"},null,8,["modelValue"])]),_:2},1536),[[m,!o]]),e(ae,null,{default:t(()=>[e(C,{type:"primary",onClick:l[1]||(l[1]=T=>x())},{icon:t(()=>[e(P,{name:"i-ep:search"})]),default:t(()=>[r(" 筛选 ")]),_:1}),e(C,{onClick:le},{icon:t(()=>[qe]),default:t(()=>[r(" 重置 ")]),_:1}),e(C,{link:"",onClick:E},{icon:t(()=>[e(P,{name:o?"i-ep:caret-bottom":"i-ep:caret-top"},null,8,["name"])]),default:t(()=>[r(" "+De(o?"展开":"收起"),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1032,["model"])]),_:1}),e(se,{"border-style":"dashed"}),e(pe,{gutter:24},{default:t(()=>[e(ue,null,{default:t(()=>[e(_,{type:"primary",size:"default",onClick:X},{default:t(()=>[r(" 添加结算 ")]),_:1}),e(_,{type:"primary",size:"default",onClick:l[2]||(l[2]=o=>W(1))},{default:t(()=>[r(" 开票 ")]),_:1}),e(_,{type:"primary",size:"default",onClick:l[3]||(l[3]=o=>Y(2))},{default:t(()=>[r(" 结算 ")]),_:1})]),_:1}),e(de,null,{default:t(()=>[e(_,{size:"default",onClick:l[4]||(l[4]=()=>{})},{default:t(()=>[r(" 导出 ")]),_:1}),e(ce,{border:R.value,"onUpdate:border":l[5]||(l[5]=o=>R.value=o),tableAutoHeight:D.value,"onUpdate:tableAutoHeight":l[6]||(l[6]=o=>D.value=o),checkList:V.value,"onUpdate:checkList":l[7]||(l[7]=o=>V.value=o),columns:F.value,"onUpdate:columns":l[8]||(l[8]=o=>F.value=o),"line-height":I.value,"onUpdate:lineHeight":l[9]||(l[9]=o=>I.value=o),stripe:$.value,"onUpdate:stripe":l[10]||(l[10]=o=>$.value=o),style:{"margin-left":".75rem"},onQueryData:x},null,8,["border","tableAutoHeight","checkList","columns","line-height","stripe"])]),_:1})]),_:1}),d((f(),g(ve,{ref_key:"tableSortRef",ref:J,style:{"margin-top":"10px"},"row-key":"id",data:j.value,border:R.value,size:I.value,stripe:$.value,onSelectionChange:O},{empty:t(()=>[e(ge,{description:"暂无数据"})]),default:t(()=>[e(s,{type:"selection"}),e(s,{type:"index",align:"center",label:"序号",width:"55"}),e(s,{"show-overflow-tooltip":"",prop:"a",align:"center",label:"项目ID"}),e(s,{"show-overflow-tooltip":"",prop:"b",align:"center",label:"项目名称"}),e(s,{"show-overflow-tooltip":"",prop:"c",align:"center",label:"客户简称/标识"}),e(s,{"show-overflow-tooltip":"",prop:"d",align:"center",label:"原价"}),e(s,{"show-overflow-tooltip":"",prop:"e",align:"center",label:"所属国家"}),e(s,{"show-overflow-tooltip":"",prop:"f",align:"center",label:"系统完成数"}),e(s,{"show-overflow-tooltip":"",prop:"g",align:"center",label:"结算完成数"}),e(s,{"show-overflow-tooltip":"",prop:"h",align:"center",label:"结算PO号"}),e(s,{"show-overflow-tooltip":"",prop:"h",align:"center",label:"结算状态"}),e(s,{"show-overflow-tooltip":"",prop:"h",align:"center",label:"节点时间"}),e(s,{"show-overflow-tooltip":"",prop:"j",align:"center",label:"创建人"}),e(s,{align:"center",label:"操作",width:"190"},{default:t(({row:o})=>[e(_e,null,{default:t(()=>[e(_,{type:"primary",size:"small",plain:"",onClick:l[11]||(l[11]=E=>G(O))},{default:t(()=>[r(" 审核 ")]),_:1}),e(me,{onCommand:E=>oe(E,o)},{dropdown:t(()=>[e(fe,null,{default:t(()=>[e(H,{command:"auditing"},{default:t(()=>[r(" 重审 ")]),_:1}),e(H,{command:"edit"},{default:t(()=>[r(" 结算编辑 ")]),_:1}),e(H,{command:"refundDetails"},{default:t(()=>[r(" 退款详情 ")]),_:1})]),_:1})]),default:t(()=>[e(C,{size:"small"},{default:t(()=>[r(" 更多操作 "),e(P,{name:"i-ep:arrow-down",class:"el-icon--right"})]),_:1})]),_:2},1032,["onCommand"])]),_:2},1024)]),_:1})]),_:1},8,["data","border","size","stripe"])),[[we,!1]]),e(be,{"current-page":v(p).page,total:v(p).total,"page-size":v(p).size,"page-sizes":v(p).sizes,layout:v(p).layout,"hide-on-single-page":!1,class:"pagination",background:"",onSizeChange:te,onCurrentChange:x},null,8,["current-page","total","page-size","page-sizes","layout"]),e(Ne,{ref_key:"invoicingRef",ref:S},null,512),e(Ve,{ref_key:"settlementRef",ref:z},null,512),e(Fe,{ref_key:"auditingRef",ref:U},null,512),e(je,{ref_key:"editRef",ref:A},null,512),e(Oe,{ref_key:"refundRef",ref:N},null,512),e(Ge,{ref_key:"addSettlementRef",ref:M},null,512)]),_:1})],2)}}}),ot=Me(Ke,[["__scopeId","data-v-82c07e4d"]]);export{ot as default};
