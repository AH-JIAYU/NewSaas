
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{k as l,d as E,r as u,B as R,at as b,a as c,ak as w,al as U,i as a,o as f,b as v,f as r,w as d,F as V,n as D,e as B,g as C,_ as S}from"./index-C32xF_ni.js";import M from"./index-BERQB40D.js";const g={list:t=>l.get("otherFunctions/question_library/list",{params:t,baseURL:"/mock/"}),detail:t=>l.get("otherFunctions/question_library/detail",{params:{id:t},baseURL:"/mock/"}),create:t=>l.post("otherFunctions/question_library/create",t,{baseURL:"/mock/"}),edit:t=>l.post("otherFunctions/question_library/edit",t,{baseURL:"/mock/"}),delete:t=>l.post("otherFunctions/question_library/delete",{id:t},{baseURL:"/mock/"})},Q=E({__name:"index",props:{id:{default:""}},setup(t,{expose:y}){const m=u(!1),s=u(),e=u({countryIdList:[],addProjectProblemInfoList:[]}),I=u({countryIdList:[{required:!0,message:"请选择问卷归属国家",trigger:"blur"}]}),p={question:"",questionType:1,answerValue:[]};function L(){e.value.addProjectProblemInfoList.push({...p})}function h(n){e.value.addProjectProblemInfoList.splice(n,1)}R(()=>{m.value=!0,e.value.addProjectProblemInfoList.length||P()});function P(){e.value.addProjectProblemInfoList.push({...p}),m.value=!1}return y({submit(){return new Promise(n=>{e.value.id===""?s.value&&s.value.validate(o=>{o&&g.create(e.value).then(()=>{b.success({message:"模拟新增成功",center:!0}),n()})}):s.value&&s.value.validate(o=>{o&&g.edit(e.value).then(()=>{b.success({message:"模拟编辑成功",center:!0}),n()})})})}}),(n,o)=>{const k=c("ElSelect"),_=c("ElFormItem"),x=c("el-button"),F=c("ElForm"),j=w("loading");return U((f(),v("div",null,[r(F,{ref_key:"formRef",ref:s,model:a(e),rules:a(I),"label-width":"160px","label-suffix":"："},{default:d(()=>[r(_,{label:"问卷归属国家",prop:"countryIdList"},{default:d(()=>[r(k,{modelValue:a(e).countryIdList,"onUpdate:modelValue":o[0]||(o[0]=i=>a(e).countryIdList=i),placeholder:"请选择问卷归属国家"},null,8,["modelValue"])]),_:1}),(f(!0),v(V,null,D(a(e).addProjectProblemInfoList,(i,q)=>(f(),B(M,{key:i,item:i,index:q,onHandle:h},null,8,["item","index"]))),128)),r(_,null,{default:d(()=>[r(x,{type:"primary",text:"",size:"default",onClick:L},{default:d(()=>[C("新增问题")]),_:1})]),_:1})]),_:1},8,["model","rules"])])),[[j,a(m)]])}}}),T=S(Q,[["__scopeId","data-v-103f70e2"]]),O=Object.freeze(Object.defineProperty({__proto__:null,default:T},Symbol.toStringTag,{value:"Module"}));export{T as D,g as a,O as i};
