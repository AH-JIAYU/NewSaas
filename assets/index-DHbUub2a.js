
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{d as j,aN as P,r as m,o as U,a3 as h,al as Y,b as a,j as i,a4 as A,c as _,w as t,g as o,i as f,aM as F,h as c,t as C,k as l,O as Q,aR as R,aQ as q,aH as O,aI as $,f as r,z as G}from"./index-BnVk3aZr.js";import{a as J}from"./user_cooperation-C6nPNrir.js";const p=y=>(O("data-v-30845610"),y=y(),$(),y),K={key:0,xmlns:"http://www.w3.org/2000/svg",width:"7",height:"12",viewBox:"0 0 7 12",fill:"none"},W=p(()=>r("path",{id:"Vector",d:"M2.83487 12V11.0864C2.23394 11.0106 1.82794 10.876 1.45186 10.6825C1.07578 10.489 0.750979 10.1763 0.477227 9.74469C0.203474 9.31305 0.0443987 8.78572 0 8.16248L1.20826 7.9355C1.30181 8.58082 1.46634 9.05473 1.70235 9.35745C2.04044 9.78458 2.36334 9.87195 2.83511 9.92086V6.24645C2.34102 6.1529 1.91817 5.96177 1.402 5.67235C1.01927 5.45867 0.724387 5.16284 0.517589 4.78462C0.310553 4.4064 0.207273 3.97689 0.207273 3.4961C0.207273 2.64161 0.509754 1.94974 1.11519 1.42005C1.52 1.06414 2.03854 0.791105 2.83534 0.711092V0H3.83087V0.711092C4.52962 0.777809 4.87792 1.03755 5.28748 1.38016C5.81267 1.81631 6.12868 2.41486 6.23553 3.17581L4.99379 3.36267C4.92256 2.8909 4.77251 2.5312 4.5498 2.27787C4.44272 2.15607 4.22239 1.86071 3.83087 1.78046V5.24522C4.43607 5.39646 4.631 5.51446 4.82688 5.59899C5.20082 5.76376 5.50544 5.96391 5.74144 6.19968C5.97721 6.43568 6.1586 6.71608 6.28562 7.04088C6.41241 7.36568 6.4758 7.7173 6.4758 8.09552C6.4758 8.9277 6.21107 9.62194 5.68137 10.1782C5.15168 10.7345 4.67207 11.0327 3.83087 11.0729V11.9998H2.83487V12ZM2.83487 1.76716C2.36761 1.83839 2.08152 2.02525 1.81227 2.32797C1.54303 2.63068 1.40841 2.98896 1.40841 3.40279C1.40841 3.81235 1.52285 4.15496 1.75221 4.43085C1.98132 4.70698 2.28736 4.92707 2.83487 5.09184V1.76716ZM3.8304 9.93463C4.29765 9.87693 4.46504 9.79953 4.78295 9.46429C5.03747 9.19576 5.24024 8.68767 5.24024 8.17601C5.24024 7.73986 5.13221 7.38942 4.91639 7.12469C4.70057 6.85996 4.47549 6.62301 3.83016 6.41383V9.93463H3.8304Z",fill:"#333333"},null,-1)),X=[W],e1={key:1,xmlns:"http://www.w3.org/2000/svg",width:"9",height:"10",viewBox:"0 0 9 10",fill:"none"},t1=p(()=>r("path",{id:"Vector",d:"M8.79096 0L5.5738 4.56065H8.10931V5.56885H5.15558V6.95736H8.10931V7.97816H5.15558V10H3.63591V7.97816H0.574054V6.95736H3.63591V5.56885H0.574054V4.56065H3.18642L0 0H1.7134C3.20235 2.26497 4.10624 3.70177 4.42676 4.30931H4.45749C4.56617 4.05905 4.86361 3.55523 5.34877 2.79785L7.17085 0H8.79096Z",fill:"#333333"},null,-1)),o1=[t1],a1={key:0,class:"plus"},l1=p(()=>r("div",{class:"plusSpan i-majesticons:plus-line w-1em h-1em"},null,-1)),n1={key:0,xmlns:"http://www.w3.org/2000/svg",width:"7",height:"12",viewBox:"0 0 7 12",fill:"none"},s1=p(()=>r("path",{id:"Vector",d:"M2.83487 12V11.0864C2.23394 11.0106 1.82794 10.876 1.45186 10.6825C1.07578 10.489 0.750979 10.1763 0.477227 9.74469C0.203474 9.31305 0.0443987 8.78572 0 8.16248L1.20826 7.9355C1.30181 8.58082 1.46634 9.05473 1.70235 9.35745C2.04044 9.78458 2.36334 9.87195 2.83511 9.92086V6.24645C2.34102 6.1529 1.91817 5.96177 1.402 5.67235C1.01927 5.45867 0.724387 5.16284 0.517589 4.78462C0.310553 4.4064 0.207273 3.97689 0.207273 3.4961C0.207273 2.64161 0.509754 1.94974 1.11519 1.42005C1.52 1.06414 2.03854 0.791105 2.83534 0.711092V0H3.83087V0.711092C4.52962 0.777809 4.87792 1.03755 5.28748 1.38016C5.81267 1.81631 6.12868 2.41486 6.23553 3.17581L4.99379 3.36267C4.92256 2.8909 4.77251 2.5312 4.5498 2.27787C4.44272 2.15607 4.22239 1.86071 3.83087 1.78046V5.24522C4.43607 5.39646 4.631 5.51446 4.82688 5.59899C5.20082 5.76376 5.50544 5.96391 5.74144 6.19968C5.97721 6.43568 6.1586 6.71608 6.28562 7.04088C6.41241 7.36568 6.4758 7.7173 6.4758 8.09552C6.4758 8.9277 6.21107 9.62194 5.68137 10.1782C5.15168 10.7345 4.67207 11.0327 3.83087 11.0729V11.9998H2.83487V12ZM2.83487 1.76716C2.36761 1.83839 2.08152 2.02525 1.81227 2.32797C1.54303 2.63068 1.40841 2.98896 1.40841 3.40279C1.40841 3.81235 1.52285 4.15496 1.75221 4.43085C1.98132 4.70698 2.28736 4.92707 2.83487 5.09184V1.76716ZM3.8304 9.93463C4.29765 9.87693 4.46504 9.79953 4.78295 9.46429C5.03747 9.19576 5.24024 8.68767 5.24024 8.17601C5.24024 7.73986 5.13221 7.38942 4.91639 7.12469C4.70057 6.85996 4.47549 6.62301 3.83016 6.41383V9.93463H3.8304Z",fill:"#333333"},null,-1)),i1=[s1],c1={key:1,xmlns:"http://www.w3.org/2000/svg",width:"9",height:"10",viewBox:"0 0 9 10",fill:"none"},r1=p(()=>r("path",{id:"Vector",d:"M8.79096 0L5.5738 4.56065H8.10931V5.56885H5.15558V6.95736H8.10931V7.97816H5.15558V10H3.63591V7.97816H0.574054V6.95736H3.63591V5.56885H0.574054V4.56065H3.18642L0 0H1.7134C3.20235 2.26497 4.10624 3.70177 4.42676 4.30931H4.45749C4.56617 4.05905 4.86361 3.55523 5.34877 2.79785L7.17085 0H8.79096Z",fill:"#333333"},null,-1)),p1=[r1],d1={key:1,class:"plus"},C1=p(()=>r("div",{class:"minusSign i-iconamoon:sign-minus-bold w-1em h-1em"},null,-1)),u1={key:0,xmlns:"http://www.w3.org/2000/svg",width:"7",height:"12",viewBox:"0 0 7 12",fill:"none"},h1=p(()=>r("path",{id:"Vector",d:"M2.83487 12V11.0864C2.23394 11.0106 1.82794 10.876 1.45186 10.6825C1.07578 10.489 0.750979 10.1763 0.477227 9.74469C0.203474 9.31305 0.0443987 8.78572 0 8.16248L1.20826 7.9355C1.30181 8.58082 1.46634 9.05473 1.70235 9.35745C2.04044 9.78458 2.36334 9.87195 2.83511 9.92086V6.24645C2.34102 6.1529 1.91817 5.96177 1.402 5.67235C1.01927 5.45867 0.724387 5.16284 0.517589 4.78462C0.310553 4.4064 0.207273 3.97689 0.207273 3.4961C0.207273 2.64161 0.509754 1.94974 1.11519 1.42005C1.52 1.06414 2.03854 0.791105 2.83534 0.711092V0H3.83087V0.711092C4.52962 0.777809 4.87792 1.03755 5.28748 1.38016C5.81267 1.81631 6.12868 2.41486 6.23553 3.17581L4.99379 3.36267C4.92256 2.8909 4.77251 2.5312 4.5498 2.27787C4.44272 2.15607 4.22239 1.86071 3.83087 1.78046V5.24522C4.43607 5.39646 4.631 5.51446 4.82688 5.59899C5.20082 5.76376 5.50544 5.96391 5.74144 6.19968C5.97721 6.43568 6.1586 6.71608 6.28562 7.04088C6.41241 7.36568 6.4758 7.7173 6.4758 8.09552C6.4758 8.9277 6.21107 9.62194 5.68137 10.1782C5.15168 10.7345 4.67207 11.0327 3.83087 11.0729V11.9998H2.83487V12ZM2.83487 1.76716C2.36761 1.83839 2.08152 2.02525 1.81227 2.32797C1.54303 2.63068 1.40841 2.98896 1.40841 3.40279C1.40841 3.81235 1.52285 4.15496 1.75221 4.43085C1.98132 4.70698 2.28736 4.92707 2.83487 5.09184V1.76716ZM3.8304 9.93463C4.29765 9.87693 4.46504 9.79953 4.78295 9.46429C5.03747 9.19576 5.24024 8.68767 5.24024 8.17601C5.24024 7.73986 5.13221 7.38942 4.91639 7.12469C4.70057 6.85996 4.47549 6.62301 3.83016 6.41383V9.93463H3.8304Z",fill:"#333333"},null,-1)),_1=[h1],f1={key:1,xmlns:"http://www.w3.org/2000/svg",width:"9",height:"10",viewBox:"0 0 9 10",fill:"none"},g1=p(()=>r("path",{id:"Vector",d:"M8.79096 0L5.5738 4.56065H8.10931V5.56885H5.15558V6.95736H8.10931V7.97816H5.15558V10H3.63591V7.97816H0.574054V6.95736H3.63591V5.56885H0.574054V4.56065H3.18642L0 0H1.7134C3.20235 2.26497 4.10624 3.70177 4.42676 4.30931H4.45749C4.56617 4.05905 4.86361 3.55523 5.34877 2.79785L7.17085 0H8.79096Z",fill:"#333333"},null,-1)),V1=[g1],m1={key:0,xmlns:"http://www.w3.org/2000/svg",width:"7",height:"12",viewBox:"0 0 7 12",fill:"none"},y1=p(()=>r("path",{id:"Vector",d:"M2.83487 12V11.0864C2.23394 11.0106 1.82794 10.876 1.45186 10.6825C1.07578 10.489 0.750979 10.1763 0.477227 9.74469C0.203474 9.31305 0.0443987 8.78572 0 8.16248L1.20826 7.9355C1.30181 8.58082 1.46634 9.05473 1.70235 9.35745C2.04044 9.78458 2.36334 9.87195 2.83511 9.92086V6.24645C2.34102 6.1529 1.91817 5.96177 1.402 5.67235C1.01927 5.45867 0.724387 5.16284 0.517589 4.78462C0.310553 4.4064 0.207273 3.97689 0.207273 3.4961C0.207273 2.64161 0.509754 1.94974 1.11519 1.42005C1.52 1.06414 2.03854 0.791105 2.83534 0.711092V0H3.83087V0.711092C4.52962 0.777809 4.87792 1.03755 5.28748 1.38016C5.81267 1.81631 6.12868 2.41486 6.23553 3.17581L4.99379 3.36267C4.92256 2.8909 4.77251 2.5312 4.5498 2.27787C4.44272 2.15607 4.22239 1.86071 3.83087 1.78046V5.24522C4.43607 5.39646 4.631 5.51446 4.82688 5.59899C5.20082 5.76376 5.50544 5.96391 5.74144 6.19968C5.97721 6.43568 6.1586 6.71608 6.28562 7.04088C6.41241 7.36568 6.4758 7.7173 6.4758 8.09552C6.4758 8.9277 6.21107 9.62194 5.68137 10.1782C5.15168 10.7345 4.67207 11.0327 3.83087 11.0729V11.9998H2.83487V12ZM2.83487 1.76716C2.36761 1.83839 2.08152 2.02525 1.81227 2.32797C1.54303 2.63068 1.40841 2.98896 1.40841 3.40279C1.40841 3.81235 1.52285 4.15496 1.75221 4.43085C1.98132 4.70698 2.28736 4.92707 2.83487 5.09184V1.76716ZM3.8304 9.93463C4.29765 9.87693 4.46504 9.79953 4.78295 9.46429C5.03747 9.19576 5.24024 8.68767 5.24024 8.17601C5.24024 7.73986 5.13221 7.38942 4.91639 7.12469C4.70057 6.85996 4.47549 6.62301 3.83016 6.41383V9.93463H3.8304Z",fill:"#333333"},null,-1)),H1=[y1],v1={key:1,xmlns:"http://www.w3.org/2000/svg",width:"9",height:"10",viewBox:"0 0 9 10",fill:"none"},w1=p(()=>r("path",{id:"Vector",d:"M8.79096 0L5.5738 4.56065H8.10931V5.56885H5.15558V6.95736H8.10931V7.97816H5.15558V10H3.63591V7.97816H0.574054V6.95736H3.63591V5.56885H0.574054V4.56065H3.18642L0 0H1.7134C3.20235 2.26497 4.10624 3.70177 4.42676 4.30931H4.45749C4.56617 4.05905 4.86361 3.55523 5.34877 2.79785L7.17085 0H8.79096Z",fill:"#333333"},null,-1)),b1=[w1],k1=j({__name:"index",emits:["fetch-data"],setup(y,{expose:k,emit:T1}){const{format:T}=R(),{pagination:g,getParams:x1,onSizeChange:x,onCurrentChange:L,onSortChange:L1}=P();m([]);const s=m({loading:!1,activeName:"myFinancial",tableAutoHeight:!1,border:!1,stripe:!1,lineHeight:"default",checkList:[],search:{page:1,limit:10,allocationTenantId:null,projectId:null,clickId:null,operationType:null,type:null}}),I=m(!1),b=m();m([{label:"点击ID",checked:!0,sortable:!0,prop:"clickId"},{label:"项目ID",checked:!0,sortable:!0,prop:"projectId"},{label:"类型",checked:!0,sortable:!0,prop:"type"},{label:"说明",checked:!0,sortable:!0,prop:"remark"},{label:"变动前",checked:!0,sortable:!0,prop:"beforeBalance"},{label:"加减款",checked:!0,sortable:!0,prop:"difference"},{label:"变动后",checked:!0,sortable:!0,prop:"afterBalance"},{label:"时间",checked:!0,sortable:!0,prop:"updateTime"}]);async function M(n){n.beInvitationTenantId&&(s.value.search.allocationTenantId=n.beInvitationTenantId,await H()),I.value=!0}const H=async()=>{console.log("financialLog挂载了");try{s.value.loading=!0;const n={...s.value.search},V=await J.queryCompanyRecordQueryAmount(n);b.value=V.data.items,g.value.total=+V.data.total,s.value.loading=!1}catch{}finally{s.value.loading=!1}};U(()=>{H()});function B(n){x(n).then(()=>{s.value.search.limit=n,H()})}function S(n=1){L(n).then(()=>{s.value.search.page=n,H()})}return k({showEdit:M}),(n,V)=>{const u=h("el-text"),d=h("ElTableColumn"),w=h("el-tag"),v=q,Z=h("el-tooltip"),D=h("el-empty"),z=h("ElTable"),N=h("ElPagination"),E=Y("loading");return a(),i(Q,null,[A((a(),_(z,{border:s.value.border,size:s.value.lineHeight,stripe:s.value.stripe,class:"my-4",data:b.value,"highlight-current-row":"",onSortChange:n.sortChange,onSelectionChange:V[0]||(V[0]=e=>s.value.batch.selectionDataList=e)},{empty:t(()=>[o(D,{image:f(F),"image-size":300},null,8,["image"])]),default:t(()=>[o(d,{"show-overflow-tooltip":"",align:"left",prop:"",label:"点击ID"},{default:t(({row:e})=>[o(u,{class:"color3"},{default:t(()=>[c(C(e.clickId?e.clickId:"-"),1)]),_:2},1024)]),_:1}),o(d,{"show-overflow-tooltip":"",align:"left",prop:"projectId",label:"项目ID"},{default:t(({row:e})=>[o(u,{class:"color3"},{default:t(()=>[c(C(e.projectId?e.projectId:"-"),1)]),_:2},1024)]),_:1}),o(d,{"show-overflow-tooltip":"",width:"120",align:"left",prop:"type",label:"类型"},{default:t(({row:e})=>[e.type===1?(a(),_(w,{key:0,type:"warning",effect:"dark"},{default:t(()=>[c("待审余额")]),_:1})):l("",!0),e.type===2?(a(),_(w,{key:1,type:"primary",effect:"dark"},{default:t(()=>[c("可用余额")]),_:1})):l("",!0)]),_:1}),o(d,{"show-overflow-tooltip":"",align:"left",prop:"remark",label:"说明"},{default:t(({row:e})=>[o(u,{class:"mx-1 color3"},{default:t(()=>[c(C(e.remark?e.remark:"-"),1)]),_:2},1024)]),_:1}),o(d,{"show-overflow-tooltip":"",align:"left",prop:"beforeBalance",width:"150",label:"变动前"},{default:t(({row:e})=>[e.currencyType==="USD"?(a(),i("svg",K,X)):l("",!0),e.currencyType==="CNY"?(a(),i("svg",e1,o1)):l("",!0),o(u,{class:"fontColor color3"},{default:t(()=>[e.currencyType?l("",!0):(a(),_(v,{key:0})),c(C(e.beforeBalance||0),1)]),_:2},1024)]),_:1}),o(d,{"show-overflow-tooltip":"",align:"left",prop:"difference",label:"加减款",width:"120"},{default:t(({row:e})=>[e.operationType===1?(a(),i("p",a1,[l1,o(u,{class:"color3"},{default:t(()=>[e.currencyType==="USD"?(a(),i("svg",n1,i1)):l("",!0),e.currencyType==="CNY"?(a(),i("svg",c1,p1)):l("",!0),e.currencyType?l("",!0):(a(),_(v,{key:2})),c(C(Math.abs(e.difference)),1)]),_:2},1024)])):l("",!0),e.operationType===2?(a(),i("p",d1,[C1,o(u,{class:"color3"},{default:t(()=>[e.currencyType==="USD"?(a(),i("svg",u1,_1)):l("",!0),e.currencyType==="CNY"?(a(),i("svg",f1,V1)):l("",!0),e.currencyType?l("",!0):(a(),_(v,{key:2})),c(C(Math.abs(e.difference)),1)]),_:2},1024)])):l("",!0)]),_:1}),o(d,{"show-overflow-tooltip":"",align:"left",prop:"afterBalance",width:"150",label:"变动后"},{default:t(({row:e})=>[e.currencyType==="USD"?(a(),i("svg",m1,H1)):l("",!0),e.currencyType==="CNY"?(a(),i("svg",v1,b1)):l("",!0),e.currencyType?l("",!0):(a(),_(v,{key:2})),o(u,{class:"fontColor color3"},{default:t(()=>[c(C(e.afterBalance||0),1)]),_:2},1024)]),_:1}),o(d,{"show-overflow-tooltip":"",align:"left",prop:"updateTime",label:"时间"},{default:t(({row:e})=>[o(Z,{content:e.updateTime,placement:"top"},{default:t(()=>[o(w,{effect:"plain",type:"info"},{default:t(()=>[c(C(f(T)(e.updateTime)),1)]),_:2},1024)]),_:2},1032,["content"])]),_:1})]),_:1},8,["border","size","stripe","data","onSortChange"])),[[E,s.value.loading]]),o(N,{"current-page":f(g).page,total:f(g).total,"page-size":f(g).size,"page-sizes":f(g).sizes,layout:f(g).layout,"hide-on-single-page":!1,class:"pagination",background:"",onSizeChange:B,onCurrentChange:S},null,8,["current-page","total","page-size","page-sizes","layout"])],64)}}}),B1=G(k1,[["__scopeId","data-v-30845610"]]);export{B1 as default};
