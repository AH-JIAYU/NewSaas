
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{k as ie,d as se,aM as ce,r as u,a5 as ue,l as de,a as i,al as pe,o as d,b as me,f as t,w as o,i as e,am as V,g,J as N,p as h,e as m,j as _,S as be,O as _e,aO as fe,aP as ge,s as he,aK as ke,aL as ve,I as T,aE as E,_ as Ie}from"./index-D7X-4r4C.js";import{_ as Ce}from"./index.vue_vue_type_style_index_0_lang-DYMN0rHm.js";import{_ as ye}from"./index.vue_vue_type_script_setup_true_lang-Cx8Udm5H.js";const we={list:f=>ie.post("callback/getCustomerCallbackRecordList",f)},R=f=>(ke("data-v-6ccd1828"),f=f(),ve(),f),Se=R(()=>T("div",{class:"i-grommet-icons:power-reset h-1em w-1em"},null,-1)),Ue=R(()=>T("br",null,null,-1)),Ve=se({name:"RecordCallbackIndex",__name:"index",setup(f){const{pagination:b,getParams:P,onSizeChange:B,onCurrentChange:F}=ce(),j=u(!1),x=u([]),M=u(""),s=u([]),I=u(!0),C=u(!1),y=u("default"),w=u(!1),S=u([{prop:"customerShortName",label:"客户简称",sortable:!0,checked:!0},{prop:"memberChildId",label:"对象",sortable:!0,checked:!0},{prop:"projectId",label:"项目id",sortable:!0,checked:!0},{prop:"projectName",label:"项目名称",sortable:!0,checked:!0},{prop:"callbackUrl",label:"回调url",sortable:!0,checked:!0},{prop:"subordinateUrl",label:"下级url",sortable:!0,checked:!0},{prop:"callbackTime",label:"回调时间",sortable:!0,checked:!0}]),n=ue({time:[],beginTime:"",endTime:"",projectId:"",projectName:"",memberChildId:"",tenantSupplierId:""});function $(r){B(r).then(()=>k())}function D(r=1){F(r).then(()=>k())}function H(){b.value.page=1,k()}async function k(){j.value=!0;const r={...P(),...n};n.time&&n.time.length&&(r.beginTime=n.time[0]||"",r.endTime=n.time[1]||"");const l=await we.list(r);x.value=l.data.customerCallbackRecordInfoList,b.value.total=l.data.total,j.value=!1}function A(){Object.assign(n,{time:[],beginTime:"",endTime:"",projectId:"",projectName:"",memberChildId:"",tenantSupplierId:""}),k()}function O(r){M.value=r}return de(async()=>{S.value.forEach(r=>{r.checked&&s.value.push(r.prop)}),k()}),(r,l)=>{const U=i("el-input"),v=i("el-form-item"),q=i("el-date-picker"),L=_e,z=i("ElButton"),J=i("ElFormItem"),K=i("ElForm"),Q=ye,G=i("ElDivider"),W=Ce,X=i("el-button"),Y=fe,Z=ge,ee=i("el-row"),p=i("el-table-column"),te=i("el-empty"),le=i("el-table"),oe=i("ElPagination"),ae=he,ne=pe("loading");return d(),me("div",{class:be({"absolute-container":e(w)})},[t(ae,null,{default:o(()=>[t(Q,{"show-toggle":!1},{default:o(({fold:a,toggle:re})=>[t(K,{model:e(n),size:"default","label-width":"100px","inline-message":"",inline:"",class:"search-form"},{default:o(()=>[t(v,{label:""},{default:o(()=>[t(U,{modelValue:e(n).tenantSupplierId,"onUpdate:modelValue":l[0]||(l[0]=c=>e(n).tenantSupplierId=c),modelModifiers:{trim:!0},clearable:"",inline:!1,placeholder:"供应商ID"},null,8,["modelValue"])]),_:1}),t(v,{label:""},{default:o(()=>[t(U,{modelValue:e(n).projectId,"onUpdate:modelValue":l[1]||(l[1]=c=>e(n).projectId=c),modelModifiers:{trim:!0},clearable:"",inline:!1,placeholder:"项目ID"},null,8,["modelValue"])]),_:1}),V(t(v,{label:""},{default:o(()=>[t(U,{modelValue:e(n).projectName,"onUpdate:modelValue":l[2]||(l[2]=c=>e(n).projectName=c),modelModifiers:{trim:!0},clearable:"",inline:!1,placeholder:"项目名称"},null,8,["modelValue"])]),_:2},1536),[[E,!a]]),V(t(v,{label:""},{default:o(()=>[t(U,{modelValue:e(n).memberChildId,"onUpdate:modelValue":l[3]||(l[3]=c=>e(n).memberChildId=c),modelModifiers:{trim:!0},clearable:"",inline:!1,placeholder:"子会员id/会员id"},null,8,["modelValue"])]),_:2},1536),[[E,!a]]),V(t(v,{label:""},{default:o(()=>[t(q,{modelValue:e(n).time,"onUpdate:modelValue":l[4]||(l[4]=c=>e(n).time=c),type:"daterange","unlink-panels":"","range-separator":"-","start-placeholder":"创建开始日期","end-placeholder":"创建结束日期",size:"default",style:{width:"192px"},"clear-icon":"true"},null,8,["modelValue"])]),_:2},1536),[[E,!a]]),t(J,null,{default:o(()=>[t(z,{type:"primary",onClick:l[5]||(l[5]=c=>D())},{icon:o(()=>[t(L,{name:"i-ep:search"})]),default:o(()=>[g(" 筛选 ")]),_:1}),t(z,{onClick:A},{icon:o(()=>[Se]),default:o(()=>[g(" 重置 ")]),_:1}),t(z,{link:"",onClick:re},{icon:o(()=>[t(L,{name:a?"i-ep:caret-bottom":"i-ep:caret-top"},null,8,["name"])]),default:o(()=>[g(" "+N(a?"展开":"收起"),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1032,["model"])]),_:1}),t(G,{"border-style":"dashed"}),t(ee,null,{default:o(()=>[t(W),t(Z,null,{default:o(()=>[t(X,{size:"default"},{default:o(()=>[g(" 导出 ")]),_:1}),t(Y,{border:e(I),"onUpdate:border":l[6]||(l[6]=a=>h(I)?I.value=a:null),tableAutoHeight:e(w),"onUpdate:tableAutoHeight":l[7]||(l[7]=a=>h(w)?w.value=a:null),checkList:e(s),"onUpdate:checkList":l[8]||(l[8]=a=>h(s)?s.value=a:null),columns:e(S),"onUpdate:columns":l[9]||(l[9]=a=>h(S)?S.value=a:null),"line-height":e(y),"onUpdate:lineHeight":l[10]||(l[10]=a=>h(y)?y.value=a:null),stripe:e(C),"onUpdate:stripe":l[11]||(l[11]=a=>h(C)?C.value=a:null),style:{"margin-left":"12px"},onQueryData:H},null,8,["border","tableAutoHeight","checkList","columns","line-height","stripe"])]),_:1})]),_:1}),V((d(),m(le,{border:e(I),data:e(x),size:e(y),stripe:e(C),onSelectionChange:O},{empty:o(()=>[t(te,{class:"vab-data-empty",description:"暂无数据"})]),default:o(()=>[t(p,{align:"center","show-overflow-tooltip":"",type:"selection"}),e(s).includes("customerShortName")?(d(),m(p,{key:0,align:"center",prop:"customerShortName","show-overflow-tooltip":"",label:"客户简称"})):_("",!0),e(s).includes("memberChildId")?(d(),m(p,{key:1,align:"center","show-overflow-tooltip":"",label:"对象"},{default:o(({row:a})=>[g(N(a.memberChildId)+" ",1),Ue,g(" "+N(a.randomIdentityId),1)]),_:1})):_("",!0),e(s).includes("projectId")?(d(),m(p,{key:2,align:"center",prop:"projectId","show-overflow-tooltip":"",label:"项目ID"})):_("",!0),e(s).includes("projectName")?(d(),m(p,{key:3,align:"center",prop:"projectName","show-overflow-tooltip":"",label:"项目名称"})):_("",!0),e(s).includes("callbackUrl")?(d(),m(p,{key:4,align:"center",prop:"callbackUrl",label:"回调URL"})):_("",!0),e(s).includes("subordinateUrl")?(d(),m(p,{key:5,align:"center",prop:"subordinateUrl",label:"下级URL"})):_("",!0),e(s).includes("callbackTime")?(d(),m(p,{key:6,align:"center",prop:"callbackTime","show-overflow-tooltip":"",label:"回调时间"})):_("",!0)]),_:1},8,["border","data","size","stripe"])),[[ne,e(j)]]),t(oe,{"current-page":e(b).page,total:e(b).total,"page-size":e(b).size,"page-sizes":e(b).sizes,layout:e(b).layout,"hide-on-single-page":!1,class:"pagination",background:"",onSizeChange:$,onCurrentChange:D},null,8,["current-page","total","page-size","page-sizes","layout"])]),_:1})],2)}}}),Ee=Ie(Ve,[["__scopeId","data-v-6ccd1828"]]);export{Ee as default};
