
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{e as ne}from"./index-BNqHV-oe.js";import{g as de,z as se,a as ie}from"./index-DFJLODe7.js";import{k as D,d as re,v as pe,r as b,a2 as fe,a as d,o as f,e as v,w as l,f as e,i,j as U,l as r,g,D as me,b as C,b8 as _e,E as S,n as q,F as R,ai as M,az as ce,aA as be,_ as Ve}from"./index-CBZ2Pv-y.js";const ve={upload:p=>D.post("project/uploadQiniu",p),detail:p=>D.post("project/getQiniuFileUrl",p),delete:p=>D.post("project/deleteQiniu",p)},V=p=>(ce("data-v-70791844"),p=p(),be(),p),Te=V(()=>r("div",{class:"card-header"},[r("span",null,"基本信息")],-1)),ge={style:{display:"flex","justify-content":"space-between"},class:"card-header"},ye=V(()=>r("span",null,"描述配额",-1)),Ue={key:0},Ie=V(()=>r("div",{class:"el-upload__text"},"上传",-1)),xe=V(()=>r("div",{class:"el-upload__tip"},"jpg/png单文件大小小于10 mb",-1)),ke=["src"],je=V(()=>r("div",{class:"card-header"},[r("span",null,"其他设置")],-1)),we=V(()=>r("br",null,null,-1)),Pe=V(()=>r("div",{class:"card-header"},"配置信息",-1)),ze=V(()=>r("div",{class:"card-header"},"安全信息",-1)),De=re({name:"SurveyTopTabs",__name:"index",props:{leftTab:Object,tabIndex:Number},setup(p){const L=pe("validateTopTabs"),t=p,B=b(),I=b(!1),h=b({name:[{required:!0,message:"请输入项目名称"}],projectIdentification:[{required:!0,message:"请输入项目标识"}],countryId:[{required:!0,message:"请选择所属国家"}],clientId:[{required:!0,message:"请选择所属客户"}],uidUrl:[{required:!0,message:"请输入UidUrl"}],doMoneyPrice:[{required:!0,message:"请输入原价(美元)"}],num:[{required:!0,message:"请输入配额"}]}),F=b([{value:"终端",label:"终端"},{value:"性别",label:"性别"},{value:"年龄",label:"年龄"}]),A=[de({locale:ie})],j=b([4,8]),w=b("basicSettings");function O(_){t.leftTab.richText=_}function H(){I.value=!I.value}const N=b(""),x=b(!1),G=async(_,o)=>{const{status:m}=await ve.delete({fileName:t.leftTab.descriptionUrl});m===1&&M.success({message:"删除成功",center:!0})},J=(_,o)=>{t.leftTab.descriptionUrl=_.data.qiNiuUrl},K=async(_,o)=>{M.warning({message:"只能上传一个,删除原文件后重新上传",center:!0})},W=_=>{N.value=_.url,x.value=!0};return fe(()=>{L(B.value)}),(_,o)=>{const m=d("el-input"),n=d("el-form-item"),u=d("el-col"),s=d("el-row"),T=d("el-input-number"),k=d("el-checkbox"),y=d("el-card"),X=d("el-button"),Y=d("el-icon"),Z=d("el-upload"),$=d("el-dialog"),c=d("el-switch"),P=d("el-select"),ee=d("el-date-picker"),le=d("ElForm"),z=d("el-tab-pane"),Q=d("el-option"),E=d("el-radio"),ae=d("el-radio-group"),te=d("el-checkbox-group"),oe=d("el-slider"),ue=d("el-tabs");return f(),v(ue,{modelValue:i(w),"onUpdate:modelValue":o[27]||(o[27]=a=>S(w)?w.value=a:null)},{default:l(()=>[e(z,{label:"基础设置",name:"basicSettings"},{default:l(()=>[e(le,{"label-width":"100px",rules:i(h),ref_key:"formRef",ref:B,model:t.leftTab},{default:l(()=>[e(y,{"body-style":""},{header:l(()=>[Te]),default:l(()=>[e(s,{gutter:20},{default:l(()=>[e(u,{span:6},{default:l(()=>[e(n,{label:"项目名称",prop:"name"},{default:l(()=>[e(m,{modelValue:t.leftTab.name,"onUpdate:modelValue":o[0]||(o[0]=a=>t.leftTab.name=a),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:6},{default:l(()=>[e(n,{label:"项目标识",prop:"projectIdentification"},{default:l(()=>[e(m,{clearable:"",modelValue:t.leftTab.projectIdentification,"onUpdate:modelValue":o[1]||(o[1]=a=>t.leftTab.projectIdentification=a)},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:6},{default:l(()=>[e(n,{label:"所属客户",prop:"clientId"},{default:l(()=>[e(m,{placeholder:"Select",modelValue:t.leftTab.clientId,"onUpdate:modelValue":o[2]||(o[2]=a=>t.leftTab.clientId=a),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:6},{default:l(()=>[e(n,{label:"所属国家",prop:"countryId"},{default:l(()=>[e(m,{clearable:"",filterable:"",modelValue:t.leftTab.countryId,"onUpdate:modelValue":o[3]||(o[3]=a=>t.leftTab.countryId=a)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(s,{gutter:20},{default:l(()=>[e(u,{span:6},{default:l(()=>[e(n,{label:"原价(美元)",prop:"doMoneyPrice"},{default:l(()=>[e(T,{modelValue:t.leftTab.doMoneyPrice,"onUpdate:modelValue":o[4]||(o[4]=a=>t.leftTab.doMoneyPrice=a),min:1,"controls-position":"right",size:"large"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:6},{default:l(()=>[e(n,{label:"配额",prop:"num"},{default:l(()=>[e(T,{modelValue:t.leftTab.num,"onUpdate:modelValue":o[5]||(o[5]=a=>t.leftTab.num=a),step:1,"step-strictly":"",min:1,"controls-position":"right",size:"large"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:6},{default:l(()=>[e(n,{label:"最小分长"},{default:l(()=>[e(T,{modelValue:t.leftTab.minimumDuration,"onUpdate:modelValue":o[6]||(o[6]=a=>t.leftTab.minimumDuration=a),min:1,step:1,"step-strictly":"","controls-position":"right",size:"large"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:6},{default:l(()=>[e(n,{label:"IR"},{default:l(()=>[e(T,{modelValue:t.leftTab.ir,"onUpdate:modelValue":o[7]||(o[7]=a=>t.leftTab.ir=a),min:1,"controls-position":"right",size:"large"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(s,{gutter:20},{default:l(()=>[e(u,{span:12},{default:l(()=>[e(n,{label:"UidUrl",prop:"uidUrl"},{default:l(()=>[e(m,{clearable:"",modelValue:t.leftTab.uidUrl,"onUpdate:modelValue":o[8]||(o[8]=a=>t.leftTab.uidUrl=a)},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:3},{default:l(()=>[e(n,{label:"填写互斥ID"},{default:l(()=>[e(k,{modelValue:t.leftTab.mutualExclusion,"onUpdate:modelValue":o[9]||(o[9]=a=>t.leftTab.mutualExclusion=a),style:{top:"-4px"},size:"large","true-value":1,"false-value":2},null,8,["modelValue"])]),_:1})]),_:1}),t.leftTab.mutualExclusion===1?(f(),v(u,{key:0,span:12},{default:l(()=>[e(n,{label:"互斥ID"},{default:l(()=>[e(m,{clearable:""})]),_:1})]),_:1})):U("",!0)]),_:1})]),_:1}),e(y,null,{header:l(()=>[r("div",ge,[ye,e(X,{type:"primary",link:"",size:"default",onClick:H},{default:l(()=>[g(me(i(I)?"收起":"展开"),1)]),_:1})])]),default:l(()=>[i(I)?(f(),C("div",Ue,[e(n,{label:"上传图片"},{default:l(()=>[e(Z,{action:"http://saas-api.surveysaas.com/project/uploadQiniu","list-type":"picture-card",limit:1,"on-preview":W,"on-remove":G,"on-success":J,"on-exceed":K},{tip:l(()=>[xe]),default:l(()=>[e(Y,{class:"el-icon--upload"},{default:l(()=>[e(i(_e))]),_:1}),Ie]),_:1}),e($,{modelValue:i(x),"onUpdate:modelValue":o[10]||(o[10]=a=>S(x)?x.value=a:null),style:{"z-index":"1000",transform:"translate(0)",position:"relative"}},{default:l(()=>[r("img",{"w-full":"",src:i(N),alt:"Preview Image"},null,8,ke)]),_:1},8,["modelValue"])]),_:1}),e(s,{gutter:20},{default:l(()=>[e(u,{span:24},{default:l(()=>[e(n,{label:"项目描述"},{default:l(()=>[e(i(ne),{class:"editor",value:t.leftTab.richText,plugins:A,locale:i(se),onChange:O},null,8,["value","locale"])]),_:1})]),_:1})]),_:1})])):U("",!0)]),_:1}),e(y,null,{header:l(()=>[je]),default:l(()=>[e(s,{gutter:20},{default:l(()=>[e(u,{span:3},{default:l(()=>[e(n,{label:"置顶"},{default:l(()=>[e(c,{"active-value":1,"inactive-value":2,modelValue:t.leftTab.isPinned,"onUpdate:modelValue":o[11]||(o[11]=a=>t.leftTab.isPinned=a)},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:3},{default:l(()=>[e(n,{label:"在线"},{default:l(()=>[e(c,{"active-value":1,"inactive-value":2,modelValue:t.leftTab.isOnline,"onUpdate:modelValue":o[12]||(o[12]=a=>t.leftTab.isOnline=a)},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:3},{default:l(()=>[e(n,{label:"资料"},{default:l(()=>[e(c,{"active-value":1,"inactive-value":2,modelValue:t.leftTab.isProfile,"onUpdate:modelValue":o[13]||(o[13]=a=>t.leftTab.isProfile=a)},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:3},{default:l(()=>[e(n,{label:"B2B"},{default:l(()=>[e(c,{"active-value":1,"inactive-value":2,modelValue:t.leftTab.isB2b,"onUpdate:modelValue":o[14]||(o[14]=a=>t.leftTab.isB2b=a)},null,8,["modelValue"])]),_:1})]),_:1}),t.leftTab.isB2b===1?(f(),v(u,{key:0,span:6},{default:l(()=>[e(n,{label:"项目类型"},{default:l(()=>[e(P,{modelValue:t.leftTab.projectType,"onUpdate:modelValue":o[15]||(o[15]=a=>t.leftTab.projectType=a)},null,8,["modelValue"])]),_:1})]),_:1})):U("",!0),e(u,{span:3},{default:l(()=>[e(n,{label:"定时发布"},{default:l(()=>[e(c,{"active-value":1,"inactive-value":2,modelValue:t.leftTab.isTimeReleases,"onUpdate:modelValue":o[16]||(o[16]=a=>t.leftTab.isTimeReleases=a)},null,8,["modelValue"])]),_:1})]),_:1}),t.leftTab.isTimeReleases===1?(f(),v(u,{key:1,span:6},{default:l(()=>[e(n,{label:"发布时间"},{default:l(()=>[e(ee,{type:"datetime",modelValue:t.leftTab.releaseTime,"onUpdate:modelValue":o[17]||(o[17]=a=>t.leftTab.releaseTime=a),placeholder:"请选择时间"},null,8,["modelValue"])]),_:1})]),_:1})):U("",!0),we]),_:1}),e(s,{gutter:20},{default:l(()=>[e(u,{span:15},{default:l(()=>[e(n,{label:"备注"},{default:l(()=>[e(m,{maxlength:"200","show-word-limit":"",style:{width:"29rem"},type:"textarea",rows:5,modelValue:t.leftTab.remark,"onUpdate:modelValue":o[18]||(o[18]=a=>t.leftTab.remark=a)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["rules","model"])]),_:1}),t.leftTab.isProfile===1?(f(),v(z,{key:0,label:"配置信息"},{default:l(()=>[e(y,null,{header:l(()=>[Pe]),default:l(()=>[e(s,{gutter:20},{default:l(()=>[e(u,{span:6},{default:l(()=>[e(n,{label:"选择国家"},{default:l(()=>[e(P,{modelValue:t.leftTab.addProjectQuotaInfoList.country,"onUpdate:modelValue":o[19]||(o[19]=a=>t.leftTab.addProjectQuotaInfoList.country=a),multiple:"","collapse-tags":"","collapse-tags-tooltip":"",placeholder:"Select"},{default:l(()=>[(f(!0),C(R,null,q(i(F),a=>(f(),v(Q,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(u,{span:6},{default:l(()=>[e(n,{label:"问卷名称"},{default:l(()=>[e(P,{modelValue:t.leftTab.addProjectQuotaInfoList.projectProblemId,"onUpdate:modelValue":o[20]||(o[20]=a=>t.leftTab.addProjectQuotaInfoList.projectProblemId=a),multiple:"","collapse-tags":"","collapse-tags-tooltip":"",placeholder:"Select"},{default:l(()=>[(f(!0),C(R,null,q(i(F),a=>(f(),v(Q,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(s,{class:"allocation",gutter:20},{default:l(()=>[e(u,{span:20},{default:l(()=>[g(" 问题：性别 ")]),_:1}),e(u,{span:20},{default:l(()=>[e(n,null,{default:l(()=>[e(ae,null,{default:l(()=>[e(E,{value:"1",size:"large"},{default:l(()=>[g(" 男 ")]),_:1}),e(E,{value:"2",size:"large"},{default:l(()=>[g(" 女 ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(s,{class:"allocation",gutter:20},{default:l(()=>[e(u,{span:20},{default:l(()=>[g(" 问题：支持终端 ")]),_:1}),e(u,{span:20},{default:l(()=>[e(n,null,{default:l(()=>[e(te,null,{default:l(()=>[e(k,{label:"PC",value:"Value A"}),e(k,{label:"平板",value:"Value B"}),e(k,{label:"Mobile",value:"Value C"})]),_:1})]),_:1})]),_:1})]),_:1}),e(s,{class:"allocation",gutter:20},{default:l(()=>[e(u,{span:20},{default:l(()=>[g(" 问题：年龄 ")]),_:1}),e(u,{span:20},{default:l(()=>[e(n,null,{default:l(()=>[e(n,{style:{width:"30rem"},label:"年龄"},{default:l(()=>[e(oe,{modelValue:i(j),"onUpdate:modelValue":o[21]||(o[21]=a=>S(j)?j.value=a:null),range:"","show-stops":"",max:100},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):U("",!0),e(z,{label:"安全信息"},{default:l(()=>[e(y,null,{header:l(()=>[ze]),default:l(()=>[e(s,{gutter:20},{default:l(()=>[e(u,{span:6},{default:l(()=>[e(n,{label:"小时准入量"},{default:l(()=>[e(T,{modelValue:t.leftTab.preNum,"onUpdate:modelValue":o[22]||(o[22]=a=>t.leftTab.preNum=a),min:1,step:1,"step-strictly":"","controls-position":"right",size:"large"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:6},{default:l(()=>[e(n,{label:"小时完成量"},{default:l(()=>[e(T,{modelValue:t.leftTab.limitedQuantity,"onUpdate:modelValue":o[23]||(o[23]=a=>t.leftTab.limitedQuantity=a),min:1,step:1,"step-strictly":"","controls-position":"right",size:"large"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(s,{gutter:20},{default:l(()=>[e(u,{span:4},{default:l(()=>[e(n,{label:"时差检测"},{default:l(()=>[e(c,{modelValue:t.leftTab.timeDifferenceDetection,"onUpdate:modelValue":o[24]||(o[24]=a=>t.leftTab.timeDifferenceDetection=a),"active-value":1,"inactive-value":2},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:4},{default:l(()=>[e(n,{label:"重复IP检测"},{default:l(()=>[e(c,{modelValue:t.leftTab.ipDifferenceDetection,"onUpdate:modelValue":o[25]||(o[25]=a=>t.leftTab.ipDifferenceDetection=a),"active-value":1,"inactive-value":2},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:4},{default:l(()=>[e(n,{label:"IP一致性检测"},{default:l(()=>[e(c,{modelValue:t.leftTab.ipConsistency,"onUpdate:modelValue":o[26]||(o[26]=a=>t.leftTab.ipConsistency=a),"active-value":1,"inactive-value":2},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),Fe=Ve(De,[["__scopeId","data-v-70791844"]]);export{Fe as default};
