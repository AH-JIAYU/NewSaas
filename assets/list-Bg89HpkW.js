
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{d as ue,r as a,aO as pe,a4 as de,k as me,a as s,p as fe,q as B,o as r,b as _e,f as o,w as n,g as D,e as d,i as m,aN as ge,s as f,A as h,j as g,O as U,aQ as ve,aR as he,_ as be,ap as ke,M as ye}from"./index-BldWHR0B.js";import{_ as Ce}from"./index-DIDwC4VK.js";import{_ as Se}from"./index.vue_vue_type_style_index_0_lang-DoBpcuTP.js";import{_ as we}from"./index-C6GovZMp.js";import{_ as ze}from"./index.vue_vue_type_script_setup_true_lang-n0A0j4D5.js";import Le from"./index-DC3LkVck.js";import{u as xe}from"./user_customer-BxBrLe5l.js";import{a as De}from"./position_manage-qgM_v0Bk.js";import"./index-CC9vZY03.js";import"./index.vue_vue_type_script_setup_true_lang-Ymk5IZQl.js";import"./sortable.esm-C0-Qcoum.js";import"./user_customer-DOvQ3R-S.js";const Ee={class:"copyId tableSmall"},Ne={class:"id oneLine"},Re={class:"tableBig"},Ie={class:"tableBig"},Be={class:"flex-s"},Ue={class:"oneLine tableBig",style:{width:"calc(100% - 20px)"}},$e=ue({name:"position_manage",__name:"list",setup(He){const $=xe(),H=a([]),{pagination:c,onSizeChange:O,onCurrentChange:P,onSortChange:Oe}=pe(),A=a(""),E=a([]),v=a(!0),b=a(),k=a(!1),i=a([]),y=a(!1);a(!1);const C=a("default"),N=a(),S=a(),w=a(!1),F=a([]),R=a(),Q=a("formSearch-position_manage"),V=[{lable:"启用",value:1},{lable:"禁用",value:2}],z=a([{label:"职位ID",prop:"id",sortable:!0,disableCheck:!1,checked:!0},{label:"职位名称",prop:"name",sortable:!0,disableCheck:!1,checked:!0},{label:"账户数",prop:"count",sortable:!0,disableCheck:!1,checked:!0},{label:"备注",prop:"remark",sortable:!0,disableCheck:!1,checked:!0}]),_=de({page:1,limit:10,id:null,name:"",active:null});function j(){b.value.showEdit()}function q(t){b.value.showEdit(JSON.stringify(t))}function M(t){t?S.value=t.id:S.value=""}function T(t,l){N.value.showEdit(t,l)}function J(t){F.value=t}function G(){Object.assign(_,{page:1,limit:10,id:null,name:"",active:null}),u()}function K(t){O(t).then(()=>{_.limit=t,u()})}function L(t=1){P(t).then(()=>{_.page=t,u()})}async function u(){try{v.value=!0,H.value=await $.getCustomerList();const{data:t}=await De.list(_);E.value=t.data,c.value.total=parseInt(t.total)||0,v.value=!1}catch{}finally{v.value=!1}}me(()=>{z.value.forEach(t=>{t.checked&&i.value.push(t.prop)}),u(),R.value=[{index:1,show:!0,type:"input",modelName:"id",placeholder:"职位ID"},{index:2,show:!0,type:"input",modelName:"name",placeholder:"职位名称"},{index:3,show:!0,type:"select",modelName:"active",placeholder:"状态",option:"active",optionLabel:"lable",optionValue:"value"}]});const W={active:()=>V};return(t,l)=>{const X=we,Y=s("ElDivider"),x=s("el-button"),Z=Se,ee=ve,te=he,ae=s("el-row"),p=s("el-table-column"),oe=Ce,le=be,ne=s("el-empty"),ie=s("el-table"),se=s("ElPagination"),re=ke,I=fe("loading");return B((r(),_e("div",{class:U({"absolute-container":k.value})},[o(re,null,{default:n(()=>[o(X,{formSearchList:R.value,formSearchName:Q.value,onCurrentChange:L,onOnReset:G,model:_,formOption:W},null,8,["formSearchList","formSearchName","model"]),o(Y,{"border-style":"dashed"}),o(ae,{gutter:24},{default:n(()=>[o(Z,null,{default:n(()=>[o(x,{style:{"margin-right":"10px"},type:"primary",size:"default",onClick:j},{default:n(()=>[D(" 新增职位 ")]),_:1})]),_:1}),o(te,null,{default:n(()=>[o(x,{size:"default",onClick:l[0]||(l[0]=()=>{})},{default:n(()=>[D(" 导出 ")]),_:1}),o(ee,{border:y.value,"onUpdate:border":l[1]||(l[1]=e=>y.value=e),tableAutoHeight:k.value,"onUpdate:tableAutoHeight":l[2]||(l[2]=e=>k.value=e),checkList:i.value,"onUpdate:checkList":l[3]||(l[3]=e=>i.value=e),columns:z.value,"onUpdate:columns":l[4]||(l[4]=e=>z.value=e),"line-height":C.value,"onUpdate:lineHeight":l[5]||(l[5]=e=>C.value=e),stripe:w.value,"onUpdate:stripe":l[6]||(l[6]=e=>w.value=e),style:{"margin-left":"12px"},onQueryData:L},null,8,["border","tableAutoHeight","checkList","columns","line-height","stripe"])]),_:1})]),_:1}),B((r(),d(ie,{ref_key:"tableSortRef",ref:A,style:{"margin-top":"10px"},"row-key":"id",data:E.value,border:y.value,size:C.value,stripe:w.value,onSelectionChange:J,"highlight-current-row":"",onCurrentChange:M},{empty:n(()=>[o(ne,{image:m(ge),"image-size":300},null,8,["image"])]),default:n(()=>[o(p,{align:"left",type:"selection"}),i.value.includes("id")?(r(),d(p,{key:0,prop:"id","show-overflow-tooltip":"",align:"left",label:"职位ID"},{default:n(({row:e})=>[f("div",Ee,[f("div",Ne,"ID: "+h(e.id),1),o(oe,{class:"copy",content:e.id},null,8,["content"])])]),_:1})):g("",!0),i.value.includes("name")?(r(),d(p,{key:1,prop:"name","show-overflow-tooltip":"",align:"left",label:"职位名称"},{default:n(({row:e})=>[f("div",Re,h(e.name),1)]),_:1})):g("",!0),i.value.includes("count")?(r(),d(p,{key:2,prop:"count","show-overflow-tooltip":"",align:"left",label:"账户数"},{default:n(({row:e})=>[f("div",Ie,h(e.count?e.count:"-"),1)]),_:1})):g("",!0),i.value.includes("remark")?(r(),d(p,{key:3,prop:"remark","show-overflow-tooltip":"",align:"left",label:"备注"},{default:n(({row:e})=>[f("div",Be,[f("div",Ue,h(e.remark?e.remark:"-"),1),e.projectType!==2?(r(),d(le,{key:0,onClick:ce=>T(e,"remark"),class:U({edit:"edit",current:e.id===S.value}),name:"i-ep:edit",color:"#409eff"},null,8,["onClick","class"])):g("",!0)])]),_:1})):g("",!0),o(p,{align:"left",fixed:"right",label:"操作",width:"170"},{default:n(({row:e})=>[o(x,{size:"small",plain:"",type:"primary",onClick:ce=>q(e)},{default:n(()=>[D(" 编辑 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data","border","size","stripe"])),[[I,!1]]),o(se,{"current-page":m(c).page,total:m(c).total,"page-size":m(c).size,"page-sizes":m(c).sizes,layout:m(c).layout,"hide-on-single-page":!1,class:"pagination",background:"",onCurrentChange:L,onSizeChange:K},null,8,["current-page","total","page-size","page-sizes","layout"]),o(ze,{onSuccess:u,ref_key:"editRef",ref:b},null,512),o(Le,{ref_key:"QuickEditRef",ref:N,onFetchData:u},null,512)]),_:1})],2)),[[I,v.value]])}}}),We=ye($e,[["__scopeId","data-v-76721fee"]]);export{We as default};
