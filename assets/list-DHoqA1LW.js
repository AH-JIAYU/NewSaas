
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{d as Ne,aK as Se,r as p,a5 as Ge,k as Ie,a as n,p as Ve,o as i,b as U,f as t,w as l,az as F,q as B,g as u,H as _,e as c,i as k,j as y,s as m,S as Me,bb as Ee,E as K,N as Le,aM as De,aN as ze,ap as xe,aG as $e,aH as Ue,aq as q,R as Fe}from"./index-BMiaO8YQ.js";import{_ as Be}from"./index.vue_vue_type_style_index_0_lang-DmHO05zK.js";import{_ as Te}from"./index.vue_vue_type_script_setup_true_lang-BMAvMc8j.js";import{s as je}from"./apiLoading-DHk9ZlU1.js";import He from"./index-CWdp9c5T.js";import Pe from"./index-CRnxsZP-.js";import{a as Y}from"./survey_vipGroup-3u3FXPfi.js";import{u as Re}from"./survey_vipGroup-tN8cSGRb.js";import{u as Ae}from"./index-AK10HrFG.js";import{e as Ke}from"./empty-bAzhJQI7.js";import"./survey_vip-Ch1jEpqu.js";import"./survey_vip-C1r7RCT-.js";import"./clipboard-BPA_boIV.js";const O=N=>($e("data-v-58888b78"),N=N(),Ue(),N),qe=O(()=>m("div",{class:"i-grommet-icons:power-reset h-1em w-1em"},null,-1)),Ye={key:0,class:"hoverSvg"},Oe={class:"fineBom"},Qe={class:"c-fx"},Ze={class:"weightColor"},Je={key:0,class:"hoverSvg"},We={class:"weightColor"},Xe={class:"fineBom"},et={class:"c-fx"},tt=O(()=>m("span",{class:"headerIcon"},[m("svg",{class:"timeSvg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},[m("g",{id:"Time (æ¶é´)"},[m("path",{id:"Vector",d:"M7.9987 14.6666C11.6806 14.6666 14.6654 11.6818 14.6654 7.99992C14.6654 4.31802 11.6806 1.33325 7.9987 1.33325C4.3168 1.33325 1.33203 4.31802 1.33203 7.99992C1.33203 11.6818 4.3168 14.6666 7.9987 14.6666Z",fill:"#409EFF"}),m("path",{id:"Vector_2",d:"M8.00431 4L8.00391 8.00293L10.8304 10.8294",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])]),u(" 创建时间 ")],-1)),ot=Ne({name:"vipGroup",__name:"list",setup(N){const{pagination:g,getParams:Q,onSizeChange:Z,onCurrentChange:J}=Se(),{toClipboard:W}=Ae(),X=Re(),{format:ee}=Ee(),S=p(!1),T=p([]);p();const V=p(),j=p(),M=p(!0),E=p(!1),L=p("default"),d=p([]),D=p(!1),z=p([{label:"组状态",prop:"groupStatus",sortable:!0,disableCheck:!1,checked:!0},{label:"会员组ID",prop:"memberGroupId",sortable:!0,disableCheck:!1,checked:!0},{label:"会员组名称",prop:"memberGroupName",sortable:!0,disableCheck:!1,checked:!0},{label:"组长名称(ID)",prop:"groupLeaderMemberName",sortable:!0,disableCheck:!1,checked:!0},{label:"成员",prop:"memberNumber",sortable:!0,disableCheck:!1,checked:!0},{label:"项目数",prop:"projectNumber",sortable:!0,disableCheck:!1,checked:!0},{label:"创建时间",prop:"createTime",sortable:!0,disableCheck:!1,checked:!0}]),r=Ge({memberGroupId:"",memberGroupName:"",groupLeaderMemberName:"",groupStatus:"",time:[]});function te(){V.value.showEdit()}function oe(a){V.value.showEdit(a)}function le(a){j.value.showEdit(a)}function C(){g.value.page=1,G()}const H=a=>{W(a),K({type:"success",message:"复制成功"})};function ae(a){Z(a).then(()=>G())}function v(a=1){J(a).then(()=>G())}async function G(){try{S.value=!0;const a={...Q(),...r};r.time&&r.time.length&&(a.beginTime=r.time[0]||"",a.endTime=r.time[1]||"");const{data:o}=await Y.list(a);T.value=o.getMemberGroupInfoList,g.value.total=o.total,S.value=!1}catch{}finally{S.value=!1}}function ne(){Object.assign(r,{memberGroupId:"",memberGroupName:"",groupLeaderMemberName:"",groupStatus:"",time:[]}),G()}async function re(a,o){const w={memberGroupId:o,groupStatus:a},{status:h}=await je(Y.changestatus(w));h===1&&K.success({message:"修改成功"}),X.GroupNameList=null,C()}return Ie(()=>{z.value.forEach(a=>{a.checked&&d.value.push(a.prop)}),C()}),(a,o)=>{const w=n("el-input"),h=n("el-form-item"),P=n("el-option"),se=n("el-select"),ie=n("el-date-picker"),I=Le,x=n("ElButton"),ue=n("ElFormItem"),me=n("ElForm"),pe=Te,de=n("ElDivider"),$=n("el-button"),ce=Be,fe=De,be=ze,_e=n("el-row"),f=n("el-table-column"),ge=n("ElSwitch"),R=n("el-text"),A=n("el-link"),ve=n("el-tag"),he=n("el-empty"),ke=n("el-table"),ye=n("ElPagination"),Ce=xe,we=Ve("loading");return i(),U("div",{class:Me({"absolute-container":D.value})},[t(Ce,null,{default:l(()=>[t(pe,{"show-toggle":!1},{default:l(({fold:e,toggle:b})=>[t(me,{model:r,size:"default","label-width":"100px","inline-message":"",inline:"",class:"search-form"},{default:l(()=>[t(h,{label:""},{default:l(()=>[t(w,{modelValue:r.memberGroupId,"onUpdate:modelValue":o[0]||(o[0]=s=>r.memberGroupId=s),modelModifiers:{trim:!0},clearable:"",inline:!1,placeholder:"会员组ID",onKeydown:o[1]||(o[1]=F(s=>v(),["enter"]))},null,8,["modelValue"])]),_:1}),t(h,{label:""},{default:l(()=>[t(w,{modelValue:r.memberGroupName,"onUpdate:modelValue":o[2]||(o[2]=s=>r.memberGroupName=s),modelModifiers:{trim:!0},clearable:"",inline:!1,placeholder:"会员组名称",onKeydown:o[3]||(o[3]=F(s=>v(),["enter"]))},null,8,["modelValue"])]),_:1}),t(h,{label:""},{default:l(()=>[t(w,{modelValue:r.groupLeaderMemberName,"onUpdate:modelValue":o[4]||(o[4]=s=>r.groupLeaderMemberName=s),modelModifiers:{trim:!0},clearable:"",inline:!1,placeholder:"组长ID、组长名称",onKeydown:o[5]||(o[5]=F(s=>v(),["enter"]))},null,8,["modelValue"])]),_:1}),B(t(h,{label:""},{default:l(()=>[t(se,{modelValue:r.groupStatus,"onUpdate:modelValue":o[6]||(o[6]=s=>r.groupStatus=s),clearable:"",placeholder:"会员组状态",onChange:o[7]||(o[7]=s=>v())},{default:l(()=>[t(P,{label:"关闭",value:1}),t(P,{label:"开启",value:2})]),_:1},8,["modelValue"])]),_:2},1536),[[q,!e]]),B(t(h,null,{default:l(()=>[t(ie,{modelValue:r.time,"onUpdate:modelValue":o[8]||(o[8]=s=>r.time=s),type:"datetimerange","unlink-panels":"","range-separator":"-","start-placeholder":"创建开始日期","end-placeholder":"创建结束日期","value-format":"YYYY-MM-DD hh:mm:ss",size:"default",onChange:o[9]||(o[9]=s=>v())},null,8,["modelValue"])]),_:2},1536),[[q,!e]]),t(ue,null,{default:l(()=>[t(x,{type:"primary",onClick:o[10]||(o[10]=s=>v())},{icon:l(()=>[t(I,{name:"i-ep:search"})]),default:l(()=>[u(" 筛选 ")]),_:1}),t(x,{onClick:ne},{icon:l(()=>[qe]),default:l(()=>[u(" 重置 ")]),_:1}),t(x,{link:"",onClick:b},{icon:l(()=>[t(I,{name:e?"i-ep:caret-bottom":"i-ep:caret-top"},null,8,["name"])]),default:l(()=>[u(" "+_(e?"展开":"收起"),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1032,["model"])]),_:1}),t(de,{"border-style":"dashed"}),t(_e,null,{default:l(()=>[t(ce,null,{default:l(()=>[t($,{type:"primary",size:"default",onClick:te},{default:l(()=>[u(" 新增 ")]),_:1})]),_:1}),t(be,null,{default:l(()=>[t($,{size:"default"},{default:l(()=>[u(" 导出 ")]),_:1}),t(fe,{border:M.value,"onUpdate:border":o[11]||(o[11]=e=>M.value=e),tableAutoHeight:D.value,"onUpdate:tableAutoHeight":o[12]||(o[12]=e=>D.value=e),checkList:d.value,"onUpdate:checkList":o[13]||(o[13]=e=>d.value=e),columns:z.value,"onUpdate:columns":o[14]||(o[14]=e=>z.value=e),"line-height":L.value,"onUpdate:lineHeight":o[15]||(o[15]=e=>L.value=e),stripe:E.value,"onUpdate:stripe":o[16]||(o[16]=e=>E.value=e),style:{"margin-left":"12px"},onQueryData:C},null,8,["border","tableAutoHeight","checkList","columns","line-height","stripe"])]),_:1})]),_:1}),B((i(),c(ke,{border:M.value,data:T.value,size:L.value,stripe:E.value},{empty:l(()=>[t(he,{image:k(Ke),"image-size":300},null,8,["image"])]),default:l(()=>[t(f,{align:"center",type:"selection"}),d.value.includes("groupStatus")?(i(),c(f,{key:0,align:"center",prop:"groupStatus","show-overflow-tooltip":"",label:"组状态"},{default:l(({row:e})=>[t(ge,{modelValue:e.groupStatus,"onUpdate:modelValue":b=>e.groupStatus=b,"inline-prompt":"","inactive-value":1,"active-value":2,"inactive-text":"禁用","active-text":"启用",onChange:b=>re(b,e.memberGroupId)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1})):y("",!0),d.value.includes("memberGroupId")?(i(),c(f,{key:1,width:"200",align:"center",prop:"memberGroupId","show-overflow-tooltip":"",label:"会员组ID"},{default:l(({row:e})=>[e.memberGroupId?(i(),U("div",Ye,[m("p",Oe,"ID："+_(e.memberGroupId),1),m("span",Qe,[t(I,{onClick:b=>H(e.memberGroupId),class:"copySvg",name:"ri:file-copy-2-fill",color:"#4fa5ff"},null,8,["onClick"])])])):(i(),c(R,{key:1},{default:l(()=>[u("-")]),_:1}))]),_:1})):y("",!0),d.value.includes("memberGroupName")?(i(),c(f,{key:2,align:"center",prop:"memberGroupName","show-overflow-tooltip":"",label:"会员组名称"},{default:l(({row:e})=>[m("p",Ze,_(e.memberGroupName?e.memberGroupName:"-"),1)]),_:1})):y("",!0),d.value.includes("groupLeaderMemberName")?(i(),c(f,{key:3,align:"center",prop:"groupLeaderMemberName","show-overflow-tooltip":"",label:"组长名称(ID)"},{default:l(({row:e})=>[e.groupLeaderMemberName?(i(),U("div",Je,[m("div",We,_(e.groupLeaderMemberName.split("/")[0]),1),u("    "),m("p",Xe,"ID："+_(e.groupLeaderMemberName.split("/")[1]),1),m("span",et,[t(I,{onClick:b=>H(e.groupLeaderMemberName.split("/")[1]),class:"copySvg",name:"ri:file-copy-2-fill",color:"#4fa5ff"},null,8,["onClick"])])])):(i(),c(R,{key:1},{default:l(()=>[u("-")]),_:1}))]),_:1})):y("",!0),d.value.includes("memberNumber")?(i(),c(f,{key:4,width:"100",align:"center",prop:"memberNumber","show-overflow-tooltip":"",label:"成员"},{default:l(({row:e})=>[t(A,{type:"primary"},{default:l(()=>[u(_(e.memberNumber?e.memberNumber:0),1)]),_:2},1024)]),_:1})):y("",!0),d.value.includes("projectNumber")?(i(),c(f,{key:5,width:"100",align:"center",prop:"projectNumber","show-overflow-tooltip":"",label:"项目数"},{default:l(({row:e})=>[t(A,{type:"primary",onClick:b=>le(e)},{default:l(()=>[u(_(e.projectNumber?e.projectNumber:0),1)]),_:2},1032,["onClick"])]),_:1})):y("",!0),d.value.includes("createTime")?(i(),c(f,{key:6,align:"center",prop:"createTime","show-overflow-tooltip":"",label:"创建时间"},{header:l(()=>[tt]),default:l(({row:e})=>[t(ve,{effect:"plain",type:"info"},{default:l(()=>[u(_(k(ee)(e.createTime)),1)]),_:2},1024)]),_:1})):y("",!0),t(f,{align:"center",prop:"i",label:"操作",fixed:"right","show-overflow-tooltip":"",width:"180"},{default:l(({row:e})=>[t($,{size:"small",plain:"",type:"primary",onClick:b=>oe(e)},{default:l(()=>[u(" 编辑 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["border","data","size","stripe"])),[[we,S.value]]),t(ye,{"current-page":k(g).page,total:k(g).total,"page-size":k(g).size,"page-sizes":k(g).sizes,layout:k(g).layout,"hide-on-single-page":!1,class:"pagination",background:"",onSizeChange:ae,onCurrentChange:v},null,8,["current-page","total","page-size","page-sizes","layout"])]),_:1}),t(He,{ref_key:"editRef",ref:V,onFetchData:C},null,512),t(Pe,{ref_key:"checkRef",ref:j,onFetchData:C},null,512)],2)}}}),_t=Fe(ot,[["__scopeId","data-v-58888b78"]]);export{_t as default};
