
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{v as j}from"./index-D-rVGztu.js";import{a as B}from"./survey_myProjeck-DBAb9Fnz.js";import{f as I}from"./file-Cy7xaGZf.js";import{D as z}from"./download-C8PHVIy1.js";import{e as E}from"./empty-bAzhJQI7.js";import{d as L,r as a,b as t,q as S,s as T,o as n,e as _,g as o,w as c,k as m,f,h as q,H as A,S as H,t as P,j as g,R as Q}from"./index-D1NMD0Fi.js";const R={key:0,class:"demo-image__preview"},F={class:"radius flex gap-2 p-2"},G=L({__name:"index",setup(J,{expose:y}){const s=a(!1),p=a(""),e=a({}),d=a(),v=a(),i=a(!1);async function w(u){try{if(s.value=!0,p.value="项目详情",u){i.value=!0;const l=await B.getQuotaProjectInfo({projectId:u.projectId});if(e.value=l.data,e.value.descriptionUrl!==""){const r=await I.detail({fileName:e.value.descriptionUrl});d.value=r.data.fileUrl,v.value=[r.data.fileUrl]}i.value=!1}}catch{}finally{i.value=!1}}async function x(){await z(d.value,e.value.descriptionUrl)}function U(){s.value=!1}return y({showEdit:w}),(u,l)=>{const r=t("el-image"),h=t("el-button"),k=t("el-col"),C=t("el-row"),D=t("el-empty"),V=t("el-dialog"),b=S("loading");return T((n(),_("div",null,[o(V,{modelValue:s.value,"onUpdate:modelValue":l[0]||(l[0]=N=>s.value=N),"append-to-body":"","close-on-click-modal":!1,"destroy-on-close":"",title:p.value,draggable:"",width:"50%",onClose:U},{default:c(()=>[e.value.descriptionUrl?(n(),_("div",R,[o(r,{style:{width:"6.25rem",height:"6.25rem"},src:d.value,"preview-src-list":v.value,"zoom-rate":1.2,"max-scale":7,"min-scale":.2,"initial-index":0,fit:"cover"},null,8,["src","preview-src-list"])])):m("",!0),e.value.descriptionUrl?(n(),f(h,{key:1,style:{padding:"0"},type:"primary",text:"",onClick:x},{default:c(()=>[q(A(e.value.descriptionUrl)+"下载 ",1)]),_:1})):m("",!0),o(C,{gutter:20,class:H({isNone:!e.value.descriptionUrl})},{default:c(()=>[o(k,{span:24},{default:c(()=>[P("div",F,[o(g(j),{value:e.value.richText},null,8,["value"])])]),_:1})]),_:1},8,["class"]),e.value.descriptionUrl?m("",!0):(n(),f(D,{key:2,image:g(E),"image-size":300},null,8,["image"]))]),_:1},8,["modelValue","title"])])),[[b,i.value]])}}}),Z=Q(G,[["__scopeId","data-v-3c9f790c"]]);export{Z as default};
