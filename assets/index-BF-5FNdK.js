
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{_ as Q}from"./index-DZhwfhYR.js";import{a as R}from"./department-CHs9YaXS.js";import{u as W}from"./department-D6MePFWx.js";import{u as X}from"./configuration_manager-cdBPdPTo.js";import{u as Y}from"./position_manage-TLTxdrqU.js";import{u as Z}from"./group_manage-DACC6gGw.js";import{d as $,r as v,k as ee,a as c,o as d,e as m,w as e,f as a,g as i,A as n,b as w,t as x,j as y,F as I,i as ae,aN as te,s as _,aI as le,aJ as oe,M as se}from"./index-FCgaQ8UK.js";import"./index-Batlzec_.js";import"./position_manage-csID-smr.js";import"./group_manage-D7NwKvzZ.js";const z=b=>(le("data-v-bfa13687"),b=b(),oe(),b),ne=z(()=>_("div",{class:"card-header"},[_("div",{class:"leftTitle"},"基本信息")],-1)),ue=z(()=>_("div",{class:"card-header"},[_("span",null,"员工")],-1)),de={class:"copyId"},ie={class:"id oneLine"},re={class:"tableBig"},ce={class:"tableBig"},_e={class:"tableBig"},pe={class:"tableBig"},fe=$({__name:"index",emits:["fetch-data"],setup(b,{expose:E,emit:F}){const k=W(),N=v(),j=X(),D=v([]),S=Y(),L=v(),B=Z(),T=v(),V=[{label:"完成计提",value:1},{label:"审核计提",value:2},{label:"收款计提",value:3}],A=F,g=v(!1),o=v();async function G(M){const h={id:M.id},{data:s,status:r}=await R.detail(h);o.value=s,g.value=!0}function J(){A("fetch-data"),o.value={},g.value=!1}return ee(async()=>{N.value=await(k==null?void 0:k.getDepartment()),D.value=await j.getStaff(),L.value=await(S==null?void 0:S.getPositionManage())||[],T.value=await(B==null?void 0:B.getGroupManage())||[]}),E({showEdit:G}),(M,h)=>{const s=c("el-text"),r=c("el-form-item"),p=c("el-col"),P=c("el-row"),C=c("el-card"),f=c("el-table-column"),U=Q,q=c("el-empty"),H=c("el-table"),K=c("el-form"),O=c("el-drawer");return d(),m(O,{modelValue:g.value,"onUpdate:modelValue":h[0]||(h[0]=t=>g.value=t),"append-to-body":"","close-on-click-modal":!1,"destroy-on-close":"",draggable:"",size:"60%",title:"详情",onClose:J},{default:e(()=>[a(K,{"label-width":"100px","label-position":"right"},{default:e(()=>[a(C,{class:"box-card"},{header:e(()=>[ne]),default:e(()=>[a(P,{gutter:24},{default:e(()=>[a(p,{span:8},{default:e(()=>[a(r,{label:"部门ID:"},{default:e(()=>[a(s,{class:"mx-1"},{default:e(()=>{var t;return[i(n((t=o.value)!=null&&t.id?o.value.id:"-"),1)]}),_:1})]),_:1})]),_:1}),a(p,{span:8},{default:e(()=>[a(r,{label:"部门名称:"},{default:e(()=>[a(s,{class:"mx-1"},{default:e(()=>{var t;return[i(n((t=o.value)!=null&&t.name?o.value.name:"-"),1)]}),_:1})]),_:1})]),_:1}),a(p,{span:8},{default:e(()=>[a(r,{label:"部门主管:"},{default:e(()=>[(d(!0),w(I,null,x(D.value,t=>(d(),m(s,{key:t.id},{default:e(()=>{var l;return[t.id===((l=o.value)==null?void 0:l.director)?(d(),m(s,{key:0},{default:e(()=>[i(n(t.name),1)]),_:2},1024)):y("",!0)]}),_:2},1024))),128))]),_:1})]),_:1}),a(p,{span:8},{default:e(()=>[a(r,{label:"员工数:"},{default:e(()=>[a(s,{class:"mx-1"},{default:e(()=>{var t,l,u;return[i(n((l=(t=o.value)==null?void 0:t.result)!=null&&l.length?(u=o.value.result)==null?void 0:u.length:"-"),1)]}),_:1})]),_:1})]),_:1}),a(p,{span:8},{default:e(()=>[a(r,{label:"部门提成:"},{default:e(()=>[a(s,{class:"mx-1"},{default:e(()=>{var t;return[i(n((t=o.value)!=null&&t.commission?o.value.commission:"-"),1)]}),_:1})]),_:1})]),_:1}),a(p,{span:8},{default:e(()=>[a(r,{label:"提成发放规则:"},{default:e(()=>[a(s,{class:"mx-1"},{default:e(()=>{var t,l;return[i(n(V[((t=o.value)==null?void 0:t.commissionType)-1]?V[((l=o.value)==null?void 0:l.commissionType)-1].label:"-"),1)]}),_:1})]),_:1})]),_:1}),a(p,{span:8},{default:e(()=>[a(r,{label:"状态:"},{default:e(()=>[a(s,{class:"mx-1"},{default:e(()=>{var t;return[i(n(((t=o.value)==null?void 0:t.commissionStatus)===1?"启用":"禁用"),1)]}),_:1})]),_:1})]),_:1}),a(p,{span:8},{default:e(()=>[a(r,{label:"创建时间:"},{default:e(()=>[a(s,{class:"mx-1"},{default:e(()=>{var t;return[i(n((t=o.value)!=null&&t.createTime?o.value.createTime:"-"),1)]}),_:1})]),_:1})]),_:1}),a(p,{span:8},{default:e(()=>[a(r,{label:"备注:"},{default:e(()=>[a(s,{class:"mx-1"},{default:e(()=>{var t;return[i(n((t=o.value)!=null&&t.remark?o.value.remark:"-"),1)]}),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(C,{class:"box-card"},{header:e(()=>[ue]),default:e(()=>{var t;return[a(H,{data:(t=o.value)==null?void 0:t.result},{empty:e(()=>[a(q,{image:ae(te),"image-size":300},null,8,["image"])]),default:e(()=>[a(f,{align:"left",type:"index",label:"序号",width:"80"}),a(f,{align:"left","show-overflow-tooltip":"",prop:"id",label:"员工ID"},{default:e(({row:l})=>[_("div",de,[_("div",ie," ID: "+n(l.id?l.id:"-"),1),a(U,{class:"copy",content:l.id},null,8,["content"])])]),_:1}),a(f,{align:"left","show-overflow-tooltip":"",prop:"userName",label:"用户名"},{default:e(({row:l})=>[_("div",re,n(l.userName?l.userName:"-"),1)]),_:1}),a(f,{align:"left","show-overflow-tooltip":"",prop:"name",label:"姓名"},{default:e(({row:l})=>[_("div",ce,n(l.name?l.name:"-"),1)]),_:1}),a(f,{align:"left","show-overflow-tooltip":"",prop:"phoneNumber",label:"电话号码"},{default:e(({row:l})=>[_("div",_e,n(l.phoneNumber?l.phoneNumber:"-"),1)]),_:1}),a(f,{align:"left","show-overflow-tooltip":"",prop:"email",label:"电子邮箱"},{default:e(({row:l})=>[_("div",pe,n(l.email?l.email:"-"),1)]),_:1}),a(f,{align:"left","show-overflow-tooltip":"",prop:"departmentId",label:"部门"},{default:e(({row:l})=>[(d(!0),w(I,null,x(N.value,u=>(d(),m(s,{key:u.id,class:"tableBig"},{default:e(()=>[u.id===l.departmentId?(d(),m(s,{key:0},{default:e(()=>[i(n(u.name),1)]),_:2},1024)):y("",!0)]),_:2},1024))),128))]),_:1}),a(f,{align:"left","show-overflow-tooltip":"",prop:"personId",label:"职位"},{default:e(({row:l})=>[(d(!0),w(I,null,x(L.value,u=>(d(),m(s,{class:"tableBig"},{default:e(()=>[l.positionId===u.id?(d(),m(s,{key:0},{default:e(()=>[i(n(u.name?u.name:"-"),1)]),_:2},1024)):y("",!0)]),_:2},1024))),256))]),_:1}),a(f,{align:"left","show-overflow-tooltip":"",prop:"groupId",label:"小组"},{default:e(({row:l})=>[(d(!0),w(I,null,x(T.value,u=>(d(),m(s,{class:"tableBig"},{default:e(()=>[l.groupId===u.id?(d(),m(s,{key:0},{default:e(()=>[i(n(u.name?u.name:"-"),1)]),_:2},1024)):y("",!0)]),_:2},1024))),256))]),_:1})]),_:1},8,["data"])]}),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),Se=se(fe,[["__scopeId","data-v-bfa13687"]]);export{Se as default};
