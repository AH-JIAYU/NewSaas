
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{k as ee,d as te,M as oe,aM as ae,p as ne,r as L,l as le,B as M,H as re,a as r,al as se,o as m,b as ie,f as a,w as n,i as o,aA as j,g as _,D as pe,G as ce,am as ue,e as b,j as h,Q as de,L as me,aO as be,aP as ge,ak as fe,aK as _e,aL as he,C as ve,P as ke,aj as E}from"./index-JlPL0OoL.js";import{_ as Ie}from"./index.vue_vue_type_style_index_0_lang-DrEVhcaT.js";import{_ as Ce}from"./index.vue_vue_type_script_setup_true_lang-cOh1b0OI.js";import{u as ye}from"./useTabbar-S3d2PnaU.js";const we={list:c=>ee.post("callback/getProjectOrMemberGroupIr",c)},Le=c=>(_e("data-v-c7cfc57a"),c=c(),he(),c),Me=Le(()=>ve("div",{class:"i-grommet-icons:power-reset h-1em w-1em"},null,-1)),O=te({name:"SurveyIrQueryList",__name:"list",setup(c){oe();const{pagination:u,getParams:G,onSizeChange:z,onCurrentChange:S,onSortChange:D}=ae();ye(),ne();const g=L([{label:"项目ID",prop:"projectOrMemberGroupId",sortable:!0,checked:!0},{label:"项目名称",prop:"projectOrMemberGroupName",sortable:!0,checked:!0},{label:"项目IR",prop:"ir",sortable:!0,checked:!0},{label:"项目实际IR",prop:"projectIr",sortable:!0,checked:!0}]),e=L({loading:!1,tableAutoHeight:!1,border:!0,stripe:!1,lineHeight:"default",checkList:[],formMode:"drawer",formModeProps:{visible:!1,id:""},search:{type:1,projectOrMemberGroupId:"",projectOrMemberGroupName:""},batch:{enable:!1,selectionDataList:[]},dataList:[]});le(()=>{i(),g.value.forEach(s=>{s.checked&&e.value.checkList.push(s.prop)}),e.value.formMode==="router"&&M.on("get-data-list",()=>{i()})}),re(()=>{e.value.formMode==="router"&&M.off("get-data-list")});function H(s){i()}function i(){e.value.loading=!0;const s={...G(),...e.value.search};we.list(s).then(t=>{e.value.loading=!1,e.value.dataList=t.data.projectOrMemberGroupIrList,u.value.total=t.data.total})}function V(){Object.assign(e.value.search,{title:""}),i()}function P(s){z(s).then(()=>i())}function d(s=1){S(s).then(()=>i())}function R({prop:s,order:t}){D(s,t).then(()=>i())}return(s,t)=>{const v=r("el-tab-pane"),$=r("el-tabs"),B=r("el-col"),C=r("el-row"),y=r("ElInput"),k=r("ElFormItem"),w=me,I=r("ElButton"),N=r("ElForm"),U=Ce,T=r("ElDivider"),A=Ie,x=r("el-button"),F=be,K=ge,Q=r("el-table-column"),f=r("ElTableColumn"),q=r("el-empty"),J=r("ElTable"),W=r("ElPagination"),X=fe,Y=se("loading");return m(),ie("div",{class:de({"absolute-container":o(e).tableAutoHeight})},[a(X,null,{default:n(()=>[a(C,{gutter:24},{default:n(()=>[a(B,{span:24},{default:n(()=>[a($,{modelValue:o(e).search.type,"onUpdate:modelValue":t[0]||(t[0]=l=>o(e).search.type=l),onTabChange:H},{default:n(()=>[a(v,{label:"项目IR",name:1}),a(v,{label:"会员IR",name:2}),a(v,{label:"小组IR",name:3})]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(U,{"show-toggle":!1},{default:n(({fold:l,toggle:Z})=>[a(N,{model:o(e).search,size:"default","label-width":"100px","inline-message":"",inline:"",class:"search-form"},{default:n(()=>[a(k,null,{default:n(()=>[a(y,{modelValue:o(e).search.projectOrMemberGroupId,"onUpdate:modelValue":t[1]||(t[1]=p=>o(e).search.projectOrMemberGroupId=p),placeholder:"项目ID",clearable:"",onKeydown:t[2]||(t[2]=j(p=>d(),["enter"])),onClear:t[3]||(t[3]=p=>d())},null,8,["modelValue"])]),_:1}),a(k,null,{default:n(()=>[a(y,{modelValue:o(e).search.projectOrMemberGroupName,"onUpdate:modelValue":t[4]||(t[4]=p=>o(e).search.projectOrMemberGroupName=p),placeholder:"项目名称",clearable:"",onKeydown:t[5]||(t[5]=j(p=>d(),["enter"])),onClear:t[6]||(t[6]=p=>d())},null,8,["modelValue"])]),_:1}),a(k,null,{default:n(()=>[a(I,{type:"primary",onClick:t[7]||(t[7]=p=>d())},{icon:n(()=>[a(w,{name:"i-ep:search"})]),default:n(()=>[_(" 筛选 ")]),_:1}),a(I,{onClick:V},{icon:n(()=>[Me]),default:n(()=>[_(" 重置 ")]),_:1}),a(I,{disabled:"",link:"",onClick:Z},{icon:n(()=>[a(w,{name:l?"i-ep:caret-bottom":"i-ep:caret-top"},null,8,["name"])]),default:n(()=>[_(" "+pe(l?"展开":"收起"),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1032,["model"])]),_:1}),a(T,{"border-style":"dashed"}),a(C,null,{default:n(()=>[a(A),a(K,null,{default:n(()=>[a(x,{size:"default"},{default:n(()=>[_(" 导出 ")]),_:1}),a(F,{border:o(e).border,"onUpdate:border":t[8]||(t[8]=l=>o(e).border=l),tableAutoHeight:o(e).tableAutoHeight,"onUpdate:tableAutoHeight":t[9]||(t[9]=l=>o(e).tableAutoHeight=l),checkList:o(e).checkList,"onUpdate:checkList":t[10]||(t[10]=l=>o(e).checkList=l),columns:o(g),"onUpdate:columns":t[11]||(t[11]=l=>ce(g)?g.value=l:null),"line-height":o(e).lineHeight,"onUpdate:lineHeight":t[12]||(t[12]=l=>o(e).lineHeight=l),stripe:o(e).stripe,"onUpdate:stripe":t[13]||(t[13]=l=>o(e).stripe=l),style:{"margin-left":"12px"},onQueryData:i},null,8,["border","tableAutoHeight","checkList","columns","line-height","stripe"])]),_:1})]),_:1}),ue((m(),b(J,{border:o(e).border,size:o(e).lineHeight,stripe:o(e).stripe,class:"my-4",data:o(e).dataList,"highlight-current-row":"",height:"100%",onSortChange:R,onSelectionChange:t[14]||(t[14]=l=>o(e).batch.selectionDataList=l)},{empty:n(()=>[a(q,{description:"暂无数据"})]),default:n(()=>[a(Q,{align:"center","show-overflow-tooltip":"",type:"selection"}),o(e).checkList.includes("projectOrMemberGroupId")?(m(),b(f,{key:0,"show-overflow-tooltip":"",align:"center",prop:"projectOrMemberGroupId",label:"项目ID"})):h("",!0),o(e).checkList.includes("projectOrMemberGroupName")?(m(),b(f,{key:1,"show-overflow-tooltip":"",align:"center",prop:"projectOrMemberGroupName",label:"项目名称"})):h("",!0),o(e).checkList.includes("ir")?(m(),b(f,{key:2,"show-overflow-tooltip":"",align:"center",prop:"ir",label:"项目IR"})):h("",!0),o(e).checkList.includes("projectIr")?(m(),b(f,{key:3,"show-overflow-tooltip":"",align:"center",prop:"projectIr",label:"项目实际IR"})):h("",!0)]),_:1},8,["border","size","stripe","data"])),[[Y,o(e).loading]]),a(W,{"current-page":o(u).page,total:o(u).total,"page-size":o(u).size,"page-sizes":o(u).sizes,layout:o(u).layout,"hide-on-single-page":!1,class:"pagination",background:"",onSizeChange:P,onCurrentChange:d},null,8,["current-page","total","page-size","page-sizes","layout"])]),_:1})],2)}}});typeof E=="function"&&E(O);const ze=ke(O,[["__scopeId","data-v-c7cfc57a"]]);export{ze as default};
