
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{ag as g,am as L,r as h}from"./index-BOglyGfo.js";import{u as P}from"./user_customer-CrYO10im.js";const w=g("projectManagementList",()=>{const p=L(),m=P(),y=h([]),f={name:"",projectIdentification:"",clientId:null,countryIdList:[],doMoneyPrice:null,num:null,minimumDuration:null,ir:null,uidUrl:"",mutualExclusion:2,mutualExclusionId:"",remark:"",isPinned:2,isOnline:1,isProfile:2,isB2b:1,projectType:[],projectRemark:"",isTimeReleases:1,releaseTime:"",descriptionUrl:[],richText:"",projectQuotaInfoList:[],timeDifferenceDetection:2,ipDifferenceDetection:2,ipConsistency:2,limitedQuantity:null,preNum:null,data:{configurationInformation:{initialProblem:{countryId:null,projectProblemCategoryId:null,projectQuotaQuestionType:null,projectProblemId:null,keyValue:"",questionType:null,answerValueList:[],projectAnswerIdList:[]},configurationCountryList:null,projectCategoryList:null,ProjectProblemInfoList:[]}}},a={name:{val:"项目名称"},projectIdentification:{val:"项目标识"},clientId:{val:"所属客户"},countryIdList:{val:"所属国家"},doMoneyPrice:{val:"原价"},num:{val:"配额"},minimumDuration:{val:"最小时长"},ir:{val:"ir"},uidUrl:{val:"url"},mutualExclusion:{val:"填写互斥ID",type:"switch",1:"开启",2:"关闭"},mutualExclusionId:{val:"互斥id"},remark:{val:"备注"},isPinned:{val:"置顶",type:"switch",1:"开启",2:"关闭"},isOnline:{type:"switch",val:"在线",1:"开启",2:"关闭"},isProfile:{val:"前置问卷",type:"switch",1:"开启",2:"关闭"},isB2b:{val:"b2b",type:"switch",2:"开启",1:"关闭"},projectType:{val:"项目类型"},isTimeReleases:{val:"定时发布",type:"switch",2:"开启",1:"关闭"},releaseTime:{val:"发布时间"},limitedQuantity:{val:"小时完成量"},preNum:{val:"小时准入量"},ipDifferenceDetection:{val:"允许重复参与",type:"switch",1:"开启",2:"关闭"}},I={countryId:null,projectProblemCategoryId:null,projectQuotaQuestionType:null,projectProblemId:null,keyValue:"",questionType:null,answerValueList:[],projectAnswerIdList:[]},v={1:"自动分配",2:"供应商",3:"会员组"},j=async(c,l)=>{const s=c.reduce((i,r)=>(i[r.projectId]=r,i),{});return await l.forEach(async i=>{const r=s[i.projectId];if(r){const e=[];for(const t in i)if(a.hasOwnProperty(t)){let n=i[t],o=r[t];if(JSON.stringify(n)!==JSON.stringify(o)){Array.isArray(n)&&!n.length&&(n=n.toString()),Array.isArray(o)&&!o.length&&(o=o.toString()),(t==="clientId"||t==="countryIdList")&&(o=await u(t,o),n=await u(t,n));const d=a[t].val||t;a[t].type==="switch"?e.push(`${d}「${a[t][o]}」更改为「${a[t][n]}」`):e.push(`${d}「${o||"null"}」更改为「${n||"null"}」`)}}e.length>0&&(i.projectLogList=e)}}),l},u=async(c,l)=>{let s;if(c==="clientId")s=(await m.getCustomerList()).find(e=>e.tenantCustomerId===l).customerAccord;else if(c==="countryIdList"){const r=(await p.getCountry()).reduce((e,t)=>(e[t.id]=t.chineseName,e),{});s=l.map(e=>r[e]).filter(e=>e!==void 0)}return s};return{initialTopTabsData:f,initialProblem:I,allocationTypeList:v,dataBeforeEditing:y,compareProjectData:j}}),b=w;export{b as u};
