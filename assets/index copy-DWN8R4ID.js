
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{M as Ve,d as xt,aB as Vt,r as I,aj as Lt,l as Ct,ac as _e,$ as Ie,X as kt,n as St,aE as Ut,a0 as Pe,a as g,o as p,e as y,w as a,f as l,i as e,B as J,v as m,A as c,g as f,j as _,b as T,F as h,t as x,s as te,aH as ae,br as Rt,E as A,ap as N,ai as Dt,_ as Et,aI as Qt,aJ as qt}from"./index-DAevhFAq.js";import{u as At}from"./user_customer-Ba69qmPp.js";import{f as we,D as Nt}from"./download-BOSEi-p6.js";/* empty css              */import{a as B}from"./projectManagement-B4ORpvuW.js";import{u as Bt}from"./projectManagement_list-ILuvxyIX.js";import Mt from"./index-BII27BfX.js";import{a as $t}from"./configuration_site_setting-CPssoBcT.js";import{_ as zt}from"./index.vue_vue_type_script_setup_true_lang-CAKh8bAD.js";import{w as Te,x as he,p as Ft}from"./pdf-BhHCHn5I.js";import"./index.vue_vue_type_script_setup_true_lang-COUx4nDA.js";import"./index-P_M-xn8t.js";import"./index-DdJ1aP7r.js";import"./index-C6X27YzO.js";import"./clipboard-DHbILkEp.js";import"./index-C_g9j6Kw.js";import"./department-lspZwLE9.js";import"./position_manage-CCm14qJn.js";import"./configuration_role-AI5us4G2.js";import"./tenant_role-DcCe5KDC.js";import"./configuration_manager-DnpCJOlo.js";import"./configuration_siteSetting-eM2pOpZ8.js";import"./apiLoading-C2L6iidq.js";import"./stagedData-DsT8Hm9-.js";import"./otherFunctions_screenLibrary-m-KnWNPX.js";const Ot={};function Yt(S,le){return null}const Ht=Ve(Ot,[["render",Yt]]),M=S=>(Qt("data-v-25e92288"),S=S(),qt(),S),Gt={style:{display:"flex","justify-content":"space-between"},class:"card-header"},Kt={style:{height:"32px","line-height":"32px"}},Jt={style:{float:"left"}},Xt={style:{float:"right",color:"#fb6868","font-size":"13px"}},Zt=M(()=>m("div",{class:"i-ic:round-plus h-1.3em w-1.3em"},null,-1)),Wt={style:{display:"flex","justify-content":"space-between","align-items":"center",padding:"0 1rem"}},ea=M(()=>m("div",{class:"i-ic:round-plus h-1.3em w-1.3em"},null,-1)),ta=M(()=>m("br",null,null,-1)),aa={style:{"margin-top":"4px"}},la={class:"card-header"},oa=M(()=>m("span",{style:{margin:"0 0.25rem"}},"-",-1)),na={style:{display:"flex","justify-content":"space-between"},class:"card-header"},ra={key:0},ia={style:{display:"flex","flex-direction":"column","align-items":"flex-start"}},sa={class:"el-upload__text"},ua={class:"el-upload__tip"},da=["src"],ca=M(()=>m("div",{class:"i-f7:doc-text h-1rem w-1rem"},null,-1)),pa={style:{"margin-left":"0.625rem"}},ma={class:"card-header"},fa={class:"card-header"},ga={class:"red"},ba={class:"blue"},ya={class:"right"},va={class:"dialog-footer"},xe="例：https://www.xxxx.com/8994343?uid=[uid]",ja=xt({name:"SurveyTopTabs",__name:"index copy",props:{leftTab:Object,tabIndex:Number},emits:["sync-project"],setup(S,{expose:le,emit:Le}){const $=S,Ce=Le,P=Vt(),U=I(!1),{t:r}=Lt(),ke=[{label:r("newProject.dollor"),value:"USD"},{label:r("newProject.rmb"),value:"CNY"}],Se=[{label:"Windows",value:"1"},{label:"Mac OS",value:"2"},{label:"Linux",value:"3"},{label:"Android",value:"4"},{label:"其他",value:"5"}],Ue=[{label:"Chrome",value:"1"},{label:"Safari",value:"2"},{label:"Flrefox",value:"3"},{label:"Edge",value:"4"},{label:"Opera",value:"5"},{label:"其他",value:"6"}],k=I(null),R=Ct();At();const oe=Bt(),t=I($.leftTab),Re=_e("validateTopTabs"),De=_e("currentProjectTimeline"),z=I("basicSettings"),F=I(),ne=I(),O=I(!$.tabIndex),Ee="https://saas-api.surveysaas.com/api/project/uploadQiniu",Qe=P.token,qe=I({Token:Qe}),j=I({checked:!1,basicSettings:{countryList:[],customerList:[],B2BTypeList:[],B2BTypeProps:{multiple:!0,checkStrictly:!0,emitPath:!1,value:"chineseName",label:"chineseName",lazy:!0,async lazyLoad(i,o){const s=await R.getB2BTypeItemChildren(i.data.id)||[];o(s)}}},editProps:{id:"",countryId:"",visible:!1,row:""}});function Ae(i,o,s){/^(((ht|f)tps?):\/\/)?([^!@#$%^&*?.\s-]([^!@#$%^&*?.\s]{0,63}[^!@#$%^&*?.\s])?\.)+[a-z]{2,6}\/?/.test(t.value.uidUrl)||s(new Error(r("projectTopTabs.validUrl"))),t.value.uidUrl.includes("[uid]")||s(new Error(r("projectTopTabs.incorrectFormat"))),s()}function Ne(i,o,s){new Date(t.value.releaseTime).getTime()<Date.now()&&s(new Error(r("projectTopTabs.releaseTime"))),s()}const Be=Ie({name:[{required:!0,message:r("projectTopTabs.projectName"),trigger:"blur"},{min:2,max:50,message:r("projectTopTabs.2to50"),trigger:"blur"}],projectIdentification:[{max:100,required:!0,message:r("projectTopTabs.projectIdentification"),trigger:"blur"},{min:2,max:100,message:r("projectTopTabs.2to100"),trigger:"blur"}],countryIdList:[{required:!0,message:r("projectTopTabs.area"),trigger:"change"}],clientId:[{required:!0,message:r("projectTopTabs.customer"),trigger:"change"}],currencyType:[{required:!0,message:r("projectTopTabs.currency"),trigger:"change"}],uidUrl:[{required:!0,message:r("projectTopTabs.url"),trigger:"blur"},{validator:Ae,trigger:"blur"}],releaseTime:[{validator:Ne,trigger:"blur"}],doMoneyPrice:[{required:!0,message:r("projectTopTabs.projectPrice"),trigger:"blur"},{pattern:/^(?!0(\.0+)?$)(\d+(\.\d{1,2})?)$/,message:r("projectTopTabs.bt0"),trigger:"blur"}],num:[{required:!0,message:r("projectTopTabs.quota"),trigger:"blur"},{pattern:/^[0-9]+$/,message:r("projectTopTabs.positiveInteger"),trigger:"blur"}],minimumDuration:[{required:!0,message:r("projectTopTabs.minimumLength"),trigger:"blur"},{pattern:/^(?!0(\.0+)?$)(\d+(\.\d{1,2})?)$/,message:r("projectTopTabs.bt0"),trigger:"blur"}],ir:[{required:!0,message:r("projectTopTabs.ir"),trigger:"blur"},{pattern:/^(100|[1-9]?[0-9])$/,message:r("projectTopTabs.0to100"),trigger:"blur"}],exchangeRate:[{required:!0,message:r("projectTopTabs.exchangeRate"),trigger:"blur"},{pattern:/^(?!0(\.0+)?$)(\d+(\.\d{1,2})?)$/,message:r("projectTopTabs.bt0"),trigger:"blur"}],sex:[{required:!0,message:r("projectTopTabs.sex"),trigger:"change"}],startAge:[{required:!0,message:r("projectTopTabs.age"),trigger:"blur"},{validator:(i,o,s)=>{o?o<0?s(new Error(r("projectTopTabs.bt18"))):o>=99?s(new Error(r("projectTopTabs.lt99"))):s():s(new Error(r("projectTopTabs.age")))},trigger:"change"}]});function Y(i){i.key==="."&&i.preventDefault()}function Me(i){return i.getTime()<Date.now()-864e5}function $e(){if(new Date(t.value.releaseTime)*1e3/1e3<Date.now()){const s=new Date,b=s.getFullYear(),v=o(s.getMonth()+1),u=o(s.getDate()),d=o(s.getHours()),V=o(s.getMinutes()),C=o(s.getSeconds());t.value.releaseTime=`${b}-${v}-${u} ${d}:${V}:${C}`}function o(s){return(s<10?"0":"")+s}t.value.releaseTime&&De(t.value.releaseTime)}function ze(i){const o=j.value.basicSettings.customerList.find(s=>s.tenantCustomerId===i);t.value.isProfile=o.antecedentQuestionnaire===2?1:2}function Fe(){t.value.countryIdList=[],j.value.checked&&j.value.basicSettings.countryList.map(i=>{t.value.countryIdList.push(i.id)})}function Oe(i){t.value.richText=i}function Ye(){Ce("sync-project")}function He(){O.value=!O.value}const re=I(""),H=I(!1),L=I([]);function ie(i){const o=i.name.substring(i.name.lastIndexOf(".")+1);return!["jpg","jpeg","png","gif","doc","xls","pdf","xlsx","docx"].includes(o)}function Ge(i){if(ie(i))return A.warning({message:"只能上传图片文件JPG，JPEG，PNG，GIF，DOC，DOCX,XLS，PDF",center:!0}),!1}const Ke=async(i,o)=>{if(t.value.descriptionUrl=o.map(s=>s.name),!ie(i)){const{status:s}=await we.delete({fileName:i.name});s===1&&A.success({message:"删除成功",center:!0})}};function se(i){const o={doc:Te,docx:Te,xls:he,xlsx:he,pdf:Ft};i.map(s=>{var v;const b=(v=s.name.split(".").pop())==null?void 0:v.toLowerCase();b&&o[b]&&(s.url=o[b])})}const Je=(i,o)=>{se(L.value),t.value.descriptionUrl.push(i.data.qiNiuUrl)},Xe=async(i,o)=>{A.warning({message:"最多可上传10个",center:!0})},Ze=i=>{re.value=i.url,H.value=!0};async function We(i){i.length&&i.forEach(async o=>{if(o){const s=await we.detail({fileName:o});L.value.push({name:o,url:s.data.fileUrl}),se(L.value)}})}async function et(i){await Nt(i,i.name)}function tt(i){t.value.isOnline=i===2?2:1}function at(i){i===2&&(t.value.projectQuotaInfoList=[])}function lt(){t.value.data.configurationInformation.configurationCountryList=null,j.value.checked=t.value.countryIdList.length===R.country.length}function ot(){t.value.data.configurationInformation.projectCategoryList=null,t.value.data.configurationInformation.initialProblem.projectProblemCategoryId="",X()}function X(i){t.value.data.configurationInformation.initialProblem.projectProblemId=null,t.value.data.configurationInformation.ProjectProblemInfoList=null,i||(t.value.projectQuotaInfoList=[])}async function ue(i,o){i==="configurationInformation"&&!t.value.data.configurationInformation.configurationCountryList&&F.value.validateField(["countryIdList"],async s=>{if(s){X(o||!1);const b=await B.getProjectCountryList({countryIdList:t.value.countryIdList});t.value.data.configurationInformation.configurationCountryList=b.data.getProjectCountryListInfoList,b.data.getProjectCountryListInfoList.length===1&&(t.value.data.configurationInformation.initialProblem.countryId=b.data.getProjectCountryListInfoList[0].countryId),t.value.data.configurationInformation.initialProblem||(t.value.data.configurationInformation.initialProblem=N(oe.initialProblem)),t.value.data.configurationInformation.initialProblem.projectQuotaQuestionType=N(b.data.projectQuotaQuestionType)}else z.value="basicSettings",Pe(()=>{setTimeout(()=>{F.value.scrollToField("countryIdList")}),A.warning({message:r("formRef.areaSelect"),center:!0})})})}async function de(){if(t.value.data.configurationInformation.initialProblem.countryId){if(!t.value.data.configurationInformation.projectCategoryList){const i={countryId:t.value.data.configurationInformation.initialProblem.countryId,projectQuotaQuestionType:t.value.data.configurationInformation.initialProblem.projectQuotaQuestionType},o=await B.getProjectCategoryList(i);t.value.data.configurationInformation.projectCategoryList=o.data.getProjectCategoryInfoList.filter(s=>s.status===1)}}else A.warning({message:"请先选择配置信息下的区域",center:!0})}async function ce(i,o){i?setTimeout(async()=>{const{projectProblemCategoryName:s,...b}=t.value.data.configurationInformation.projectCategoryList.find(u=>u.projectProblemCategoryId===i),v=await B.getProjectProblemList(b);if(t.value.data.configurationInformation.ProjectProblemInfoList=v.data.getProjectProblemInfoList.map(u=>({...u,getProjectAnswerInfoList:u.getProjectAnswerInfoList.sort((d,V)=>d.answerValue.replace(/^[a-zA-Z]+/,"")-V.answerValue.replace(/^[a-zA-Z]+/,""))})),!o){t.value.projectQuotaInfoList=[];for(let u=0;u<t.value.data.configurationInformation.ProjectProblemInfoList.length;u++){const d=N(t.value.data.configurationInformation.initialProblem);d.projectProblemId=t.value.data.configurationInformation.ProjectProblemInfoList[u].id,d.keyValue=t.value.data.configurationInformation.ProjectProblemInfoList[u].question,d.questionType=t.value.data.configurationInformation.ProjectProblemInfoList[u].questionType,d.projectProblemCategoryId=i,t.value.projectQuotaInfoList.push(d)}}}):X()}function nt(i,o){const s=t.value.projectQuotaInfoList[o].projectAnswerIdList,v=t.value.data.configurationInformation.ProjectProblemInfoList[o].getProjectAnswerInfoList.filter(u=>s.includes(u.id));t.value.projectQuotaInfoList[o].answerValueList=v.map(u=>u.anotherName)}async function rt(){const i=await Dt.getCustomerList({});j.value.basicSettings.customerList=i.data.getTenantCustomerAccordInfoList}function pe(){ne.value.showEdit()}async function it(){j.value.basicSettings.customerList=await R.getCustomer(),j.value.basicSettings.countryList=await R.getCountry(),j.value.basicSettings.B2BTypeList=await R.getB2BType()}async function st(){t.value.projectQuotaInfoList.length&&(t.value.data.configurationInformation.initialProblem.countryId=t.value.projectQuotaInfoList[0].countryId,t.value.data.configurationInformation.initialProblem.projectQuotaQuestionType=t.value.projectQuotaInfoList[0].projectQuotaQuestionType,t.value.data.configurationInformation.initialProblem.projectProblemCategoryId=t.value.projectQuotaInfoList[0].projectProblemCategoryId,await ue("configurationInformation",!0),await de(),setTimeout(async()=>{await ce(t.value.data.configurationInformation.initialProblem.projectProblemCategoryId,!0)},100))}function me(i,o){return{get(){return t.value.projectQuotaInfoList[o].id===i?t.value.projectQuotaInfoList[o].projectAnswerIdList:t.value.projectQuotaInfoList.find(b=>b.projectProblemId===i).projectAnswerIdList},set(s){if(t.value.projectQuotaInfoList[o].id===i)t.value.projectQuotaInfoList[o].projectAnswerIdList=s;else{const b=t.value.projectQuotaInfoList.find(v=>v.projectProblemId===i);b.projectAnswerIdList=s}}}}const fe=I(),D=I({exchangeRate:null}),ut=Ie({exchangeRate:[{required:!0,message:"请输入汇率",trigger:"blur"},{pattern:/^(?!0(\.0+)?$)(\d+(\.\d{1,2})?)$/,message:"请输入一个有效的数字，不能小于0，最多保留两位小数",trigger:"blur"}]});function dt(){U.value=!0}async function ct(){await fe.value.validate(),t.value.exchangeRate=D.value.exchangeRate,(await $t.updateWebConfig(D.value)).data.flag&&(await P.getCurrencyType(),k.value=P.originalExchangeRate,t.value.exchangeRate=P.originalExchangeRate,t.value.currencyType=P.currencyType===1?"USD":"CNY",P.currencyType!==1&&(t.value.exchangeRate=Math.floor(1/P.originalExchangeRate*100)/100,k.value=t.value.exchangeRate),U.value=!1)}async function pt(i){const o={beforeCurrency:"",oldCurrency:i,exchangeRate:""};i==="USD"?o.beforeCurrency="CNY":i==="CNY"&&(o.beforeCurrency="USD"),o.exchangeRate=k.value;const s=await B.updateExchangeRate(o);s.data&&(k.value=Math.floor(s.data.exchangeRate*100)/100,t.value.exchangeRate=Math.floor(s.data.exchangeRate*100)/100)}kt(()=>$.leftTab,(i,o)=>{t.value=i,console.log(t.value,"localToptTab.value")},{deep:!0});const ge=I();St(async()=>{L.value=[],await it(),await st(),ge.value=Ut.local.get("acquiesceExchangeRate"),t.value.clientId||P.currencyType&&(t.value.currencyType=P.currencyType===1?"USD":"CNY"),t.value.clientId?k.value=1:P.originalExchangeRate&&(k.value=P.originalExchangeRate,t.value.exchangeRate=P.originalExchangeRate)}),le({getUpLoad:We}),Pe(()=>{Re(F.value)});function mt(){j.value.editProps.id="",j.value.editProps.countryId="",j.value.editProps.row="",j.value.editProps.visible=!0}async function ft(){const i=await B.getProjectCountryList({countryIdList:t.value.countryIdList});t.value.data.configurationInformation.configurationCountryList=i.data.getProjectCountryListInfoList,i.data.getProjectCountryListInfoList.length===1&&(t.value.data.configurationInformation.initialProblem.countryId=i.data.getProjectCountryListInfoList[0].countryId),t.value.data.configurationInformation.initialProblem||(t.value.data.configurationInformation.initialProblem=N(oe.initialProblem)),t.value.data.configurationInformation.initialProblem.projectQuotaQuestionType=N(i.data.projectQuotaQuestionType)}return(i,o)=>{const s=g("el-button"),b=g("el-switch"),v=g("el-input"),u=g("el-form-item"),d=g("el-col"),V=g("el-option"),C=g("el-select"),be=g("el-checkbox"),ye=g("ElOption"),gt=g("ElSelect"),E=g("el-text"),w=g("el-row"),G=Et,Z=g("el-tooltip"),Q=g("el-card"),W=g("el-radio-button"),bt=g("el-radio-group"),yt=g("el-date-picker"),vt=g("el-cascader"),jt=g("el-icon"),_t=g("el-upload"),ve=g("el-dialog"),It=g("el-link"),ee=g("el-tab-pane"),Pt=g("el-checkbox-group"),je=g("el-input-number"),wt=g("el-tabs"),Tt=g("el-form"),ht=g("ElForm");return p(),y(ht,{ref_key:"formRef",ref:F,"label-width":"100px",rules:e(Be),model:e(t),"label-position":"top"},{default:a(()=>[l(wt,{modelValue:e(z),"onUpdate:modelValue":o[33]||(o[33]=n=>J(z)?z.value=n:null),onTabChange:ue},{default:a(()=>[l(ee,{label:e(r)("newProject.basicSettings"),name:"basicSettings"},{default:a(()=>[l(Q,{"body-style":""},{header:a(()=>[m("div",Gt,[m("div",Kt,c(e(r)("newProject.basicSettings")),1),m("div",null,[$.tabIndex>0?(p(),y(s,{key:0,size:"small",type:"primary",round:"",plain:"",onClick:Ye},{default:a(()=>[f(c(e(r)("newProject.synchronizeData")),1)]),_:1})):_("",!0),l(b,{modelValue:e(t).required,"onUpdate:modelValue":o[0]||(o[0]=n=>e(t).required=n),"active-value":!0,"inactive-value":!1,class:"ml-2"},null,8,["modelValue"]),f(" "+c(e(r)("newProject.only")),1)])])]),default:a(()=>[l(w,{gutter:20},{default:a(()=>[l(d,{span:6},{default:a(()=>[l(u,{label:e(r)("newProject.name"),prop:"name"},{default:a(()=>[l(v,{modelValue:e(t).name,"onUpdate:modelValue":o[1]||(o[1]=n=>e(t).name=n),disabled:e(t).projectType===2,clearable:"",maxlength:50},null,8,["modelValue","disabled"])]),_:1},8,["label"])]),_:1}),e(t).projectType!==2?(p(),y(d,{key:0,span:6},{default:a(()=>[l(u,{label:e(r)("newProject.projectIdentification"),prop:"projectIdentification"},{default:a(()=>[l(v,{modelValue:e(t).projectIdentification,"onUpdate:modelValue":o[2]||(o[2]=n=>e(t).projectIdentification=n),modelModifiers:{trim:!0},clearable:"",maxlength:100},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})):_("",!0),e(t).projectType!==2?(p(),y(d,{key:1,span:6},{default:a(()=>[l(u,{label:e(r)("newProject.clientId"),prop:"clientId"},{default:a(()=>[l(C,{modelValue:e(t).clientId,"onUpdate:modelValue":o[3]||(o[3]=n=>e(t).clientId=n),class:"placeholderColor",placeholder:"Select",disabled:e(t).projectType===2,clearable:"",filterable:"",onChange:ze},{empty:a(()=>[m("div",Wt,[f(c(e(r)("newProject.nodata"))+" ",1),l(s,{type:"primary",link:"",size:"small",onClick:pe},{default:a(()=>[f(c(e(r)("newProject.quickAdd"))+" ",1),ea]),_:1})])]),default:a(()=>[(p(!0),T(h,null,x(e(j).basicSettings.customerList,n=>(p(),y(V,{key:n.tenantCustomerId,value:n.tenantCustomerId,label:n.customerAccord,disabled:n.isReveal===1||n.turnover&&n.practiceTurnover&&n.turnover<n.practiceTurnover},{default:a(()=>[m("span",Jt,c(n.customerAccord),1),te(m("span",Xt,[te(m("span",null,c(e(r)("newProject.turnoverLimit")),513),[[ae,n.practiceTurnover>n.turnover]]),te(m("span",null,c(e(r)("newProject.notQualified")),513),[[ae,n.rateAudit>n.practiceRateAudit]])],512),[[ae,n.isReveal===1]])]),_:2},1032,["value","label","disabled"]))),128)),l(s,{size:"small",class:"buttonClass",onClick:pe},{default:a(()=>[f(c(e(r)("newProject.quickAdd"))+" ",1),Zt]),_:1})]),_:1},8,["modelValue","disabled"])]),_:1},8,["label"])]),_:1})):_("",!0),l(d,{span:6},{default:a(()=>[l(u,{label:e(r)("newProject.countryIdList"),prop:"countryIdList"},{default:a(()=>[l(gt,{modelValue:e(t).countryIdList,"onUpdate:modelValue":o[5]||(o[5]=n=>e(t).countryIdList=n),class:"placeholderColor",disabled:e(t).projectType===2,placeholder:e(r)("newProject.area"),clearable:"",filterable:"",multiple:"","collapse-tags":"",onChange:lt},{header:a(()=>[l(be,{modelValue:e(j).checked,"onUpdate:modelValue":o[4]||(o[4]=n=>e(j).checked=n),style:{display:"flex",height:"unset"},onChange:Fe},{default:a(()=>[f(c(e(r)("newProject.global")),1)]),_:1},8,["modelValue"])]),default:a(()=>[(p(!0),T(h,null,x(e(j).basicSettings.countryList,n=>(p(),y(ye,{label:n.chineseName,value:n.id},null,8,["label","value"]))),256))]),_:1},8,["modelValue","disabled","placeholder"])]),_:1},8,["label"])]),_:1}),l(d,{span:6},{default:a(()=>[l(u,{label:e(r)("newProject.currency"),prop:"currencyType"},{default:a(()=>[e(P).originalExchangeRate?(p(),y(C,{key:1,modelValue:e(t).currencyType,"onUpdate:modelValue":o[6]||(o[6]=n=>e(t).currencyType=n),disabled:!!e(t).projectId,"value-key":"",style:{width:"22.4375rem"},placeholder:e(r)("newProject.currencySelect"),filterable:"",onChange:pt},{default:a(()=>[(p(),T(h,null,x(ke,n=>l(V,{key:n.value,label:n.label,value:n.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","disabled","placeholder"])):(p(),y(s,{key:0,type:"primary",link:"",onClick:dt},{default:a(()=>[f(c(e(r)("newProject.toSet"))+">> ",1)]),_:1}))]),_:1},8,["label"])]),_:1}),l(d,{span:6},{default:a(()=>[l(u,{label:e(r)("newProject.exchangeRate"),prop:""},{default:a(()=>[e(k)!==null?(p(),y(E,{key:0},{default:a(()=>[f(" 1"+c(e(r)("newProject.dollor"))+" = "+c(e(ge))+c(e(r)("newProject.rmb")),1)]),_:1})):_("",!0)]),_:1},8,["label"])]),_:1})]),_:1}),l(w,{gutter:20},{default:a(()=>[l(d,{span:6},{default:a(()=>[l(u,{label:e(r)("newProject.projectPrice"),prop:"doMoneyPrice"},{default:a(()=>[l(v,{modelValue:e(t).doMoneyPrice,"onUpdate:modelValue":o[7]||(o[7]=n=>e(t).doMoneyPrice=n),style:{height:"2rem"},"controls-position":"right",size:"large"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),l(d,{span:6},{default:a(()=>[l(u,{label:e(r)("newProject.quota"),prop:"num"},{default:a(()=>[l(v,{modelValue:e(t).num,"onUpdate:modelValue":o[8]||(o[8]=n=>e(t).num=n),style:{height:"2rem"},size:"large",onKeydown:Y},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),l(d,{style:{position:"relative"},span:6},{default:a(()=>[l(u,{prop:"minimumDuration"},{label:a(()=>[m("div",null,[f(c(e(r)("newProject.miniLength")),1),l(Z,{class:"tooltips",content:e(r)("newProject.latestTime"),placement:"top"},{default:a(()=>[l(G,{class:"SvgIcon1",name:"i-ri:question-line"})]),_:1},8,["content"])])]),default:a(()=>[l(v,{modelValue:e(t).minimumDuration,"onUpdate:modelValue":o[9]||(o[9]=n=>e(t).minimumDuration=n),modelModifiers:{number:!0},style:{height:"2rem",width:"100%"},min:1,step:1,"step-strictly":"","controls-position":"right",size:"large",onKeydown:Y},{append:a(()=>[f(" min ")]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(d,{span:6},{default:a(()=>[l(u,{label:"IR",prop:"ir"},{default:a(()=>[l(v,{modelValue:e(t).ir,"onUpdate:modelValue":o[10]||(o[10]=n=>e(t).ir=n)},{append:a(()=>[f(" % ")]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(w,{gutter:20},{default:a(()=>[l(d,{span:24},{default:a(()=>[l(u,{prop:"uidUrl"},{label:a(()=>[m("div",null,[f(" URL"),l(Z,{class:"tooltips",placement:"top"},{content:a(()=>[m("div",null,[m("div",null,[f(c(e(r)("newProject.link")),1),ta,f(c(xe))]),m("div",aa,c(e(r)("newProject.bandend")),1)])]),default:a(()=>[l(G,{class:"SvgIcon2",name:"i-ri:question-line"})]),_:1})])]),default:a(()=>[e(t).projectType===2?(p(),y(v,{key:0,clearable:"",value:"**************************************",disabled:e(t).projectType===2},null,8,["disabled"])):(p(),y(v,{key:1,modelValue:e(t).uidUrl,"onUpdate:modelValue":o[11]||(o[11]=n=>e(t).uidUrl=n),modelModifiers:{trim:!0},clearable:"",disabled:e(t).projectType===2},null,8,["modelValue","disabled"])),l(E,{class:"mx-1"},{default:a(()=>[f(c(xe))]),_:1})]),_:1})]),_:1})]),_:1}),l(w,{gutter:20},{default:a(()=>[e(t).required?_("",!0):(p(),y(d,{key:0,span:24},{default:a(()=>[l(u,{label:e(r)("newProject.exclusiveID")},{default:a(()=>[l(v,{modelValue:e(t).mutualExclusionId,"onUpdate:modelValue":o[12]||(o[12]=n=>e(t).mutualExclusionId=n),modelModifiers:{trim:!0},clearable:"",maxlength:"300","show-word-limit":"",type:"textarea",rows:3},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}))]),_:1})]),_:1}),e(t).required?_("",!0):(p(),y(Q,{key:0},{header:a(()=>[m("div",la,[m("span",null,c(e(r)("newProject.otherSettings")),1)])]),default:a(()=>[l(w,{gutter:20},{default:a(()=>[l(d,{span:5},{default:a(()=>[l(u,{label:e(r)("newProject.sex"),class:"flex",prop:"sex"},{default:a(()=>[l(bt,{modelValue:e(t).sex,"onUpdate:modelValue":o[13]||(o[13]=n=>e(t).sex=n),disabled:e(t).projectType===2,class:"sex-select"},{default:a(()=>[l(W,{value:1,label:e(r)("newProject.unlimited")},null,8,["label"]),l(W,{value:2,label:e(r)("newProject.male")},null,8,["label"]),l(W,{value:3,label:e(r)("newProject.female")},null,8,["label"])]),_:1},8,["modelValue","disabled"])]),_:1},8,["label"])]),_:1}),l(d,{span:4},{default:a(()=>[l(u,{label:"年龄",class:"flex",prop:"startAge"},{default:a(()=>[l(v,{modelValue:e(t).startAge,"onUpdate:modelValue":o[14]||(o[14]=n=>e(t).startAge=n),modelModifiers:{trim:!0},disabled:e(t).projectType===2,style:{width:"3rem !important"}},null,8,["modelValue","disabled"]),oa,l(v,{modelValue:e(t).endAge,"onUpdate:modelValue":o[15]||(o[15]=n=>e(t).endAge=n),modelModifiers:{trim:!0},disabled:e(t).projectType===2,style:{width:"3rem !important"}},null,8,["modelValue","disabled"])]),_:1})]),_:1}),l(d,{span:6},{default:a(()=>[l(u,{label:e(r)("newProject.operatingSystem"),class:"flex"},{default:a(()=>[l(C,{modelValue:e(t).operatingSystem,"onUpdate:modelValue":o[16]||(o[16]=n=>e(t).operatingSystem=n),modelModifiers:{trim:!0},placeholder:e(r)("newProject.systemSelect"),disabled:e(t).projectType===2,multiple:"",clearable:"",filterable:"","collapse-tags":"","collapse-tags-tooltip":"","max-collapse-tags":1},{default:a(()=>[(p(),T(h,null,x(Se,n=>l(V,{key:n.value,label:n.label,value:n.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder","disabled"])]),_:1},8,["label"])]),_:1}),l(d,{span:1}),l(d,{span:6},{default:a(()=>[l(u,{label:e(r)("newProject.browser"),class:"flex"},{default:a(()=>[l(C,{modelValue:e(t).browser,"onUpdate:modelValue":o[17]||(o[17]=n=>e(t).browser=n),modelModifiers:{trim:!0},placeholder:e(r)("newProject.browserSelect"),disabled:e(t).projectType===2,multiple:"",clearable:"",filterable:"","collapse-tags":"","collapse-tags-tooltip":"","max-collapse-tags":1},{default:a(()=>[(p(),T(h,null,x(Ue,n=>l(V,{key:n.value,label:n.label,value:n.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder","disabled"])]),_:1},8,["label"])]),_:1})]),_:1}),l(w,{gutter:20},{default:a(()=>[l(d,{span:5},{default:a(()=>[l(u,{label:e(r)("newProject.scheduledRelease"),class:"flex"},{default:a(()=>[l(b,{modelValue:e(t).isTimeReleases,"onUpdate:modelValue":o[18]||(o[18]=n=>e(t).isTimeReleases=n),"active-value":2,"inactive-value":1,disabled:e(t).projectType===2,onChange:tt},null,8,["modelValue","disabled"])]),_:1},8,["label"])]),_:1}),l(d,{span:5},{default:a(()=>[l(u,{label:"B2B",class:"flex"},{default:a(()=>[l(b,{modelValue:e(t).isB2b,"onUpdate:modelValue":o[19]||(o[19]=n=>e(t).isB2b=n),"active-value":2,"inactive-value":1,disabled:e(t).projectType===2},null,8,["modelValue","disabled"])]),_:1})]),_:1}),l(d,{span:5},{default:a(()=>[l(u,{label:e(r)("newProject.online"),class:"flex"},{default:a(()=>[l(b,{modelValue:e(t).isOnline,"onUpdate:modelValue":o[20]||(o[20]=n=>e(t).isOnline=n),"active-value":1,"inactive-value":2,disabled:e(t).isTimeReleases===2||e(t).projectType===2},null,8,["modelValue","disabled"])]),_:1},8,["label"])]),_:1}),l(d,{span:5},{default:a(()=>[l(u,{label:e(r)("newProject.preRuestionnaire"),class:"flex"},{default:a(()=>[l(b,{modelValue:e(t).isProfile,"onUpdate:modelValue":o[21]||(o[21]=n=>e(t).isProfile=n),"active-value":1,"inactive-value":2,disabled:e(t).projectType===2,onChange:at},null,8,["modelValue","disabled"])]),_:1},8,["label"])]),_:1}),l(d,{span:4},{default:a(()=>[l(u,{label:e(r)("newProject.pinned"),class:"flex"},{default:a(()=>[l(b,{modelValue:e(t).isPinned,"onUpdate:modelValue":o[22]||(o[22]=n=>e(t).isPinned=n),"active-value":1,"inactive-value":2,disabled:e(t).projectType===2},null,8,["modelValue","disabled"])]),_:1},8,["label"])]),_:1})]),_:1}),l(w,{gutter:20},{default:a(()=>[e(t).isTimeReleases===2?(p(),y(d,{key:0,span:5},{default:a(()=>[l(u,{label:e(r)("newProject.releaseTime"),prop:"releaseTime"},{default:a(()=>[l(yt,{modelValue:e(t).releaseTime,"onUpdate:modelValue":o[23]||(o[23]=n=>e(t).releaseTime=n),type:"datetime","value-format":"YYYY-MM-DD HH:mm:ss",placeholder:e(r)("newProject.timeSelect"),"disabled-date":Me,onChange:$e},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})):_("",!0),e(t).isB2b===2&&e(t).projectType!==2?(p(),y(d,{key:1,span:5},{default:a(()=>[l(u,{label:e(r)("newProject.projectType")},{default:a(()=>[l(vt,{modelValue:e(t).projectType,"onUpdate:modelValue":o[24]||(o[24]=n=>e(t).projectType=n),"show-all-levels":!1,props:e(j).basicSettings.B2BTypeProps,options:e(j).basicSettings.B2BTypeList,"collapse-tags":!0,filterable:"",clearable:""},null,8,["modelValue","props","options"])]),_:1},8,["label"])]),_:1})):_("",!0)]),_:1}),l(w,null,{default:a(()=>[l(d,{span:24},{default:a(()=>[l(u,{label:e(r)("newProject.remark")},{default:a(()=>[l(v,{modelValue:e(t).remark,"onUpdate:modelValue":o[25]||(o[25]=n=>e(t).remark=n),maxlength:"200","show-word-limit":"",type:"textarea",rows:5},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1})]),_:1})),e(t).required?_("",!0):(p(),y(Q,{key:1},{header:a(()=>[m("div",na,[m("span",null,c(e(r)("newProject.descriptionQuota")),1),l(s,{type:"primary",link:"",size:"default",onClick:He},{default:a(()=>[f(c(e(O)?e(r)("newProject.collapse"):e(r)("newProject.expand")),1)]),_:1})])]),default:a(()=>[e(O)?(p(),T("div",ra,[l(u,{label:e(r)("newProject.uploadIF")},{default:a(()=>[m("div",ia,[l(_t,{"file-list":e(L),"onUpdate:fileList":o[26]||(o[26]=n=>J(L)?L.value=n:null),action:Ee,headers:e(qe),"list-type":"picture-card",drag:!0,limit:10,accept:".png, .jpg, .jpeg, .gif","before-upload":Ge,"on-preview":Ze,"on-remove":Ke,"on-success":Je,"on-exceed":Xe},{tip:a(()=>[m("div",ua,[l(E,{size:"small"},{default:a(()=>[f(c(e(r)("newProject.support")),1)]),_:1})])]),default:a(()=>[l(jt,{style:{"margin-bottom":"none"},class:"el-icon--upload"},{default:a(()=>[l(e(Rt))]),_:1}),m("div",sa,c(e(r)("newProject.upload")),1)]),_:1},8,["file-list","headers"]),l(ve,{modelValue:e(H),"onUpdate:modelValue":o[27]||(o[27]=n=>J(H)?H.value=n:null),style:{"z-index":"1000",transform:"translate(0)",position:"relative"}},{default:a(()=>[m("img",{"w-full":"",src:e(re),alt:"Preview Image"},null,8,da)]),_:1},8,["modelValue"]),(p(!0),T(h,null,x(e(L),n=>(p(),T("div",{key:n.name},[ca,l(It,{style:{padding:"0",margin:"0"},underline:!1,type:"primary",onClick:K=>et(n)},{default:a(()=>[f(c(n.name)+" ",1),m("span",pa,c(e(r)("newProject.download")),1)]),_:2},1032,["onClick"])]))),128))])]),_:1},8,["label"]),l(w,null,{default:a(()=>[l(d,{span:24},{default:a(()=>[l(u,{label:e(r)("newProject.projectDescribe")},{default:a(()=>[l(Ht,{style:{width:"100%"},"value-html":e(t).richText,onChangeEditorValue:Oe},null,8,["value-html"])]),_:1},8,["label"])]),_:1})]),_:1})])):_("",!0)]),_:1}))]),_:1},8,["label"]),e(t).isProfile===1&&!e(t).required&&e(t).projectType!==2?(p(),y(ee,{key:0,label:e(r)("projectTopTabs.configurationInformation"),name:"configurationInformation"},{default:a(()=>[e(t).data?(p(),y(Q,{key:0},{header:a(()=>[m("div",ma,c(e(r)("projectTopTabs.configurationInformation")),1)]),default:a(()=>[l(w,{gutter:20},{default:a(()=>[l(d,{span:6},{default:a(()=>[l(u,{label:e(r)("projectTopTabs.areaSelect")},{default:a(()=>[l(C,{modelValue:e(t).data.configurationInformation.initialProblem.countryId,"onUpdate:modelValue":o[28]||(o[28]=n=>e(t).data.configurationInformation.initialProblem.countryId=n),filterable:"",clearable:"",placeholder:"Select",disabled:e(t).projectType===2,onChange:ot},{empty:a(()=>[m("div",null,[l(s,{type:"primary",link:"",class:"buttonClass",size:"small",onClick:mt},{default:a(()=>[f(c(e(r)("projectTopTabs.quickAdd"))+" ",1),l(G,{name:"ant-design:plus-outlined",color:"#fff",style:{"background-color":"var(--el-color-primary)","border-radius":"50%",padding:"0.125rem",margin:"0 0.125rem"}})]),_:1})])]),default:a(()=>[(p(!0),T(h,null,x(e(t).data.configurationInformation.configurationCountryList,n=>(p(),y(ye,{label:n.countryName,value:n.countryId},null,8,["label","value"]))),256))]),_:1},8,["modelValue","disabled"])]),_:1},8,["label"])]),_:1}),e(t).data.configurationInformation.initialProblem.countryId?(p(),y(d,{key:0,span:6},{default:a(()=>[l(u,{label:e(r)("projectTopTabs.questionnaireName")},{default:a(()=>[l(C,{modelValue:e(t).data.configurationInformation.initialProblem.projectProblemCategoryId,"onUpdate:modelValue":o[29]||(o[29]=n=>e(t).data.configurationInformation.initialProblem.projectProblemCategoryId=n),clearable:"",placeholder:"Select",disabled:e(t).projectType===2,onFocus:de,onChange:ce},{default:a(()=>[(p(!0),T(h,null,x(e(t).data.configurationInformation.projectCategoryList,n=>(p(),y(V,{key:n.projectProblemCategoryId,label:n.projectProblemCategoryName,value:n.projectProblemCategoryId},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"])]),_:1},8,["label"])]),_:1})):_("",!0)]),_:1}),e(t).data.configurationInformation.ProjectProblemInfoList&&e(t).data.configurationInformation.ProjectProblemInfoList.length&&e(t).projectQuotaInfoList.length?(p(!0),T(h,{key:0},x(e(t).data.configurationInformation.ProjectProblemInfoList,(n,K)=>(p(),y(w,{class:"allocation",gutter:20},{default:a(()=>[l(d,{span:20},{default:a(()=>[f(c(e(r)("projectTopTabs.question"))+"："+c(n.question),1)]),_:2},1024),l(d,{span:20},{default:a(()=>[l(u,null,{default:a(()=>[n.questionType===1?(p(),y(v,{key:0,disabled:"",placeholder:e(r)("projectTopTabs.inputDisabled")},null,8,["placeholder"])):(p(),y(Pt,{key:1,"model-value":me(n.id,K).get(),"onUpdate:modelValue":q=>me(n.id,K).set(q),onChange:q=>nt(3,K)},{default:a(()=>[(p(!0),T(h,null,x(n.getProjectAnswerInfoList,q=>(p(),y(be,{label:q.anotherName,value:q.id},null,8,["label","value"]))),256))]),_:2},1032,["model-value","onUpdate:modelValue","onChange"]))]),_:2},1024)]),_:2},1024)]),_:2},1024))),256)):_("",!0)]),_:1})):_("",!0)]),_:1},8,["label"])):_("",!0),e(t).required?_("",!0):(p(),y(ee,{key:1,label:e(r)("newProject.safetyInformation"),name:"securityInformation"},{default:a(()=>[l(Q,null,{header:a(()=>[m("div",fa,c(e(r)("newProject.safetyInformation")),1)]),default:a(()=>[l(w,{gutter:20},{default:a(()=>[l(d,{span:6},{default:a(()=>[l(u,null,{label:a(()=>[m("div",null,[f(c(e(r)("newProject.hourly")),1),m("span",ga,c(e(r)("newProject.inflow")),1),f(c(e(r)("newProject.num")),1)])]),default:a(()=>[l(je,{modelValue:e(t).preNum,"onUpdate:modelValue":o[30]||(o[30]=n=>e(t).preNum=n),style:{height:"2rem"},min:0,step:1,"step-strictly":"","controls-position":"right",size:"large",onKeydown:Y},null,8,["modelValue"])]),_:1})]),_:1}),l(d,{span:1}),l(d,{span:6},{default:a(()=>[l(u,null,{label:a(()=>[m("div",null,[f(c(e(r)("newProject.hourly")),1),m("span",ba,c(e(r)("newProject.completion")),1),f(c(e(r)("newProject.num")),1)])]),default:a(()=>[l(je,{modelValue:e(t).limitedQuantity,"onUpdate:modelValue":o[31]||(o[31]=n=>e(t).limitedQuantity=n),style:{height:"2rem"},min:0,step:1,"step-strictly":"","controls-position":"right",size:"large",onKeydown:Y},null,8,["modelValue"])]),_:1})]),_:1}),l(d,{span:1}),l(d,{span:4,class:"flex"},{default:a(()=>[l(u,{label:"",class:"m-0 flex"},{label:a(()=>[m("div",null,[f(c(e(r)("newProject.allowRepeat")),1),l(Z,{class:"tooltips",placement:"top"},{content:a(()=>[m("div",null,c(e(r)("newProject.switchOn")),1),m("div",null,c(e(r)("newProject.switchOff")),1)]),default:a(()=>[l(G,{class:"SvgIcon2",name:"i-ri:question-line"})]),_:1})])]),default:a(()=>[l(b,{modelValue:e(t).ipDifferenceDetection,"onUpdate:modelValue":o[32]||(o[32]=n=>e(t).ipDifferenceDetection=n),"active-value":1,"inactive-value":2},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["label"]))]),_:1},8,["modelValue"]),l(ve,{modelValue:e(U),"onUpdate:modelValue":o[36]||(o[36]=n=>J(U)?U.value=n:null),title:"设置汇率",width:"500"},{footer:a(()=>[m("div",va,[l(s,{type:"primary",onClick:ct},{default:a(()=>[f(" 确认 ")]),_:1}),l(s,{onClick:o[35]||(o[35]=n=>U.value=!1)},{default:a(()=>[f(" 关闭 ")]),_:1})])]),default:a(()=>[l(Tt,{ref_key:"exchangeRateRef",ref:fe,model:e(D),rules:e(ut),"label-width":"90px",inline:!1},{default:a(()=>[l(u,{label:"美元汇率",prop:"exchangeRate"},{default:a(()=>[m("div",ya,[l(v,{modelValue:e(D).exchangeRate,"onUpdate:modelValue":o[34]||(o[34]=n=>e(D).exchangeRate=n),placeholder:"请输入数值",clearable:""},{prefix:a(()=>[l(E,{style:{color:"#333"}},{default:a(()=>[f(" 1 "+c(e(r)("newProject.dollor"))+" (USD)     = ",1)]),_:1})]),suffix:a(()=>[l(E,{style:{color:"#333"}},{default:a(()=>[f(c(e(r)("newProject.rmb"))+" (CNY) ",1)]),_:1})]),_:1},8,["modelValue"])])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"]),l(Mt,{ref_key:"editRef",ref:ne,onFetchData:rt},null,512),e(j).editProps.visible?(p(),y(zt,{key:0,id:e(j).editProps.id,modelValue:e(j).editProps.visible,"onUpdate:modelValue":o[37]||(o[37]=n=>e(j).editProps.visible=n),"country-id":e(j).editProps.countryId,row:e(j).editProps.row,onSuccess:ft},null,8,["id","modelValue","country-id","row"])):_("",!0)]),_:1},8,["rules","model"])}}}),Oa=Ve(ja,[["__scopeId","data-v-25e92288"]]);export{Oa as default};
