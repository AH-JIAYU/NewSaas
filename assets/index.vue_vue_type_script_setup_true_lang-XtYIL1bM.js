
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{u as z}from"./user_supplier-BpURSNGf.js";import{u as O}from"./configuration_supplierLevel-bOcMLEWN.js";import{u as Z}from"./user_customer-BcQFbCdj.js";import{u as $}from"./otherFunctions_basicDictionary-Clp5NXJg.js";import{d as G,t as H,r as S,a2 as A,D as J,a5 as K,a as p,o as n,b as c,f as e,w as a,i as V,ao as Q,a3 as T,a4 as y,e as i,j as L,F as g}from"./index-gu6-sLbe.js";const W=g("div",{class:"card-header"},[g("span",null,"基本信息")],-1),X=g("div",{class:"card-header"},[g("span",null,"权限信息")],-1),Y=g("div",{class:"card-header"},[g("span",null,"财务信息")],-1),ue=G({__name:"index",props:{leftTab:Object,tabIndex:Number},setup(k){const E=z(),w=O(),P=Z(),B=$(),M=H("validateTopTabs"),t=k,U=S(null);S({});const q=[{label:"公司",value:"company"},{label:"个人",value:"personal"}],b=A({supplierAccord:[{required:!0,message:"请输入供应商名称",trigger:"blur"},{min:2,max:50,message:"内容在2-50个字之间",trigger:"blur"}],memberLevelId:[{required:!0,message:"请选择会员等级",trigger:"change"}],subordinateCountryId:[{required:!0,message:"请选择国家",trigger:"change"}],supplierLevelId:[{required:!0,message:"请选择供应商等级",trigger:"change"}]}),D=(_,u,d)=>{/^(?:(?:\+|00)86)?1(?:(?:3[\d])|(?:4[5-79])|(?:5[0-35-9])|(?:6[5-7])|(?:7[0-8])|(?:8[\d])|(?:9[189]))\d{8}$/.test(t.leftTab.supplierPhone)?d():d(new Error("请输入合法手机号"))},j=(_,u,d)=>{/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t.leftTab.emailAddress)?d():d(new Error("请输入合法邮箱"))},I=_=>{_&&(t.leftTab.countryType=_==="343"?1:2,_==="343"?(b.emailAddress&&delete b.emailAddress,b.supplierPhone=[{required:!0,message:"请输入手机号码",trigger:"blur"},{validator:D,trigger:"blur"}]):(b.supplierPhone&&delete b.supplierPhone,b.emailAddress=[{required:!0,message:"请输入邮箱",trigger:"blur"},{validator:j,trigger:"blur"}]))},m=A({relatedCustomers:[],payMethod:E.payMethod,countryList:[],supplierLevelList:[]}),N=S("basicSettings");return J(async()=>{m.relatedCustomers=await P.getCustomerList(),m.countryList=await B.getCountry(),m.supplierLevelList=await w.getLevelNameList(),I(t.leftTab.subordinateCountryId)}),K(()=>{M(U.value)}),(_,u)=>{const d=p("el-option"),f=p("el-select"),o=p("el-form-item"),r=p("el-col"),s=p("el-input"),v=p("el-row"),x=p("el-card"),C=p("ElSwitch"),F=p("el-tab-pane"),R=p("el-tabs");return n(),c("div",null,[e(R,{modelValue:N.value,"onUpdate:modelValue":u[21]||(u[21]=l=>N.value=l)},{default:a(()=>[e(F,{label:"基础设置",name:"basicSettings"},{default:a(()=>[e(V(Q),{ref_key:"formRef",ref:U,rules:V(b),model:t.leftTab,"label-width":"100px","validate-on-rule-change":!1},{default:a(()=>[e(x,{class:"box-card"},{header:a(()=>[W]),default:a(()=>[e(v,{gutter:10},{default:a(()=>[e(r,{span:8},{default:a(()=>[e(o,{label:"供应商类型"},{default:a(()=>[e(f,{modelValue:t.leftTab.type,"onUpdate:modelValue":u[0]||(u[0]=l=>t.leftTab.type=l),"value-key":"",placeholder:"",clearable:"",filterable:""},{default:a(()=>[(n(),c(T,null,y(q,l=>e(d,{key:l.value,label:l.label,value:l.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(r,{span:8},{default:a(()=>[e(o,{label:"供应商名称",prop:"supplierAccord"},{default:a(()=>[e(s,{modelValue:t.leftTab.supplierAccord,"onUpdate:modelValue":u[1]||(u[1]=l=>t.leftTab.supplierAccord=l),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(r,{span:8},{default:a(()=>[e(o,{label:"供应商等级",prop:"supplierLevelId"},{default:a(()=>[e(f,{clearable:"",filterable:"",modelValue:t.leftTab.supplierLevelId,"onUpdate:modelValue":u[2]||(u[2]=l=>t.leftTab.supplierLevelId=l)},{default:a(()=>[(n(!0),c(T,null,y(V(m).supplierLevelList,l=>(n(),i(d,{key:l.tenantSupplierLevelId,value:l.tenantSupplierLevelId,label:l.levelNameOrAdditionRatio},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(v,{gutter:10},{default:a(()=>[e(r,{span:8},{default:a(()=>[e(o,{label:"所属国家",prop:"subordinateCountryId"},{default:a(()=>[e(f,{clearable:"",filterable:"",modelValue:t.leftTab.subordinateCountryId,"onUpdate:modelValue":u[3]||(u[3]=l=>t.leftTab.subordinateCountryId=l),onChange:I},{default:a(()=>[(n(!0),c(T,null,y(V(m).countryList,l=>(n(),i(d,{key:l.id,value:l.id,label:l.chineseName},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(r,{span:8},{default:a(()=>[e(o,{label:"供应商姓名"},{default:a(()=>[e(s,{clearable:"",modelValue:t.leftTab.supplierName,"onUpdate:modelValue":u[4]||(u[4]=l=>t.leftTab.supplierName=l)},null,8,["modelValue"])]),_:1})]),_:1}),e(r,{span:8},{default:a(()=>[e(o,{label:"手机号码",prop:"supplierPhone"},{default:a(()=>[e(s,{clearable:"",modelValue:t.leftTab.supplierPhone,"onUpdate:modelValue":u[5]||(u[5]=l=>t.leftTab.supplierPhone=l)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(v,{gutter:10},{default:a(()=>[e(r,{span:8},{default:a(()=>[e(o,{label:"电子邮箱",prop:"emailAddress"},{default:a(()=>[e(s,{clearable:"",modelValue:t.leftTab.emailAddress,"onUpdate:modelValue":u[6]||(u[6]=l=>t.leftTab.emailAddress=l)},null,8,["modelValue"])]),_:1})]),_:1}),e(r,{span:8},{default:a(()=>[t.leftTab.type==="company"?(n(),i(o,{key:0,label:"公司名称"},{default:a(()=>[e(s,{clearable:"",modelValue:t.leftTab.companyName,"onUpdate:modelValue":u[7]||(u[7]=l=>t.leftTab.companyName=l)},null,8,["modelValue"])]),_:1})):L("",!0)]),_:1}),e(r,{span:8},{default:a(()=>[t.leftTab.type==="company"?(n(),i(o,{key:0,label:"法人姓名",prop:""},{default:a(()=>[e(s,{clearable:"",modelValue:t.leftTab.legalPersonName,"onUpdate:modelValue":u[8]||(u[8]=l=>t.leftTab.legalPersonName=l)},null,8,["modelValue"])]),_:1})):L("",!0)]),_:1})]),_:1}),e(v,{gutter:10},{default:a(()=>[e(r,{span:8},{default:a(()=>[t.leftTab.type==="company"?(n(),i(o,{key:0,label:"公司税号",prop:""},{default:a(()=>[e(s,{clearable:"",modelValue:t.leftTab.taxID,"onUpdate:modelValue":u[9]||(u[9]=l=>t.leftTab.taxID=l)},null,8,["modelValue"])]),_:1})):L("",!0)]),_:1})]),_:1})]),_:1}),e(x,{class:"box-card"},{header:a(()=>[X]),default:a(()=>[e(v,{gutter:10},{default:a(()=>[e(o,{label:"调查系统"},{default:a(()=>[e(C,{modelValue:t.leftTab.surveySystem,"onUpdate:modelValue":u[10]||(u[10]=l=>t.leftTab.surveySystem=l),"inline-prompt":"","inactive-value":1,"active-value":2,"active-text":"启用","inactive-text":"禁用"},null,8,["modelValue"])]),_:1}),e(o,{label:"B2B"},{default:a(()=>[e(C,{modelValue:t.leftTab.b2bStatus,"onUpdate:modelValue":u[11]||(u[11]=l=>t.leftTab.b2bStatus=l),"inline-prompt":"","inactive-value":1,"active-value":2,"active-text":"启用","inactive-text":"禁用"},null,8,["modelValue"])]),_:1}),e(o,{label:"B2C"},{default:a(()=>[e(C,{modelValue:t.leftTab.b2cStatus,"onUpdate:modelValue":u[12]||(u[12]=l=>t.leftTab.b2cStatus=l),"inline-prompt":"","inactive-value":1,"active-value":2,"active-text":"启用","inactive-text":"禁用"},null,8,["modelValue"])]),_:1}),e(o,{label:"供应商状态"},{default:a(()=>[e(C,{modelValue:t.leftTab.supplierStatus,"onUpdate:modelValue":u[13]||(u[13]=l=>t.leftTab.supplierStatus=l),"inline-prompt":"","inactive-value":1,"active-value":2,"active-text":"启用","inactive-text":"禁用"},null,8,["modelValue"])]),_:1})]),_:1}),e(v,{gutter:20},{default:a(()=>[e(r,{span:8},{default:a(()=>[e(o,{label:"地区"},{default:a(()=>[e(f,{modelValue:t.leftTab.relevanceCountryIdList,"onUpdate:modelValue":u[14]||(u[14]=l=>t.leftTab.relevanceCountryIdList=l),clearable:"",filterable:"",multiple:"","collapse-tags":""},{default:a(()=>[(n(!0),c(T,null,y(V(m).countryList,l=>(n(),i(d,{key:l.id,value:l.id,label:l.chineseName},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(r,{span:8},{default:a(()=>[e(o,{label:"关联客户"},{default:a(()=>[e(f,{modelValue:t.leftTab.relevanceCustomerId,"onUpdate:modelValue":u[15]||(u[15]=l=>t.leftTab.relevanceCustomerId=l)},{default:a(()=>[(n(!0),c(T,null,y(V(m).relatedCustomers,l=>(n(),i(d,{key:l.tenantCustomerId,value:l.tenantCustomerId,label:l.customerAccord},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(x,{class:"box-card"},{header:a(()=>[Y]),default:a(()=>[e(v,{gutter:20},{default:a(()=>[e(r,{span:8},{default:a(()=>[e(o,{label:"付款方式"},{default:a(()=>[e(f,{modelValue:t.leftTab.payMethod,"onUpdate:modelValue":u[16]||(u[16]=l=>t.leftTab.payMethod=l)},{default:a(()=>[(n(!0),c(T,null,y(V(m).payMethod,l=>(n(),i(d,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(r,{span:8},{default:a(()=>[e(o,{label:"账户名称"},{default:a(()=>[e(s,{modelValue:t.leftTab.accountName,"onUpdate:modelValue":u[17]||(u[17]=l=>t.leftTab.accountName=l)},null,8,["modelValue"])]),_:1})]),_:1}),e(r,{span:8},{default:a(()=>[e(o,{label:"收款账号"},{default:a(()=>[e(s,{modelValue:t.leftTab.collectionAccount,"onUpdate:modelValue":u[18]||(u[18]=l=>t.leftTab.collectionAccount=l)},null,8,["modelValue"])]),_:1})]),_:1}),t.leftTab.payMethod===1?(n(),i(r,{key:0,span:8},{default:a(()=>[e(o,{label:"银行名称"},{default:a(()=>[e(s,{modelValue:t.leftTab.bankName,"onUpdate:modelValue":u[19]||(u[19]=l=>t.leftTab.bankName=l)},null,8,["modelValue"])]),_:1})]),_:1})):L("",!0),e(r,{span:8},{default:a(()=>[e(o,{label:"结算周期"},{default:a(()=>[e(s,{modelValue:t.leftTab.settlementCycle,"onUpdate:modelValue":u[20]||(u[20]=l=>t.leftTab.settlementCycle=l)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["rules","model"])]),_:1})]),_:1},8,["modelValue"])])}}});export{ue as _};
