
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{d as A,r as w,a as i,o as x,b as I,f as e,w as a,i as l,b3 as G,b4 as L,b5 as C,g as o,I as r,F as R,n as H,e as V,l as c,j as q,p as J,ak as P,aF as K,aG as W,_ as X}from"./index-DotqEf4N.js";import{g as Y,v as Z,a as ee}from"./index-L7xxtliU.js";import{f as ae}from"./file-CJx1x-8V.js";import{o as le}from"./apiLoading-CvOY47jQ.js";import{a as te}from"./projectManagement-Dqs642c2.js";import{_ as se}from"./index.vue_vue_type_script_setup_true_lang-BgsRQc4h.js";const g=k=>(K("data-v-0b864103"),k=k(),W(),k),oe=g(()=>c("div",{class:"card-header"},[c("div",null,[o(" 基本信息 "),c("span",{class:"m-4",style:{background:"var(--el-color-primary)",color:"var(--el-color-white)",padding:"0 0.5rem"}},"未分配")]),c("div",{class:"status"},[c("div",{class:"i-ph:seal-light w-1em h-1em"}),c("div",null,"离线")])],-1)),ne=g(()=>c("div",{class:"card-header"},[c("span",null,"其他设置")],-1)),de=g(()=>c("div",{class:"card-header"},[c("span",null,"配置信息")],-1)),re=g(()=>c("div",{class:"card-header"},[c("span",null,"安全信息")],-1)),ce=g(()=>c("div",{class:"card-header"},[c("span",null,"描述及配额")],-1)),ie={class:"demo-image__preview"},ue=g(()=>c("div",{class:"card-header"},[c("span",null,"操作日志")],-1)),fe=A({name:"ProjectDetails",__name:"index",setup(k,{expose:E}){w("# Fantastic-admin");const j=w(),U=w(1),t=w({form:{},imgUrl:"",srcList:[]});Y({locale:ee});const T=[{a:1,b:2,c:3,id:1},{a:1,b:2,c:3,id:1},{a:1,b:2,c:3,id:1}];function B(_){j.value.showEdit(_)}const h=w(!1);async function F(_){const f=await le(te.detail({projectId:_.projectId}));t.value.form=f.data;const s=await ae.detail({fileName:t.value.form.descriptionUrl});t.value.imgUrl=s.data.fileUrl,t.value.srcList=[s.data.fileUrl],h.value=!0}async function N(_){try{await navigator.clipboard.writeText(_),P.success({message:"已复制文本",center:!0})}catch{P.warning({message:"复制失败,请重试",center:!0})}}async function S(){const f=await(await fetch(t.value.imgUrl)).blob(),s=URL.createObjectURL(f),u=document.createElement("a");u.href=s,u.download=t.value.form.descriptionUrl,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(s)}function D(){h.value=!1}return E({showEdit:F}),(_,f)=>{const s=i("el-col"),u=i("el-step"),z=i("el-steps"),p=i("el-row"),n=i("el-text"),d=i("el-form-item"),v=i("el-button"),b=i("el-card"),O=i("el-image"),y=i("el-table-column"),M=i("el-table"),Q=i("ElForm"),$=i("el-drawer");return x(),I("div",null,[e($,{modelValue:l(h),"onUpdate:modelValue":f[1]||(f[1]=m=>J(h)?h.value=m:null),"append-to-body":"","close-on-click-modal":!1,"destroy-on-close":"",draggable:"",size:"55%",title:"项目详情"},{header:a(()=>[e(p,{gutter:20},{default:a(()=>[e(s,{span:2}),e(s,{span:20},{default:a(()=>[e(z,{style:{"max-width":"100%"},"finish-status":"success","align-center":"",active:l(U)},{default:a(()=>[e(u,{title:"已开始",description:"2021-09-09 11:11:11",icon:l(G)},null,8,["icon"]),e(u,{title:"已确认",description:"2021-09-09 11:11:11",icon:l(U)>=2?l(L):l(C)},null,8,["icon"]),e(u,{title:"已开票",description:"2021-09-09 11:11:11",icon:l(U)>=3?l(L):l(C)},null,8,["icon"]),e(u,{title:"已完结",description:"2021-09-09 11:11:11",icon:l(U)>=4?l(L):l(C)},null,8,["icon"])]),_:1},8,["active"])]),_:1}),e(s,{span:2})]),_:1})]),footer:a(()=>[e(v,{onClick:D},{default:a(()=>[o(" 取消 ")]),_:1}),e(v,{type:"primary",onClick:D},{default:a(()=>[o(" 确定 ")]),_:1})]),default:a(()=>[e(Q,{"label-width":"100px"},{default:a(()=>[e(b,{class:"box-card"},{header:a(()=>[oe]),default:a(()=>[e(p,{gutter:10},{default:a(()=>[e(s,{span:8},{default:a(()=>[e(d,{label:"项目ID"},{default:a(()=>[e(n,{class:"mx-1"},{default:a(()=>[o(r(l(t).form.projectId),1)]),_:1})]),_:1})]),_:1}),e(s,{span:8},{default:a(()=>[e(d,{label:"项目名称"},{default:a(()=>[e(n,{class:"mx-1"},{default:a(()=>[o(r(l(t).form.name),1)]),_:1})]),_:1})]),_:1}),e(s,{span:8},{default:a(()=>[e(d,{label:"项目标识",prop:"client_pid"},{default:a(()=>[e(n,{class:"mx-1"},{default:a(()=>[o(r(l(t).form.projectIdentification),1)]),_:1})]),_:1})]),_:1}),e(s,{span:8},{default:a(()=>[e(d,{label:"所属客户"},{default:a(()=>[e(n,{class:"mx-1"},{default:a(()=>[o(r(l(t).form.clientId),1)]),_:1})]),_:1})]),_:1}),e(s,{span:8},{default:a(()=>[e(d,{label:"所属国家"},{default:a(()=>[e(n,{class:"mx-1"},{default:a(()=>[o(r(l(t).form.countryIdList.length),1)]),_:1})]),_:1})]),_:1}),e(s,{span:8},{default:a(()=>[e(d,{label:"原价"},{default:a(()=>[e(n,{class:"mx-1"},{default:a(()=>[o(r(l(t).form.doMoneyPrice),1)]),_:1})]),_:1})]),_:1}),e(s,{span:8},{default:a(()=>[e(d,{label:"配额"},{default:a(()=>[e(n,{class:"mx-1"},{default:a(()=>[o(r(l(t).form.num),1)]),_:1})]),_:1})]),_:1}),e(s,{span:8},{default:a(()=>[e(d,{label:"最小时长"},{default:a(()=>[e(n,{class:"mx-1"},{default:a(()=>[o(r(l(t).form.minimumDuration),1)]),_:1})]),_:1})]),_:1}),e(s,{span:8},{default:a(()=>[e(d,{label:"IR"},{default:a(()=>[e(n,{class:"mx-1"},{default:a(()=>[o(r(l(t).form.ir),1)]),_:1})]),_:1})]),_:1}),e(s,{span:8},{default:a(()=>[e(d,{label:"URL"},{default:a(()=>[e(n,{class:"mx-1"},{default:a(()=>[o(r(l(t).form.uidUrl),1)]),_:1}),e(v,{type:"primary",style:{"margin-left":"auto"},onClick:f[0]||(f[0]=m=>N(l(t).form.uidUrl))},{default:a(()=>[o(" 复制 ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(b,{class:"box-card"},{header:a(()=>[ne]),default:a(()=>[e(p,{gutter:10},{default:a(()=>[e(s,{span:8},{default:a(()=>[e(d,{label:"置顶"},{default:a(()=>[e(n,{class:"mx-1"},{default:a(()=>[o(r(l(t).form.isPinned===1?"开":"关"),1)]),_:1})]),_:1})]),_:1}),e(s,{span:8},{default:a(()=>[e(d,{label:"在线"},{default:a(()=>[e(n,{class:"mx-1"},{default:a(()=>[o(r(l(t).form.isOnline===1?"开":"关"),1)]),_:1})]),_:1})]),_:1}),e(s,{span:8},{default:a(()=>[e(d,{label:"资料"},{default:a(()=>[e(n,{class:"mx-1"},{default:a(()=>[o(r(l(t).form.isProfile===2?"开":"关"),1)]),_:1})]),_:1})]),_:1}),e(s,{span:8},{default:a(()=>[e(d,{label:"B2B"},{default:a(()=>[e(n,{class:"mx-1"},{default:a(()=>[o(r(l(t).form.isPinned===1?"开":"关"),1)]),_:1})]),_:1})]),_:1}),e(s,{span:8},{default:a(()=>[e(d,{label:"定时发布"},{default:a(()=>[e(n,{class:"mx-1"},{default:a(()=>[o(r(l(t).form.isTimeReleases===2?"开":"关"),1)]),_:1})]),_:1})]),_:1}),e(s,{span:8},{default:a(()=>[e(d,{label:"备注"},{default:a(()=>[e(n,{class:"mx-1"},{default:a(()=>[o(r(l(t).form.remark),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(b,{class:"box-card"},{header:a(()=>[de]),default:a(()=>[e(p,{gutter:10},{default:a(()=>[(x(!0),I(R,null,H(l(t).form.projectQuotaInfoList,m=>(x(),V(s,{span:8},{default:a(()=>[e(d,{label:m.keyValue},{default:a(()=>[m.answerValueList&&m.answerValueList[0]!=="null"?(x(),V(n,{key:0,class:"mx-1"},{default:a(()=>[o(r(m.answerValueList.join(", ")),1)]),_:2},1024)):(x(),V(n,{key:1,class:"mx-1"},{default:a(()=>[o(" - ")]),_:1}))]),_:2},1032,["label"])]),_:2},1024))),256))]),_:1})]),_:1}),e(b,{class:"box-card"},{header:a(()=>[re]),default:a(()=>[e(p,{gutter:20},{default:a(()=>[e(s,{span:8},{default:a(()=>[e(d,{label:"小时准入量"},{default:a(()=>[e(n,{class:"mx-1"},{default:a(()=>[o(r(l(t).form.preNum),1)]),_:1})]),_:1})]),_:1}),e(s,{span:8},{default:a(()=>[e(d,{label:"小时完成量"},{default:a(()=>[e(n,{class:"mx-1"},{default:a(()=>[o(r(l(t).form.limitedQuantity),1)]),_:1})]),_:1})]),_:1}),e(s,{span:8},{default:a(()=>[e(d,{label:"时差检测"},{default:a(()=>[e(n,{class:"mx-1"},{default:a(()=>[o(r(l(t).form.timeDifferenceDetection===1?"开":"关"),1)]),_:1})]),_:1})]),_:1}),e(s,{span:8},{default:a(()=>[e(d,{label:"重复IP检测"},{default:a(()=>[e(n,{class:"mx-1"},{default:a(()=>[o(r(l(t).form.ipDifferenceDetection===1?"开":"关"),1)]),_:1})]),_:1})]),_:1}),e(s,{span:8},{default:a(()=>[e(d,{label:"IP一致性检测"},{default:a(()=>[e(n,{class:"mx-1"},{default:a(()=>[o(r(l(t).form.ipConsistency===1?"开":"关"),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(b,{class:"box-card"},{header:a(()=>[ce]),default:a(()=>[l(t).form.descriptionUrl?(x(),I(R,{key:0},[c("div",ie,[e(O,{style:{width:"100px",height:"100px"},src:l(t).imgUrl,"preview-src-list":l(t).srcList,"zoom-rate":1.2,"max-scale":7,"min-scale":.2,"initial-index":0,fit:"cover"},null,8,["src","preview-src-list"])]),e(v,{style:{padding:"0"},type:"primary",text:"",onClick:S},{default:a(()=>[o(r(l(t).form.descriptionUrl)+" 下载 ",1)]),_:1})],64)):q("",!0),e(p,{gutter:20},{default:a(()=>[e(s,{span:24},{default:a(()=>[e(d,null,{default:a(()=>[e(l(Z),{value:l(t).form.richText},null,8,["value"])]),_:1})]),_:1})]),_:1})]),_:1}),e(b,{class:"box-card"},{header:a(()=>[ue]),default:a(()=>[e(M,{data:T,border:"",style:{width:"100%"}},{default:a(()=>[e(y,{align:"center",type:"index",width:"80",label:"序号"}),e(y,{align:"center",prop:"a",label:"操作时间"}),e(y,{align:"center",prop:"b",label:"操作人"}),e(y,{align:"center",prop:"c",label:"操作事项"}),e(y,{align:"center",prop:"d",label:"详情"},{default:a(()=>[e(v,{text:"",type:"primary",size:"default",onClick:B},{default:a(()=>[o(" 详情 ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(se,{ref_key:"logDetailsRef",ref:j},null,512)])}}}),he=X(fe,[["__scopeId","data-v-0b864103"]]);export{he as default};
