
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{a as N,b as j,m as D,c as Ft,u as I,d as Z,n as E,f as L,g as Lt,s as H,r as Tt,h as K,i as v,j as z,k as zt,l as Mt,o as It,p as tt,q as Rt}from"./index-BxwStS7H.js";const vt={tokenize:Bt,partial:!0},ut={tokenize:Ht,partial:!0},ht={tokenize:$t,partial:!0},ft={tokenize:Wt,partial:!0},jt={tokenize:Vt,partial:!0},ct={tokenize:Ot,previous:pt},gt={tokenize:_t,previous:mt},F={tokenize:Pt,previous:kt},S={},Et={text:S};let T=48;for(;T<123;)S[T]=F,T++,T===58?T=65:T===91&&(T=97);S[43]=F;S[45]=F;S[46]=F;S[95]=F;S[72]=[F,gt];S[104]=[F,gt];S[87]=[F,ct];S[119]=[F,ct];function Pt(t,e,n){const r=this;let a,l;return i;function i(s){return!G(s)||!kt.call(r,r.previous)||Q(r.events)?n(s):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),o(s))}function o(s){return G(s)?(t.consume(s),o):s===64?(t.consume(s),u):n(s)}function u(s){return s===46?t.check(jt,g,c)(s):s===45||s===95||N(s)?(l=!0,t.consume(s),u):g(s)}function c(s){return t.consume(s),a=!0,u}function g(s){return l&&a&&j(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(s)):n(s)}}function Ot(t,e,n){const r=this;return a;function a(i){return i!==87&&i!==119||!pt.call(r,r.previous)||Q(r.events)?n(i):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(vt,t.attempt(ut,t.attempt(ht,l),n),n)(i))}function l(i){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(i)}}function _t(t,e,n){const r=this;let a="",l=!1;return i;function i(s){return(s===72||s===104)&&mt.call(r,r.previous)&&!Q(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),a+=String.fromCodePoint(s),t.consume(s),o):n(s)}function o(s){if(j(s)&&a.length<5)return a+=String.fromCodePoint(s),t.consume(s),o;if(s===58){const p=a.toLowerCase();if(p==="http"||p==="https")return t.consume(s),u}return n(s)}function u(s){return s===47?(t.consume(s),l?c:(l=!0,u)):n(s)}function c(s){return s===null||Ft(s)||D(s)||I(s)||Z(s)?n(s):t.attempt(ut,t.attempt(ht,g),n)(s)}function g(s){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(s)}}function Bt(t,e,n){let r=0;return a;function a(i){return(i===87||i===119)&&r<3?(r++,t.consume(i),a):i===46&&r===3?(t.consume(i),l):n(i)}function l(i){return i===null?n(i):e(i)}}function Ht(t,e,n){let r,a,l;return i;function i(c){return c===46||c===95?t.check(ft,u,o)(c):c===null||D(c)||I(c)||c!==45&&Z(c)?u(c):(l=!0,t.consume(c),i)}function o(c){return c===95?r=!0:(a=r,r=void 0),t.consume(c),i}function u(c){return a||r||!l?n(c):e(c)}}function $t(t,e){let n=0,r=0;return a;function a(i){return i===40?(n++,t.consume(i),a):i===41&&r<n?l(i):i===33||i===34||i===38||i===39||i===41||i===42||i===44||i===46||i===58||i===59||i===60||i===63||i===93||i===95||i===126?t.check(ft,e,l)(i):i===null||D(i)||I(i)?e(i):(t.consume(i),a)}function l(i){return i===41&&r++,t.consume(i),a}}function Wt(t,e,n){return r;function r(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(t.consume(o),r):o===38?(t.consume(o),l):o===93?(t.consume(o),a):o===60||o===null||D(o)||I(o)?e(o):n(o)}function a(o){return o===null||o===40||o===91||D(o)||I(o)?e(o):r(o)}function l(o){return j(o)?i(o):n(o)}function i(o){return o===59?(t.consume(o),r):j(o)?(t.consume(o),i):n(o)}}function Vt(t,e,n){return r;function r(l){return t.consume(l),a}function a(l){return N(l)?n(l):e(l)}}function pt(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||D(t)}function mt(t){return!j(t)}function kt(t){return!(t===47||G(t))}function G(t){return t===43||t===45||t===46||t===95||N(t)}function Q(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const qt={tokenize:Yt,partial:!0};function Ut(){return{document:{91:{tokenize:Qt,continuation:{tokenize:Jt},exit:Xt}},text:{91:{tokenize:Zt},93:{add:"after",tokenize:Gt,resolveTo:Nt}}}}function Gt(t,e,n){const r=this;let a=r.events.length;const l=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i;for(;a--;){const u=r.events[a][1];if(u.type==="labelImage"){i=u;break}if(u.type==="gfmFootnoteCall"||u.type==="labelLink"||u.type==="label"||u.type==="image"||u.type==="link")break}return o;function o(u){if(!i||!i._balanced)return n(u);const c=E(r.sliceSerialize({start:i.end,end:r.now()}));return c.codePointAt(0)!==94||!l.includes(c.slice(1))?n(u):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(u),t.exit("gfmFootnoteCallLabelMarker"),e(u))}}function Nt(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},a={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};a.end.column++,a.end.offset++,a.end._bufferIndex++;const l={type:"gfmFootnoteCallString",start:Object.assign({},a.end),end:Object.assign({},t[t.length-1][1].start)},i={type:"chunkString",contentType:"string",start:Object.assign({},l.start),end:Object.assign({},l.end)},o=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",a,e],["exit",a,e],["enter",l,e],["enter",i,e],["exit",i,e],["exit",l,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...o),t}function Zt(t,e,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l=0,i;return o;function o(s){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(s),t.exit("gfmFootnoteCallLabelMarker"),u}function u(s){return s!==94?n(s):(t.enter("gfmFootnoteCallMarker"),t.consume(s),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",c)}function c(s){if(l>999||s===93&&!i||s===null||s===91||D(s))return n(s);if(s===93){t.exit("chunkString");const p=t.exit("gfmFootnoteCallString");return a.includes(E(r.sliceSerialize(p)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(s),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(s)}return D(s)||(i=!0),l++,t.consume(s),s===92?g:c}function g(s){return s===91||s===92||s===93?(t.consume(s),l++,c):c(s)}}function Qt(t,e,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l,i=0,o;return u;function u(f){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(f),t.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(f){return f===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(f),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",g):n(f)}function g(f){if(i>999||f===93&&!o||f===null||f===91||D(f))return n(f);if(f===93){t.exit("chunkString");const b=t.exit("gfmFootnoteDefinitionLabelString");return l=E(r.sliceSerialize(b)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(f),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),p}return D(f)||(o=!0),i++,t.consume(f),f===92?s:g}function s(f){return f===91||f===92||f===93?(t.consume(f),i++,g):g(f)}function p(f){return f===58?(t.enter("definitionMarker"),t.consume(f),t.exit("definitionMarker"),a.includes(l)||a.push(l),L(t,k,"gfmFootnoteDefinitionWhitespace")):n(f)}function k(f){return e(f)}}function Jt(t,e,n){return t.check(Lt,e,t.attempt(qt,e,n))}function Xt(t){t.exit("gfmFootnoteDefinition")}function Yt(t,e,n){const r=this;return L(t,a,"gfmFootnoteDefinitionIndent",5);function a(l){const i=r.events[r.events.length-1];return i&&i[1].type==="gfmFootnoteDefinitionIndent"&&i[2].sliceSerialize(i[1],!0).length===4?e(l):n(l)}}function Kt(t){let n=(t||{}).singleTilde;const r={tokenize:l,resolveAll:a};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function a(i,o){let u=-1;for(;++u<i.length;)if(i[u][0]==="enter"&&i[u][1].type==="strikethroughSequenceTemporary"&&i[u][1]._close){let c=u;for(;c--;)if(i[c][0]==="exit"&&i[c][1].type==="strikethroughSequenceTemporary"&&i[c][1]._open&&i[u][1].end.offset-i[u][1].start.offset===i[c][1].end.offset-i[c][1].start.offset){i[u][1].type="strikethroughSequence",i[c][1].type="strikethroughSequence";const g={type:"strikethrough",start:Object.assign({},i[c][1].start),end:Object.assign({},i[u][1].end)},s={type:"strikethroughText",start:Object.assign({},i[c][1].end),end:Object.assign({},i[u][1].start)},p=[["enter",g,o],["enter",i[c][1],o],["exit",i[c][1],o],["enter",s,o]],k=o.parser.constructs.insideSpan.null;k&&H(p,p.length,0,Tt(k,i.slice(c+1,u),o)),H(p,p.length,0,[["exit",s,o],["enter",i[u][1],o],["exit",i[u][1],o],["exit",g,o]]),H(i,c-1,u-c+3,p),u=c+p.length-2;break}}for(u=-1;++u<i.length;)i[u][1].type==="strikethroughSequenceTemporary"&&(i[u][1].type="data");return i}function l(i,o,u){const c=this.previous,g=this.events;let s=0;return p;function p(f){return c===126&&g[g.length-1][1].type!=="characterEscape"?u(f):(i.enter("strikethroughSequenceTemporary"),k(f))}function k(f){const b=K(c);if(f===126)return s>1?u(f):(i.consume(f),s++,k);if(s<2&&!n)return u(f);const m=i.exit("strikethroughSequenceTemporary"),w=K(f);return m._open=!w||w===2&&!!b,m._close=!b||b===2&&!!w,o(f)}}}class te{constructor(){this.map=[]}add(e,n,r){ee(this,e,n,r)}consume(e){if(this.map.sort((l,i)=>l[0]-i[0]),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1])),r.push(this.map[n][2]),e.length=this.map[n][0];r.push([...e]),e.length=0;let a=r.pop();for(;a;)e.push(...a),a=r.pop();this.map.length=0}}function ee(t,e,n,r){let a=0;if(!(n===0&&r.length===0)){for(;a<t.map.length;){if(t.map[a][0]===e){t.map[a][1]+=n,t.map[a][2].push(...r);return}a+=1}t.map.push([e,n,r])}}function ne(t,e){let n=!1;const r=[];for(;e<t.length;){const a=t[e];if(n){if(a[0]==="enter")a[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(a[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const l=r.length-1;r[l]=r[l]==="left"?"center":"right"}}else if(a[1].type==="tableDelimiterRow")break}else a[0]==="enter"&&a[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}const ie={flow:{null:{tokenize:re,resolveAll:le}}};function re(t,e,n){const r=this;let a=0,l=0,i;return o;function o(h){let R=r.events.length-1;for(;R>-1;){const Y=r.events[R][1].type;if(Y==="lineEnding"||Y==="linePrefix")R--;else break}const J=R>-1?r.events[R][1].type:null,X=J==="tableHead"||J==="tableRow"?P:u;return X===P&&r.parser.lazy[r.now().line]?n(h):X(h)}function u(h){return t.enter("tableHead"),t.enter("tableRow"),c(h)}function c(h){return h===124||(i=!0,l+=1),g(h)}function g(h){return h===null?n(h):v(h)?l>1?(l=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),k):n(h):z(h)?L(t,g,"whitespace")(h):(l+=1,i&&(i=!1,a+=1),h===124?(t.enter("tableCellDivider"),t.consume(h),t.exit("tableCellDivider"),i=!0,g):(t.enter("data"),s(h)))}function s(h){return h===null||h===124||D(h)?(t.exit("data"),g(h)):(t.consume(h),h===92?p:s)}function p(h){return h===92||h===124?(t.consume(h),s):s(h)}function k(h){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(h):(t.enter("tableDelimiterRow"),i=!1,z(h)?L(t,f,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(h):f(h))}function f(h){return h===45||h===58?m(h):h===124?(i=!0,t.enter("tableCellDivider"),t.consume(h),t.exit("tableCellDivider"),b):A(h)}function b(h){return z(h)?L(t,m,"whitespace")(h):m(h)}function m(h){return h===58?(l+=1,i=!0,t.enter("tableDelimiterMarker"),t.consume(h),t.exit("tableDelimiterMarker"),w):h===45?(l+=1,w(h)):h===null||v(h)?y(h):A(h)}function w(h){return h===45?(t.enter("tableDelimiterFiller"),x(h)):A(h)}function x(h){return h===45?(t.consume(h),x):h===58?(i=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(h),t.exit("tableDelimiterMarker"),d):(t.exit("tableDelimiterFiller"),d(h))}function d(h){return z(h)?L(t,y,"whitespace")(h):y(h)}function y(h){return h===124?f(h):h===null||v(h)?!i||a!==l?A(h):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(h)):A(h)}function A(h){return n(h)}function P(h){return t.enter("tableRow"),C(h)}function C(h){return h===124?(t.enter("tableCellDivider"),t.consume(h),t.exit("tableCellDivider"),C):h===null||v(h)?(t.exit("tableRow"),e(h)):z(h)?L(t,C,"whitespace")(h):(t.enter("data"),O(h))}function O(h){return h===null||h===124||D(h)?(t.exit("data"),C(h)):(t.consume(h),h===92?St:O)}function St(h){return h===92||h===124?(t.consume(h),O):O(h)}}function le(t,e){let n=-1,r=!0,a=0,l=[0,0,0,0],i=[0,0,0,0],o=!1,u=0,c,g,s;const p=new te;for(;++n<t.length;){const k=t[n],f=k[1];k[0]==="enter"?f.type==="tableHead"?(o=!1,u!==0&&(et(p,e,u,c,g),g=void 0,u=0),c={type:"table",start:Object.assign({},f.start),end:Object.assign({},f.end)},p.add(n,0,[["enter",c,e]])):f.type==="tableRow"||f.type==="tableDelimiterRow"?(r=!0,s=void 0,l=[0,0,0,0],i=[0,n+1,0,0],o&&(o=!1,g={type:"tableBody",start:Object.assign({},f.start),end:Object.assign({},f.end)},p.add(n,0,[["enter",g,e]])),a=f.type==="tableDelimiterRow"?2:g?3:1):a&&(f.type==="data"||f.type==="tableDelimiterMarker"||f.type==="tableDelimiterFiller")?(r=!1,i[2]===0&&(l[1]!==0&&(i[0]=i[1],s=_(p,e,l,a,void 0,s),l=[0,0,0,0]),i[2]=n)):f.type==="tableCellDivider"&&(r?r=!1:(l[1]!==0&&(i[0]=i[1],s=_(p,e,l,a,void 0,s)),l=i,i=[l[1],n,0,0])):f.type==="tableHead"?(o=!0,u=n):f.type==="tableRow"||f.type==="tableDelimiterRow"?(u=n,l[1]!==0?(i[0]=i[1],s=_(p,e,l,a,n,s)):i[1]!==0&&(s=_(p,e,i,a,n,s)),a=0):a&&(f.type==="data"||f.type==="tableDelimiterMarker"||f.type==="tableDelimiterFiller")&&(i[3]=n)}for(u!==0&&et(p,e,u,c,g),p.consume(e.events),n=-1;++n<e.events.length;){const k=e.events[n];k[0]==="enter"&&k[1].type==="table"&&(k[1]._align=ne(e.events,n))}return t}function _(t,e,n,r,a,l){const i=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(l.end=Object.assign({},M(e.events,n[0])),t.add(n[0],0,[["exit",l,e]]));const u=M(e.events,n[1]);if(l={type:i,start:Object.assign({},u),end:Object.assign({},u)},t.add(n[1],0,[["enter",l,e]]),n[2]!==0){const c=M(e.events,n[2]),g=M(e.events,n[3]),s={type:o,start:Object.assign({},c),end:Object.assign({},g)};if(t.add(n[2],0,[["enter",s,e]]),r!==2){const p=e.events[n[2]],k=e.events[n[3]];if(p[1].end=Object.assign({},k[1].end),p[1].type="chunkText",p[1].contentType="text",n[3]>n[2]+1){const f=n[2]+1,b=n[3]-n[2]-1;t.add(f,b,[])}}t.add(n[3]+1,0,[["exit",s,e]])}return a!==void 0&&(l.end=Object.assign({},M(e.events,a)),t.add(a,0,[["exit",l,e]]),l=void 0),l}function et(t,e,n,r,a){const l=[],i=M(e.events,n);a&&(a.end=Object.assign({},i),l.push(["exit",a,e])),r.end=Object.assign({},i),l.push(["exit",r,e]),t.add(n+1,0,l)}function M(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const ae={tokenize:se},oe={text:{91:ae}};function se(t,e,n){const r=this;return a;function a(u){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(u):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(u),t.exit("taskListCheckMarker"),l)}function l(u){return D(u)?(t.enter("taskListCheckValueUnchecked"),t.consume(u),t.exit("taskListCheckValueUnchecked"),i):u===88||u===120?(t.enter("taskListCheckValueChecked"),t.consume(u),t.exit("taskListCheckValueChecked"),i):n(u)}function i(u){return u===93?(t.enter("taskListCheckMarker"),t.consume(u),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),o):n(u)}function o(u){return v(u)?e(u):z(u)?t.check({tokenize:ue},e,n)(u):n(u)}}function ue(t,e,n){return L(t,r,"whitespace");function r(a){return a===null?n(a):e(a)}}function he(t){return zt([Et,Ut(),Kt(t),ie,oe])}function fe(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}const ce={}.hasOwnProperty,ge=function(t,e,n,r){let a,l;typeof e=="string"||e instanceof RegExp?(l=[[e,n]],a=r):(l=e,a=n),a||(a={});const i=Mt(a.ignore||[]),o=pe(l);let u=-1;for(;++u<o.length;)It(t,"text",c);return t;function c(s,p){let k=-1,f;for(;++k<p.length;){const b=p[k];if(i(b,f?f.children.indexOf(b):void 0,f))return;f=b}if(f)return g(s,p)}function g(s,p){const k=p[p.length-1],f=o[u][0],b=o[u][1];let m=0;const w=k.children.indexOf(s);let x=!1,d=[];f.lastIndex=0;let y=f.exec(s.value);for(;y;){const A=y.index,P={index:y.index,input:y.input,stack:[...p,s]};let C=b(...y,P);if(typeof C=="string"&&(C=C.length>0?{type:"text",value:C}:void 0),C!==!1&&(m!==A&&d.push({type:"text",value:s.value.slice(m,A)}),Array.isArray(C)?d.push(...C):C&&d.push(C),m=A+y[0].length,x=!0),!f.global)break;y=f.exec(s.value)}return x?(m<s.value.length&&d.push({type:"text",value:s.value.slice(m)}),k.children.splice(w,1,...d)):d=[s],w+d.length}};function pe(t){const e=[];if(typeof t!="object")throw new TypeError("Expected array or object as schema");if(Array.isArray(t)){let n=-1;for(;++n<t.length;)e.push([nt(t[n][0]),it(t[n][1])])}else{let n;for(n in t)ce.call(t,n)&&e.push([nt(n),it(t[n])])}return e}function nt(t){return typeof t=="string"?new RegExp(fe(t),"g"):t}function it(t){return typeof t=="function"?t:()=>t}const $="phrasing",W=["autolink","link","image","label"],me={transforms:[Ce],enter:{literalAutolink:be,literalAutolinkEmail:V,literalAutolinkHttp:V,literalAutolinkWww:V},exit:{literalAutolink:ye,literalAutolinkEmail:de,literalAutolinkHttp:we,literalAutolinkWww:xe}},ke={unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:$,notInConstruct:W},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:$,notInConstruct:W},{character:":",before:"[ps]",after:"\\/",inConstruct:$,notInConstruct:W}]};function be(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function V(t){this.config.enter.autolinkProtocol.call(this,t)}function we(t){this.config.exit.autolinkProtocol.call(this,t)}function xe(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.url="http://"+this.sliceSerialize(t)}function de(t){this.config.exit.autolinkEmail.call(this,t)}function ye(t){this.exit(t)}function Ce(t){ge(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,De],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/g,Ae]],{ignore:["link","linkReference"]})}function De(t,e,n,r,a){let l="";if(!bt(a)||(/^w/i.test(e)&&(n=e+n,e="",l="http://"),!Se(n)))return!1;const i=Fe(n+r);if(!i[0])return!1;const o={type:"link",title:null,url:l+e+i[0],children:[{type:"text",value:e+i[0]}]};return i[1]?[o,{type:"text",value:i[1]}]:o}function Ae(t,e,n,r){return!bt(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function Se(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function Fe(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const a=tt(t,"(");let l=tt(t,")");for(;r!==-1&&a>l;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),l++;return[t,n]}function bt(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||I(n)||Z(n))&&(!e||n!==47)}function wt(t){return t.label||!t.identifier?t.label||"":Rt(t.identifier)}function Le(t,e,n){const r=e.indexStack,a=t.children||[],l=e.createTracker(n),i=[];let o=-1;for(r.push(-1);++o<a.length;){const u=a[o];r[r.length-1]=o,i.push(l.move(e.handle(u,t,e,{before:`
`,after:`
`,...l.current()}))),u.type!=="list"&&(e.bulletLastUsed=void 0),o<a.length-1&&i.push(l.move(Te(u,a[o+1],t,e)))}return r.pop(),i.join("")}function Te(t,e,n,r){let a=r.join.length;for(;a--;){const l=r.join[a](t,e,n,r);if(l===!0||l===1)break;if(typeof l=="number")return`
`.repeat(1+l);if(l===!1)return`

<!---->

`}return`

`}const ze=/\r?\n|\r/g;function Me(t,e){const n=[];let r=0,a=0,l;for(;l=ze.exec(t);)i(t.slice(r,l.index)),n.push(l[0]),r=l.index+l[0].length,a++;return i(t.slice(r)),n.join("");function i(o){n.push(e(o,a,!o))}}function xt(t){if(!t._compiled){const e=(t.atBreak?"[\\r\\n][\\t ]*":"")+(t.before?"(?:"+t.before+")":"");t._compiled=new RegExp((e?"("+e+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(t.character)?"\\":"")+t.character+(t.after?"(?:"+t.after+")":""),"g")}return t._compiled}function Ie(t,e){return rt(t,e.inConstruct,!0)&&!rt(t,e.notInConstruct,!1)}function rt(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function dt(t,e,n){const r=(n.before||"")+(e||"")+(n.after||""),a=[],l=[],i={};let o=-1;for(;++o<t.unsafe.length;){const g=t.unsafe[o];if(!Ie(t.stack,g))continue;const s=xt(g);let p;for(;p=s.exec(r);){const k="before"in g||!!g.atBreak,f="after"in g,b=p.index+(k?p[1].length:0);a.includes(b)?(i[b].before&&!k&&(i[b].before=!1),i[b].after&&!f&&(i[b].after=!1)):(a.push(b),i[b]={before:k,after:f})}}a.sort(Re);let u=n.before?n.before.length:0;const c=r.length-(n.after?n.after.length:0);for(o=-1;++o<a.length;){const g=a[o];g<u||g>=c||g+1<c&&a[o+1]===g+1&&i[g].after&&!i[g+1].before&&!i[g+1].after||a[o-1]===g-1&&i[g].before&&!i[g-1].before&&!i[g-1].after||(u!==g&&l.push(lt(r.slice(u,g),"\\")),u=g,/[!-/:-@[-`{-~]/.test(r.charAt(g))&&(!n.encode||!n.encode.includes(r.charAt(g)))?l.push("\\"):(l.push("&#x"+r.charCodeAt(g).toString(16).toUpperCase()+";"),u++))}return l.push(lt(r.slice(u,c),n.after)),l.join("")}function Re(t,e){return t-e}function lt(t,e){const n=/\\(?=[!-/:-@[-`{-~])/g,r=[],a=[],l=t+e;let i=-1,o=0,u;for(;u=n.exec(l);)r.push(u.index);for(;++i<r.length;)o!==r[i]&&a.push(t.slice(o,r[i])),a.push("\\"),o=r[i];return a.push(t.slice(o)),a.join("")}function B(t){const e=t||{},n=e.now||{};let r=e.lineShift||0,a=n.line||1,l=n.column||1;return{move:u,current:i,shift:o};function i(){return{now:{line:a,column:l},lineShift:r}}function o(c){r+=c}function u(c){const g=c||"",s=g.split(/\r?\n|\r/g),p=s[s.length-1];return a+=s.length-1,l=s.length===1?l+p.length:1+p.length+r,g}}yt.peek=Ve;function ve(){return{enter:{gfmFootnoteDefinition:Ee,gfmFootnoteDefinitionLabelString:Pe,gfmFootnoteCall:Be,gfmFootnoteCallString:He},exit:{gfmFootnoteDefinition:_e,gfmFootnoteDefinitionLabelString:Oe,gfmFootnoteCall:We,gfmFootnoteCallString:$e}}}function je(){return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:qe,footnoteReference:yt}}}function Ee(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function Pe(){this.buffer()}function Oe(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.label=e,n.identifier=E(this.sliceSerialize(t)).toLowerCase()}function _e(t){this.exit(t)}function Be(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function He(){this.buffer()}function $e(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.label=e,n.identifier=E(this.sliceSerialize(t)).toLowerCase()}function We(t){this.exit(t)}function yt(t,e,n,r){const a=B(r);let l=a.move("[^");const i=n.enter("footnoteReference"),o=n.enter("reference");return l+=a.move(dt(n,wt(t),{...a.current(),before:l,after:"]"})),o(),i(),l+=a.move("]"),l}function Ve(){return"["}function qe(t,e,n,r){const a=B(r);let l=a.move("[^");const i=n.enter("footnoteDefinition"),o=n.enter("label");return l+=a.move(dt(n,wt(t),{...a.current(),before:l,after:"]"})),o(),l+=a.move("]:"+(t.children&&t.children.length>0?" ":"")),a.shift(4),l+=a.move(Me(Le(t,n,a.current()),Ue)),i(),l}function Ue(t,e,n){return e===0?t:(n?"":"    ")+t}function Ct(t,e,n){const r=e.indexStack,a=t.children||[],l=[];let i=-1,o=n.before;r.push(-1);let u=e.createTracker(n);for(;++i<a.length;){const c=a[i];let g;if(r[r.length-1]=i,i+1<a.length){let s=e.handle.handlers[a[i+1].type];s&&s.peek&&(s=s.peek),g=s?s(a[i+1],t,e,{before:"",after:"",...u.current()}).charAt(0):""}else g=n.after;l.length>0&&(o==="\r"||o===`
`)&&c.type==="html"&&(l[l.length-1]=l[l.length-1].replace(/(\r?\n|\r)$/," "),o=" ",u=e.createTracker(n),u.move(l.join(""))),l.push(u.move(e.handle(c,t,e,{...u.current(),before:o,after:g}))),o=l[l.length-1].slice(-1)}return r.pop(),l.join("")}const Ge=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Dt.peek=Xe;const Ne={canContainEols:["delete"],enter:{strikethrough:Qe},exit:{strikethrough:Je}},Ze={unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Ge}],handlers:{delete:Dt}};function Qe(t){this.enter({type:"delete",children:[]},t)}function Je(t){this.exit(t)}function Dt(t,e,n,r){const a=B(r),l=n.enter("strikethrough");let i=a.move("~~");return i+=Ct(t,n,{...a.current(),before:i,after:"~"}),i+=a.move("~~"),l(),i}function Xe(){return"~"}At.peek=Ye;function At(t,e,n){let r=t.value||"",a="`",l=-1;for(;new RegExp("(^|[^`])"+a+"([^`]|$)").test(r);)a+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++l<n.unsafe.length;){const i=n.unsafe[l],o=xt(i);let u;if(i.atBreak)for(;u=o.exec(r);){let c=u.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(u.index+1)}}return a+r+a}function Ye(){return"`"}function Ke(t,e={}){const n=(e.align||[]).concat(),r=e.stringLength||en,a=[],l=[],i=[],o=[];let u=0,c=-1;for(;++c<t.length;){const f=[],b=[];let m=-1;for(t[c].length>u&&(u=t[c].length);++m<t[c].length;){const w=tn(t[c][m]);if(e.alignDelimiters!==!1){const x=r(w);b[m]=x,(o[m]===void 0||x>o[m])&&(o[m]=x)}f.push(w)}l[c]=f,i[c]=b}let g=-1;if(typeof n=="object"&&"length"in n)for(;++g<u;)a[g]=at(n[g]);else{const f=at(n);for(;++g<u;)a[g]=f}g=-1;const s=[],p=[];for(;++g<u;){const f=a[g];let b="",m="";f===99?(b=":",m=":"):f===108?b=":":f===114&&(m=":");let w=e.alignDelimiters===!1?1:Math.max(1,o[g]-b.length-m.length);const x=b+"-".repeat(w)+m;e.alignDelimiters!==!1&&(w=b.length+w+m.length,w>o[g]&&(o[g]=w),p[g]=w),s[g]=x}l.splice(1,0,s),i.splice(1,0,p),c=-1;const k=[];for(;++c<l.length;){const f=l[c],b=i[c];g=-1;const m=[];for(;++g<u;){const w=f[g]||"";let x="",d="";if(e.alignDelimiters!==!1){const y=o[g]-(b[g]||0),A=a[g];A===114?x=" ".repeat(y):A===99?y%2?(x=" ".repeat(y/2+.5),d=" ".repeat(y/2-.5)):(x=" ".repeat(y/2),d=x):d=" ".repeat(y)}e.delimiterStart!==!1&&!g&&m.push("|"),e.padding!==!1&&!(e.alignDelimiters===!1&&w==="")&&(e.delimiterStart!==!1||g)&&m.push(" "),e.alignDelimiters!==!1&&m.push(x),m.push(w),e.alignDelimiters!==!1&&m.push(d),e.padding!==!1&&m.push(" "),(e.delimiterEnd!==!1||g!==u-1)&&m.push("|")}k.push(e.delimiterEnd===!1?m.join("").replace(/ +$/,""):m.join(""))}return k.join(`
`)}function tn(t){return t==null?"":String(t)}function en(t){return t.length}function at(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}const nn={enter:{table:rn,tableData:ot,tableHeader:ot,tableRow:an},exit:{codeText:on,table:ln,tableData:q,tableHeader:q,tableRow:q}};function rn(t){const e=t._align;this.enter({type:"table",align:e.map(n=>n==="none"?null:n),children:[]},t),this.setData("inTable",!0)}function ln(t){this.exit(t),this.setData("inTable")}function an(t){this.enter({type:"tableRow",children:[]},t)}function q(t){this.exit(t)}function ot(t){this.enter({type:"tableCell",children:[]},t)}function on(t){let e=this.resume();this.getData("inTable")&&(e=e.replace(/\\([\\|])/g,sn));const n=this.stack[this.stack.length-1];n.value=e,this.exit(t)}function sn(t,e){return e==="|"?e:t}function un(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,a=e.stringLength,l=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{table:i,tableRow:o,tableCell:u,inlineCode:p}};function i(k,f,b,m){return c(g(k,b,m),k.align)}function o(k,f,b,m){const w=s(k,b,m),x=c([w]);return x.slice(0,x.indexOf(`
`))}function u(k,f,b,m){const w=b.enter("tableCell"),x=b.enter("phrasing"),d=Ct(k,b,{...m,before:l,after:l});return x(),w(),d}function c(k,f){return Ke(k,{align:f,alignDelimiters:r,padding:n,stringLength:a})}function g(k,f,b){const m=k.children;let w=-1;const x=[],d=f.enter("table");for(;++w<m.length;)x[w]=s(m[w],f,b);return d(),x}function s(k,f,b){const m=k.children;let w=-1;const x=[],d=f.enter("tableRow");for(;++w<m.length;)x[w]=u(m[w],k,f,b);return d(),x}function p(k,f,b){let m=At(k,f,b);return b.stack.includes("tableCell")&&(m=m.replace(/\|/g,"\\$&")),m}}function hn(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function fn(t){const e=t.options.listItemIndent||"tab";if(e===1||e==="1")return"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function cn(t,e,n,r){const a=fn(n);let l=n.bulletCurrent||hn(n);e&&e.type==="list"&&e.ordered&&(l=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+l);let i=l.length+1;(a==="tab"||a==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(i=Math.ceil(i/4)*4);const o=n.createTracker(r);o.move(l+" ".repeat(i-l.length)),o.shift(i);const u=n.enter("listItem"),c=n.indentLines(n.containerFlow(t,o.current()),g);return u(),c;function g(s,p,k){return p?(k?"":" ".repeat(i))+s:(k?l:l+" ".repeat(i-l.length))+s}}const gn={exit:{taskListCheckValueChecked:st,taskListCheckValueUnchecked:st,paragraph:mn}},pn={unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:kn}};function st(t){const e=this.stack[this.stack.length-2];e.checked=t.type==="taskListCheckValueChecked"}function mn(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1],r=n.children[0];if(r&&r.type==="text"){const a=e.children;let l=-1,i;for(;++l<a.length;){const o=a[l];if(o.type==="paragraph"){i=o;break}}i===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function kn(t,e,n,r){const a=t.children[0],l=typeof t.checked=="boolean"&&a&&a.type==="paragraph",i="["+(t.checked?"x":" ")+"] ",o=B(r);l&&o.move(i);let u=cn(t,e,n,{...r,...o.current()});return l&&(u=u.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),u;function c(g){return g+i}}function bn(){return[me,ve(),Ne,nn,gn]}function wn(t){return{extensions:[ke,je(),Ze,un(t),pn]}}function xn(t={}){const e=this.data();n("micromarkExtensions",he(t)),n("fromMarkdownExtensions",bn()),n("toMarkdownExtensions",wn(t));function n(r,a){(e[r]?e[r]:e[r]=[]).push(a)}}const U={Strikethrough:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" viewBox="0 0 48 48"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M5 24h38M24 24c16 6 10 20 0 20s-12-8-12-8M36 12s-3-8-12-8-12.564 7.6-8.39 14"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M12 36s4 8 12 8 12.564-7.6 8.39-14"/></svg>',CheckCorrect:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" viewBox="0 0 48 48"><g stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" clip-path="url(#a)"><path d="M42 20v19a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9a3 3 0 0 1 3-3h21"/><path d="m16 20 10 8L41 7"/></g><defs><clipPath id="a"><path fill="currentColor" d="M0 0h48v48H0z"/></clipPath></defs></svg>',InsertTable:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" viewBox="0 0 48 48"><path stroke="currentColor" stroke-width="4" d="M39.3 6H8.7A2.7 2.7 0 0 0 6 8.7v30.6A2.7 2.7 0 0 0 8.7 42h30.6a2.7 2.7 0 0 0 2.7-2.7V8.7A2.7 2.7 0 0 0 39.3 6Z"/><path stroke="currentColor" stroke-linecap="round" stroke-width="4" d="M18 6v36M30 6v36M6 18h36M6 30h36"/></svg>'},dn="Strikethrough",yn="text",Cn="Table",Dn="Heading",An="Task list",Sn="todo",Fn={strike:dn,strikeText:yn,table:Cn,tableHeading:Dn,task:An,taskText:Sn};function jn({locale:t,...e}={}){const n={...Fn,...t};return{remark:r=>r.use(xn,e),actions:[{title:n.strike,icon:U.Strikethrough,cheatsheet:`~~${n.strikeText}~~`,handler:{type:"action",click({wrapText:r,editor:a}){r("~~"),a.focus()}}},{title:n.task,icon:U.CheckCorrect,cheatsheet:`- [ ] ${n.taskText}`,handler:{type:"action",click({replaceLines:r,editor:a}){r(l=>"- [ ] "+l),a.focus()}}},{title:n.table,icon:U.InsertTable,handler:{type:"action",click({editor:r,appendBlock:a,codemirror:l}){const{line:i}=a(`| ${n.tableHeading} |  |
| --- | --- |
|  |  |
`);r.setSelection(l.Pos(i,2),l.Pos(i,2+n.tableHeading.length)),r.focus()}}}]}}const Ln="删除线",Tn="文本",zn="表格",Mn="标题",In="任务列表",Rn="待办事项",En={strike:Ln,strikeText:Tn,table:zn,tableHeading:Mn,task:In,taskText:Rn};export{En as a,jn as g};
