
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{a as se,d as ce,aO as ue,r as _,a5 as R,l as ie,b,q as de,o,e as h,g as s,w as t,j as n,h as l,I as v,s as pe,f as a,aN as me,H as m,k as r,t as d,S as fe,aQ as ye,aR as _e,be,ap as he,aI as ge,aJ as ke,R as ve}from"./index-CxQzir39.js";import{_ as Ie}from"./index-Dlg7g5Ol.js";import{_ as Se}from"./index.vue_vue_type_style_index_0_lang-DVtWUppA.js";import{_ as xe}from"./index-BHfzvA_g.js";import{u as Ne}from"./user_customer-BMzBFRSp.js";import"./index-DSD26nla.js";import"./index.vue_vue_type_script_setup_true_lang-BO0gPE70.js";import"./sortable.esm-C0-Qcoum.js";import"./user_customer-D-BlHVpQ.js";const we={list:g=>se.post("callback/getMemberSurveyRecord",g)},Ce=g=>(ge("data-v-18c5297e"),g=g(),ke(),g),Le={key:0,class:"hoverSvg"},Be={class:"fineBom"},je={class:"c-fx"},Te={key:0,class:"hoverSvg"},De={class:"fineBom"},Pe={class:"c-fx"},ze={key:0,class:"hoverSvg"},Ee={class:"fineBom"},Fe={class:"c-fx"},Re={key:0,class:"hoverSvg"},Me={class:"fineBom"},Ve={class:"c-fx"},Ae={key:0,class:"hoverSvg"},He={class:"fineBom"},Ue={class:"c-fx"},$e=Ce(()=>d("span",{class:"headerIcon"},[d("svg",{class:"timeSvg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},[d("g",{id:"Time (æ¶é´)"},[d("path",{id:"Vector",d:"M7.9987 14.6666C11.6806 14.6666 14.6654 11.6818 14.6654 7.99992C14.6654 4.31802 11.6806 1.33325 7.9987 1.33325C4.3168 1.33325 1.33203 4.31802 1.33203 7.99992C1.33203 11.6818 4.3168 14.6666 7.9987 14.6666Z",fill:"#409EFF"}),d("path",{id:"Vector_2",d:"M8.00431 4L8.00391 8.00293L10.8304 10.8294",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])]),l(" 调查时间 ")],-1)),qe={key:0},Ge=ce({name:"investigation_records",__name:"list",setup(g){const M=Ne(),{getParams:V,pagination:k,onSizeChange:A,onCurrentChange:H}=ue(),x=_(!1),D=_([]),U=_(""),u=_([]),N=_(!0),w=_(!1),C=_("default"),L=_(!1),$=_(),P=_(),q=_("formSearch-investigation_records"),B=_([{prop:"projectName",label:"项目名称",sortable:!0,checked:!0},{prop:"projectId",label:"项目ID",sortable:!0,checked:!0},{prop:"memberId",label:"会员ID",sortable:!0,checked:!0},{prop:"randomIdentityId",label:"随机身份",sortable:!0,checked:!0},{prop:"customerShortName",label:"客户简称",sortable:!0,checked:!0},{prop:"memberName",label:"所属组",sortable:!0,checked:!0},{prop:"allocationType",label:"分配类型",sortable:!0,checked:!0},{prop:"doMoneyPrice",label:"原价",sortable:!0,checked:!0},{prop:"memberPrice",label:"会员价",sortable:!0,checked:!0},{prop:"ipBelong",label:"国家/IP",sortable:!0,checked:!0},{prop:"surveyTime",label:"调查时间",sortable:!0,checked:!0},{prop:"surveyStatus",label:"调查状态",sortable:!0,checked:!0},{prop:"viceStatus",label:"副状态",sortable:!0,checked:!0}]),j=R({memberId:"",randomIdentityId:"",memberGroupId:"",projectId:"",projectName:"",customerId:"",ip:"",surveyStatus:""}),T=R({allocationTypeList:["未分配","供应商","会员组"],surveyStatusList:[{label:"完成",value:1},{label:"被甄别",value:2},{label:"配额满",value:3},{label:"安全终止",value:4},{label:"未完成",value:5}],viceStatusList:["待审","免审","过IR","时间过短","超时完成","超量完成","审核成功","审核失败","数据冻结","时间段过载","ip不一致","id重复参与","和解"],customerList:[],vipList:[],vipGroupList:[],tenantSupplierList:[]});function G(){j.pageNo=1,I()}function O(f){A(f).then(()=>I())}function z(f=1){H(f).then(()=>I())}async function I(){try{x.value=!0;const f={...V(),...j},{data:i}=await we.list(f);D.value=i.memberSurveyRecordInfoList,$.value=i.currencyType,k.value.total=i.total,x.value=!1}catch{}finally{x.value=!1}}function Q(f){U.value=f}function J(){Object.assign(j,{memberId:"",randomIdentityId:"",memberGroupId:"",projectId:"",projectName:"",customerId:"",ip:"",surveyStatus:""}),I()}return ie(async()=>{T.customerList=await M.getCustomerList(),B.value.forEach(f=>{f.checked&&u.value.push(f.prop)}),I(),P.value=[{index:1,show:!0,type:"input",modelName:"memberId",placeholder:"会员ID"},{index:2,show:!0,type:"input",modelName:"randomIdentityId",placeholder:"随机身份",event:"keydown.enter"},{index:3,show:!0,type:"input",modelName:"projectId",placeholder:"项目ID",event:"keydown.enter"},{index:4,show:!0,type:"input",modelName:"projectName",placeholder:"项目名称",event:"keydown.enter"},{index:5,show:!0,type:"select",modelName:"customerId",placeholder:"客户简称",option:T.customerList,optionLabel:"customerAccord",optionValue:"tenantCustomerId"},{index:6,show:!0,type:"input",modelName:"ip",placeholder:"IP地址"},{index:7,show:!0,type:"select",modelName:"surveyStatus",placeholder:"调查状态",option:T.surveyStatusList,optionLabel:"label",optionValue:"value"}]}),(f,i)=>{const Z=xe,K=b("ElDivider"),W=Se,X=b("el-button"),Y=ye,ee=_e,te=b("el-row"),y=b("el-table-column"),p=b("el-text"),S=Ie,c=b("el-tag"),E=be,F=b("ElTableColumn"),oe=b("el-empty"),ae=b("el-table"),le=b("ElPagination"),ne=he,re=de("loading");return o(),h("div",{class:fe({"absolute-container":n(L)})},[s(ne,null,{default:t(()=>[s(Z,{formSearchList:n(P),formSearchName:n(q),onCurrentChange:z,onOnReset:J,model:n(j)},null,8,["formSearchList","formSearchName","model"]),s(K,{"border-style":"dashed"}),s(te,null,{default:t(()=>[s(W),s(ee,null,{default:t(()=>[s(X,{size:"default"},{default:t(()=>[l(" 导出 ")]),_:1}),s(Y,{border:n(N),"onUpdate:border":i[0]||(i[0]=e=>v(N)?N.value=e:null),tableAutoHeight:n(L),"onUpdate:tableAutoHeight":i[1]||(i[1]=e=>v(L)?L.value=e:null),checkList:n(u),"onUpdate:checkList":i[2]||(i[2]=e=>v(u)?u.value=e:null),columns:n(B),"onUpdate:columns":i[3]||(i[3]=e=>v(B)?B.value=e:null),"line-height":n(C),"onUpdate:lineHeight":i[4]||(i[4]=e=>v(C)?C.value=e:null),stripe:n(w),"onUpdate:stripe":i[5]||(i[5]=e=>v(w)?w.value=e:null),style:{"margin-left":"12px"},onQueryData:G},null,8,["border","tableAutoHeight","checkList","columns","line-height","stripe"])]),_:1})]),_:1}),pe((o(),a(ae,{border:n(N),data:n(D),size:n(C),stripe:n(w),onSelectionChange:Q},{empty:t(()=>[s(oe,{image:n(me),"image-size":300},null,8,["image"])]),default:t(()=>[s(y,{align:"center",type:"selection"}),n(u).includes("projectName")?(o(),a(y,{key:0,align:"center",prop:"projectName","show-overflow-tooltip":"",label:"项目名称"},{default:t(({row:e})=>[s(p,{style:{"font-weight":"700",color:"#333333"}},{default:t(()=>[l(m(e.projectName?e.projectName:"-"),1)]),_:2},1024)]),_:1})):r("",!0),n(u).includes("projectId")?(o(),a(y,{key:1,align:"center",prop:"projectId","show-overflow-tooltip":"",width:"200",label:"项目ID"},{default:t(({row:e})=>[e.projectId?(o(),h("div",Le,[d("p",Be,"ID："+m(e.projectId),1),d("span",je,[s(S,{class:"copy",content:e.projectId},null,8,["content"])])])):(o(),a(p,{key:1},{default:t(()=>[l("-")]),_:1}))]),_:1})):r("",!0),n(u).includes("memberId")?(o(),a(y,{key:2,align:"center",prop:"memberId","show-overflow-tooltip":"",width:"200",label:"会员ID"},{default:t(({row:e})=>[e.memberId?(o(),h("div",Te,[d("p",De,"ID："+m(e.memberId),1),d("span",Pe,[s(S,{class:"copy",content:e.memberId},null,8,["content"])])])):(o(),a(p,{key:1},{default:t(()=>[l("-")]),_:1}))]),_:1})):r("",!0),n(u).includes("randomIdentityId")?(o(),a(y,{key:3,align:"center",prop:"randomIdentityId","show-overflow-tooltip":"",label:"随机身份"},{default:t(({row:e})=>[e.randomIdentityId?(o(),h("div",ze,[d("p",Ee,"ID："+m(e.randomIdentityId),1),d("span",Fe,[s(S,{class:"copy",content:e.randomIdentityId},null,8,["content"])])])):(o(),a(p,{key:1},{default:t(()=>[l("-")]),_:1}))]),_:1})):r("",!0),n(u).includes("customerShortName")?(o(),a(y,{key:4,align:"center",prop:"customerShortName","show-overflow-tooltip":"",label:"客户简称",width:"100"},{default:t(({row:e})=>[s(p,{style:{"font-weight":"700",color:"#333333"}},{default:t(()=>[l(m(e.customerShortName?e.customerShortName:"-"),1)]),_:2},1024)]),_:1})):r("",!0),n(u).includes("memberName")?(o(),a(y,{key:5,width:"150",align:"center",prop:"memberName","show-overflow-tooltip":"",label:"所属组"},{default:t(({row:e})=>[e.memberName?(o(),h("div",Re,[s(p,{style:{"font-weight":"700",color:"#333333"}},{default:t(()=>[l(m(e.memberName.split("/")[0]),1)]),_:2},1024),l("    "),d("p",Me,"ID："+m(e.memberName.split("/")[1]),1),d("span",Ve,[s(S,{class:"copy",content:e.memberName.split("/")[1]},null,8,["content"])])])):(o(),a(p,{key:1},{default:t(()=>[l("-")]),_:1}))]),_:1})):r("",!0),n(u).includes("allocationType")?(o(),a(y,{key:6,align:"center","show-overflow-tooltip":"",width:"100",label:"分配类型"},{default:t(({row:e})=>[e.allocationType===1?(o(),a(c,{key:0,effect:"plain",type:"info"},{default:t(()=>[l(" 未分配 ")]),_:1})):r("",!0),e.allocationType===2?(o(),a(c,{key:1,style:{"background-color":"#FFAC54",color:"#fff"}},{default:t(()=>[l(" 供应商 ")]),_:1})):r("",!0),e.allocationType===3?(o(),a(c,{key:2,style:{"background-color":"#05C9BE",color:"#fff"}},{default:t(()=>[l(" 会员组 ")]),_:1})):r("",!0)]),_:1})):r("",!0),n(u).includes("doMoneyPrice")?(o(),a(y,{key:7,width:"80",align:"center",prop:"h","show-overflow-tooltip":"",label:"原价"},{default:t(({row:e})=>[s(p,null,{default:t(()=>[s(E)]),_:1}),s(p,{style:{color:"#333333","font-weight":"700"}},{default:t(()=>[l(m(e.doMoneyPrice||0),1)]),_:2},1024)]),_:1})):r("",!0),n(u).includes("memberPrice")?(o(),a(y,{key:8,width:"80",align:"center",prop:"h","show-overflow-tooltip":"",label:"会员价"},{default:t(({row:e})=>[s(p,null,{default:t(()=>[s(E)]),_:1}),s(p,{style:{color:"#333333","font-weight":"700"}},{default:t(()=>[l(m(e.memberPrice||0),1)]),_:2},1024)]),_:1})):r("",!0),n(u).includes("ipBelong")?(o(),a(y,{key:9,align:"center",width:"130",prop:"ipBelong","show-overflow-tooltip":"",label:"国家/IP"},{default:t(({row:e})=>[e.ipBelong?(o(),h("div",Ae,[s(c,{style:{"font-weight":"700"}},{default:t(()=>[l(m(e.ipBelong.split("/")[1]),1)]),_:2},1024),l("    "),d("p",He,m(e.ipBelong.split("/")[0]),1),d("span",Ue,[s(S,{class:"copy",content:e.ipBelong.split("/")[0]},null,8,["content"])])])):(o(),a(p,{key:1},{default:t(()=>[l("-")]),_:1}))]),_:1})):r("",!0),n(u).includes("surveyTime")?(o(),a(y,{key:10,align:"center","show-overflow-tooltip":"",label:"调查时间"},{header:t(()=>[$e]),default:t(({row:e})=>[s(c,{effect:"plain",type:"info"},{default:t(()=>[l(m(e.surveyTime?e.surveyTime+"min":0)+"/ "+m(e.projectTime?e.projectTime+"min":0),1)]),_:2},1024)]),_:1})):r("",!0),n(u).includes("surveyStatus")?(o(),a(F,{key:11,align:"center","show-overflow-tooltip":"",prop:"",label:"调查状态"},{default:t(({row:e})=>[e.surveyStatus===3?(o(),a(c,{key:0,effect:"dark",style:{"background-color":"#FB6868",border:"none"},class:"mx-1",type:"primary"},{default:t(()=>[l("配额满")]),_:1})):r("",!0),e.surveyStatus===1?(o(),a(c,{key:1,effect:"dark",style:{"background-color":"#379AFF",border:"none"},class:"mx-1",type:"success"},{default:t(()=>[l("完成")]),_:1})):r("",!0),e.surveyStatus===2?(o(),a(c,{key:2,effect:"dark",style:{"background-color":"#FB6868",border:"none"},class:"mx-1",type:"danger"},{default:t(()=>[l("被甄别")]),_:1})):r("",!0),e.surveyStatus===4?(o(),a(c,{key:3,effect:"dark",style:{"background-color":"#05C9BE",border:"none"},class:"mx-1",type:"warning"},{default:t(()=>[l("安全终止")]),_:1})):r("",!0),e.surveyStatus===5?(o(),a(c,{key:4,effect:"dark",style:{"background-color":"#E1E1E1",border:"none"},class:"mx-1"},{default:t(()=>[l("未完成")]),_:1})):r("",!0)]),_:1})):r("",!0),n(u).includes("viceStatus")?(o(),a(F,{key:12,align:"center","show-overflow-tooltip":"",prop:"",label:"副状态"},{default:t(({row:e})=>[e.viceStatus?(o(),h("div",qe,[e.viceStatus===1?(o(),a(c,{key:0,effect:"dark",style:{"background-color":"#74868b",border:"none"},class:"mx-1",type:"success"},{default:t(()=>[l("待审")]),_:1})):r("",!0),e.viceStatus===2?(o(),a(c,{key:1,effect:"dark",style:{"background-color":"#475061",border:"none"},class:"mx-1",type:"danger"},{default:t(()=>[l("免审")]),_:1})):r("",!0),e.viceStatus===3?(o(),a(c,{key:2,effect:"dark",style:{"background-color":"#3e5c78",border:"none"},class:"mx-1",type:"primary"},{default:t(()=>[l("过IR")]),_:1})):r("",!0),e.viceStatus===4?(o(),a(c,{key:3,effect:"dark",style:{"background-color":"#c8c7bc",border:"none"},class:"mx-1",type:"warning"},{default:t(()=>[l("时间过短")]),_:1})):r("",!0),e.viceStatus===5?(o(),a(c,{key:4,effect:"dark",style:{"background-color":"#bcc8b8",border:"none"},class:"mx-1"},{default:t(()=>[l("超时完成")]),_:1})):r("",!0),e.viceStatus===6?(o(),a(c,{key:5,effect:"dark",style:{"background-color":"#ded6cb",border:"none"},class:"mx-1"},{default:t(()=>[l("超量完成")]),_:1})):r("",!0),e.viceStatus===7?(o(),a(c,{key:6,effect:"dark",style:{"background-color":"#03C239",border:"none"},class:"mx-1"},{default:t(()=>[l("审核成功")]),_:1})):r("",!0),e.viceStatus===8?(o(),a(c,{key:7,effect:"dark",style:{"background-color":"#FB6868",border:"none"},class:"mx-1"},{default:t(()=>[l("审核失败")]),_:1})):r("",!0),e.viceStatus===9?(o(),a(c,{key:8,effect:"dark",style:{"background-color":"#FB6868",border:"none"},class:"mx-1"},{default:t(()=>[l("数据冻结")]),_:1})):r("",!0),e.viceStatus===10?(o(),a(c,{key:9,effect:"dark",style:{"background-color":"#6683a2",border:"none"},class:"mx-1"},{default:t(()=>[l("时间段过载")]),_:1})):r("",!0),e.viceStatus===11?(o(),a(c,{key:10,effect:"dark",style:{"background-color":"#638d93",border:"none"},class:"mx-1"},{default:t(()=>[l("IP不一致")]),_:1})):r("",!0),e.viceStatus===12?(o(),a(c,{key:11,effect:"dark",style:{"background-color":"#626a73",border:"none"},class:"mx-1"},{default:t(()=>[l("ID重复参与")]),_:1})):r("",!0),e.viceStatus===13?(o(),a(c,{key:12,effect:"dark",style:{"background-color":"#03C239",border:"none"},class:"mx-1"},{default:t(()=>[l("和解")]),_:1})):r("",!0)])):(o(),a(p,{key:1},{default:t(()=>[l("-")]),_:1}))]),_:1})):r("",!0)]),_:1},8,["border","data","size","stripe"])),[[re,n(x)]]),s(le,{"current-page":n(k).page,total:n(k).total,"page-size":n(k).size,"page-sizes":n(k).sizes,layout:n(k).layout,"hide-on-single-page":!1,class:"pagination",background:"",onSizeChange:O,onCurrentChange:z},null,8,["current-page","total","page-size","page-sizes","layout"])]),_:1})],2)}}}),tt=ve(Ge,[["__scopeId","data-v-18c5297e"]]);export{tt as default};
