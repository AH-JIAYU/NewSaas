
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{a as y}from"./otherFunctions_screenLibrary-nVUTFMwo.js";import{d as M,m as _,u as U,r as d,C as F,a as u,o as E,b as S,f as t,w as s,g as b,i as o,e as R,j,ai as I}from"./index-CnQ4xoV5.js";const J=M({__name:"index",props:_(["id","countryId","row"],{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:_(["success"],["update:modelValue"]),setup(p,{emit:w}){const n=p,C=w,m=U(p,"modelValue"),c=d("新增"),k=d(),e=d({countryId:n.countryId,status:2,isDefault:2}),N=d({categoryName:[{required:!0,message:"请输入名称",trigger:"blur"}],countryId:[{required:!0,message:"请选择国家",trigger:"blur"}]});async function x(){if(n.id){const{data:f,status:l}=await y.edit(e.value);l===1&&I.success({message:"编辑成功",center:!0})}else{const{data:f,status:l}=await y.create(e.value);l===1&&I.success({message:"新增成功",center:!0})}i(),C("success")}function i(){m.value=!1,e.value={}}return F(()=>{c.value="新增",n.id&&(c.value="编辑",e.value=JSON.parse(n.row))}),(f,l)=>{const V=u("ElInput"),r=u("ElFormItem"),g=u("ElSwitch"),B=u("ElForm"),v=u("ElButton"),D=u("ElDialog");return E(),S("div",null,[t(D,{modelValue:m.value,"onUpdate:modelValue":l[4]||(l[4]=a=>m.value=a),title:o(c),width:"50%","close-on-click-modal":!1,"append-to-body":"","destroy-on-close":"",onClose:i},{footer:s(()=>[t(v,{size:"large",onClick:i},{default:s(()=>[b(" 取消 ")]),_:1}),t(v,{type:"primary",size:"large",onClick:x},{default:s(()=>[b(" 确定 ")]),_:1})]),default:s(()=>[t(B,{ref_key:"formRef",ref:k,model:o(e),rules:o(N),"label-width":"120px","label-suffix":"："},{default:s(()=>[t(r,{label:"名称",prop:"categoryName"},{default:s(()=>[t(V,{modelValue:o(e).categoryName,"onUpdate:modelValue":l[0]||(l[0]=a=>o(e).categoryName=a),placeholder:"请输入名称"},null,8,["modelValue"])]),_:1}),t(r,{label:"国家",prop:"countryId"},{default:s(()=>[t(V,{modelValue:o(e).countryId,"onUpdate:modelValue":l[1]||(l[1]=a=>o(e).countryId=a),placeholder:"请输入国家"},null,8,["modelValue"])]),_:1}),t(r,{label:"状态"},{default:s(()=>[t(g,{modelValue:o(e).status,"onUpdate:modelValue":l[2]||(l[2]=a=>o(e).status=a),"active-value":1,"inactive-value":2,placeholder:"请输入状态"},null,8,["modelValue"])]),_:1}),o(e).projectProblemCategoryId?j("",!0):(E(),R(r,{key:0,label:"默认"},{default:s(()=>[t(g,{modelValue:o(e).isDefault,"onUpdate:modelValue":l[3]||(l[3]=a=>o(e).isDefault=a),"active-value":1,"inactive-value":2,placeholder:"请输入默认"},null,8,["modelValue"])]),_:1}))]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])])}}});export{J as _};
