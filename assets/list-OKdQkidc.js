
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{d as we,aN as Ce,r as p,a5 as Ne,l as Ie,b as a,q as Se,o as i,e as U,g as t,w as l,az as $,s as F,h as u,H as f,f as c,j as k,k as y,t as m,S as Ge,bc as Ve,E as Ee,N as Le,aP as Me,aQ as De,ap as ze,aI as xe,aJ as Ue,aq as q,R as $e}from"./index-Ch_t1wnJ.js";import{_ as Fe}from"./index-ehTuwwyN.js";import{_ as Be}from"./index.vue_vue_type_style_index_0_lang-tj1dU9Fq.js";import{_ as Te}from"./index.vue_vue_type_script_setup_true_lang-WglbtpEF.js";import{s as je}from"./apiLoading-DyaEYmQL.js";import Pe from"./index-SkeSeDud.js";import He from"./index-B34AAqQQ.js";import{a as K}from"./survey_vipGroup-DE6GCoBW.js";import{u as Re}from"./survey_vipGroup-C0PfSAZ0.js";import{e as Ae}from"./empty-bAzhJQI7.js";import"./index-BHChwjQY.js";import"./survey_vip-CWzP13fQ.js";import"./survey_vip-NPHQmhWy.js";const Y=N=>(xe("data-v-d888492c"),N=N(),Ue(),N),qe=Y(()=>m("div",{class:"i-grommet-icons:power-reset h-1em w-1em"},null,-1)),Ke={key:0,class:"hoverSvg"},Ye={class:"fineBom"},Qe={class:"c-fx"},Je={class:"weightColor"},Oe={key:0,class:"hoverSvg"},Ze={class:"weightColor"},We={class:"fineBom"},Xe={class:"c-fx"},et=Y(()=>m("span",{class:"headerIcon"},[m("svg",{class:"timeSvg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},[m("g",{id:"Time (æ¶é´)"},[m("path",{id:"Vector",d:"M7.9987 14.6666C11.6806 14.6666 14.6654 11.6818 14.6654 7.99992C14.6654 4.31802 11.6806 1.33325 7.9987 1.33325C4.3168 1.33325 1.33203 4.31802 1.33203 7.99992C1.33203 11.6818 4.3168 14.6666 7.9987 14.6666Z",fill:"#409EFF"}),m("path",{id:"Vector_2",d:"M8.00431 4L8.00391 8.00293L10.8304 10.8294",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])]),u(" 创建时间 ")],-1)),tt=we({name:"vipGroup",__name:"list",setup(N){const{pagination:b,getParams:Q,onSizeChange:J,onCurrentChange:O}=Ce(),Z=Re(),{format:W}=Ve(),I=p(!1),B=p([]);p();const G=p(),T=p(),V=p(!0),E=p(!1),L=p("default"),d=p([]),M=p(!1),D=p([{label:"组状态",prop:"groupStatus",sortable:!0,disableCheck:!1,checked:!0},{label:"会员组ID",prop:"memberGroupId",sortable:!0,disableCheck:!1,checked:!0},{label:"会员组名称",prop:"memberGroupName",sortable:!0,disableCheck:!1,checked:!0},{label:"组长名称(ID)",prop:"groupLeaderMemberName",sortable:!0,disableCheck:!1,checked:!0},{label:"成员",prop:"memberNumber",sortable:!0,disableCheck:!1,checked:!0},{label:"项目数",prop:"projectNumber",sortable:!0,disableCheck:!1,checked:!0},{label:"创建时间",prop:"createTime",sortable:!0,disableCheck:!1,checked:!0}]),r=Ne({memberGroupId:"",memberGroupName:"",groupLeaderMemberName:"",groupStatus:"",time:[]});function X(){G.value.showEdit()}function ee(n){G.value.showEdit(n)}function te(n){T.value.showEdit(n)}function w(){b.value.page=1,S()}function oe(n){J(n).then(()=>S())}function g(n=1){O(n).then(()=>S())}async function S(){try{I.value=!0;const n={...Q(),...r};r.time&&r.time.length&&(n.beginTime=r.time[0]||"",n.endTime=r.time[1]||"");const{data:o}=await K.list(n);B.value=o.getMemberGroupInfoList,b.value.total=o.total,I.value=!1}catch{}finally{I.value=!1}}function le(){Object.assign(r,{memberGroupId:"",memberGroupName:"",groupLeaderMemberName:"",groupStatus:"",time:[]}),S()}async function ae(n,o){const C={memberGroupId:o,groupStatus:n},{status:v}=await je(K.changestatus(C));v===1&&Ee.success({message:"修改成功"}),Z.GroupNameList=null,w()}return Ie(()=>{D.value.forEach(n=>{n.checked&&d.value.push(n.prop)}),w()}),(n,o)=>{const C=a("el-input"),v=a("el-form-item"),j=a("el-option"),ne=a("el-select"),re=a("el-date-picker"),P=Le,z=a("ElButton"),se=a("ElFormItem"),ie=a("ElForm"),ue=Te,me=a("ElDivider"),x=a("el-button"),pe=Be,de=Me,ce=De,_e=a("el-row"),_=a("el-table-column"),fe=a("ElSwitch"),H=Fe,R=a("el-text"),A=a("el-link"),be=a("el-tag"),ge=a("el-empty"),ve=a("el-table"),he=a("ElPagination"),ke=ze,ye=Se("loading");return i(),U("div",{class:Ge({"absolute-container":M.value})},[t(ke,null,{default:l(()=>[t(ue,{"show-toggle":!1},{default:l(({fold:e,toggle:h})=>[t(ie,{model:r,size:"default","label-width":"100px","inline-message":"",inline:"",class:"search-form"},{default:l(()=>[t(v,{label:""},{default:l(()=>[t(C,{modelValue:r.memberGroupId,"onUpdate:modelValue":o[0]||(o[0]=s=>r.memberGroupId=s),modelModifiers:{trim:!0},clearable:"",inline:!1,placeholder:"会员组ID",onKeydown:o[1]||(o[1]=$(s=>g(),["enter"]))},null,8,["modelValue"])]),_:1}),t(v,{label:""},{default:l(()=>[t(C,{modelValue:r.memberGroupName,"onUpdate:modelValue":o[2]||(o[2]=s=>r.memberGroupName=s),modelModifiers:{trim:!0},clearable:"",inline:!1,placeholder:"会员组名称",onKeydown:o[3]||(o[3]=$(s=>g(),["enter"]))},null,8,["modelValue"])]),_:1}),t(v,{label:""},{default:l(()=>[t(C,{modelValue:r.groupLeaderMemberName,"onUpdate:modelValue":o[4]||(o[4]=s=>r.groupLeaderMemberName=s),modelModifiers:{trim:!0},clearable:"",inline:!1,placeholder:"组长ID、组长名称",onKeydown:o[5]||(o[5]=$(s=>g(),["enter"]))},null,8,["modelValue"])]),_:1}),F(t(v,{label:""},{default:l(()=>[t(ne,{modelValue:r.groupStatus,"onUpdate:modelValue":o[6]||(o[6]=s=>r.groupStatus=s),clearable:"",placeholder:"会员组状态",onChange:o[7]||(o[7]=s=>g())},{default:l(()=>[t(j,{label:"关闭",value:1}),t(j,{label:"开启",value:2})]),_:1},8,["modelValue"])]),_:2},1536),[[q,!e]]),F(t(v,null,{default:l(()=>[t(re,{modelValue:r.time,"onUpdate:modelValue":o[8]||(o[8]=s=>r.time=s),type:"datetimerange","unlink-panels":"","range-separator":"-","start-placeholder":"创建开始日期","end-placeholder":"创建结束日期","value-format":"YYYY-MM-DD hh:mm:ss",size:"default",onChange:o[9]||(o[9]=s=>g())},null,8,["modelValue"])]),_:2},1536),[[q,!e]]),t(se,null,{default:l(()=>[t(z,{type:"primary",onClick:o[10]||(o[10]=s=>g())},{icon:l(()=>[t(P,{name:"i-ep:search"})]),default:l(()=>[u(" 筛选 ")]),_:1}),t(z,{onClick:le},{icon:l(()=>[qe]),default:l(()=>[u(" 重置 ")]),_:1}),t(z,{link:"",onClick:h},{icon:l(()=>[t(P,{name:e?"i-ep:caret-bottom":"i-ep:caret-top"},null,8,["name"])]),default:l(()=>[u(" "+f(e?"展开":"收起"),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1032,["model"])]),_:1}),t(me,{"border-style":"dashed"}),t(_e,null,{default:l(()=>[t(pe,null,{default:l(()=>[t(x,{type:"primary",size:"default",onClick:X},{default:l(()=>[u(" 新增 ")]),_:1})]),_:1}),t(ce,null,{default:l(()=>[t(x,{size:"default"},{default:l(()=>[u(" 导出 ")]),_:1}),t(de,{border:V.value,"onUpdate:border":o[11]||(o[11]=e=>V.value=e),tableAutoHeight:M.value,"onUpdate:tableAutoHeight":o[12]||(o[12]=e=>M.value=e),checkList:d.value,"onUpdate:checkList":o[13]||(o[13]=e=>d.value=e),columns:D.value,"onUpdate:columns":o[14]||(o[14]=e=>D.value=e),"line-height":L.value,"onUpdate:lineHeight":o[15]||(o[15]=e=>L.value=e),stripe:E.value,"onUpdate:stripe":o[16]||(o[16]=e=>E.value=e),style:{"margin-left":"12px"},onQueryData:w},null,8,["border","tableAutoHeight","checkList","columns","line-height","stripe"])]),_:1})]),_:1}),F((i(),c(ve,{border:V.value,data:B.value,size:L.value,stripe:E.value},{empty:l(()=>[t(ge,{image:k(Ae),"image-size":300},null,8,["image"])]),default:l(()=>[t(_,{align:"center",type:"selection"}),d.value.includes("groupStatus")?(i(),c(_,{key:0,align:"center",prop:"groupStatus","show-overflow-tooltip":"",label:"组状态"},{default:l(({row:e})=>[t(fe,{modelValue:e.groupStatus,"onUpdate:modelValue":h=>e.groupStatus=h,"inline-prompt":"","inactive-value":1,"active-value":2,"inactive-text":"禁用","active-text":"启用",onChange:h=>ae(h,e.memberGroupId)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1})):y("",!0),d.value.includes("memberGroupId")?(i(),c(_,{key:1,width:"200",align:"center",prop:"memberGroupId","show-overflow-tooltip":"",label:"会员组ID"},{default:l(({row:e})=>[e.memberGroupId?(i(),U("div",Ke,[m("p",Ye,"ID："+f(e.memberGroupId),1),m("span",Qe,[t(H,{class:"copy",content:e.memberGroupId},null,8,["content"])])])):(i(),c(R,{key:1},{default:l(()=>[u("-")]),_:1}))]),_:1})):y("",!0),d.value.includes("memberGroupName")?(i(),c(_,{key:2,align:"center",prop:"memberGroupName","show-overflow-tooltip":"",label:"会员组名称"},{default:l(({row:e})=>[m("p",Je,f(e.memberGroupName?e.memberGroupName:"-"),1)]),_:1})):y("",!0),d.value.includes("groupLeaderMemberName")?(i(),c(_,{key:3,align:"center",prop:"groupLeaderMemberName","show-overflow-tooltip":"",label:"组长名称(ID)"},{default:l(({row:e})=>[e.groupLeaderMemberName?(i(),U("div",Oe,[m("div",Ze,f(e.groupLeaderMemberName.split("/")[0]),1),u("    "),m("p",We,"ID："+f(e.groupLeaderMemberName.split("/")[1]),1),m("span",Xe,[t(H,{class:"copy",content:e.groupLeaderMemberName.split("/")[1]},null,8,["content"])])])):(i(),c(R,{key:1},{default:l(()=>[u("-")]),_:1}))]),_:1})):y("",!0),d.value.includes("memberNumber")?(i(),c(_,{key:4,width:"100",align:"center",prop:"memberNumber","show-overflow-tooltip":"",label:"成员"},{default:l(({row:e})=>[t(A,{type:"primary"},{default:l(()=>[u(f(e.memberNumber?e.memberNumber:0),1)]),_:2},1024)]),_:1})):y("",!0),d.value.includes("projectNumber")?(i(),c(_,{key:5,width:"100",align:"center",prop:"projectNumber","show-overflow-tooltip":"",label:"项目数"},{default:l(({row:e})=>[t(A,{type:"primary",onClick:h=>te(e)},{default:l(()=>[u(f(e.projectNumber?e.projectNumber:0),1)]),_:2},1032,["onClick"])]),_:1})):y("",!0),d.value.includes("createTime")?(i(),c(_,{key:6,align:"center",prop:"createTime","show-overflow-tooltip":"",label:"创建时间"},{header:l(()=>[et]),default:l(({row:e})=>[t(be,{effect:"plain",type:"info"},{default:l(()=>[u(f(k(W)(e.createTime)),1)]),_:2},1024)]),_:1})):y("",!0),t(_,{align:"center",prop:"i",label:"操作",fixed:"right","show-overflow-tooltip":"",width:"180"},{default:l(({row:e})=>[t(x,{size:"small",plain:"",type:"primary",onClick:h=>ee(e)},{default:l(()=>[u(" 编辑 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["border","data","size","stripe"])),[[ye,I.value]]),t(he,{"current-page":k(b).page,total:k(b).total,"page-size":k(b).size,"page-sizes":k(b).sizes,layout:k(b).layout,"hide-on-single-page":!1,class:"pagination",background:"",onSizeChange:oe,onCurrentChange:g},null,8,["current-page","total","page-size","page-sizes","layout"])]),_:1}),t(Pe,{ref_key:"editRef",ref:G,onFetchData:w},null,512),t(He,{ref_key:"checkRef",ref:T,onFetchData:w},null,512)],2)}}}),ft=$e(tt,[["__scopeId","data-v-d888492c"]]);export{ft as default};
