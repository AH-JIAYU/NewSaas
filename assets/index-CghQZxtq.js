
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{a as w}from"./projectManagement_materials-DKE3FwpB.js";import{d as C,r as x,a as o,o as c,b as k,i as a,e as y,w as l,f as n,g as _,j as T,X as E,E as B,L as N}from"./index-btWrETMt.js";const j=C({name:"ProjeckEdit",__name:"index",emits:["fetch-data"],setup(R,{expose:g,emit:p}){const b=p,e=x({dialogTableVisible:!1,title:"",formDataChange:!1,loading:!1,formData:{}});let d;async function v(s){e.value.dialogTableVisible=!0,e.value.loading=!1,e.value.formDataChange=!1;const{id:t,instructions:i}=s;e.value.formData={id:t,instructions:i},d=E(()=>e.value.formData.instructions,u=>{e.value.formDataChange=!0})}async function V(){if(e.value.loading=!0,e.value.formDataChange){const{status:s}=await w.changeRemark(e.value.formData);s===1&&B.success({message:"编辑成功",center:!0}),b("fetch-data")}m(),e.value.loading=!1}function m(){e.value.dialogTableVisible=!1,e.value.formDataChange=!1,e.value.formData={},d()}return g({showEdit:v}),(s,t)=>{const i=o("el-input"),u=o("el-form-item"),h=o("el-form"),f=o("el-button"),D=o("el-dialog");return c(),k("div",null,[a(e).dialogTableVisible?(c(),y(D,{key:0,modelValue:a(e).dialogTableVisible,"onUpdate:modelValue":t[1]||(t[1]=r=>a(e).dialogTableVisible=r),title:a(e).title+"编辑",draggable:""},{footer:l(()=>[n(f,{onClick:m,disabled:a(e).loading},{default:l(()=>[_(" 取消 ")]),_:1},8,["disabled"]),n(f,{type:"primary",onClick:V,disabled:a(e).loading},{default:l(()=>[_(" 确定 ")]),_:1},8,["disabled"])]),default:l(()=>[n(h,{ref:"formRef",model:a(e).formData,"label-width":"100","label-position":"right"},{default:l(()=>[n(u,{label:"备注"},{default:l(()=>[n(i,{maxlength:"200","show-word-limit":"",style:{width:"100%"},type:"textarea",rows:5,modelValue:a(e).formData.instructions,"onUpdate:modelValue":t[0]||(t[0]=r=>a(e).formData.instructions=r)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])):T("",!0)])}}}),I=N(j,[["__scopeId","data-v-6406a0e6"]]);export{I as default};
