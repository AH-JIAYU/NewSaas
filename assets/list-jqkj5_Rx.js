
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{k,d as T,r as c,G as D,a as s,al as S,am as $,i as a,o as j,b as q,f as e,w as t,p as z,g as m,ak as U,s as B,_ as Q}from"./index-u3leq2Mb.js";const P={list:()=>k.post("member-config/get/getMemberConfig"),create:b=>k.post("member-config/insert/insertMemberConfig",b),edit:b=>k.post("member-config/update/updateMemberConfig",b)},G=T({name:"SurveySettingList",__name:"list",setup(b){const V=c("基本设置"),i=c(!1),p=c(),l=c({webName:"",keyWords:"",memberURL:"",registerOffOrOn:!0,registerExamineOffOrOn:!1,priceProportion:null,withdrawalMethod:1,taxPointsProportion:null}),W=c({webName:[{required:!0,message:"请输入网站名称",trigger:"blur"}],memberURL:[{required:!0,message:"请输入供应商网址",trigger:"blur"}]});D(()=>{y()});async function y(){i.value=!0;const{data:u}=await P.list();l.value=u||l.value,i.value=!1}const M=async()=>{const u=`https://${l.value.supplierURL}ah-jiayu.github.io/NewControl/`;try{await navigator.clipboard.writeText(u),U.success({message:"复制成功",center:!0})}catch(o){console.error(o)}};function R(){l.value.id?p.value&&p.value.validate(u=>{if(u){let{id:o,keyWords:w,registerExamineOffOrOn:n,registerOffOrOn:v,memberURL:O,webName:d,priceProportion:x,withdrawalMethod:f,taxPointsProportion:_}=l.value;const g={id:o,keyWords:w,registerExamineOffOrOn:n,registerOffOrOn:v,memberURL:O,webName:d,priceProportion:x,withdrawalMethod:f,taxPointsProportion:_};i.value=!0,P.edit(g).then(()=>{i.value=!1,y(),U.success({message:"修改成功",center:!0})})}}):p.value&&p.value.validate(u=>{u&&(i.value=!0,console.log("form.value",l.value),P.create(l.value).then(()=>{i.value=!1,y(),U.success({message:"新增成功",center:!0})}))})}return(u,o)=>{const w=s("el-switch"),n=s("el-form-item"),v=s("el-col"),O=s("el-row"),d=s("el-input"),x=s("el-text"),f=s("el-button"),_=s("el-tab-pane"),g=s("el-radio"),C=s("el-radio-group"),h=s("el-form"),N=s("el-tabs"),L=B,E=S("loading");return $((j(),q("div",null,[e(L,null,{default:t(()=>[e(N,{modelValue:a(V),"onUpdate:modelValue":o[12]||(o[12]=r=>z(V)?V.value=r:null)},{default:t(()=>[e(h,{ref_key:"formRef",ref:p,model:a(l),rules:a(W),"label-position":"right","label-width":"130px",style:{width:"500px"}},{default:t(()=>[e(_,{label:"基本设置",name:"基本设置"},{default:t(()=>[e(O,{gutter:20},{default:t(()=>[e(v,{span:7},{default:t(()=>[e(n,{label:"注册开关"},{default:t(()=>[e(w,{modelValue:a(l).registerOffOrOn,"onUpdate:modelValue":o[0]||(o[0]=r=>a(l).registerOffOrOn=r),"active-text":"开启","inline-prompt":"","inactive-text":"关闭","active-value":!0,"inactive-value":!1},null,8,["modelValue"])]),_:1})]),_:1}),e(v,{span:6},{default:t(()=>[e(n,{label:"注册审核"},{default:t(()=>[e(w,{modelValue:a(l).registerExamineOffOrOn,"onUpdate:modelValue":o[1]||(o[1]=r=>a(l).registerExamineOffOrOn=r),"active-text":"开启","inline-prompt":"","inactive-text":"关闭","active-value":!0,"inactive-value":!1},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(n,{prop:"webName",label:"网站名称"},{default:t(()=>[e(d,{modelValue:a(l).webName,"onUpdate:modelValue":o[2]||(o[2]=r=>a(l).webName=r),style:{width:"18rem"}},null,8,["modelValue"])]),_:1}),e(n,{label:"keyWords"},{default:t(()=>[e(d,{modelValue:a(l).keyWords,"onUpdate:modelValue":o[3]||(o[3]=r=>a(l).keyWords=r),style:{width:"18rem"}},null,8,["modelValue"])]),_:1}),e(n,{style:{width:"33rem"},label:"会员网址",prop:"memberURL"},{default:t(()=>[e(d,{modelValue:a(l).memberURL,"onUpdate:modelValue":o[4]||(o[4]=r=>a(l).memberURL=r),style:{width:"8rem"}},null,8,["modelValue"]),e(x,{class:"mx-1"},{default:t(()=>[m("ah-jiayu.github.io/NewControl/")]),_:1}),e(f,{type:"primary",link:"",onClick:M},{default:t(()=>[m("复制")]),_:1})]),_:1})]),_:1}),e(_,{label:"高级设置",name:"高级设置"},{default:t(()=>[e(n,{label:"默认会员价格比例",prop:"confirmPassword"},{default:t(()=>[e(d,{modelValue:a(l).priceProportion,"onUpdate:modelValue":o[5]||(o[5]=r=>a(l).priceProportion=r),modelModifiers:{number:!0},style:{width:"18rem"},placeholder:""},null,8,["modelValue"])]),_:1}),e(n,{label:"抵扣税点",prop:"confirmPassword"},{default:t(()=>[e(d,{modelValue:a(l).taxPointsProportion,"onUpdate:modelValue":o[6]||(o[6]=r=>a(l).taxPointsProportion=r),modelModifiers:{number:!0},style:{width:"18rem"},placeholder:""},null,8,["modelValue"])]),_:1}),e(n,{label:"提现方式",prop:"confirmPassword"},{default:t(()=>[e(C,{modelValue:a(l).withdrawalMethod,"onUpdate:modelValue":o[7]||(o[7]=r=>a(l).withdrawalMethod=r),class:"ml-4"},{default:t(()=>[e(g,{value:1,size:"large"},{default:t(()=>[m(" 手动提现 ")]),_:1}),e(g,{value:2,size:"large"},{default:t(()=>[m(" 生成账单 ")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(n,null,{default:t(()=>[e(f,{type:"primary",onClick:R},{default:t(()=>[m(" 确认 ")]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"]),e(h,null,{default:t(()=>[e(_,{label:"联系我们",name:"联系我们"},{default:t(()=>[e(n,{label:"电子邮箱",prop:"originalPassword"},{default:t(()=>[e(d,{style:{width:"18rem"},modelValue:a(l).keyWords,"onUpdate:modelValue":o[8]||(o[8]=r=>a(l).keyWords=r),placeholder:""},null,8,["modelValue"])]),_:1}),e(n,{label:"手机号码",prop:"newPassword"},{default:t(()=>[e(d,{style:{width:"18rem"},modelValue:a(l).keyWords,"onUpdate:modelValue":o[9]||(o[9]=r=>a(l).keyWords=r),placeholder:""},null,8,["modelValue"])]),_:1}),e(n,{label:"QQ号码",prop:"confirmPassword"},{default:t(()=>[e(d,{style:{width:"18rem"},modelValue:a(l).keyWords,"onUpdate:modelValue":o[10]||(o[10]=r=>a(l).keyWords=r),placeholder:""},null,8,["modelValue"])]),_:1}),e(n,{label:"公司地址",prop:"confirmPassword"},{default:t(()=>[e(d,{style:{width:"18rem"},modelValue:a(l).keyWords,"onUpdate:modelValue":o[11]||(o[11]=r=>a(l).keyWords=r),placeholder:""},null,8,["modelValue"])]),_:1}),e(n,null,{default:t(()=>[e(f,{type:"primary"},{default:t(()=>[m(" 确认 ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})])),[[E,a(i)]])}}}),A=Q(G,[["__scopeId","data-v-6f6e2d95"]]);export{A as default};
