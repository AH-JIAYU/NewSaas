
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{d as q,r as m,k as O,a as i,o,e as d,w as e,f as t,b as v,H as r,s as _,g as u,t as g,j as M,F as x,l as Q,E as W,aJ as X,aK as Y,R as Z}from"./index-DSudqXuk.js";import{u as $}from"./department-CJ3a3WO0.js";import{u as ee}from"./tenant_role-CCAx9S6K.js";import{u as ae}from"./configuration_manager-DyCLBgYd.js";import{u as te}from"./position_manage-CAHIFWRK.js";import{u as le}from"./group_manage-DtbDftcd.js";import"./department-MtmjRrYs.js";import"./configuration_role-DSDoOXHE.js";import"./position_manage-DP_6hX2L.js";import"./group_manage-C6k7Ls0J.js";const B=b=>(X("data-v-4bc7ec4e"),b=b(),Y(),b),oe=B(()=>_("div",{class:"card-header"},[_("div",{class:"leftTitle"},"基本信息")],-1)),se={key:1,class:"avatar"},ne={style:{"font-size":"14px"}},ue=B(()=>_("div",{class:"card-header"},[_("div",{class:"leftTitle"},"角色信息")],-1)),de={class:"card-header"},re={class:"leftTitle"},ce={style:{"margin-left":"20px","font-size":"14px"}},ie=q({__name:"index",emits:["fetch-data"],setup(b,{expose:E,emit:j}){const P=ae(),N=m([]),k=le(),w=m([]),R=te(),T=m(),U=ee(),D=m(),F=$(),C=m(),p=m({}),A=j,y=m(!1),l=m();async function G(S){p.value=S;const f={id:S.id},{status:s,data:V}=await Q.list(f);l.value=V.data[0],s===1&&W.success({message:"查询成功",center:!0}),y.value=!0}function H(){A("fetch-data"),y.value=!1}return O(async()=>{T.value=await R.getPositionManage(),N.value=await P.getStaff(),D.value=await U.getRole(),C.value=await F.getDepartment(),w.value=await(k==null?void 0:k.getGroupManage())}),E({showEdit:G}),(S,f)=>{const s=i("el-col"),V=i("el-avatar"),h=i("el-row"),n=i("el-text"),c=i("el-form-item"),I=i("el-card"),L=i("el-radio"),z=i("el-radio-group"),J=i("el-form"),K=i("el-drawer");return o(),d(K,{modelValue:y.value,"onUpdate:modelValue":f[2]||(f[2]=a=>y.value=a),"append-to-body":"","close-on-click-modal":!1,"destroy-on-close":"",draggable:"",size:"60%",title:"详情",onClose:H},{default:e(()=>[t(J,{"label-width":"100px","label-position":"right"},{default:e(()=>[t(I,{class:"box-card"},{header:e(()=>[oe]),default:e(()=>[t(h,{gutter:20},{default:e(()=>[t(s,{span:1}),t(s,{style:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"flex-start"},span:1.5},{default:e(()=>[l.value.avatar?(o(),d(V,{key:0,size:50,src:l.value.avatar},null,8,["src"])):(o(),v("div",se,r(l.value.name),1))]),_:1}),t(s,{style:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"flex-start"},span:6},{default:e(()=>[_("p",null,r(l.value.userName),1),_("p",ne,[u("账号:"),_("span",null,r(l.value.userName),1)])]),_:1})]),_:1}),t(h,{gutter:24},{default:e(()=>[t(s,{span:6},{default:e(()=>[t(c,{label:"员工ID:"},{default:e(()=>[t(n,{class:"mx-1"},{default:e(()=>{var a;return[u(r((a=l.value)!=null&&a.id?l.value.id:"-"),1)]}),_:1})]),_:1})]),_:1}),t(s,{span:6},{default:e(()=>[t(c,{label:"姓名:"},{default:e(()=>[t(n,{class:"mx-1"},{default:e(()=>{var a;return[u(r((a=l.value)!=null&&a.name?l.value.name:"-"),1)]}),_:1})]),_:1})]),_:1}),t(s,{span:6},{default:e(()=>[t(c,{label:"手机号:"},{default:e(()=>[t(n,{class:"mx-1"},{default:e(()=>{var a;return[u(r((a=l.value)!=null&&a.phone?l.value.phone:"-"),1)]}),_:1})]),_:1})]),_:1}),t(s,{span:6},{default:e(()=>[t(c,{label:"邮箱:"},{default:e(()=>[t(n,{class:"mx-1"},{default:e(()=>{var a;return[u(r((a=l.value)!=null&&a.email?l.value.email:"-"),1)]}),_:1})]),_:1})]),_:1}),t(s,{span:6},{default:e(()=>[t(c,{label:"部门:"},{default:e(()=>[(o(!0),v(x,null,g(C.value,a=>(o(),d(n,null,{default:e(()=>[l.value.departmentId===a.id?(o(),d(n,{key:0},{default:e(()=>[u(r(a.name?a.name:"-"),1)]),_:2},1024)):M("",!0)]),_:2},1024))),256))]),_:1})]),_:1}),t(s,{span:6},{default:e(()=>[t(c,{label:"职位:"},{default:e(()=>[(o(!0),v(x,null,g(T.value,a=>(o(),d(n,null,{default:e(()=>[l.value.positionId===a.id?(o(),d(n,{key:0},{default:e(()=>[u(r(a.name?a.name:"-"),1)]),_:2},1024)):M("",!0)]),_:2},1024))),256))]),_:1})]),_:1}),t(s,{span:6},{default:e(()=>[t(c,{label:"帐号状态:"},{default:e(()=>[t(n,{class:"mx-1"},{default:e(()=>{var a;return[u(r((a=l.value)!=null&&a.active?"启用":"禁用"),1)]}),_:1})]),_:1})]),_:1}),t(s,{span:6},{default:e(()=>[t(c,{label:"创建时间:"},{default:e(()=>[t(n,{class:"mx-1"},{default:e(()=>{var a;return[u(r((a=l.value)!=null&&a.createTime?l.value.createTime:"-"),1)]}),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(I,{class:"box-card"},{header:e(()=>[ue]),default:e(()=>[t(h,{gutter:24},{default:e(()=>[t(c,{label:"分配角色:"},{default:e(()=>[t(z,{modelValue:p.value.role,"onUpdate:modelValue":f[0]||(f[0]=a=>p.value.role=a)},{default:e(()=>[(o(!0),v(x,null,g(D.value,a=>(o(),d(L,{key:a.id,value:a.roleName,label:a.roleName,disabled:""},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(I,{class:"box-card"},{header:e(()=>[_("div",de,[_("div",re,[u(" 小组信息"),_("span",ce,[u("负责人:"),(o(!0),v(x,null,g(N.value,a=>(o(),d(n,{key:a.id},{default:e(()=>[a.id===p.value.director?(o(),d(n,{key:0},{default:e(()=>[u(r(a.name),1)]),_:2},1024)):M("",!0)]),_:2},1024))),128))])])])]),default:e(()=>[t(h,{gutter:24},{default:e(()=>[t(c,{label:"分配小组:"},{default:e(()=>[w.value.length?(o(),d(z,{key:0,modelValue:p.value.groupId,"onUpdate:modelValue":f[1]||(f[1]=a=>p.value.groupId=a)},{default:e(()=>[(o(!0),v(x,null,g(w.value,a=>(o(),d(L,{key:a.id,value:a.id,label:a.name,disabled:""},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])):(o(),d(n,{key:1},{default:e(()=>[u("-")]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),ke=Z(ie,[["__scopeId","data-v-4bc7ec4e"]]);export{ke as default};
