
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{d as q,r as p,k as O,a as i,o,e as d,w as e,f as t,s as _,H as r,g as u,b as v,t as g,j as M,F as x,l as Q,E as W,aJ as X,aK as Y,R as Z}from"./index-Dx7ZN6ED.js";import{u as $}from"./department-B1kUsQ-D.js";import{u as ee}from"./tenant_role-DGNA2jbe.js";import{u as ae}from"./configuration_manager-B_rszYml.js";import{u as te}from"./position_manage-JctW9zDb.js";import{u as le}from"./group_manage-DGydIguo.js";import"./department-BiPX180G.js";import"./configuration_role-DDx-fzMd.js";import"./position_manage-B5CX7DuJ.js";import"./group_manage-bjQt0Ofh.js";const B=b=>(X("data-v-e6e88297"),b=b(),Y(),b),oe=B(()=>_("div",{class:"card-header"},[_("div",{class:"leftTitle"},"基本信息")],-1)),se={style:{"font-size":"14px"}},ne=B(()=>_("div",{class:"card-header"},[_("div",{class:"leftTitle"},"角色信息")],-1)),ue={class:"card-header"},de={class:"leftTitle"},re={style:{"margin-left":"20px","font-size":"14px"}},ce=q({__name:"index",emits:["fetch-data"],setup(b,{expose:E,emit:j}){const P=ae(),N=p([]),w=le(),S=p([]),R=te(),T=p(),U=ee(),D=p(),F=$(),C=p(),m=p({}),A=j,y=p(!1),l=p();async function G(k){m.value=k;const f={id:k.id},{status:s,data:V}=await Q.list(f);l.value=V.data[0],s===1&&W.success({message:"查询成功",center:!0}),y.value=!0}function H(){A("fetch-data"),y.value=!1}return O(async()=>{T.value=await R.getPositionManage(),N.value=await P.getStaff(),D.value=await U.getRole(),C.value=await F.getDepartment(),S.value=await(w==null?void 0:w.getGroupManage())}),E({showEdit:G}),(k,f)=>{const s=i("el-col"),V=i("el-avatar"),h=i("el-row"),n=i("el-text"),c=i("el-form-item"),I=i("el-card"),L=i("el-radio"),z=i("el-radio-group"),J=i("el-form"),K=i("el-drawer");return o(),d(K,{modelValue:y.value,"onUpdate:modelValue":f[2]||(f[2]=a=>y.value=a),"append-to-body":"","close-on-click-modal":!1,"destroy-on-close":"",draggable:"",size:"60%",title:"详情",onClose:H},{default:e(()=>[t(J,{"label-width":"100px","label-position":"right"},{default:e(()=>[t(I,{class:"box-card"},{header:e(()=>[oe]),default:e(()=>[t(h,{gutter:20},{default:e(()=>[t(s,{span:1}),t(s,{style:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"flex-start"},span:1.5},{default:e(()=>[t(V,{size:50,src:l.value.avatar},null,8,["src"])]),_:1}),t(s,{style:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"flex-start"},span:6},{default:e(()=>[_("p",null,r(l.value.userName),1),_("p",se,[u("账号:"),_("span",null,r(l.value.userName),1)])]),_:1})]),_:1}),t(h,{gutter:24},{default:e(()=>[t(s,{span:6},{default:e(()=>[t(c,{label:"员工ID:"},{default:e(()=>[t(n,{class:"mx-1"},{default:e(()=>{var a;return[u(r((a=l.value)!=null&&a.id?l.value.id:"-"),1)]}),_:1})]),_:1})]),_:1}),t(s,{span:6},{default:e(()=>[t(c,{label:"姓名:"},{default:e(()=>[t(n,{class:"mx-1"},{default:e(()=>{var a;return[u(r((a=l.value)!=null&&a.name?l.value.name:"-"),1)]}),_:1})]),_:1})]),_:1}),t(s,{span:6},{default:e(()=>[t(c,{label:"手机号:"},{default:e(()=>[t(n,{class:"mx-1"},{default:e(()=>{var a;return[u(r((a=l.value)!=null&&a.phone?l.value.phone:"-"),1)]}),_:1})]),_:1})]),_:1}),t(s,{span:6},{default:e(()=>[t(c,{label:"邮箱:"},{default:e(()=>[t(n,{class:"mx-1"},{default:e(()=>{var a;return[u(r((a=l.value)!=null&&a.email?l.value.email:"-"),1)]}),_:1})]),_:1})]),_:1}),t(s,{span:6},{default:e(()=>[t(c,{label:"部门:"},{default:e(()=>[(o(!0),v(x,null,g(C.value,a=>(o(),d(n,null,{default:e(()=>[l.value.departmentId===a.id?(o(),d(n,{key:0},{default:e(()=>[u(r(a.name?a.name:"-"),1)]),_:2},1024)):M("",!0)]),_:2},1024))),256))]),_:1})]),_:1}),t(s,{span:6},{default:e(()=>[t(c,{label:"职位:"},{default:e(()=>[(o(!0),v(x,null,g(T.value,a=>(o(),d(n,null,{default:e(()=>[l.value.positionId===a.id?(o(),d(n,{key:0},{default:e(()=>[u(r(a.name?a.name:"-"),1)]),_:2},1024)):M("",!0)]),_:2},1024))),256))]),_:1})]),_:1}),t(s,{span:6},{default:e(()=>[t(c,{label:"帐号状态:"},{default:e(()=>[t(n,{class:"mx-1"},{default:e(()=>{var a;return[u(r((a=l.value)!=null&&a.active?"启用":"禁用"),1)]}),_:1})]),_:1})]),_:1}),t(s,{span:6},{default:e(()=>[t(c,{label:"创建时间:"},{default:e(()=>[t(n,{class:"mx-1"},{default:e(()=>{var a;return[u(r((a=l.value)!=null&&a.createTime?l.value.createTime:"-"),1)]}),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(I,{class:"box-card"},{header:e(()=>[ne]),default:e(()=>[t(h,{gutter:24},{default:e(()=>[t(c,{label:"分配角色:"},{default:e(()=>[t(z,{modelValue:m.value.role,"onUpdate:modelValue":f[0]||(f[0]=a=>m.value.role=a)},{default:e(()=>[(o(!0),v(x,null,g(D.value,a=>(o(),d(L,{key:a.id,value:a.roleName,label:a.roleName,disabled:""},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(I,{class:"box-card"},{header:e(()=>[_("div",ue,[_("div",de,[u(" 小组信息"),_("span",re,[u("负责人:"),(o(!0),v(x,null,g(N.value,a=>(o(),d(n,{key:a.id},{default:e(()=>[a.id===m.value.director?(o(),d(n,{key:0},{default:e(()=>[u(r(a.name),1)]),_:2},1024)):M("",!0)]),_:2},1024))),128))])])])]),default:e(()=>[t(h,{gutter:24},{default:e(()=>[t(c,{label:"分配小组:"},{default:e(()=>[S.value.length?(o(),d(z,{key:0,modelValue:m.value.groupId,"onUpdate:modelValue":f[1]||(f[1]=a=>m.value.groupId=a)},{default:e(()=>[(o(!0),v(x,null,g(S.value,a=>(o(),d(L,{key:a.id,value:a.id,label:a.name,disabled:""},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])):(o(),d(n,{key:1},{default:e(()=>[u("-")]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),he=Z(ce,[["__scopeId","data-v-e6e88297"]]);export{he as default};
