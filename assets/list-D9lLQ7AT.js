
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{k as U,d as D,r as c,D as h,a as s,al as A,am as B,i as a,o as N,b as G,f as e,w as t,l as $,g as m,G as z,ak as E,p as q,_ as Q}from"./index-CUc0kM87.js";const x={list:()=>U.post("member-config/get/getMemberConfig"),create:b=>U.post("member-config/insert/insertMemberConfig",b),edit:b=>U.post("member-config/update/updateMemberConfig",b)},F=D({name:"SurveySettingList",__name:"list",setup(b){const g=c("基本设置"),i=c(!1),k={VITE_APP_SETTING:"false",VITE_APP_TITLE:"Fantastic-admin 专业版",VITE_APP_API_BASEURL:"http://47.96.98.102:9100",VITE_APP_DEBUG_TOOL:"",VITE_BUILD_MOCK:"false",VITE_BUILD_SOURCEMAP:"false",VITE_BUILD_COMPRESS:"gzip,brotli",VITE_BUILD_ARCHIVE:"",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1,LEGACY:!1}.VITE_APP_WEBSITE,p=c(),l=c({webName:"",keyWords:"",memberURL:"",registerOffOrOn:!0,registerExamineOffOrOn:!1,priceProportion:null,withdrawalMethod:1,taxPointsProportion:null}),T=c({webName:[{required:!0,message:"请输入网站名称",trigger:"blur"}],memberURL:[{required:!0,message:"请输入供应商网址",trigger:"blur"}]});h(()=>{y()});async function y(){i.value=!0;const{data:u}=await x.list();l.value=u||l.value,i.value=!1}const L=async()=>{const u=`http://${l.value.memberURL}.${k}`;try{await navigator.clipboard.writeText(u),E.success({message:"复制成功",center:!0})}catch(o){console.error(o)}};function R(){l.value.id?p.value&&p.value.validate(u=>{if(u){let{id:o,keyWords:V,registerExamineOffOrOn:n,registerOffOrOn:v,memberURL:P,webName:d,priceProportion:O,withdrawalMethod:f,taxPointsProportion:_}=l.value;const w={id:o,keyWords:V,registerExamineOffOrOn:n,registerOffOrOn:v,memberURL:P,webName:d,priceProportion:O,withdrawalMethod:f,taxPointsProportion:_};i.value=!0,x.edit(w).then(()=>{i.value=!1,y(),E.success({message:"修改成功",center:!0})})}}):p.value&&p.value.validate(u=>{u&&(i.value=!0,console.log("form.value",l.value),x.create(l.value).then(()=>{i.value=!1,y(),E.success({message:"新增成功",center:!0})}))})}return(u,o)=>{const V=s("el-switch"),n=s("el-form-item"),v=s("el-col"),P=s("el-row"),d=s("el-input"),O=s("el-text"),f=s("el-button"),_=s("el-tab-pane"),w=s("el-radio"),M=s("el-radio-group"),I=s("el-form"),S=s("el-tabs"),W=q,C=A("loading");return B((N(),G("div",null,[e(W,null,{default:t(()=>[e(S,{modelValue:a(g),"onUpdate:modelValue":o[12]||(o[12]=r=>$(g)?g.value=r:null)},{default:t(()=>[e(I,{ref_key:"formRef",ref:p,model:a(l),rules:a(T),"label-position":"right","label-width":"130px",style:{width:"500px"}},{default:t(()=>[e(_,{label:"基本设置",name:"基本设置"},{default:t(()=>[e(P,{gutter:20},{default:t(()=>[e(v,{span:7},{default:t(()=>[e(n,{label:"注册开关"},{default:t(()=>[e(V,{modelValue:a(l).registerOffOrOn,"onUpdate:modelValue":o[0]||(o[0]=r=>a(l).registerOffOrOn=r),"active-text":"开启","inline-prompt":"","inactive-text":"关闭","active-value":!0,"inactive-value":!1},null,8,["modelValue"])]),_:1})]),_:1}),e(v,{span:6},{default:t(()=>[e(n,{label:"注册审核"},{default:t(()=>[e(V,{modelValue:a(l).registerExamineOffOrOn,"onUpdate:modelValue":o[1]||(o[1]=r=>a(l).registerExamineOffOrOn=r),"active-text":"开启","inline-prompt":"","inactive-text":"关闭","active-value":!0,"inactive-value":!1},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(n,{prop:"webName",label:"网站名称"},{default:t(()=>[e(d,{modelValue:a(l).webName,"onUpdate:modelValue":o[2]||(o[2]=r=>a(l).webName=r),style:{width:"18rem"}},null,8,["modelValue"])]),_:1}),e(n,{label:"keyWords"},{default:t(()=>[e(d,{modelValue:a(l).keyWords,"onUpdate:modelValue":o[3]||(o[3]=r=>a(l).keyWords=r),style:{width:"18rem"}},null,8,["modelValue"])]),_:1}),e(n,{style:{width:"33rem"},label:"会员网址",prop:"memberURL"},{default:t(()=>[e(d,{modelValue:a(l).memberURL,"onUpdate:modelValue":o[4]||(o[4]=r=>a(l).memberURL=r),style:{width:"8rem"}},null,8,["modelValue"]),e(O,{class:"mx-1"},{default:t(()=>[m(z(a(k)),1)]),_:1}),e(f,{type:"primary",link:"",onClick:L},{default:t(()=>[m("复制")]),_:1})]),_:1})]),_:1}),e(_,{label:"高级设置",name:"高级设置"},{default:t(()=>[e(n,{label:"默认会员价格比例",prop:"confirmPassword"},{default:t(()=>[e(d,{modelValue:a(l).priceProportion,"onUpdate:modelValue":o[5]||(o[5]=r=>a(l).priceProportion=r),modelModifiers:{number:!0},style:{width:"18rem"},placeholder:""},null,8,["modelValue"])]),_:1}),e(n,{label:"抵扣税点",prop:"confirmPassword"},{default:t(()=>[e(d,{modelValue:a(l).taxPointsProportion,"onUpdate:modelValue":o[6]||(o[6]=r=>a(l).taxPointsProportion=r),modelModifiers:{number:!0},style:{width:"18rem"},placeholder:""},null,8,["modelValue"])]),_:1}),e(n,{label:"提现方式",prop:"confirmPassword"},{default:t(()=>[e(M,{modelValue:a(l).withdrawalMethod,"onUpdate:modelValue":o[7]||(o[7]=r=>a(l).withdrawalMethod=r),class:"ml-4"},{default:t(()=>[e(w,{value:1,size:"large"},{default:t(()=>[m(" 手动提现 ")]),_:1}),e(w,{value:2,size:"large"},{default:t(()=>[m(" 生成账单 ")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(n,null,{default:t(()=>[e(f,{type:"primary",onClick:R},{default:t(()=>[m(" 确认 ")]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"]),e(I,null,{default:t(()=>[e(_,{label:"联系我们",name:"联系我们"},{default:t(()=>[e(n,{label:"电子邮箱",prop:"originalPassword"},{default:t(()=>[e(d,{style:{width:"18rem"},modelValue:a(l).keyWords,"onUpdate:modelValue":o[8]||(o[8]=r=>a(l).keyWords=r),placeholder:""},null,8,["modelValue"])]),_:1}),e(n,{label:"手机号码",prop:"newPassword"},{default:t(()=>[e(d,{style:{width:"18rem"},modelValue:a(l).keyWords,"onUpdate:modelValue":o[9]||(o[9]=r=>a(l).keyWords=r),placeholder:""},null,8,["modelValue"])]),_:1}),e(n,{label:"QQ号码",prop:"confirmPassword"},{default:t(()=>[e(d,{style:{width:"18rem"},modelValue:a(l).keyWords,"onUpdate:modelValue":o[10]||(o[10]=r=>a(l).keyWords=r),placeholder:""},null,8,["modelValue"])]),_:1}),e(n,{label:"公司地址",prop:"confirmPassword"},{default:t(()=>[e(d,{style:{width:"18rem"},modelValue:a(l).keyWords,"onUpdate:modelValue":o[11]||(o[11]=r=>a(l).keyWords=r),placeholder:""},null,8,["modelValue"])]),_:1}),e(n,null,{default:t(()=>[e(f,{type:"primary"},{default:t(()=>[m(" 确认 ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})])),[[C,a(i)]])}}}),K=Q(F,[["__scopeId","data-v-e446af82"]]);export{K as default};
