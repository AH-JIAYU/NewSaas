
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{d as Ke,am as Ge,r as L,A as ie,a5 as Je,a3 as Ze,l as We,n as re,b as p,o as c,f,w as a,g as t,t as d,h as v,k as b,j as l,e as V,v as h,H as E,s as H,aq as O,F as j,I as Y,be as Xe,E as N,an as K,N as et,aI as tt,aJ as at,R as ot}from"./index-BsB66SGI.js";import{e as lt}from"./index-Daphr313.js";import{g as nt,a as it}from"./zh_Hans-CQ0-E7nC.js";import{z as rt}from"./zh_Hans-B39mJ-rS.js";import{f as se}from"./file-DZmEEzKQ.js";import{a as G}from"./projectManagement-CbAV1WG9.js";import{u as st}from"./user_customer-C1k1xBFM.js";import{u as ut}from"./projectManagement_list-BV0tAS7H.js";import{_ as dt}from"./index.vue_vue_type_script_setup_true_lang-D9P_0mZR.js";import"./user_customer-Q2RhPuuo.js";import"./index.vue_vue_type_script_setup_true_lang-CEh89lcF.js";import"./index-BdhlIUdf.js";import"./index-CsoYLy7t.js";import"./department-CogLOuU5.js";import"./position_manage-BNh0L0gF.js";import"./department-KT6gOF8q.js";import"./tenant_role-iGmkS1tQ.js";import"./configuration_role-BKBryJqz.js";import"./configuration_manager-CIkrJnMM.js";import"./apiLoading-CdB0CUk8.js";import"./stagedData-8REedzd8.js";const y=w=>(tt("data-v-c7e36825"),w=w(),at(),w),ct={style:{display:"flex","justify-content":"space-between"},class:"card-header"},mt=y(()=>d("span",null,"基础设置",-1)),pt={style:{float:"left"}},ft={style:{float:"right",color:"red","font-size":"13px"}},gt={style:{display:"flex","justify-content":"space-between","align-items":"center",padding:"0 1rem"}},vt={style:{display:"flex","justify-content":"space-between"},class:"card-header"},_t=y(()=>d("span",null,"描述配额",-1)),yt={key:0},bt=y(()=>d("div",{class:"el-upload__text"},"上传",-1)),It=y(()=>d("div",{class:"el-upload__tip"}," 支持上传JPG/JPEG/PNG图片，小于10MB ",-1)),Lt=["src"],Vt=y(()=>d("div",{class:"card-header"},[d("span",null,"其他设置")],-1)),Pt=y(()=>d("div",{class:"card-header"},"配置信息",-1)),ht=y(()=>d("div",{class:"card-header"},"安全信息",-1)),jt=y(()=>d("div",null,[v("小时"),d("span",{class:"red"},"准入"),v("量")],-1)),wt=y(()=>d("div",null,[v("小时"),d("span",{class:"blue"},"完成"),v("量")],-1)),Ct=y(()=>d("div",{class:"hui"},"举例",-1)),Tt=y(()=>d("div",{class:"hui"}," 小时准入量【5】：10:00~11:00时间区间只能5人参与该项目 ",-1)),Ut=y(()=>d("div",{class:"hui"}," 小时完成量【5】：10:00~11:00时间区间只能5人完成该项目 ",-1)),xt=y(()=>d("div",{class:"hui"}," 允许重复参与：开启后，小明同学做调查可以对该项目一直重复做，直到项目配额满 ",-1)),kt="例：https://www.xxxx.com/8994343?uid=[uid]",St=Ke({name:"SurveyTopTabs",__name:"index",props:{leftTab:Object,tabIndex:Number},emits:["sync-project"],setup(w,{expose:ue,emit:de}){const k=Ge(),ce=st(),me=ut(),S=w,pe=de,e=L(S.leftTab),fe=ie("validateTopTabs"),ge=ie("currentProjectTimeline"),Q=L("basicSettings"),D=L(),J=L(),q=L(!S.tabIndex);let _=L({checked:!1,basicSettings:{countryList:[],customerList:[],B2BTypeList:[],B2BTypeProps:{multiple:!0,checkStrictly:!0,emitPath:!1,value:"chineseName",label:"chineseName",lazy:!0,async lazyLoad(i,o){const s=await k.getB2BTypeItemChildren(i.data.id)||[];o(s)}}}});const ve=Je({name:[{required:!0,message:"请输入项目名称",trigger:"blur"},{min:2,max:50,message:"内容在2-50个字之间",trigger:"blur"}],projectIdentification:[{max:100,required:!0,message:"请输入项目标识",trigger:"blur"},{min:2,max:100,message:"内容在2-100个字之间",trigger:"blur"}],countryIdList:[{required:!0,message:"请选择所属国家",trigger:"change"}],clientId:[{required:!0,message:"请选择所属客户",trigger:"change"}],uidUrl:[{required:!0,message:"请输入URL",trigger:"blur"},{validator:(i,o,s)=>{/^(((ht|f)tps?):\/\/)?([^!@#$%^&*?.\s-]([^!@#$%^&*?.\s]{0,63}[^!@#$%^&*?.\s])?\.)+[a-z]{2,6}\/?/.test(e.value.uidUrl)||s(new Error("请输入合法网址")),e.value.uidUrl.includes("[uid]")||s(new Error("格式不正确,请查看例子")),s()},trigger:"blur"}],releaseTime:[{validator:(i,o,s)=>{new Date(e.value.releaseTime).getTime()<Date.now()&&s(new Error("发布时间早于当前时间")),s()},trigger:"blur"}],doMoneyPrice:[{required:!0,message:"请输入原价",trigger:"blur"}],num:[{required:!0,message:"请输入配额",trigger:"blur"}],minimumDuration:[{required:!0,message:"请输入最小分长",trigger:"blur"}],ir:[{required:!0,message:"请输入配额",trigger:"blur"}]}),B=i=>{i.key==="."&&i.preventDefault()},_e=i=>i.getTime()<Date.now()-864e5;function ye(){if(new Date(e.value.releaseTime)*1e3/1e3<Date.now()){const s=new Date,m=s.getFullYear(),g=o(s.getMonth()+1),r=o(s.getDate()),u=o(s.getHours()),P=o(s.getMinutes()),T=o(s.getSeconds());e.value.releaseTime=`${m}-${g}-${r} ${u}:${P}:${T}`}function o(s){return(s<10?"0":"")+s}ge(e.value.releaseTime)}const be=i=>{const o=_.value.basicSettings.customerList.find(s=>s.tenantCustomerId===i);e.value.isProfile=o.antecedentQuestionnaire===2?1:2},Ie=()=>{e.value.countryIdList=[],_.value.checked&&_.value.basicSettings.countryList.map(i=>{e.value.countryIdList.push(i.id)})},Le=[nt({locale:it})];function Ve(i){e.value.richText=i}function Pe(){pe("sync-project")}function he(){q.value=!q.value}const Z=L(""),R=L(!1),C=L([]),je=async(i,o)=>{e.value.descriptionUrl=o.map(m=>m.name);const{status:s}=await se.delete({fileName:i.name});s===1&&N.success({message:"删除成功",center:!0})},we=(i,o)=>{e.value.descriptionUrl.push(i.data.qiNiuUrl)},Ce=async(i,o)=>{N.warning({message:"只能上传一个,删除原文件后重新上传",center:!0})},Te=i=>{Z.value=i.url,R.value=!0},Ue=async i=>{i.length&&i.forEach(async o=>{if(o){const s=await se.detail({fileName:o});C.value.push({name:o,url:s.data.fileUrl})}})},xe=i=>{e.value.isOnline=i===2?2:1},ke=i=>{i===2&&(e.value.projectQuotaInfoList=[])},Se=()=>{e.value.data.configurationInformation.configurationCountryList=null,_.value.checked=e.value.countryIdList.length===k.country.length},Qe=()=>{e.value.data.configurationInformation.projectCategoryList=null,W()},W=i=>{e.value.data.configurationInformation.initialProblem.projectProblemId=null,e.value.data.configurationInformation.ProjectProblemInfoList=null,i||(e.value.projectQuotaInfoList=[])},X=async(i,o)=>{i==="configurationInformation"&&!e.value.data.configurationInformation.configurationCountryList&&D.value.validateField(["countryIdList"],async s=>{if(s){W(o||!1);const m=await G.getProjectCountryList({countryIdList:e.value.countryIdList});e.value.data.configurationInformation.configurationCountryList=m.data.getProjectCountryListInfoList,m.data.getProjectCountryListInfoList.length===1&&(e.value.data.configurationInformation.initialProblem.countryId=m.data.getProjectCountryListInfoList[0].countryId),e.value.data.configurationInformation.initialProblem||(e.value.data.configurationInformation.initialProblem=K(me.initialProblem)),e.value.data.configurationInformation.initialProblem.projectQuotaQuestionType=K(m.data.projectQuotaQuestionType)}else Q.value="basicSettings",re(()=>{setTimeout(()=>{D.value.scrollToField("countryIdList")}),N.warning({message:"请先选择所属国家",center:!0})})})},ee=async()=>{if(e.value.data.configurationInformation.initialProblem.countryId){if(!e.value.data.configurationInformation.projectCategoryList){const i={countryId:e.value.data.configurationInformation.initialProblem.countryId,projectQuotaQuestionType:e.value.data.configurationInformation.initialProblem.projectQuotaQuestionType},o=await G.getProjectCategoryList(i);e.value.data.configurationInformation.projectCategoryList=o.data.getProjectCategoryInfoList.filter(s=>s.status===1)}}else N.warning({message:"请先选择配置信息下的国家",center:!0})},te=async(i,o)=>{i&&setTimeout(async()=>{const{projectProblemCategoryName:s,...m}=e.value.data.configurationInformation.projectCategoryList.find(r=>r.projectProblemCategoryId===i),g=await G.getProjectProblemList(m);if(e.value.data.configurationInformation.ProjectProblemInfoList=g.data.getProjectProblemInfoList.map(r=>({...r,getProjectAnswerInfoList:r.getProjectAnswerInfoList.sort((u,P)=>u.answerValue.replace(/^[a-zA-Z]+/,"")-P.answerValue.replace(/^[a-zA-Z]+/,""))})),!o){e.value.projectQuotaInfoList=[];for(let r=0;r<e.value.data.configurationInformation.ProjectProblemInfoList.length;r++){const u=K(e.value.data.configurationInformation.initialProblem);u.projectProblemId=e.value.data.configurationInformation.ProjectProblemInfoList[r].id,u.keyValue=e.value.data.configurationInformation.ProjectProblemInfoList[r].question,u.questionType=e.value.data.configurationInformation.ProjectProblemInfoList[r].questionType,u.projectProblemCategoryId=i,e.value.projectQuotaInfoList.push(u)}}})},De=(i,o)=>{let s=e.value.projectQuotaInfoList[o].projectAnswerIdList;const g=e.value.data.configurationInformation.ProjectProblemInfoList[o].getProjectAnswerInfoList.filter(r=>s.includes(r.id));e.value.projectQuotaInfoList[o].answerValueList=g.map(r=>r.anotherName)},ae=async()=>{_.value.basicSettings.customerList=await ce.getCustomerList()},qe=()=>{J.value.showEdit()},Be=async()=>{await ae(),_.value.basicSettings.countryList=await k.getCountry(),_.value.basicSettings.B2BTypeList=await k.getB2BType()},Re=async()=>{e.value.projectQuotaInfoList.length&&(e.value.data.configurationInformation.initialProblem.countryId=e.value.projectQuotaInfoList[0].countryId,e.value.data.configurationInformation.initialProblem.projectQuotaQuestionType=e.value.projectQuotaInfoList[0].projectQuotaQuestionType,e.value.data.configurationInformation.initialProblem.projectProblemCategoryId=e.value.projectQuotaInfoList[0].projectProblemCategoryId,await X("configurationInformation",!0),await ee(),setTimeout(async()=>{await te(e.value.data.configurationInformation.initialProblem.projectProblemCategoryId,!0)},100))},oe=(i,o)=>({get(){return e.value.projectQuotaInfoList[o].id===i?e.value.projectQuotaInfoList[o].projectAnswerIdList:e.value.projectQuotaInfoList.find(m=>m.projectProblemId===i).projectAnswerIdList},set(s){if(e.value.projectQuotaInfoList[o].id===i)e.value.projectQuotaInfoList[o].projectAnswerIdList=s;else{const m=e.value.projectQuotaInfoList.find(g=>g.projectProblemId===i);m.projectAnswerIdList=s}}});return Ze(()=>S.leftTab,(i,o)=>{e.value=i},{deep:!0}),We(async()=>{C.value=[],await Be(),await Re()}),ue({getUpLoad:Ue}),re(()=>{fe(D.value)}),(i,o)=>{const s=p("el-button"),m=p("el-switch"),g=p("el-input"),r=p("el-form-item"),u=p("el-col"),P=p("el-option"),T=et,z=p("el-select"),M=p("el-checkbox"),le=p("ElOption"),Ae=p("ElSelect"),I=p("el-row"),A=p("el-input-number"),ne=p("el-tooltip"),Ee=p("el-text"),U=p("el-card"),Ne=p("el-icon"),ze=p("el-upload"),Me=p("el-dialog"),Fe=p("el-cascader"),$e=p("el-date-picker"),F=p("el-tab-pane"),He=p("el-checkbox-group"),Oe=p("el-tabs"),Ye=p("ElForm");return c(),f(Ye,{"label-width":"100px",rules:l(ve),ref_key:"formRef",ref:D,model:l(e)},{default:a(()=>[t(Oe,{modelValue:l(Q),"onUpdate:modelValue":o[28]||(o[28]=n=>Y(Q)?Q.value=n:null),onTabChange:X},{default:a(()=>[t(F,{label:"基础设置",name:"basicSettings"},{default:a(()=>[t(U,{"body-style":""},{header:a(()=>[d("div",ct,[mt,d("div",null,[S.tabIndex>0?(c(),f(s,{key:0,size:"small",type:"primary",round:"",plain:"",onClick:Pe},{default:a(()=>[v(" 同步数据 ")]),_:1})):b("",!0),t(m,{modelValue:l(e).required,"onUpdate:modelValue":o[0]||(o[0]=n=>l(e).required=n),"active-value":!0,"inactive-value":!1,class:"ml-2"},null,8,["modelValue"]),v(" 只看必填 ")])])]),default:a(()=>[t(I,{gutter:20},{default:a(()=>[t(u,{span:6},{default:a(()=>[t(r,{label:"项目名称",prop:"name"},{default:a(()=>[t(g,{modelValue:l(e).name,"onUpdate:modelValue":o[1]||(o[1]=n=>l(e).name=n),clearable:"",maxlength:50},null,8,["modelValue"])]),_:1})]),_:1}),t(u,{span:6},{default:a(()=>[t(r,{label:"项目标识",prop:"projectIdentification"},{default:a(()=>[t(g,{clearable:"",modelValue:l(e).projectIdentification,"onUpdate:modelValue":o[2]||(o[2]=n=>l(e).projectIdentification=n),maxlength:100},null,8,["modelValue"])]),_:1})]),_:1}),t(u,{span:6},{default:a(()=>[t(r,{label:"所属客户",prop:"clientId"},{default:a(()=>[t(z,{placeholder:"Select",modelValue:l(e).clientId,"onUpdate:modelValue":o[3]||(o[3]=n=>l(e).clientId=n),clearable:"",onChange:be},{empty:a(()=>[d("div",gt,[v(" 暂无数据 "),t(s,{type:"primary",link:"",size:"small",onClick:qe},{default:a(()=>[v(" 快捷新增 "),t(T,{name:"ant-design:plus-outlined"})]),_:1})])]),default:a(()=>[(c(!0),V(j,null,h(l(_).basicSettings.customerList,n=>(c(),f(P,{key:n.tenantCustomerId,value:n.tenantCustomerId,label:n.customerAccord,disabled:n.isReveal===1},{default:a(()=>[d("span",pt,E(n.customerAccord),1),H(d("span",ft,[H(d("span",null," 营业额超限 ",512),[[O,n.turnover<n.practiceTurover]]),H(d("span",null," 审核率不合格 ",512),[[O,n.rateAudit>n.practiceRateAudit]])],512),[[O,n.isReveal===1]])]),_:2},1032,["value","label","disabled"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),t(u,{span:6},{default:a(()=>[t(r,{label:"所属国家",prop:"countryIdList"},{default:a(()=>[t(Ae,{modelValue:l(e).countryIdList,"onUpdate:modelValue":o[5]||(o[5]=n=>l(e).countryIdList=n),placeholder:"国家",clearable:"",filterable:"",multiple:"","collapse-tags":"",onChange:Se},{header:a(()=>[t(M,{modelValue:l(_).checked,"onUpdate:modelValue":o[4]||(o[4]=n=>l(_).checked=n),onChange:Ie,style:{display:"flex",height:"unset"}},{default:a(()=>[v("全球")]),_:1},8,["modelValue"])]),default:a(()=>[(c(!0),V(j,null,h(l(_).basicSettings.countryList,n=>(c(),f(le,{label:n.chineseName,value:n.id},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(I,{gutter:20},{default:a(()=>[t(u,{span:6},{default:a(()=>[t(r,{label:"原价",prop:"doMoneyPrice"},{default:a(()=>[t(A,{style:{height:"2rem"},modelValue:l(e).doMoneyPrice,"onUpdate:modelValue":o[6]||(o[6]=n=>l(e).doMoneyPrice=n),min:1,precision:1,step:.1,"controls-position":"right",size:"large"},null,8,["modelValue"])]),_:1})]),_:1}),t(u,{span:6},{default:a(()=>[t(r,{label:"配额",prop:"num"},{default:a(()=>[t(A,{style:{height:"2rem"},modelValue:l(e).num,"onUpdate:modelValue":o[7]||(o[7]=n=>l(e).num=n),step:1,"step-strictly":"",min:1,max:100,"controls-position":"right",size:"large",onKeydown:B},null,8,["modelValue"])]),_:1})]),_:1}),t(u,{style:{position:"relative"},span:6},{default:a(()=>[t(r,{prop:"minimumDuration"},{label:a(()=>[d("div",null,[v(" 最小分长"),t(ne,{class:"tooltips",content:"这份问卷需要做到多少分钟",placement:"top"},{default:a(()=>[t(T,{class:"SvgIcon1",name:"i-ri:question-line"})]),_:1})])]),default:a(()=>[t(g,{style:{height:"2rem",width:"100%"},modelValue:l(e).minimumDuration,"onUpdate:modelValue":o[8]||(o[8]=n=>l(e).minimumDuration=n),min:1,step:1,"step-strictly":"","controls-position":"right",size:"large",onKeydown:B},{append:a(()=>[v(" min ")]),_:1},8,["modelValue"])]),_:1})]),_:1}),t(u,{span:6},{default:a(()=>[t(r,{label:"IR",prop:"ir"},{default:a(()=>[t(g,{modelValue:l(e).ir,"onUpdate:modelValue":o[9]||(o[9]=n=>l(e).ir=n),modelModifiers:{number:!0},min:1,max:100,step:"0.01",oninput:"if(value>100)value=100;if(value.length>4)value=value.slice(0,4);if(value<0)value=0;value=Number(value).toFixed(1)"},{append:a(()=>[v(" % ")]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(I,{gutter:20},{default:a(()=>[t(u,{span:12},{default:a(()=>[t(r,{prop:"uidUrl"},{label:a(()=>[d("div",null,[v(" URL"),t(ne,{class:"tooltips",content:"仅支持URL后缀为[uid]的链接。",placement:"top"},{default:a(()=>[t(T,{class:"SvgIcon2",name:"i-ri:question-line"})]),_:1})])]),default:a(()=>[t(g,{clearable:"",modelValue:l(e).uidUrl,"onUpdate:modelValue":o[10]||(o[10]=n=>l(e).uidUrl=n)},null,8,["modelValue"]),t(Ee,{class:"mx-1"},{default:a(()=>[v(E(kt))]),_:1})]),_:1})]),_:1}),l(e).required?b("",!0):(c(),f(u,{key:0,span:3},{default:a(()=>[t(r,{label:"填写互斥ID"},{default:a(()=>[t(M,{modelValue:l(e).mutualExclusion,"onUpdate:modelValue":o[11]||(o[11]=n=>l(e).mutualExclusion=n),style:{top:"-4px"},size:"large","true-value":1,"false-value":2},null,8,["modelValue"])]),_:1})]),_:1})),l(e).mutualExclusion===1&&!l(e).required?(c(),f(u,{key:1,span:12},{default:a(()=>[t(r,{label:"互斥ID"},{default:a(()=>[t(g,{clearable:"",modelValue:l(e).mutualExclusionId,"onUpdate:modelValue":o[12]||(o[12]=n=>l(e).mutualExclusionId=n)},null,8,["modelValue"])]),_:1})]),_:1})):b("",!0)]),_:1})]),_:1}),l(e).required?b("",!0):(c(),f(U,{key:0},{header:a(()=>[d("div",vt,[_t,t(s,{type:"primary",link:"",size:"default",onClick:he},{default:a(()=>[v(E(l(q)?"收起":"展开"),1)]),_:1})])]),default:a(()=>[l(q)?(c(),V("div",yt,[t(r,{label:"上传图片"},{default:a(()=>[t(ze,{"file-list":l(C),"onUpdate:fileList":o[13]||(o[13]=n=>Y(C)?C.value=n:null),action:"http://47.96.98.102:9100/project/uploadQiniu","list-type":"picture-card",drag:!0,limit:10,"on-preview":Te,"on-remove":je,"on-success":we,"on-exceed":Ce},{tip:a(()=>[It]),default:a(()=>[t(Ne,{style:{"margin-bottom":"none"},class:"el-icon--upload"},{default:a(()=>[t(l(Xe))]),_:1}),bt]),_:1},8,["file-list"]),t(Me,{modelValue:l(R),"onUpdate:modelValue":o[14]||(o[14]=n=>Y(R)?R.value=n:null),style:{"z-index":"1000",transform:"translate(0)",position:"relative"}},{default:a(()=>[d("img",{"w-full":"",src:l(Z),alt:"Preview Image"},null,8,Lt)]),_:1},8,["modelValue"])]),_:1}),t(I,{gutter:20},{default:a(()=>[t(u,{span:24},{default:a(()=>[t(r,{label:"项目描述"},{default:a(()=>[t(l(lt),{class:"editor",value:l(e).richText,plugins:Le,locale:l(rt),onChange:Ve},null,8,["value","locale"])]),_:1})]),_:1})]),_:1})])):b("",!0)]),_:1})),l(e).required?b("",!0):(c(),f(U,{key:1},{header:a(()=>[Vt]),default:a(()=>[t(I,{gutter:20},{default:a(()=>[t(u,{span:3},{default:a(()=>[t(r,{label:"置顶"},{default:a(()=>[t(m,{"active-value":1,"inactive-value":2,modelValue:l(e).isPinned,"onUpdate:modelValue":o[15]||(o[15]=n=>l(e).isPinned=n)},null,8,["modelValue"])]),_:1})]),_:1}),t(u,{span:3},{default:a(()=>[t(r,{label:"在线"},{default:a(()=>[t(m,{"active-value":1,"inactive-value":2,disabled:l(e).isTimeReleases===2,modelValue:l(e).isOnline,"onUpdate:modelValue":o[16]||(o[16]=n=>l(e).isOnline=n)},null,8,["disabled","modelValue"])]),_:1})]),_:1}),t(u,{span:4},{default:a(()=>[t(r,{label:"B2B"},{default:a(()=>[t(m,{"active-value":2,"inactive-value":1,modelValue:l(e).isB2b,"onUpdate:modelValue":o[17]||(o[17]=n=>l(e).isB2b=n)},null,8,["modelValue"])]),_:1})]),_:1}),t(u,{span:4},{default:a(()=>[t(r,{label:"前置问卷"},{default:a(()=>[t(m,{"active-value":1,"inactive-value":2,modelValue:l(e).isProfile,"onUpdate:modelValue":o[18]||(o[18]=n=>l(e).isProfile=n),onChange:ke},null,8,["modelValue"])]),_:1})]),_:1}),t(u,{span:3},{default:a(()=>[t(r,{label:"定时发布"},{default:a(()=>[t(m,{"active-value":2,"inactive-value":1,modelValue:l(e).isTimeReleases,"onUpdate:modelValue":o[19]||(o[19]=n=>l(e).isTimeReleases=n),onChange:xe},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(I,{gutter:20},{default:a(()=>[l(e).isB2b===2?(c(),f(u,{key:0,span:6},{default:a(()=>[t(r,{label:"项目类型"},{default:a(()=>[t(Fe,{"show-all-levels":!1,modelValue:l(e).projectType,"onUpdate:modelValue":o[20]||(o[20]=n=>l(e).projectType=n),props:l(_).basicSettings.B2BTypeProps,options:l(_).basicSettings.B2BTypeList,"collapse-tags":!0,filterable:"",clearable:""},null,8,["modelValue","props","options"])]),_:1})]),_:1})):b("",!0),l(e).isTimeReleases===2?(c(),f(u,{key:1,span:6},{default:a(()=>[t(r,{label:"发布时间",prop:"releaseTime"},{default:a(()=>[t($e,{type:"datetime","value-format":"YYYY-MM-DD HH:mm:ss",modelValue:l(e).releaseTime,"onUpdate:modelValue":o[21]||(o[21]=n=>l(e).releaseTime=n),placeholder:"请选择时间",disabledDate:_e,onChange:ye},null,8,["modelValue"])]),_:1})]),_:1})):b("",!0)]),_:1}),t(I,null,{default:a(()=>[t(u,{span:24},{default:a(()=>[t(r,{label:"备注"},{default:a(()=>[t(g,{maxlength:"200","show-word-limit":"",type:"textarea",rows:5,modelValue:l(e).remark,"onUpdate:modelValue":o[22]||(o[22]=n=>l(e).remark=n)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}))]),_:1}),l(e).isProfile===1&&!l(e).required?(c(),f(F,{key:0,label:"配置信息",name:"configurationInformation"},{default:a(()=>[l(e).data?(c(),f(U,{key:0},{header:a(()=>[Pt]),default:a(()=>[t(I,{gutter:20},{default:a(()=>[t(u,{span:6},{default:a(()=>[t(r,{label:"选择国家"},{default:a(()=>[t(z,{modelValue:l(e).data.configurationInformation.initialProblem.countryId,"onUpdate:modelValue":o[23]||(o[23]=n=>l(e).data.configurationInformation.initialProblem.countryId=n),filterable:"",clearable:"",placeholder:"Select",onChange:Qe},{default:a(()=>[(c(!0),V(j,null,h(l(e).data.configurationInformation.configurationCountryList,n=>(c(),f(le,{label:n.countryName,value:n.countryId},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:1})]),_:1}),t(u,{span:6},{default:a(()=>[t(r,{label:"问卷名称"},{default:a(()=>[t(z,{modelValue:l(e).data.configurationInformation.initialProblem.projectProblemCategoryId,"onUpdate:modelValue":o[24]||(o[24]=n=>l(e).data.configurationInformation.initialProblem.projectProblemCategoryId=n),clearable:"",placeholder:"Select",onFocus:ee,onChange:te},{default:a(()=>[(c(!0),V(j,null,h(l(e).data.configurationInformation.projectCategoryList,n=>(c(),f(P,{key:n.projectProblemCategoryId,label:n.projectProblemCategoryName,value:n.projectProblemCategoryId},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(e).data.configurationInformation.ProjectProblemInfoList&&l(e).data.configurationInformation.ProjectProblemInfoList.length&&l(e).projectQuotaInfoList.length?(c(!0),V(j,{key:0},h(l(e).data.configurationInformation.ProjectProblemInfoList,(n,$)=>(c(),f(I,{class:"allocation",gutter:20},{default:a(()=>[t(u,{span:20},{default:a(()=>[v(" 问题："+E(n.question),1)]),_:2},1024),t(u,{span:20},{default:a(()=>[t(r,null,{default:a(()=>[n.questionType===1?(c(),f(g,{key:0,disabled:"",placeholder:"输入框无法设置"})):(c(),f(He,{key:1,modelValue:oe(n.id,$).get(),"onUpdate:modelValue":x=>oe(n.id,$).set(x),onChange:x=>De(3,$)},{default:a(()=>[(c(!0),V(j,null,h(n.getProjectAnswerInfoList,x=>(c(),f(M,{label:x.anotherName,value:x.id},null,8,["label","value"]))),256))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"]))]),_:2},1024)]),_:2},1024)]),_:2},1024))),256)):b("",!0)]),_:1})):b("",!0)]),_:1})):b("",!0),l(e).required?b("",!0):(c(),f(F,{key:1,label:"安全信息",name:"securityInformation"},{default:a(()=>[t(U,null,{header:a(()=>[ht]),default:a(()=>[t(I,{gutter:20},{default:a(()=>[t(u,{span:6},{default:a(()=>[t(r,null,{label:a(()=>[jt]),default:a(()=>[t(A,{style:{height:"2rem"},modelValue:l(e).preNum,"onUpdate:modelValue":o[25]||(o[25]=n=>l(e).preNum=n),min:1,step:1,"step-strictly":"","controls-position":"right",size:"large",onKeydown:B},null,8,["modelValue"])]),_:1})]),_:1}),t(u,{span:1}),t(u,{span:6},{default:a(()=>[t(r,null,{label:a(()=>[wt]),default:a(()=>[t(A,{style:{height:"2rem"},modelValue:l(e).limitedQuantity,"onUpdate:modelValue":o[26]||(o[26]=n=>l(e).limitedQuantity=n),min:1,step:1,"step-strictly":"","controls-position":"right",size:"large",onKeydown:B},null,8,["modelValue"])]),_:1})]),_:1}),t(u,{span:1}),t(u,{span:4},{default:a(()=>[t(r,{label:"允许重复参与"},{default:a(()=>[t(m,{modelValue:l(e).ipDifferenceDetection,"onUpdate:modelValue":o[27]||(o[27]=n=>l(e).ipDifferenceDetection=n),"active-value":1,"inactive-value":2},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),Ct,Tt,Ut,xt]),_:1}))]),_:1},8,["modelValue"]),t(dt,{ref_key:"editRef",ref:J,onFetchData:ae},null,512)]),_:1},8,["rules","model"])}}}),aa=ot(St,[["__scopeId","data-v-c7e36825"]]);export{aa as default};
