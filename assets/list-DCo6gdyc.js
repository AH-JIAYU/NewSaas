
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{x as u,d as x,aN as O,r as R,k,G as h,J as S,a as r,p as B,q as P,o as I,b as M,f as e,w as a,g as b,S as U,bl as N,aq as E,R as Q}from"./index-CedPcfav.js";const q={list:n=>u.get("survey/data/list",{params:n,baseURL:"/mock/"}),detail:n=>u.get("survey/data/detail",{params:{id:n},baseURL:"/mock/"}),dataList:n=>u.post("member-dataCenter/getMemberDataCenter",n),create:n=>u.post("survey/data/create",n,{baseURL:"/mock/"}),edit:n=>u.post("survey/data/edit",n,{baseURL:"/mock/"}),delete:n=>u.post("survey/data/delete",{id:n},{baseURL:"/mock/"})},A=x({name:"surveydata",__name:"list",setup(n){const{pagination:w,getParams:H}=O(),t=R({loading:!1,tableAutoHeight:!1,formMode:"router",formModeProps:{visible:!1,id:""},search:{type:"day"},batch:{enable:!1,selectionDataList:[]},memberDataCenterCompletedVOList:[],memberDataCenterRefundVOList:[],memberDataCenterPriceVOList:[],dataScreening:{participationVolume:"",completedQuantity:"",turnover:"",settlementRatio:"",pendingBalance:"",availableBalance:""}}),C=()=>{m()};k(()=>{m(),t.value.formMode==="router"&&h.on("get-data-list",()=>{m()})}),S(()=>{t.value.formMode==="router"&&h.off("get-data-list")});function m(){t.value.loading=!0;const v={clickTime:t.value.search.type};q.dataList(v).then(i=>{t.value.loading=!1,t.value.memberDataCenterCompletedVOList=i.data.memberDataCenterCompletedVOList,t.value.memberDataCenterRefundVOList=i.data.memberDataCenterRefundVOList,t.value.memberDataCenterPriceVOList=i.data.memberDataCenterPriceVOList,t.value.dataScreening=i.data.memberDataCenterOverallOverviewVOList,w.value.total=i.data.total})}return(v,i)=>{const c=r("el-radio-button"),y=r("el-radio-group"),g=r("el-row"),d=N,s=r("ElCol"),L=r("ElRow"),o=r("el-table-column"),p=r("el-table"),f=r("el-card"),_=r("el-col"),D=E,V=B("loading");return P((I(),M("div",{class:U({"absolute-container":t.value.tableAutoHeight})},[e(D,null,{default:a(()=>[e(g,null,{default:a(()=>[e(y,{modelValue:t.value.search.type,"onUpdate:modelValue":i[0]||(i[0]=l=>t.value.search.type=l),onChange:C},{default:a(()=>[e(c,{label:"日",value:"day"}),e(c,{label:"月",value:"month"}),e(c,{label:"年",value:"year"})]),_:1},8,["modelValue"])]),_:1}),e(L,{gutter:24},{default:a(()=>[e(s,null,{default:a(()=>{var l;return[e(d,{header:"参与量",num:((l=t.value.dataScreening)==null?void 0:l.participationVolume)||0,icon:"ant-design:file-outlined"},null,8,["num"])]}),_:1}),e(s,null,{default:a(()=>{var l;return[e(d,{"color-from":"#fbaaa2","color-to":"#fc5286",header:"完成量",num:((l=t.value.dataScreening)==null?void 0:l.completedQuantity)||0,icon:"ant-design:file-outlined"},null,8,["num"])]}),_:1}),e(s,null,{default:a(()=>{var l;return[e(d,{"color-from":"#ff763b","color-to":"#ffc480",header:"营业额",num:((l=t.value.dataScreening)==null?void 0:l.turnover)||0,icon:"ant-design:file-outlined"},null,8,["num"])]}),_:1}),e(s,null,{default:a(()=>{var l;return[e(d,{"color-from":"#6a8eff","color-to":"#0e4cfd",header:"审核率",num:((l=t.value.dataScreening)==null?void 0:l.settlementRatio)||0,icon:"ant-design:file-outlined"},null,8,["num"])]}),_:1}),e(s,null,{default:a(()=>{var l;return[e(d,{"color-from":"#ffd300","color-to":"#ff9b0d",header:"待审金额",num:((l=t.value.dataScreening)==null?void 0:l.pendingBalance)||0,icon:"ant-design:file-outlined"},null,8,["num"])]}),_:1}),e(s,null,{default:a(()=>{var l;return[e(d,{"color-from":"#f49494","color-to":"#fcd98b",header:"可用金额",num:((l=t.value.dataScreening)==null?void 0:l.availableBalance)||0,icon:"ant-design:file-outlined"},null,8,["num"])]}),_:1})]),_:1}),e(g,{gutter:24},{default:a(()=>[e(_,{xs:8,sm:8,md:8,lg:8,xl:8},{default:a(()=>[e(f,null,{header:a(()=>[b(" 完成排行榜 ")]),default:a(()=>[e(p,{data:t.value.memberDataCenterCompletedVOList,style:{width:"100%"}},{default:a(()=>[e(o,{type:"index"}),e(o,{"show-overflow-tooltip":"",align:"center",prop:"memberId",label:"会员ID"}),e(o,{"show-overflow-tooltip":"",align:"center",prop:"memberName",label:"会员名称"}),e(o,{"show-overflow-tooltip":"",align:"center",prop:"completedQuantity",label:"完成数量"})]),_:1},8,["data"])]),_:1})]),_:1}),e(_,{xs:8,sm:8,md:8,lg:8,xl:8},{default:a(()=>[e(f,null,{header:a(()=>[b(" 退款排行榜 ")]),default:a(()=>[e(p,{data:t.value.memberDataCenterRefundVOList,style:{width:"100%"}},{default:a(()=>[e(o,{type:"index"}),e(o,{"show-overflow-tooltip":"",align:"center",prop:"memberId",label:"会员ID"}),e(o,{"show-overflow-tooltip":"",align:"center",prop:"memberName",label:"会员名称"}),e(o,{"show-overflow-tooltip":"",align:"center",prop:"completedQuantity",label:"退款数"}),e(o,{"show-overflow-tooltip":"",width:"110",align:"center",prop:"refund",label:"退款金额"})]),_:1},8,["data"])]),_:1})]),_:1}),e(_,{xs:8,sm:8,md:8,lg:8,xl:8},{default:a(()=>[e(f,null,{header:a(()=>[b(" 业绩排行榜 ")]),default:a(()=>[e(p,{data:t.value.memberDataCenterPriceVOList,style:{width:"100%"}},{default:a(()=>[e(o,{type:"index"}),e(o,{"show-overflow-tooltip":"",align:"center",prop:"memberId",label:"会员ID"}),e(o,{"show-overflow-tooltip":"",align:"center",prop:"memberName",label:"会员名称"}),e(o,{"show-overflow-tooltip":"",align:"center",prop:"price",label:"今日收入"})]),_:1},8,["data"])]),_:1})]),_:1})]),_:1})]),_:1})],2)),[[V,t.value.loading]])}}}),$=Q(A,[["__scopeId","data-v-2ce91e75"]]);export{$ as default};
