
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{v as B}from"./index-28yxYEcO.js";import{a as I}from"./survey_myProjeck-C9M1d4sT.js";import{f as L}from"./file-B4tB6MlV.js";import{D as A}from"./download-C8PHVIy1.js";import{d as E,r as l,a as t,q as F,s as T,o as a,b as i,f as r,w as p,F as w,t as h,e as x,j as y,g as q,z as M,N as P,y as Q,i as k,aM as S,L as G}from"./index-DK9KDSNt.js";const H={key:0,class:"demo-image__preview"},J={style:{"margin-bottom":"5px"}},K={class:"radius flex gap-2 p-2"},O=E({__name:"index",setup(R,{expose:U}){const n=l(!1),v=l(""),e=l({}),c=l([]),u=l([]),d=l(!1);async function C(_){try{if(n.value=!0,v.value="项目详情",_){d.value=!0;const o=await I.getQuotaProjectInfo({projectId:_.projectId});if(e.value=o.data,e.value.descriptionUrl!==""){const m=e.value.descriptionUrl.split(",");u.value=m,m.map(async f=>{const g=await L.detail({fileName:f});c.value.push(g.data.fileUrl)})}d.value=!1}}catch{}finally{d.value=!1}}async function D(){await A(c.value,e.value.descriptionUrl)}function N(){v.value="",e.value={},c.value=[],u.value=[],n.value=!1}return U({showEdit:C}),(_,o)=>{const m=t("el-image"),f=t("el-link"),g=t("el-col"),V=t("el-row"),b=t("el-empty"),j=t("el-dialog"),z=F("loading");return T((a(),i("div",null,[r(j,{modelValue:n.value,"onUpdate:modelValue":o[0]||(o[0]=s=>n.value=s),"append-to-body":"","close-on-click-modal":!1,"destroy-on-close":"",title:v.value,draggable:"",width:"50%",onClose:N},{default:p(()=>[e.value.descriptionUrl?(a(),i("div",H,[(a(!0),i(w,null,h(c.value,s=>(a(),x(m,{style:{width:"6.25rem",height:"6.25rem","margin-right":"5px"},src:s,"preview-src-list":u.value,"zoom-rate":1.2,"max-scale":7,"min-scale":.2,"initial-index":0,fit:"cover"},null,8,["src","preview-src-list"]))),256))])):y("",!0),e.value.descriptionUrl?(a(!0),i(w,{key:1},h(u.value,s=>(a(),i("div",J,[r(f,{style:{padding:"0",margin:"0"},underline:!1,type:"primary",onClick:D},{default:p(()=>[q(M(s)+"下载",1)]),_:2},1024)]))),256)):y("",!0),r(V,{gutter:20,class:P({isNone:!e.value.descriptionUrl})},{default:p(()=>[r(g,{span:24},{default:p(()=>[Q("div",K,[r(k(B),{value:e.value.richText},null,8,["value"])])]),_:1})]),_:1},8,["class"]),e.value.descriptionUrl?y("",!0):(a(),x(b,{key:2,image:k(S),"image-size":300},null,8,["image"]))]),_:1},8,["modelValue","title"])])),[[z,d.value]])}}}),ee=G(O,[["__scopeId","data-v-3a28dad7"]]);export{ee as default};
