
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{ad as u,d as j,aN as E,r as G,o as q,e as M,l as F,a2 as h,al as J,a3 as _,a as c,i,f as s,w as o,b as e,aG as p,t as n,g as f,j as w,h as C,aM as k,A as K,br as L,bs as V,bt as S,ao as W,aH as X,aI as Y,y as Z}from"./index-B2fAK_OG.js";const x={list:l=>u.get("survey/data/list",{params:l,baseURL:"/mock/"}),detail:l=>u.get("survey/data/detail",{params:{id:l},baseURL:"/mock/"}),dataList:l=>u.post("member-dataCenter/getMemberDataCenter",l),create:l=>u.post("survey/data/create",l,{baseURL:"/mock/"}),edit:l=>u.post("survey/data/edit",l,{baseURL:"/mock/"}),delete:l=>u.post("survey/data/delete",{id:l},{baseURL:"/mock/"})},b=l=>(X("data-v-89dd6eed"),l=l(),Y(),l),$={class:"showDataRow",gutter:24},ee={class:"showDataCol"},te={class:"showDataP"},ae={class:"showDataP"},se={class:"showDataP"},oe={class:"showDataCount"},ne={class:"showDataSpanLeft number-font"},le={key:0,class:"showDataSpanRight"},ce=b(()=>e("span",{class:"dd"},null,-1)),ie={class:"participate"},re={class:"number-font"},de={class:"showDataCol"},_e={class:"showDataP"},pe={class:"showDataP"},me={class:"showDataP"},ue={class:"showDataCount"},he={class:"showDataSpanLeft number-font"},fe={key:0,class:"showDataSpanRight"},be=b(()=>e("span",{class:"dd"},null,-1)),ve={class:"participate"},ge={class:"number-font"},ye={class:"showDataCol"},De={class:"showDataP"},we={class:"showDataP"},Ce={class:"showDataP"},ke={class:"showDataCount"},Le={class:"showDataSpanLeft number-font"},Ve={key:0,class:"showDataSpanRight"},Se=b(()=>e("span",{class:"dd"},null,-1)),Pe={class:"participate"},Ie={class:"number-font"},Oe={class:"ranking"},Ne={class:"rankingCol"},Re=b(()=>e("p",{class:"rankingColP"},[e("span",{class:"rankingColSpan"}),f("完成排行榜")],-1)),Qe={class:"center-image"},Me={key:0,src:L},Be={key:1,src:V},Ue={key:2,src:S},ze={key:3,class:"number-font font-c"},Ae={class:"font-c"},He={class:"font-c"},Te={class:"number-font font-c"},je={class:"rankingCol"},Ee=b(()=>e("p",{class:"rankingColP"},[e("span",{class:"rankingColSpan"}),f("退款排行榜")],-1)),Ge={class:"center-image"},qe={key:0,src:L},Fe={key:1,src:V},Je={key:2,src:S},Ke={key:3,class:"number-font font-c"},We={class:"font-c"},Xe={class:"font-c"},Ye={class:"number-font font-c"},Ze={class:"number-font font-c"},xe={class:"rankingCol"},$e=b(()=>e("p",{class:"rankingColP"},[e("span",{class:"rankingColSpan"}),f("业绩排行榜")],-1)),et={class:"center-image"},tt={key:0,src:L},at={key:1,src:V},st={key:2,src:S},ot={key:3,class:"number-font font-c"},nt={class:"font-c"},lt={class:"font-c"},ct={class:"number-font font-c"},it=j({name:"surveydata",__name:"list",setup(l){const{pagination:B,getParams:rt}=E(),a=G({loading:!1,tableAutoHeight:!1,formMode:"router",formModeProps:{visible:!1,id:""},search:{type:"day"},batch:{enable:!1,selectionDataList:[]},memberDataCenterCompletedVOList:[],memberDataCenterRefundVOList:[],memberDataCenterPriceVOList:[],dataScreening:{participationVolume:"",completedQuantity:"",turnover:"",settlementRatio:"",pendingBalance:"",availableBalance:""}}),U=()=>{v()};q(()=>{v(),a.value.formMode==="router"&&M.on("get-data-list",()=>{v()})}),F(()=>{a.value.formMode==="router"&&M.off("get-data-list")});function v(){try{a.value.loading=!0;const g={clickTime:a.value.search.type};x.dataList(g).then(m=>{a.value.loading=!1,a.value.memberDataCenterCompletedVOList=m.data.memberDataCenterCompletedVOList.filter(d=>d.completedQuantity&&d.completedQuantity!=0),a.value.memberDataCenterRefundVOList=m.data.memberDataCenterRefundVOList.filter(d=>d.completedQuantity&&d.completedQuantity!=0),a.value.memberDataCenterPriceVOList=m.data.memberDataCenterPriceVOList.filter(d=>d.price&&d.price!=0),a.value.dataScreening=m.data.memberDataCenterOverallOverviewVOList,B.value.total=m.data.total})}catch{}finally{a.value.loading=!1}}return(g,m)=>{const d=h("el-radio-button"),z=h("el-radio-group"),A=h("el-row"),r=h("el-table-column"),y=h("el-empty"),D=h("el-table"),H=W,T=J("loading");return _((c(),i("div",{class:K({"absolute-container":a.value.tableAutoHeight})},[s(H,null,{default:o(()=>{var P,I,O,N,R,Q;return[s(A,{style:{margin:"0 0 1rem 0"}},{default:o(()=>[s(z,{modelValue:a.value.search.type,"onUpdate:modelValue":m[0]||(m[0]=t=>a.value.search.type=t),onChange:U},{default:o(()=>[s(d,{label:"日",value:"day"}),s(d,{label:"月",value:"month"}),s(d,{label:"年",value:"year"})]),_:1},8,["modelValue"])]),_:1}),e("div",$,[e("div",ee,[_(e("p",te,"今日参与量",512),[[p,a.value.search.type==="day"]]),_(e("p",ae,"当月参与量",512),[[p,a.value.search.type==="month"]]),_(e("p",se,"年度参与量",512),[[p,a.value.search.type==="year"]]),e("div",oe,[e("span",ne,n(((P=a.value.dataScreening)==null?void 0:P.participationVolume)||0),1),a.value.search.type!=="year"?(c(),i("span",le,[ce,e("span",ie,[f(n(a.value.search.type==="month"?"上月":"昨日")+"：",1),e("span",re,n(((I=a.value.dataScreening)==null?void 0:I.participationVolumeDifference)||0),1)])])):w("",!0)])]),e("div",de,[_(e("p",_e,"今日完成量",512),[[p,a.value.search.type==="day"]]),_(e("p",pe,"当月完成量",512),[[p,a.value.search.type==="month"]]),_(e("p",me,"年度完成量",512),[[p,a.value.search.type==="year"]]),e("div",ue,[e("span",he,n(((O=a.value.dataScreening)==null?void 0:O.completedQuantity)||0),1),a.value.search.type!=="year"?(c(),i("span",fe,[be,e("span",ve,[f(n(a.value.search.type==="month"?"上月":"昨日")+"：",1),e("span",ge,n(((N=a.value.dataScreening)==null?void 0:N.completedQuantityDifference)||0),1)])])):w("",!0)])]),e("div",ye,[_(e("p",De,"今日营业额",512),[[p,a.value.search.type==="day"]]),_(e("p",we,"当月营业额",512),[[p,a.value.search.type==="month"]]),_(e("p",Ce,"年度营业额",512),[[p,a.value.search.type==="year"]]),e("div",ke,[e("span",Le,n(((R=a.value.dataScreening)==null?void 0:R.turnover)||0),1),a.value.search.type!=="year"?(c(),i("span",Ve,[Se,e("span",Pe,[f(n(a.value.search.type==="month"?"上月":"昨日")+"：",1),e("span",Ie,n(((Q=a.value.dataScreening)==null?void 0:Q.turnoverDifference)||0),1)])])):w("",!0)])])]),e("div",Oe,[e("div",Ne,[Re,s(D,{data:a.value.memberDataCenterCompletedVOList,class:"tabless",style:{"--el-table-border-color":"none"}},{empty:o(()=>[s(y,{image:C(k),"image-size":300},null,8,["image"])]),default:o(()=>[s(r,{align:"center",type:"index",width:"60",label:"序号"},{default:o(({$index:t})=>[e("div",Qe,[t==0?(c(),i("img",Me)):t==1?(c(),i("img",Be)):t==2?(c(),i("img",Ue)):(c(),i("span",ze,n(t+1),1))])]),_:1}),s(r,{"show-overflow-tooltip":"",align:"left",prop:"memberId",label:"会员ID"},{default:o(({row:t})=>[e("span",Ae,n(t.memberId?t.memberId:"-"),1)]),_:1}),s(r,{"show-overflow-tooltip":"",align:"left",prop:"memberName",label:"会员名称"},{default:o(({row:t})=>[e("span",He,n(t.memberName?t.memberName:"-"),1)]),_:1}),s(r,{"show-overflow-tooltip":"",align:"left",prop:"completedQuantity",label:"完成数量"},{default:o(({row:t})=>[e("span",Te,n(t.completedQuantity?t.completedQuantity:"-"),1)]),_:1})]),_:1},8,["data"])]),e("div",je,[Ee,s(D,{data:a.value.memberDataCenterRefundVOList,style:{"--el-table-border-color":"none"}},{empty:o(()=>[s(y,{image:C(k),"image-size":300},null,8,["image"])]),default:o(()=>[s(r,{align:"center",type:"index",width:"60",label:"序号"},{default:o(({$index:t})=>[e("div",Ge,[t==0?(c(),i("img",qe)):t==1?(c(),i("img",Fe)):t==2?(c(),i("img",Je)):(c(),i("span",Ke,n(t+1),1))])]),_:1}),s(r,{"show-overflow-tooltip":"",align:"left",prop:"memberId",label:"会员ID"},{default:o(({row:t})=>[e("span",We,n(t.memberId?t.memberId:"-"),1)]),_:1}),s(r,{"show-overflow-tooltip":"",align:"left",prop:"memberName",label:"会员名称"},{default:o(({row:t})=>[e("span",Xe,n(t.memberName?t.memberName:"-"),1)]),_:1}),s(r,{"show-overflow-tooltip":"",align:"left",prop:"completedQuantity",label:"退款数"},{default:o(({row:t})=>[e("span",Ye,n(t.completedQuantity?t.completedQuantity:"-"),1)]),_:1}),s(r,{"show-overflow-tooltip":"",align:"left",prop:"refund",label:"退款金额"},{default:o(({row:t})=>[e("span",Ze,n(t.refund?t.refund:0),1)]),_:1})]),_:1},8,["data"])]),e("div",xe,[$e,s(D,{data:a.value.memberDataCenterPriceVOList,style:{"--el-table-border-color":"none"}},{empty:o(()=>[s(y,{image:C(k),"image-size":300},null,8,["image"])]),default:o(()=>[s(r,{align:"center",type:"index",width:"60",label:"序号"},{default:o(({$index:t})=>[e("div",et,[t==0?(c(),i("img",tt)):t==1?(c(),i("img",at)):t==2?(c(),i("img",st)):(c(),i("span",ot,n(t+1),1))])]),_:1}),s(r,{"show-overflow-tooltip":"",align:"left",prop:"memberId",label:"会员ID"},{default:o(({row:t})=>[e("span",nt,n(t.memberId?t.memberId:"-"),1)]),_:1}),s(r,{"show-overflow-tooltip":"",align:"left",prop:"memberName",label:"会员名称"},{default:o(({row:t})=>[e("span",lt,n(t.memberName?t.memberName:"-"),1)]),_:1}),s(r,{"show-overflow-tooltip":"",align:"left",prop:"price",label:"业绩"},{default:o(({row:t})=>[e("span",ct,n(t.price?t.price:0),1)]),_:1})]),_:1},8,["data"])])])]}),_:1})],2)),[[T,a.value.loading]])}}}),_t=Z(it,[["__scopeId","data-v-89dd6eed"]]);export{_t as default};
