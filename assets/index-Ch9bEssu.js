
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{d as M,r as h,a as _,o as u,e as v,w as e,y as r,f as a,g as s,N as w,z as c,b as m,t as R,j,F as H,be as Q,aH as U,aI as q,L as G}from"./index-B69u0njU.js";import{_ as J}from"./index-Dw1z5OFL.js";import{_ as K}from"./index.vue_vue_type_script_setup_true_lang-Dk_7FLoW.js";import{c as W}from"./user_customer-B730exqy.js";import{o as X}from"./apiLoading-BtDcjhku.js";import{u as Y}from"./configuration_manager-DuScAbRv.js";import"./index-CGhjQuIy.js";const k=b=>(U("data-v-7a984cc4"),b=b(),q(),b),Z={class:"card-header"},ee=k(()=>r("div",{class:"leftTitle"},"基本信息",-1)),ae={class:"rightStatus"},te=k(()=>r("div",{class:"card-header"},[r("span",null,"权限信息")],-1)),le={key:0,class:"close"},se={key:1,class:"open"},oe={key:0,class:"close"},ne={key:1,class:"open"},ce={key:0,class:"close"},ue={key:1,class:"open"},de=k(()=>r("div",{class:"card-header"},[r("span",null,"操作日志")],-1)),_e={class:"flex-c"},re=M({__name:"index",emits:["fetch-data"],setup(b,{expose:A,emit:V}){const L=V,y=h(!1),O=Y(),C=h(),t=h(),g=h([]);async function B(i){const f={tenantCustomerId:i.tenantCustomerId};g.value=await O.getStaff();const{status:N,data:l}=await X(W.detail(f));t.value=l,y.value=!0}function S(){L("fetch-data"),y.value=!1}const F=i=>{C.value.showEdit(i)},z=i=>["新增","编辑","启用","禁用"][i-1];return A({showEdit:B}),(i,f)=>{const N=J,l=_("el-text"),o=_("el-form-item"),n=_("el-col"),I=_("el-row"),x=_("el-card"),D=Q,p=_("el-table-column"),T=_("el-button"),E=_("el-table"),P=_("el-form"),$=_("el-drawer");return u(),v($,{modelValue:y.value,"onUpdate:modelValue":f[0]||(f[0]=d=>y.value=d),"append-to-body":"","close-on-click-modal":!1,"destroy-on-close":"",draggable:"",size:"60%",title:"详情",onClose:S},{footer:e(()=>[r("div",_e,[a(T,{type:"primary",onClick:S},{default:e(()=>[s("关闭")]),_:1})])]),default:e(()=>[a(P,{"label-position":"right"},{default:e(()=>[a(x,{class:"box-card"},{header:e(()=>[r("div",Z,[ee,r("div",ae,[r("span",{class:w(t.value.customerStatus===1?"isOnlineSpanFalse":"isOnlineSpanTrue")},null,2),r("div",{class:w(t.value.customerStatus===1?"isOnlineFalse":"isOnlineTrue")},c(t.value.customerStatus===1?"禁用":"启用"),3)])])]),default:e(()=>[a(I,{gutter:24},{default:e(()=>[a(n,{span:8},{default:e(()=>[a(o,{label:"客户编码:"},{default:e(()=>[a(l,{class:"mx-1 copyId"},{default:e(()=>[s(c(t.value.tenantCustomerId?t.value.tenantCustomerId:"-")+" ",1),a(N,{class:"copy",content:t.value.tenantCustomerId},null,8,["content"])]),_:1})]),_:1})]),_:1}),a(n,{span:8},{default:e(()=>[a(o,{label:"客户名称:"},{default:e(()=>[a(l,{class:"mx-1"},{default:e(()=>[s(c(t.value.customerAccord?t.value.customerAccord:"-"),1)]),_:1})]),_:1})]),_:1}),a(n,{span:8},{default:e(()=>[a(o,{label:"客户简称:"},{default:e(()=>[a(l,{class:"mx-1"},{default:e(()=>[s(c(t.value.customerShortName?t.value.customerShortName:"-"),1)]),_:1})]),_:1})]),_:1}),a(n,{span:8},{default:e(()=>[a(o,{label:"公司名称:"},{default:e(()=>[a(l,{class:"mx-1"},{default:e(()=>[s(c(t.value.companyName?t.value.companyName:"-"),1)]),_:1})]),_:1})]),_:1}),a(n,{span:8},{default:e(()=>[a(o,{label:"客户姓名:"},{default:e(()=>[a(l,{class:"mx-1"},{default:e(()=>[s(c(t.value.customerName?t.value.customerName:"-"),1)]),_:1})]),_:1})]),_:1}),a(n,{span:8},{default:e(()=>[a(o,{label:"手机号码:"},{default:e(()=>[a(l,{class:"mx-1"},{default:e(()=>[s(c(t.value.customerPhone?t.value.customerPhone:"-"),1)]),_:1})]),_:1})]),_:1}),a(n,{span:8},{default:e(()=>[a(o,{label:"电子邮箱:"},{default:e(()=>[a(l,{class:"mx-1"},{default:e(()=>[s(c(t.value.emailAddress?t.value.emailAddress:"-"),1)]),_:1})]),_:1})]),_:1}),a(n,{span:8},{default:e(()=>[a(o,{label:"创建人:"},{default:e(()=>[a(l,{class:"mx-1"},{default:e(()=>[s(c(t.value.createName?t.value.createName:"-"),1)]),_:1})]),_:1})]),_:1}),a(n,{span:8},{default:e(()=>[a(o,{label:"创建时间:"},{default:e(()=>[a(l,{class:"mx-1"},{default:e(()=>[s(c(t.value.createTime?t.value.createTime:"-"),1)]),_:1})]),_:1})]),_:1}),a(n,{span:8},{default:e(()=>[a(o,{label:"PM:"},{default:e(()=>[(u(!0),m(H,null,R(g.value,d=>(u(),v(l,{key:d.id},{default:e(()=>[t.value.chargeId===d.id?(u(),v(l,{key:0,class:"mx-1"},{default:e(()=>[s(c(d.userName),1)]),_:2},1024)):j("",!0)]),_:2},1024))),128))]),_:1})]),_:1}),a(n,{span:8},{default:e(()=>[a(o,{label:"结算周期:"},{default:e(()=>[a(l,{class:"mx-1"},{default:e(()=>[s(c(t.value.settlementCycle?t.value.settlementCycle+"天":"-"),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(x,{class:"box-card"},{header:e(()=>[te]),default:e(()=>[a(I,{gutter:24},{default:e(()=>[a(n,{span:8},{default:e(()=>[a(o,{label:"客户状态:"},{default:e(()=>[a(l,{class:"mx-1"},{default:e(()=>[t.value.customerStatus===1?(u(),m("div",le,"关闭")):(u(),m("div",se,"开启"))]),_:1})]),_:1})]),_:1}),a(n,{span:8},{default:e(()=>[a(o,{label:"资料:"},{default:e(()=>[a(l,{class:"mx-1"},{default:e(()=>[t.value.antecedentQuestionnaire===1?(u(),m("div",oe,"关闭")):(u(),m("div",ne,"开启"))]),_:1})]),_:1})]),_:1}),a(n,{span:8},{default:e(()=>[a(o,{label:"风险控制:"},{default:e(()=>[a(l,{class:"mx-1"},{default:e(()=>[t.value.riskControl===1?(u(),m("div",ce,"关闭")):(u(),m("div",ue,"开启"))]),_:1})]),_:1})]),_:1}),a(n,{span:8},{default:e(()=>[a(o,{label:"营业限额/月:"},{default:e(()=>[a(l,{class:"mx-1"},{default:e(()=>[a(D),s(c(t.value.turnover||0),1)]),_:1})]),_:1})]),_:1}),a(n,{span:8},{default:e(()=>[a(o,{label:"审核率Min值:"},{default:e(()=>[a(l,{class:"mx-1"},{default:e(()=>[s(c(t.value.turnover?t.value.turnover+"%":"-"),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(x,{class:"box-card"},{header:e(()=>[de]),default:e(()=>[a(E,{data:t.value.getTenantCustomerOperationInfoList},{default:e(()=>[a(p,{align:"left",type:"index",label:"序号",width:"80"}),a(p,{align:"left",prop:"createTime",label:"操作时间"}),a(p,{align:"left",prop:"createName",label:"操作人"}),a(p,{align:"left",label:"操作事项"},{default:e(({row:d})=>[s(c(z(d.operationType)),1)]),_:1}),a(p,{align:"left",label:"详情"},{default:e(({row:d})=>[d.operationType===2?(u(),v(T,{key:0,type:"primary",link:"",onClick:me=>F(d)},{default:e(()=>[s(" 详情 ")]),_:2},1032,["onClick"])):(u(),v(l,{key:1},{default:e(()=>[s("-")]),_:1}))]),_:1})]),_:1},8,["data"])]),_:1})]),_:1}),a(K,{ref_key:"checkRef",ref:C},null,512)]),_:1},8,["modelValue"])}}}),xe=G(re,[["__scopeId","data-v-7a984cc4"]]);export{xe as default};
