
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import y from"./index-DQQq2nlw.js";import{_ as N}from"./index.vue_vue_type_script_setup_true_lang-3bPmk_ii.js";import{d as j,r as n,a0 as E,a as f,o,b as p,F as T,f as u,w as c,g,n as $,e as v,l as z,j as A,al as h,_ as F}from"./index-DA0dbiYf.js";import"./index-NOk808ug.js";import"./index-DFJLODe7.js";const M={style:{float:"right",position:"sticky",top:"19px",width:"48vw","z-index":"9999999",display:"flex","justify-content":"start","align-items":"start"}},S=j({__name:"index",props:{leftTabsData:Array,validateTopTabs:Array},setup(k){const d=k,m=n(),x=n(),e=n(d.leftTabsData),C=n(d.validateTopTabs);e.value.forEach((t,a)=>{const i=n(null);E(`formRef${a}`,i)});const b=n(0),l=n(0),V={name:"项目名称",platform:{},screen:{},security:{}};function w(){const t=h(e.value[0]);e.value[l.value]=t}function L(){const t=h(e.value[0]);l.value=++b.value,e.value.push({...V,client:m.value,await:t.await,multi:t.multi})}function R(t){e.value.splice(t,1),C.value.splice(t,1),l.value>=e.value.length&&(l.value=Math.max(0,e.value.length-1),b.value=Math.max(0,e.value.length-1))}function _(t){e.value.forEach(a=>{a.client=t}),m.value=t}return(t,a)=>{const i=f("el-button"),B=f("el-tab-pane"),D=f("el-tabs");return o(),p("div",null,[e.value[0].id?(o(),v(y,{key:1,"left-tab":e.value[0],onSetClient:_},null,8,["left-tab"])):(o(),p(T,{key:0},[u(i,{class:"button",disabled:e.value.length>29,onClick:a[0]||(a[0]=s=>L())},{default:c(()=>[g(" 新增 ")]),_:1},8,["disabled"]),u(D,{modelValue:l.value,"onUpdate:modelValue":a[1]||(a[1]=s=>l.value=s),"tab-position":"left",onTabRemove:R},{default:c(()=>[(o(!0),p(T,null,$(e.value,(s,r)=>(o(),v(B,{key:r,style:{position:"relative"},closable:e.value.length!==1,label:s.name,name:r},{default:c(()=>[z("div",M,[l.value>0?(o(),v(i,{key:0,size:"small",type:"primary",round:"",plain:"",onClick:w},{default:c(()=>[g(" 同步数据 ")]),_:1})):A("",!0)]),u(y,{"left-tab":s,"tab-index":r,onSetClient:_},null,8,["left-tab","tab-index"])]),_:2},1032,["closable","label","name"]))),128)),u(N,{ref_key:"settingsRef",ref:x},null,512)]),_:1},8,["modelValue"])],64))])}}}),H=F(S,[["__scopeId","data-v-73061d71"]]);export{H as default};
