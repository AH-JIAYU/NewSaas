
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{d as A,r as f,n as J,a as r,o,e as _,w as e,f as t,b as m,z as u,y as c,g as d,t as g,j as V,F as y,p as K,aG as O,aH as Q,L as W}from"./index-CyYYGH_S.js";import{u as X}from"./department-BQZbTat2.js";import{u as Y}from"./tenant_role-8afPGeLd.js";import{u as Z}from"./configuration_manager-GnCTNOKy.js";import{u as $}from"./position_manage-A-Vz9NjO.js";import"./department--7JQulh1.js";import"./configuration_role-Dis58IEI.js";import"./position_manage-CxVgwWor.js";const M=v=>(O("data-v-fcc429cb"),v=v(),Q(),v),ee=M(()=>c("div",{class:"card-header"},[c("div",{class:"leftTitle"},"基本信息")],-1)),ae={key:1,class:"avatar"},te={style:{"font-size":"14px"}},le=M(()=>c("div",{class:"card-header"},[c("div",{class:"leftTitle"},"角色信息")],-1)),oe={class:"card-header"},se={class:"leftTitle"},ne={style:{"margin-left":"20px","font-size":"14px"}},ue=A({__name:"index",emits:["fetch-data"],setup(v,{expose:z,emit:C}){const L=Z(),N=f([]),B=$(),T=f(),P=Y(),I=f(),j=X(),D=f(),x=f({}),U=C,b=f(!1),l=f();async function E(h){x.value=h;const p={id:h.id},{status:s,data:w}=await K.list(p);l.value=w.data[0],b.value=!0}function F(){U("fetch-data"),b.value=!1}return J(async()=>{T.value=await B.getPositionManage(),N.value=await L.getStaff(),I.value=await P.getRole(),D.value=await j.getDepartment()}),z({showEdit:E}),(h,p)=>{const s=r("el-col"),w=r("el-avatar"),S=r("el-row"),n=r("el-text"),i=r("el-form-item"),k=r("el-card"),R=r("el-radio"),G=r("el-radio-group"),H=r("el-form"),q=r("el-drawer");return o(),_(q,{modelValue:b.value,"onUpdate:modelValue":p[1]||(p[1]=a=>b.value=a),"append-to-body":"","close-on-click-modal":!1,"destroy-on-close":"",draggable:"",size:"60%",title:"详情",onClose:F},{default:e(()=>[t(H,{"label-width":"100px","label-position":"right"},{default:e(()=>[t(k,{class:"box-card"},{header:e(()=>[ee]),default:e(()=>[t(S,{gutter:20},{default:e(()=>[t(s,{span:1}),t(s,{style:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"flex-start"},span:1.5},{default:e(()=>[l.value.avatar?(o(),_(w,{key:0,size:50,src:l.value.avatar},null,8,["src"])):(o(),m("div",ae,u(l.value.name),1))]),_:1}),t(s,{style:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"flex-start"},span:6},{default:e(()=>[c("p",null,u(l.value.userName),1),c("p",te,[d("账号:"),c("span",null,u(l.value.userName),1)])]),_:1})]),_:1}),t(S,{gutter:24},{default:e(()=>[t(s,{span:6},{default:e(()=>[t(i,{label:"员工ID:"},{default:e(()=>[t(n,{class:"mx-1"},{default:e(()=>{var a;return[d(u((a=l.value)!=null&&a.id?l.value.id:"-"),1)]}),_:1})]),_:1})]),_:1}),t(s,{span:6},{default:e(()=>[t(i,{label:"姓名:"},{default:e(()=>[t(n,{class:"mx-1"},{default:e(()=>{var a;return[d(u((a=l.value)!=null&&a.name?l.value.name:"-"),1)]}),_:1})]),_:1})]),_:1}),t(s,{span:6},{default:e(()=>[t(i,{label:"手机号:"},{default:e(()=>[t(n,{class:"mx-1"},{default:e(()=>{var a;return[d(u((a=l.value)!=null&&a.phone?l.value.phone:"-"),1)]}),_:1})]),_:1})]),_:1}),t(s,{span:6},{default:e(()=>[t(i,{label:"邮箱:"},{default:e(()=>[t(n,{class:"mx-1"},{default:e(()=>{var a;return[d(u((a=l.value)!=null&&a.email?l.value.email:"-"),1)]}),_:1})]),_:1})]),_:1}),t(s,{span:6},{default:e(()=>[t(i,{label:"部门:"},{default:e(()=>[(o(!0),m(y,null,g(D.value,a=>(o(),_(n,null,{default:e(()=>[l.value.departmentId===a.id?(o(),_(n,{key:0},{default:e(()=>[d(u(a.name?a.name:"-"),1)]),_:2},1024)):V("",!0)]),_:2},1024))),256))]),_:1})]),_:1}),t(s,{span:6},{default:e(()=>[t(i,{label:"职位:"},{default:e(()=>[(o(!0),m(y,null,g(T.value,a=>(o(),_(n,null,{default:e(()=>[l.value.positionId===a.id?(o(),_(n,{key:0},{default:e(()=>[d(u(a.name?a.name:"-"),1)]),_:2},1024)):V("",!0)]),_:2},1024))),256))]),_:1})]),_:1}),t(s,{span:6},{default:e(()=>[t(i,{label:"帐号状态:"},{default:e(()=>[t(n,{class:"mx-1"},{default:e(()=>{var a;return[d(u((a=l.value)!=null&&a.active?"启用":"禁用"),1)]}),_:1})]),_:1})]),_:1}),t(s,{span:6},{default:e(()=>[t(i,{label:"创建时间:"},{default:e(()=>[t(n,{class:"mx-1"},{default:e(()=>{var a;return[d(u((a=l.value)!=null&&a.createTime?l.value.createTime:"-"),1)]}),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(k,{class:"box-card"},{header:e(()=>[le]),default:e(()=>[t(S,{gutter:24},{default:e(()=>[t(i,{label:"分配角色:"},{default:e(()=>[t(G,{modelValue:x.value.role,"onUpdate:modelValue":p[0]||(p[0]=a=>x.value.role=a)},{default:e(()=>[(o(!0),m(y,null,g(I.value,a=>(o(),_(R,{key:a.id,value:a.roleName,label:a.roleName,disabled:""},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(k,{class:"box-card"},{header:e(()=>[c("div",oe,[c("div",se,[d(" 小组信息"),c("span",ne,[d("PM:"),(o(!0),m(y,null,g(N.value,a=>(o(),_(n,{key:a.id},{default:e(()=>[a.id===x.value.director?(o(),_(n,{key:0},{default:e(()=>[d(u(a.name),1)]),_:2},1024)):V("",!0)]),_:2},1024))),128))])])])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),ve=W(ue,[["__scopeId","data-v-fcc429cb"]]);export{ve as default};
