
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{a as F}from"./survey_vipGroup-DaSABpcl.js";import{o as L}from"./apiLoading-DM3jM3HV.js";import{d as E,aN as M,r as g,M as S,a2 as l,al as q,a as x,c as C,w as t,b as y,f as e,g as i,a3 as Q,h as o,aM as R,t as d,k as T,y as U}from"./index-BBQ0m3JZ.js";const H={class:"parameter"},J={class:"parameter"},K={class:"dialog-footer"},O=E({__name:"index",emits:["fetch-data"],setup(W,{expose:w,emit:X}){const{pagination:n,getParams:z,onSizeChange:A,onCurrentChange:k}=M(),r=g(!1),p=g(!1),h=g([]),v=S({memberGroupId:""});async function I(a){v.memberGroupId=a.memberGroupId,await _(),r.value=!0}async function _(){try{p.value=!0;const a={...z(),...v},{data:c}=await L(F.getProjectList(a));h.value=c.getMemberGroupProjectInfoList,n.value.total=c.total,p.value=!1}catch{}finally{p.value=!1}}function P(a){A(a).then(()=>_())}function V(a=1){k(a).then(()=>_())}function f(){r.value=!1}return w({showEdit:I}),(a,c)=>{const u=l("el-table-column"),m=l("el-text"),D=l("el-empty"),G=l("el-table"),b=l("el-button"),N=l("ElPagination"),j=l("el-dialog"),B=q("loading");return x(),C(j,{modelValue:o(r),"onUpdate:modelValue":c[0]||(c[0]=s=>T(r)?r.value=s:null),title:"承接项目",onClose:f},{footer:t(()=>[y("div",K,[e(b,{onClick:f},{default:t(()=>[i(" 取消 ")]),_:1}),e(b,{type:"primary",onClick:f},{default:t(()=>[i(" 确定 ")]),_:1})])]),default:t(()=>[Q((x(),C(G,{border:"",data:o(h),stripe:""},{empty:t(()=>[e(D,{image:o(R),"image-size":300},null,8,["image"])]),default:t(()=>[e(u,{type:"index",align:"left",label:"序号",width:"55"}),e(u,{align:"left",prop:"projectId","show-overflow-tooltip":"",label:"项目编码"}),e(u,{align:"left",prop:"projectName","show-overflow-tooltip":"",label:"项目名称"}),e(u,{align:"left",prop:"c","show-overflow-tooltip":"",label:"参数"},{default:t(({row:s})=>[y("p",H,[e(m,{class:"mx-1 text",style:{color:"#FB6868"},type:"danger"},{default:t(()=>[i("参与："+d(s.participation||0),1)]),_:2},1024),e(m,{class:"mx-1 text",style:{color:"#03C239"},type:"success"},{default:t(()=>[i("完成："+d(s.comcompleteplete||0),1)]),_:2},1024)]),y("p",J,[e(m,{class:"mx-1 text",style:{color:"#FFAC54"},type:"warning"},{default:t(()=>[i("配额："+d(s.num||0),1)]),_:2},1024),e(m,{class:"mx-1 text",style:{color:"#AAAAAA"},type:"info"},{default:t(()=>[i("限量："+d(s.limitedQuantity||0),1)]),_:2},1024)])]),_:1})]),_:1},8,["data"])),[[B,o(p)]]),e(N,{"current-page":o(n).page,total:o(n).total,"page-size":o(n).size,"page-sizes":o(n).sizes,layout:o(n).layout,"hide-on-single-page":!1,class:"pagination",background:"",onSizeChange:P,onCurrentChange:V},null,8,["current-page","total","page-size","page-sizes","layout"])]),_:1},8,["modelValue"])}}}),ee=U(O,[["__scopeId","data-v-8717e2e4"]]);export{ee as default};
