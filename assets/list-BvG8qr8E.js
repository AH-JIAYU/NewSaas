
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{d as Ce,aH as Ee,r as a,a4 as Se,G as ze,a as n,al as De,o as f,b as Re,f as e,w as t,am as d,e as g,g as s,I as Ie,i as v,R as $e,ak as J,N as Fe,aJ as xe,aK as Me,s as Pe,aF as Ue,aG as Be,l as He,aM as _,_ as Ae}from"./index-fuY6ctZR.js";import{_ as Le}from"./index.vue_vue_type_style_index_0_lang-C3y-OhAH.js";import{_ as Ne}from"./index.vue_vue_type_script_setup_true_lang-BiJWkPpu.js";import{_ as Ve}from"./index.vue_vue_type_script_setup_true_lang-DyP1Ey_M.js";import{_ as je}from"./index.vue_vue_type_script_setup_true_lang-CPFLIdty.js";import{_ as Oe}from"./index.vue_vue_type_script_setup_true_lang-BUlliggG.js";import{_ as Ge}from"./index.vue_vue_type_script_setup_true_lang-osvYw908.js";import{_ as Te}from"./index.vue_vue_type_script_setup_true_lang-ynY629xJ.js";import{_ as qe}from"./index.vue_vue_type_script_setup_true_lang-BpJuPhlh.js";const Je=b=>(Ue("data-v-69cc383f"),b=b(),Be(),b),Ke=Je(()=>He("div",{class:"i-grommet-icons:power-reset h-1em w-1em"},null,-1)),Qe=Ce({name:"ProjectManagementSettlementIndex",__name:"list",setup(b){const{pagination:p,onSizeChange:K,onCurrentChange:Q}=Ee();a("");const W=a(""),B=a(!0),z=a(),H=a(),D=a(),A=a(),L=a(),N=a(),R=a(!1),I=a(!0),V=a([]),h=a(!1),$=a("default"),F=a(!1),c=a([]),j=a([{label:"项目ID",prop:"ID",sortable:!0,disableCheck:!0,checked:!0}]),w=Se({pageNo:1,pageSize:10,title:"",order:{id:"ASC"},select:{}}),O=a([]);function G(i){c.value=i}function X(i){if(!c.value.length)return J({message:"请选择至少一条数据",type:"warning"});c.value.length===1?z.value.showEdit(i):D.value.showEdit(i,c.value)}function Y(){H.value.showEdit()}function Z(i){if(!c.value.length)return J({message:"请选择至少一条数据",type:"warning"});c.value.length===1?z.value.showEdit(i):c.value.length>1&&D.value.showEdit(i,c.value)}function T(i){A.value.showEdit()}function ee(i){L.value.showEdit()}function te(i){N.value.showEdit()}function le(){h.value=!h.value}function oe(i){K(i).then(()=>M())}function x(i=1){Q(i).then(()=>M())}function ne(){Object.assign(w,{pageNo:1,pageSize:10,title:"",order:{id:"ASC"},select:{}})}async function M(){B.value=!0,O.value=[{a:1,b:2,c:3,d:4,e:5,f:6,g:7,h:8,r:9,i:10,id:1},{a:1,b:2,c:3,d:4,e:5,f:6,g:7,h:8,r:9,i:10,id:1},{a:1,b:2,c:3,d:4,e:5,f:6,g:7,h:8,r:9,i:10,id:1},{a:1,b:2,c:3,d:4,e:5,f:6,g:7,h:8,r:9,i:10,id:1},{a:1,b:2,c:3,d:4,e:5,f:6,g:7,h:8,r:9,i:10,id:1},{a:1,b:2,c:3,d:4,e:5,f:6,g:7,h:8,r:9,i:10,id:1}],p.value.total=3,B.value=!1}ze(()=>{M()});function ae(i,l){switch(i){case"auditing":T();break;case"edit":ee();break;case"refundDetails":te();break}}return(i,l)=>{const k=n("el-input"),u=n("el-form-item"),y=n("el-option"),C=n("el-select"),ie=n("el-date-picker"),P=Fe,E=n("ElButton"),se=n("ElFormItem"),re=n("el-form"),ue=Ne,ce=n("ElDivider"),m=n("el-button"),de=Le,pe=xe,fe=Me,_e=n("el-row"),r=n("el-table-column"),U=n("ElDropdownItem"),me=n("ElDropdownMenu"),ge=n("ElDropdown"),ve=n("ElSpace"),be=n("el-empty"),he=n("el-table"),we=n("ElPagination"),ke=Pe,ye=De("loading");return f(),Re("div",{class:$e({"absolute-container":R.value})},[e(ke,null,{default:t(()=>[e(ue,{"show-toggle":!1},{default:t(({fold:o,toggle:S})=>[e(re,{model:w,size:"default","label-width":"6.25rem","inline-message":"",inline:"",class:"search-form"},{default:t(()=>[e(u,{label:""},{default:t(()=>[e(k,{clearable:"",placeholder:"项目ID"})]),_:1}),e(u,{label:""},{default:t(()=>[e(k,{clearable:"",placeholder:"项目名称"})]),_:1}),e(u,{label:""},{default:t(()=>[e(k,{clearable:"",placeholder:"项目标识"})]),_:1}),d(e(u,{label:""},{default:t(()=>[e(C,{placeholder:"国家地区"},{default:t(()=>[(f(),g(y,{key:11,label:11,value:111},{default:t(()=>[s(" 11111 ")]),_:1}))]),_:1})]),_:2},1536),[[_,!o]]),d(e(u,{label:""},{default:t(()=>[e(C,{placeholder:"客户简称"},{default:t(()=>[(f(),g(y,{key:11,label:11,value:111},{default:t(()=>[s(" 11111 ")]),_:1}))]),_:1})]),_:2},1536),[[_,!o]]),d(e(u,{label:""},{default:t(()=>[e(C,{placeholder:"结算状态"},{default:t(()=>[(f(),g(y,{key:11,label:11,value:111},{default:t(()=>[s(" 11111 ")]),_:1}))]),_:1})]),_:2},1536),[[_,!o]]),d(e(u,null,{default:t(()=>[e(k,{clearable:"",placeholder:"创建人"})]),_:2},1536),[[_,!o]]),d(e(u,{label:""},{default:t(()=>[e(C,{placeholder:"时间类型"},{default:t(()=>[(f(),g(y,{key:11,label:11,value:111},{default:t(()=>[s(" 11111 ")]),_:1}))]),_:1})]),_:2},1536),[[_,!o]]),d(e(u,null,{default:t(()=>[e(ie,{modelValue:w.select.time,"onUpdate:modelValue":l[0]||(l[0]=q=>w.select.time=q),type:"daterange","unlink-panels":"","range-separator":"-","start-placeholder":"创建开始日期","end-placeholder":"创建结束日期",size:"default",style:{width:"12rem"},"clear-icon":"true"},null,8,["modelValue"])]),_:2},1536),[[_,!o]]),e(se,null,{default:t(()=>[e(E,{type:"primary",onClick:l[1]||(l[1]=q=>x())},{icon:t(()=>[e(P,{name:"i-ep:search"})]),default:t(()=>[s(" 筛选 ")]),_:1}),e(E,{onClick:ne},{icon:t(()=>[Ke]),default:t(()=>[s(" 重置 ")]),_:1}),e(E,{link:"",onClick:S},{icon:t(()=>[e(P,{name:o?"i-ep:caret-bottom":"i-ep:caret-top"},null,8,["name"])]),default:t(()=>[s(" "+Ie(o?"展开":"收起"),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1032,["model"])]),_:1}),e(ce,{"border-style":"dashed"}),e(_e,{gutter:24},{default:t(()=>[e(de,null,{default:t(()=>[e(m,{type:"primary",size:"default",onClick:Y},{default:t(()=>[s(" 添加结算 ")]),_:1}),e(m,{type:"primary",size:"default",onClick:l[2]||(l[2]=o=>X(1))},{default:t(()=>[s(" 开票 ")]),_:1}),e(m,{type:"primary",size:"default",onClick:l[3]||(l[3]=o=>Z(2))},{default:t(()=>[s(" 结算 ")]),_:1})]),_:1}),e(fe,null,{default:t(()=>[e(m,{size:"default",onClick:l[4]||(l[4]=()=>{})},{default:t(()=>[s(" 导出 ")]),_:1}),e(pe,{border:I.value,"onUpdate:border":l[5]||(l[5]=o=>I.value=o),tableAutoHeight:R.value,"onUpdate:tableAutoHeight":l[6]||(l[6]=o=>R.value=o),checkList:V.value,"onUpdate:checkList":l[7]||(l[7]=o=>V.value=o),columns:j.value,"onUpdate:columns":l[8]||(l[8]=o=>j.value=o),"is-fullscreen":h.value,"onUpdate:isFullscreen":l[9]||(l[9]=o=>h.value=o),"line-height":$.value,"onUpdate:lineHeight":l[10]||(l[10]=o=>$.value=o),stripe:F.value,"onUpdate:stripe":l[11]||(l[11]=o=>F.value=o),style:{"margin-left":".75rem"},onClickFullScreen:le,onQueryData:x},null,8,["border","tableAutoHeight","checkList","columns","is-fullscreen","line-height","stripe"])]),_:1})]),_:1}),d((f(),g(he,{ref_key:"tableSortRef",ref:W,style:{"margin-top":"10px"},"row-key":"id",data:O.value,border:I.value,size:$.value,stripe:F.value,onSelectionChange:G},{empty:t(()=>[e(be,{description:"暂无数据"})]),default:t(()=>[e(r,{type:"selection"}),e(r,{type:"index",align:"center",label:"序号",width:"55"}),e(r,{"show-overflow-tooltip":"",prop:"a",align:"center",label:"项目ID"}),e(r,{"show-overflow-tooltip":"",prop:"b",align:"center",label:"项目名称"}),e(r,{"show-overflow-tooltip":"",prop:"c",align:"center",label:"客户简称/标识"}),e(r,{"show-overflow-tooltip":"",prop:"d",align:"center",label:"原价"}),e(r,{"show-overflow-tooltip":"",prop:"e",align:"center",label:"所属国家"}),e(r,{"show-overflow-tooltip":"",prop:"f",align:"center",label:"系统完成数"}),e(r,{"show-overflow-tooltip":"",prop:"g",align:"center",label:"结算完成数"}),e(r,{"show-overflow-tooltip":"",prop:"h",align:"center",label:"结算PO号"}),e(r,{"show-overflow-tooltip":"",prop:"h",align:"center",label:"结算状态"}),e(r,{"show-overflow-tooltip":"",prop:"h",align:"center",label:"节点时间"}),e(r,{"show-overflow-tooltip":"",prop:"j",align:"center",label:"创建人"}),e(r,{align:"center",label:"操作",width:"190"},{default:t(({row:o})=>[e(ve,null,{default:t(()=>[e(m,{type:"primary",size:"small",plain:"",onClick:l[12]||(l[12]=S=>T(G))},{default:t(()=>[s(" 审核 ")]),_:1}),e(ge,{onCommand:S=>ae(S,o)},{dropdown:t(()=>[e(me,null,{default:t(()=>[e(U,{command:"auditing"},{default:t(()=>[s(" 重审 ")]),_:1}),e(U,{command:"edit"},{default:t(()=>[s(" 结算编辑 ")]),_:1}),e(U,{command:"refundDetails"},{default:t(()=>[s(" 退款详情 ")]),_:1})]),_:1})]),default:t(()=>[e(E,{size:"small"},{default:t(()=>[s(" 更多操作 "),e(P,{name:"i-ep:arrow-down",class:"el-icon--right"})]),_:1})]),_:2},1032,["onCommand"])]),_:2},1024)]),_:1})]),_:1},8,["data","border","size","stripe"])),[[ye,!1]]),e(we,{"current-page":v(p).page,total:v(p).total,"page-size":v(p).size,"page-sizes":v(p).sizes,layout:v(p).layout,"hide-on-single-page":!1,class:"pagination",background:"",onSizeChange:oe,onCurrentChange:x},null,8,["current-page","total","page-size","page-sizes","layout"]),e(Ve,{ref_key:"invoicingRef",ref:z},null,512),e(je,{ref_key:"settlementRef",ref:D},null,512),e(Oe,{ref_key:"auditingRef",ref:A},null,512),e(Ge,{ref_key:"editRef",ref:L},null,512),e(Te,{ref_key:"refundRef",ref:N},null,512),e(qe,{ref_key:"addSettlementRef",ref:H},null,512)]),_:1})],2)}}}),at=Ae(Qe,[["__scopeId","data-v-69cc383f"]]);export{at as default};
