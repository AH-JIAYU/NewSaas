
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{k as v,d as te,O as le,aI as oe,t as ae,r as L,G as ne,H as E,J as se,a as i,al as ie,o as y,b as re,f as t,w as n,i as o,az as w,am as g,g as C,I as ue,p as pe,e as S,j as de,R as me,N as ce,aK as ge,aL as fe,s as be,aG as ve,aH as he,l as _e,aB as b,_ as we,q as z}from"./index-W9H6fTsO.js";import{_ as Ce}from"./index.vue_vue_type_style_index_0_lang-CgUfIc8L.js";import{_ as ke}from"./index.vue_vue_type_script_setup_true_lang-BfLj0h1l.js";import{u as Ve}from"./useTabbar-D19qSLA6.js";const ye={list:r=>v.get("survey/investigation_records/list",{params:r,baseURL:"/mock/"}),detail:r=>v.get("survey/investigation_records/detail",{params:{id:r},baseURL:"/mock/"}),create:r=>v.post("survey/investigation_records/create",r,{baseURL:"/mock/"}),edit:r=>v.post("survey/investigation_records/edit",r,{baseURL:"/mock/"}),delete:r=>v.post("survey/investigation_records/delete",{id:r},{baseURL:"/mock/"})},Ue=r=>(ve("data-v-1f2326cb"),r=r(),he(),r),Le=Ue(()=>_e("div",{class:"i-grommet-icons:power-reset h-1em w-1em"},null,-1)),I=te({name:"SurveyInvestigationRecordsList",__name:"list",setup(r){le();const{pagination:f,getParams:$,onSizeChange:H,onCurrentChange:D,onSortChange:R}=oe();Ve(),ae();const k=L([{label:"等级名称",prop:"a",sortable:!0,disableCheck:!1,checked:!0}]),l=L({loading:!1,tableAutoHeight:!1,border:!0,stripe:!1,lineHeight:"default",checkList:[],formMode:"drawer",formModeProps:{visible:!1,id:""},search:{title:""},batch:{enable:!1,selectionDataList:[]},dataList:[]});ne(()=>{c(),l.value.formMode==="router"&&E.on("get-data-list",()=>{c()})}),se(()=>{l.value.formMode==="router"&&E.off("get-data-list")});function c(){l.value.loading=!0;const m={...$(),...l.value.search.title&&{title:l.value.search.title}};ye.list(m).then(e=>{l.value.loading=!1,l.value.dataList=e.data.list,f.value.total=e.data.total})}function x(){Object.assign(l.value.search,{title:""}),c()}function B(m){H(m).then(()=>c())}function p(m=1){D(m).then(()=>c())}function P({prop:m,order:e}){R(m,e).then(()=>c())}return(m,e)=>{const h=i("ElInput"),d=i("ElFormItem"),_=i("el-select"),A=i("el-date-picker"),T=i("el-form-item"),U=ce,V=i("ElButton"),F=i("ElForm"),K=ke,M=i("ElDivider"),N=Ce,j=i("el-button"),G=ge,O=fe,q=i("el-row"),J=i("el-table-column"),u=i("ElTableColumn"),Q=i("ElSwitch"),W=i("ElTable"),X=i("ElPagination"),Y=be,Z=ie("loading");return y(),re("div",{class:me({"absolute-container":o(l).tableAutoHeight})},[t(Y,null,{default:n(()=>[t(K,{"show-toggle":!1},{default:n(({fold:s,toggle:ee})=>[t(F,{model:o(l).search,size:"default","label-width":"100px","inline-message":"",inline:"",class:"search-form"},{default:n(()=>[t(d,null,{default:n(()=>[t(h,{modelValue:o(l).search.title,"onUpdate:modelValue":e[0]||(e[0]=a=>o(l).search.title=a),placeholder:"请输入标题",clearable:"",onKeydown:e[1]||(e[1]=w(a=>p(),["enter"])),onClear:e[2]||(e[2]=a=>p())},null,8,["modelValue"])]),_:1}),t(d,null,{default:n(()=>[t(h,{modelValue:o(l).search.title,"onUpdate:modelValue":e[3]||(e[3]=a=>o(l).search.title=a),placeholder:"请输入项目名称",clearable:"",onKeydown:e[4]||(e[4]=w(a=>p(),["enter"])),onClear:e[5]||(e[5]=a=>p())},null,8,["modelValue"])]),_:1}),t(d,null,{default:n(()=>[t(h,{modelValue:o(l).search.title,"onUpdate:modelValue":e[6]||(e[6]=a=>o(l).search.title=a),placeholder:"请输入项目标识",clearable:"",onKeydown:e[7]||(e[7]=w(a=>p(),["enter"])),onClear:e[8]||(e[8]=a=>p())},null,8,["modelValue"])]),_:1}),g(t(d,null,{default:n(()=>[t(h,{modelValue:o(l).search.title,"onUpdate:modelValue":e[9]||(e[9]=a=>o(l).search.title=a),placeholder:"请输入会员ID",clearable:"",onKeydown:e[10]||(e[10]=w(a=>p(),["enter"])),onClear:e[11]||(e[11]=a=>p())},null,8,["modelValue"])]),_:2},1536),[[b,!s]]),g(t(d,null,{default:n(()=>[t(_,{modelValue:o(l).search.title,"onUpdate:modelValue":e[12]||(e[12]=a=>o(l).search.title=a),"value-key":"",placeholder:"请选择所属国家",clearable:"",filterable:"",onChange:e[13]||(e[13]=()=>{})},null,8,["modelValue"])]),_:2},1536),[[b,!s]]),g(t(d,null,{default:n(()=>[t(_,{modelValue:o(l).search.title,"onUpdate:modelValue":e[14]||(e[14]=a=>o(l).search.title=a),"value-key":"",placeholder:"请选择客户简称",clearable:"",filterable:"",onChange:e[15]||(e[15]=()=>{})},null,8,["modelValue"])]),_:2},1536),[[b,!s]]),g(t(T,null,{default:n(()=>[t(A,{modelValue:o(l).search.time,"onUpdate:modelValue":e[16]||(e[16]=a=>o(l).search.time=a),type:"daterange","unlink-panels":"","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期",size:"default","clear-icon":"true"},null,8,["modelValue"])]),_:2},1536),[[b,!s]]),g(t(d,null,{default:n(()=>[t(_,{modelValue:o(l).search.title,"onUpdate:modelValue":e[17]||(e[17]=a=>o(l).search.title=a),"value-key":"",placeholder:"请选择状态",clearable:"",filterable:"",onChange:e[18]||(e[18]=()=>{})},null,8,["modelValue"])]),_:2},1536),[[b,!s]]),g(t(d,null,{default:n(()=>[t(_,{modelValue:o(l).search.title,"onUpdate:modelValue":e[19]||(e[19]=a=>o(l).search.title=a),"value-key":"",placeholder:"请选择所属组",clearable:"",filterable:"",onChange:e[20]||(e[20]=()=>{})},null,8,["modelValue"])]),_:2},1536),[[b,!s]]),t(d,null,{default:n(()=>[t(V,{type:"primary",onClick:e[21]||(e[21]=a=>p())},{icon:n(()=>[t(U,{name:"i-ep:search"})]),default:n(()=>[C(" 筛选 ")]),_:1}),t(V,{onClick:x},{icon:n(()=>[Le]),default:n(()=>[C(" 重置 ")]),_:1}),t(V,{link:"",onClick:ee},{icon:n(()=>[t(U,{name:s?"i-ep:caret-bottom":"i-ep:caret-top"},null,8,["name"])]),default:n(()=>[C(" "+ue(s?"展开":"收起"),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1032,["model"])]),_:1}),t(M,{"border-style":"dashed"}),t(q,null,{default:n(()=>[t(N),t(O,null,{default:n(()=>[t(j,{size:"default"},{default:n(()=>[C(" 导出 ")]),_:1}),t(G,{border:o(l).border,"onUpdate:border":e[22]||(e[22]=s=>o(l).border=s),tableAutoHeight:o(l).tableAutoHeight,"onUpdate:tableAutoHeight":e[23]||(e[23]=s=>o(l).tableAutoHeight=s),checkList:o(l).checkList,"onUpdate:checkList":e[24]||(e[24]=s=>o(l).checkList=s),columns:o(k),"onUpdate:columns":e[25]||(e[25]=s=>pe(k)?k.value=s:null),"line-height":o(l).lineHeight,"onUpdate:lineHeight":e[26]||(e[26]=s=>o(l).lineHeight=s),stripe:o(l).stripe,"onUpdate:stripe":e[27]||(e[27]=s=>o(l).stripe=s),style:{"margin-left":"12px"},onQueryData:c},null,8,["border","tableAutoHeight","checkList","columns","line-height","stripe"])]),_:1})]),_:1}),g((y(),S(W,{border:o(l).border,size:o(l).lineHeight,stripe:o(l).stripe,class:"my-4",data:o(l).dataList,"highlight-current-row":"",height:"100%",onSortChange:P,onSelectionChange:e[28]||(e[28]=s=>o(l).batch.selectionDataList=s)},{default:n(()=>[t(J,{align:"center",prop:"a","show-overflow-tooltip":"",type:"selection"}),o(l).batch.enable?(y(),S(u,{key:0,type:"selection",align:"center",fixed:""})):de("",!0),t(u,{align:"center","show-overflow-tooltip":"",prop:"title",label:"会员ID"}),t(u,{align:"center","show-overflow-tooltip":"",prop:"",label:"项目ID"}),t(u,{align:"center","show-overflow-tooltip":"",prop:"",label:"项目名称"}),t(u,{align:"center","show-overflow-tooltip":"",prop:"",label:"客户简称／标识"}),t(u,{align:"center","show-overflow-tooltip":"",prop:"",label:"分配类型"}),t(u,{align:"center","show-overflow-tooltip":"",prop:"",label:"IP／所属国"}),t(u,{align:"center","show-overflow-tooltip":"",prop:"",label:"价格"}),t(u,{align:"center","show-overflow-tooltip":"",prop:"",width:"160",label:"调查开始－调查结束"}),t(u,{align:"center","show-overflow-tooltip":"",prop:"",label:"总耗时"}),t(u,{align:"center","show-overflow-tooltip":"",prop:"",label:"审核事件"}),t(u,{align:"center","show-overflow-tooltip":"",prop:"",label:"状态"},{default:n(()=>[t(Q,{"inline-prompt":"","active-text":"启用","inactive-text":"禁用"})]),_:1})]),_:1},8,["border","size","stripe","data"])),[[Z,o(l).loading]]),t(X,{"current-page":o(f).page,total:o(f).total,"page-size":o(f).size,"page-sizes":o(f).sizes,layout:o(f).layout,"hide-on-single-page":!1,class:"pagination",background:"",onSizeChange:B,onCurrentChange:p},null,8,["current-page","total","page-size","page-sizes","layout"])]),_:1})],2)}}});typeof z=="function"&&z(I);const $e=we(I,[["__scopeId","data-v-1f2326cb"]]);export{$e as default};
