
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{d as K,r as p,k as O,a as c,o,e as d,w as e,f as t,b as v,H as r,s as _,g as n,t as g,j as N,F as x,l as Q,aG as W,aH as X,R as Y}from"./index-rAk_SUAy.js";import{u as Z}from"./department-Do6Fm8oc.js";import{u as $}from"./tenant_role-C47a3r2i.js";import{u as ee}from"./configuration_manager-KUZRMdfx.js";import{u as ae}from"./position_manage-Dk5Jop_L.js";import{u as te}from"./group_manage-DTy6M72L.js";import"./department-BuJpK3GS.js";import"./configuration_role-txYYr6La.js";import"./position_manage-CDyDyvbb.js";import"./group_manage-CtWhhiNY.js";const B=b=>(W("data-v-970264f0"),b=b(),X(),b),le=B(()=>_("div",{class:"card-header"},[_("div",{class:"leftTitle"},"基本信息")],-1)),oe={key:1,class:"avatar"},se={style:{"font-size":"14px"}},ne=B(()=>_("div",{class:"card-header"},[_("div",{class:"leftTitle"},"角色信息")],-1)),ue={class:"card-header"},de={class:"leftTitle"},re={style:{"margin-left":"20px","font-size":"14px"}},ie=K({__name:"index",emits:["fetch-data"],setup(b,{expose:j,emit:P}){const R=ee(),T=p([]),k=te(),w=p([]),U=ae(),M=p(),E=$(),D=p(),F=Z(),C=p(),m=p({}),G=P,y=p(!1),l=p();async function H(S){m.value=S;const f={id:S.id},{status:u,data:V}=await Q.list(f);l.value=V.data[0],y.value=!0}function A(){G("fetch-data"),y.value=!1}return O(async()=>{M.value=await U.getPositionManage(),T.value=await R.getStaff(),D.value=await E.getRole(),C.value=await F.getDepartment(),w.value=await(k==null?void 0:k.getGroupManage())}),j({showEdit:H}),(S,f)=>{const u=c("el-col"),V=c("el-avatar"),h=c("el-row"),s=c("el-text"),i=c("el-form-item"),I=c("el-card"),L=c("el-radio"),z=c("el-radio-group"),q=c("el-form"),J=c("el-drawer");return o(),d(J,{modelValue:y.value,"onUpdate:modelValue":f[2]||(f[2]=a=>y.value=a),"append-to-body":"","close-on-click-modal":!1,"destroy-on-close":"",draggable:"",size:"60%",title:"详情",onClose:A},{default:e(()=>[t(q,{"label-width":"100px","label-position":"right"},{default:e(()=>[t(I,{class:"box-card"},{header:e(()=>[le]),default:e(()=>[t(h,{gutter:20},{default:e(()=>[t(u,{span:1}),t(u,{style:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"flex-start"},span:1.5},{default:e(()=>[l.value.avatar?(o(),d(V,{key:0,size:50,src:l.value.avatar},null,8,["src"])):(o(),v("div",oe,r(l.value.name),1))]),_:1}),t(u,{style:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"flex-start"},span:6},{default:e(()=>[_("p",null,r(l.value.userName),1),_("p",se,[n("账号:"),_("span",null,r(l.value.userName),1)])]),_:1})]),_:1}),t(h,{gutter:24},{default:e(()=>[t(u,{span:6},{default:e(()=>[t(i,{label:"员工ID:"},{default:e(()=>[t(s,{class:"mx-1"},{default:e(()=>{var a;return[n(r((a=l.value)!=null&&a.id?l.value.id:"-"),1)]}),_:1})]),_:1})]),_:1}),t(u,{span:6},{default:e(()=>[t(i,{label:"姓名:"},{default:e(()=>[t(s,{class:"mx-1"},{default:e(()=>{var a;return[n(r((a=l.value)!=null&&a.name?l.value.name:"-"),1)]}),_:1})]),_:1})]),_:1}),t(u,{span:6},{default:e(()=>[t(i,{label:"手机号:"},{default:e(()=>[t(s,{class:"mx-1"},{default:e(()=>{var a;return[n(r((a=l.value)!=null&&a.phone?l.value.phone:"-"),1)]}),_:1})]),_:1})]),_:1}),t(u,{span:6},{default:e(()=>[t(i,{label:"邮箱:"},{default:e(()=>[t(s,{class:"mx-1"},{default:e(()=>{var a;return[n(r((a=l.value)!=null&&a.email?l.value.email:"-"),1)]}),_:1})]),_:1})]),_:1}),t(u,{span:6},{default:e(()=>[t(i,{label:"部门:"},{default:e(()=>[(o(!0),v(x,null,g(C.value,a=>(o(),d(s,null,{default:e(()=>[l.value.departmentId===a.id?(o(),d(s,{key:0},{default:e(()=>[n(r(a.name?a.name:"-"),1)]),_:2},1024)):N("",!0)]),_:2},1024))),256))]),_:1})]),_:1}),t(u,{span:6},{default:e(()=>[t(i,{label:"职位:"},{default:e(()=>[(o(!0),v(x,null,g(M.value,a=>(o(),d(s,null,{default:e(()=>[l.value.positionId===a.id?(o(),d(s,{key:0},{default:e(()=>[n(r(a.name?a.name:"-"),1)]),_:2},1024)):N("",!0)]),_:2},1024))),256))]),_:1})]),_:1}),t(u,{span:6},{default:e(()=>[t(i,{label:"帐号状态:"},{default:e(()=>[t(s,{class:"mx-1"},{default:e(()=>{var a;return[n(r((a=l.value)!=null&&a.active?"启用":"禁用"),1)]}),_:1})]),_:1})]),_:1}),t(u,{span:6},{default:e(()=>[t(i,{label:"创建时间:"},{default:e(()=>[t(s,{class:"mx-1"},{default:e(()=>{var a;return[n(r((a=l.value)!=null&&a.createTime?l.value.createTime:"-"),1)]}),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(I,{class:"box-card"},{header:e(()=>[ne]),default:e(()=>[t(h,{gutter:24},{default:e(()=>[t(i,{label:"分配角色:"},{default:e(()=>[t(z,{modelValue:m.value.role,"onUpdate:modelValue":f[0]||(f[0]=a=>m.value.role=a)},{default:e(()=>[(o(!0),v(x,null,g(D.value,a=>(o(),d(L,{key:a.id,value:a.roleName,label:a.roleName,disabled:""},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(I,{class:"box-card"},{header:e(()=>[_("div",ue,[_("div",de,[n(" 小组信息"),_("span",re,[n("负责人:"),(o(!0),v(x,null,g(T.value,a=>(o(),d(s,{key:a.id},{default:e(()=>[a.id===m.value.director?(o(),d(s,{key:0},{default:e(()=>[n(r(a.name),1)]),_:2},1024)):N("",!0)]),_:2},1024))),128))])])])]),default:e(()=>[t(h,{gutter:24},{default:e(()=>[t(i,{label:"分配小组:"},{default:e(()=>[w.value.length?(o(),d(z,{key:0,modelValue:m.value.groupId,"onUpdate:modelValue":f[1]||(f[1]=a=>m.value.groupId=a)},{default:e(()=>[(o(!0),v(x,null,g(w.value,a=>(o(),d(L,{key:a.id,value:a.id,label:a.name,disabled:""},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])):(o(),d(s,{key:1},{default:e(()=>[n("-")]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),he=Y(ie,[["__scopeId","data-v-970264f0"]]);export{he as default};
