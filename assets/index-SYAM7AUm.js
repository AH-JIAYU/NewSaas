
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{a as x}from"./announcement-quHvIMAw.js";import{d as I,r as i,l as L,E as y,a as n,n as M,p as z,i as o,o as f,b as v,f as t,w as u,a2 as w,a3 as k,g as P,N as T}from"./index-CHTO5iG0.js";const h=I({__name:"index",props:["id","row"],setup(U,{expose:C}){const c=U,_=[{label:"完成计提",value:1},{label:"审核计提",value:2},{label:"收款计提",value:3}],r=i(!1),d=i(),l=i({id:c.id,title:"",type:"",active:!1,text:"",top:!1}),E=i({title:[{required:!0,message:"请输入标题",trigger:"blur"}],type:[{required:!0,message:"请选择类型",trigger:"change"}]});L(()=>{l.value.id!==""&&F()});function F(){r.value=!0,l.value=c.row,r.value=!1}return C({submit(){return new Promise(p=>{l.value.id===""?d.value&&d.value.validate(e=>{e&&(delete l.value.id,r.value=!0,x.create(l.value).then(()=>{r.value=!1,y.success({message:"新增成功",center:!0}),p()}))}):d.value&&d.value.validate(e=>{e&&(r.value=!0,x.edit(l.value).then(()=>{r.value=!1,y.success({message:"编辑成功",center:!0}),p()}))})})}}),(p,e)=>{const m=n("el-input"),s=n("el-form-item"),b=n("el-option"),V=n("el-select"),D=n("el-switch"),g=n("el-col"),N=n("el-row"),R=n("el-checkbox"),q=n("ElForm"),B=M("loading");return z((f(),v("div",null,[t(q,{ref_key:"formRef",ref:d,model:o(l),rules:o(E),"label-width":"130px","label-suffix":"："},{default:u(()=>[t(s,{label:"部门名称",prop:"title"},{default:u(()=>[t(m,{modelValue:o(l).title,"onUpdate:modelValue":e[0]||(e[0]=a=>o(l).title=a),placeholder:"请输入部门名称",clearable:"",onChange:e[1]||(e[1]=()=>{})},null,8,["modelValue"])]),_:1}),t(s,{label:"部门主管",prop:"type"},{default:u(()=>[t(V,{modelValue:o(l).type,"onUpdate:modelValue":e[2]||(e[2]=a=>o(l).type=a),"value-key":"",placeholder:"类型",clearable:"",filterable:""},{default:u(()=>[(f(),v(w,null,k(_,a=>t(b,{key:a.value,label:a.label,value:a.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),t(N,{gutter:20},{default:u(()=>[t(g,{span:8},{default:u(()=>[t(s,{label:"部门提成",prop:"type"},{default:u(()=>[t(D,{modelValue:o(l).active,"onUpdate:modelValue":e[3]||(e[3]=a=>o(l).active=a),"active-text":"启用","inactive-text":"禁用","inline-prompt":"","active-value":!0,"inactive-value":!1},null,8,["modelValue"])]),_:1})]),_:1}),t(g,{span:16},{default:u(()=>[t(s,{label:"提成发放设置",prop:"type"},{default:u(()=>[t(V,{modelValue:o(l).type,"onUpdate:modelValue":e[4]||(e[4]=a=>o(l).type=a),"value-key":"",placeholder:"请选择发放提成方式",clearable:"",filterable:""},{default:u(()=>[(f(),v(w,null,k(_,a=>t(b,{key:a.value,label:a.label,value:a.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(s,{label:"提成比例",prop:"title"},{default:u(()=>[t(m,{modelValue:o(l).title,"onUpdate:modelValue":e[5]||(e[5]=a=>o(l).title=a),placeholder:"请输入提成比例",clearable:"",onChange:e[6]||(e[6]=()=>{})},{append:u(()=>[P("%")]),_:1},8,["modelValue"])]),_:1}),t(s,{label:"备注"},{default:u(()=>[t(m,{modelValue:o(l).title,"onUpdate:modelValue":e[7]||(e[7]=a=>o(l).title=a),type:"textarea",rows:10,placeholder:"请输入备注",clearable:""},null,8,["modelValue"])]),_:1}),t(s,{label:""},{default:u(()=>[t(R,{modelValue:o(l).top,"onUpdate:modelValue":e[8]||(e[8]=a=>o(l).top=a),label:"置顶",size:"large"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])])),[[B,o(r)]])}}}),G=T(h,[["__scopeId","data-v-d1b6d1f5"]]);export{G as default};
