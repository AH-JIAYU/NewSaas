
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{x as d,d as N,aO as x,r as B,k as Q,G as V,J as M,a as p,p as U,q as H,o as A,b as J,f as s,w as l,s as e,H as o,S as T,ao as $,aJ as q,aK as z,g as b,R as E}from"./index-D5QRSD_b.js";const G={list:n=>d.get("survey/data/list",{params:n,baseURL:"/mock/"}),detail:n=>d.get("survey/data/detail",{params:{id:n},baseURL:"/mock/"}),dataList:n=>d.post("member-dataCenter/getMemberDataCenter",n),create:n=>d.post("survey/data/create",n,{baseURL:"/mock/"}),edit:n=>d.post("survey/data/edit",n,{baseURL:"/mock/"}),delete:n=>d.post("survey/data/delete",{id:n},{baseURL:"/mock/"})},r=n=>(q("data-v-169a10e6"),n=n(),z(),n),K={class:"showDataRow",gutter:24},j={class:"showDataCol"},W={class:"showDataP"},X={class:"showDataCount"},Y={class:"showDataSpanLeft"},Z={class:"showDataSpanRight"},ee=r(()=>e("span",{class:"dd"},null,-1)),ae={class:"participate"},te={class:"showDataCol"},se={class:"showDataP"},oe={class:"showDataCount"},le={class:"showDataSpanLeft"},ne={class:"showDataSpanRight"},ie=r(()=>e("span",{class:"dd"},null,-1)),ce={class:"participate"},re={class:"showDataCol"},de={class:"showDataP"},pe={class:"showDataCount"},_e={class:"showDataSpanLeft"},me={class:"showDataSpanRight"},he=r(()=>e("span",{class:"dd"},null,-1)),ue={class:"participate"},ve={class:"showDataCol"},be=r(()=>e("p",{class:"showDataP"},"待审金额",-1)),fe={class:"showDataCount"},ge={class:"showDataSpanLeft"},De={class:"showDataCol"},ye=r(()=>e("p",{class:"showDataP"},"可用余额",-1)),we={class:"showDataCount"},Ce={class:"showDataSpanLeft"},Le={class:"ranking"},Se={class:"rankingCol"},Ve=r(()=>e("p",{class:"rankingColP"},[e("span",{class:"rankingColSpan"}),b("完成排行榜")],-1)),ke={style:{color:"#0F0F0F"}},Fe={style:{color:"#FF2D2D"}},Ie={style:{color:"#00C738"}},Oe={class:"rankingCol"},Pe=r(()=>e("p",{class:"rankingColP"},[e("span",{class:"rankingColSpan"}),b("退款排行榜")],-1)),Re={style:{color:"#0F0F0F"}},Ne={style:{color:"#FF2D2D"}},xe={style:{color:"#00C738"}},Be={style:{color:"#0F0F0F"}},Qe={class:"rankingCol"},Me=r(()=>e("p",{class:"rankingColP"},[e("span",{class:"rankingColSpan"}),b("业绩排行榜")],-1)),Ue={style:{color:"#0F0F0F"}},He={style:{color:"#FF2D2D"}},Ae={style:{color:"#00C738"}},Je=N({name:"surveydata",__name:"list",setup(n){const{pagination:k,getParams:Te}=x(),a=B({loading:!1,tableAutoHeight:!1,formMode:"router",formModeProps:{visible:!1,id:""},search:{type:"day"},batch:{enable:!1,selectionDataList:[]},memberDataCenterCompletedVOList:[],memberDataCenterRefundVOList:[],memberDataCenterPriceVOList:[],dataScreening:{participationVolume:"",completedQuantity:"",turnover:"",settlementRatio:"",pendingBalance:"",availableBalance:""}}),F=()=>{_()};Q(()=>{_(),a.value.formMode==="router"&&V.on("get-data-list",()=>{_()})}),M(()=>{a.value.formMode==="router"&&V.off("get-data-list")});function _(){try{a.value.loading=!0;const m={clickTime:a.value.search.type};G.dataList(m).then(c=>{a.value.loading=!1,a.value.memberDataCenterCompletedVOList=c.data.memberDataCenterCompletedVOList,a.value.memberDataCenterRefundVOList=c.data.memberDataCenterRefundVOList,a.value.memberDataCenterPriceVOList=c.data.memberDataCenterPriceVOList,a.value.dataScreening=c.data.memberDataCenterOverallOverviewVOList,k.value.total=c.data.total})}catch{}finally{a.value.loading=!1}}return(m,c)=>{const h=p("el-radio-button"),I=p("el-radio-group"),O=p("el-row"),i=p("el-table-column"),u=p("el-empty"),v=p("el-table"),P=$,R=U("loading");return H((A(),J("div",{class:T({"absolute-container":a.value.tableAutoHeight})},[s(P,null,{default:l(()=>{var f,g,D,y,w,C,L,S;return[s(O,{style:{margin:"0 0 1rem 0"}},{default:l(()=>[s(I,{modelValue:a.value.search.type,"onUpdate:modelValue":c[0]||(c[0]=t=>a.value.search.type=t),onChange:F},{default:l(()=>[s(h,{label:"日",value:"day"}),s(h,{label:"月",value:"month"}),s(h,{label:"年",value:"year"})]),_:1},8,["modelValue"])]),_:1}),e("div",K,[e("div",j,[e("p",W,o(a.value.search.type==="month"?"当月参与量":"今日参与量"),1),e("div",X,[e("span",Y,o(((f=a.value.dataScreening)==null?void 0:f.participationVolume)||0),1),e("span",Z,[ee,e("span",ae,o(a.value.search.type==="month"?"上月":"昨日")+"："+o(((g=a.value.dataScreening)==null?void 0:g.participationVolumeDifference)||0),1)])])]),e("div",te,[e("p",se,o(a.value.search.type==="month"?"当月完成量":"今日完成量"),1),e("div",oe,[e("span",le,o(((D=a.value.dataScreening)==null?void 0:D.completedQuantity)||0),1),e("span",ne,[ie,e("span",ce,o(a.value.search.type==="month"?"上月":"昨日")+"："+o(((y=a.value.dataScreening)==null?void 0:y.completedQuantityDifference)||0),1)])])]),e("div",re,[e("p",de,o(a.value.search.type==="month"?"当月营业额":"今日营业额"),1),e("div",pe,[e("span",_e,o(((w=a.value.dataScreening)==null?void 0:w.turnover)||0),1),e("span",me,[he,e("span",ue,o(a.value.search.type==="month"?"上月":"昨日")+"："+o(((C=a.value.dataScreening)==null?void 0:C.turnoverDifference)||0),1)])])]),e("div",ve,[be,e("div",fe,[e("span",ge,o(((L=a.value.dataScreening)==null?void 0:L.pendingBalance)||0),1)])]),e("div",De,[ye,e("div",we,[e("span",Ce,o(((S=a.value.dataScreening)==null?void 0:S.availableBalance)||0),1)])])]),e("div",Le,[e("div",Se,[Ve,s(v,{data:a.value.memberDataCenterCompletedVOList,class:"tabless",style:{"--el-table-border-color":"none"}},{empty:l(()=>[s(u,{description:"暂无数据"})]),default:l(()=>[s(i,{align:"center",type:"index",width:"60",label:"序号"}),s(i,{"show-overflow-tooltip":"",width:"180",align:"center",prop:"memberId",label:"会员ID"},{default:l(({row:t})=>[e("span",ke,o(t.memberId?t.memberId:"-"),1)]),_:1}),s(i,{"show-overflow-tooltip":"",align:"center",prop:"memberName",label:"会员名称"},{default:l(({row:t})=>[e("span",Fe,o(t.memberName?t.memberName:"-"),1)]),_:1}),s(i,{"show-overflow-tooltip":"",align:"center",prop:"completedQuantity",label:"完成数量"},{default:l(({row:t})=>[e("span",Ie,o(t.completedQuantity?t.completedQuantity:"-"),1)]),_:1})]),_:1},8,["data"])]),e("div",Oe,[Pe,s(v,{data:a.value.memberDataCenterRefundVOList,style:{"--el-table-border-color":"none"}},{empty:l(()=>[s(u,{description:"暂无数据"})]),default:l(()=>[s(i,{align:"center",type:"index",width:"60",label:"序号"}),s(i,{"show-overflow-tooltip":"",width:"180",align:"center",prop:"memberId",label:"会员ID"},{default:l(({row:t})=>[e("span",Re,o(t.memberId?t.memberId:"-"),1)]),_:1}),s(i,{"show-overflow-tooltip":"",align:"center",prop:"memberName",label:"会员名称"},{default:l(({row:t})=>[e("span",Ne,o(t.memberName?t.memberName:"-"),1)]),_:1}),s(i,{"show-overflow-tooltip":"",align:"center",prop:"completedQuantity",label:"退款数"},{default:l(({row:t})=>[e("span",xe,o(t.completedQuantity?t.completedQuantity:"-"),1)]),_:1}),s(i,{"show-overflow-tooltip":"",align:"center",prop:"refund",label:"退款金额"},{default:l(({row:t})=>[e("span",Be,o(t.refund?t.refund:0),1)]),_:1})]),_:1},8,["data"])]),e("div",Qe,[Me,s(v,{data:a.value.memberDataCenterPriceVOList,style:{"--el-table-border-color":"none"}},{empty:l(()=>[s(u,{description:"暂无数据"})]),default:l(()=>[s(i,{align:"center",type:"index",width:"60",label:"序号"}),s(i,{"show-overflow-tooltip":"",width:"180",align:"center",prop:"memberId",label:"会员ID"},{default:l(({row:t})=>[e("span",Ue,o(t.memberId?t.memberId:"-"),1)]),_:1}),s(i,{"show-overflow-tooltip":"",align:"center",prop:"memberName",label:"会员名称"},{default:l(({row:t})=>[e("span",He,o(t.memberName?t.memberName:"-"),1)]),_:1}),s(i,{"show-overflow-tooltip":"",align:"center",prop:"price",label:"今日收入"},{default:l(({row:t})=>[e("span",Ae,o(t.price?t.price:0),1)]),_:1})]),_:1},8,["data"])])])]}),_:1})],2)),[[R,a.value.loading]])}}}),qe=E(Je,[["__scopeId","data-v-169a10e6"]]);export{qe as default};
