
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{d as K,r as m,k as q,a as _,o,e as r,w as e,f as t,s as i,H as d,g as u,b as g,t as x,j as I,F as b,l as O,E as Q,aJ as W,aK as X,R as Y}from"./index-p_p9xnX-.js";import{u as Z}from"./department-KGzLJYrE.js";import{u as $}from"./tenant_role-C62SrmZE.js";import{u as ee}from"./configuration_manager-YcpmXCN8.js";import{u as ae}from"./position_manage-C2Y7fKpC.js";import{u as te}from"./group_manage-LojzI_Pc.js";import"./department-BpmRdC9T.js";import"./configuration_role-DknHTfdr.js";import"./position_manage-BQa53efF.js";import"./group_manage-A9xJvVne.js";const B=y=>(W("data-v-3464f75b"),y=y(),X(),y),le=B(()=>i("div",{class:"card-header"},[i("div",{class:"leftTitle"},"基本信息")],-1)),oe={class:"avatar"},se={style:{"font-size":"14px"}},ne=B(()=>i("div",{class:"card-header"},[i("div",{class:"leftTitle"},"角色信息")],-1)),ue={class:"card-header"},de={class:"leftTitle"},re={style:{"margin-left":"20px","font-size":"14px"}},ie=K({__name:"index",emits:["fetch-data"],setup(y,{expose:E,emit:j}){const z=ee(),M=m([]),w=te(),S=m([]),P=ae(),N=m(),R=$(),T=m(),U=Z(),D=m(),p=m({}),F=j,h=m(!1),l=m();async function A(k){p.value=k;const f={id:k.id},{status:s,data:v}=await O.list(f);l.value=v.data[0],s===1&&Q.success({message:"查询成功",center:!0}),h.value=!0}function G(){F("fetch-data"),h.value=!1}return q(async()=>{N.value=await P.getPositionManage(),M.value=await z.getStaff(),T.value=await R.getRole(),D.value=await U.getDepartment(),S.value=await(w==null?void 0:w.getGroupManage())}),E({showEdit:A}),(k,f)=>{const s=_("el-col"),v=_("el-row"),n=_("el-text"),c=_("el-form-item"),V=_("el-card"),C=_("el-radio"),L=_("el-radio-group"),H=_("el-form"),J=_("el-drawer");return o(),r(J,{modelValue:h.value,"onUpdate:modelValue":f[2]||(f[2]=a=>h.value=a),"append-to-body":"","close-on-click-modal":!1,"destroy-on-close":"",draggable:"",size:"60%",title:"详情",onClose:G},{default:e(()=>[t(H,{"label-width":"100px","label-position":"right"},{default:e(()=>[t(V,{class:"box-card"},{header:e(()=>[le]),default:e(()=>[t(v,{gutter:20},{default:e(()=>[t(s,{span:1}),t(s,{style:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"flex-start"},span:1.5},{default:e(()=>[i("div",oe,d(l.value.name),1)]),_:1}),t(s,{style:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"flex-start"},span:6},{default:e(()=>[i("p",null,d(l.value.userName),1),i("p",se,[u("账号:"),i("span",null,d(l.value.userName),1)])]),_:1})]),_:1}),t(v,{gutter:24},{default:e(()=>[t(s,{span:6},{default:e(()=>[t(c,{label:"员工ID:"},{default:e(()=>[t(n,{class:"mx-1"},{default:e(()=>{var a;return[u(d((a=l.value)!=null&&a.id?l.value.id:"-"),1)]}),_:1})]),_:1})]),_:1}),t(s,{span:6},{default:e(()=>[t(c,{label:"姓名:"},{default:e(()=>[t(n,{class:"mx-1"},{default:e(()=>{var a;return[u(d((a=l.value)!=null&&a.name?l.value.name:"-"),1)]}),_:1})]),_:1})]),_:1}),t(s,{span:6},{default:e(()=>[t(c,{label:"手机号:"},{default:e(()=>[t(n,{class:"mx-1"},{default:e(()=>{var a;return[u(d((a=l.value)!=null&&a.phone?l.value.phone:"-"),1)]}),_:1})]),_:1})]),_:1}),t(s,{span:6},{default:e(()=>[t(c,{label:"邮箱:"},{default:e(()=>[t(n,{class:"mx-1"},{default:e(()=>{var a;return[u(d((a=l.value)!=null&&a.email?l.value.email:"-"),1)]}),_:1})]),_:1})]),_:1}),t(s,{span:6},{default:e(()=>[t(c,{label:"部门:"},{default:e(()=>[(o(!0),g(b,null,x(D.value,a=>(o(),r(n,null,{default:e(()=>[l.value.departmentId===a.id?(o(),r(n,{key:0},{default:e(()=>[u(d(a.name?a.name:"-"),1)]),_:2},1024)):I("",!0)]),_:2},1024))),256))]),_:1})]),_:1}),t(s,{span:6},{default:e(()=>[t(c,{label:"职位:"},{default:e(()=>[(o(!0),g(b,null,x(N.value,a=>(o(),r(n,null,{default:e(()=>[l.value.positionId===a.id?(o(),r(n,{key:0},{default:e(()=>[u(d(a.name?a.name:"-"),1)]),_:2},1024)):I("",!0)]),_:2},1024))),256))]),_:1})]),_:1}),t(s,{span:6},{default:e(()=>[t(c,{label:"帐号状态:"},{default:e(()=>[t(n,{class:"mx-1"},{default:e(()=>{var a;return[u(d((a=l.value)!=null&&a.active?"启用":"禁用"),1)]}),_:1})]),_:1})]),_:1}),t(s,{span:6},{default:e(()=>[t(c,{label:"创建时间:"},{default:e(()=>[t(n,{class:"mx-1"},{default:e(()=>{var a;return[u(d((a=l.value)!=null&&a.createTime?l.value.createTime:"-"),1)]}),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(V,{class:"box-card"},{header:e(()=>[ne]),default:e(()=>[t(v,{gutter:24},{default:e(()=>[t(c,{label:"分配角色:"},{default:e(()=>[t(L,{modelValue:p.value.role,"onUpdate:modelValue":f[0]||(f[0]=a=>p.value.role=a)},{default:e(()=>[(o(!0),g(b,null,x(T.value,a=>(o(),r(C,{key:a.id,value:a.roleName,label:a.roleName,disabled:""},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(V,{class:"box-card"},{header:e(()=>[i("div",ue,[i("div",de,[u(" 小组信息"),i("span",re,[u("负责人:"),(o(!0),g(b,null,x(M.value,a=>(o(),r(n,{key:a.id},{default:e(()=>[a.id===p.value.director?(o(),r(n,{key:0},{default:e(()=>[u(d(a.name),1)]),_:2},1024)):I("",!0)]),_:2},1024))),128))])])])]),default:e(()=>[t(v,{gutter:24},{default:e(()=>[t(c,{label:"分配小组:"},{default:e(()=>[S.value.length?(o(),r(L,{key:0,modelValue:p.value.groupId,"onUpdate:modelValue":f[1]||(f[1]=a=>p.value.groupId=a)},{default:e(()=>[(o(!0),g(b,null,x(S.value,a=>(o(),r(C,{key:a.id,value:a.id,label:a.name,disabled:""},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])):(o(),r(n,{key:1},{default:e(()=>[u("-")]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),he=Y(ie,[["__scopeId","data-v-3464f75b"]]);export{he as default};
