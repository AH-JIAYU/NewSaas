
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{k as u,d as T,aN as j,r as E,n as G,x as B,B as x,a as h,q as F,s as _,o as c,b as i,f as s,w as o,y as e,aG as p,z as n,g as f,j as w,i as C,aM as k,N as J,bq as L,br as V,bs as S,an as K,aH as W,aI as X,L as Y}from"./index-_ZCnD6Ix.js";const Z={list:l=>u.get("survey/data/list",{params:l,baseURL:"/mock/"}),detail:l=>u.get("survey/data/detail",{params:{id:l},baseURL:"/mock/"}),dataList:l=>u.post("member-dataCenter/getMemberDataCenter",l),create:l=>u.post("survey/data/create",l,{baseURL:"/mock/"}),edit:l=>u.post("survey/data/edit",l,{baseURL:"/mock/"}),delete:l=>u.post("survey/data/delete",{id:l},{baseURL:"/mock/"})},b=l=>(W("data-v-33827edc"),l=l(),X(),l),$={class:"showDataRow",gutter:24},ee={class:"showDataCol"},te={class:"showDataP"},ae={class:"showDataP"},se={class:"showDataP"},oe={class:"showDataCount"},ne={class:"showDataSpanLeft number-font"},le={key:0,class:"showDataSpanRight"},ce=b(()=>e("span",{class:"dd"},null,-1)),ie={class:"participate"},re={class:"number-font"},de={class:"showDataCol"},_e={class:"showDataP"},pe={class:"showDataP"},me={class:"showDataP"},ue={class:"showDataCount"},he={class:"showDataSpanLeft number-font"},fe={key:0,class:"showDataSpanRight"},be=b(()=>e("span",{class:"dd"},null,-1)),ve={class:"participate"},ge={class:"number-font"},ye={class:"showDataCol"},De={class:"showDataP"},we={class:"showDataP"},Ce={class:"showDataP"},ke={class:"showDataCount"},Le={class:"showDataSpanLeft number-font"},Ve={key:0,class:"showDataSpanRight"},Se=b(()=>e("span",{class:"dd"},null,-1)),Pe={class:"participate"},Ie={class:"number-font"},Ne={class:"ranking"},Oe={class:"rankingCol"},Re=b(()=>e("p",{class:"rankingColP"},[e("span",{class:"rankingColSpan"}),f("完成排行榜")],-1)),Qe={class:"center-image"},Be={key:0,src:L},Me={key:1,src:V},Ue={key:2,src:S},ze={key:3,class:"number-font font-c"},He={class:"font-c"},qe={class:"font-c"},Ae={class:"number-font font-c"},Te={class:"rankingCol"},je=b(()=>e("p",{class:"rankingColP"},[e("span",{class:"rankingColSpan"}),f("退款排行榜")],-1)),Ee={class:"center-image"},Ge={key:0,src:L},xe={key:1,src:V},Fe={key:2,src:S},Je={key:3,class:"number-font font-c"},Ke={class:"font-c"},We={class:"font-c"},Xe={class:"number-font font-c"},Ye={class:"number-font font-c"},Ze={class:"rankingCol"},$e=b(()=>e("p",{class:"rankingColP"},[e("span",{class:"rankingColSpan"}),f("业绩排行榜")],-1)),et={class:"center-image"},tt={key:0,src:L},at={key:1,src:V},st={key:2,src:S},ot={key:3,class:"number-font font-c"},nt={class:"font-c"},lt={class:"font-c"},ct={class:"number-font font-c"},it=T({name:"surveydata",__name:"list",setup(l){const{pagination:M,getParams:rt}=j(),a=E({loading:!1,tableAutoHeight:!1,formMode:"router",formModeProps:{visible:!1,id:""},search:{type:"day"},batch:{enable:!1,selectionDataList:[]},memberDataCenterCompletedVOList:[],memberDataCenterRefundVOList:[],memberDataCenterPriceVOList:[],dataScreening:{participationVolume:"",completedQuantity:"",turnover:"",settlementRatio:"",pendingBalance:"",availableBalance:""}}),U=()=>{v()};G(()=>{v(),a.value.formMode==="router"&&B.on("get-data-list",()=>{v()})}),x(()=>{a.value.formMode==="router"&&B.off("get-data-list")});function v(){try{a.value.loading=!0;const g={clickTime:a.value.search.type};Z.dataList(g).then(m=>{a.value.loading=!1,a.value.memberDataCenterCompletedVOList=m.data.memberDataCenterCompletedVOList.filter(d=>d.completedQuantity&&d.completedQuantity!=0),a.value.memberDataCenterRefundVOList=m.data.memberDataCenterRefundVOList.filter(d=>d.completedQuantity&&d.completedQuantity!=0),a.value.memberDataCenterPriceVOList=m.data.memberDataCenterPriceVOList.filter(d=>d.price&&d.price!=0),a.value.dataScreening=m.data.memberDataCenterOverallOverviewVOList,M.value.total=m.data.total})}catch{}finally{a.value.loading=!1}}return(g,m)=>{const d=h("el-radio-button"),z=h("el-radio-group"),H=h("el-row"),r=h("el-table-column"),y=h("el-empty"),D=h("el-table"),q=K,A=F("loading");return _((c(),i("div",{class:J({"absolute-container":a.value.tableAutoHeight})},[s(q,null,{default:o(()=>{var P,I,N,O,R,Q;return[s(H,{style:{margin:"0 0 1rem 0"}},{default:o(()=>[s(z,{modelValue:a.value.search.type,"onUpdate:modelValue":m[0]||(m[0]=t=>a.value.search.type=t),onChange:U},{default:o(()=>[s(d,{label:"日",value:"day"}),s(d,{label:"月",value:"month"}),s(d,{label:"年",value:"year"})]),_:1},8,["modelValue"])]),_:1}),e("div",$,[e("div",ee,[_(e("p",te,"今日参与量",512),[[p,a.value.search.type==="day"]]),_(e("p",ae,"当月参与量",512),[[p,a.value.search.type==="month"]]),_(e("p",se,"年度参与量",512),[[p,a.value.search.type==="year"]]),e("div",oe,[e("span",ne,n(((P=a.value.dataScreening)==null?void 0:P.participationVolume)||0),1),a.value.search.type!=="year"?(c(),i("span",le,[ce,e("span",ie,[f(n(a.value.search.type==="month"?"上月":"昨日")+"：",1),e("span",re,n(((I=a.value.dataScreening)==null?void 0:I.participationVolumeDifference)||0),1)])])):w("",!0)])]),e("div",de,[_(e("p",_e,"今日完成量",512),[[p,a.value.search.type==="day"]]),_(e("p",pe,"当月完成量",512),[[p,a.value.search.type==="month"]]),_(e("p",me,"年度完成量",512),[[p,a.value.search.type==="year"]]),e("div",ue,[e("span",he,n(((N=a.value.dataScreening)==null?void 0:N.completedQuantity)||0),1),a.value.search.type!=="year"?(c(),i("span",fe,[be,e("span",ve,[f(n(a.value.search.type==="month"?"上月":"昨日")+"：",1),e("span",ge,n(((O=a.value.dataScreening)==null?void 0:O.completedQuantityDifference)||0),1)])])):w("",!0)])]),e("div",ye,[_(e("p",De,"今日营业额",512),[[p,a.value.search.type==="day"]]),_(e("p",we,"当月营业额",512),[[p,a.value.search.type==="month"]]),_(e("p",Ce,"年度营业额",512),[[p,a.value.search.type==="year"]]),e("div",ke,[e("span",Le,n(((R=a.value.dataScreening)==null?void 0:R.turnover)||0),1),a.value.search.type!=="year"?(c(),i("span",Ve,[Se,e("span",Pe,[f(n(a.value.search.type==="month"?"上月":"昨日")+"：",1),e("span",Ie,n(((Q=a.value.dataScreening)==null?void 0:Q.turnoverDifference)||0),1)])])):w("",!0)])])]),e("div",Ne,[e("div",Oe,[Re,s(D,{data:a.value.memberDataCenterCompletedVOList,class:"tabless",style:{"--el-table-border-color":"none"}},{empty:o(()=>[s(y,{image:C(k),"image-size":300},null,8,["image"])]),default:o(()=>[s(r,{align:"center",type:"index",width:"60",label:"序号"},{default:o(({$index:t})=>[e("div",Qe,[t==0?(c(),i("img",Be)):t==1?(c(),i("img",Me)):t==2?(c(),i("img",Ue)):(c(),i("span",ze,n(t+1),1))])]),_:1}),s(r,{"show-overflow-tooltip":"",align:"left",prop:"memberId",label:"会员ID"},{default:o(({row:t})=>[e("span",He,n(t.memberId?t.memberId:"-"),1)]),_:1}),s(r,{"show-overflow-tooltip":"",align:"left",prop:"memberName",label:"会员名称"},{default:o(({row:t})=>[e("span",qe,n(t.memberName?t.memberName:"-"),1)]),_:1}),s(r,{"show-overflow-tooltip":"",align:"left",prop:"completedQuantity",label:"完成数量"},{default:o(({row:t})=>[e("span",Ae,n(t.completedQuantity?t.completedQuantity:"-"),1)]),_:1})]),_:1},8,["data"])]),e("div",Te,[je,s(D,{data:a.value.memberDataCenterRefundVOList,style:{"--el-table-border-color":"none"}},{empty:o(()=>[s(y,{image:C(k),"image-size":300},null,8,["image"])]),default:o(()=>[s(r,{align:"center",type:"index",width:"60",label:"序号"},{default:o(({$index:t})=>[e("div",Ee,[t==0?(c(),i("img",Ge)):t==1?(c(),i("img",xe)):t==2?(c(),i("img",Fe)):(c(),i("span",Je,n(t+1),1))])]),_:1}),s(r,{"show-overflow-tooltip":"",align:"left",prop:"memberId",label:"会员ID"},{default:o(({row:t})=>[e("span",Ke,n(t.memberId?t.memberId:"-"),1)]),_:1}),s(r,{"show-overflow-tooltip":"",align:"left",prop:"memberName",label:"会员名称"},{default:o(({row:t})=>[e("span",We,n(t.memberName?t.memberName:"-"),1)]),_:1}),s(r,{"show-overflow-tooltip":"",align:"left",prop:"completedQuantity",label:"退款数"},{default:o(({row:t})=>[e("span",Xe,n(t.completedQuantity?t.completedQuantity:"-"),1)]),_:1}),s(r,{"show-overflow-tooltip":"",align:"left",prop:"refund",label:"退款金额"},{default:o(({row:t})=>[e("span",Ye,n(t.refund?t.refund:0),1)]),_:1})]),_:1},8,["data"])]),e("div",Ze,[$e,s(D,{data:a.value.memberDataCenterPriceVOList,style:{"--el-table-border-color":"none"}},{empty:o(()=>[s(y,{image:C(k),"image-size":300},null,8,["image"])]),default:o(()=>[s(r,{align:"center",type:"index",width:"60",label:"序号"},{default:o(({$index:t})=>[e("div",et,[t==0?(c(),i("img",tt)):t==1?(c(),i("img",at)):t==2?(c(),i("img",st)):(c(),i("span",ot,n(t+1),1))])]),_:1}),s(r,{"show-overflow-tooltip":"",align:"left",prop:"memberId",label:"会员ID"},{default:o(({row:t})=>[e("span",nt,n(t.memberId?t.memberId:"-"),1)]),_:1}),s(r,{"show-overflow-tooltip":"",align:"left",prop:"memberName",label:"会员名称"},{default:o(({row:t})=>[e("span",lt,n(t.memberName?t.memberName:"-"),1)]),_:1}),s(r,{"show-overflow-tooltip":"",align:"left",prop:"price",label:"业绩"},{default:o(({row:t})=>[e("span",ct,n(t.price?t.price:0),1)]),_:1})]),_:1},8,["data"])])])]}),_:1})],2)),[[A,a.value.loading]])}}}),_t=Y(it,[["__scopeId","data-v-33827edc"]]);export{_t as default};
