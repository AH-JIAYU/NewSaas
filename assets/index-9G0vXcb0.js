
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{k as m,d as E,r as n,a as u,al as R,o as b,b as U,f as a,w as t,C as _,g as s,am as h,e as T,E as B,P as L}from"./index-BfeO8snE.js";const O={list:o=>m.post("tenant-update-record/get/getTenantUpdateRecordList",o),create:o=>m.post("notice/insert/insertNotice",o),edit:o=>m.post("tenant-update-record/update/updateTenantUpdateRecord",o),delete:o=>m.post("notice/delete/deleteNotice",o)},S={class:"shenhe"},P={class:"beizhu"},q={style:{"margin-top":"10px"}},M={style:{flex:"auto"}},$=E({name:"ProjectReview",__name:"index",emits:["success"],setup(o,{expose:V,emit:H}){const k=n(!1),f=n(),e=n({type:"",remark:"",projectClickIdList:[],arr:[]}),x=n({type:[{required:!0,message:"请选择审核方式",trigger:"change"}],arr:[{required:!0,message:"请输入至少一个ID",trigger:"blur"}]}),p=n();n(!1);const d=n(!1);async function j(c){c&&(f.value=JSON.parse(c),e.value.projectId=f.value.projectId,e.value.projectName=f.value.projectName),d.value=!0}async function w(){p.value&&p.value.validate(async c=>{if(c){e.value.projectClickIdList=e.value.arr.split(`
`)||[],delete e.value.arr,console.log("formData.value",e.value);const l=await O.edit(e.value);console.log("res",l)}else B({message:"请检查必填项",type:"warning"})})}function z(){p.value.resetFields(),Object.assign(e.value,{type:"",remark:"",projectClickIdList:[]}),e.value.arr=[],d.value=!1}return V({showEdit:j}),(c,l)=>{const i=u("el-radio"),C=u("el-radio-group"),v=u("el-form-item"),g=u("el-input"),I=u("el-form"),y=u("el-button"),N=u("el-drawer"),D=R("loading");return b(),U("div",null,[a(N,{modelValue:d.value,"onUpdate:modelValue":l[4]||(l[4]=r=>d.value=r),title:"记录变更",size:"50%","before-close":z},{footer:t(()=>[_("div",M,[a(y,{type:"primary",onClick:w},{default:t(()=>[s(" 确定 ")]),_:1}),a(y,{onClick:l[3]||(l[3]=r=>d.value=!1)},{default:t(()=>[s(" 取消 ")]),_:1})])]),default:t(()=>[h((b(),T(I,{ref_key:"formRef",ref:p,model:e.value,rules:x.value,"label-width":"174px",inline:!1},{default:t(()=>[_("div",S,[a(v,{prop:"type",style:{display:"flex","align-items":"center"},label:"变更状态"},{default:t(()=>[a(C,{modelValue:e.value.type,"onUpdate:modelValue":l[0]||(l[0]=r=>e.value.type=r)},{default:t(()=>[a(i,{value:1,size:"large"},{default:t(()=>[s(" 完成 ")]),_:1}),a(i,{value:7,size:"large"},{default:t(()=>[s(" 审核通过 ")]),_:1}),a(i,{value:8,size:"large"},{default:t(()=>[s(" 审核失败 ")]),_:1}),a(i,{value:9,size:"large"},{default:t(()=>[s(" 数据冻结 ")]),_:1}),a(i,{value:2,size:"large"},{default:t(()=>[s(" 被甄别 ")]),_:1}),a(i,{value:3,size:"large"},{default:t(()=>[s(" 配额满 ")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_("div",P,[a(v,{label:"备注"},{default:t(()=>[a(g,{class:"custom-input",modelValue:e.value.remark,"onUpdate:modelValue":l[1]||(l[1]=r=>e.value.remark=r),placeholder:"",clearable:""},null,8,["modelValue"])]),_:1})]),_("div",q,[a(v,{prop:"arr"},{default:t(()=>[a(g,{modelValue:e.value.arr,"onUpdate:modelValue":l[2]||(l[2]=r=>e.value.arr=r),placeholder:"请粘贴ID，每行一个,多个请回车换行",type:"textarea",rows:"15"},null,8,["modelValue"])]),_:1})])]),_:1},8,["model","rules"])),[[D,k.value]])]),_:1},8,["modelValue"])])}}}),F=L($,[["__scopeId","data-v-bc952322"]]),A=Object.freeze(Object.defineProperty({__proto__:null,default:F},Symbol.toStringTag,{value:"Module"}));export{F as E,O as a,A as i};
