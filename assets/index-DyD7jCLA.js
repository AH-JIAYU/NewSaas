
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{d as E,l as M,r as y,c as S,n as F,a as c,q,o as i,b as g,i as a,e as d,w as t,v as b,f as l,g as u,s as H,A as _,O,F as C,t as U,j as k,ai as $,be as G,M as J}from"./index-FOy5HeQJ.js";import{_ as K}from"./index-CmkUgVIL.js";import"./index-CzPZOUZY.js";import"./clipboard-9lrQotiC.js";const Q={class:"copyId"},R={class:"id oneLine"},W={style:{"text-align":"center"}},X=E({name:"ProjeckEdit",__name:"index",setup(Y,{expose:w}){const h=M(),o=y({dialogTableVisible:!1,title:"",type:"",loading:"",tableData:[],staffList:[]}),v=y([]);async function j(s){o.value.loading=!0,o.value.dialogTableVisible=!0;const r=await $.getCustomerProjectList({tenantCustomerId:s.tenantCustomerId});o.value.tableData=r.data.getTenantCustomerProjectInfoList,o.value.loading=!1}const p=S(()=>s=>v.value.filter(n=>s.includes(n.id)).map(n=>n.chineseName));function L(){o.value.dialogTableVisible=!1,o.value.tableData=[]}F(async()=>{v.value=await h.getCountry()}),w({showEdit:j});const m=y();function V(s){s?m.value=s.projectId:m.value=""}return(s,r)=>{const n=c("el-table-column"),x=K,f=c("el-tag"),D=c("el-link"),T=c("el-tooltip"),N=G,B=c("el-table"),P=c("el-button"),z=c("el-dialog"),A=q("loading");return i(),g("div",null,[a(o).dialogTableVisible?(i(),d(z,{key:0,modelValue:a(o).dialogTableVisible,"onUpdate:modelValue":r[0]||(r[0]=e=>a(o).dialogTableVisible=e),style:{"min-height":"500px"},title:"查看",draggable:""},{footer:t(()=>[b("div",W,[l(P,{type:"primary",onClick:L},{default:t(()=>[u("关闭")]),_:1})])]),default:t(()=>[H((i(),d(B,{"row-key":"projectId",data:a(o).tableData,"highlight-current-row":"",height:"450px",onCurrentChange:V},{default:t(()=>[l(n,{align:"left",type:"index"}),l(n,{width:"200",align:"left",label:"项目ID"},{default:t(({row:e})=>[b("div",Q,[b("div",R,"ID: "+_(e.projectId),1),l(x,{class:O(["copy",{rowCopy:"rowCopy",current:e.projectId===a(m)}]),content:e.projectId},null,8,["content","class"])])]),_:1}),l(n,{"show-overflow-tooltip":"",prop:"projectName",width:"100",align:"left",label:"项目名称"}),l(n,{"show-overflow-tooltip":"",prop:"projectIdentification",width:"100",align:"left",label:"项目名称"}),l(n,{"show-overflow-tooltip":"",prop:"countryIdList",align:"left",label:"区域",width:"100"},{default:t(({row:e})=>[e.countryIdList?(i(),g(C,{key:0},[e.countryIdList.length===a(h).country.length?(i(),d(f,{key:0,size:"small",type:"primary"},{default:t(()=>[u("全球")]),_:1})):a(p)(e.countryIdList).length>1?(i(),d(T,{key:1,class:"box-item",effect:"dark",content:a(p)(e.countryIdList).join(","),placement:"top"},{default:t(()=>[l(D,{type:"primary"},{default:t(()=>[l(f,{size:"small",type:"primary"},{default:t(()=>[u("×"+_(a(p)(e.countryIdList).length),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["content"])):(i(!0),g(C,{key:2},U(a(p)(e.countryIdList),I=>(i(),d(f,{size:"small",key:I,type:"primary"},{default:t(()=>[u(_(I),1)]),_:2},1024))),128))],64)):k("",!0)]),_:1}),l(n,{"show-overflow-tooltip":"",align:"left",label:"项目价"},{default:t(({row:e})=>[l(N),u(_(e.doMoneyPrice||0),1)]),_:1})]),_:1},8,["data"])),[[A,a(o).loading]])]),_:1},8,["modelValue"])):k("",!0)])}}}),ae=J(X,[["__scopeId","data-v-03a68542"]]);export{ae as default};
