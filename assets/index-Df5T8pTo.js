
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{k as ae,d as ie,aM as re,r as u,l as se,a as r,al as pe,o as c,b as ue,f as t,w as n,i as e,am as V,g as b,D as j,G as h,e as m,j as f,Q as ce,L as de,aO as me,aP as _e,ak as fe,aK as ge,aL as be,C as he,aE as B,P as ve}from"./index-pHZL677A.js";import{_ as Ie}from"./index.vue_vue_type_style_index_0_lang-1wQ2PnNx.js";import{_ as ke}from"./index.vue_vue_type_script_setup_true_lang-DiUcbIJZ.js";const we={list:g=>ae.post("callback/getProjectTerminationScreenDetail",g)},ye=g=>(ge("data-v-1bb34863"),g=g(),be(),g),Ce=ye(()=>he("div",{class:"i-grommet-icons:power-reset h-1em w-1em"},null,-1)),De=ie({name:"RecordTerminationIndex",__name:"index",setup(g){const{getParams:U,pagination:_,onSizeChange:x,onCurrentChange:L}=re(),z=u(!1),E=u([]),M=u(""),s=u([]),k=u(!0),w=u(!1),y=u("default"),C=u(!1),D=u([{label:"会员ID/子会员ID",prop:"memberChildId",sortable:!0,checked:!0},{label:"供应商ID",prop:"tenantSupplierId",sortable:!0,checked:!0},{label:"项目ID",prop:"projectId",sortable:!0,checked:!0},{label:"项目名称/客户简称",prop:"projectName",sortable:!0,checked:!0},{label:"IP/所属国",prop:"ipBelong",sortable:!0,checked:!0},{label:"说明",prop:"notes",sortable:!0,checked:!0},{label:"终止时间",prop:"terminationTime",sortable:!0,checked:!0}]),a=u({time:[],beginTime:"",endTime:"",projectId:"",tenantSupplierId:"",projectName:"",ipBelong:""});function F(){_.value.page=1,v()}function $(i){x(i).then(()=>v())}function P(i=1){L(i).then(()=>v())}async function v(){z.value=!0;const i={...U(),...a.value};a.value.time&&a.value.time.length&&(i.beginTime=a.value.time[0]||"",i.endTime=a.value.time[1]||"");const l=await we.list(i);E.value=l.data.projectTerminationScreenDetailInfoList,_.value.total=l.data.total,z.value=!1}function H(){Object.assign(a.value,{beginTime:"",endTime:"",projectId:"",tenantSupplierId:"",projectName:"",ipBelong:""}),v()}function R(i){M.value=i}return se(()=>{D.value.forEach(i=>{i.checked&&s.value.push(i.prop)}),v()}),(i,l)=>{const S=r("el-input"),I=r("el-form-item"),A=r("el-date-picker"),N=de,T=r("ElButton"),Y=r("ElFormItem"),q=r("ElForm"),O=ke,Q=r("ElDivider"),G=Ie,K=r("el-button"),J=me,W=_e,X=r("el-row"),d=r("el-table-column"),Z=r("el-empty"),ee=r("el-table"),te=r("ElPagination"),le=fe,oe=pe("loading");return c(),ue("div",{class:ce({"absolute-container":e(C)})},[t(le,null,{default:n(()=>[t(O,{"show-toggle":!1},{default:n(({fold:o,toggle:ne})=>[t(q,{model:e(a),size:"default","label-width":"100px","inline-message":"",inline:"",class:"search-form"},{default:n(()=>[t(I,{label:""},{default:n(()=>[t(S,{modelValue:e(a).tenantSupplierId,"onUpdate:modelValue":l[0]||(l[0]=p=>e(a).tenantSupplierId=p),modelModifiers:{trim:!0},clearable:"",inline:!1,placeholder:"供应商ID"},null,8,["modelValue"])]),_:1}),t(I,{label:""},{default:n(()=>[t(S,{modelValue:e(a).projectId,"onUpdate:modelValue":l[1]||(l[1]=p=>e(a).projectId=p),modelModifiers:{trim:!0},clearable:"",inline:!1,placeholder:"项目ID"},null,8,["modelValue"])]),_:1}),V(t(I,{label:""},{default:n(()=>[t(S,{modelValue:e(a).projectName,"onUpdate:modelValue":l[2]||(l[2]=p=>e(a).projectName=p),modelModifiers:{trim:!0},clearable:"",inline:!1,placeholder:"项目名称"},null,8,["modelValue"])]),_:2},1536),[[B,!o]]),V(t(I,{label:""},{default:n(()=>[t(S,{modelValue:e(a).ipBelong,"onUpdate:modelValue":l[3]||(l[3]=p=>e(a).ipBelong=p),modelModifiers:{trim:!0},clearable:"",inline:!1,placeholder:"IP/所属国"},null,8,["modelValue"])]),_:2},1536),[[B,!o]]),V(t(I,{label:""},{default:n(()=>[t(A,{modelValue:e(a).time,"onUpdate:modelValue":l[4]||(l[4]=p=>e(a).time=p),type:"datetimerange","unlink-panels":"","range-separator":"-","start-placeholder":"创建开始日期","end-placeholder":"创建结束日期","value-format":"YYYY-MM-DD hh:mm:ss",size:"default"},null,8,["modelValue"])]),_:2},1536),[[B,!o]]),t(Y,null,{default:n(()=>[t(T,{type:"primary",onClick:l[5]||(l[5]=p=>P())},{icon:n(()=>[t(N,{name:"i-ep:search"})]),default:n(()=>[b(" 筛选 ")]),_:1}),t(T,{onClick:H},{icon:n(()=>[Ce]),default:n(()=>[b(" 重置 ")]),_:1}),t(T,{link:"",onClick:ne},{icon:n(()=>[t(N,{name:o?"i-ep:caret-bottom":"i-ep:caret-top"},null,8,["name"])]),default:n(()=>[b(" "+j(o?"展开":"收起"),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1032,["model"])]),_:1}),t(Q,{"border-style":"dashed"}),t(X,null,{default:n(()=>[t(G),t(W,null,{default:n(()=>[t(K,{size:"default"},{default:n(()=>[b(" 导出 ")]),_:1}),t(J,{border:e(k),"onUpdate:border":l[6]||(l[6]=o=>h(k)?k.value=o:null),tableAutoHeight:e(C),"onUpdate:tableAutoHeight":l[7]||(l[7]=o=>h(C)?C.value=o:null),checkList:e(s),"onUpdate:checkList":l[8]||(l[8]=o=>h(s)?s.value=o:null),columns:e(D),"onUpdate:columns":l[9]||(l[9]=o=>h(D)?D.value=o:null),"line-height":e(y),"onUpdate:lineHeight":l[10]||(l[10]=o=>h(y)?y.value=o:null),stripe:e(w),"onUpdate:stripe":l[11]||(l[11]=o=>h(w)?w.value=o:null),style:{"margin-left":"12px"},onQueryData:F},null,8,["border","tableAutoHeight","checkList","columns","line-height","stripe"])]),_:1})]),_:1}),V((c(),m(ee,{border:e(k),data:e(E),size:e(y),stripe:e(w),onSelectionChange:R},{empty:n(()=>[t(Z,{class:"vab-data-empty",description:"暂无数据"})]),default:n(()=>[t(d,{align:"center",type:"selection"}),e(s).includes("memberChildId")?(c(),m(d,{key:0,align:"center",prop:"memberChildId","show-overflow-tooltip":"",label:"会员ID/子会员ID"},{default:n(({row:o})=>[b(j(o.peopleType===1?"会员":"子会员")+"："+j(o.memberChildId),1)]),_:1})):f("",!0),e(s).includes("tenantSupplierId")?(c(),m(d,{key:1,align:"center",prop:"tenantSupplierId","show-overflow-tooltip":"",label:"供应商ID"},{default:n(({row:o})=>[b(j(o.tenantSupplierId?o.tenantSupplierId:"-"),1)]),_:1})):f("",!0),e(s).includes("projectId")?(c(),m(d,{key:2,align:"center",prop:"projectId","show-overflow-tooltip":"",label:"项目ID"})):f("",!0),e(s).includes("projectName")?(c(),m(d,{key:3,align:"center",prop:"projectName","show-overflow-tooltip":"",label:"项目名称/客户简称"})):f("",!0),e(s).includes("ipBelong")?(c(),m(d,{key:4,align:"center",prop:"ipBelong","show-overflow-tooltip":"",label:"IP/所属国"})):f("",!0),e(s).includes("notes")?(c(),m(d,{key:5,align:"center",prop:"notes","show-overflow-tooltip":"",label:"说明"})):f("",!0),e(s).includes("terminationTime")?(c(),m(d,{key:6,align:"center",prop:"terminationTime","show-overflow-tooltip":"",label:"终止时间"})):f("",!0)]),_:1},8,["border","data","size","stripe"])),[[oe,e(z)]]),t(te,{"current-page":e(_).page,total:e(_).total,"page-size":e(_).size,"page-sizes":e(_).sizes,layout:e(_).layout,"hide-on-single-page":!1,class:"pagination",background:"",onSizeChange:$,onCurrentChange:P},null,8,["current-page","total","page-size","page-sizes","layout"])]),_:1})],2)}}}),ze=ve(De,[["__scopeId","data-v-1bb34863"]]);export{ze as default};
