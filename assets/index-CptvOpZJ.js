
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{a as T}from"./user_customer-CqqQKX2H.js";import{d as M,t as Q,a2 as R,r as b,b8 as W,a5 as z,a as d,o as i,b as L,f as e,w as a,e as r,j as c,a3 as w,a4 as A,g as m,F as p,i as K,ao as J,aI as O,aJ as G,_ as H}from"./index-6YYRAA_i.js";const I=v=>(O("data-v-b9b8fd05"),v=v(),G(),v),X=I(()=>p("div",{class:"card-header"},[p("span",null,"基本信息")],-1)),Y=I(()=>p("div",{class:"card-header"},[p("span",null,"权限信息")],-1)),Z=I(()=>p("div",{class:"card-header"},[p("span",null,"服务端回调配置")],-1)),$={class:"card-header"},ee=I(()=>p("span",null,"重定向配置",-1)),ae=M({__name:"index",props:{leftTab:Object,tabIndex:Number},setup(v){const B=v,j=Q("validateTopTabs"),F=R({customerAccord:[{required:!0,message:"请输入客户名称",trigger:"blur"},{min:2,max:50,message:"内容在2-50个字之间",trigger:"blur"}],customerShortName:[{required:!0,message:"请输入客户简称",trigger:"blur"},{min:2,max:50,message:"内容在2-50个字之间",trigger:"blur"}]}),U=b("basicSettings"),h=b(!1),V=b([]),P=f=>{if(f)l.value.tenantCustomerConfigInfoList.push({callbackWay:2,isEncryption:2,encryptionId:"",secretKey:""});else{const t=l.value.tenantCustomerConfigInfoList.findIndex(s=>s.callbackWay===2);t!==-1&&l.value.tenantCustomerConfigInfoList.splice(t,1)}},k=async(f,t)=>{if(f){const s=V.value.find(u=>u.id===f),o=await T.generateKey({type:s.name});l.value.tenantCustomerConfigInfoList[t].secretKey=o.data}};W(async()=>{h.value=l.value.tenantCustomerConfigInfoList.length===2;const f=await T.getTenantSecretKeyConfigList();V.value=f.data});const N=b(null),l=b(B.leftTab);return z(()=>{j(N.value)}),(f,t)=>{const s=d("el-input"),o=d("el-form-item"),u=d("el-col"),C=d("el-option"),x=d("el-select"),g=d("el-row"),y=d("el-card"),_=d("el-switch"),S=d("el-input-number"),E=d("el-tab-pane"),q=d("el-checkbox"),D=d("el-tabs");return i(),L("div",null,[e(K(J),{ref_key:"formRef",ref:N,rules:K(F),model:l.value,"label-width":"100px"},{default:a(()=>[e(D,{modelValue:U.value,"onUpdate:modelValue":t[22]||(t[22]=n=>U.value=n)},{default:a(()=>[e(E,{label:"基础设置",name:"basicSettings"},{default:a(()=>[e(y,{class:"box-card"},{header:a(()=>[X]),default:a(()=>[e(g,{gutter:24},{default:a(()=>[e(u,{span:12},{default:a(()=>[e(o,{label:"客户名称",prop:"customerAccord"},{default:a(()=>[e(s,{modelValue:l.value.customerAccord,"onUpdate:modelValue":t[0]||(t[0]=n=>l.value.customerAccord=n),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:a(()=>[e(o,{label:"客户简称",prop:"customerShortName"},{default:a(()=>[e(s,{modelValue:l.value.customerShortName,"onUpdate:modelValue":t[1]||(t[1]=n=>l.value.customerShortName=n),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:a(()=>[e(o,{label:"公司名称",prop:"companyName"},{default:a(()=>[e(s,{modelValue:l.value.companyName,"onUpdate:modelValue":t[2]||(t[2]=n=>l.value.companyName=n),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:a(()=>[e(o,{label:"客户姓名",prop:"customerName"},{default:a(()=>[e(s,{modelValue:l.value.customerName,"onUpdate:modelValue":t[3]||(t[3]=n=>l.value.customerName=n),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:a(()=>[e(o,{label:"手机号码",prop:"customerPhone"},{default:a(()=>[e(s,{modelValue:l.value.customerPhone,"onUpdate:modelValue":t[4]||(t[4]=n=>l.value.customerPhone=n),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:a(()=>[e(o,{label:"电子邮箱",prop:"emailAddress"},{default:a(()=>[e(s,{modelValue:l.value.emailAddress,"onUpdate:modelValue":t[5]||(t[5]=n=>l.value.emailAddress=n),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:a(()=>[e(o,{label:"负责人",prop:"chargeName"},{default:a(()=>[e(s,{modelValue:l.value.chargeName,"onUpdate:modelValue":t[6]||(t[6]=n=>l.value.chargeName=n)},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:a(()=>[e(o,{label:"结算周期",prop:"settlementCycle"},{default:a(()=>[e(x,{modelValue:l.value.settlementCycle,"onUpdate:modelValue":t[7]||(t[7]=n=>l.value.settlementCycle=n)},{default:a(()=>[e(C,{label:"30",value:30}),e(C,{label:"60",value:60})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(y,{class:"box-card"},{header:a(()=>[Y]),default:a(()=>[e(g,{gutter:24},{default:a(()=>[e(u,{span:3},{default:a(()=>[e(o,{label:"客户状态"},{default:a(()=>[e(_,{modelValue:l.value.customerStatus,"onUpdate:modelValue":t[8]||(t[8]=n=>l.value.customerStatus=n),"active-value":2,"inactive-value":1,"inline-prompt":"","active-text":"开启","inactive-text":"关闭"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:3},{default:a(()=>[e(o,{label:"前置问卷"},{default:a(()=>[e(_,{modelValue:l.value.antecedentQuestionnaire,"onUpdate:modelValue":t[9]||(t[9]=n=>l.value.antecedentQuestionnaire=n),"active-value":2,"inactive-value":1,"inline-prompt":"","active-text":"开启","inactive-text":"关闭"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:18},{default:a(()=>[e(o,{label:"风险控制"},{default:a(()=>[e(_,{modelValue:l.value.riskControl,"onUpdate:modelValue":t[10]||(t[10]=n=>l.value.riskControl=n),"active-value":2,"inactive-value":1,"inline-prompt":"","active-text":"开启","inactive-text":"关闭"},null,8,["modelValue"])]),_:1})]),_:1}),l.value.riskControl===2?(i(),r(u,{key:0,span:12},{default:a(()=>[e(o,{label:"营业限额/月"},{default:a(()=>[e(S,{modelValue:l.value.turnover,"onUpdate:modelValue":t[11]||(t[11]=n=>l.value.turnover=n),"controls-position":"right",min:0},null,8,["modelValue"])]),_:1})]),_:1})):c("",!0),l.value.riskControl===2?(i(),r(u,{key:1,span:12},{default:a(()=>[e(o,{label:"审核率Min值"},{default:a(()=>[e(S,{modelValue:l.value.rateAudit,"onUpdate:modelValue":t[12]||(t[12]=n=>l.value.rateAudit=n),"controls-position":"right",min:0},null,8,["modelValue"])]),_:1})]),_:1})):c("",!0)]),_:1})]),_:1})]),_:1}),e(E,{label:"端口设置",name:"portSettings"},{default:a(()=>[e(y,{class:"box-card"},{header:a(()=>[Z]),default:a(()=>[e(g,{gutter:24},{default:a(()=>[e(u,{span:24},{default:a(()=>[e(o,{label:"加密"},{default:a(()=>[e(_,{modelValue:l.value.tenantCustomerConfigInfoList[0].isEncryption,"onUpdate:modelValue":t[13]||(t[13]=n=>l.value.tenantCustomerConfigInfoList[0].isEncryption=n),"active-value":1,"inactive-value":2,"inline-prompt":"","active-text":"加密","inactive-text":"不加密"},null,8,["modelValue"])]),_:1})]),_:1}),l.value.tenantCustomerConfigInfoList[0].isEncryption===1?(i(),r(u,{key:0,span:24},{default:a(()=>[e(o,{label:"加密方式"},{default:a(()=>[e(x,{onChange:t[14]||(t[14]=n=>k(n,0)),modelValue:l.value.tenantCustomerConfigInfoList[0].encryptionId,"onUpdate:modelValue":t[15]||(t[15]=n=>l.value.tenantCustomerConfigInfoList[0].encryptionId=n)},{default:a(()=>[(i(!0),L(w,null,A(V.value,n=>(i(),r(C,{label:n.name,value:n.id},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:1})]),_:1})):c("",!0),l.value.tenantCustomerConfigInfoList[0].isEncryption===1?(i(),r(u,{key:1,span:24},{default:a(()=>[e(o,{label:"密钥"},{default:a(()=>[e(s,{disabled:"",modelValue:l.value.tenantCustomerConfigInfoList[0].secretKey,"onUpdate:modelValue":t[16]||(t[16]=n=>l.value.tenantCustomerConfigInfoList[0].secretKey=n)},null,8,["modelValue"])]),_:1})]),_:1})):c("",!0),e(u,{span:24},{default:a(()=>[e(o,{label:"成功回调"},{default:a(()=>[m(" http: //api.surveyssaas.com?uid=［uid］ &status=cshash=［hash］ ")]),_:1})]),_:1}),e(u,{span:24},{default:a(()=>[e(o,{label:"配额满回调"},{default:a(()=>[m(" http: //api.surveyssaas.com?uid=［uid］ &status=cshash=［hash］ ")]),_:1})]),_:1}),e(u,{span:24},{default:a(()=>[e(o,{label:"被甄别回调"},{default:a(()=>[m(" http: //api.surveyssaas.com?uid=［uid］ &status=cshash=［hash］ ")]),_:1})]),_:1}),e(u,{span:24},{default:a(()=>[e(o,{label:"安全终止回调"},{default:a(()=>[m(" http: //api.surveyssaas.com?uid=［uid］ &status=cshash=［hash］ ")]),_:1})]),_:1})]),_:1})]),_:1}),e(y,{class:"box-card"},{header:a(()=>[p("div",$,[e(q,{modelValue:h.value,"onUpdate:modelValue":t[17]||(t[17]=n=>h.value=n),size:"large",onChange:P},{default:a(()=>[ee]),_:1},8,["modelValue"])])]),default:a(()=>[l.value.tenantCustomerConfigInfoList.length===2?(i(),r(g,{key:0,gutter:24},{default:a(()=>[e(u,{span:24},{default:a(()=>[e(o,{label:"加密"},{default:a(()=>[e(_,{modelValue:l.value.tenantCustomerConfigInfoList[1].isEncryption,"onUpdate:modelValue":t[18]||(t[18]=n=>l.value.tenantCustomerConfigInfoList[1].isEncryption=n),"active-value":1,"inactive-value":2,"inline-prompt":"","active-text":"加密","inactive-text":"不加密"},null,8,["modelValue"])]),_:1})]),_:1}),l.value.tenantCustomerConfigInfoList[1].isEncryption===1?(i(),r(u,{key:0,span:24},{default:a(()=>[e(o,{label:"加密方式"},{default:a(()=>[e(x,{onChange:t[19]||(t[19]=n=>k(n,1)),modelValue:l.value.tenantCustomerConfigInfoList[1].encryptionId,"onUpdate:modelValue":t[20]||(t[20]=n=>l.value.tenantCustomerConfigInfoList[1].encryptionId=n)},{default:a(()=>[(i(!0),L(w,null,A(V.value,n=>(i(),r(C,{label:n.name,value:n.id},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:1})]),_:1})):c("",!0),l.value.tenantCustomerConfigInfoList[1].isEncryption===1?(i(),r(u,{key:1,span:24},{default:a(()=>[e(o,{label:"密钥"},{default:a(()=>[e(s,{disabled:"",modelValue:l.value.tenantCustomerConfigInfoList[1].secretKey,"onUpdate:modelValue":t[21]||(t[21]=n=>l.value.tenantCustomerConfigInfoList[1].secretKey=n)},null,8,["modelValue"])]),_:1})]),_:1})):c("",!0),e(u,{span:24},{default:a(()=>[e(o,{label:"成功回调"},{default:a(()=>[m(" http: //api.surveyssaas.com?uid=［uid］ &status=cshash=［hash］ ")]),_:1})]),_:1}),e(u,{span:24},{default:a(()=>[e(o,{label:"配额满回调"},{default:a(()=>[m(" http: //api.surveyssaas.com?uid=［uid］ &status=cshash=［hash］ ")]),_:1})]),_:1}),e(u,{span:24},{default:a(()=>[e(o,{label:"被甄别回调"},{default:a(()=>[m(" http: //api.surveyssaas.com?uid=［uid］ &status=cshash=［hash］ ")]),_:1})]),_:1}),e(u,{span:24},{default:a(()=>[e(o,{label:"安全终止回调"},{default:a(()=>[m(" http: //api.surveyssaas.com?uid=［uid］ &status=cshash=［hash］ ")]),_:1})]),_:1})]),_:1})):c("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["rules","model"])])}}}),ne=H(ae,[["__scopeId","data-v-b9b8fd05"]]);export{ne as default};
