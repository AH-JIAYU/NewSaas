
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{a as Ie,d as Se,aN as Ce,r as k,a5 as G,l as xe,b as m,q as we,o,e as v,g as l,w as t,j as a,s as x,az as M,F as Q,v as J,f as n,h as s,H as _,I as w,k as c,t as f,S as Ne,N as Ve,aP as Be,aQ as je,bb as Le,ap as Ee,aI as Te,aJ as De,aq as j,R as Fe}from"./index-ODJju0Ft.js";import{_ as Pe}from"./index-BYfRF3bi.js";import{_ as ze}from"./index.vue_vue_type_style_index_0_lang-DyusMtqv.js";import{_ as Ue}from"./index.vue_vue_type_script_setup_true_lang-C8DtHRKN.js";import{u as Me}from"./user_customer-D_Y98Xi0.js";import{e as $e}from"./empty-bAzhJQI7.js";import"./index-D6HNRVp6.js";import"./user_customer-Ce_oDVjQ.js";const Re={list:S=>Ie.post("callback/getMemberSurveyRecord",S)},O=S=>(Te("data-v-8043f986"),S=S(),De(),S),Ae=O(()=>f("div",{class:"i-grommet-icons:power-reset h-1em w-1em"},null,-1)),He={key:0,class:"hoverSvg"},qe={class:"fineBom"},Ke={class:"c-fx"},Ge={key:0,class:"hoverSvg"},Qe={class:"fineBom"},Je={class:"c-fx"},Oe={key:0,class:"hoverSvg"},Ze={class:"fineBom"},We={class:"c-fx"},Xe={key:0,class:"hoverSvg"},Ye={class:"fineBom"},et={class:"c-fx"},tt={key:0,class:"hoverSvg"},ot={class:"fineBom"},lt={class:"c-fx"},at=O(()=>f("span",{class:"headerIcon"},[f("svg",{class:"timeSvg",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},[f("g",{id:"Time (æ¶é´)"},[f("path",{id:"Vector",d:"M7.9987 14.6666C11.6806 14.6666 14.6654 11.6818 14.6654 7.99992C14.6654 4.31802 11.6806 1.33325 7.9987 1.33325C4.3168 1.33325 1.33203 4.31802 1.33203 7.99992C1.33203 11.6818 4.3168 14.6666 7.9987 14.6666Z",fill:"#409EFF"}),f("path",{id:"Vector_2",d:"M8.00431 4L8.00391 8.00293L10.8304 10.8294",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])]),s(" 调查时间 ")],-1)),nt={key:0},rt=Se({name:"investigation_records",__name:"list",setup(S){const Z=Me(),{getParams:W,pagination:C,onSizeChange:X,onCurrentChange:Y}=Ce(),L=k(!1),$=k([]),ee=k(""),p=k([]),E=k(!0),T=k(!1),D=k("default"),F=k(!1),te=k(),P=k([{prop:"projectName",label:"项目名称",sortable:!0,checked:!0},{prop:"projectId",label:"项目ID",sortable:!0,checked:!0},{prop:"memberId",label:"会员ID",sortable:!0,checked:!0},{prop:"randomIdentityId",label:"随机身份",sortable:!0,checked:!0},{prop:"customerShortName",label:"客户简称",sortable:!0,checked:!0},{prop:"memberName",label:"所属组",sortable:!0,checked:!0},{prop:"allocationType",label:"分配类型",sortable:!0,checked:!0},{prop:"doMoneyPrice",label:"原价",sortable:!0,checked:!0},{prop:"memberPrice",label:"会员价",sortable:!0,checked:!0},{prop:"ipBelong",label:"国家/IP",sortable:!0,checked:!0},{prop:"surveyTime",label:"调查时间",sortable:!0,checked:!0},{prop:"surveyStatus",label:"调查状态",sortable:!0,checked:!0},{prop:"viceStatus",label:"副状态",sortable:!0,checked:!0}]),i=G({memberId:"",randomIdentityId:"",memberGroupId:"",projectId:"",projectName:"",customerId:"",ip:"",surveyStatus:""}),z=G({allocationTypeList:["未分配","供应商","会员组"],surveyStatusList:["完成","被甄别","配额满","安全终止","未完成"],viceStatusList:["待审","免审","过IR","时间过短","超时完成","超量完成","审核成功","审核失败","数据冻结","时间段过载","ip不一致","id重复参与","和解"],customerList:[],vipList:[],vipGroupList:[],tenantSupplierList:[]});function oe(){i.pageNo=1,N()}function le(b){X(b).then(()=>N())}function h(b=1){Y(b).then(()=>N())}async function N(){try{L.value=!0;const b={...W(),...i},{data:r}=await Re.list(b);$.value=r.memberSurveyRecordInfoList,te.value=r.currencyType,C.value.total=r.total,L.value=!1}catch{}finally{L.value=!1}}function ae(b){ee.value=b}function ne(){Object.assign(i,{memberId:"",randomIdentityId:"",memberGroupId:"",projectId:"",projectName:"",customerId:"",ip:"",surveyStatus:""}),N()}return xe(async()=>{z.customerList=await Z.getCustomerList(),P.value.forEach(b=>{b.checked&&p.value.push(b.prop)}),N()}),(b,r)=>{const V=m("el-input"),I=m("el-form-item"),R=m("el-option"),A=m("el-select"),H=Ve,U=m("ElButton"),re=m("ElFormItem"),se=m("ElForm"),ce=Ue,ue=m("ElDivider"),de=ze,ie=m("el-button"),pe=Be,me=je,fe=m("el-row"),g=m("el-table-column"),y=m("el-text"),B=Pe,d=m("el-tag"),q=Le,K=m("ElTableColumn"),_e=m("el-empty"),ye=m("el-table"),be=m("ElPagination"),ge=Ee,ke=we("loading");return o(),v("div",{class:Ne({"absolute-container":a(F)})},[l(ge,null,{default:t(()=>[l(ce,{"show-toggle":!1},{default:t(({fold:e,toggle:ve})=>[l(se,{model:a(i),size:"default","label-width":"100px","inline-message":"",inline:"",class:"search-form"},{default:t(()=>[l(I,{label:""},{default:t(()=>[l(V,{modelValue:a(i).memberId,"onUpdate:modelValue":r[0]||(r[0]=u=>a(i).memberId=u),modelModifiers:{trim:!0},clearable:"",inline:!1,placeholder:"会员ID"},null,8,["modelValue"])]),_:1}),x(l(I,{label:""},{default:t(()=>[l(V,{modelValue:a(i).randomIdentityId,"onUpdate:modelValue":r[1]||(r[1]=u=>a(i).randomIdentityId=u),modelModifiers:{trim:!0},clearable:"",inline:!1,placeholder:"随机身份",onKeydown:r[2]||(r[2]=M(u=>h(),["enter"]))},null,8,["modelValue"])]),_:2},1536),[[j,!e]]),l(I,{label:""},{default:t(()=>[l(V,{modelValue:a(i).projectId,"onUpdate:modelValue":r[3]||(r[3]=u=>a(i).projectId=u),modelModifiers:{trim:!0},clearable:"",inline:!1,placeholder:"项目ID",onKeydown:r[4]||(r[4]=M(u=>h(),["enter"]))},null,8,["modelValue"])]),_:1}),x(l(I,{label:""},{default:t(()=>[l(V,{modelValue:a(i).projectName,"onUpdate:modelValue":r[5]||(r[5]=u=>a(i).projectName=u),modelModifiers:{trim:!0},clearable:"",inline:!1,placeholder:"项目名称",onKeydown:r[6]||(r[6]=M(u=>h(),["enter"]))},null,8,["modelValue"])]),_:2},1536),[[j,!e]]),x(l(I,{label:""},{default:t(()=>[l(A,{modelValue:a(i).customerId,"onUpdate:modelValue":r[7]||(r[7]=u=>a(i).customerId=u),clearable:"",filterable:"",placeholder:"客户简称",onChange:r[8]||(r[8]=u=>h())},{default:t(()=>[(o(!0),v(Q,null,J(a(z).customerList,u=>(o(),n(R,{key:u.tenantCustomerId,value:u.tenantCustomerId,label:u.customerAccord},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:2},1536),[[j,!e]]),x(l(I,{label:""},{default:t(()=>[l(V,{modelValue:a(i).ip,"onUpdate:modelValue":r[9]||(r[9]=u=>a(i).ip=u),modelModifiers:{trim:!0},clearable:"",inline:!1,placeholder:"IP地址"},null,8,["modelValue"])]),_:2},1536),[[j,!e]]),x(l(I,{label:""},{default:t(()=>[l(A,{modelValue:a(i).surveyStatus,"onUpdate:modelValue":r[10]||(r[10]=u=>a(i).surveyStatus=u),clearable:"",filterable:"",placeholder:"调查状态",onChange:r[11]||(r[11]=u=>h())},{default:t(()=>[(o(!0),v(Q,null,J(a(z).surveyStatusList,(u,he)=>(o(),n(R,{label:u,value:he+1},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:2},1536),[[j,!e]]),l(re,null,{default:t(()=>[l(U,{type:"primary",onClick:r[12]||(r[12]=u=>h())},{icon:t(()=>[l(H,{name:"i-ep:search"})]),default:t(()=>[s(" 筛选 ")]),_:1}),l(U,{onClick:ne},{icon:t(()=>[Ae]),default:t(()=>[s(" 重置 ")]),_:1}),l(U,{link:"",onClick:ve},{icon:t(()=>[l(H,{name:e?"i-ep:caret-bottom":"i-ep:caret-top"},null,8,["name"])]),default:t(()=>[s(" "+_(e?"展开":"收起"),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1032,["model"])]),_:1}),l(ue,{"border-style":"dashed"}),l(fe,null,{default:t(()=>[l(de),l(me,null,{default:t(()=>[l(ie,{size:"default"},{default:t(()=>[s(" 导出 ")]),_:1}),l(pe,{border:a(E),"onUpdate:border":r[13]||(r[13]=e=>w(E)?E.value=e:null),tableAutoHeight:a(F),"onUpdate:tableAutoHeight":r[14]||(r[14]=e=>w(F)?F.value=e:null),checkList:a(p),"onUpdate:checkList":r[15]||(r[15]=e=>w(p)?p.value=e:null),columns:a(P),"onUpdate:columns":r[16]||(r[16]=e=>w(P)?P.value=e:null),"line-height":a(D),"onUpdate:lineHeight":r[17]||(r[17]=e=>w(D)?D.value=e:null),stripe:a(T),"onUpdate:stripe":r[18]||(r[18]=e=>w(T)?T.value=e:null),style:{"margin-left":"12px"},onQueryData:oe},null,8,["border","tableAutoHeight","checkList","columns","line-height","stripe"])]),_:1})]),_:1}),x((o(),n(ye,{border:a(E),data:a($),size:a(D),stripe:a(T),onSelectionChange:ae},{empty:t(()=>[l(_e,{image:a($e),"image-size":300},null,8,["image"])]),default:t(()=>[l(g,{align:"center",type:"selection"}),a(p).includes("projectName")?(o(),n(g,{key:0,align:"center",prop:"projectName","show-overflow-tooltip":"",label:"项目名称"},{default:t(({row:e})=>[l(y,{style:{"font-weight":"700",color:"#333333"}},{default:t(()=>[s(_(e.projectName?e.projectName:"-"),1)]),_:2},1024)]),_:1})):c("",!0),a(p).includes("projectId")?(o(),n(g,{key:1,align:"center",prop:"projectId","show-overflow-tooltip":"",width:"200",label:"项目ID"},{default:t(({row:e})=>[e.projectId?(o(),v("div",He,[f("p",qe,"ID："+_(e.projectId),1),f("span",Ke,[l(B,{class:"copy",content:e.projectId},null,8,["content"])])])):(o(),n(y,{key:1},{default:t(()=>[s("-")]),_:1}))]),_:1})):c("",!0),a(p).includes("memberId")?(o(),n(g,{key:2,align:"center",prop:"memberId","show-overflow-tooltip":"",width:"200",label:"会员ID"},{default:t(({row:e})=>[e.memberId?(o(),v("div",Ge,[f("p",Qe,"ID："+_(e.memberId),1),f("span",Je,[l(B,{class:"copy",content:e.memberId},null,8,["content"])])])):(o(),n(y,{key:1},{default:t(()=>[s("-")]),_:1}))]),_:1})):c("",!0),a(p).includes("randomIdentityId")?(o(),n(g,{key:3,align:"center",prop:"randomIdentityId","show-overflow-tooltip":"",label:"随机身份"},{default:t(({row:e})=>[e.randomIdentityId?(o(),v("div",Oe,[f("p",Ze,"ID："+_(e.randomIdentityId),1),f("span",We,[l(B,{class:"copy",content:e.randomIdentityId},null,8,["content"])])])):(o(),n(y,{key:1},{default:t(()=>[s("-")]),_:1}))]),_:1})):c("",!0),a(p).includes("customerShortName")?(o(),n(g,{key:4,align:"center",prop:"customerShortName","show-overflow-tooltip":"",label:"客户简称",width:"100"},{default:t(({row:e})=>[l(y,{style:{"font-weight":"700",color:"#333333"}},{default:t(()=>[s(_(e.customerShortName?e.customerShortName:"-"),1)]),_:2},1024)]),_:1})):c("",!0),a(p).includes("memberName")?(o(),n(g,{key:5,width:"150",align:"center",prop:"memberName","show-overflow-tooltip":"",label:"所属组"},{default:t(({row:e})=>[e.memberName?(o(),v("div",Xe,[l(y,{style:{"font-weight":"700",color:"#333333"}},{default:t(()=>[s(_(e.memberName.split("/")[0]),1)]),_:2},1024),s("    "),f("p",Ye,"ID："+_(e.memberName.split("/")[1]),1),f("span",et,[l(B,{class:"copy",content:e.memberName.split("/")[1]},null,8,["content"])])])):(o(),n(y,{key:1},{default:t(()=>[s("-")]),_:1}))]),_:1})):c("",!0),a(p).includes("allocationType")?(o(),n(g,{key:6,align:"center","show-overflow-tooltip":"",width:"100",label:"分配类型"},{default:t(({row:e})=>[e.allocationType===1?(o(),n(d,{key:0,effect:"plain",type:"info"},{default:t(()=>[s(" 未分配 ")]),_:1})):c("",!0),e.allocationType===2?(o(),n(d,{key:1,style:{"background-color":"#FFAC54",color:"#fff"}},{default:t(()=>[s(" 供应商 ")]),_:1})):c("",!0),e.allocationType===3?(o(),n(d,{key:2,style:{"background-color":"#05C9BE",color:"#fff"}},{default:t(()=>[s(" 会员组 ")]),_:1})):c("",!0)]),_:1})):c("",!0),a(p).includes("doMoneyPrice")?(o(),n(g,{key:7,width:"80",align:"center",prop:"h","show-overflow-tooltip":"",label:"原价"},{default:t(({row:e})=>[l(y,null,{default:t(()=>[l(q)]),_:1}),l(y,{style:{color:"#333333","font-weight":"700"}},{default:t(()=>[s(_(e.doMoneyPrice||0),1)]),_:2},1024)]),_:1})):c("",!0),a(p).includes("memberPrice")?(o(),n(g,{key:8,width:"80",align:"center",prop:"h","show-overflow-tooltip":"",label:"会员价"},{default:t(({row:e})=>[l(y,null,{default:t(()=>[l(q)]),_:1}),l(y,{style:{color:"#333333","font-weight":"700"}},{default:t(()=>[s(_(e.memberPrice||0),1)]),_:2},1024)]),_:1})):c("",!0),a(p).includes("ipBelong")?(o(),n(g,{key:9,align:"center",width:"130",prop:"ipBelong","show-overflow-tooltip":"",label:"国家/IP"},{default:t(({row:e})=>[e.ipBelong?(o(),v("div",tt,[l(d,{style:{"font-weight":"700"}},{default:t(()=>[s(_(e.ipBelong.split("/")[1]),1)]),_:2},1024),s("    "),f("p",ot,_(e.ipBelong.split("/")[0]),1),f("span",lt,[l(B,{class:"copy",content:e.ipBelong.split("/")[0]},null,8,["content"])])])):(o(),n(y,{key:1},{default:t(()=>[s("-")]),_:1}))]),_:1})):c("",!0),a(p).includes("surveyTime")?(o(),n(g,{key:10,align:"center","show-overflow-tooltip":"",label:"调查时间"},{header:t(()=>[at]),default:t(({row:e})=>[l(d,{effect:"plain",type:"info"},{default:t(()=>[s(_(e.surveyTime?e.surveyTime+"min":0)+"/ "+_(e.projectTime?e.projectTime+"min":0),1)]),_:2},1024)]),_:1})):c("",!0),a(p).includes("surveyStatus")?(o(),n(K,{key:11,align:"center","show-overflow-tooltip":"",prop:"",label:"调查状态"},{default:t(({row:e})=>[e.surveyStatus===3?(o(),n(d,{key:0,effect:"dark",style:{"background-color":"#FB6868",border:"none"},class:"mx-1",type:"primary"},{default:t(()=>[s("配额满")]),_:1})):c("",!0),e.surveyStatus===1?(o(),n(d,{key:1,effect:"dark",style:{"background-color":"#379AFF",border:"none"},class:"mx-1",type:"success"},{default:t(()=>[s("完成")]),_:1})):c("",!0),e.surveyStatus===2?(o(),n(d,{key:2,effect:"dark",style:{"background-color":"#FB6868",border:"none"},class:"mx-1",type:"danger"},{default:t(()=>[s("被甄别")]),_:1})):c("",!0),e.surveyStatus===4?(o(),n(d,{key:3,effect:"dark",style:{"background-color":"#05C9BE",border:"none"},class:"mx-1",type:"warning"},{default:t(()=>[s("安全终止")]),_:1})):c("",!0),e.surveyStatus===5?(o(),n(d,{key:4,effect:"dark",style:{"background-color":"#E1E1E1",border:"none"},class:"mx-1"},{default:t(()=>[s("未完成")]),_:1})):c("",!0)]),_:1})):c("",!0),a(p).includes("viceStatus")?(o(),n(K,{key:12,align:"center","show-overflow-tooltip":"",prop:"",label:"副状态"},{default:t(({row:e})=>[e.viceStatus?(o(),v("div",nt,[e.viceStatus===1?(o(),n(d,{key:0,effect:"dark",style:{"background-color":"#74868b",border:"none"},class:"mx-1",type:"success"},{default:t(()=>[s("待审")]),_:1})):c("",!0),e.viceStatus===2?(o(),n(d,{key:1,effect:"dark",style:{"background-color":"#475061",border:"none"},class:"mx-1",type:"danger"},{default:t(()=>[s("免审")]),_:1})):c("",!0),e.viceStatus===3?(o(),n(d,{key:2,effect:"dark",style:{"background-color":"#3e5c78",border:"none"},class:"mx-1",type:"primary"},{default:t(()=>[s("过IR")]),_:1})):c("",!0),e.viceStatus===4?(o(),n(d,{key:3,effect:"dark",style:{"background-color":"#c8c7bc",border:"none"},class:"mx-1",type:"warning"},{default:t(()=>[s("时间过短")]),_:1})):c("",!0),e.viceStatus===5?(o(),n(d,{key:4,effect:"dark",style:{"background-color":"#bcc8b8",border:"none"},class:"mx-1"},{default:t(()=>[s("超时完成")]),_:1})):c("",!0),e.viceStatus===6?(o(),n(d,{key:5,effect:"dark",style:{"background-color":"#ded6cb",border:"none"},class:"mx-1"},{default:t(()=>[s("超量完成")]),_:1})):c("",!0),e.viceStatus===7?(o(),n(d,{key:6,effect:"dark",style:{"background-color":"#03C239",border:"none"},class:"mx-1"},{default:t(()=>[s("审核成功")]),_:1})):c("",!0),e.viceStatus===8?(o(),n(d,{key:7,effect:"dark",style:{"background-color":"#FB6868",border:"none"},class:"mx-1"},{default:t(()=>[s("审核失败")]),_:1})):c("",!0),e.viceStatus===9?(o(),n(d,{key:8,effect:"dark",style:{"background-color":"#FB6868",border:"none"},class:"mx-1"},{default:t(()=>[s("数据冻结")]),_:1})):c("",!0),e.viceStatus===10?(o(),n(d,{key:9,effect:"dark",style:{"background-color":"#6683a2",border:"none"},class:"mx-1"},{default:t(()=>[s("时间段过载")]),_:1})):c("",!0),e.viceStatus===11?(o(),n(d,{key:10,effect:"dark",style:{"background-color":"#638d93",border:"none"},class:"mx-1"},{default:t(()=>[s("IP不一致")]),_:1})):c("",!0),e.viceStatus===12?(o(),n(d,{key:11,effect:"dark",style:{"background-color":"#626a73",border:"none"},class:"mx-1"},{default:t(()=>[s("ID重复参与")]),_:1})):c("",!0),e.viceStatus===13?(o(),n(d,{key:12,effect:"dark",style:{"background-color":"#03C239",border:"none"},class:"mx-1"},{default:t(()=>[s("和解")]),_:1})):c("",!0)])):(o(),n(y,{key:1},{default:t(()=>[s("-")]),_:1}))]),_:1})):c("",!0)]),_:1},8,["border","data","size","stripe"])),[[ke,a(L)]]),l(be,{"current-page":a(C).page,total:a(C).total,"page-size":a(C).size,"page-sizes":a(C).sizes,layout:a(C).layout,"hide-on-single-page":!1,class:"pagination",background:"",onSizeChange:le,onCurrentChange:h},null,8,["current-page","total","page-size","page-sizes","layout"])]),_:1})],2)}}}),_t=Fe(rt,[["__scopeId","data-v-8043f986"]]);export{_t as default};
