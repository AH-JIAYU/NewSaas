
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{aA as Wi,aB as gi,d as nw,M as ow,r as Uh,a2 as zh,h as Ac,a as Wh,c as Gh,w as xf,f as iw,g as Kh,j as $h,b as aw,P as sw,ai as qh}from"./index-BN31BxGx.js";import{a as Zh}from"./configuration_homepageSetting-DmVdYzA-.js";function lw(V,vt){for(var bt=0;bt<vt.length;bt++){const ct=vt[bt];if(typeof ct!="string"&&!Array.isArray(ct)){for(const ht in ct)if(ht!=="default"&&!(ht in V)){const tt=Object.getOwnPropertyDescriptor(ct,ht);tt&&Object.defineProperty(V,ht,tt.get?tt:{enumerable:!0,get:()=>ct[ht]})}}}return Object.freeze(Object.defineProperty(V,Symbol.toStringTag,{value:"Module"}))}var cw={410:(V,vt,bt)=>{var ct,ht,tt;/*!
* Backbone.Undo.js v0.2
*
* Copyright (c)2013 Oliver Sartun
* Released under the MIT License
*
* Documentation and full license available at
* https://github.com/osartun/Backbone.Undo.js
*/(function(q){ht=[bt(50),bt(316)],ct=q,tt=typeof ct=="function"?ct.apply(vt,ht):ct,tt!==void 0&&(V.exports=tt)})(function(q,x){var M=Array.prototype.slice;function m(T,z,I){return I.length<=4?T.call(z,I[0],I[1],I[2],I[3]):T.apply(z,I)}function E(T,z){return M.call(T,z)}function w(T,z){return T==null?!1:(q.isArray(z)||(z=E(arguments,1)),q.all(z,function(I){return I in T}))}var C=function(){var T=!1,z=-1;function I(){z++,T=!0,q.defer(function(){T=!1})}return function(){return T||I(),z}}();function O(){this.registeredObjects=[],this.cidIndexes=[]}O.prototype={isRegistered:function(T){return T&&T.cid?this.registeredObjects[T.cid]:q.contains(this.registeredObjects,T)},register:function(T){return this.isRegistered(T)?!1:(T&&T.cid?(this.registeredObjects[T.cid]=T,this.cidIndexes.push(T.cid)):this.registeredObjects.push(T),!0)},unregister:function(T){if(this.isRegistered(T)){if(T&&T.cid)delete this.registeredObjects[T.cid],this.cidIndexes.splice(q.indexOf(this.cidIndexes,T.cid),1);else{var z=q.indexOf(this.registeredObjects,T);this.registeredObjects.splice(z,1)}return!0}return!1},get:function(){return q.map(this.cidIndexes,function(T){return this.registeredObjects[T]},this).concat(this.registeredObjects)}};function L(T,z,I,N){for(var G=0,P=z.length,$;G<P;G++)if($=z[G],!!$){if(T==="on"){if(!N.objectRegistry.register($))continue}else if(!N.objectRegistry.unregister($))continue;q.isFunction($[T])&&$[T]("all",I,N)}}function et(T,z){var I=z.type,N=z.undoTypes,G=!N[I]||N[I][T];q.isFunction(G)&&G(z.object,z.before,z.after,z.options)}function J(T,z,I,N,G){if(!(I.isCurrentlyUndoRedoing||T==="undo"&&I.pointer===-1||T==="redo"&&I.pointer===I.length-1)){I.isCurrentlyUndoRedoing=!0;var P,$,y=T==="undo";for(G?$=y&&I.pointer===I.length-1||!y&&I.pointer===-1?q.clone(I.models):M.apply(I.models,y?[0,I.pointer]:[I.pointer,I.length-1]):(P=I.at(y?I.pointer:I.pointer+1),$=N?I.where({magicFusionIndex:P.get("magicFusionIndex")}):[P]),I.pointer+=(y?-1:1)*$.length;P=y?$.pop():$.shift();)P[T]();I.isCurrentlyUndoRedoing=!1,z.trigger(T,z)}}function U(T,z){var I=T.condition,N=typeof I;return N==="function"?!!m(I,T,z):N==="boolean"?I:!0}function R(T,z,I,N){if(T.track&&!T.isCurrentlyUndoRedoing&&z in N&&U(N[z],I)){var G=m(N[z].on,N[z],I),P;if(w(G,"object","before","after")){if(G.type=z,G.magicFusionIndex=C(),G.undoTypes=N,T.pointer<T.length-1)for(var P=T.length-T.pointer-1;P--;)T.pop();T.pointer=T.length,T.add(G),T.length>T.maximumStackLength&&(T.shift(),T.pointer--)}}}var D={add:{undo:function(T,z,I,N){T.remove(I,N)},redo:function(T,z,I,N){N.index&&(N.at=N.index),T.add(I,N)},on:function(T,z,I){return{object:z,before:void 0,after:T,options:q.clone(I)}}},remove:{undo:function(T,z,I,N){"index"in N&&(N.at=N.index),T.add(z,N)},redo:function(T,z,I,N){T.remove(z,N)},on:function(T,z,I){return{object:z,before:T,after:void 0,options:q.clone(I)}}},change:{undo:function(T,z,I,N){q.isEmpty(z)?q.each(q.keys(I),T.unset,T):(T.set(z),N&&N.unsetData&&N.unsetData.before&&N.unsetData.before.length&&q.each(N.unsetData.before,T.unset,T))},redo:function(T,z,I,N){q.isEmpty(I)?q.each(q.keys(z),T.unset,T):(T.set(I),N&&N.unsetData&&N.unsetData.after&&N.unsetData.after.length&&q.each(N.unsetData.after,T.unset,T))},on:function(T,z){var I=T.changedAttributes(),N=q.keys(I),G=q.pick(T.previousAttributes(),N),P=q.keys(G),$=(z||(z={})).unsetData={after:[],before:[]};return N.length!=P.length&&(N.length>P.length?q.each(N,function(y){y in G||$.before.push(y)},this):q.each(P,function(y){y in I||$.after.push(y)})),{object:T,before:G,after:I,options:q.clone(z)}}},reset:{undo:function(T,z,I){T.reset(z)},redo:function(T,z,I){T.reset(I)},on:function(T,z){return{object:T,before:z.previousModels,after:q.clone(T.models)}}}};function k(){}k.prototype=D;function Z(T,z,I,N){if(typeof z=="object")return q.each(z,function(G,P){T===2?Z(T,G,I,N):Z(T,P,G,I)});switch(T){case 0:w(I,"undo","redo","on")&&q.all(q.pick(I,"undo","redo","on"),q.isFunction)&&(N[z]=I);break;case 1:N[z]&&q.isObject(I)&&(N[z]=q.extend({},N[z],I));break;case 2:delete N[z];break}return this}var ot=x.Model.extend({defaults:{type:null,object:null,before:null,after:null,magicFusionIndex:null},undo:function(T){et("undo",this.attributes)},redo:function(T){et("redo",this.attributes)}}),Y=x.Collection.extend({model:ot,pointer:-1,track:!1,isCurrentlyUndoRedoing:!1,maximumStackLength:1/0,setMaxLength:function(T){this.maximumStackLength=T}}),it=x.Model.extend({defaults:{maximumStackLength:1/0,track:!1},initialize:function(T){this.stack=new Y,this.objectRegistry=new O,this.undoTypes=new k,this.stack.setMaxLength(this.get("maximumStackLength")),this.on("change:maximumStackLength",function(z,I){this.stack.setMaxLength(I)},this),T&&T.track&&this.startTracking(),T&&T.register&&(q.isArray(T.register)||q.isArguments(T.register)?m(this.register,this,T.register):this.register(T.register))},startTracking:function(){this.set("track",!0),this.stack.track=!0},stopTracking:function(){this.set("track",!1),this.stack.track=!1},isTracking:function(){return this.get("track")},_addToStack:function(T){R(this.stack,T,E(arguments,1),this.undoTypes)},register:function(){L("on",arguments,this._addToStack,this)},unregister:function(){L("off",arguments,this._addToStack,this)},unregisterAll:function(){m(this.unregister,this,this.objectRegistry.get())},undo:function(T){J("undo",this,this.stack,T)},undoAll:function(){J("undo",this,this.stack,!1,!0)},redo:function(T){J("redo",this,this.stack,T)},redoAll:function(){J("redo",this,this.stack,!1,!0)},isAvailable:function(T){var z=this.stack,I=z.length;switch(T){case"undo":return I>0&&z.pointer>-1;case"redo":return I>0&&z.pointer<I-1;default:return!1}},merge:function(T){for(var z=q.isArray(T)?T:E(arguments),I;I=z.pop();)I instanceof it&&I.stack instanceof Y&&(I.stack=this.stack)},addUndoType:function(T,z){Z(0,T,z,this.undoTypes)},changeUndoType:function(T,z){Z(1,T,z,this.undoTypes)},removeUndoType:function(T){Z(2,T,void 0,this.undoTypes)},clear:function(){this.stack.reset(),this.stack.pointer=-1}});return q.extend(it,{defaults:function(T){q.extend(it.prototype.defaults,T)},addUndoType:function(T,z){Z(0,T,z,D)},changeUndoType:function(T,z){Z(1,T,z,D)},removeUndoType:function(T){Z(2,T,void 0,D)}}),x.UndoManager=it})},316:(V,vt,bt)=>{var ct,ht;(function(tt){var q=typeof self=="object"&&self.self===self&&self||typeof bt.g=="object"&&bt.g.global===bt.g&&bt.g;ct=[bt(50),bt(895),vt],ht=(function(x,M,m){q.Backbone=tt(q,m,x,M)}).apply(vt,ct),ht!==void 0&&(V.exports=ht)})(function(tt,q,x,M){var m=tt.Backbone,E=Array.prototype.slice;q.VERSION="1.4.1",q.$=M,q.noConflict=function(){return tt.Backbone=m,this},q.emulateHTTP=!1,q.emulateJSON=!1;var w=q.Events={},C=/\s+/,O,L=function(K,st,yt,At,Ht){var mt=0,Vt;if(yt&&typeof yt=="object")for(At!==void 0&&("context"in Ht)&&Ht.context===void 0&&(Ht.context=At),Vt=x.keys(yt);mt<Vt.length;mt++)st=L(K,st,Vt[mt],yt[Vt[mt]],Ht);else if(yt&&C.test(yt))for(Vt=yt.split(C);mt<Vt.length;mt++)st=K(st,Vt[mt],At,Ht);else st=K(st,yt,At,Ht);return st};w.on=function(K,st,yt){if(this._events=L(et,this._events||{},K,st,{context:yt,ctx:this,listening:O}),O){var At=this._listeners||(this._listeners={});At[O.id]=O,O.interop=!1}return this},w.listenTo=function(K,st,yt){if(!K)return this;var At=K._listenId||(K._listenId=x.uniqueId("l")),Ht=this._listeningTo||(this._listeningTo={}),mt=O=Ht[At];mt||(this._listenId||(this._listenId=x.uniqueId("l")),mt=O=Ht[At]=new Z(this,K));var Vt=J(K,st,yt,this);if(O=void 0,Vt)throw Vt;return mt.interop&&mt.on(st,yt),this};var et=function(K,st,yt,At){if(yt){var Ht=K[st]||(K[st]=[]),mt=At.context,Vt=At.ctx,Et=At.listening;Et&&Et.count++,Ht.push({callback:yt,context:mt,ctx:mt||Vt,listening:Et})}return K},J=function(K,st,yt,At){try{K.on(st,yt,At)}catch(Ht){return Ht}};w.off=function(K,st,yt){return this._events?(this._events=L(U,this._events,K,st,{context:yt,listeners:this._listeners}),this):this},w.stopListening=function(K,st,yt){var At=this._listeningTo;if(!At)return this;for(var Ht=K?[K._listenId]:x.keys(At),mt=0;mt<Ht.length;mt++){var Vt=At[Ht[mt]];if(!Vt)break;Vt.obj.off(st,yt,this),Vt.interop&&Vt.off(st,yt)}return x.isEmpty(At)&&(this._listeningTo=void 0),this};var U=function(K,st,yt,At){if(K){var Ht=At.context,mt=At.listeners,Vt=0,Et;if(!st&&!Ht&&!yt){for(Et=x.keys(mt);Vt<Et.length;Vt++)mt[Et[Vt]].cleanup();return}for(Et=st?[st]:x.keys(K);Vt<Et.length;Vt++){st=Et[Vt];var _e=K[st];if(!_e)break;for(var Pe=[],Se=0;Se<_e.length;Se++){var Ve=_e[Se];if(yt&&yt!==Ve.callback&&yt!==Ve.callback._callback||Ht&&Ht!==Ve.context)Pe.push(Ve);else{var Ue=Ve.listening;Ue&&Ue.off(st,yt)}}Pe.length?K[st]=Pe:delete K[st]}return K}};w.once=function(K,st,yt){var At=L(R,{},K,st,this.off.bind(this));return typeof K=="string"&&yt==null&&(st=void 0),this.on(At,st,yt)},w.listenToOnce=function(K,st,yt){var At=L(R,{},st,yt,this.stopListening.bind(this,K));return this.listenTo(K,At)};var R=function(K,st,yt,At){if(yt){var Ht=K[st]=x.once(function(){At(st,Ht),yt.apply(this,arguments)});Ht._callback=yt}return K};w.trigger=function(K){if(!this._events)return this;for(var st=Math.max(0,arguments.length-1),yt=Array(st),At=0;At<st;At++)yt[At]=arguments[At+1];return L(D,this._events,K,void 0,yt),this};var D=function(K,st,yt,At){if(K){var Ht=K[st],mt=K.all;Ht&&mt&&(mt=mt.slice()),Ht&&k(Ht,At),mt&&k(mt,[st].concat(At))}return K},k=function(K,st){var yt,At=-1,Ht=K.length,mt=st[0],Vt=st[1],Et=st[2];switch(st.length){case 0:for(;++At<Ht;)(yt=K[At]).callback.call(yt.ctx);return;case 1:for(;++At<Ht;)(yt=K[At]).callback.call(yt.ctx,mt);return;case 2:for(;++At<Ht;)(yt=K[At]).callback.call(yt.ctx,mt,Vt);return;case 3:for(;++At<Ht;)(yt=K[At]).callback.call(yt.ctx,mt,Vt,Et);return;default:for(;++At<Ht;)(yt=K[At]).callback.apply(yt.ctx,st);return}},Z=function(K,st){this.id=K._listenId,this.listener=K,this.obj=st,this.interop=!0,this.count=0,this._events=void 0};Z.prototype.on=w.on,Z.prototype.off=function(K,st){var yt;this.interop?(this._events=L(U,this._events,K,st,{context:void 0,listeners:void 0}),yt=!this._events):(this.count--,yt=this.count===0),yt&&this.cleanup()},Z.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},w.bind=w.on,w.unbind=w.off,x.extend(q,w);var ot=q.Model=function(K,st){var yt=K||{};st||(st={}),this.preinitialize.apply(this,arguments),this.cid=x.uniqueId(this.cidPrefix),this.attributes={},st.collection&&(this.collection=st.collection),st.parse&&(yt=this.parse(yt,st)||{});var At=x.result(this,"defaults");yt=x.defaults(x.extend({},At,yt),At),this.set(yt,st),this.changed={},this.initialize.apply(this,arguments)};x.extend(ot.prototype,w,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(K){return x.clone(this.attributes)},sync:function(){return q.sync.apply(this,arguments)},get:function(K){return this.attributes[K]},escape:function(K){return x.escape(this.get(K))},has:function(K){return this.get(K)!=null},matches:function(K){return!!x.iteratee(K,this)(this.attributes)},set:function(K,st,yt){if(K==null)return this;var At;if(typeof K=="object"?(At=K,yt=st):(At={})[K]=st,yt||(yt={}),!this._validate(At,yt))return!1;var Ht=yt.unset,mt=yt.silent,Vt=[],Et=this._changing;this._changing=!0,Et||(this._previousAttributes=x.clone(this.attributes),this.changed={});var _e=this.attributes,Pe=this.changed,Se=this._previousAttributes;for(var Ve in At)st=At[Ve],x.isEqual(_e[Ve],st)||Vt.push(Ve),x.isEqual(Se[Ve],st)?delete Pe[Ve]:Pe[Ve]=st,Ht?delete _e[Ve]:_e[Ve]=st;if(this.idAttribute in At){var Ue=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,Ue,yt)}if(!mt){Vt.length&&(this._pending=yt);for(var me=0;me<Vt.length;me++)this.trigger("change:"+Vt[me],this,_e[Vt[me]],yt)}if(Et)return this;if(!mt)for(;this._pending;)yt=this._pending,this._pending=!1,this.trigger("change",this,yt);return this._pending=!1,this._changing=!1,this},unset:function(K,st){return this.set(K,void 0,x.extend({},st,{unset:!0}))},clear:function(K){var st={};for(var yt in this.attributes)st[yt]=void 0;return this.set(st,x.extend({},K,{unset:!0}))},hasChanged:function(K){return K==null?!x.isEmpty(this.changed):x.has(this.changed,K)},changedAttributes:function(K){if(!K)return this.hasChanged()?x.clone(this.changed):!1;var st=this._changing?this._previousAttributes:this.attributes,yt={},At;for(var Ht in K){var mt=K[Ht];x.isEqual(st[Ht],mt)||(yt[Ht]=mt,At=!0)}return At?yt:!1},previous:function(K){return K==null||!this._previousAttributes?null:this._previousAttributes[K]},previousAttributes:function(){return x.clone(this._previousAttributes)},fetch:function(K){K=x.extend({parse:!0},K);var st=this,yt=K.success;return K.success=function(At){var Ht=K.parse?st.parse(At,K):At;if(!st.set(Ht,K))return!1;yt&&yt.call(K.context,st,At,K),st.trigger("sync",st,At,K)},fe(this,K),this.sync("read",this,K)},save:function(K,st,yt){var At;K==null||typeof K=="object"?(At=K,yt=st):(At={})[K]=st,yt=x.extend({validate:!0,parse:!0},yt);var Ht=yt.wait;if(At&&!Ht){if(!this.set(At,yt))return!1}else if(!this._validate(At,yt))return!1;var mt=this,Vt=yt.success,Et=this.attributes;yt.success=function(Se){mt.attributes=Et;var Ve=yt.parse?mt.parse(Se,yt):Se;if(Ht&&(Ve=x.extend({},At,Ve)),Ve&&!mt.set(Ve,yt))return!1;Vt&&Vt.call(yt.context,mt,Se,yt),mt.trigger("sync",mt,Se,yt)},fe(this,yt),At&&Ht&&(this.attributes=x.extend({},Et,At));var _e=this.isNew()?"create":yt.patch?"patch":"update";_e==="patch"&&!yt.attrs&&(yt.attrs=At);var Pe=this.sync(_e,this,yt);return this.attributes=Et,Pe},destroy:function(K){K=K?x.clone(K):{};var st=this,yt=K.success,At=K.wait,Ht=function(){st.stopListening(),st.trigger("destroy",st,st.collection,K)};K.success=function(Vt){At&&Ht(),yt&&yt.call(K.context,st,Vt,K),st.isNew()||st.trigger("sync",st,Vt,K)};var mt=!1;return this.isNew()?x.defer(K.success):(fe(this,K),mt=this.sync("delete",this,K)),At||Ht(),mt},url:function(){var K=x.result(this,"urlRoot")||x.result(this.collection,"url")||rr();if(this.isNew())return K;var st=this.get(this.idAttribute);return K.replace(/[^\/]$/,"$&/")+encodeURIComponent(st)},parse:function(K,st){return K},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(K){return this._validate({},x.extend({},K,{validate:!0}))},_validate:function(K,st){if(!st.validate||!this.validate)return!0;K=x.extend({},this.attributes,K);var yt=this.validationError=this.validate(K,st)||null;return yt?(this.trigger("invalid",this,yt,x.extend(st,{validationError:yt})),!1):!0}});var Y=q.Collection=function(K,st){st||(st={}),this.preinitialize.apply(this,arguments),st.model&&(this.model=st.model),st.comparator!==void 0&&(this.comparator=st.comparator),this._reset(),this.initialize.apply(this,arguments),K&&this.reset(K,x.extend({silent:!0},st))},it={add:!0,remove:!0,merge:!0},T={add:!0,remove:!1},z=function(K,st,yt){yt=Math.min(Math.max(yt,0),K.length);var At=Array(K.length-yt),Ht=st.length,mt;for(mt=0;mt<At.length;mt++)At[mt]=K[mt+yt];for(mt=0;mt<Ht;mt++)K[mt+yt]=st[mt];for(mt=0;mt<At.length;mt++)K[mt+Ht+yt]=At[mt]};x.extend(Y.prototype,w,{model:ot,preinitialize:function(){},initialize:function(){},toJSON:function(K){return this.map(function(st){return st.toJSON(K)})},sync:function(){return q.sync.apply(this,arguments)},add:function(K,st){return this.set(K,x.extend({merge:!1},st,T))},remove:function(K,st){st=x.extend({},st);var yt=!x.isArray(K);K=yt?[K]:K.slice();var At=this._removeModels(K,st);return!st.silent&&At.length&&(st.changes={added:[],merged:[],removed:At},this.trigger("update",this,st)),yt?At[0]:At},set:function(K,st){if(K!=null){st=x.extend({},it,st),st.parse&&!this._isModel(K)&&(K=this.parse(K,st)||[]);var yt=!x.isArray(K);K=yt?[K]:K.slice();var At=st.at;At!=null&&(At=+At),At>this.length&&(At=this.length),At<0&&(At+=this.length+1);var Ht=[],mt=[],Vt=[],Et=[],_e={},Pe=st.add,Se=st.merge,Ve=st.remove,Ue=!1,me=this.comparator&&At==null&&st.sort!==!1,qe=x.isString(this.comparator)?this.comparator:null,Ae,Ze;for(Ze=0;Ze<K.length;Ze++){Ae=K[Ze];var Ar=this.get(Ae);if(Ar){if(Se&&Ae!==Ar){var xe=this._isModel(Ae)?Ae.attributes:Ae;st.parse&&(xe=Ar.parse(xe,st)),Ar.set(xe,st),Vt.push(Ar),me&&!Ue&&(Ue=Ar.hasChanged(qe))}_e[Ar.cid]||(_e[Ar.cid]=!0,Ht.push(Ar)),K[Ze]=Ar}else Pe&&(Ae=K[Ze]=this._prepareModel(Ae,st),Ae&&(mt.push(Ae),this._addReference(Ae,st),_e[Ae.cid]=!0,Ht.push(Ae)))}if(Ve){for(Ze=0;Ze<this.length;Ze++)Ae=this.models[Ze],_e[Ae.cid]||Et.push(Ae);Et.length&&this._removeModels(Et,st)}var Tr=!1,Le=!me&&Pe&&Ve;if(Ht.length&&Le?(Tr=this.length!==Ht.length||x.some(this.models,function(lr,fr){return lr!==Ht[fr]}),this.models.length=0,z(this.models,Ht,0),this.length=this.models.length):mt.length&&(me&&(Ue=!0),z(this.models,mt,At??this.length),this.length=this.models.length),Ue&&this.sort({silent:!0}),!st.silent){for(Ze=0;Ze<mt.length;Ze++)At!=null&&(st.index=At+Ze),Ae=mt[Ze],Ae.trigger("add",Ae,this,st);(Ue||Tr)&&this.trigger("sort",this,st),(mt.length||Et.length||Vt.length)&&(st.changes={added:mt,removed:Et,merged:Vt},this.trigger("update",this,st))}return yt?K[0]:K}},reset:function(K,st){st=st?x.clone(st):{};for(var yt=0;yt<this.models.length;yt++)this._removeReference(this.models[yt],st);return st.previousModels=this.models,this._reset(),K=this.add(K,x.extend({silent:!0},st)),st.silent||this.trigger("reset",this,st),K},push:function(K,st){return this.add(K,x.extend({at:this.length},st))},pop:function(K){var st=this.at(this.length-1);return this.remove(st,K)},unshift:function(K,st){return this.add(K,x.extend({at:0},st))},shift:function(K){var st=this.at(0);return this.remove(st,K)},slice:function(){return E.apply(this.models,arguments)},get:function(K){if(K!=null)return this._byId[K]||this._byId[this.modelId(this._isModel(K)?K.attributes:K,K.idAttribute)]||K.cid&&this._byId[K.cid]},has:function(K){return this.get(K)!=null},at:function(K){return K<0&&(K+=this.length),this.models[K]},where:function(K,st){return this[st?"find":"filter"](K)},findWhere:function(K){return this.where(K,!0)},sort:function(K){var st=this.comparator;if(!st)throw new Error("Cannot sort a set without a comparator");K||(K={});var yt=st.length;return x.isFunction(st)&&(st=st.bind(this)),yt===1||x.isString(st)?this.models=this.sortBy(st):this.models.sort(st),K.silent||this.trigger("sort",this,K),this},pluck:function(K){return this.map(K+"")},fetch:function(K){K=x.extend({parse:!0},K);var st=K.success,yt=this;return K.success=function(At){var Ht=K.reset?"reset":"set";yt[Ht](At,K),st&&st.call(K.context,yt,At,K),yt.trigger("sync",yt,At,K)},fe(this,K),this.sync("read",this,K)},create:function(K,st){st=st?x.clone(st):{};var yt=st.wait;if(K=this._prepareModel(K,st),!K)return!1;yt||this.add(K,st);var At=this,Ht=st.success;return st.success=function(mt,Vt,Et){yt&&At.add(mt,Et),Ht&&Ht.call(Et.context,mt,Vt,Et)},K.save(null,st),K},parse:function(K,st){return K},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(K,st){return K[st||this.model.prototype.idAttribute||"id"]},values:function(){return new N(this,G)},keys:function(){return new N(this,P)},entries:function(){return new N(this,$)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(K,st){if(this._isModel(K))return K.collection||(K.collection=this),K;st=st?x.clone(st):{},st.collection=this;var yt;return this.model.prototype?yt=new this.model(K,st):yt=this.model(K,st),yt.validationError?(this.trigger("invalid",this,yt.validationError,st),!1):yt},_removeModels:function(K,st){for(var yt=[],At=0;At<K.length;At++){var Ht=this.get(K[At]);if(Ht){var mt=this.indexOf(Ht);this.models.splice(mt,1),this.length--,delete this._byId[Ht.cid];var Vt=this.modelId(Ht.attributes,Ht.idAttribute);Vt!=null&&delete this._byId[Vt],st.silent||(st.index=mt,Ht.trigger("remove",Ht,this,st)),yt.push(Ht),this._removeReference(Ht,st)}}return yt},_isModel:function(K){return K instanceof ot},_addReference:function(K,st){this._byId[K.cid]=K;var yt=this.modelId(K.attributes,K.idAttribute);yt!=null&&(this._byId[yt]=K),K.on("all",this._onModelEvent,this)},_removeReference:function(K,st){delete this._byId[K.cid];var yt=this.modelId(K.attributes,K.idAttribute);yt!=null&&delete this._byId[yt],this===K.collection&&delete K.collection,K.off("all",this._onModelEvent,this)},_onModelEvent:function(K,st,yt,At){if(st){if((K==="add"||K==="remove")&&yt!==this)return;if(K==="destroy"&&this.remove(st,At),K==="changeId"){var Ht=this.modelId(st.previousAttributes(),st.idAttribute),mt=this.modelId(st.attributes,st.idAttribute);Ht!=null&&delete this._byId[Ht],mt!=null&&(this._byId[mt]=st)}}this.trigger.apply(this,arguments)}});var I=typeof Symbol=="function"&&Symbol.iterator;I&&(Y.prototype[I]=Y.prototype.values);var N=function(K,st){this._collection=K,this._kind=st,this._index=0},G=1,P=2,$=3;I&&(N.prototype[I]=function(){return this}),N.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var K=this._collection.at(this._index);this._index++;var st;if(this._kind===G)st=K;else{var yt=this._collection.modelId(K.attributes,K.idAttribute);this._kind===P?st=yt:st=[yt,K]}return{value:st,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var y=q.View=function(K){this.cid=x.uniqueId("view"),this.preinitialize.apply(this,arguments),x.extend(this,x.pick(K,X)),this._ensureElement(),this.initialize.apply(this,arguments)},rt=/^(\S+)\s*(.*)$/,X=["model","collection","el","id","attributes","className","tagName","events"];x.extend(y.prototype,w,{tagName:"div",$:function(K){return this.$el.find(K)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(K){return this.undelegateEvents(),this._setElement(K),this.delegateEvents(),this},_setElement:function(K){this.$el=K instanceof q.$?K:q.$(K),this.el=this.$el[0]},delegateEvents:function(K){if(K||(K=x.result(this,"events")),!K)return this;this.undelegateEvents();for(var st in K){var yt=K[st];if(x.isFunction(yt)||(yt=this[yt]),!!yt){var At=st.match(rt);this.delegate(At[1],At[2],yt.bind(this))}}return this},delegate:function(K,st,yt){return this.$el.on(K+".delegateEvents"+this.cid,st,yt),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(K,st,yt){return this.$el.off(K+".delegateEvents"+this.cid,st,yt),this},_createElement:function(K){return document.createElement(K)},_ensureElement:function(){if(this.el)this.setElement(x.result(this,"el"));else{var K=x.extend({},x.result(this,"attributes"));this.id&&(K.id=x.result(this,"id")),this.className&&(K.class=x.result(this,"className")),this.setElement(this._createElement(x.result(this,"tagName"))),this._setAttributes(K)}},_setAttributes:function(K){this.$el.attr(K)}});var wt=function(K,st,yt,At){switch(st){case 1:return function(){return K[yt](this[At])};case 2:return function(Ht){return K[yt](this[At],Ht)};case 3:return function(Ht,mt){return K[yt](this[At],Ct(Ht,this),mt)};case 4:return function(Ht,mt,Vt){return K[yt](this[At],Ct(Ht,this),mt,Vt)};default:return function(){var Ht=E.call(arguments);return Ht.unshift(this[At]),K[yt].apply(K,Ht)}}},Kt=function(K,st,yt,At){x.each(yt,function(Ht,mt){st[mt]&&(K.prototype[mt]=wt(st,Ht,mt,At))})},Ct=function(K,st){return x.isFunction(K)?K:x.isObject(K)&&!st._isModel(K)?Ut(K):x.isString(K)?function(yt){return yt.get(K)}:K},Ut=function(K){var st=x.matches(K);return function(yt){return st(yt.attributes)}},zt={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},Nt={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};x.each([[Y,zt,"models"],[ot,Nt,"attributes"]],function(K){var st=K[0],yt=K[1],At=K[2];st.mixin=function(Ht){var mt=x.reduce(x.functions(Ht),function(Vt,Et){return Vt[Et]=0,Vt},{});Kt(st,Ht,mt,At)},Kt(st,x,yt,At)}),q.sync=function(K,st,yt){var At=Qt[K];x.defaults(yt||(yt={}),{emulateHTTP:q.emulateHTTP,emulateJSON:q.emulateJSON});var Ht={type:At,dataType:"json"};if(yt.url||(Ht.url=x.result(st,"url")||rr()),yt.data==null&&st&&(K==="create"||K==="update"||K==="patch")&&(Ht.contentType="application/json",Ht.data=JSON.stringify(yt.attrs||st.toJSON(yt))),yt.emulateJSON&&(Ht.contentType="application/x-www-form-urlencoded",Ht.data=Ht.data?{model:Ht.data}:{}),yt.emulateHTTP&&(At==="PUT"||At==="DELETE"||At==="PATCH")){Ht.type="POST",yt.emulateJSON&&(Ht.data._method=At);var mt=yt.beforeSend;yt.beforeSend=function(_e){if(_e.setRequestHeader("X-HTTP-Method-Override",At),mt)return mt.apply(this,arguments)}}Ht.type!=="GET"&&!yt.emulateJSON&&(Ht.processData=!1);var Vt=yt.error;yt.error=function(_e,Pe,Se){yt.textStatus=Pe,yt.errorThrown=Se,Vt&&Vt.call(yt.context,_e,Pe,Se)};var Et=yt.xhr=q.ajax(x.extend(Ht,yt));return st.trigger("request",st,Et,yt),Et};var Qt={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};q.ajax=function(){return q.$.ajax.apply(q.$,arguments)};var Ot=q.Router=function(K){K||(K={}),this.preinitialize.apply(this,arguments),K.routes&&(this.routes=K.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},Dt=/\((.*?)\)/g,Wt=/(\(\?)?:\w+/g,oe=/\*\w+/g,$t=/[\-{}\[\]+?.,\\\^$|#\s]/g;x.extend(Ot.prototype,w,{preinitialize:function(){},initialize:function(){},route:function(K,st,yt){x.isRegExp(K)||(K=this._routeToRegExp(K)),x.isFunction(st)&&(yt=st,st=""),yt||(yt=this[st]);var At=this;return q.history.route(K,function(Ht){var mt=At._extractParameters(K,Ht);At.execute(yt,mt,st)!==!1&&(At.trigger.apply(At,["route:"+st].concat(mt)),At.trigger("route",st,mt),q.history.trigger("route",At,st,mt))}),this},execute:function(K,st,yt){K&&K.apply(this,st)},navigate:function(K,st){return q.history.navigate(K,st),this},_bindRoutes:function(){if(this.routes){this.routes=x.result(this,"routes");for(var K,st=x.keys(this.routes);(K=st.pop())!=null;)this.route(K,this.routes[K])}},_routeToRegExp:function(K){return K=K.replace($t,"\\$&").replace(Dt,"(?:$1)?").replace(Wt,function(st,yt){return yt?st:"([^/?]+)"}).replace(oe,"([^?]*?)"),new RegExp("^"+K+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(K,st){var yt=K.exec(st).slice(1);return x.map(yt,function(At,Ht){return Ht===yt.length-1?At||null:At?decodeURIComponent(At):null})}});var Jt=q.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),typeof window<"u"&&(this.location=window.location,this.history=window.history)},ue=/^[#\/]|\s+$/g,Ne=/^\/+|\/+$/g,tr=/#.*$/;Jt.started=!1,x.extend(Jt.prototype,w,{interval:50,atRoot:function(){var K=this.location.pathname.replace(/[^\/]$/,"$&/");return K===this.root&&!this.getSearch()},matchRoot:function(){var K=this.decodeFragment(this.location.pathname),st=K.slice(0,this.root.length-1)+"/";return st===this.root},decodeFragment:function(K){return decodeURI(K.replace(/%25/g,"%2525"))},getSearch:function(){var K=this.location.href.replace(/#.*/,"").match(/\?.+/);return K?K[0]:""},getHash:function(K){var st=(K||this).location.href.match(/#(.*)$/);return st?st[1]:""},getPath:function(){var K=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return K.charAt(0)==="/"?K.slice(1):K},getFragment:function(K){return K==null&&(this._usePushState||!this._wantsHashChange?K=this.getPath():K=this.getHash()),K.replace(ue,"")},start:function(K){if(Jt.started)throw new Error("Backbone.history has already been started");if(Jt.started=!0,this.options=x.extend({root:"/"},this.options,K),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.history&&this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(Ne,"/"),this._wantsHashChange&&this._wantsPushState)if(!this._hasPushState&&!this.atRoot()){var st=this.root.slice(0,-1)||"/";return this.location.replace(st+"#"+this.getPath()),!0}else this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0});if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var yt=document.body,At=yt.insertBefore(this.iframe,yt.firstChild).contentWindow;At.document.open(),At.document.close(),At.location.hash="#"+this.fragment}var Ht=window.addEventListener||function(mt,Vt){return attachEvent("on"+mt,Vt)};if(this._usePushState?Ht("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?Ht("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var K=window.removeEventListener||function(st,yt){return detachEvent("on"+st,yt)};this._usePushState?K("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&K("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),Jt.started=!1},route:function(K,st){this.handlers.unshift({route:K,callback:st})},checkUrl:function(K){var st=this.getFragment();if(st===this.fragment&&this.iframe&&(st=this.getHash(this.iframe.contentWindow)),st===this.fragment)return!1;this.iframe&&this.navigate(st),this.loadUrl()},loadUrl:function(K){return this.matchRoot()?(K=this.fragment=this.getFragment(K),x.some(this.handlers,function(st){if(st.route.test(K))return st.callback(K),!0})):!1},navigate:function(K,st){if(!Jt.started)return!1;(!st||st===!0)&&(st={trigger:!!st}),K=this.getFragment(K||"");var yt=this.root;(K===""||K.charAt(0)==="?")&&(yt=yt.slice(0,-1)||"/");var At=yt+K;K=K.replace(tr,"");var Ht=this.decodeFragment(K);if(this.fragment!==Ht){if(this.fragment=Ht,this._usePushState)this.history[st.replace?"replaceState":"pushState"]({},document.title,At);else if(this._wantsHashChange){if(this._updateHash(this.location,K,st.replace),this.iframe&&K!==this.getHash(this.iframe.contentWindow)){var mt=this.iframe.contentWindow;st.replace||(mt.document.open(),mt.document.close()),this._updateHash(mt.location,K,st.replace)}}else return this.location.assign(At);if(st.trigger)return this.loadUrl(K)}},_updateHash:function(K,st,yt){if(yt){var At=K.href.replace(/(javascript:|#).*$/,"");K.replace(At+"#"+st)}else K.hash="#"+st}}),q.history=new Jt;var ir=function(K,st){var yt=this,At;return K&&x.has(K,"constructor")?At=K.constructor:At=function(){return yt.apply(this,arguments)},x.extend(At,yt,st),At.prototype=x.create(yt.prototype,K),At.prototype.constructor=At,At.__super__=yt.prototype,At};ot.extend=Y.extend=Ot.extend=y.extend=Jt.extend=ir;var rr=function(){throw new Error('A "url" property or function must be specified')},fe=function(K,st){var yt=st.error;st.error=function(At){yt&&yt.call(st.context,K,At,st),K.trigger("error",K,At,st)}};return q})},210:(V,vt,bt)=>{(function(ct){ct(bt(631))})(function(ct){ct.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(tt,q){return/^[;{}]$/.test(q)}}),ct.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(tt,q,x,M){return this.jsonMode?/^[\[,{]$/.test(q)||/^}/.test(x):q==";"&&M.lexical&&M.lexical.type==")"?!1:/^[;{}]$/.test(q)&&!/^;/.test(x)}});var ht=/^(a|abbr|acronym|area|base|bdo|big|br|button|caption|cite|code|col|colgroup|dd|del|dfn|em|frame|hr|iframe|img|input|ins|kbd|label|legend|link|map|object|optgroup|option|param|q|samp|script|select|small|span|strong|sub|sup|textarea|tt|var)$/;ct.extendMode("xml",{commentStart:"<!--",commentEnd:"-->",newlineAfterToken:function(tt,q,x,M){var m=!1;return this.configuration=="html"&&(m=M.context?ht.test(M.context.tagName):!1),!m&&(tt=="tag"&&/>$/.test(q)&&M.context||/^</.test(x))}}),ct.defineExtension("commentRange",function(tt,q,x){var M=this,m=ct.innerMode(M.getMode(),M.getTokenAt(q).state).mode;M.operation(function(){if(tt)M.replaceRange(m.commentEnd,x),M.replaceRange(m.commentStart,q),q.line==x.line&&q.ch==x.ch&&M.setCursor(q.line,q.ch+m.commentStart.length);else{var E=M.getRange(q,x),w=E.indexOf(m.commentStart),C=E.lastIndexOf(m.commentEnd);w>-1&&C>-1&&C>w&&(E=E.substr(0,w)+E.substring(w+m.commentStart.length,C)+E.substr(C+m.commentEnd.length)),M.replaceRange(E,q,x)}})}),ct.defineExtension("autoIndentRange",function(tt,q){var x=this;this.operation(function(){for(var M=tt.line;M<=q.line;M++)x.indentLine(M,"smart")})}),ct.defineExtension("autoFormatRange",function(tt,q){var x=this,M=x.getMode(),m=x.getRange(tt,q).split(`
`),E=ct.copyState(M,x.getTokenAt(tt).state),w=x.getOption("tabSize"),C="",O=0,L=tt.ch===0;function et(){C+=`
`,L=!0,++O}for(var J=0;J<m.length;++J){for(var U=new ct.StringStream(m[J],w);!U.eol();){var R=ct.innerMode(M,E),D=M.token(U,E),k=U.current();U.start=U.pos,(!L||/\S/.test(k))&&(C+=k,L=!1),!L&&R.mode.newlineAfterToken&&R.mode.newlineAfterToken(D,k,U.string.slice(U.pos)||m[J+1]||"",R.state)&&et()}!U.pos&&M.blankLine&&M.blankLine(E),!L&&J<m.length-1&&et()}x.operation(function(){x.replaceRange(C,tt,q);for(var Z=tt.line+1,ot=tt.line+O;Z<=ot;++Z)x.indentLine(Z,"smart");x.setSelection(tt,x.getCursor(!1))})})})},631:function(V){(function(vt,bt){V.exports=bt()})(this,function(){var vt=navigator.userAgent,bt=navigator.platform,ct=/gecko\/\d/i.test(vt),ht=/MSIE \d/.test(vt),tt=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(vt),q=/Edge\/(\d+)/.exec(vt),x=ht||tt||q,M=x&&(ht?document.documentMode||6:+(q||tt)[1]),m=!q&&/WebKit\//.test(vt),E=m&&/Qt\/\d+\.\d+/.test(vt),w=!q&&/Chrome\/(\d+)/.exec(vt),C=w&&+w[1],O=/Opera\//.test(vt),L=/Apple Computer/.test(navigator.vendor),et=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(vt),J=/PhantomJS/.test(vt),U=L&&(/Mobile\/\w+/.test(vt)||navigator.maxTouchPoints>2),R=/Android/.test(vt),D=U||R||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(vt),k=U||/Mac/.test(bt),Z=/\bCrOS\b/.test(vt),ot=/win/i.test(bt),Y=O&&vt.match(/Version\/(\d*\.\d*)/);Y&&(Y=Number(Y[1])),Y&&Y>=15&&(O=!1,m=!0);var it=k&&(E||O&&(Y==null||Y<12.11)),T=ct||x&&M>=9;function z(i){return new RegExp("(^|\\s)"+i+"(?:$|\\s)\\s*")}var I=function(i,s){var u=i.className,c=z(s).exec(u);if(c){var d=u.slice(c.index+c[0].length);i.className=u.slice(0,c.index)+(d?c[1]+d:"")}};function N(i){for(var s=i.childNodes.length;s>0;--s)i.removeChild(i.firstChild);return i}function G(i,s){return N(i).appendChild(s)}function P(i,s,u,c){var d=document.createElement(i);if(u&&(d.className=u),c&&(d.style.cssText=c),typeof s=="string")d.appendChild(document.createTextNode(s));else if(s)for(var g=0;g<s.length;++g)d.appendChild(s[g]);return d}function $(i,s,u,c){var d=P(i,s,u,c);return d.setAttribute("role","presentation"),d}var y;document.createRange?y=function(i,s,u,c){var d=document.createRange();return d.setEnd(c||i,u),d.setStart(i,s),d}:y=function(i,s,u){var c=document.body.createTextRange();try{c.moveToElementText(i.parentNode)}catch{return c}return c.collapse(!0),c.moveEnd("character",u),c.moveStart("character",s),c};function rt(i,s){if(s.nodeType==3&&(s=s.parentNode),i.contains)return i.contains(s);do if(s.nodeType==11&&(s=s.host),s==i)return!0;while(s=s.parentNode)}function X(i){var s;try{s=i.activeElement}catch{s=i.body||null}for(;s&&s.shadowRoot&&s.shadowRoot.activeElement;)s=s.shadowRoot.activeElement;return s}function wt(i,s){var u=i.className;z(s).test(u)||(i.className+=(u?" ":"")+s)}function Kt(i,s){for(var u=i.split(" "),c=0;c<u.length;c++)u[c]&&!z(u[c]).test(s)&&(s+=" "+u[c]);return s}var Ct=function(i){i.select()};U?Ct=function(i){i.selectionStart=0,i.selectionEnd=i.value.length}:x&&(Ct=function(i){try{i.select()}catch{}});function Ut(i){return i.display.wrapper.ownerDocument}function zt(i){return Ut(i).defaultView}function Nt(i){var s=Array.prototype.slice.call(arguments,1);return function(){return i.apply(null,s)}}function Qt(i,s,u){s||(s={});for(var c in i)i.hasOwnProperty(c)&&(u!==!1||!s.hasOwnProperty(c))&&(s[c]=i[c]);return s}function Ot(i,s,u,c,d){s==null&&(s=i.search(/[^\s\u00a0]/),s==-1&&(s=i.length));for(var g=c||0,b=d||0;;){var S=i.indexOf("	",g);if(S<0||S>=s)return b+(s-g);b+=S-g,b+=u-b%u,g=S+1}}var Dt=function(){this.id=null,this.f=null,this.time=0,this.handler=Nt(this.onTimeout,this)};Dt.prototype.onTimeout=function(i){i.id=0,i.time<=+new Date?i.f():setTimeout(i.handler,i.time-+new Date)},Dt.prototype.set=function(i,s){this.f=s;var u=+new Date+i;(!this.id||u<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,i),this.time=u)};function Wt(i,s){for(var u=0;u<i.length;++u)if(i[u]==s)return u;return-1}var oe=50,$t={toString:function(){return"CodeMirror.Pass"}},Jt={scroll:!1},ue={origin:"*mouse"},Ne={origin:"+move"};function tr(i,s,u){for(var c=0,d=0;;){var g=i.indexOf("	",c);g==-1&&(g=i.length);var b=g-c;if(g==i.length||d+b>=s)return c+Math.min(b,s-d);if(d+=g-c,d+=u-d%u,c=g+1,d>=s)return c}}var ir=[""];function rr(i){for(;ir.length<=i;)ir.push(fe(ir)+" ");return ir[i]}function fe(i){return i[i.length-1]}function K(i,s){for(var u=[],c=0;c<i.length;c++)u[c]=s(i[c],c);return u}function st(i,s,u){for(var c=0,d=u(s);c<i.length&&u(i[c])<=d;)c++;i.splice(c,0,s)}function yt(){}function At(i,s){var u;return Object.create?u=Object.create(i):(yt.prototype=i,u=new yt),s&&Qt(s,u),u}var Ht=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function mt(i){return/\w/.test(i)||i>""&&(i.toUpperCase()!=i.toLowerCase()||Ht.test(i))}function Vt(i,s){return s?s.source.indexOf("\\w")>-1&&mt(i)?!0:s.test(i):mt(i)}function Et(i){for(var s in i)if(i.hasOwnProperty(s)&&i[s])return!1;return!0}var _e=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function Pe(i){return i.charCodeAt(0)>=768&&_e.test(i)}function Se(i,s,u){for(;(u<0?s>0:s<i.length)&&Pe(i.charAt(s));)s+=u;return s}function Ve(i,s,u){for(var c=s>u?-1:1;;){if(s==u)return s;var d=(s+u)/2,g=c<0?Math.ceil(d):Math.floor(d);if(g==s)return i(g)?s:u;i(g)?u=g:s=g+c}}function Ue(i,s,u,c){if(!i)return c(s,u,"ltr",0);for(var d=!1,g=0;g<i.length;++g){var b=i[g];(b.from<u&&b.to>s||s==u&&b.to==s)&&(c(Math.max(b.from,s),Math.min(b.to,u),b.level==1?"rtl":"ltr",g),d=!0)}d||c(s,u,"ltr")}var me=null;function qe(i,s,u){var c;me=null;for(var d=0;d<i.length;++d){var g=i[d];if(g.from<s&&g.to>s)return d;g.to==s&&(g.from!=g.to&&u=="before"?c=d:me=d),g.from==s&&(g.from!=g.to&&u!="before"?c=d:me=d)}return c??me}var Ae=function(){var i="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",s="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function u(W){return W<=247?i.charAt(W):1424<=W&&W<=1524?"R":1536<=W&&W<=1785?s.charAt(W-1536):1774<=W&&W<=2220?"r":8192<=W&&W<=8203?"w":W==8204?"b":"L"}var c=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,d=/[stwN]/,g=/[LRr]/,b=/[Lb1n]/,S=/[1n]/;function j(W,dt,xt){this.level=W,this.from=dt,this.to=xt}return function(W,dt){var xt=dt=="ltr"?"L":"R";if(W.length==0||dt=="ltr"&&!c.test(W))return!1;for(var jt=W.length,kt=[],Gt=0;Gt<jt;++Gt)kt.push(u(W.charCodeAt(Gt)));for(var qt=0,ie=xt;qt<jt;++qt){var le=kt[qt];le=="m"?kt[qt]=ie:ie=le}for(var ge=0,ce=xt;ge<jt;++ge){var ye=kt[ge];ye=="1"&&ce=="r"?kt[ge]="n":g.test(ye)&&(ce=ye,ye=="r"&&(kt[ge]="R"))}for(var Ee=1,Te=kt[0];Ee<jt-1;++Ee){var Ke=kt[Ee];Ke=="+"&&Te=="1"&&kt[Ee+1]=="1"?kt[Ee]="1":Ke==","&&Te==kt[Ee+1]&&(Te=="1"||Te=="n")&&(kt[Ee]=Te),Te=Ke}for(var mr=0;mr<jt;++mr){var Zr=kt[mr];if(Zr==",")kt[mr]="N";else if(Zr=="%"){var Or=void 0;for(Or=mr+1;Or<jt&&kt[Or]=="%";++Or);for(var nn=mr&&kt[mr-1]=="!"||Or<jt&&kt[Or]=="1"?"1":"N",wn=mr;wn<Or;++wn)kt[wn]=nn;mr=Or-1}}for(var vr=0,kn=xt;vr<jt;++vr){var Yr=kt[vr];kn=="L"&&Yr=="1"?kt[vr]="L":g.test(Yr)&&(kn=Yr)}for(var Gr=0;Gr<jt;++Gr)if(d.test(kt[Gr])){var Br=void 0;for(Br=Gr+1;Br<jt&&d.test(kt[Br]);++Br);for(var Pr=(Gr?kt[Gr-1]:xt)=="L",An=(Br<jt?kt[Br]:xt)=="L",xa=Pr==An?Pr?"L":"R":xt,ai=Gr;ai<Br;++ai)kt[ai]=xa;Gr=Br-1}for(var on=[],Hn,Xr=0;Xr<jt;)if(b.test(kt[Xr])){var Ri=Xr;for(++Xr;Xr<jt&&b.test(kt[Xr]);++Xr);on.push(new j(0,Ri,Xr))}else{var Yn=Xr,Ni=on.length,si=dt=="rtl"?1:0;for(++Xr;Xr<jt&&kt[Xr]!="L";++Xr);for(var _n=Yn;_n<Xr;)if(S.test(kt[_n])){Yn<_n&&(on.splice(Ni,0,new j(1,Yn,_n)),Ni+=si);var Ca=_n;for(++_n;_n<Xr&&S.test(kt[_n]);++_n);on.splice(Ni,0,new j(2,Ca,_n)),Ni+=si,Yn=_n}else++_n;Yn<Xr&&on.splice(Ni,0,new j(1,Yn,Xr))}return dt=="ltr"&&(on[0].level==1&&(Hn=W.match(/^\s+/))&&(on[0].from=Hn[0].length,on.unshift(new j(0,0,Hn[0].length))),fe(on).level==1&&(Hn=W.match(/\s+$/))&&(fe(on).to-=Hn[0].length,on.push(new j(0,jt-Hn[0].length,jt)))),dt=="rtl"?on.reverse():on}}();function Ze(i,s){var u=i.order;return u==null&&(u=i.order=Ae(i.text,s)),u}var Ar=[],xe=function(i,s,u){if(i.addEventListener)i.addEventListener(s,u,!1);else if(i.attachEvent)i.attachEvent("on"+s,u);else{var c=i._handlers||(i._handlers={});c[s]=(c[s]||Ar).concat(u)}};function Tr(i,s){return i._handlers&&i._handlers[s]||Ar}function Le(i,s,u){if(i.removeEventListener)i.removeEventListener(s,u,!1);else if(i.detachEvent)i.detachEvent("on"+s,u);else{var c=i._handlers,d=c&&c[s];if(d){var g=Wt(d,u);g>-1&&(c[s]=d.slice(0,g).concat(d.slice(g+1)))}}}function lr(i,s){var u=Tr(i,s);if(u.length)for(var c=Array.prototype.slice.call(arguments,2),d=0;d<u.length;++d)u[d].apply(null,c)}function fr(i,s,u){return typeof s=="string"&&(s={type:s,preventDefault:function(){this.defaultPrevented=!0}}),lr(i,u||s.type,i,s),Lt(s)||s.codemirrorIgnore}function dr(i){var s=i._handlers&&i._handlers.cursorActivity;if(s)for(var u=i.curOp.cursorActivityHandlers||(i.curOp.cursorActivityHandlers=[]),c=0;c<s.length;++c)Wt(u,s[c])==-1&&u.push(s[c])}function ee(i,s){return Tr(i,s).length>0}function Kn(i){i.prototype.on=function(s,u){xe(this,s,u)},i.prototype.off=function(s,u){Le(this,s,u)}}function at(i){i.preventDefault?i.preventDefault():i.returnValue=!1}function Tt(i){i.stopPropagation?i.stopPropagation():i.cancelBubble=!0}function Lt(i){return i.defaultPrevented!=null?i.defaultPrevented:i.returnValue==!1}function Yt(i){at(i),Tt(i)}function ve(i){return i.target||i.srcElement}function je(i){var s=i.which;return s==null&&(i.button&1?s=1:i.button&2?s=3:i.button&4&&(s=2)),k&&i.ctrlKey&&s==1&&(s=3),s}var Ye=function(){if(x&&M<9)return!1;var i=P("div");return"draggable"in i||"dragDrop"in i}(),ln;function xn(i){if(ln==null){var s=P("span","​");G(i,P("span",[s,document.createTextNode("x")])),i.firstChild.offsetHeight!=0&&(ln=s.offsetWidth<=1&&s.offsetHeight>2&&!(x&&M<8))}var u=ln?P("span","​"):P("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return u.setAttribute("cm-text",""),u}var xr;function Lo(i){if(xr!=null)return xr;var s=G(i,document.createTextNode("AخA")),u=y(s,0,1).getBoundingClientRect(),c=y(s,1,2).getBoundingClientRect();return N(i),!u||u.left==u.right?!1:xr=c.right-u.right<3}var vn=`

b`.split(/\n/).length!=3?function(i){for(var s=0,u=[],c=i.length;s<=c;){var d=i.indexOf(`
`,s);d==-1&&(d=i.length);var g=i.slice(s,i.charAt(d-1)=="\r"?d-1:d),b=g.indexOf("\r");b!=-1?(u.push(g.slice(0,b)),s+=b+1):(u.push(g),s=d+1)}return u}:function(i){return i.split(/\r\n?|\n/)},Cn=window.getSelection?function(i){try{return i.selectionStart!=i.selectionEnd}catch{return!1}}:function(i){var s;try{s=i.ownerDocument.selection.createRange()}catch{}return!s||s.parentElement()!=i?!1:s.compareEndPoints("StartToEnd",s)!=0},bo=function(){var i=P("div");return"oncopy"in i?!0:(i.setAttribute("oncopy","return;"),typeof i.oncopy=="function")}(),Mr=null;function Cr(i){if(Mr!=null)return Mr;var s=G(i,P("span","x")),u=s.getBoundingClientRect(),c=y(s,0,1).getBoundingClientRect();return Mr=Math.abs(u.left-c.left)>1}var zr={},Sn={};function $n(i,s){arguments.length>2&&(s.dependencies=Array.prototype.slice.call(arguments,2)),zr[i]=s}function jo(i,s){Sn[i]=s}function Vn(i){if(typeof i=="string"&&Sn.hasOwnProperty(i))i=Sn[i];else if(i&&typeof i.name=="string"&&Sn.hasOwnProperty(i.name)){var s=Sn[i.name];typeof s=="string"&&(s={name:s}),i=At(s,i),i.name=s.name}else{if(typeof i=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(i))return Vn("application/xml");if(typeof i=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(i))return Vn("application/json")}return typeof i=="string"?{name:i}:i||{name:"null"}}function Qr(i,s){s=Vn(s);var u=zr[s.name];if(!u)return Qr(i,"text/plain");var c=u(i,s);if(Wr.hasOwnProperty(s.name)){var d=Wr[s.name];for(var g in d)d.hasOwnProperty(g)&&(c.hasOwnProperty(g)&&(c["_"+g]=c[g]),c[g]=d[g])}if(c.name=s.name,s.helperType&&(c.helperType=s.helperType),s.modeProps)for(var b in s.modeProps)c[b]=s.modeProps[b];return c}var Wr={};function qn(i,s){var u=Wr.hasOwnProperty(i)?Wr[i]:Wr[i]={};Qt(s,u)}function Mn(i,s){if(s===!0)return s;if(i.copyState)return i.copyState(s);var u={};for(var c in s){var d=s[c];d instanceof Array&&(d=d.concat([])),u[c]=d}return u}function On(i,s){for(var u;i.innerMode&&(u=i.innerMode(s),!(!u||u.mode==i));)s=u.state,i=u.mode;return u||{mode:i,state:s}}function Lr(i,s,u){return i.startState?i.startState(s,u):!0}var ar=function(i,s,u){this.pos=this.start=0,this.string=i,this.tabSize=s||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=u};ar.prototype.eol=function(){return this.pos>=this.string.length},ar.prototype.sol=function(){return this.pos==this.lineStart},ar.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},ar.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},ar.prototype.eat=function(i){var s=this.string.charAt(this.pos),u;if(typeof i=="string"?u=s==i:u=s&&(i.test?i.test(s):i(s)),u)return++this.pos,s},ar.prototype.eatWhile=function(i){for(var s=this.pos;this.eat(i););return this.pos>s},ar.prototype.eatSpace=function(){for(var i=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>i},ar.prototype.skipToEnd=function(){this.pos=this.string.length},ar.prototype.skipTo=function(i){var s=this.string.indexOf(i,this.pos);if(s>-1)return this.pos=s,!0},ar.prototype.backUp=function(i){this.pos-=i},ar.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Ot(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Ot(this.string,this.lineStart,this.tabSize):0)},ar.prototype.indentation=function(){return Ot(this.string,null,this.tabSize)-(this.lineStart?Ot(this.string,this.lineStart,this.tabSize):0)},ar.prototype.match=function(i,s,u){if(typeof i=="string"){var c=function(b){return u?b.toLowerCase():b},d=this.string.substr(this.pos,i.length);if(c(d)==c(i))return s!==!1&&(this.pos+=i.length),!0}else{var g=this.string.slice(this.pos).match(i);return g&&g.index>0?null:(g&&s!==!1&&(this.pos+=g[0].length),g)}},ar.prototype.current=function(){return this.string.slice(this.start,this.pos)},ar.prototype.hideFirstChars=function(i,s){this.lineStart+=i;try{return s()}finally{this.lineStart-=i}},ar.prototype.lookAhead=function(i){var s=this.lineOracle;return s&&s.lookAhead(i)},ar.prototype.baseToken=function(){var i=this.lineOracle;return i&&i.baseToken(this.pos)};function we(i,s){if(s-=i.first,s<0||s>=i.size)throw new Error("There is no line "+(s+i.first)+" in the document.");for(var u=i;!u.lines;)for(var c=0;;++c){var d=u.children[c],g=d.chunkSize();if(s<g){u=d;break}s-=g}return u.lines[s]}function cn(i,s,u){var c=[],d=s.line;return i.iter(s.line,u.line+1,function(g){var b=g.text;d==u.line&&(b=b.slice(0,u.ch)),d==s.line&&(b=b.slice(s.ch)),c.push(b),++d}),c}function yr(i,s,u){var c=[];return i.iter(s,u,function(d){c.push(d.text)}),c}function Nr(i,s){var u=s-i.height;if(u)for(var c=i;c;c=c.parent)c.height+=u}function Xe(i){if(i.parent==null)return null;for(var s=i.parent,u=Wt(s.lines,i),c=s.parent;c;s=c,c=c.parent)for(var d=0;c.children[d]!=s;++d)u+=c.children[d].chunkSize();return u+s.first}function tn(i,s){var u=i.first;t:do{for(var c=0;c<i.children.length;++c){var d=i.children[c],g=d.height;if(s<g){i=d;continue t}s-=g,u+=d.chunkSize()}return u}while(!i.lines);for(var b=0;b<i.lines.length;++b){var S=i.lines[b],j=S.height;if(s<j)break;s-=j}return u+b}function jr(i,s){return s>=i.first&&s<i.first+i.size}function gn(i,s){return String(i.lineNumberFormatter(s+i.firstLineNumber))}function F(i,s,u){if(u===void 0&&(u=null),!(this instanceof F))return new F(i,s,u);this.line=i,this.ch=s,this.sticky=u}function ut(i,s){return i.line-s.line||i.ch-s.ch}function Zt(i,s){return i.sticky==s.sticky&&ut(i,s)==0}function re(i){return F(i.line,i.ch)}function Re(i,s){return ut(i,s)<0?s:i}function Je(i,s){return ut(i,s)<0?i:s}function or(i,s){return Math.max(i.first,Math.min(s,i.first+i.size-1))}function Ce(i,s){if(s.line<i.first)return F(i.first,0);var u=i.first+i.size-1;return s.line>u?F(u,we(i,u).text.length):wr(s,we(i,s.line).text.length)}function wr(i,s){var u=i.ch;return u==null||u>s?F(i.line,s):u<0?F(i.line,0):i}function wo(i,s){for(var u=[],c=0;c<s.length;c++)u[c]=Ce(i,s[c]);return u}var mi=function(i,s){this.state=i,this.lookAhead=s},un=function(i,s,u,c){this.state=s,this.doc=i,this.line=u,this.maxLookAhead=c||0,this.baseTokens=null,this.baseTokenPos=1};un.prototype.lookAhead=function(i){var s=this.doc.getLine(this.line+i);return s!=null&&i>this.maxLookAhead&&(this.maxLookAhead=i),s},un.prototype.baseToken=function(i){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=i;)this.baseTokenPos+=2;var s=this.baseTokens[this.baseTokenPos+1];return{type:s&&s.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-i}},un.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},un.fromSaved=function(i,s,u){return s instanceof mi?new un(i,Mn(i.mode,s.state),u,s.lookAhead):new un(i,Mn(i.mode,s),u)},un.prototype.save=function(i){var s=i!==!1?Mn(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new mi(s,this.maxLookAhead):s};function Gi(i,s,u,c){var d=[i.state.modeGen],g={};fn(i,s.text,i.doc.mode,u,function(W,dt){return d.push(W,dt)},g,c);for(var b=u.state,S=function(W){u.baseTokens=d;var dt=i.state.overlays[W],xt=1,jt=0;u.state=!0,fn(i,s.text,dt.mode,u,function(kt,Gt){for(var qt=xt;jt<kt;){var ie=d[xt];ie>kt&&d.splice(xt,1,kt,d[xt+1],ie),xt+=2,jt=Math.min(kt,ie)}if(Gt)if(dt.opaque)d.splice(qt,xt-qt,kt,"overlay "+Gt),xt=qt+2;else for(;qt<xt;qt+=2){var le=d[qt+1];d[qt+1]=(le?le+" ":"")+"overlay "+Gt}},g),u.state=b,u.baseTokens=null,u.baseTokenPos=1},j=0;j<i.state.overlays.length;++j)S(j);return{styles:d,classes:g.bgClass||g.textClass?g:null}}function Ma(i,s,u){if(!s.styles||s.styles[0]!=i.state.modeGen){var c=Qn(i,Xe(s)),d=s.text.length>i.options.maxHighlightLength&&Mn(i.doc.mode,c.state),g=Gi(i,s,c);d&&(c.state=d),s.stateAfter=c.save(!d),s.styles=g.styles,g.classes?s.styleClasses=g.classes:s.styleClasses&&(s.styleClasses=null),u===i.doc.highlightFrontier&&(i.doc.modeFrontier=Math.max(i.doc.modeFrontier,++i.doc.highlightFrontier))}return s.styles}function Qn(i,s,u){var c=i.doc,d=i.display;if(!c.mode.startState)return new un(c,!0,s);var g=fo(i,s,u),b=g>c.first&&we(c,g-1).stateAfter,S=b?un.fromSaved(c,b,g):new un(c,Lr(c.mode),g);return c.iter(g,s,function(j){Ki(i,j.text,S);var W=S.line;j.stateAfter=W==s-1||W%5==0||W>=d.viewFrom&&W<d.viewTo?S.save():null,S.nextLine()}),u&&(c.modeFrontier=S.line),S}function Ki(i,s,u,c){var d=i.doc.mode,g=new ar(s,i.options.tabSize,u);for(g.start=g.pos=c||0,s==""&&Do(d,u.state);!g.eol();)Io(d,g,u.state),g.start=g.pos}function Do(i,s){if(i.blankLine)return i.blankLine(s);if(i.innerMode){var u=On(i,s);if(u.mode.blankLine)return u.mode.blankLine(u.state)}}function Io(i,s,u,c){for(var d=0;d<10;d++){c&&(c[0]=On(i,u).mode);var g=i.token(s,u);if(s.pos>s.start)return g}throw new Error("Mode "+i.name+" failed to advance stream.")}var yi=function(i,s,u){this.start=i.start,this.end=i.pos,this.string=i.current(),this.type=s||null,this.state=u};function Dr(i,s,u,c){var d=i.doc,g=d.mode,b;s=Ce(d,s);var S=we(d,s.line),j=Qn(i,s.line,u),W=new ar(S.text,i.options.tabSize,j),dt;for(c&&(dt=[]);(c||W.pos<s.ch)&&!W.eol();)W.start=W.pos,b=Io(g,W,j.state),c&&dt.push(new yi(W,b,Mn(d.mode,j.state)));return c?dt:new yi(W,b,j.state)}function $i(i,s){if(i)for(;;){var u=i.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!u)break;i=i.slice(0,u.index)+i.slice(u.index+u[0].length);var c=u[1]?"bgClass":"textClass";s[c]==null?s[c]=u[2]:new RegExp("(?:^|\\s)"+u[2]+"(?:$|\\s)").test(s[c])||(s[c]+=" "+u[2])}return i}function fn(i,s,u,c,d,g,b){var S=u.flattenSpans;S==null&&(S=i.options.flattenSpans);var j=0,W=null,dt=new ar(s,i.options.tabSize,c),xt,jt=i.options.addModeClass&&[null];for(s==""&&$i(Do(u,c.state),g);!dt.eol();){if(dt.pos>i.options.maxHighlightLength?(S=!1,b&&Ki(i,s,c,dt.pos),dt.pos=s.length,xt=null):xt=$i(Io(u,dt,c.state,jt),g),jt){var kt=jt[0].name;kt&&(xt="m-"+(xt?kt+" "+xt:kt))}if(!S||W!=xt){for(;j<dt.start;)j=Math.min(dt.start,j+5e3),d(j,W);W=xt}dt.start=dt.pos}for(;j<dt.pos;){var Gt=Math.min(dt.pos,j+5e3);d(Gt,W),j=Gt}}function fo(i,s,u){for(var c,d,g=i.doc,b=u?-1:s-(i.doc.mode.innerMode?1e3:100),S=s;S>b;--S){if(S<=g.first)return g.first;var j=we(g,S-1),W=j.stateAfter;if(W&&(!u||S+(W instanceof mi?W.lookAhead:0)<=g.modeFrontier))return S;var dt=Ot(j.text,null,i.options.tabSize);(d==null||c>dt)&&(d=S-1,c=dt)}return d}function to(i,s){if(i.modeFrontier=Math.min(i.modeFrontier,s),!(i.highlightFrontier<s-10)){for(var u=i.first,c=s-1;c>u;c--){var d=we(i,c).stateAfter;if(d&&(!(d instanceof mi)||c+d.lookAhead<s)){u=c+1;break}}i.highlightFrontier=Math.min(i.highlightFrontier,u)}}var La=!1,Ln=!1;function Es(){La=!0}function Vo(){Ln=!0}function Ro(i,s,u){this.marker=i,this.from=s,this.to=u}function No(i,s){if(i)for(var u=0;u<i.length;++u){var c=i[u];if(c.marker==s)return c}}function bi(i,s){for(var u,c=0;c<i.length;++c)i[c]!=s&&(u||(u=[])).push(i[c]);return u}function ja(i,s,u){var c=u&&window.WeakSet&&(u.markedSpans||(u.markedSpans=new WeakSet));c&&i.markedSpans&&c.has(i.markedSpans)?i.markedSpans.push(s):(i.markedSpans=i.markedSpans?i.markedSpans.concat([s]):[s],c&&c.add(i.markedSpans)),s.marker.attachLine(i)}function ks(i,s,u){var c;if(i)for(var d=0;d<i.length;++d){var g=i[d],b=g.marker,S=g.from==null||(b.inclusiveLeft?g.from<=s:g.from<s);if(S||g.from==s&&b.type=="bookmark"&&(!u||!g.marker.insertLeft)){var j=g.to==null||(b.inclusiveRight?g.to>=s:g.to>s);(c||(c=[])).push(new Ro(b,g.from,j?null:g.to))}}return c}function qi(i,s,u){var c;if(i)for(var d=0;d<i.length;++d){var g=i[d],b=g.marker,S=g.to==null||(b.inclusiveRight?g.to>=s:g.to>s);if(S||g.from==s&&b.type=="bookmark"&&(!u||g.marker.insertLeft)){var j=g.from==null||(b.inclusiveLeft?g.from<=s:g.from<s);(c||(c=[])).push(new Ro(b,j?null:g.from-s,g.to==null?null:g.to-s))}}return c}function _o(i,s){if(s.full)return null;var u=jr(i,s.from.line)&&we(i,s.from.line).markedSpans,c=jr(i,s.to.line)&&we(i,s.to.line).markedSpans;if(!u&&!c)return null;var d=s.from.ch,g=s.to.ch,b=ut(s.from,s.to)==0,S=ks(u,d,b),j=qi(c,g,b),W=s.text.length==1,dt=fe(s.text).length+(W?d:0);if(S)for(var xt=0;xt<S.length;++xt){var jt=S[xt];if(jt.to==null){var kt=No(j,jt.marker);kt?W&&(jt.to=kt.to==null?null:kt.to+dt):jt.to=d}}if(j)for(var Gt=0;Gt<j.length;++Gt){var qt=j[Gt];if(qt.to!=null&&(qt.to+=dt),qt.from==null){var ie=No(S,qt.marker);ie||(qt.from=dt,W&&(S||(S=[])).push(qt))}else qt.from+=dt,W&&(S||(S=[])).push(qt)}S&&(S=xo(S)),j&&j!=S&&(j=xo(j));var le=[S];if(!W){var ge=s.text.length-2,ce;if(ge>0&&S)for(var ye=0;ye<S.length;++ye)S[ye].to==null&&(ce||(ce=[])).push(new Ro(S[ye].marker,null,null));for(var Ee=0;Ee<ge;++Ee)le.push(ce);le.push(j)}return le}function xo(i){for(var s=0;s<i.length;++s){var u=i[s];u.from!=null&&u.from==u.to&&u.marker.clearWhenEmpty!==!1&&i.splice(s--,1)}return i.length?i:null}function Zi(i,s,u){var c=null;if(i.iter(s.line,u.line+1,function(kt){if(kt.markedSpans)for(var Gt=0;Gt<kt.markedSpans.length;++Gt){var qt=kt.markedSpans[Gt].marker;qt.readOnly&&(!c||Wt(c,qt)==-1)&&(c||(c=[])).push(qt)}}),!c)return null;for(var d=[{from:s,to:u}],g=0;g<c.length;++g)for(var b=c[g],S=b.find(0),j=0;j<d.length;++j){var W=d[j];if(!(ut(W.to,S.from)<0||ut(W.from,S.to)>0)){var dt=[j,1],xt=ut(W.from,S.from),jt=ut(W.to,S.to);(xt<0||!b.inclusiveLeft&&!xt)&&dt.push({from:W.from,to:S.from}),(jt>0||!b.inclusiveRight&&!jt)&&dt.push({from:S.to,to:W.to}),d.splice.apply(d,dt),j+=dt.length-3}}return d}function wi(i){var s=i.markedSpans;if(s){for(var u=0;u<s.length;++u)s[u].marker.detachLine(i);i.markedSpans=null}}function Co(i,s){if(s){for(var u=0;u<s.length;++u)s[u].marker.attachLine(i);i.markedSpans=s}}function Fo(i){return i.inclusiveLeft?-1:0}function po(i){return i.inclusiveRight?1:0}function _i(i,s){var u=i.lines.length-s.lines.length;if(u!=0)return u;var c=i.find(),d=s.find(),g=ut(c.from,d.from)||Fo(i)-Fo(s);if(g)return-g;var b=ut(c.to,d.to)||po(i)-po(s);return b||s.id-i.id}function Da(i,s){var u=Ln&&i.markedSpans,c;if(u)for(var d=void 0,g=0;g<u.length;++g)d=u[g],d.marker.collapsed&&(s?d.from:d.to)==null&&(!c||_i(c,d.marker)<0)&&(c=d.marker);return c}function Ho(i){return Da(i,!0)}function xi(i){return Da(i,!1)}function mn(i,s){var u=Ln&&i.markedSpans,c;if(u)for(var d=0;d<u.length;++d){var g=u[d];g.marker.collapsed&&(g.from==null||g.from<s)&&(g.to==null||g.to>s)&&(!c||_i(c,g.marker)<0)&&(c=g.marker)}return c}function Zn(i,s,u,c,d){var g=we(i,s),b=Ln&&g.markedSpans;if(b)for(var S=0;S<b.length;++S){var j=b[S];if(j.marker.collapsed){var W=j.marker.find(0),dt=ut(W.from,u)||Fo(j.marker)-Fo(d),xt=ut(W.to,c)||po(j.marker)-po(d);if(!(dt>=0&&xt<=0||dt<=0&&xt>=0)&&(dt<=0&&(j.marker.inclusiveRight&&d.inclusiveLeft?ut(W.to,u)>=0:ut(W.to,u)>0)||dt>=0&&(j.marker.inclusiveRight&&d.inclusiveLeft?ut(W.from,c)<=0:ut(W.from,c)<0)))return!0}}}function Qe(i){for(var s;s=Ho(i);)i=s.find(-1,!0).line;return i}function Bo(i){for(var s;s=xi(i);)i=s.find(1,!0).line;return i}function yn(i){for(var s,u;s=xi(i);)i=s.find(1,!0).line,(u||(u=[])).push(i);return u}function Rn(i,s){var u=we(i,s),c=Qe(u);return u==c?s:Xe(c)}function So(i,s){if(s>i.lastLine())return s;var u=we(i,s),c;if(!Tn(i,u))return s;for(;c=xi(u);)u=c.find(1,!0).line;return Xe(u)+1}function Tn(i,s){var u=Ln&&s.markedSpans;if(u){for(var c=void 0,d=0;d<u.length;++d)if(c=u[d],!!c.marker.collapsed){if(c.from==null)return!0;if(!c.marker.widgetNode&&c.from==0&&c.marker.inclusiveLeft&&Fr(i,s,c))return!0}}}function Fr(i,s,u){if(u.to==null){var c=u.marker.find(1,!0);return Fr(i,c.line,No(c.line.markedSpans,u.marker))}if(u.marker.inclusiveRight&&u.to==s.text.length)return!0;for(var d=void 0,g=0;g<s.markedSpans.length;++g)if(d=s.markedSpans[g],d.marker.collapsed&&!d.marker.widgetNode&&d.from==u.to&&(d.to==null||d.to!=u.from)&&(d.marker.inclusiveLeft||u.marker.inclusiveRight)&&Fr(i,s,d))return!0}function sr(i){i=Qe(i);for(var s=0,u=i.parent,c=0;c<u.lines.length;++c){var d=u.lines[c];if(d==i)break;s+=d.height}for(var g=u.parent;g;u=g,g=u.parent)for(var b=0;b<g.children.length;++b){var S=g.children[b];if(S==u)break;s+=S.height}return s}function eo(i){if(i.height==0)return 0;for(var s=i.text.length,u,c=i;u=Ho(c);){var d=u.find(0,!0);c=d.from.line,s+=d.from.ch-d.to.ch}for(c=i;u=xi(c);){var g=u.find(0,!0);s-=c.text.length-g.from.ch,c=g.to.line,s+=c.text.length-g.to.ch}return s}function ro(i){var s=i.display,u=i.doc;s.maxLine=we(u,u.first),s.maxLineLength=eo(s.maxLine),s.maxLineChanged=!0,u.iter(function(c){var d=eo(c);d>s.maxLineLength&&(s.maxLineLength=d,s.maxLine=c)})}var no=function(i,s,u){this.text=i,Co(this,s),this.height=u?u(this):1};no.prototype.lineNo=function(){return Xe(this)},Kn(no);function Ia(i,s,u,c){i.text=s,i.stateAfter&&(i.stateAfter=null),i.styles&&(i.styles=null),i.order!=null&&(i.order=null),wi(i),Co(i,u);var d=c?c(i):1;d!=i.height&&Nr(i,d)}function Kr(i){i.parent=null,wi(i)}var Pl={},Uo={};function oo(i,s){if(!i||/^\s*$/.test(i))return null;var u=s.addModeClass?Uo:Pl;return u[i]||(u[i]=i.replace(/\S+/g,"cm-$&"))}function Va(i,s){var u=$("span",null,null,m?"padding-right: .1px":null),c={pre:$("pre",[u],"CodeMirror-line"),content:u,col:0,pos:0,cm:i,trailingSpace:!1,splitSpaces:i.getOption("lineWrapping")};s.measure={};for(var d=0;d<=(s.rest?s.rest.length:0);d++){var g=d?s.rest[d-1]:s.line,b=void 0;c.pos=0,c.addToken=Yi,Lo(i.display.measure)&&(b=Ze(g,i.doc.direction))&&(c.addToken=Ms(c.addToken,b)),c.map=[];var S=s!=i.display.externalMeasured&&Xe(g);Ls(g,c,Ma(i,g,S)),g.styleClasses&&(g.styleClasses.bgClass&&(c.bgClass=Kt(g.styleClasses.bgClass,c.bgClass||"")),g.styleClasses.textClass&&(c.textClass=Kt(g.styleClasses.textClass,c.textClass||""))),c.map.length==0&&c.map.push(0,0,c.content.appendChild(xn(i.display.measure))),d==0?(s.measure.map=c.map,s.measure.cache={}):((s.measure.maps||(s.measure.maps=[])).push(c.map),(s.measure.caches||(s.measure.caches=[])).push({}))}if(m){var j=c.content.lastChild;(/\bcm-tab\b/.test(j.className)||j.querySelector&&j.querySelector(".cm-tab"))&&(c.content.className="cm-tab-wrap-hack")}return lr(i,"renderLine",i,s.line,c.pre),c.pre.className&&(c.textClass=Kt(c.pre.className,c.textClass||"")),c}function As(i){var s=P("span","•","cm-invalidchar");return s.title="\\u"+i.charCodeAt(0).toString(16),s.setAttribute("aria-label",s.title),s}function Yi(i,s,u,c,d,g,b){if(s){var S=i.splitSpaces?Xi(s,i.trailingSpace):s,j=i.cm.state.specialChars,W=!1,dt;if(!j.test(s))i.col+=s.length,dt=document.createTextNode(S),i.map.push(i.pos,i.pos+s.length,dt),x&&M<9&&(W=!0),i.pos+=s.length;else{dt=document.createDocumentFragment();for(var xt=0;;){j.lastIndex=xt;var jt=j.exec(s),kt=jt?jt.index-xt:s.length-xt;if(kt){var Gt=document.createTextNode(S.slice(xt,xt+kt));x&&M<9?dt.appendChild(P("span",[Gt])):dt.appendChild(Gt),i.map.push(i.pos,i.pos+kt,Gt),i.col+=kt,i.pos+=kt}if(!jt)break;xt+=kt+1;var qt=void 0;if(jt[0]=="	"){var ie=i.cm.options.tabSize,le=ie-i.col%ie;qt=dt.appendChild(P("span",rr(le),"cm-tab")),qt.setAttribute("role","presentation"),qt.setAttribute("cm-text","	"),i.col+=le}else jt[0]=="\r"||jt[0]==`
`?(qt=dt.appendChild(P("span",jt[0]=="\r"?"␍":"␤","cm-invalidchar")),qt.setAttribute("cm-text",jt[0]),i.col+=1):(qt=i.cm.options.specialCharPlaceholder(jt[0]),qt.setAttribute("cm-text",jt[0]),x&&M<9?dt.appendChild(P("span",[qt])):dt.appendChild(qt),i.col+=1);i.map.push(i.pos,i.pos+1,qt),i.pos++}}if(i.trailingSpace=S.charCodeAt(s.length-1)==32,u||c||d||W||g||b){var ge=u||"";c&&(ge+=c),d&&(ge+=d);var ce=P("span",[dt],ge,g);if(b)for(var ye in b)b.hasOwnProperty(ye)&&ye!="style"&&ye!="class"&&ce.setAttribute(ye,b[ye]);return i.content.appendChild(ce)}i.content.appendChild(dt)}}function Xi(i,s){if(i.length>1&&!/  /.test(i))return i;for(var u=s,c="",d=0;d<i.length;d++){var g=i.charAt(d);g==" "&&u&&(d==i.length-1||i.charCodeAt(d+1)==32)&&(g=" "),c+=g,u=g==" "}return c}function Ms(i,s){return function(u,c,d,g,b,S,j){d=d?d+" cm-force-border":"cm-force-border";for(var W=u.pos,dt=W+c.length;;){for(var xt=void 0,jt=0;jt<s.length&&(xt=s[jt],!(xt.to>W&&xt.from<=W));jt++);if(xt.to>=dt)return i(u,c,d,g,b,S,j);i(u,c.slice(0,xt.to-W),d,g,null,S,j),g=null,c=c.slice(xt.to-W),W=xt.to}}}function Ra(i,s,u,c){var d=!c&&u.widgetNode;d&&i.map.push(i.pos,i.pos+s,d),!c&&i.cm.display.input.needsContentAttribute&&(d||(d=i.content.appendChild(document.createElement("span"))),d.setAttribute("cm-marker",u.id)),d&&(i.cm.display.input.setUneditable(d),i.content.appendChild(d)),i.pos+=s,i.trailingSpace=!1}function Ls(i,s,u){var c=i.markedSpans,d=i.text,g=0;if(!c){for(var b=1;b<u.length;b+=2)s.addToken(s,d.slice(g,g=u[b]),oo(u[b+1],s.cm.options));return}for(var S=d.length,j=0,W=1,dt="",xt,jt,kt=0,Gt,qt,ie,le,ge;;){if(kt==j){Gt=qt=ie=jt="",ge=null,le=null,kt=1/0;for(var ce=[],ye=void 0,Ee=0;Ee<c.length;++Ee){var Te=c[Ee],Ke=Te.marker;if(Ke.type=="bookmark"&&Te.from==j&&Ke.widgetNode)ce.push(Ke);else if(Te.from<=j&&(Te.to==null||Te.to>j||Ke.collapsed&&Te.to==j&&Te.from==j)){if(Te.to!=null&&Te.to!=j&&kt>Te.to&&(kt=Te.to,qt=""),Ke.className&&(Gt+=" "+Ke.className),Ke.css&&(jt=(jt?jt+";":"")+Ke.css),Ke.startStyle&&Te.from==j&&(ie+=" "+Ke.startStyle),Ke.endStyle&&Te.to==kt&&(ye||(ye=[])).push(Ke.endStyle,Te.to),Ke.title&&((ge||(ge={})).title=Ke.title),Ke.attributes)for(var mr in Ke.attributes)(ge||(ge={}))[mr]=Ke.attributes[mr];Ke.collapsed&&(!le||_i(le.marker,Ke)<0)&&(le=Te)}else Te.from>j&&kt>Te.from&&(kt=Te.from)}if(ye)for(var Zr=0;Zr<ye.length;Zr+=2)ye[Zr+1]==kt&&(qt+=" "+ye[Zr]);if(!le||le.from==j)for(var Or=0;Or<ce.length;++Or)Ra(s,0,ce[Or]);if(le&&(le.from||0)==j){if(Ra(s,(le.to==null?S+1:le.to)-j,le.marker,le.from==null),le.to==null)return;le.to==j&&(le=!1)}}if(j>=S)break;for(var nn=Math.min(S,kt);;){if(dt){var wn=j+dt.length;if(!le){var vr=wn>nn?dt.slice(0,nn-j):dt;s.addToken(s,vr,xt?xt+Gt:Gt,ie,j+vr.length==kt?qt:"",jt,ge)}if(wn>=nn){dt=dt.slice(nn-j),j=nn;break}j=wn,ie=""}dt=d.slice(g,g=u[W++]),xt=oo(u[W++],s.cm.options)}}}function bn(i,s,u){this.line=s,this.rest=yn(s),this.size=this.rest?Xe(fe(this.rest))-u+1:1,this.node=this.text=null,this.hidden=Tn(i,s)}function Ji(i,s,u){for(var c=[],d,g=s;g<u;g=d){var b=new bn(i.doc,we(i.doc,g),g);d=g+b.size,c.push(b)}return c}var ho=null;function js(i){ho?ho.ops.push(i):i.ownsGroup=ho={ops:[i],delayedCallbacks:[]}}function Qi(i){var s=i.delayedCallbacks,u=0;do{for(;u<s.length;u++)s[u].call(null);for(var c=0;c<i.ops.length;c++){var d=i.ops[c];if(d.cursorActivityHandlers)for(;d.cursorActivityCalled<d.cursorActivityHandlers.length;)d.cursorActivityHandlers[d.cursorActivityCalled++].call(null,d.cm)}}while(u<s.length)}function zo(i,s){var u=i.ownsGroup;if(u)try{Qi(u)}finally{ho=null,s(u)}}var en=null;function Ir(i,s){var u=Tr(i,s);if(u.length){var c=Array.prototype.slice.call(arguments,2),d;ho?d=ho.delayedCallbacks:en?d=en:(d=en=[],setTimeout(Ds,0));for(var g=function(S){d.push(function(){return u[S].apply(null,c)})},b=0;b<u.length;++b)g(b)}}function Ds(){var i=en;en=null;for(var s=0;s<i.length;++s)i[s]()}function Na(i,s,u,c){for(var d=0;d<s.changes.length;d++){var g=s.changes[d];g=="text"?Ci(i,s):g=="gutter"?Go(i,s,u,c):g=="class"?ta(i,s):g=="widget"&&Vs(i,s,c)}s.changes=null}function Oo(i){return i.node==i.text&&(i.node=P("div",null,null,"position: relative"),i.text.parentNode&&i.text.parentNode.replaceChild(i.node,i.text),i.node.appendChild(i.text),x&&M<8&&(i.node.style.zIndex=2)),i.node}function Is(i,s){var u=s.bgClass?s.bgClass+" "+(s.line.bgClass||""):s.line.bgClass;if(u&&(u+=" CodeMirror-linebackground"),s.background)u?s.background.className=u:(s.background.parentNode.removeChild(s.background),s.background=null);else if(u){var c=Oo(s);s.background=c.insertBefore(P("div",null,u),c.firstChild),i.display.input.setUneditable(s.background)}}function Wo(i,s){var u=i.display.externalMeasured;return u&&u.line==s.line?(i.display.externalMeasured=null,s.measure=u.measure,u.built):Va(i,s)}function Ci(i,s){var u=s.text.className,c=Wo(i,s);s.text==s.node&&(s.node=c.pre),s.text.parentNode.replaceChild(c.pre,s.text),s.text=c.pre,c.bgClass!=s.bgClass||c.textClass!=s.textClass?(s.bgClass=c.bgClass,s.textClass=c.textClass,ta(i,s)):u&&(s.text.className=u)}function ta(i,s){Is(i,s),s.line.wrapClass?Oo(s).className=s.line.wrapClass:s.node!=s.text&&(s.node.className="");var u=s.textClass?s.textClass+" "+(s.line.textClass||""):s.line.textClass;s.text.className=u||""}function Go(i,s,u,c){if(s.gutter&&(s.node.removeChild(s.gutter),s.gutter=null),s.gutterBackground&&(s.node.removeChild(s.gutterBackground),s.gutterBackground=null),s.line.gutterClass){var d=Oo(s);s.gutterBackground=P("div",null,"CodeMirror-gutter-background "+s.line.gutterClass,"left: "+(i.options.fixedGutter?c.fixedPos:-c.gutterTotalWidth)+"px; width: "+c.gutterTotalWidth+"px"),i.display.input.setUneditable(s.gutterBackground),d.insertBefore(s.gutterBackground,s.text)}var g=s.line.gutterMarkers;if(i.options.lineNumbers||g){var b=Oo(s),S=s.gutter=P("div",null,"CodeMirror-gutter-wrapper","left: "+(i.options.fixedGutter?c.fixedPos:-c.gutterTotalWidth)+"px");if(S.setAttribute("aria-hidden","true"),i.display.input.setUneditable(S),b.insertBefore(S,s.text),s.line.gutterClass&&(S.className+=" "+s.line.gutterClass),i.options.lineNumbers&&(!g||!g["CodeMirror-linenumbers"])&&(s.lineNumber=S.appendChild(P("div",gn(i.options,u),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+c.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+i.display.lineNumInnerWidth+"px"))),g)for(var j=0;j<i.display.gutterSpecs.length;++j){var W=i.display.gutterSpecs[j].className,dt=g.hasOwnProperty(W)&&g[W];dt&&S.appendChild(P("div",[dt],"CodeMirror-gutter-elt","left: "+c.gutterLeft[W]+"px; width: "+c.gutterWidth[W]+"px"))}}}function Vs(i,s,u){s.alignable&&(s.alignable=null);for(var c=z("CodeMirror-linewidget"),d=s.node.firstChild,g=void 0;d;d=g)g=d.nextSibling,c.test(d.className)&&s.node.removeChild(d);Fa(i,s,u)}function vo(i,s,u,c){var d=Wo(i,s);return s.text=s.node=d.pre,d.bgClass&&(s.bgClass=d.bgClass),d.textClass&&(s.textClass=d.textClass),ta(i,s),Go(i,s,u,c),Fa(i,s,c),s.node}function Fa(i,s,u){if(Ha(i,s.line,s,u,!0),s.rest)for(var c=0;c<s.rest.length;c++)Ha(i,s.rest[c],s,u,!1)}function Ha(i,s,u,c,d){if(s.widgets)for(var g=Oo(u),b=0,S=s.widgets;b<S.length;++b){var j=S[b],W=P("div",[j.node],"CodeMirror-linewidget"+(j.className?" "+j.className:""));j.handleMouseEvents||W.setAttribute("cm-ignore-events","true"),Ba(j,W,u,c),i.display.input.setUneditable(W),d&&j.above?g.insertBefore(W,u.gutter||u.text):g.appendChild(W),Ir(j,"redraw")}}function Ba(i,s,u,c){if(i.noHScroll){(u.alignable||(u.alignable=[])).push(s);var d=c.wrapperWidth;s.style.left=c.fixedPos+"px",i.coverGutter||(d-=c.gutterTotalWidth,s.style.paddingLeft=c.gutterTotalWidth+"px"),s.style.width=d+"px"}i.coverGutter&&(s.style.zIndex=5,s.style.position="relative",i.noHScroll||(s.style.marginLeft=-c.gutterTotalWidth+"px"))}function go(i){if(i.height!=null)return i.height;var s=i.doc.cm;if(!s)return 0;if(!rt(document.body,i.node)){var u="position: relative;";i.coverGutter&&(u+="margin-left: -"+s.display.gutters.offsetWidth+"px;"),i.noHScroll&&(u+="width: "+s.display.wrapper.clientWidth+"px;"),G(s.display.measure,P("div",[i.node],null,u))}return i.height=i.node.parentNode.offsetHeight}function io(i,s){for(var u=ve(s);u!=i.wrapper;u=u.parentNode)if(!u||u.nodeType==1&&u.getAttribute("cm-ignore-events")=="true"||u.parentNode==i.sizer&&u!=i.mover)return!0}function ao(i){return i.lineSpace.offsetTop}function Ua(i){return i.mover.offsetHeight-i.lineSpace.offsetHeight}function H(i){if(i.cachedPaddingH)return i.cachedPaddingH;var s=G(i.measure,P("pre","x","CodeMirror-line-like")),u=window.getComputedStyle?window.getComputedStyle(s):s.currentStyle,c={left:parseInt(u.paddingLeft),right:parseInt(u.paddingRight)};return!isNaN(c.left)&&!isNaN(c.right)&&(i.cachedPaddingH=c),c}function Q(i){return oe-i.display.nativeBarWidth}function _t(i){return i.display.scroller.clientWidth-Q(i)-i.display.barWidth}function St(i){return i.display.scroller.clientHeight-Q(i)-i.display.barHeight}function Rt(i,s,u){var c=i.options.lineWrapping,d=c&&_t(i);if(!s.measure.heights||c&&s.measure.width!=d){var g=s.measure.heights=[];if(c){s.measure.width=d;for(var b=s.text.firstChild.getClientRects(),S=0;S<b.length-1;S++){var j=b[S],W=b[S+1];Math.abs(j.bottom-W.bottom)>2&&g.push((j.bottom+W.top)/2-u.top)}}g.push(u.bottom-u.top)}}function Mt(i,s,u){if(i.line==s)return{map:i.measure.map,cache:i.measure.cache};if(i.rest){for(var c=0;c<i.rest.length;c++)if(i.rest[c]==s)return{map:i.measure.maps[c],cache:i.measure.caches[c]};for(var d=0;d<i.rest.length;d++)if(Xe(i.rest[d])>u)return{map:i.measure.maps[d],cache:i.measure.caches[d],before:!0}}}function Xt(i,s){s=Qe(s);var u=Xe(s),c=i.display.externalMeasured=new bn(i.doc,s,u);c.lineN=u;var d=c.built=Va(i,c);return c.text=d.pre,G(i.display.lineMeasure,d.pre),c}function pe(i,s,u,c){return hr(i,De(i,s),u,c)}function ze(i,s){if(s>=i.display.viewFrom&&s<i.display.viewTo)return i.display.view[Oi(i,s)];var u=i.display.externalMeasured;if(u&&s>=u.lineN&&s<u.lineN+u.size)return u}function De(i,s){var u=Xe(s),c=ze(i,u);c&&!c.text?c=null:c&&c.changes&&(Na(i,c,u,jl(i)),i.curOp.forceUpdate=!0),c||(c=Xt(i,s));var d=Mt(c,s,u);return{line:s,view:c,rect:null,map:d.map,cache:d.cache,before:d.before,hasHeights:!1}}function hr(i,s,u,c,d){s.before&&(u=-1);var g=u+(c||""),b;return s.cache.hasOwnProperty(g)?b=s.cache[g]:(s.rect||(s.rect=s.view.text.getBoundingClientRect()),s.hasHeights||(Rt(i,s.view,s.rect),s.hasHeights=!0),b=El(i,s,u,c),b.bogus||(s.cache[g]=b)),{left:b.left,right:b.right,top:d?b.rtop:b.top,bottom:d?b.rbottom:b.bottom}}var Hr={left:0,right:0,top:0,bottom:0};function ea(i,s,u){for(var c,d,g,b,S,j,W=0;W<i.length;W+=3)if(S=i[W],j=i[W+1],s<S?(d=0,g=1,b="left"):s<j?(d=s-S,g=d+1):(W==i.length-3||s==j&&i[W+3]>s)&&(g=j-S,d=g-1,s>=j&&(b="right")),d!=null){if(c=i[W+2],S==j&&u==(c.insertLeft?"left":"right")&&(b=u),u=="left"&&d==0)for(;W&&i[W-2]==i[W-3]&&i[W-1].insertLeft;)c=i[(W-=3)+2],b="left";if(u=="right"&&d==j-S)for(;W<i.length-3&&i[W+3]==i[W+4]&&!i[W+5].insertLeft;)c=i[(W+=3)+2],b="right";break}return{node:c,start:d,end:g,collapse:b,coverStart:S,coverEnd:j}}function Rs(i,s){var u=Hr;if(s=="left")for(var c=0;c<i.length&&(u=i[c]).left==u.right;c++);else for(var d=i.length-1;d>=0&&(u=i[d]).left==u.right;d--);return u}function El(i,s,u,c){var d=ea(s.map,u,c),g=d.node,b=d.start,S=d.end,j=d.collapse,W;if(g.nodeType==3){for(var dt=0;dt<4;dt++){for(;b&&Pe(s.line.text.charAt(d.coverStart+b));)--b;for(;d.coverStart+S<d.coverEnd&&Pe(s.line.text.charAt(d.coverStart+S));)++S;if(x&&M<9&&b==0&&S==d.coverEnd-d.coverStart?W=g.parentNode.getBoundingClientRect():W=Rs(y(g,b,S).getClientRects(),c),W.left||W.right||b==0)break;S=b,b=b-1,j="right"}x&&M<11&&(W=Cf(i.display.measure,W))}else{b>0&&(j=c="right");var xt;i.options.lineWrapping&&(xt=g.getClientRects()).length>1?W=xt[c=="right"?xt.length-1:0]:W=g.getBoundingClientRect()}if(x&&M<9&&!b&&(!W||!W.left&&!W.right)){var jt=g.parentNode.getClientRects()[0];jt?W={left:jt.left,right:jt.left+na(i.display),top:jt.top,bottom:jt.bottom}:W=Hr}for(var kt=W.top-s.rect.top,Gt=W.bottom-s.rect.top,qt=(kt+Gt)/2,ie=s.view.measure.heights,le=0;le<ie.length-1&&!(qt<ie[le]);le++);var ge=le?ie[le-1]:0,ce=ie[le],ye={left:(j=="right"?W.right:W.left)-s.rect.left,right:(j=="left"?W.left:W.right)-s.rect.left,top:ge,bottom:ce};return!W.left&&!W.right&&(ye.bogus=!0),i.options.singleCursorHeightPerLine||(ye.rtop=kt,ye.rbottom=Gt),ye}function Cf(i,s){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Cr(i))return s;var u=screen.logicalXDPI/screen.deviceXDPI,c=screen.logicalYDPI/screen.deviceYDPI;return{left:s.left*u,right:s.right*u,top:s.top*c,bottom:s.bottom*c}}function za(i){if(i.measure&&(i.measure.cache={},i.measure.heights=null,i.rest))for(var s=0;s<i.rest.length;s++)i.measure.caches[s]={}}function Mc(i){i.display.externalMeasure=null,N(i.display.lineMeasure);for(var s=0;s<i.display.view.length;s++)za(i.display.view[s])}function Si(i){Mc(i),i.display.cachedCharWidth=i.display.cachedTextHeight=i.display.cachedPaddingH=null,i.options.lineWrapping||(i.display.maxLineChanged=!0),i.display.lineNumChars=null}function Lc(i){return w&&R?-(i.body.getBoundingClientRect().left-parseInt(getComputedStyle(i.body).marginLeft)):i.defaultView.pageXOffset||(i.documentElement||i.body).scrollLeft}function Wa(i){return w&&R?-(i.body.getBoundingClientRect().top-parseInt(getComputedStyle(i.body).marginTop)):i.defaultView.pageYOffset||(i.documentElement||i.body).scrollTop}function Ga(i){var s=Qe(i),u=s.widgets,c=0;if(u)for(var d=0;d<u.length;++d)u[d].above&&(c+=go(u[d]));return c}function Ns(i,s,u,c,d){if(!d){var g=Ga(s);u.top+=g,u.bottom+=g}if(c=="line")return u;c||(c="local");var b=sr(s);if(c=="local"?b+=ao(i.display):b-=i.display.viewOffset,c=="page"||c=="window"){var S=i.display.lineSpace.getBoundingClientRect();b+=S.top+(c=="window"?0:Wa(Ut(i)));var j=S.left+(c=="window"?0:Lc(Ut(i)));u.left+=j,u.right+=j}return u.top+=b,u.bottom+=b,u}function jc(i,s,u){if(u=="div")return s;var c=s.left,d=s.top;if(u=="page")c-=Lc(Ut(i)),d-=Wa(Ut(i));else if(u=="local"||!u){var g=i.display.sizer.getBoundingClientRect();c+=g.left,d+=g.top}var b=i.display.lineSpace.getBoundingClientRect();return{left:c-b.left,top:d-b.top}}function Fs(i,s,u,c,d){return c||(c=we(i.doc,s.line)),Ns(i,c,pe(i,c,s.ch,d),u)}function jn(i,s,u,c,d,g){c=c||we(i.doc,s.line),d||(d=De(i,c));function b(Gt,qt){var ie=hr(i,d,Gt,qt?"right":"left",g);return qt?ie.left=ie.right:ie.right=ie.left,Ns(i,c,ie,u)}var S=Ze(c,i.doc.direction),j=s.ch,W=s.sticky;if(j>=c.text.length?(j=c.text.length,W="before"):j<=0&&(j=0,W="after"),!S)return b(W=="before"?j-1:j,W=="before");function dt(Gt,qt,ie){var le=S[qt],ge=le.level==1;return b(ie?Gt-1:Gt,ge!=ie)}var xt=qe(S,j,W),jt=me,kt=dt(j,xt,W=="before");return jt!=null&&(kt.other=dt(j,jt,W!="before")),kt}function kl(i,s){var u=0;s=Ce(i.doc,s),i.options.lineWrapping||(u=na(i.display)*s.ch);var c=we(i.doc,s.line),d=sr(c)+ao(i.display);return{left:u,right:u,top:d,bottom:d+c.height}}function Al(i,s,u,c,d){var g=F(i,s,u);return g.xRel=d,c&&(g.outside=c),g}function Ml(i,s,u){var c=i.doc;if(u+=i.display.viewOffset,u<0)return Al(c.first,0,null,-1,-1);var d=tn(c,u),g=c.first+c.size-1;if(d>g)return Al(c.first+c.size-1,we(c,g).text.length,null,1,1);s<0&&(s=0);for(var b=we(c,d);;){var S=Sf(i,b,d,s,u),j=mn(b,S.ch+(S.xRel>0||S.outside>0?1:0));if(!j)return S;var W=j.find(1);if(W.line==d)return W;b=we(c,d=W.line)}}function Dc(i,s,u,c){c-=Ga(s);var d=s.text.length,g=Ve(function(b){return hr(i,u,b-1).bottom<=c},d,0);return d=Ve(function(b){return hr(i,u,b).top>c},g,d),{begin:g,end:d}}function Ka(i,s,u,c){u||(u=De(i,s));var d=Ns(i,s,hr(i,u,c),"line").top;return Dc(i,s,u,d)}function Ll(i,s,u,c){return i.bottom<=u?!1:i.top>u?!0:(c?i.left:i.right)>s}function Sf(i,s,u,c,d){d-=sr(s);var g=De(i,s),b=Ga(s),S=0,j=s.text.length,W=!0,dt=Ze(s,i.doc.direction);if(dt){var xt=(i.options.lineWrapping?Hs:Of)(i,s,u,g,dt,c,d);W=xt.level!=1,S=W?xt.from:xt.to-1,j=W?xt.to:xt.from-1}var jt=null,kt=null,Gt=Ve(function(Ee){var Te=hr(i,g,Ee);return Te.top+=b,Te.bottom+=b,Ll(Te,c,d,!1)?(Te.top<=d&&Te.left<=c&&(jt=Ee,kt=Te),!0):!1},S,j),qt,ie,le=!1;if(kt){var ge=c-kt.left<kt.right-c,ce=ge==W;Gt=jt+(ce?0:1),ie=ce?"after":"before",qt=ge?kt.left:kt.right}else{!W&&(Gt==j||Gt==S)&&Gt++,ie=Gt==0?"after":Gt==s.text.length?"before":hr(i,g,Gt-(W?1:0)).bottom+b<=d==W?"after":"before";var ye=jn(i,F(u,Gt,ie),"line",s,g);qt=ye.left,le=d<ye.top?-1:d>=ye.bottom?1:0}return Gt=Se(s.text,Gt,1),Al(u,Gt,ie,le,c-qt)}function Of(i,s,u,c,d,g,b){var S=Ve(function(xt){var jt=d[xt],kt=jt.level!=1;return Ll(jn(i,F(u,kt?jt.to:jt.from,kt?"before":"after"),"line",s,c),g,b,!0)},0,d.length-1),j=d[S];if(S>0){var W=j.level!=1,dt=jn(i,F(u,W?j.from:j.to,W?"after":"before"),"line",s,c);Ll(dt,g,b,!0)&&dt.top>b&&(j=d[S-1])}return j}function Hs(i,s,u,c,d,g,b){var S=Dc(i,s,c,b),j=S.begin,W=S.end;/\s/.test(s.text.charAt(W-1))&&W--;for(var dt=null,xt=null,jt=0;jt<d.length;jt++){var kt=d[jt];if(!(kt.from>=W||kt.to<=j)){var Gt=kt.level!=1,qt=hr(i,c,Gt?Math.min(W,kt.to)-1:Math.max(j,kt.from)).right,ie=qt<g?g-qt+1e9:qt-g;(!dt||xt>ie)&&(dt=kt,xt=ie)}}return dt||(dt=d[d.length-1]),dt.from<j&&(dt={from:j,to:dt.to,level:dt.level}),dt.to>W&&(dt={from:dt.from,to:W,level:dt.level}),dt}var To;function ra(i){if(i.cachedTextHeight!=null)return i.cachedTextHeight;if(To==null){To=P("pre",null,"CodeMirror-line-like");for(var s=0;s<49;++s)To.appendChild(document.createTextNode("x")),To.appendChild(P("br"));To.appendChild(document.createTextNode("x"))}G(i.measure,To);var u=To.offsetHeight/50;return u>3&&(i.cachedTextHeight=u),N(i.measure),u||1}function na(i){if(i.cachedCharWidth!=null)return i.cachedCharWidth;var s=P("span","xxxxxxxxxx"),u=P("pre",[s],"CodeMirror-line-like");G(i.measure,u);var c=s.getBoundingClientRect(),d=(c.right-c.left)/10;return d>2&&(i.cachedCharWidth=d),d||10}function jl(i){for(var s=i.display,u={},c={},d=s.gutters.clientLeft,g=s.gutters.firstChild,b=0;g;g=g.nextSibling,++b){var S=i.display.gutterSpecs[b].className;u[S]=g.offsetLeft+g.clientLeft+d,c[S]=g.clientWidth}return{fixedPos:oa(s),gutterTotalWidth:s.gutters.offsetWidth,gutterLeft:u,gutterWidth:c,wrapperWidth:s.wrapper.clientWidth}}function oa(i){return i.scroller.getBoundingClientRect().left-i.sizer.getBoundingClientRect().left}function Bs(i){var s=ra(i.display),u=i.options.lineWrapping,c=u&&Math.max(5,i.display.scroller.clientWidth/na(i.display)-3);return function(d){if(Tn(i.doc,d))return 0;var g=0;if(d.widgets)for(var b=0;b<d.widgets.length;b++)d.widgets[b].height&&(g+=d.widgets[b].height);return u?g+(Math.ceil(d.text.length/c)||1)*s:g+s}}function Dl(i){var s=i.doc,u=Bs(i);s.iter(function(c){var d=u(c);d!=c.height&&Nr(c,d)})}function Ko(i,s,u,c){var d=i.display;if(!u&&ve(s).getAttribute("cm-not-content")=="true")return null;var g,b,S=d.lineSpace.getBoundingClientRect();try{g=s.clientX-S.left,b=s.clientY-S.top}catch{return null}var j=Ml(i,g,b),W;if(c&&j.xRel>0&&(W=we(i.doc,j.line).text).length==j.ch){var dt=Ot(W,W.length,i.options.tabSize)-W.length;j=F(j.line,Math.max(0,Math.round((g-H(i.display).left)/na(i.display))-dt))}return j}function Oi(i,s){if(s>=i.display.viewTo||(s-=i.display.viewFrom,s<0))return null;for(var u=i.display.view,c=0;c<u.length;c++)if(s-=u[c].size,s<0)return c}function rn(i,s,u,c){s==null&&(s=i.doc.first),u==null&&(u=i.doc.first+i.doc.size),c||(c=0);var d=i.display;if(c&&u<d.viewTo&&(d.updateLineNumbers==null||d.updateLineNumbers>s)&&(d.updateLineNumbers=s),i.curOp.viewChanged=!0,s>=d.viewTo)Ln&&Rn(i.doc,s)<d.viewTo&&qo(i);else if(u<=d.viewFrom)Ln&&So(i.doc,u+c)>d.viewFrom?qo(i):(d.viewFrom+=c,d.viewTo+=c);else if(s<=d.viewFrom&&u>=d.viewTo)qo(i);else if(s<=d.viewFrom){var g=Us(i,u,u+c,1);g?(d.view=d.view.slice(g.index),d.viewFrom=g.lineN,d.viewTo+=c):qo(i)}else if(u>=d.viewTo){var b=Us(i,s,s,-1);b?(d.view=d.view.slice(0,b.index),d.viewTo=b.lineN):qo(i)}else{var S=Us(i,s,s,-1),j=Us(i,u,u+c,1);S&&j?(d.view=d.view.slice(0,S.index).concat(Ji(i,S.lineN,j.lineN)).concat(d.view.slice(j.index)),d.viewTo+=c):qo(i)}var W=d.externalMeasured;W&&(u<W.lineN?W.lineN+=c:s<W.lineN+W.size&&(d.externalMeasured=null))}function $o(i,s,u){i.curOp.viewChanged=!0;var c=i.display,d=i.display.externalMeasured;if(d&&s>=d.lineN&&s<d.lineN+d.size&&(c.externalMeasured=null),!(s<c.viewFrom||s>=c.viewTo)){var g=c.view[Oi(i,s)];if(g.node!=null){var b=g.changes||(g.changes=[]);Wt(b,u)==-1&&b.push(u)}}}function qo(i){i.display.viewFrom=i.display.viewTo=i.doc.first,i.display.view=[],i.display.viewOffset=0}function Us(i,s,u,c){var d=Oi(i,s),g,b=i.display.view;if(!Ln||u==i.doc.first+i.doc.size)return{index:d,lineN:u};for(var S=i.display.viewFrom,j=0;j<d;j++)S+=b[j].size;if(S!=s){if(c>0){if(d==b.length-1)return null;g=S+b[d].size-s,d++}else g=S-s;s+=g,u+=g}for(;Rn(i.doc,u)!=u;){if(d==(c<0?0:b.length-1))return null;u+=c*b[d-(c<0?1:0)].size,d+=c}return{index:d,lineN:u}}function zs(i,s,u){var c=i.display,d=c.view;d.length==0||s>=c.viewTo||u<=c.viewFrom?(c.view=Ji(i,s,u),c.viewFrom=s):(c.viewFrom>s?c.view=Ji(i,s,c.viewFrom).concat(c.view):c.viewFrom<s&&(c.view=c.view.slice(Oi(i,s))),c.viewFrom=s,c.viewTo<u?c.view=c.view.concat(Ji(i,c.viewTo,u)):c.viewTo>u&&(c.view=c.view.slice(0,Oi(i,u)))),c.viewTo=u}function Ws(i){for(var s=i.display.view,u=0,c=0;c<s.length;c++){var d=s[c];!d.hidden&&(!d.node||d.changes)&&++u}return u}function $a(i){i.display.input.showSelection(i.display.input.prepareSelection())}function Ic(i,s){s===void 0&&(s=!0);var u=i.doc,c={},d=c.cursors=document.createDocumentFragment(),g=c.selection=document.createDocumentFragment(),b=i.options.$customCursor;b&&(s=!0);for(var S=0;S<u.sel.ranges.length;S++)if(!(!s&&S==u.sel.primIndex)){var j=u.sel.ranges[S];if(!(j.from().line>=i.display.viewTo||j.to().line<i.display.viewFrom)){var W=j.empty();if(b){var dt=b(i,j);dt&&Il(i,dt,d)}else(W||i.options.showCursorWhenSelecting)&&Il(i,j.head,d);W||Vl(i,j,g)}}return c}function Il(i,s,u){var c=jn(i,s,"div",null,null,!i.options.singleCursorHeightPerLine),d=u.appendChild(P("div"," ","CodeMirror-cursor"));if(d.style.left=c.left+"px",d.style.top=c.top+"px",d.style.height=Math.max(0,c.bottom-c.top)*i.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(i.getWrapperElement().className)){var g=Fs(i,s,"div",null,null),b=g.right-g.left;d.style.width=(b>0?b:i.defaultCharWidth())+"px"}if(c.other){var S=u.appendChild(P("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));S.style.display="",S.style.left=c.other.left+"px",S.style.top=c.other.top+"px",S.style.height=(c.other.bottom-c.other.top)*.85+"px"}}function Ti(i,s){return i.top-s.top||i.left-s.left}function Vl(i,s,u){var c=i.display,d=i.doc,g=document.createDocumentFragment(),b=H(i.display),S=b.left,j=Math.max(c.sizerWidth,_t(i)-c.sizer.offsetLeft)-b.right,W=d.direction=="ltr";function dt(ce,ye,Ee,Te){ye<0&&(ye=0),ye=Math.round(ye),Te=Math.round(Te),g.appendChild(P("div",null,"CodeMirror-selected","position: absolute; left: "+ce+`px;
                             top: `+ye+"px; width: "+(Ee??j-ce)+`px;
                             height: `+(Te-ye)+"px"))}function xt(ce,ye,Ee){var Te=we(d,ce),Ke=Te.text.length,mr,Zr;function Or(vr,kn){return Fs(i,F(ce,vr),"div",Te,kn)}function nn(vr,kn,Yr){var Gr=Ka(i,Te,null,vr),Br=kn=="ltr"==(Yr=="after")?"left":"right",Pr=Yr=="after"?Gr.begin:Gr.end-(/\s/.test(Te.text.charAt(Gr.end-1))?2:1);return Or(Pr,Br)[Br]}var wn=Ze(Te,d.direction);return Ue(wn,ye||0,Ee??Ke,function(vr,kn,Yr,Gr){var Br=Yr=="ltr",Pr=Or(vr,Br?"left":"right"),An=Or(kn-1,Br?"right":"left"),xa=ye==null&&vr==0,ai=Ee==null&&kn==Ke,on=Gr==0,Hn=!wn||Gr==wn.length-1;if(An.top-Pr.top<=3){var Xr=(W?xa:ai)&&on,Ri=(W?ai:xa)&&Hn,Yn=Xr?S:(Br?Pr:An).left,Ni=Ri?j:(Br?An:Pr).right;dt(Yn,Pr.top,Ni-Yn,Pr.bottom)}else{var si,_n,Ca,fc;Br?(si=W&&xa&&on?S:Pr.left,_n=W?j:nn(vr,Yr,"before"),Ca=W?S:nn(kn,Yr,"after"),fc=W&&ai&&Hn?j:An.right):(si=W?nn(vr,Yr,"before"):S,_n=!W&&xa&&on?j:Pr.right,Ca=!W&&ai&&Hn?S:An.left,fc=W?nn(kn,Yr,"after"):j),dt(si,Pr.top,_n-si,Pr.bottom),Pr.bottom<An.top&&dt(S,Pr.bottom,null,An.top),dt(Ca,An.top,fc-Ca,An.bottom)}(!mr||Ti(Pr,mr)<0)&&(mr=Pr),Ti(An,mr)<0&&(mr=An),(!Zr||Ti(Pr,Zr)<0)&&(Zr=Pr),Ti(An,Zr)<0&&(Zr=An)}),{start:mr,end:Zr}}var jt=s.from(),kt=s.to();if(jt.line==kt.line)xt(jt.line,jt.ch,kt.ch);else{var Gt=we(d,jt.line),qt=we(d,kt.line),ie=Qe(Gt)==Qe(qt),le=xt(jt.line,jt.ch,ie?Gt.text.length+1:null).end,ge=xt(kt.line,ie?0:null,kt.ch).start;ie&&(le.top<ge.top-2?(dt(le.right,le.top,null,le.bottom),dt(S,ge.top,ge.left,ge.bottom)):dt(le.right,le.top,ge.left-le.right,le.bottom)),le.bottom<ge.top&&dt(S,le.bottom,null,ge.top)}u.appendChild(g)}function Rl(i){if(i.state.focused){var s=i.display;clearInterval(s.blinker);var u=!0;s.cursorDiv.style.visibility="",i.options.cursorBlinkRate>0?s.blinker=setInterval(function(){i.hasFocus()||aa(i),s.cursorDiv.style.visibility=(u=!u)?"":"hidden"},i.options.cursorBlinkRate):i.options.cursorBlinkRate<0&&(s.cursorDiv.style.visibility="hidden")}}function Gs(i){i.hasFocus()||(i.display.input.focus(),i.state.focused||ia(i))}function Nl(i){i.state.delayingBlurEvent=!0,setTimeout(function(){i.state.delayingBlurEvent&&(i.state.delayingBlurEvent=!1,i.state.focused&&aa(i))},100)}function ia(i,s){i.state.delayingBlurEvent&&!i.state.draggingText&&(i.state.delayingBlurEvent=!1),i.options.readOnly!="nocursor"&&(i.state.focused||(lr(i,"focus",i,s),i.state.focused=!0,wt(i.display.wrapper,"CodeMirror-focused"),!i.curOp&&i.display.selForContextMenu!=i.doc.sel&&(i.display.input.reset(),m&&setTimeout(function(){return i.display.input.reset(!0)},20)),i.display.input.receivedFocus()),Rl(i))}function aa(i,s){i.state.delayingBlurEvent||(i.state.focused&&(lr(i,"blur",i,s),i.state.focused=!1,I(i.display.wrapper,"CodeMirror-focused")),clearInterval(i.display.blinker),setTimeout(function(){i.state.focused||(i.display.shift=!1)},150))}function Ks(i){for(var s=i.display,u=s.lineDiv.offsetTop,c=Math.max(0,s.scroller.getBoundingClientRect().top),d=s.lineDiv.getBoundingClientRect().top,g=0,b=0;b<s.view.length;b++){var S=s.view[b],j=i.options.lineWrapping,W=void 0,dt=0;if(!S.hidden){if(d+=S.line.height,x&&M<8){var xt=S.node.offsetTop+S.node.offsetHeight;W=xt-u,u=xt}else{var jt=S.node.getBoundingClientRect();W=jt.bottom-jt.top,!j&&S.text.firstChild&&(dt=S.text.firstChild.getBoundingClientRect().right-jt.left-1)}var kt=S.line.height-W;if((kt>.005||kt<-.005)&&(d<c&&(g-=kt),Nr(S.line,W),Vc(S.line),S.rest))for(var Gt=0;Gt<S.rest.length;Gt++)Vc(S.rest[Gt]);if(dt>i.display.sizerWidth){var qt=Math.ceil(dt/na(i.display));qt>i.display.maxLineLength&&(i.display.maxLineLength=qt,i.display.maxLine=S.line,i.display.maxLineChanged=!0)}}}Math.abs(g)>2&&(s.scroller.scrollTop+=g)}function Vc(i){if(i.widgets)for(var s=0;s<i.widgets.length;++s){var u=i.widgets[s],c=u.node.parentNode;c&&(u.height=c.offsetHeight)}}function Pi(i,s,u){var c=u&&u.top!=null?Math.max(0,u.top):i.scroller.scrollTop;c=Math.floor(c-ao(i));var d=u&&u.bottom!=null?u.bottom:c+i.wrapper.clientHeight,g=tn(s,c),b=tn(s,d);if(u&&u.ensure){var S=u.ensure.from.line,j=u.ensure.to.line;S<g?(g=S,b=tn(s,sr(we(s,S))+i.wrapper.clientHeight)):Math.min(j,s.lastLine())>=b&&(g=tn(s,sr(we(s,j))-i.wrapper.clientHeight),b=j)}return{from:g,to:Math.max(b,g+1)}}function Fl(i,s){if(!fr(i,"scrollCursorIntoView")){var u=i.display,c=u.sizer.getBoundingClientRect(),d=null,g=u.wrapper.ownerDocument;if(s.top+c.top<0?d=!0:s.bottom+c.top>(g.defaultView.innerHeight||g.documentElement.clientHeight)&&(d=!1),d!=null&&!J){var b=P("div","​",null,`position: absolute;
                         top: `+(s.top-u.viewOffset-ao(i.display))+`px;
                         height: `+(s.bottom-s.top+Q(i)+u.barHeight)+`px;
                         left: `+s.left+"px; width: "+Math.max(2,s.right-s.left)+"px;");i.display.lineSpace.appendChild(b),b.scrollIntoView(d),i.display.lineSpace.removeChild(b)}}}function Tf(i,s,u,c){c==null&&(c=0);var d;!i.options.lineWrapping&&s==u&&(u=s.sticky=="before"?F(s.line,s.ch+1,"before"):s,s=s.ch?F(s.line,s.sticky=="before"?s.ch-1:s.ch,"after"):s);for(var g=0;g<5;g++){var b=!1,S=jn(i,s),j=!u||u==s?S:jn(i,u);d={left:Math.min(S.left,j.left),top:Math.min(S.top,j.top)-c,right:Math.max(S.left,j.left),bottom:Math.max(S.bottom,j.bottom)+c};var W=Hl(i,d),dt=i.doc.scrollTop,xt=i.doc.scrollLeft;if(W.scrollTop!=null&&(la(i,W.scrollTop),Math.abs(i.doc.scrollTop-dt)>1&&(b=!0)),W.scrollLeft!=null&&(Ei(i,W.scrollLeft),Math.abs(i.doc.scrollLeft-xt)>1&&(b=!0)),!b)break}return d}function Pf(i,s){var u=Hl(i,s);u.scrollTop!=null&&la(i,u.scrollTop),u.scrollLeft!=null&&Ei(i,u.scrollLeft)}function Hl(i,s){var u=i.display,c=ra(i.display);s.top<0&&(s.top=0);var d=i.curOp&&i.curOp.scrollTop!=null?i.curOp.scrollTop:u.scroller.scrollTop,g=St(i),b={};s.bottom-s.top>g&&(s.bottom=s.top+g);var S=i.doc.height+Ua(u),j=s.top<c,W=s.bottom>S-c;if(s.top<d)b.scrollTop=j?0:s.top;else if(s.bottom>d+g){var dt=Math.min(s.top,(W?S:s.bottom)-g);dt!=d&&(b.scrollTop=dt)}var xt=i.options.fixedGutter?0:u.gutters.offsetWidth,jt=i.curOp&&i.curOp.scrollLeft!=null?i.curOp.scrollLeft:u.scroller.scrollLeft-xt,kt=_t(i)-u.gutters.offsetWidth,Gt=s.right-s.left>kt;return Gt&&(s.right=s.left+kt),s.left<10?b.scrollLeft=0:s.left<jt?b.scrollLeft=Math.max(0,s.left+xt-(Gt?0:10)):s.right>kt+jt-3&&(b.scrollLeft=s.right+(Gt?0:10)-kt),b}function sa(i,s){s!=null&&($s(i),i.curOp.scrollTop=(i.curOp.scrollTop==null?i.doc.scrollTop:i.curOp.scrollTop)+s)}function Zo(i){$s(i);var s=i.getCursor();i.curOp.scrollToPos={from:s,to:s,margin:i.options.cursorScrollMargin}}function qa(i,s,u){(s!=null||u!=null)&&$s(i),s!=null&&(i.curOp.scrollLeft=s),u!=null&&(i.curOp.scrollTop=u)}function Ef(i,s){$s(i),i.curOp.scrollToPos=s}function $s(i){var s=i.curOp.scrollToPos;if(s){i.curOp.scrollToPos=null;var u=kl(i,s.from),c=kl(i,s.to);Za(i,u,c,s.margin)}}function Za(i,s,u,c){var d=Hl(i,{left:Math.min(s.left,u.left),top:Math.min(s.top,u.top)-c,right:Math.max(s.right,u.right),bottom:Math.max(s.bottom,u.bottom)+c});qa(i,d.scrollLeft,d.scrollTop)}function la(i,s){Math.abs(i.doc.scrollTop-s)<2||(ct||Wl(i,{top:s}),Rc(i,s,!0),ct&&Wl(i),Sr(i,100))}function Rc(i,s,u){s=Math.max(0,Math.min(i.display.scroller.scrollHeight-i.display.scroller.clientHeight,s)),!(i.display.scroller.scrollTop==s&&!u)&&(i.doc.scrollTop=s,i.display.scrollbars.setScrollTop(s),i.display.scroller.scrollTop!=s&&(i.display.scroller.scrollTop=s))}function Ei(i,s,u,c){s=Math.max(0,Math.min(s,i.display.scroller.scrollWidth-i.display.scroller.clientWidth)),!((u?s==i.doc.scrollLeft:Math.abs(i.doc.scrollLeft-s)<2)&&!c)&&(i.doc.scrollLeft=s,Ys(i),i.display.scroller.scrollLeft!=s&&(i.display.scroller.scrollLeft=s),i.display.scrollbars.setScrollLeft(s))}function Ya(i){var s=i.display,u=s.gutters.offsetWidth,c=Math.round(i.doc.height+Ua(i.display));return{clientHeight:s.scroller.clientHeight,viewHeight:s.wrapper.clientHeight,scrollWidth:s.scroller.scrollWidth,clientWidth:s.scroller.clientWidth,viewWidth:s.wrapper.clientWidth,barLeft:i.options.fixedGutter?u:0,docHeight:c,scrollHeight:c+Q(i)+s.barHeight,nativeBarWidth:s.nativeBarWidth,gutterWidth:u}}var mo=function(i,s,u){this.cm=u;var c=this.vert=P("div",[P("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),d=this.horiz=P("div",[P("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");c.tabIndex=d.tabIndex=-1,i(c),i(d),xe(c,"scroll",function(){c.clientHeight&&s(c.scrollTop,"vertical")}),xe(d,"scroll",function(){d.clientWidth&&s(d.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,x&&M<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};mo.prototype.update=function(i){var s=i.scrollWidth>i.clientWidth+1,u=i.scrollHeight>i.clientHeight+1,c=i.nativeBarWidth;if(u){this.vert.style.display="block",this.vert.style.bottom=s?c+"px":"0";var d=i.viewHeight-(s?c:0);this.vert.firstChild.style.height=Math.max(0,i.scrollHeight-i.clientHeight+d)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(s){this.horiz.style.display="block",this.horiz.style.right=u?c+"px":"0",this.horiz.style.left=i.barLeft+"px";var g=i.viewWidth-i.barLeft-(u?c:0);this.horiz.firstChild.style.width=Math.max(0,i.scrollWidth-i.clientWidth+g)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&i.clientHeight>0&&(c==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:u?c:0,bottom:s?c:0}},mo.prototype.setScrollLeft=function(i){this.horiz.scrollLeft!=i&&(this.horiz.scrollLeft=i),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},mo.prototype.setScrollTop=function(i){this.vert.scrollTop!=i&&(this.vert.scrollTop=i),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},mo.prototype.zeroWidthHack=function(){var i=k&&!et?"12px":"18px";this.horiz.style.height=this.vert.style.width=i,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new Dt,this.disableVert=new Dt},mo.prototype.enableZeroWidthBar=function(i,s,u){i.style.visibility="";function c(){var d=i.getBoundingClientRect(),g=u=="vert"?document.elementFromPoint(d.right-1,(d.top+d.bottom)/2):document.elementFromPoint((d.right+d.left)/2,d.bottom-1);g!=i?i.style.visibility="hidden":s.set(1e3,c)}s.set(1e3,c)},mo.prototype.clear=function(){var i=this.horiz.parentNode;i.removeChild(this.horiz),i.removeChild(this.vert)};var ki=function(){};ki.prototype.update=function(){return{bottom:0,right:0}},ki.prototype.setScrollLeft=function(){},ki.prototype.setScrollTop=function(){},ki.prototype.clear=function(){};function so(i,s){s||(s=Ya(i));var u=i.display.barWidth,c=i.display.barHeight;Ai(i,s);for(var d=0;d<4&&u!=i.display.barWidth||c!=i.display.barHeight;d++)u!=i.display.barWidth&&i.options.lineWrapping&&Ks(i),Ai(i,Ya(i)),u=i.display.barWidth,c=i.display.barHeight}function Ai(i,s){var u=i.display,c=u.scrollbars.update(s);u.sizer.style.paddingRight=(u.barWidth=c.right)+"px",u.sizer.style.paddingBottom=(u.barHeight=c.bottom)+"px",u.heightForcer.style.borderBottom=c.bottom+"px solid transparent",c.right&&c.bottom?(u.scrollbarFiller.style.display="block",u.scrollbarFiller.style.height=c.bottom+"px",u.scrollbarFiller.style.width=c.right+"px"):u.scrollbarFiller.style.display="",c.bottom&&i.options.coverGutterNextToScrollbar&&i.options.fixedGutter?(u.gutterFiller.style.display="block",u.gutterFiller.style.height=c.bottom+"px",u.gutterFiller.style.width=s.gutterWidth+"px"):u.gutterFiller.style.display=""}var Mi={native:mo,null:ki};function Bl(i){i.display.scrollbars&&(i.display.scrollbars.clear(),i.display.scrollbars.addClass&&I(i.display.wrapper,i.display.scrollbars.addClass)),i.display.scrollbars=new Mi[i.options.scrollbarStyle](function(s){i.display.wrapper.insertBefore(s,i.display.scrollbarFiller),xe(s,"mousedown",function(){i.state.focused&&setTimeout(function(){return i.display.input.focus()},0)}),s.setAttribute("cm-not-content","true")},function(s,u){u=="horizontal"?Ei(i,s):la(i,s)},i),i.display.scrollbars.addClass&&wt(i.display.wrapper,i.display.scrollbars.addClass)}var Ul=0;function Li(i){i.curOp={cm:i,viewChanged:!1,startHeight:i.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Ul,markArrays:null},js(i.curOp)}function ji(i){var s=i.curOp;s&&zo(s,function(u){for(var c=0;c<u.ops.length;c++)u.ops[c].cm.curOp=null;kf(u)})}function kf(i){for(var s=i.ops,u=0;u<s.length;u++)qs(s[u]);for(var c=0;c<s.length;c++)Af(s[c]);for(var d=0;d<s.length;d++)Mf(s[d]);for(var g=0;g<s.length;g++)Lf(s[g]);for(var b=0;b<s.length;b++)jf(s[b])}function qs(i){var s=i.cm,u=s.display;Nc(s),i.updateMaxLine&&ro(s),i.mustUpdate=i.viewChanged||i.forceUpdate||i.scrollTop!=null||i.scrollToPos&&(i.scrollToPos.from.line<u.viewFrom||i.scrollToPos.to.line>=u.viewTo)||u.maxLineChanged&&s.options.lineWrapping,i.update=i.mustUpdate&&new Zs(s,i.mustUpdate&&{top:i.scrollTop,ensure:i.scrollToPos},i.forceUpdate)}function Af(i){i.updatedDisplay=i.mustUpdate&&zl(i.cm,i.update)}function Mf(i){var s=i.cm,u=s.display;i.updatedDisplay&&Ks(s),i.barMeasure=Ya(s),u.maxLineChanged&&!s.options.lineWrapping&&(i.adjustWidthTo=pe(s,u.maxLine,u.maxLine.text.length).left+3,s.display.sizerWidth=i.adjustWidthTo,i.barMeasure.scrollWidth=Math.max(u.scroller.clientWidth,u.sizer.offsetLeft+i.adjustWidthTo+Q(s)+s.display.barWidth),i.maxScrollLeft=Math.max(0,u.sizer.offsetLeft+i.adjustWidthTo-_t(s))),(i.updatedDisplay||i.selectionChanged)&&(i.preparedSelection=u.input.prepareSelection())}function Lf(i){var s=i.cm;i.adjustWidthTo!=null&&(s.display.sizer.style.minWidth=i.adjustWidthTo+"px",i.maxScrollLeft<s.doc.scrollLeft&&Ei(s,Math.min(s.display.scroller.scrollLeft,i.maxScrollLeft),!0),s.display.maxLineChanged=!1);var u=i.focus&&i.focus==X(Ut(s));i.preparedSelection&&s.display.input.showSelection(i.preparedSelection,u),(i.updatedDisplay||i.startHeight!=s.doc.height)&&so(s,i.barMeasure),i.updatedDisplay&&Kl(s,i.barMeasure),i.selectionChanged&&Rl(s),s.state.focused&&i.updateInput&&s.display.input.reset(i.typing),u&&Gs(i.cm)}function jf(i){var s=i.cm,u=s.display,c=s.doc;if(i.updatedDisplay&&Fc(s,i.update),u.wheelStartX!=null&&(i.scrollTop!=null||i.scrollLeft!=null||i.scrollToPos)&&(u.wheelStartX=u.wheelStartY=null),i.scrollTop!=null&&Rc(s,i.scrollTop,i.forceScroll),i.scrollLeft!=null&&Ei(s,i.scrollLeft,!0,!0),i.scrollToPos){var d=Tf(s,Ce(c,i.scrollToPos.from),Ce(c,i.scrollToPos.to),i.scrollToPos.margin);Fl(s,d)}var g=i.maybeHiddenMarkers,b=i.maybeUnhiddenMarkers;if(g)for(var S=0;S<g.length;++S)g[S].lines.length||lr(g[S],"hide");if(b)for(var j=0;j<b.length;++j)b[j].lines.length&&lr(b[j],"unhide");u.wrapper.offsetHeight&&(c.scrollTop=s.display.scroller.scrollTop),i.changeObjs&&lr(s,"changes",s,i.changeObjs),i.update&&i.update.finish()}function Pn(i,s){if(i.curOp)return s();Li(i);try{return s()}finally{ji(i)}}function $r(i,s){return function(){if(i.curOp)return s.apply(i,arguments);Li(i);try{return s.apply(i,arguments)}finally{ji(i)}}}function _r(i){return function(){if(this.curOp)return i.apply(this,arguments);Li(this);try{return i.apply(this,arguments)}finally{ji(this)}}}function qr(i){return function(){var s=this.cm;if(!s||s.curOp)return i.apply(this,arguments);Li(s);try{return i.apply(this,arguments)}finally{ji(s)}}}function Sr(i,s){i.doc.highlightFrontier<i.display.viewTo&&i.state.highlight.set(s,Nt(Df,i))}function Df(i){var s=i.doc;if(!(s.highlightFrontier>=i.display.viewTo)){var u=+new Date+i.options.workTime,c=Qn(i,s.highlightFrontier),d=[];s.iter(c.line,Math.min(s.first+s.size,i.display.viewTo+500),function(g){if(c.line>=i.display.viewFrom){var b=g.styles,S=g.text.length>i.options.maxHighlightLength?Mn(s.mode,c.state):null,j=Gi(i,g,c,!0);S&&(c.state=S),g.styles=j.styles;var W=g.styleClasses,dt=j.classes;dt?g.styleClasses=dt:W&&(g.styleClasses=null);for(var xt=!b||b.length!=g.styles.length||W!=dt&&(!W||!dt||W.bgClass!=dt.bgClass||W.textClass!=dt.textClass),jt=0;!xt&&jt<b.length;++jt)xt=b[jt]!=g.styles[jt];xt&&d.push(c.line),g.stateAfter=c.save(),c.nextLine()}else g.text.length<=i.options.maxHighlightLength&&Ki(i,g.text,c),g.stateAfter=c.line%5==0?c.save():null,c.nextLine();if(+new Date>u)return Sr(i,i.options.workDelay),!0}),s.highlightFrontier=c.line,s.modeFrontier=Math.max(s.modeFrontier,c.line),d.length&&Pn(i,function(){for(var g=0;g<d.length;g++)$o(i,d[g],"text")})}}var Zs=function(i,s,u){var c=i.display;this.viewport=s,this.visible=Pi(c,i.doc,s),this.editorIsHidden=!c.wrapper.offsetWidth,this.wrapperHeight=c.wrapper.clientHeight,this.wrapperWidth=c.wrapper.clientWidth,this.oldDisplayWidth=_t(i),this.force=u,this.dims=jl(i),this.events=[]};Zs.prototype.signal=function(i,s){ee(i,s)&&this.events.push(arguments)},Zs.prototype.finish=function(){for(var i=0;i<this.events.length;i++)lr.apply(null,this.events[i])};function Nc(i){var s=i.display;!s.scrollbarsClipped&&s.scroller.offsetWidth&&(s.nativeBarWidth=s.scroller.offsetWidth-s.scroller.clientWidth,s.heightForcer.style.height=Q(i)+"px",s.sizer.style.marginBottom=-s.nativeBarWidth+"px",s.sizer.style.borderRightWidth=Q(i)+"px",s.scrollbarsClipped=!0)}function If(i){if(i.hasFocus())return null;var s=X(Ut(i));if(!s||!rt(i.display.lineDiv,s))return null;var u={activeElt:s};if(window.getSelection){var c=zt(i).getSelection();c.anchorNode&&c.extend&&rt(i.display.lineDiv,c.anchorNode)&&(u.anchorNode=c.anchorNode,u.anchorOffset=c.anchorOffset,u.focusNode=c.focusNode,u.focusOffset=c.focusOffset)}return u}function Vf(i){if(!(!i||!i.activeElt||i.activeElt==X(i.activeElt.ownerDocument))&&(i.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(i.activeElt.nodeName)&&i.anchorNode&&rt(document.body,i.anchorNode)&&rt(document.body,i.focusNode))){var s=i.activeElt.ownerDocument,u=s.defaultView.getSelection(),c=s.createRange();c.setEnd(i.anchorNode,i.anchorOffset),c.collapse(!1),u.removeAllRanges(),u.addRange(c),u.extend(i.focusNode,i.focusOffset)}}function zl(i,s){var u=i.display,c=i.doc;if(s.editorIsHidden)return qo(i),!1;if(!s.force&&s.visible.from>=u.viewFrom&&s.visible.to<=u.viewTo&&(u.updateLineNumbers==null||u.updateLineNumbers>=u.viewTo)&&u.renderedView==u.view&&Ws(i)==0)return!1;Hc(i)&&(qo(i),s.dims=jl(i));var d=c.first+c.size,g=Math.max(s.visible.from-i.options.viewportMargin,c.first),b=Math.min(d,s.visible.to+i.options.viewportMargin);u.viewFrom<g&&g-u.viewFrom<20&&(g=Math.max(c.first,u.viewFrom)),u.viewTo>b&&u.viewTo-b<20&&(b=Math.min(d,u.viewTo)),Ln&&(g=Rn(i.doc,g),b=So(i.doc,b));var S=g!=u.viewFrom||b!=u.viewTo||u.lastWrapHeight!=s.wrapperHeight||u.lastWrapWidth!=s.wrapperWidth;zs(i,g,b),u.viewOffset=sr(we(i.doc,u.viewFrom)),i.display.mover.style.top=u.viewOffset+"px";var j=Ws(i);if(!S&&j==0&&!s.force&&u.renderedView==u.view&&(u.updateLineNumbers==null||u.updateLineNumbers>=u.viewTo))return!1;var W=If(i);return j>4&&(u.lineDiv.style.display="none"),Rf(i,u.updateLineNumbers,s.dims),j>4&&(u.lineDiv.style.display=""),u.renderedView=u.view,Vf(W),N(u.cursorDiv),N(u.selectionDiv),u.gutters.style.height=u.sizer.style.minHeight=0,S&&(u.lastWrapHeight=s.wrapperHeight,u.lastWrapWidth=s.wrapperWidth,Sr(i,400)),u.updateLineNumbers=null,!0}function Fc(i,s){for(var u=s.viewport,c=!0;;c=!1){if(!c||!i.options.lineWrapping||s.oldDisplayWidth==_t(i)){if(u&&u.top!=null&&(u={top:Math.min(i.doc.height+Ua(i.display)-St(i),u.top)}),s.visible=Pi(i.display,i.doc,u),s.visible.from>=i.display.viewFrom&&s.visible.to<=i.display.viewTo)break}else c&&(s.visible=Pi(i.display,i.doc,u));if(!zl(i,s))break;Ks(i);var d=Ya(i);$a(i),so(i,d),Kl(i,d),s.force=!1}s.signal(i,"update",i),(i.display.viewFrom!=i.display.reportedViewFrom||i.display.viewTo!=i.display.reportedViewTo)&&(s.signal(i,"viewportChange",i,i.display.viewFrom,i.display.viewTo),i.display.reportedViewFrom=i.display.viewFrom,i.display.reportedViewTo=i.display.viewTo)}function Wl(i,s){var u=new Zs(i,s);if(zl(i,u)){Ks(i),Fc(i,u);var c=Ya(i);$a(i),so(i,c),Kl(i,c),u.finish()}}function Rf(i,s,u){var c=i.display,d=i.options.lineNumbers,g=c.lineDiv,b=g.firstChild;function S(Gt){var qt=Gt.nextSibling;return m&&k&&i.display.currentWheelTarget==Gt?Gt.style.display="none":Gt.parentNode.removeChild(Gt),qt}for(var j=c.view,W=c.viewFrom,dt=0;dt<j.length;dt++){var xt=j[dt];if(!xt.hidden)if(!xt.node||xt.node.parentNode!=g){var jt=vo(i,xt,W,u);g.insertBefore(jt,b)}else{for(;b!=xt.node;)b=S(b);var kt=d&&s!=null&&s<=W&&xt.lineNumber;xt.changes&&(Wt(xt.changes,"gutter")>-1&&(kt=!1),Na(i,xt,W,u)),kt&&(N(xt.lineNumber),xt.lineNumber.appendChild(document.createTextNode(gn(i.options,W)))),b=xt.node.nextSibling}W+=xt.size}for(;b;)b=S(b)}function Gl(i){var s=i.gutters.offsetWidth;i.sizer.style.marginLeft=s+"px",Ir(i,"gutterChanged",i)}function Kl(i,s){i.display.sizer.style.minHeight=s.docHeight+"px",i.display.heightForcer.style.top=s.docHeight+"px",i.display.gutters.style.height=s.docHeight+i.display.barHeight+Q(i)+"px"}function Ys(i){var s=i.display,u=s.view;if(!(!s.alignWidgets&&(!s.gutters.firstChild||!i.options.fixedGutter))){for(var c=oa(s)-s.scroller.scrollLeft+i.doc.scrollLeft,d=s.gutters.offsetWidth,g=c+"px",b=0;b<u.length;b++)if(!u[b].hidden){i.options.fixedGutter&&(u[b].gutter&&(u[b].gutter.style.left=g),u[b].gutterBackground&&(u[b].gutterBackground.style.left=g));var S=u[b].alignable;if(S)for(var j=0;j<S.length;j++)S[j].style.left=g}i.options.fixedGutter&&(s.gutters.style.left=c+d+"px")}}function Hc(i){if(!i.options.lineNumbers)return!1;var s=i.doc,u=gn(i.options,s.first+s.size-1),c=i.display;if(u.length!=c.lineNumChars){var d=c.measure.appendChild(P("div",[P("div",u)],"CodeMirror-linenumber CodeMirror-gutter-elt")),g=d.firstChild.offsetWidth,b=d.offsetWidth-g;return c.lineGutter.style.width="",c.lineNumInnerWidth=Math.max(g,c.lineGutter.offsetWidth-b)+1,c.lineNumWidth=c.lineNumInnerWidth+b,c.lineNumChars=c.lineNumInnerWidth?u.length:-1,c.lineGutter.style.width=c.lineNumWidth+"px",Gl(i.display),!0}return!1}function Di(i,s){for(var u=[],c=!1,d=0;d<i.length;d++){var g=i[d],b=null;if(typeof g!="string"&&(b=g.style,g=g.className),g=="CodeMirror-linenumbers")if(s)c=!0;else continue;u.push({className:g,style:b})}return s&&!c&&u.push({className:"CodeMirror-linenumbers",style:null}),u}function Xa(i){var s=i.gutters,u=i.gutterSpecs;N(s),i.lineGutter=null;for(var c=0;c<u.length;++c){var d=u[c],g=d.className,b=d.style,S=s.appendChild(P("div",null,"CodeMirror-gutter "+g));b&&(S.style.cssText=b),g=="CodeMirror-linenumbers"&&(i.lineGutter=S,S.style.width=(i.lineNumWidth||1)+"px")}s.style.display=u.length?"":"none",Gl(i)}function Yo(i){Xa(i.display),rn(i),Ys(i)}function Nf(i,s,u,c){var d=this;this.input=u,d.scrollbarFiller=P("div",null,"CodeMirror-scrollbar-filler"),d.scrollbarFiller.setAttribute("cm-not-content","true"),d.gutterFiller=P("div",null,"CodeMirror-gutter-filler"),d.gutterFiller.setAttribute("cm-not-content","true"),d.lineDiv=$("div",null,"CodeMirror-code"),d.selectionDiv=P("div",null,null,"position: relative; z-index: 1"),d.cursorDiv=P("div",null,"CodeMirror-cursors"),d.measure=P("div",null,"CodeMirror-measure"),d.lineMeasure=P("div",null,"CodeMirror-measure"),d.lineSpace=$("div",[d.measure,d.lineMeasure,d.selectionDiv,d.cursorDiv,d.lineDiv],null,"position: relative; outline: none");var g=$("div",[d.lineSpace],"CodeMirror-lines");d.mover=P("div",[g],null,"position: relative"),d.sizer=P("div",[d.mover],"CodeMirror-sizer"),d.sizerWidth=null,d.heightForcer=P("div",null,null,"position: absolute; height: "+oe+"px; width: 1px;"),d.gutters=P("div",null,"CodeMirror-gutters"),d.lineGutter=null,d.scroller=P("div",[d.sizer,d.heightForcer,d.gutters],"CodeMirror-scroll"),d.scroller.setAttribute("tabIndex","-1"),d.wrapper=P("div",[d.scrollbarFiller,d.gutterFiller,d.scroller],"CodeMirror"),w&&C>=105&&(d.wrapper.style.clipPath="inset(0px)"),d.wrapper.setAttribute("translate","no"),x&&M<8&&(d.gutters.style.zIndex=-1,d.scroller.style.paddingRight=0),!m&&!(ct&&D)&&(d.scroller.draggable=!0),i&&(i.appendChild?i.appendChild(d.wrapper):i(d.wrapper)),d.viewFrom=d.viewTo=s.first,d.reportedViewFrom=d.reportedViewTo=s.first,d.view=[],d.renderedView=null,d.externalMeasured=null,d.viewOffset=0,d.lastWrapHeight=d.lastWrapWidth=0,d.updateLineNumbers=null,d.nativeBarWidth=d.barHeight=d.barWidth=0,d.scrollbarsClipped=!1,d.lineNumWidth=d.lineNumInnerWidth=d.lineNumChars=null,d.alignWidgets=!1,d.cachedCharWidth=d.cachedTextHeight=d.cachedPaddingH=null,d.maxLine=null,d.maxLineLength=0,d.maxLineChanged=!1,d.wheelDX=d.wheelDY=d.wheelStartX=d.wheelStartY=null,d.shift=!1,d.selForContextMenu=null,d.activeTouch=null,d.gutterSpecs=Di(c.gutters,c.lineNumbers),Xa(d),u.init(d)}var Ja=0,Po=null;x?Po=-.53:ct?Po=15:w?Po=-.7:L&&(Po=-1/3);function Bc(i){var s=i.wheelDeltaX,u=i.wheelDeltaY;return s==null&&i.detail&&i.axis==i.HORIZONTAL_AXIS&&(s=i.detail),u==null&&i.detail&&i.axis==i.VERTICAL_AXIS?u=i.detail:u==null&&(u=i.wheelDelta),{x:s,y:u}}function Uc(i){var s=Bc(i);return s.x*=Po,s.y*=Po,s}function zc(i,s){w&&C==102&&(i.display.chromeScrollHack==null?i.display.sizer.style.pointerEvents="none":clearTimeout(i.display.chromeScrollHack),i.display.chromeScrollHack=setTimeout(function(){i.display.chromeScrollHack=null,i.display.sizer.style.pointerEvents=""},100));var u=Bc(s),c=u.x,d=u.y,g=Po;s.deltaMode===0&&(c=s.deltaX,d=s.deltaY,g=1);var b=i.display,S=b.scroller,j=S.scrollWidth>S.clientWidth,W=S.scrollHeight>S.clientHeight;if(c&&j||d&&W){if(d&&k&&m){t:for(var dt=s.target,xt=b.view;dt!=S;dt=dt.parentNode)for(var jt=0;jt<xt.length;jt++)if(xt[jt].node==dt){i.display.currentWheelTarget=dt;break t}}if(c&&!ct&&!O&&g!=null){d&&W&&la(i,Math.max(0,S.scrollTop+d*g)),Ei(i,Math.max(0,S.scrollLeft+c*g)),(!d||d&&W)&&at(s),b.wheelStartX=null;return}if(d&&g!=null){var kt=d*g,Gt=i.doc.scrollTop,qt=Gt+b.wrapper.clientHeight;kt<0?Gt=Math.max(0,Gt+kt-50):qt=Math.min(i.doc.height,qt+kt+50),Wl(i,{top:Gt,bottom:qt})}Ja<20&&s.deltaMode!==0&&(b.wheelStartX==null?(b.wheelStartX=S.scrollLeft,b.wheelStartY=S.scrollTop,b.wheelDX=c,b.wheelDY=d,setTimeout(function(){if(b.wheelStartX!=null){var ie=S.scrollLeft-b.wheelStartX,le=S.scrollTop-b.wheelStartY,ge=le&&b.wheelDY&&le/b.wheelDY||ie&&b.wheelDX&&ie/b.wheelDX;b.wheelStartX=b.wheelStartY=null,ge&&(Po=(Po*Ja+ge)/(Ja+1),++Ja)}},200)):(b.wheelDX+=c,b.wheelDY+=d))}}var Nn=function(i,s){this.ranges=i,this.primIndex=s};Nn.prototype.primary=function(){return this.ranges[this.primIndex]},Nn.prototype.equals=function(i){if(i==this)return!0;if(i.primIndex!=this.primIndex||i.ranges.length!=this.ranges.length)return!1;for(var s=0;s<this.ranges.length;s++){var u=this.ranges[s],c=i.ranges[s];if(!Zt(u.anchor,c.anchor)||!Zt(u.head,c.head))return!1}return!0},Nn.prototype.deepCopy=function(){for(var i=[],s=0;s<this.ranges.length;s++)i[s]=new cr(re(this.ranges[s].anchor),re(this.ranges[s].head));return new Nn(i,this.primIndex)},Nn.prototype.somethingSelected=function(){for(var i=0;i<this.ranges.length;i++)if(!this.ranges[i].empty())return!0;return!1},Nn.prototype.contains=function(i,s){s||(s=i);for(var u=0;u<this.ranges.length;u++){var c=this.ranges[u];if(ut(s,c.from())>=0&&ut(i,c.to())<=0)return u}return-1};var cr=function(i,s){this.anchor=i,this.head=s};cr.prototype.from=function(){return Je(this.anchor,this.head)},cr.prototype.to=function(){return Re(this.anchor,this.head)},cr.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function lo(i,s,u){var c=i&&i.options.selectionsMayTouch,d=s[u];s.sort(function(jt,kt){return ut(jt.from(),kt.from())}),u=Wt(s,d);for(var g=1;g<s.length;g++){var b=s[g],S=s[g-1],j=ut(S.to(),b.from());if(c&&!b.empty()?j>0:j>=0){var W=Je(S.from(),b.from()),dt=Re(S.to(),b.to()),xt=S.empty()?b.from()==b.head:S.from()==S.head;g<=u&&--u,s.splice(--g,2,new cr(xt?dt:W,xt?W:dt))}}return new Nn(s,u)}function Xo(i,s){return new Nn([new cr(i,s||i)],0)}function Jo(i){return i.text?F(i.from.line+i.text.length-1,fe(i.text).length+(i.text.length==1?i.from.ch:0)):i.to}function Wc(i,s){if(ut(i,s.from)<0)return i;if(ut(i,s.to)<=0)return Jo(s);var u=i.line+s.text.length-(s.to.line-s.from.line)-1,c=i.ch;return i.line==s.to.line&&(c+=Jo(s).ch-s.to.ch),F(u,c)}function $l(i,s){for(var u=[],c=0;c<i.sel.ranges.length;c++){var d=i.sel.ranges[c];u.push(new cr(Wc(d.anchor,s),Wc(d.head,s)))}return lo(i.cm,u,i.sel.primIndex)}function Gc(i,s,u){return i.line==s.line?F(u.line,i.ch-s.ch+u.ch):F(u.line+(i.line-s.line),i.ch)}function Ff(i,s,u){for(var c=[],d=F(i.first,0),g=d,b=0;b<s.length;b++){var S=s[b],j=Gc(S.from,d,g),W=Gc(Jo(S),d,g);if(d=S.to,g=W,u=="around"){var dt=i.sel.ranges[b],xt=ut(dt.head,dt.anchor)<0;c[b]=new cr(xt?W:j,xt?j:W)}else c[b]=new cr(j,j)}return new Nn(c,i.sel.primIndex)}function ql(i){i.doc.mode=Qr(i.options,i.doc.modeOption),ca(i)}function ca(i){i.doc.iter(function(s){s.stateAfter&&(s.stateAfter=null),s.styles&&(s.styles=null)}),i.doc.modeFrontier=i.doc.highlightFrontier=i.doc.first,Sr(i,100),i.state.modeGen++,i.curOp&&rn(i)}function Kc(i,s){return s.from.ch==0&&s.to.ch==0&&fe(s.text)==""&&(!i.cm||i.cm.options.wholeLineUpdateBefore)}function Zl(i,s,u,c){function d(ge){return u?u[ge]:null}function g(ge,ce,ye){Ia(ge,ce,ye,c),Ir(ge,"change",ge,s)}function b(ge,ce){for(var ye=[],Ee=ge;Ee<ce;++Ee)ye.push(new no(W[Ee],d(Ee),c));return ye}var S=s.from,j=s.to,W=s.text,dt=we(i,S.line),xt=we(i,j.line),jt=fe(W),kt=d(W.length-1),Gt=j.line-S.line;if(s.full)i.insert(0,b(0,W.length)),i.remove(W.length,i.size-W.length);else if(Kc(i,s)){var qt=b(0,W.length-1);g(xt,xt.text,kt),Gt&&i.remove(S.line,Gt),qt.length&&i.insert(S.line,qt)}else if(dt==xt)if(W.length==1)g(dt,dt.text.slice(0,S.ch)+jt+dt.text.slice(j.ch),kt);else{var ie=b(1,W.length-1);ie.push(new no(jt+dt.text.slice(j.ch),kt,c)),g(dt,dt.text.slice(0,S.ch)+W[0],d(0)),i.insert(S.line+1,ie)}else if(W.length==1)g(dt,dt.text.slice(0,S.ch)+W[0]+xt.text.slice(j.ch),d(0)),i.remove(S.line+1,Gt);else{g(dt,dt.text.slice(0,S.ch)+W[0],d(0)),g(xt,jt+xt.text.slice(j.ch),kt);var le=b(1,W.length-1);Gt>1&&i.remove(S.line+1,Gt-1),i.insert(S.line+1,le)}Ir(i,"change",i,s)}function Qo(i,s,u){function c(d,g,b){if(d.linked)for(var S=0;S<d.linked.length;++S){var j=d.linked[S];if(j.doc!=g){var W=b&&j.sharedHist;u&&!W||(s(j.doc,W),c(j.doc,d,W))}}}c(i,null,!0)}function $c(i,s){if(s.cm)throw new Error("This document is already in use.");i.doc=s,s.cm=i,Dl(i),ql(i),qc(i),i.options.direction=s.direction,i.options.lineWrapping||ro(i),i.options.mode=s.modeOption,rn(i)}function qc(i){(i.doc.direction=="rtl"?wt:I)(i.display.lineDiv,"CodeMirror-rtl")}function Hf(i){Pn(i,function(){qc(i),rn(i)})}function Xs(i){this.done=[],this.undone=[],this.undoDepth=i?i.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=i?i.maxGeneration:1}function Yl(i,s){var u={from:re(s.from),to:Jo(s),text:cn(i,s.from,s.to)};return Xc(i,u,s.from.line,s.to.line+1),Qo(i,function(c){return Xc(c,u,s.from.line,s.to.line+1)},!0),u}function Zc(i){for(;i.length;){var s=fe(i);if(s.ranges)i.pop();else break}}function Bf(i,s){if(s)return Zc(i.done),fe(i.done);if(i.done.length&&!fe(i.done).ranges)return fe(i.done);if(i.done.length>1&&!i.done[i.done.length-2].ranges)return i.done.pop(),fe(i.done)}function Yc(i,s,u,c){var d=i.history;d.undone.length=0;var g=+new Date,b,S;if((d.lastOp==c||d.lastOrigin==s.origin&&s.origin&&(s.origin.charAt(0)=="+"&&d.lastModTime>g-(i.cm?i.cm.options.historyEventDelay:500)||s.origin.charAt(0)=="*"))&&(b=Bf(d,d.lastOp==c)))S=fe(b.changes),ut(s.from,s.to)==0&&ut(s.from,S.to)==0?S.to=Jo(s):b.changes.push(Yl(i,s));else{var j=fe(d.done);for((!j||!j.ranges)&&Js(i.sel,d.done),b={changes:[Yl(i,s)],generation:d.generation},d.done.push(b);d.done.length>d.undoDepth;)d.done.shift(),d.done[0].ranges||d.done.shift()}d.done.push(u),d.generation=++d.maxGeneration,d.lastModTime=d.lastSelTime=g,d.lastOp=d.lastSelOp=c,d.lastOrigin=d.lastSelOrigin=s.origin,S||lr(i,"historyAdded")}function Uf(i,s,u,c){var d=s.charAt(0);return d=="*"||d=="+"&&u.ranges.length==c.ranges.length&&u.somethingSelected()==c.somethingSelected()&&new Date-i.history.lastSelTime<=(i.cm?i.cm.options.historyEventDelay:500)}function zf(i,s,u,c){var d=i.history,g=c&&c.origin;u==d.lastSelOp||g&&d.lastSelOrigin==g&&(d.lastModTime==d.lastSelTime&&d.lastOrigin==g||Uf(i,g,fe(d.done),s))?d.done[d.done.length-1]=s:Js(s,d.done),d.lastSelTime=+new Date,d.lastSelOrigin=g,d.lastSelOp=u,c&&c.clearRedo!==!1&&Zc(d.undone)}function Js(i,s){var u=fe(s);u&&u.ranges&&u.equals(i)||s.push(i)}function Xc(i,s,u,c){var d=s["spans_"+i.id],g=0;i.iter(Math.max(i.first,u),Math.min(i.first+i.size,c),function(b){b.markedSpans&&((d||(d=s["spans_"+i.id]={}))[g]=b.markedSpans),++g})}function Wf(i){if(!i)return null;for(var s,u=0;u<i.length;++u)i[u].marker.explicitlyCleared?s||(s=i.slice(0,u)):s&&s.push(i[u]);return s?s.length?s:null:i}function Gf(i,s){var u=s["spans_"+i.id];if(!u)return null;for(var c=[],d=0;d<s.text.length;++d)c.push(Wf(u[d]));return c}function Jc(i,s){var u=Gf(i,s),c=_o(i,s);if(!u)return c;if(!c)return u;for(var d=0;d<u.length;++d){var g=u[d],b=c[d];if(g&&b)t:for(var S=0;S<b.length;++S){for(var j=b[S],W=0;W<g.length;++W)if(g[W].marker==j.marker)continue t;g.push(j)}else b&&(u[d]=b)}return u}function ua(i,s,u){for(var c=[],d=0;d<i.length;++d){var g=i[d];if(g.ranges){c.push(u?Nn.prototype.deepCopy.call(g):g);continue}var b=g.changes,S=[];c.push({changes:S});for(var j=0;j<b.length;++j){var W=b[j],dt=void 0;if(S.push({from:W.from,to:W.to,text:W.text}),s)for(var xt in W)(dt=xt.match(/^spans_(\d+)$/))&&Wt(s,Number(dt[1]))>-1&&(fe(S)[xt]=W[xt],delete W[xt])}}return c}function Xl(i,s,u,c){if(c){var d=i.anchor;if(u){var g=ut(s,d)<0;g!=ut(u,d)<0?(d=s,s=u):g!=ut(s,u)<0&&(s=u)}return new cr(d,s)}else return new cr(u||s,s)}function Qs(i,s,u,c,d){d==null&&(d=i.cm&&(i.cm.display.shift||i.extend)),pn(i,new Nn([Xl(i.sel.primary(),s,u,d)],0),c)}function Qc(i,s,u){for(var c=[],d=i.cm&&(i.cm.display.shift||i.extend),g=0;g<i.sel.ranges.length;g++)c[g]=Xl(i.sel.ranges[g],s[g],null,d);var b=lo(i.cm,c,i.sel.primIndex);pn(i,b,u)}function Jl(i,s,u,c){var d=i.sel.ranges.slice(0);d[s]=u,pn(i,lo(i.cm,d,i.sel.primIndex),c)}function tu(i,s,u,c){pn(i,Xo(s,u),c)}function Kf(i,s,u){var c={ranges:s.ranges,update:function(d){this.ranges=[];for(var g=0;g<d.length;g++)this.ranges[g]=new cr(Ce(i,d[g].anchor),Ce(i,d[g].head))},origin:u&&u.origin};return lr(i,"beforeSelectionChange",i,c),i.cm&&lr(i.cm,"beforeSelectionChange",i.cm,c),c.ranges!=s.ranges?lo(i.cm,c.ranges,c.ranges.length-1):s}function Qa(i,s,u){var c=i.history.done,d=fe(c);d&&d.ranges?(c[c.length-1]=s,tl(i,s,u)):pn(i,s,u)}function pn(i,s,u){tl(i,s,u),zf(i,i.sel,i.cm?i.cm.curOp.id:NaN,u)}function tl(i,s,u){(ee(i,"beforeSelectionChange")||i.cm&&ee(i.cm,"beforeSelectionChange"))&&(s=Kf(i,s,u));var c=u&&u.bias||(ut(s.primary().head,i.sel.primary().head)<0?-1:1);eu(i,ru(i,s,c,!0)),!(u&&u.scroll===!1)&&i.cm&&i.cm.getOption("readOnly")!="nocursor"&&Zo(i.cm)}function eu(i,s){s.equals(i.sel)||(i.sel=s,i.cm&&(i.cm.curOp.updateInput=1,i.cm.curOp.selectionChanged=!0,dr(i.cm)),Ir(i,"cursorActivity",i))}function dn(i){eu(i,ru(i,i.sel,null,!1))}function ru(i,s,u,c){for(var d,g=0;g<s.ranges.length;g++){var b=s.ranges[g],S=s.ranges.length==i.sel.ranges.length&&i.sel.ranges[g],j=ti(i,b.anchor,S&&S.anchor,u,c),W=b.head==b.anchor?j:ti(i,b.head,S&&S.head,u,c);(d||j!=b.anchor||W!=b.head)&&(d||(d=s.ranges.slice(0,g)),d[g]=new cr(j,W))}return d?lo(i.cm,d,s.primIndex):s}function fa(i,s,u,c,d){var g=we(i,s.line);if(g.markedSpans)for(var b=0;b<g.markedSpans.length;++b){var S=g.markedSpans[b],j=S.marker,W="selectLeft"in j?!j.selectLeft:j.inclusiveLeft,dt="selectRight"in j?!j.selectRight:j.inclusiveRight;if((S.from==null||(W?S.from<=s.ch:S.from<s.ch))&&(S.to==null||(dt?S.to>=s.ch:S.to>s.ch))){if(d&&(lr(j,"beforeCursorEnter"),j.explicitlyCleared))if(g.markedSpans){--b;continue}else break;if(!j.atomic)continue;if(u){var xt=j.find(c<0?1:-1),jt=void 0;if((c<0?dt:W)&&(xt=nu(i,xt,-c,xt&&xt.line==s.line?g:null)),xt&&xt.line==s.line&&(jt=ut(xt,u))&&(c<0?jt<0:jt>0))return fa(i,xt,s,c,d)}var kt=j.find(c<0?-1:1);return(c<0?W:dt)&&(kt=nu(i,kt,c,kt.line==s.line?g:null)),kt?fa(i,kt,s,c,d):null}}return s}function ti(i,s,u,c,d){var g=c||1,b=fa(i,s,u,g,d)||!d&&fa(i,s,u,g,!0)||fa(i,s,u,-g,d)||!d&&fa(i,s,u,-g,!0);return b||(i.cantEdit=!0,F(i.first,0))}function nu(i,s,u,c){return u<0&&s.ch==0?s.line>i.first?Ce(i,F(s.line-1)):null:u>0&&s.ch==(c||we(i,s.line)).text.length?s.line<i.first+i.size-1?F(s.line+1,0):null:new F(s.line,s.ch+u)}function ou(i){i.setSelection(F(i.firstLine(),0),F(i.lastLine()),Jt)}function iu(i,s,u){var c={canceled:!1,from:s.from,to:s.to,text:s.text,origin:s.origin,cancel:function(){return c.canceled=!0}};return u&&(c.update=function(d,g,b,S){d&&(c.from=Ce(i,d)),g&&(c.to=Ce(i,g)),b&&(c.text=b),S!==void 0&&(c.origin=S)}),lr(i,"beforeChange",i,c),i.cm&&lr(i.cm,"beforeChange",i.cm,c),c.canceled?(i.cm&&(i.cm.curOp.updateInput=2),null):{from:c.from,to:c.to,text:c.text,origin:c.origin}}function pa(i,s,u){if(i.cm){if(!i.cm.curOp)return $r(i.cm,pa)(i,s,u);if(i.cm.state.suppressEdits)return}if(!((ee(i,"beforeChange")||i.cm&&ee(i.cm,"beforeChange"))&&(s=iu(i,s,!0),!s))){var c=La&&!u&&Zi(i,s.from,s.to);if(c)for(var d=c.length-1;d>=0;--d)au(i,{from:c[d].from,to:c[d].to,text:d?[""]:s.text,origin:s.origin});else au(i,s)}}function au(i,s){if(!(s.text.length==1&&s.text[0]==""&&ut(s.from,s.to)==0)){var u=$l(i,s);Yc(i,s,u,i.cm?i.cm.curOp.id:NaN),ts(i,s,u,_o(i,s));var c=[];Qo(i,function(d,g){!g&&Wt(c,d.history)==-1&&(rl(d.history,s),c.push(d.history)),ts(d,s,null,_o(d,s))})}}function el(i,s,u){var c=i.cm&&i.cm.state.suppressEdits;if(!(c&&!u)){for(var d=i.history,g,b=i.sel,S=s=="undo"?d.done:d.undone,j=s=="undo"?d.undone:d.done,W=0;W<S.length&&(g=S[W],!(u?g.ranges&&!g.equals(i.sel):!g.ranges));W++);if(W!=S.length){for(d.lastOrigin=d.lastSelOrigin=null;;)if(g=S.pop(),g.ranges){if(Js(g,j),u&&!g.equals(i.sel)){pn(i,g,{clearRedo:!1});return}b=g}else if(c){S.push(g);return}else break;var dt=[];Js(b,j),j.push({changes:dt,generation:d.generation}),d.generation=g.generation||++d.maxGeneration;for(var xt=ee(i,"beforeChange")||i.cm&&ee(i.cm,"beforeChange"),jt=function(qt){var ie=g.changes[qt];if(ie.origin=s,xt&&!iu(i,ie,!1))return S.length=0,{};dt.push(Yl(i,ie));var le=qt?$l(i,ie):fe(S);ts(i,ie,le,Jc(i,ie)),!qt&&i.cm&&i.cm.scrollIntoView({from:ie.from,to:Jo(ie)});var ge=[];Qo(i,function(ce,ye){!ye&&Wt(ge,ce.history)==-1&&(rl(ce.history,ie),ge.push(ce.history)),ts(ce,ie,null,Jc(ce,ie))})},kt=g.changes.length-1;kt>=0;--kt){var Gt=jt(kt);if(Gt)return Gt.v}}}}function su(i,s){if(s!=0&&(i.first+=s,i.sel=new Nn(K(i.sel.ranges,function(d){return new cr(F(d.anchor.line+s,d.anchor.ch),F(d.head.line+s,d.head.ch))}),i.sel.primIndex),i.cm)){rn(i.cm,i.first,i.first-s,s);for(var u=i.cm.display,c=u.viewFrom;c<u.viewTo;c++)$o(i.cm,c,"gutter")}}function ts(i,s,u,c){if(i.cm&&!i.cm.curOp)return $r(i.cm,ts)(i,s,u,c);if(s.to.line<i.first){su(i,s.text.length-1-(s.to.line-s.from.line));return}if(!(s.from.line>i.lastLine())){if(s.from.line<i.first){var d=s.text.length-1-(i.first-s.from.line);su(i,d),s={from:F(i.first,0),to:F(s.to.line+d,s.to.ch),text:[fe(s.text)],origin:s.origin}}var g=i.lastLine();s.to.line>g&&(s={from:s.from,to:F(g,we(i,g).text.length),text:[s.text[0]],origin:s.origin}),s.removed=cn(i,s.from,s.to),u||(u=$l(i,s)),i.cm?$f(i.cm,s,c):Zl(i,s,c),tl(i,u,Jt),i.cantEdit&&ti(i,F(i.firstLine(),0))&&(i.cantEdit=!1)}}function $f(i,s,u){var c=i.doc,d=i.display,g=s.from,b=s.to,S=!1,j=g.line;i.options.lineWrapping||(j=Xe(Qe(we(c,g.line))),c.iter(j,b.line+1,function(kt){if(kt==d.maxLine)return S=!0,!0})),c.sel.contains(s.from,s.to)>-1&&dr(i),Zl(c,s,u,Bs(i)),i.options.lineWrapping||(c.iter(j,g.line+s.text.length,function(kt){var Gt=eo(kt);Gt>d.maxLineLength&&(d.maxLine=kt,d.maxLineLength=Gt,d.maxLineChanged=!0,S=!1)}),S&&(i.curOp.updateMaxLine=!0)),to(c,g.line),Sr(i,400);var W=s.text.length-(b.line-g.line)-1;s.full?rn(i):g.line==b.line&&s.text.length==1&&!Kc(i.doc,s)?$o(i,g.line,"text"):rn(i,g.line,b.line+1,W);var dt=ee(i,"changes"),xt=ee(i,"change");if(xt||dt){var jt={from:g,to:b,text:s.text,removed:s.removed,origin:s.origin};xt&&Ir(i,"change",i,jt),dt&&(i.curOp.changeObjs||(i.curOp.changeObjs=[])).push(jt)}i.display.selForContextMenu=null}function da(i,s,u,c,d){var g;c||(c=u),ut(c,u)<0&&(g=[c,u],u=g[0],c=g[1]),typeof s=="string"&&(s=i.splitLines(s)),pa(i,{from:u,to:c,text:s,origin:d})}function ha(i,s,u,c){u<i.line?i.line+=c:s<i.line&&(i.line=s,i.ch=0)}function lu(i,s,u,c){for(var d=0;d<i.length;++d){var g=i[d],b=!0;if(g.ranges){g.copied||(g=i[d]=g.deepCopy(),g.copied=!0);for(var S=0;S<g.ranges.length;S++)ha(g.ranges[S].anchor,s,u,c),ha(g.ranges[S].head,s,u,c);continue}for(var j=0;j<g.changes.length;++j){var W=g.changes[j];if(u<W.from.line)W.from=F(W.from.line+c,W.from.ch),W.to=F(W.to.line+c,W.to.ch);else if(s<=W.to.line){b=!1;break}}b||(i.splice(0,d+1),d=0)}}function rl(i,s){var u=s.from.line,c=s.to.line,d=s.text.length-(c-u)-1;lu(i.done,u,c,d),lu(i.undone,u,c,d)}function es(i,s,u,c){var d=s,g=s;return typeof s=="number"?g=we(i,or(i,s)):d=Xe(s),d==null?null:(c(g,d)&&i.cm&&$o(i.cm,d,u),g)}function va(i){this.lines=i,this.parent=null;for(var s=0,u=0;u<i.length;++u)i[u].parent=this,s+=i[u].height;this.height=s}va.prototype={chunkSize:function(){return this.lines.length},removeInner:function(i,s){for(var u=i,c=i+s;u<c;++u){var d=this.lines[u];this.height-=d.height,Kr(d),Ir(d,"delete")}this.lines.splice(i,s)},collapse:function(i){i.push.apply(i,this.lines)},insertInner:function(i,s,u){this.height+=u,this.lines=this.lines.slice(0,i).concat(s).concat(this.lines.slice(i));for(var c=0;c<s.length;++c)s[c].parent=this},iterN:function(i,s,u){for(var c=i+s;i<c;++i)if(u(this.lines[i]))return!0}};function rs(i){this.children=i;for(var s=0,u=0,c=0;c<i.length;++c){var d=i[c];s+=d.chunkSize(),u+=d.height,d.parent=this}this.size=s,this.height=u,this.parent=null}rs.prototype={chunkSize:function(){return this.size},removeInner:function(i,s){this.size-=s;for(var u=0;u<this.children.length;++u){var c=this.children[u],d=c.chunkSize();if(i<d){var g=Math.min(s,d-i),b=c.height;if(c.removeInner(i,g),this.height-=b-c.height,d==g&&(this.children.splice(u--,1),c.parent=null),(s-=g)==0)break;i=0}else i-=d}if(this.size-s<25&&(this.children.length>1||!(this.children[0]instanceof va))){var S=[];this.collapse(S),this.children=[new va(S)],this.children[0].parent=this}},collapse:function(i){for(var s=0;s<this.children.length;++s)this.children[s].collapse(i)},insertInner:function(i,s,u){this.size+=s.length,this.height+=u;for(var c=0;c<this.children.length;++c){var d=this.children[c],g=d.chunkSize();if(i<=g){if(d.insertInner(i,s,u),d.lines&&d.lines.length>50){for(var b=d.lines.length%25+25,S=b;S<d.lines.length;){var j=new va(d.lines.slice(S,S+=25));d.height-=j.height,this.children.splice(++c,0,j),j.parent=this}d.lines=d.lines.slice(0,b),this.maybeSpill()}break}i-=g}},maybeSpill:function(){if(!(this.children.length<=10)){var i=this;do{var s=i.children.splice(i.children.length-5,5),u=new rs(s);if(i.parent){i.size-=u.size,i.height-=u.height;var d=Wt(i.parent.children,i);i.parent.children.splice(d+1,0,u)}else{var c=new rs(i.children);c.parent=i,i.children=[c,u],i=c}u.parent=i.parent}while(i.children.length>10);i.parent.maybeSpill()}},iterN:function(i,s,u){for(var c=0;c<this.children.length;++c){var d=this.children[c],g=d.chunkSize();if(i<g){var b=Math.min(s,g-i);if(d.iterN(i,b,u))return!0;if((s-=b)==0)break;i=0}else i-=g}}};var ga=function(i,s,u){if(u)for(var c in u)u.hasOwnProperty(c)&&(this[c]=u[c]);this.doc=i,this.node=s};ga.prototype.clear=function(){var i=this.doc.cm,s=this.line.widgets,u=this.line,c=Xe(u);if(!(c==null||!s)){for(var d=0;d<s.length;++d)s[d]==this&&s.splice(d--,1);s.length||(u.widgets=null);var g=go(this);Nr(u,Math.max(0,u.height-g)),i&&(Pn(i,function(){cu(i,u,-g),$o(i,c,"widget")}),Ir(i,"lineWidgetCleared",i,this,c))}},ga.prototype.changed=function(){var i=this,s=this.height,u=this.doc.cm,c=this.line;this.height=null;var d=go(this)-s;d&&(Tn(this.doc,c)||Nr(c,c.height+d),u&&Pn(u,function(){u.curOp.forceUpdate=!0,cu(u,c,d),Ir(u,"lineWidgetChanged",u,i,Xe(c))}))},Kn(ga);function cu(i,s,u){sr(s)<(i.curOp&&i.curOp.scrollTop||i.doc.scrollTop)&&sa(i,u)}function qf(i,s,u,c){var d=new ga(i,u,c),g=i.cm;return g&&d.noHScroll&&(g.display.alignWidgets=!0),es(i,s,"widget",function(b){var S=b.widgets||(b.widgets=[]);if(d.insertAt==null?S.push(d):S.splice(Math.min(S.length,Math.max(0,d.insertAt)),0,d),d.line=b,g&&!Tn(i,b)){var j=sr(b)<i.scrollTop;Nr(b,b.height+go(d)),j&&sa(g,d.height),g.curOp.forceUpdate=!0}return!0}),g&&Ir(g,"lineWidgetAdded",g,d,typeof s=="number"?s:Xe(s)),d}var ei=0,ri=function(i,s){this.lines=[],this.type=s,this.doc=i,this.id=++ei};ri.prototype.clear=function(){if(!this.explicitlyCleared){var i=this.doc.cm,s=i&&!i.curOp;if(s&&Li(i),ee(this,"clear")){var u=this.find();u&&Ir(this,"clear",u.from,u.to)}for(var c=null,d=null,g=0;g<this.lines.length;++g){var b=this.lines[g],S=No(b.markedSpans,this);i&&!this.collapsed?$o(i,Xe(b),"text"):i&&(S.to!=null&&(d=Xe(b)),S.from!=null&&(c=Xe(b))),b.markedSpans=bi(b.markedSpans,S),S.from==null&&this.collapsed&&!Tn(this.doc,b)&&i&&Nr(b,ra(i.display))}if(i&&this.collapsed&&!i.options.lineWrapping)for(var j=0;j<this.lines.length;++j){var W=Qe(this.lines[j]),dt=eo(W);dt>i.display.maxLineLength&&(i.display.maxLine=W,i.display.maxLineLength=dt,i.display.maxLineChanged=!0)}c!=null&&i&&this.collapsed&&rn(i,c,d+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,i&&dn(i.doc)),i&&Ir(i,"markerCleared",i,this,c,d),s&&ji(i),this.parent&&this.parent.clear()}},ri.prototype.find=function(i,s){i==null&&this.type=="bookmark"&&(i=1);for(var u,c,d=0;d<this.lines.length;++d){var g=this.lines[d],b=No(g.markedSpans,this);if(b.from!=null&&(u=F(s?g:Xe(g),b.from),i==-1))return u;if(b.to!=null&&(c=F(s?g:Xe(g),b.to),i==1))return c}return u&&{from:u,to:c}},ri.prototype.changed=function(){var i=this,s=this.find(-1,!0),u=this,c=this.doc.cm;!s||!c||Pn(c,function(){var d=s.line,g=Xe(s.line),b=ze(c,g);if(b&&(za(b),c.curOp.selectionChanged=c.curOp.forceUpdate=!0),c.curOp.updateMaxLine=!0,!Tn(u.doc,d)&&u.height!=null){var S=u.height;u.height=null;var j=go(u)-S;j&&Nr(d,d.height+j)}Ir(c,"markerChanged",c,i)})},ri.prototype.attachLine=function(i){if(!this.lines.length&&this.doc.cm){var s=this.doc.cm.curOp;(!s.maybeHiddenMarkers||Wt(s.maybeHiddenMarkers,this)==-1)&&(s.maybeUnhiddenMarkers||(s.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(i)},ri.prototype.detachLine=function(i){if(this.lines.splice(Wt(this.lines,i),1),!this.lines.length&&this.doc.cm){var s=this.doc.cm.curOp;(s.maybeHiddenMarkers||(s.maybeHiddenMarkers=[])).push(this)}},Kn(ri);function ma(i,s,u,c,d){if(c&&c.shared)return Zf(i,s,u,c,d);if(i.cm&&!i.cm.curOp)return $r(i.cm,ma)(i,s,u,c,d);var g=new ri(i,d),b=ut(s,u);if(c&&Qt(c,g,!1),b>0||b==0&&g.clearWhenEmpty!==!1)return g;if(g.replacedWith&&(g.collapsed=!0,g.widgetNode=$("span",[g.replacedWith],"CodeMirror-widget"),c.handleMouseEvents||g.widgetNode.setAttribute("cm-ignore-events","true"),c.insertLeft&&(g.widgetNode.insertLeft=!0)),g.collapsed){if(Zn(i,s.line,s,u,g)||s.line!=u.line&&Zn(i,u.line,s,u,g))throw new Error("Inserting collapsed marker partially overlapping an existing one");Vo()}g.addToHistory&&Yc(i,{from:s,to:u,origin:"markText"},i.sel,NaN);var S=s.line,j=i.cm,W;if(i.iter(S,u.line+1,function(xt){j&&g.collapsed&&!j.options.lineWrapping&&Qe(xt)==j.display.maxLine&&(W=!0),g.collapsed&&S!=s.line&&Nr(xt,0),ja(xt,new Ro(g,S==s.line?s.ch:null,S==u.line?u.ch:null),i.cm&&i.cm.curOp),++S}),g.collapsed&&i.iter(s.line,u.line+1,function(xt){Tn(i,xt)&&Nr(xt,0)}),g.clearOnEnter&&xe(g,"beforeCursorEnter",function(){return g.clear()}),g.readOnly&&(Es(),(i.history.done.length||i.history.undone.length)&&i.clearHistory()),g.collapsed&&(g.id=++ei,g.atomic=!0),j){if(W&&(j.curOp.updateMaxLine=!0),g.collapsed)rn(j,s.line,u.line+1);else if(g.className||g.startStyle||g.endStyle||g.css||g.attributes||g.title)for(var dt=s.line;dt<=u.line;dt++)$o(j,dt,"text");g.atomic&&dn(j.doc),Ir(j,"markerAdded",j,g)}return g}var ns=function(i,s){this.markers=i,this.primary=s;for(var u=0;u<i.length;++u)i[u].parent=this};ns.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var i=0;i<this.markers.length;++i)this.markers[i].clear();Ir(this,"clear")}},ns.prototype.find=function(i,s){return this.primary.find(i,s)},Kn(ns);function Zf(i,s,u,c,d){c=Qt(c),c.shared=!1;var g=[ma(i,s,u,c,d)],b=g[0],S=c.widgetNode;return Qo(i,function(j){S&&(c.widgetNode=S.cloneNode(!0)),g.push(ma(j,Ce(j,s),Ce(j,u),c,d));for(var W=0;W<j.linked.length;++W)if(j.linked[W].isParent)return;b=fe(g)}),new ns(g,b)}function uu(i){return i.findMarks(F(i.first,0),i.clipPos(F(i.lastLine())),function(s){return s.parent})}function Yf(i,s){for(var u=0;u<s.length;u++){var c=s[u],d=c.find(),g=i.clipPos(d.from),b=i.clipPos(d.to);if(ut(g,b)){var S=ma(i,g,b,c.primary,c.primary.type);c.markers.push(S),S.parent=c}}}function Xf(i){for(var s=function(c){var d=i[c],g=[d.primary.doc];Qo(d.primary.doc,function(j){return g.push(j)});for(var b=0;b<d.markers.length;b++){var S=d.markers[b];Wt(g,S.doc)==-1&&(S.parent=null,d.markers.splice(b--,1))}},u=0;u<i.length;u++)s(u)}var fu=0,En=function(i,s,u,c,d){if(!(this instanceof En))return new En(i,s,u,c,d);u==null&&(u=0),rs.call(this,[new va([new no("",null)])]),this.first=u,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=u;var g=F(u,0);this.sel=Xo(g),this.history=new Xs(null),this.id=++fu,this.modeOption=s,this.lineSep=c,this.direction=d=="rtl"?"rtl":"ltr",this.extend=!1,typeof i=="string"&&(i=this.splitLines(i)),Zl(this,{from:g,to:g,text:i}),pn(this,Xo(g),Jt)};En.prototype=At(rs.prototype,{constructor:En,iter:function(i,s,u){u?this.iterN(i-this.first,s-i,u):this.iterN(this.first,this.first+this.size,i)},insert:function(i,s){for(var u=0,c=0;c<s.length;++c)u+=s[c].height;this.insertInner(i-this.first,s,u)},remove:function(i,s){this.removeInner(i-this.first,s)},getValue:function(i){var s=yr(this,this.first,this.first+this.size);return i===!1?s:s.join(i||this.lineSeparator())},setValue:qr(function(i){var s=F(this.first,0),u=this.first+this.size-1;pa(this,{from:s,to:F(u,we(this,u).text.length),text:this.splitLines(i),origin:"setValue",full:!0},!0),this.cm&&qa(this.cm,0,0),pn(this,Xo(s),Jt)}),replaceRange:function(i,s,u,c){s=Ce(this,s),u=u?Ce(this,u):s,da(this,i,s,u,c)},getRange:function(i,s,u){var c=cn(this,Ce(this,i),Ce(this,s));return u===!1?c:u===""?c.join(""):c.join(u||this.lineSeparator())},getLine:function(i){var s=this.getLineHandle(i);return s&&s.text},getLineHandle:function(i){if(jr(this,i))return we(this,i)},getLineNumber:function(i){return Xe(i)},getLineHandleVisualStart:function(i){return typeof i=="number"&&(i=we(this,i)),Qe(i)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(i){return Ce(this,i)},getCursor:function(i){var s=this.sel.primary(),u;return i==null||i=="head"?u=s.head:i=="anchor"?u=s.anchor:i=="end"||i=="to"||i===!1?u=s.to():u=s.from(),u},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:qr(function(i,s,u){tu(this,Ce(this,typeof i=="number"?F(i,s||0):i),null,u)}),setSelection:qr(function(i,s,u){tu(this,Ce(this,i),Ce(this,s||i),u)}),extendSelection:qr(function(i,s,u){Qs(this,Ce(this,i),s&&Ce(this,s),u)}),extendSelections:qr(function(i,s){Qc(this,wo(this,i),s)}),extendSelectionsBy:qr(function(i,s){var u=K(this.sel.ranges,i);Qc(this,wo(this,u),s)}),setSelections:qr(function(i,s,u){if(i.length){for(var c=[],d=0;d<i.length;d++)c[d]=new cr(Ce(this,i[d].anchor),Ce(this,i[d].head||i[d].anchor));s==null&&(s=Math.min(i.length-1,this.sel.primIndex)),pn(this,lo(this.cm,c,s),u)}}),addSelection:qr(function(i,s,u){var c=this.sel.ranges.slice(0);c.push(new cr(Ce(this,i),Ce(this,s||i))),pn(this,lo(this.cm,c,c.length-1),u)}),getSelection:function(i){for(var s=this.sel.ranges,u,c=0;c<s.length;c++){var d=cn(this,s[c].from(),s[c].to());u=u?u.concat(d):d}return i===!1?u:u.join(i||this.lineSeparator())},getSelections:function(i){for(var s=[],u=this.sel.ranges,c=0;c<u.length;c++){var d=cn(this,u[c].from(),u[c].to());i!==!1&&(d=d.join(i||this.lineSeparator())),s[c]=d}return s},replaceSelection:function(i,s,u){for(var c=[],d=0;d<this.sel.ranges.length;d++)c[d]=i;this.replaceSelections(c,s,u||"+input")},replaceSelections:qr(function(i,s,u){for(var c=[],d=this.sel,g=0;g<d.ranges.length;g++){var b=d.ranges[g];c[g]={from:b.from(),to:b.to(),text:this.splitLines(i[g]),origin:u}}for(var S=s&&s!="end"&&Ff(this,c,s),j=c.length-1;j>=0;j--)pa(this,c[j]);S?Qa(this,S):this.cm&&Zo(this.cm)}),undo:qr(function(){el(this,"undo")}),redo:qr(function(){el(this,"redo")}),undoSelection:qr(function(){el(this,"undo",!0)}),redoSelection:qr(function(){el(this,"redo",!0)}),setExtending:function(i){this.extend=i},getExtending:function(){return this.extend},historySize:function(){for(var i=this.history,s=0,u=0,c=0;c<i.done.length;c++)i.done[c].ranges||++s;for(var d=0;d<i.undone.length;d++)i.undone[d].ranges||++u;return{undo:s,redo:u}},clearHistory:function(){var i=this;this.history=new Xs(this.history),Qo(this,function(s){return s.history=i.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(i){return i&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(i){return this.history.generation==(i||this.cleanGeneration)},getHistory:function(){return{done:ua(this.history.done),undone:ua(this.history.undone)}},setHistory:function(i){var s=this.history=new Xs(this.history);s.done=ua(i.done.slice(0),null,!0),s.undone=ua(i.undone.slice(0),null,!0)},setGutterMarker:qr(function(i,s,u){return es(this,i,"gutter",function(c){var d=c.gutterMarkers||(c.gutterMarkers={});return d[s]=u,!u&&Et(d)&&(c.gutterMarkers=null),!0})}),clearGutter:qr(function(i){var s=this;this.iter(function(u){u.gutterMarkers&&u.gutterMarkers[i]&&es(s,u,"gutter",function(){return u.gutterMarkers[i]=null,Et(u.gutterMarkers)&&(u.gutterMarkers=null),!0})})}),lineInfo:function(i){var s;if(typeof i=="number"){if(!jr(this,i)||(s=i,i=we(this,i),!i))return null}else if(s=Xe(i),s==null)return null;return{line:s,handle:i,text:i.text,gutterMarkers:i.gutterMarkers,textClass:i.textClass,bgClass:i.bgClass,wrapClass:i.wrapClass,widgets:i.widgets}},addLineClass:qr(function(i,s,u){return es(this,i,s=="gutter"?"gutter":"class",function(c){var d=s=="text"?"textClass":s=="background"?"bgClass":s=="gutter"?"gutterClass":"wrapClass";if(!c[d])c[d]=u;else{if(z(u).test(c[d]))return!1;c[d]+=" "+u}return!0})}),removeLineClass:qr(function(i,s,u){return es(this,i,s=="gutter"?"gutter":"class",function(c){var d=s=="text"?"textClass":s=="background"?"bgClass":s=="gutter"?"gutterClass":"wrapClass",g=c[d];if(g)if(u==null)c[d]=null;else{var b=g.match(z(u));if(!b)return!1;var S=b.index+b[0].length;c[d]=g.slice(0,b.index)+(!b.index||S==g.length?"":" ")+g.slice(S)||null}else return!1;return!0})}),addLineWidget:qr(function(i,s,u){return qf(this,i,s,u)}),removeLineWidget:function(i){i.clear()},markText:function(i,s,u){return ma(this,Ce(this,i),Ce(this,s),u,u&&u.type||"range")},setBookmark:function(i,s){var u={replacedWith:s&&(s.nodeType==null?s.widget:s),insertLeft:s&&s.insertLeft,clearWhenEmpty:!1,shared:s&&s.shared,handleMouseEvents:s&&s.handleMouseEvents};return i=Ce(this,i),ma(this,i,i,u,"bookmark")},findMarksAt:function(i){i=Ce(this,i);var s=[],u=we(this,i.line).markedSpans;if(u)for(var c=0;c<u.length;++c){var d=u[c];(d.from==null||d.from<=i.ch)&&(d.to==null||d.to>=i.ch)&&s.push(d.marker.parent||d.marker)}return s},findMarks:function(i,s,u){i=Ce(this,i),s=Ce(this,s);var c=[],d=i.line;return this.iter(i.line,s.line+1,function(g){var b=g.markedSpans;if(b)for(var S=0;S<b.length;S++){var j=b[S];!(j.to!=null&&d==i.line&&i.ch>=j.to||j.from==null&&d!=i.line||j.from!=null&&d==s.line&&j.from>=s.ch)&&(!u||u(j.marker))&&c.push(j.marker.parent||j.marker)}++d}),c},getAllMarks:function(){var i=[];return this.iter(function(s){var u=s.markedSpans;if(u)for(var c=0;c<u.length;++c)u[c].from!=null&&i.push(u[c].marker)}),i},posFromIndex:function(i){var s,u=this.first,c=this.lineSeparator().length;return this.iter(function(d){var g=d.text.length+c;if(g>i)return s=i,!0;i-=g,++u}),Ce(this,F(u,s))},indexFromPos:function(i){i=Ce(this,i);var s=i.ch;if(i.line<this.first||i.ch<0)return 0;var u=this.lineSeparator().length;return this.iter(this.first,i.line,function(c){s+=c.text.length+u}),s},copy:function(i){var s=new En(yr(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return s.scrollTop=this.scrollTop,s.scrollLeft=this.scrollLeft,s.sel=this.sel,s.extend=!1,i&&(s.history.undoDepth=this.history.undoDepth,s.setHistory(this.getHistory())),s},linkedDoc:function(i){i||(i={});var s=this.first,u=this.first+this.size;i.from!=null&&i.from>s&&(s=i.from),i.to!=null&&i.to<u&&(u=i.to);var c=new En(yr(this,s,u),i.mode||this.modeOption,s,this.lineSep,this.direction);return i.sharedHist&&(c.history=this.history),(this.linked||(this.linked=[])).push({doc:c,sharedHist:i.sharedHist}),c.linked=[{doc:this,isParent:!0,sharedHist:i.sharedHist}],Yf(c,uu(this)),c},unlinkDoc:function(i){if(i instanceof br&&(i=i.doc),this.linked)for(var s=0;s<this.linked.length;++s){var u=this.linked[s];if(u.doc==i){this.linked.splice(s,1),i.unlinkDoc(this),Xf(uu(this));break}}if(i.history==this.history){var c=[i.id];Qo(i,function(d){return c.push(d.id)},!0),i.history=new Xs(null),i.history.done=ua(this.history.done,c),i.history.undone=ua(this.history.undone,c)}},iterLinkedDocs:function(i){Qo(this,i)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(i){return this.lineSep?i.split(this.lineSep):vn(i)},lineSeparator:function(){return this.lineSep||`
`},setDirection:qr(function(i){i!="rtl"&&(i="ltr"),i!=this.direction&&(this.direction=i,this.iter(function(s){return s.order=null}),this.cm&&Hf(this.cm))})}),En.prototype.eachLine=En.prototype.iter;var Ql=0;function nl(i){var s=this;if(pu(s),!(fr(s,i)||io(s.display,i))){at(i),x&&(Ql=+new Date);var u=Ko(s,i,!0),c=i.dataTransfer.files;if(!(!u||s.isReadOnly()))if(c&&c.length&&window.FileReader&&window.File)for(var d=c.length,g=Array(d),b=0,S=function(){++b==d&&$r(s,function(){u=Ce(s.doc,u);var kt={from:u,to:u,text:s.doc.splitLines(g.filter(function(Gt){return Gt!=null}).join(s.doc.lineSeparator())),origin:"paste"};pa(s.doc,kt),Qa(s.doc,Xo(Ce(s.doc,u),Ce(s.doc,Jo(kt))))})()},j=function(kt,Gt){if(s.options.allowDropFileTypes&&Wt(s.options.allowDropFileTypes,kt.type)==-1){S();return}var qt=new FileReader;qt.onerror=function(){return S()},qt.onload=function(){var ie=qt.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(ie)){S();return}g[Gt]=ie,S()},qt.readAsText(kt)},W=0;W<c.length;W++)j(c[W],W);else{if(s.state.draggingText&&s.doc.sel.contains(u)>-1){s.state.draggingText(i),setTimeout(function(){return s.display.input.focus()},20);return}try{var dt=i.dataTransfer.getData("Text");if(dt){var xt;if(s.state.draggingText&&!s.state.draggingText.copy&&(xt=s.listSelections()),tl(s.doc,Xo(u,u)),xt)for(var jt=0;jt<xt.length;++jt)da(s.doc,"",xt[jt].anchor,xt[jt].head,"drag");s.replaceSelection(dt,"around","paste"),s.display.input.focus()}}catch{}}}}function os(i,s){if(x&&(!i.state.draggingText||+new Date-Ql<100)){Yt(s);return}if(!(fr(i,s)||io(i.display,s))&&(s.dataTransfer.setData("Text",i.getSelection()),s.dataTransfer.effectAllowed="copyMove",s.dataTransfer.setDragImage&&!L)){var u=P("img",null,null,"position: fixed; left: 0; top: 0;");u.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",O&&(u.width=u.height=1,i.display.wrapper.appendChild(u),u._top=u.offsetTop),s.dataTransfer.setDragImage(u,0,0),O&&u.parentNode.removeChild(u)}}function Jf(i,s){var u=Ko(i,s);if(u){var c=document.createDocumentFragment();Il(i,u,c),i.display.dragCursor||(i.display.dragCursor=P("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),i.display.lineSpace.insertBefore(i.display.dragCursor,i.display.cursorDiv)),G(i.display.dragCursor,c)}}function pu(i){i.display.dragCursor&&(i.display.lineSpace.removeChild(i.display.dragCursor),i.display.dragCursor=null)}function du(i){if(document.getElementsByClassName){for(var s=document.getElementsByClassName("CodeMirror"),u=[],c=0;c<s.length;c++){var d=s[c].CodeMirror;d&&u.push(d)}u.length&&u[0].operation(function(){for(var g=0;g<u.length;g++)i(u[g])})}}var hu=!1;function Qf(){hu||(tp(),hu=!0)}function tp(){var i;xe(window,"resize",function(){i==null&&(i=setTimeout(function(){i=null,du(vu)},100))}),xe(window,"blur",function(){return du(aa)})}function vu(i){var s=i.display;s.cachedCharWidth=s.cachedTextHeight=s.cachedPaddingH=null,s.scrollbarsClipped=!1,i.setSize()}for(var Eo={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},is=0;is<10;is++)Eo[is+48]=Eo[is+96]=String(is);for(var Ii=65;Ii<=90;Ii++)Eo[Ii]=String.fromCharCode(Ii);for(var as=1;as<=12;as++)Eo[as+111]=Eo[as+63235]="F"+as;var yo={};yo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},yo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},yo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},yo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},yo.default=k?yo.macDefault:yo.pcDefault;function ep(i){var s=i.split(/-(?!$)/);i=s[s.length-1];for(var u,c,d,g,b=0;b<s.length-1;b++){var S=s[b];if(/^(cmd|meta|m)$/i.test(S))g=!0;else if(/^a(lt)?$/i.test(S))u=!0;else if(/^(c|ctrl|control)$/i.test(S))c=!0;else if(/^s(hift)?$/i.test(S))d=!0;else throw new Error("Unrecognized modifier name: "+S)}return u&&(i="Alt-"+i),c&&(i="Ctrl-"+i),g&&(i="Cmd-"+i),d&&(i="Shift-"+i),i}function ni(i){var s={};for(var u in i)if(i.hasOwnProperty(u)){var c=i[u];if(/^(name|fallthrough|(de|at)tach)$/.test(u))continue;if(c=="..."){delete i[u];continue}for(var d=K(u.split(" "),ep),g=0;g<d.length;g++){var b=void 0,S=void 0;g==d.length-1?(S=d.join(" "),b=c):(S=d.slice(0,g+1).join(" "),b="...");var j=s[S];if(!j)s[S]=b;else if(j!=b)throw new Error("Inconsistent bindings for "+S)}delete i[u]}for(var W in s)i[W]=s[W];return i}function ya(i,s,u,c){s=ol(s);var d=s.call?s.call(i,c):s[i];if(d===!1)return"nothing";if(d==="...")return"multi";if(d!=null&&u(d))return"handled";if(s.fallthrough){if(Object.prototype.toString.call(s.fallthrough)!="[object Array]")return ya(i,s.fallthrough,u,c);for(var g=0;g<s.fallthrough.length;g++){var b=ya(i,s.fallthrough[g],u,c);if(b)return b}}}function gu(i){var s=typeof i=="string"?i:Eo[i.keyCode];return s=="Ctrl"||s=="Alt"||s=="Shift"||s=="Mod"}function mu(i,s,u){var c=i;return s.altKey&&c!="Alt"&&(i="Alt-"+i),(it?s.metaKey:s.ctrlKey)&&c!="Ctrl"&&(i="Ctrl-"+i),(it?s.ctrlKey:s.metaKey)&&c!="Mod"&&(i="Cmd-"+i),!u&&s.shiftKey&&c!="Shift"&&(i="Shift-"+i),i}function yu(i,s){if(O&&i.keyCode==34&&i.char)return!1;var u=Eo[i.keyCode];return u==null||i.altGraphKey?!1:(i.keyCode==3&&i.code&&(u=i.code),mu(u,i,s))}function ol(i){return typeof i=="string"?yo[i]:i}function Vi(i,s){for(var u=i.doc.sel.ranges,c=[],d=0;d<u.length;d++){for(var g=s(u[d]);c.length&&ut(g.from,fe(c).to)<=0;){var b=c.pop();if(ut(b.from,g.from)<0){g.from=b.from;break}}c.push(g)}Pn(i,function(){for(var S=c.length-1;S>=0;S--)da(i.doc,"",c[S].from,c[S].to,"+delete");Zo(i)})}function ss(i,s,u){var c=Se(i.text,s+u,u);return c<0||c>i.text.length?null:c}function tc(i,s,u){var c=ss(i,s.ch,u);return c==null?null:new F(s.line,c,u<0?"after":"before")}function ec(i,s,u,c,d){if(i){s.doc.direction=="rtl"&&(d=-d);var g=Ze(u,s.doc.direction);if(g){var b=d<0?fe(g):g[0],S=d<0==(b.level==1),j=S?"after":"before",W;if(b.level>0||s.doc.direction=="rtl"){var dt=De(s,u);W=d<0?u.text.length-1:0;var xt=hr(s,dt,W).top;W=Ve(function(jt){return hr(s,dt,jt).top==xt},d<0==(b.level==1)?b.from:b.to-1,W),j=="before"&&(W=ss(u,W,1))}else W=d<0?b.to:b.from;return new F(c,W,j)}}return new F(c,d<0?u.text.length:0,d<0?"before":"after")}function bu(i,s,u,c){var d=Ze(s,i.doc.direction);if(!d)return tc(s,u,c);u.ch>=s.text.length?(u.ch=s.text.length,u.sticky="before"):u.ch<=0&&(u.ch=0,u.sticky="after");var g=qe(d,u.ch,u.sticky),b=d[g];if(i.doc.direction=="ltr"&&b.level%2==0&&(c>0?b.to>u.ch:b.from<u.ch))return tc(s,u,c);var S=function(le,ge){return ss(s,le instanceof F?le.ch:le,ge)},j,W=function(le){return i.options.lineWrapping?(j=j||De(i,s),Ka(i,s,j,le)):{begin:0,end:s.text.length}},dt=W(u.sticky=="before"?S(u,-1):u.ch);if(i.doc.direction=="rtl"||b.level==1){var xt=b.level==1==c<0,jt=S(u,xt?1:-1);if(jt!=null&&(xt?jt<=b.to&&jt<=dt.end:jt>=b.from&&jt>=dt.begin)){var kt=xt?"before":"after";return new F(u.line,jt,kt)}}var Gt=function(le,ge,ce){for(var ye=function(mr,Zr){return Zr?new F(u.line,S(mr,1),"before"):new F(u.line,mr,"after")};le>=0&&le<d.length;le+=ge){var Ee=d[le],Te=ge>0==(Ee.level!=1),Ke=Te?ce.begin:S(ce.end,-1);if(Ee.from<=Ke&&Ke<Ee.to||(Ke=Te?Ee.from:S(Ee.to,-1),ce.begin<=Ke&&Ke<ce.end))return ye(Ke,Te)}},qt=Gt(g+c,c,dt);if(qt)return qt;var ie=c>0?dt.end:S(dt.begin,-1);return ie!=null&&!(c>0&&ie==s.text.length)&&(qt=Gt(c>0?0:d.length-1,c,W(ie)),qt)?qt:null}var ls={selectAll:ou,singleSelection:function(i){return i.setSelection(i.getCursor("anchor"),i.getCursor("head"),Jt)},killLine:function(i){return Vi(i,function(s){if(s.empty()){var u=we(i.doc,s.head.line).text.length;return s.head.ch==u&&s.head.line<i.lastLine()?{from:s.head,to:F(s.head.line+1,0)}:{from:s.head,to:F(s.head.line,u)}}else return{from:s.from(),to:s.to()}})},deleteLine:function(i){return Vi(i,function(s){return{from:F(s.from().line,0),to:Ce(i.doc,F(s.to().line+1,0))}})},delLineLeft:function(i){return Vi(i,function(s){return{from:F(s.from().line,0),to:s.from()}})},delWrappedLineLeft:function(i){return Vi(i,function(s){var u=i.charCoords(s.head,"div").top+5,c=i.coordsChar({left:0,top:u},"div");return{from:c,to:s.from()}})},delWrappedLineRight:function(i){return Vi(i,function(s){var u=i.charCoords(s.head,"div").top+5,c=i.coordsChar({left:i.display.lineDiv.offsetWidth+100,top:u},"div");return{from:s.from(),to:c}})},undo:function(i){return i.undo()},redo:function(i){return i.redo()},undoSelection:function(i){return i.undoSelection()},redoSelection:function(i){return i.redoSelection()},goDocStart:function(i){return i.extendSelection(F(i.firstLine(),0))},goDocEnd:function(i){return i.extendSelection(F(i.lastLine()))},goLineStart:function(i){return i.extendSelectionsBy(function(s){return wu(i,s.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(i){return i.extendSelectionsBy(function(s){return xu(i,s.head)},{origin:"+move",bias:1})},goLineEnd:function(i){return i.extendSelectionsBy(function(s){return _u(i,s.head.line)},{origin:"+move",bias:-1})},goLineRight:function(i){return i.extendSelectionsBy(function(s){var u=i.cursorCoords(s.head,"div").top+5;return i.coordsChar({left:i.display.lineDiv.offsetWidth+100,top:u},"div")},Ne)},goLineLeft:function(i){return i.extendSelectionsBy(function(s){var u=i.cursorCoords(s.head,"div").top+5;return i.coordsChar({left:0,top:u},"div")},Ne)},goLineLeftSmart:function(i){return i.extendSelectionsBy(function(s){var u=i.cursorCoords(s.head,"div").top+5,c=i.coordsChar({left:0,top:u},"div");return c.ch<i.getLine(c.line).search(/\S/)?xu(i,s.head):c},Ne)},goLineUp:function(i){return i.moveV(-1,"line")},goLineDown:function(i){return i.moveV(1,"line")},goPageUp:function(i){return i.moveV(-1,"page")},goPageDown:function(i){return i.moveV(1,"page")},goCharLeft:function(i){return i.moveH(-1,"char")},goCharRight:function(i){return i.moveH(1,"char")},goColumnLeft:function(i){return i.moveH(-1,"column")},goColumnRight:function(i){return i.moveH(1,"column")},goWordLeft:function(i){return i.moveH(-1,"word")},goGroupRight:function(i){return i.moveH(1,"group")},goGroupLeft:function(i){return i.moveH(-1,"group")},goWordRight:function(i){return i.moveH(1,"word")},delCharBefore:function(i){return i.deleteH(-1,"codepoint")},delCharAfter:function(i){return i.deleteH(1,"char")},delWordBefore:function(i){return i.deleteH(-1,"word")},delWordAfter:function(i){return i.deleteH(1,"word")},delGroupBefore:function(i){return i.deleteH(-1,"group")},delGroupAfter:function(i){return i.deleteH(1,"group")},indentAuto:function(i){return i.indentSelection("smart")},indentMore:function(i){return i.indentSelection("add")},indentLess:function(i){return i.indentSelection("subtract")},insertTab:function(i){return i.replaceSelection("	")},insertSoftTab:function(i){for(var s=[],u=i.listSelections(),c=i.options.tabSize,d=0;d<u.length;d++){var g=u[d].from(),b=Ot(i.getLine(g.line),g.ch,c);s.push(rr(c-b%c))}i.replaceSelections(s)},defaultTab:function(i){i.somethingSelected()?i.indentSelection("add"):i.execCommand("insertTab")},transposeChars:function(i){return Pn(i,function(){for(var s=i.listSelections(),u=[],c=0;c<s.length;c++)if(s[c].empty()){var d=s[c].head,g=we(i.doc,d.line).text;if(g){if(d.ch==g.length&&(d=new F(d.line,d.ch-1)),d.ch>0)d=new F(d.line,d.ch+1),i.replaceRange(g.charAt(d.ch-1)+g.charAt(d.ch-2),F(d.line,d.ch-2),d,"+transpose");else if(d.line>i.doc.first){var b=we(i.doc,d.line-1).text;b&&(d=new F(d.line,1),i.replaceRange(g.charAt(0)+i.doc.lineSeparator()+b.charAt(b.length-1),F(d.line-1,b.length-1),d,"+transpose"))}}u.push(new cr(d,d))}i.setSelections(u)})},newlineAndIndent:function(i){return Pn(i,function(){for(var s=i.listSelections(),u=s.length-1;u>=0;u--)i.replaceRange(i.doc.lineSeparator(),s[u].anchor,s[u].head,"+input");s=i.listSelections();for(var c=0;c<s.length;c++)i.indentLine(s[c].from().line,null,!0);Zo(i)})},openLine:function(i){return i.replaceSelection(`
`,"start")},toggleOverwrite:function(i){return i.toggleOverwrite()}};function wu(i,s){var u=we(i.doc,s),c=Qe(u);return c!=u&&(s=Xe(c)),ec(!0,i,c,s,1)}function _u(i,s){var u=we(i.doc,s),c=Bo(u);return c!=u&&(s=Xe(c)),ec(!0,i,u,s,-1)}function xu(i,s){var u=wu(i,s.line),c=we(i.doc,u.line),d=Ze(c,i.doc.direction);if(!d||d[0].level==0){var g=Math.max(u.ch,c.text.search(/\S/)),b=s.line==u.line&&s.ch<=g&&s.ch;return F(u.line,b?0:g,u.sticky)}return u}function oi(i,s,u){if(typeof s=="string"&&(s=ls[s],!s))return!1;i.display.input.ensurePolled();var c=i.display.shift,d=!1;try{i.isReadOnly()&&(i.state.suppressEdits=!0),u&&(i.display.shift=!1),d=s(i)!=$t}finally{i.display.shift=c,i.state.suppressEdits=!1}return d}function rp(i,s,u){for(var c=0;c<i.state.keyMaps.length;c++){var d=ya(s,i.state.keyMaps[c],u,i);if(d)return d}return i.options.extraKeys&&ya(s,i.options.extraKeys,u,i)||ya(s,i.options.keyMap,u,i)}var np=new Dt;function ba(i,s,u,c){var d=i.state.keySeq;if(d){if(gu(s))return"handled";if(/\'$/.test(s)?i.state.keySeq=null:np.set(50,function(){i.state.keySeq==d&&(i.state.keySeq=null,i.display.input.reset())}),rc(i,d+" "+s,u,c))return!0}return rc(i,s,u,c)}function rc(i,s,u,c){var d=rp(i,s,c);return d=="multi"&&(i.state.keySeq=s),d=="handled"&&Ir(i,"keyHandled",i,s,u),(d=="handled"||d=="multi")&&(at(u),Rl(i)),!!d}function nc(i,s){var u=yu(s,!0);return u?s.shiftKey&&!i.state.keySeq?ba(i,"Shift-"+u,s,function(c){return oi(i,c,!0)})||ba(i,u,s,function(c){if(typeof c=="string"?/^go[A-Z]/.test(c):c.motion)return oi(i,c)}):ba(i,u,s,function(c){return oi(i,c)}):!1}function Cu(i,s,u){return ba(i,"'"+u+"'",s,function(c){return oi(i,c,!0)})}var il=null;function Su(i){var s=this;if(!(i.target&&i.target!=s.display.input.getField())&&(s.curOp.focus=X(Ut(s)),!fr(s,i))){x&&M<11&&i.keyCode==27&&(i.returnValue=!1);var u=i.keyCode;s.display.shift=u==16||i.shiftKey;var c=nc(s,i);O&&(il=c?u:null,!c&&u==88&&!bo&&(k?i.metaKey:i.ctrlKey)&&s.replaceSelection("",null,"cut")),ct&&!k&&!c&&u==46&&i.shiftKey&&!i.ctrlKey&&document.execCommand&&document.execCommand("cut"),u==18&&!/\bCodeMirror-crosshair\b/.test(s.display.lineDiv.className)&&cs(s)}}function cs(i){var s=i.display.lineDiv;wt(s,"CodeMirror-crosshair");function u(c){(c.keyCode==18||!c.altKey)&&(I(s,"CodeMirror-crosshair"),Le(document,"keyup",u),Le(document,"mouseover",u))}xe(document,"keyup",u),xe(document,"mouseover",u)}function al(i){i.keyCode==16&&(this.doc.sel.shift=!1),fr(this,i)}function oc(i){var s=this;if(!(i.target&&i.target!=s.display.input.getField())&&!(io(s.display,i)||fr(s,i)||i.ctrlKey&&!i.altKey||k&&i.metaKey)){var u=i.keyCode,c=i.charCode;if(O&&u==il){il=null,at(i);return}if(!(O&&(!i.which||i.which<10)&&nc(s,i))){var d=String.fromCharCode(c??u);d!="\b"&&(Cu(s,i,d)||s.display.input.onKeyPress(i))}}}var Ou=400,sl=function(i,s,u){this.time=i,this.pos=s,this.button=u};sl.prototype.compare=function(i,s,u){return this.time+Ou>i&&ut(s,this.pos)==0&&u==this.button};var ko,us;function op(i,s){var u=+new Date;return us&&us.compare(u,i,s)?(ko=us=null,"triple"):ko&&ko.compare(u,i,s)?(us=new sl(u,i,s),ko=null,"double"):(ko=new sl(u,i,s),us=null,"single")}function ic(i){var s=this,u=s.display;if(!(fr(s,i)||u.activeTouch&&u.input.supportsTouch())){if(u.input.ensurePolled(),u.shift=i.shiftKey,io(u,i)){m||(u.scroller.draggable=!1,setTimeout(function(){return u.scroller.draggable=!0},100));return}if(!Fn(s,i)){var c=Ko(s,i),d=je(i),g=c?op(c,d):"single";zt(s).focus(),d==1&&s.state.selectingText&&s.state.selectingText(i),!(c&&ip(s,d,c,g,i))&&(d==1?c?Tu(s,c,g,i):ve(i)==u.scroller&&at(i):d==2?(c&&Qs(s.doc,c),setTimeout(function(){return u.input.focus()},20)):d==3&&(T?s.display.input.onContextMenu(i):Nl(s)))}}}function ip(i,s,u,c,d){var g="Click";return c=="double"?g="Double"+g:c=="triple"&&(g="Triple"+g),g=(s==1?"Left":s==2?"Middle":"Right")+g,ba(i,mu(g,d),d,function(b){if(typeof b=="string"&&(b=ls[b]),!b)return!1;var S=!1;try{i.isReadOnly()&&(i.state.suppressEdits=!0),S=b(i,u)!=$t}finally{i.state.suppressEdits=!1}return S})}function ap(i,s,u){var c=i.getOption("configureMouse"),d=c?c(i,s,u):{};if(d.unit==null){var g=Z?u.shiftKey&&u.metaKey:u.altKey;d.unit=g?"rectangle":s=="single"?"char":s=="double"?"word":"line"}return(d.extend==null||i.doc.extend)&&(d.extend=i.doc.extend||u.shiftKey),d.addNew==null&&(d.addNew=k?u.metaKey:u.ctrlKey),d.moveOnDrag==null&&(d.moveOnDrag=!(k?u.altKey:u.ctrlKey)),d}function Tu(i,s,u,c){x?setTimeout(Nt(Gs,i),0):i.curOp.focus=X(Ut(i));var d=ap(i,u,c),g=i.doc.sel,b;i.options.dragDrop&&Ye&&!i.isReadOnly()&&u=="single"&&(b=g.contains(s))>-1&&(ut((b=g.ranges[b]).from(),s)<0||s.xRel>0)&&(ut(b.to(),s)>0||s.xRel<0)?sp(i,c,s,d):lp(i,c,s,d)}function sp(i,s,u,c){var d=i.display,g=!1,b=$r(i,function(W){m&&(d.scroller.draggable=!1),i.state.draggingText=!1,i.state.delayingBlurEvent&&(i.hasFocus()?i.state.delayingBlurEvent=!1:Nl(i)),Le(d.wrapper.ownerDocument,"mouseup",b),Le(d.wrapper.ownerDocument,"mousemove",S),Le(d.scroller,"dragstart",j),Le(d.scroller,"drop",b),g||(at(W),c.addNew||Qs(i.doc,u,null,null,c.extend),m&&!L||x&&M==9?setTimeout(function(){d.wrapper.ownerDocument.body.focus({preventScroll:!0}),d.input.focus()},20):d.input.focus())}),S=function(W){g=g||Math.abs(s.clientX-W.clientX)+Math.abs(s.clientY-W.clientY)>=10},j=function(){return g=!0};m&&(d.scroller.draggable=!0),i.state.draggingText=b,b.copy=!c.moveOnDrag,xe(d.wrapper.ownerDocument,"mouseup",b),xe(d.wrapper.ownerDocument,"mousemove",S),xe(d.scroller,"dragstart",j),xe(d.scroller,"drop",b),i.state.delayingBlurEvent=!0,setTimeout(function(){return d.input.focus()},20),d.scroller.dragDrop&&d.scroller.dragDrop()}function Pu(i,s,u){if(u=="char")return new cr(s,s);if(u=="word")return i.findWordAt(s);if(u=="line")return new cr(F(s.line,0),Ce(i.doc,F(s.line+1,0)));var c=u(i,s);return new cr(c.from,c.to)}function lp(i,s,u,c){x&&Nl(i);var d=i.display,g=i.doc;at(s);var b,S,j=g.sel,W=j.ranges;if(c.addNew&&!c.extend?(S=g.sel.contains(u),S>-1?b=W[S]:b=new cr(u,u)):(b=g.sel.primary(),S=g.sel.primIndex),c.unit=="rectangle")c.addNew||(b=new cr(u,u)),u=Ko(i,s,!0,!0),S=-1;else{var dt=Pu(i,u,c.unit);c.extend?b=Xl(b,dt.anchor,dt.head,c.extend):b=dt}c.addNew?S==-1?(S=W.length,pn(g,lo(i,W.concat([b]),S),{scroll:!1,origin:"*mouse"})):W.length>1&&W[S].empty()&&c.unit=="char"&&!c.extend?(pn(g,lo(i,W.slice(0,S).concat(W.slice(S+1)),0),{scroll:!1,origin:"*mouse"}),j=g.sel):Jl(g,S,b,ue):(S=0,pn(g,new Nn([b],0),ue),j=g.sel);var xt=u;function jt(ce){if(ut(xt,ce)!=0)if(xt=ce,c.unit=="rectangle"){for(var ye=[],Ee=i.options.tabSize,Te=Ot(we(g,u.line).text,u.ch,Ee),Ke=Ot(we(g,ce.line).text,ce.ch,Ee),mr=Math.min(Te,Ke),Zr=Math.max(Te,Ke),Or=Math.min(u.line,ce.line),nn=Math.min(i.lastLine(),Math.max(u.line,ce.line));Or<=nn;Or++){var wn=we(g,Or).text,vr=tr(wn,mr,Ee);mr==Zr?ye.push(new cr(F(Or,vr),F(Or,vr))):wn.length>vr&&ye.push(new cr(F(Or,vr),F(Or,tr(wn,Zr,Ee))))}ye.length||ye.push(new cr(u,u)),pn(g,lo(i,j.ranges.slice(0,S).concat(ye),S),{origin:"*mouse",scroll:!1}),i.scrollIntoView(ce)}else{var kn=b,Yr=Pu(i,ce,c.unit),Gr=kn.anchor,Br;ut(Yr.anchor,Gr)>0?(Br=Yr.head,Gr=Je(kn.from(),Yr.anchor)):(Br=Yr.anchor,Gr=Re(kn.to(),Yr.head));var Pr=j.ranges.slice(0);Pr[S]=cp(i,new cr(Ce(g,Gr),Br)),pn(g,lo(i,Pr,S),ue)}}var kt=d.wrapper.getBoundingClientRect(),Gt=0;function qt(ce){var ye=++Gt,Ee=Ko(i,ce,!0,c.unit=="rectangle");if(Ee)if(ut(Ee,xt)!=0){i.curOp.focus=X(Ut(i)),jt(Ee);var Te=Pi(d,g);(Ee.line>=Te.to||Ee.line<Te.from)&&setTimeout($r(i,function(){Gt==ye&&qt(ce)}),150)}else{var Ke=ce.clientY<kt.top?-20:ce.clientY>kt.bottom?20:0;Ke&&setTimeout($r(i,function(){Gt==ye&&(d.scroller.scrollTop+=Ke,qt(ce))}),50)}}function ie(ce){i.state.selectingText=!1,Gt=1/0,ce&&(at(ce),d.input.focus()),Le(d.wrapper.ownerDocument,"mousemove",le),Le(d.wrapper.ownerDocument,"mouseup",ge),g.history.lastSelOrigin=null}var le=$r(i,function(ce){ce.buttons===0||!je(ce)?ie(ce):qt(ce)}),ge=$r(i,ie);i.state.selectingText=ge,xe(d.wrapper.ownerDocument,"mousemove",le),xe(d.wrapper.ownerDocument,"mouseup",ge)}function cp(i,s){var u=s.anchor,c=s.head,d=we(i.doc,u.line);if(ut(u,c)==0&&u.sticky==c.sticky)return s;var g=Ze(d);if(!g)return s;var b=qe(g,u.ch,u.sticky),S=g[b];if(S.from!=u.ch&&S.to!=u.ch)return s;var j=b+(S.from==u.ch==(S.level!=1)?0:1);if(j==0||j==g.length)return s;var W;if(c.line!=u.line)W=(c.line-u.line)*(i.doc.direction=="ltr"?1:-1)>0;else{var dt=qe(g,c.ch,c.sticky),xt=dt-b||(c.ch-u.ch)*(S.level==1?-1:1);dt==j-1||dt==j?W=xt<0:W=xt>0}var jt=g[j+(W?-1:0)],kt=W==(jt.level==1),Gt=kt?jt.from:jt.to,qt=kt?"after":"before";return u.ch==Gt&&u.sticky==qt?s:new cr(new F(u.line,Gt,qt),c)}function Eu(i,s,u,c){var d,g;if(s.touches)d=s.touches[0].clientX,g=s.touches[0].clientY;else try{d=s.clientX,g=s.clientY}catch{return!1}if(d>=Math.floor(i.display.gutters.getBoundingClientRect().right))return!1;c&&at(s);var b=i.display,S=b.lineDiv.getBoundingClientRect();if(g>S.bottom||!ee(i,u))return Lt(s);g-=S.top-b.viewOffset;for(var j=0;j<i.display.gutterSpecs.length;++j){var W=b.gutters.childNodes[j];if(W&&W.getBoundingClientRect().right>=d){var dt=tn(i.doc,g),xt=i.display.gutterSpecs[j];return lr(i,u,i,dt,xt.className,s),Lt(s)}}}function Fn(i,s){return Eu(i,s,"gutterClick",!0)}function Dn(i,s){io(i.display,s)||wa(i,s)||fr(i,s,"contextmenu")||T||i.display.input.onContextMenu(s)}function wa(i,s){return ee(i,"gutterContextMenu")?Eu(i,s,"gutterContextMenu",!1):!1}function ac(i){i.display.wrapper.className=i.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+i.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Si(i)}var ii={toString:function(){return"CodeMirror.Init"}},ku={},ll={};function Au(i){var s=i.optionHandlers;function u(c,d,g,b){i.defaults[c]=d,g&&(s[c]=b?function(S,j,W){W!=ii&&g(S,j,W)}:g)}i.defineOption=u,i.Init=ii,u("value","",function(c,d){return c.setValue(d)},!0),u("mode",null,function(c,d){c.doc.modeOption=d,ql(c)},!0),u("indentUnit",2,ql,!0),u("indentWithTabs",!1),u("smartIndent",!0),u("tabSize",4,function(c){ca(c),Si(c),rn(c)},!0),u("lineSeparator",null,function(c,d){if(c.doc.lineSep=d,!!d){var g=[],b=c.doc.first;c.doc.iter(function(j){for(var W=0;;){var dt=j.text.indexOf(d,W);if(dt==-1)break;W=dt+d.length,g.push(F(b,dt))}b++});for(var S=g.length-1;S>=0;S--)da(c.doc,d,g[S],F(g[S].line,g[S].ch+d.length))}}),u("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(c,d,g){c.state.specialChars=new RegExp(d.source+(d.test("	")?"":"|	"),"g"),g!=ii&&c.refresh()}),u("specialCharPlaceholder",As,function(c){return c.refresh()},!0),u("electricChars",!0),u("inputStyle",D?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),u("spellcheck",!1,function(c,d){return c.getInputField().spellcheck=d},!0),u("autocorrect",!1,function(c,d){return c.getInputField().autocorrect=d},!0),u("autocapitalize",!1,function(c,d){return c.getInputField().autocapitalize=d},!0),u("rtlMoveVisually",!ot),u("wholeLineUpdateBefore",!0),u("theme","default",function(c){ac(c),Yo(c)},!0),u("keyMap","default",function(c,d,g){var b=ol(d),S=g!=ii&&ol(g);S&&S.detach&&S.detach(c,b),b.attach&&b.attach(c,S||null)}),u("extraKeys",null),u("configureMouse",null),u("lineWrapping",!1,Mu,!0),u("gutters",[],function(c,d){c.display.gutterSpecs=Di(d,c.options.lineNumbers),Yo(c)},!0),u("fixedGutter",!0,function(c,d){c.display.gutters.style.left=d?oa(c.display)+"px":"0",c.refresh()},!0),u("coverGutterNextToScrollbar",!1,function(c){return so(c)},!0),u("scrollbarStyle","native",function(c){Bl(c),so(c),c.display.scrollbars.setScrollTop(c.doc.scrollTop),c.display.scrollbars.setScrollLeft(c.doc.scrollLeft)},!0),u("lineNumbers",!1,function(c,d){c.display.gutterSpecs=Di(c.options.gutters,d),Yo(c)},!0),u("firstLineNumber",1,Yo,!0),u("lineNumberFormatter",function(c){return c},Yo,!0),u("showCursorWhenSelecting",!1,$a,!0),u("resetSelectionOnContextMenu",!0),u("lineWiseCopyCut",!0),u("pasteLinesPerSelection",!0),u("selectionsMayTouch",!1),u("readOnly",!1,function(c,d){d=="nocursor"&&(aa(c),c.display.input.blur()),c.display.input.readOnlyChanged(d)}),u("screenReaderLabel",null,function(c,d){d=d===""?null:d,c.display.input.screenReaderLabelChanged(d)}),u("disableInput",!1,function(c,d){d||c.display.input.reset()},!0),u("dragDrop",!0,up),u("allowDropFileTypes",null),u("cursorBlinkRate",530),u("cursorScrollMargin",0),u("cursorHeight",1,$a,!0),u("singleCursorHeightPerLine",!0,$a,!0),u("workTime",100),u("workDelay",100),u("flattenSpans",!0,ca,!0),u("addModeClass",!1,ca,!0),u("pollInterval",100),u("undoDepth",200,function(c,d){return c.doc.history.undoDepth=d}),u("historyEventDelay",1250),u("viewportMargin",10,function(c){return c.refresh()},!0),u("maxHighlightLength",1e4,ca,!0),u("moveInputWithCursor",!0,function(c,d){d||c.display.input.resetPosition()}),u("tabindex",null,function(c,d){return c.display.input.getField().tabIndex=d||""}),u("autofocus",null),u("direction","ltr",function(c,d){return c.doc.setDirection(d)},!0),u("phrases",null)}function up(i,s,u){var c=u&&u!=ii;if(!s!=!c){var d=i.display.dragFunctions,g=s?xe:Le;g(i.display.scroller,"dragstart",d.start),g(i.display.scroller,"dragenter",d.enter),g(i.display.scroller,"dragover",d.over),g(i.display.scroller,"dragleave",d.leave),g(i.display.scroller,"drop",d.drop)}}function Mu(i){i.options.lineWrapping?(wt(i.display.wrapper,"CodeMirror-wrap"),i.display.sizer.style.minWidth="",i.display.sizerWidth=null):(I(i.display.wrapper,"CodeMirror-wrap"),ro(i)),Dl(i),rn(i),Si(i),setTimeout(function(){return so(i)},100)}function br(i,s){var u=this;if(!(this instanceof br))return new br(i,s);this.options=s=s?Qt(s):{},Qt(ku,s,!1);var c=s.value;typeof c=="string"?c=new En(c,s.mode,null,s.lineSeparator,s.direction):s.mode&&(c.modeOption=s.mode),this.doc=c;var d=new br.inputStyles[s.inputStyle](this),g=this.display=new Nf(i,c,d,s);g.wrapper.CodeMirror=this,ac(this),s.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Bl(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Dt,keySeq:null,specialChars:null},s.autofocus&&!D&&g.input.focus(),x&&M<11&&setTimeout(function(){return u.display.input.reset(!0)},20),Lu(this),Qf(),Li(this),this.curOp.forceUpdate=!0,$c(this,c),s.autofocus&&!D||this.hasFocus()?setTimeout(function(){u.hasFocus()&&!u.state.focused&&ia(u)},20):aa(this);for(var b in ll)ll.hasOwnProperty(b)&&ll[b](this,s[b],ii);Hc(this),s.finishInit&&s.finishInit(this);for(var S=0;S<cl.length;++S)cl[S](this);ji(this),m&&s.lineWrapping&&getComputedStyle(g.lineDiv).textRendering=="optimizelegibility"&&(g.lineDiv.style.textRendering="auto")}br.defaults=ku,br.optionHandlers=ll;function Lu(i){var s=i.display;xe(s.scroller,"mousedown",$r(i,ic)),x&&M<11?xe(s.scroller,"dblclick",$r(i,function(j){if(!fr(i,j)){var W=Ko(i,j);if(!(!W||Fn(i,j)||io(i.display,j))){at(j);var dt=i.findWordAt(W);Qs(i.doc,dt.anchor,dt.head)}}})):xe(s.scroller,"dblclick",function(j){return fr(i,j)||at(j)}),xe(s.scroller,"contextmenu",function(j){return Dn(i,j)}),xe(s.input.getField(),"contextmenu",function(j){s.scroller.contains(j.target)||Dn(i,j)});var u,c={end:0};function d(){s.activeTouch&&(u=setTimeout(function(){return s.activeTouch=null},1e3),c=s.activeTouch,c.end=+new Date)}function g(j){if(j.touches.length!=1)return!1;var W=j.touches[0];return W.radiusX<=1&&W.radiusY<=1}function b(j,W){if(W.left==null)return!0;var dt=W.left-j.left,xt=W.top-j.top;return dt*dt+xt*xt>20*20}xe(s.scroller,"touchstart",function(j){if(!fr(i,j)&&!g(j)&&!Fn(i,j)){s.input.ensurePolled(),clearTimeout(u);var W=+new Date;s.activeTouch={start:W,moved:!1,prev:W-c.end<=300?c:null},j.touches.length==1&&(s.activeTouch.left=j.touches[0].pageX,s.activeTouch.top=j.touches[0].pageY)}}),xe(s.scroller,"touchmove",function(){s.activeTouch&&(s.activeTouch.moved=!0)}),xe(s.scroller,"touchend",function(j){var W=s.activeTouch;if(W&&!io(s,j)&&W.left!=null&&!W.moved&&new Date-W.start<300){var dt=i.coordsChar(s.activeTouch,"page"),xt;!W.prev||b(W,W.prev)?xt=new cr(dt,dt):!W.prev.prev||b(W,W.prev.prev)?xt=i.findWordAt(dt):xt=new cr(F(dt.line,0),Ce(i.doc,F(dt.line+1,0))),i.setSelection(xt.anchor,xt.head),i.focus(),at(j)}d()}),xe(s.scroller,"touchcancel",d),xe(s.scroller,"scroll",function(){s.scroller.clientHeight&&(la(i,s.scroller.scrollTop),Ei(i,s.scroller.scrollLeft,!0),lr(i,"scroll",i))}),xe(s.scroller,"mousewheel",function(j){return zc(i,j)}),xe(s.scroller,"DOMMouseScroll",function(j){return zc(i,j)}),xe(s.wrapper,"scroll",function(){return s.wrapper.scrollTop=s.wrapper.scrollLeft=0}),s.dragFunctions={enter:function(j){fr(i,j)||Yt(j)},over:function(j){fr(i,j)||(Jf(i,j),Yt(j))},start:function(j){return os(i,j)},drop:$r(i,nl),leave:function(j){fr(i,j)||pu(i)}};var S=s.input.getField();xe(S,"keyup",function(j){return al.call(i,j)}),xe(S,"keydown",$r(i,Su)),xe(S,"keypress",$r(i,oc)),xe(S,"focus",function(j){return ia(i,j)}),xe(S,"blur",function(j){return aa(i,j)})}var cl=[];br.defineInitHook=function(i){return cl.push(i)};function fs(i,s,u,c){var d=i.doc,g;u==null&&(u="add"),u=="smart"&&(d.mode.indent?g=Qn(i,s).state:u="prev");var b=i.options.tabSize,S=we(d,s),j=Ot(S.text,null,b);S.stateAfter&&(S.stateAfter=null);var W=S.text.match(/^\s*/)[0],dt;if(!c&&!/\S/.test(S.text))dt=0,u="not";else if(u=="smart"&&(dt=d.mode.indent(g,S.text.slice(W.length),S.text),dt==$t||dt>150)){if(!c)return;u="prev"}u=="prev"?s>d.first?dt=Ot(we(d,s-1).text,null,b):dt=0:u=="add"?dt=j+i.options.indentUnit:u=="subtract"?dt=j-i.options.indentUnit:typeof u=="number"&&(dt=j+u),dt=Math.max(0,dt);var xt="",jt=0;if(i.options.indentWithTabs)for(var kt=Math.floor(dt/b);kt;--kt)jt+=b,xt+="	";if(jt<dt&&(xt+=rr(dt-jt)),xt!=W)return da(d,xt,F(s,0),F(s,W.length),"+input"),S.stateAfter=null,!0;for(var Gt=0;Gt<d.sel.ranges.length;Gt++){var qt=d.sel.ranges[Gt];if(qt.head.line==s&&qt.head.ch<W.length){var ie=F(s,W.length);Jl(d,Gt,new cr(ie,ie));break}}}var co=null;function ul(i){co=i}function sc(i,s,u,c,d){var g=i.doc;i.display.shift=!1,c||(c=g.sel);var b=+new Date-200,S=d=="paste"||i.state.pasteIncoming>b,j=vn(s),W=null;if(S&&c.ranges.length>1)if(co&&co.text.join(`
`)==s){if(c.ranges.length%co.text.length==0){W=[];for(var dt=0;dt<co.text.length;dt++)W.push(g.splitLines(co.text[dt]))}}else j.length==c.ranges.length&&i.options.pasteLinesPerSelection&&(W=K(j,function(le){return[le]}));for(var xt=i.curOp.updateInput,jt=c.ranges.length-1;jt>=0;jt--){var kt=c.ranges[jt],Gt=kt.from(),qt=kt.to();kt.empty()&&(u&&u>0?Gt=F(Gt.line,Gt.ch-u):i.state.overwrite&&!S?qt=F(qt.line,Math.min(we(g,qt.line).text.length,qt.ch+fe(j).length)):S&&co&&co.lineWise&&co.text.join(`
`)==j.join(`
`)&&(Gt=qt=F(Gt.line,0)));var ie={from:Gt,to:qt,text:W?W[jt%W.length]:j,origin:d||(S?"paste":i.state.cutIncoming>b?"cut":"+input")};pa(i.doc,ie),Ir(i,"inputRead",i,ie)}s&&!S&&Du(i,s),Zo(i),i.curOp.updateInput<2&&(i.curOp.updateInput=xt),i.curOp.typing=!0,i.state.pasteIncoming=i.state.cutIncoming=-1}function ju(i,s){var u=i.clipboardData&&i.clipboardData.getData("Text");if(u)return i.preventDefault(),!s.isReadOnly()&&!s.options.disableInput&&s.hasFocus()&&Pn(s,function(){return sc(s,u,0,null,"paste")}),!0}function Du(i,s){if(!(!i.options.electricChars||!i.options.smartIndent))for(var u=i.doc.sel,c=u.ranges.length-1;c>=0;c--){var d=u.ranges[c];if(!(d.head.ch>100||c&&u.ranges[c-1].head.line==d.head.line)){var g=i.getModeAt(d.head),b=!1;if(g.electricChars){for(var S=0;S<g.electricChars.length;S++)if(s.indexOf(g.electricChars.charAt(S))>-1){b=fs(i,d.head.line,"smart");break}}else g.electricInput&&g.electricInput.test(we(i.doc,d.head.line).text.slice(0,d.head.ch))&&(b=fs(i,d.head.line,"smart"));b&&Ir(i,"electricInput",i,d.head.line)}}}function Iu(i){for(var s=[],u=[],c=0;c<i.doc.sel.ranges.length;c++){var d=i.doc.sel.ranges[c].head.line,g={anchor:F(d,0),head:F(d+1,0)};u.push(g),s.push(i.getRange(g.anchor,g.head))}return{text:s,ranges:u}}function lc(i,s,u,c){i.setAttribute("autocorrect",u?"on":"off"),i.setAttribute("autocapitalize",c?"on":"off"),i.setAttribute("spellcheck",!!s)}function cc(){var i=P("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),s=P("div",[i],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return m?i.style.width="1000px":i.setAttribute("wrap","off"),U&&(i.style.border="1px solid black"),s}function Vu(i){var s=i.optionHandlers,u=i.helpers={};i.prototype={constructor:i,focus:function(){zt(this).focus(),this.display.input.focus()},setOption:function(c,d){var g=this.options,b=g[c];g[c]==d&&c!="mode"||(g[c]=d,s.hasOwnProperty(c)&&$r(this,s[c])(this,d,b),lr(this,"optionChange",this,c))},getOption:function(c){return this.options[c]},getDoc:function(){return this.doc},addKeyMap:function(c,d){this.state.keyMaps[d?"push":"unshift"](ol(c))},removeKeyMap:function(c){for(var d=this.state.keyMaps,g=0;g<d.length;++g)if(d[g]==c||d[g].name==c)return d.splice(g,1),!0},addOverlay:_r(function(c,d){var g=c.token?c:i.getMode(this.options,c);if(g.startState)throw new Error("Overlays may not be stateful.");st(this.state.overlays,{mode:g,modeSpec:c,opaque:d&&d.opaque,priority:d&&d.priority||0},function(b){return b.priority}),this.state.modeGen++,rn(this)}),removeOverlay:_r(function(c){for(var d=this.state.overlays,g=0;g<d.length;++g){var b=d[g].modeSpec;if(b==c||typeof c=="string"&&b.name==c){d.splice(g,1),this.state.modeGen++,rn(this);return}}}),indentLine:_r(function(c,d,g){typeof d!="string"&&typeof d!="number"&&(d==null?d=this.options.smartIndent?"smart":"prev":d=d?"add":"subtract"),jr(this.doc,c)&&fs(this,c,d,g)}),indentSelection:_r(function(c){for(var d=this.doc.sel.ranges,g=-1,b=0;b<d.length;b++){var S=d[b];if(S.empty())S.head.line>g&&(fs(this,S.head.line,c,!0),g=S.head.line,b==this.doc.sel.primIndex&&Zo(this));else{var j=S.from(),W=S.to(),dt=Math.max(g,j.line);g=Math.min(this.lastLine(),W.line-(W.ch?0:1))+1;for(var xt=dt;xt<g;++xt)fs(this,xt,c);var jt=this.doc.sel.ranges;j.ch==0&&d.length==jt.length&&jt[b].from().ch>0&&Jl(this.doc,b,new cr(j,jt[b].to()),Jt)}}}),getTokenAt:function(c,d){return Dr(this,c,d)},getLineTokens:function(c,d){return Dr(this,F(c),d,!0)},getTokenTypeAt:function(c){c=Ce(this.doc,c);var d=Ma(this,we(this.doc,c.line)),g=0,b=(d.length-1)/2,S=c.ch,j;if(S==0)j=d[2];else for(;;){var W=g+b>>1;if((W?d[W*2-1]:0)>=S)b=W;else if(d[W*2+1]<S)g=W+1;else{j=d[W*2+2];break}}var dt=j?j.indexOf("overlay "):-1;return dt<0?j:dt==0?null:j.slice(0,dt-1)},getModeAt:function(c){var d=this.doc.mode;return d.innerMode?i.innerMode(d,this.getTokenAt(c).state).mode:d},getHelper:function(c,d){return this.getHelpers(c,d)[0]},getHelpers:function(c,d){var g=[];if(!u.hasOwnProperty(d))return g;var b=u[d],S=this.getModeAt(c);if(typeof S[d]=="string")b[S[d]]&&g.push(b[S[d]]);else if(S[d])for(var j=0;j<S[d].length;j++){var W=b[S[d][j]];W&&g.push(W)}else S.helperType&&b[S.helperType]?g.push(b[S.helperType]):b[S.name]&&g.push(b[S.name]);for(var dt=0;dt<b._global.length;dt++){var xt=b._global[dt];xt.pred(S,this)&&Wt(g,xt.val)==-1&&g.push(xt.val)}return g},getStateAfter:function(c,d){var g=this.doc;return c=or(g,c??g.first+g.size-1),Qn(this,c+1,d).state},cursorCoords:function(c,d){var g,b=this.doc.sel.primary();return c==null?g=b.head:typeof c=="object"?g=Ce(this.doc,c):g=c?b.from():b.to(),jn(this,g,d||"page")},charCoords:function(c,d){return Fs(this,Ce(this.doc,c),d||"page")},coordsChar:function(c,d){return c=jc(this,c,d||"page"),Ml(this,c.left,c.top)},lineAtHeight:function(c,d){return c=jc(this,{top:c,left:0},d||"page").top,tn(this.doc,c+this.display.viewOffset)},heightAtLine:function(c,d,g){var b=!1,S;if(typeof c=="number"){var j=this.doc.first+this.doc.size-1;c<this.doc.first?c=this.doc.first:c>j&&(c=j,b=!0),S=we(this.doc,c)}else S=c;return Ns(this,S,{top:0,left:0},d||"page",g||b).top+(b?this.doc.height-sr(S):0)},defaultTextHeight:function(){return ra(this.display)},defaultCharWidth:function(){return na(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(c,d,g,b,S){var j=this.display;c=jn(this,Ce(this.doc,c));var W=c.bottom,dt=c.left;if(d.style.position="absolute",d.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(d),j.sizer.appendChild(d),b=="over")W=c.top;else if(b=="above"||b=="near"){var xt=Math.max(j.wrapper.clientHeight,this.doc.height),jt=Math.max(j.sizer.clientWidth,j.lineSpace.clientWidth);(b=="above"||c.bottom+d.offsetHeight>xt)&&c.top>d.offsetHeight?W=c.top-d.offsetHeight:c.bottom+d.offsetHeight<=xt&&(W=c.bottom),dt+d.offsetWidth>jt&&(dt=jt-d.offsetWidth)}d.style.top=W+"px",d.style.left=d.style.right="",S=="right"?(dt=j.sizer.clientWidth-d.offsetWidth,d.style.right="0px"):(S=="left"?dt=0:S=="middle"&&(dt=(j.sizer.clientWidth-d.offsetWidth)/2),d.style.left=dt+"px"),g&&Pf(this,{left:dt,top:W,right:dt+d.offsetWidth,bottom:W+d.offsetHeight})},triggerOnKeyDown:_r(Su),triggerOnKeyPress:_r(oc),triggerOnKeyUp:al,triggerOnMouseDown:_r(ic),execCommand:function(c){if(ls.hasOwnProperty(c))return ls[c].call(null,this)},triggerElectric:_r(function(c){Du(this,c)}),findPosH:function(c,d,g,b){var S=1;d<0&&(S=-1,d=-d);for(var j=Ce(this.doc,c),W=0;W<d&&(j=uc(this.doc,j,S,g,b),!j.hitSide);++W);return j},moveH:_r(function(c,d){var g=this;this.extendSelectionsBy(function(b){return g.display.shift||g.doc.extend||b.empty()?uc(g.doc,b.head,c,d,g.options.rtlMoveVisually):c<0?b.from():b.to()},Ne)}),deleteH:_r(function(c,d){var g=this.doc.sel,b=this.doc;g.somethingSelected()?b.replaceSelection("",null,"+delete"):Vi(this,function(S){var j=uc(b,S.head,c,d,!1);return c<0?{from:j,to:S.head}:{from:S.head,to:j}})}),findPosV:function(c,d,g,b){var S=1,j=b;d<0&&(S=-1,d=-d);for(var W=Ce(this.doc,c),dt=0;dt<d;++dt){var xt=jn(this,W,"div");if(j==null?j=xt.left:xt.left=j,W=Ru(this,xt,S,g),W.hitSide)break}return W},moveV:_r(function(c,d){var g=this,b=this.doc,S=[],j=!this.display.shift&&!b.extend&&b.sel.somethingSelected();if(b.extendSelectionsBy(function(dt){if(j)return c<0?dt.from():dt.to();var xt=jn(g,dt.head,"div");dt.goalColumn!=null&&(xt.left=dt.goalColumn),S.push(xt.left);var jt=Ru(g,xt,c,d);return d=="page"&&dt==b.sel.primary()&&sa(g,Fs(g,jt,"div").top-xt.top),jt},Ne),S.length)for(var W=0;W<b.sel.ranges.length;W++)b.sel.ranges[W].goalColumn=S[W]}),findWordAt:function(c){var d=this.doc,g=we(d,c.line).text,b=c.ch,S=c.ch;if(g){var j=this.getHelper(c,"wordChars");(c.sticky=="before"||S==g.length)&&b?--b:++S;for(var W=g.charAt(b),dt=Vt(W,j)?function(xt){return Vt(xt,j)}:/\s/.test(W)?function(xt){return/\s/.test(xt)}:function(xt){return!/\s/.test(xt)&&!Vt(xt)};b>0&&dt(g.charAt(b-1));)--b;for(;S<g.length&&dt(g.charAt(S));)++S}return new cr(F(c.line,b),F(c.line,S))},toggleOverwrite:function(c){c!=null&&c==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?wt(this.display.cursorDiv,"CodeMirror-overwrite"):I(this.display.cursorDiv,"CodeMirror-overwrite"),lr(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==X(Ut(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:_r(function(c,d){qa(this,c,d)}),getScrollInfo:function(){var c=this.display.scroller;return{left:c.scrollLeft,top:c.scrollTop,height:c.scrollHeight-Q(this)-this.display.barHeight,width:c.scrollWidth-Q(this)-this.display.barWidth,clientHeight:St(this),clientWidth:_t(this)}},scrollIntoView:_r(function(c,d){c==null?(c={from:this.doc.sel.primary().head,to:null},d==null&&(d=this.options.cursorScrollMargin)):typeof c=="number"?c={from:F(c,0),to:null}:c.from==null&&(c={from:c,to:null}),c.to||(c.to=c.from),c.margin=d||0,c.from.line!=null?Ef(this,c):Za(this,c.from,c.to,c.margin)}),setSize:_r(function(c,d){var g=this,b=function(j){return typeof j=="number"||/^\d+$/.test(String(j))?j+"px":j};c!=null&&(this.display.wrapper.style.width=b(c)),d!=null&&(this.display.wrapper.style.height=b(d)),this.options.lineWrapping&&Mc(this);var S=this.display.viewFrom;this.doc.iter(S,this.display.viewTo,function(j){if(j.widgets){for(var W=0;W<j.widgets.length;W++)if(j.widgets[W].noHScroll){$o(g,S,"widget");break}}++S}),this.curOp.forceUpdate=!0,lr(this,"refresh",this)}),operation:function(c){return Pn(this,c)},startOperation:function(){return Li(this)},endOperation:function(){return ji(this)},refresh:_r(function(){var c=this.display.cachedTextHeight;rn(this),this.curOp.forceUpdate=!0,Si(this),qa(this,this.doc.scrollLeft,this.doc.scrollTop),Gl(this.display),(c==null||Math.abs(c-ra(this.display))>.5||this.options.lineWrapping)&&Dl(this),lr(this,"refresh",this)}),swapDoc:_r(function(c){var d=this.doc;return d.cm=null,this.state.selectingText&&this.state.selectingText(),$c(this,c),Si(this),this.display.input.reset(),qa(this,c.scrollLeft,c.scrollTop),this.curOp.forceScroll=!0,Ir(this,"swapDoc",this,d),d}),phrase:function(c){var d=this.options.phrases;return d&&Object.prototype.hasOwnProperty.call(d,c)?d[c]:c},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Kn(i),i.registerHelper=function(c,d,g){u.hasOwnProperty(c)||(u[c]=i[c]={_global:[]}),u[c][d]=g},i.registerGlobalHelper=function(c,d,g,b){i.registerHelper(c,d,b),u[c]._global.push({pred:g,val:b})}}function uc(i,s,u,c,d){var g=s,b=u,S=we(i,s.line),j=d&&i.direction=="rtl"?-u:u;function W(){var ge=s.line+j;return ge<i.first||ge>=i.first+i.size?!1:(s=new F(ge,s.ch,s.sticky),S=we(i,ge))}function dt(ge){var ce;if(c=="codepoint"){var ye=S.text.charCodeAt(s.ch+(u>0?0:-1));if(isNaN(ye))ce=null;else{var Ee=u>0?ye>=55296&&ye<56320:ye>=56320&&ye<57343;ce=new F(s.line,Math.max(0,Math.min(S.text.length,s.ch+u*(Ee?2:1))),-u)}}else d?ce=bu(i.cm,S,s,u):ce=tc(S,s,u);if(ce==null)if(!ge&&W())s=ec(d,i.cm,S,s.line,j);else return!1;else s=ce;return!0}if(c=="char"||c=="codepoint")dt();else if(c=="column")dt(!0);else if(c=="word"||c=="group")for(var xt=null,jt=c=="group",kt=i.cm&&i.cm.getHelper(s,"wordChars"),Gt=!0;!(u<0&&!dt(!Gt));Gt=!1){var qt=S.text.charAt(s.ch)||`
`,ie=Vt(qt,kt)?"w":jt&&qt==`
`?"n":!jt||/\s/.test(qt)?null:"p";if(jt&&!Gt&&!ie&&(ie="s"),xt&&xt!=ie){u<0&&(u=1,dt(),s.sticky="after");break}if(ie&&(xt=ie),u>0&&!dt(!Gt))break}var le=ti(i,s,g,b,!0);return Zt(g,le)&&(le.hitSide=!0),le}function Ru(i,s,u,c){var d=i.doc,g=s.left,b;if(c=="page"){var S=Math.min(i.display.wrapper.clientHeight,zt(i).innerHeight||d(i).documentElement.clientHeight),j=Math.max(S-.5*ra(i.display),3);b=(u>0?s.bottom:s.top)+u*j}else c=="line"&&(b=u>0?s.bottom+3:s.top-3);for(var W;W=Ml(i,g,b),!!W.outside;){if(u<0?b<=0:b>=d.height){W.hitSide=!0;break}b+=u*5}return W}var nr=function(i){this.cm=i,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Dt,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};nr.prototype.init=function(i){var s=this,u=this,c=u.cm,d=u.div=i.lineDiv;d.contentEditable=!0,lc(d,c.options.spellcheck,c.options.autocorrect,c.options.autocapitalize);function g(S){for(var j=S.target;j;j=j.parentNode){if(j==d)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(j.className))break}return!1}xe(d,"paste",function(S){!g(S)||fr(c,S)||ju(S,c)||M<=11&&setTimeout($r(c,function(){return s.updateFromDOM()}),20)}),xe(d,"compositionstart",function(S){s.composing={data:S.data,done:!1}}),xe(d,"compositionupdate",function(S){s.composing||(s.composing={data:S.data,done:!1})}),xe(d,"compositionend",function(S){s.composing&&(S.data!=s.composing.data&&s.readFromDOMSoon(),s.composing.done=!0)}),xe(d,"touchstart",function(){return u.forceCompositionEnd()}),xe(d,"input",function(){s.composing||s.readFromDOMSoon()});function b(S){if(!(!g(S)||fr(c,S))){if(c.somethingSelected())ul({lineWise:!1,text:c.getSelections()}),S.type=="cut"&&c.replaceSelection("",null,"cut");else if(c.options.lineWiseCopyCut){var j=Iu(c);ul({lineWise:!0,text:j.text}),S.type=="cut"&&c.operation(function(){c.setSelections(j.ranges,0,Jt),c.replaceSelection("",null,"cut")})}else return;if(S.clipboardData){S.clipboardData.clearData();var W=co.text.join(`
`);if(S.clipboardData.setData("Text",W),S.clipboardData.getData("Text")==W){S.preventDefault();return}}var dt=cc(),xt=dt.firstChild;lc(xt),c.display.lineSpace.insertBefore(dt,c.display.lineSpace.firstChild),xt.value=co.text.join(`
`);var jt=X(d.ownerDocument);Ct(xt),setTimeout(function(){c.display.lineSpace.removeChild(dt),jt.focus(),jt==d&&u.showPrimarySelection()},50)}}xe(d,"copy",b),xe(d,"cut",b)},nr.prototype.screenReaderLabelChanged=function(i){i?this.div.setAttribute("aria-label",i):this.div.removeAttribute("aria-label")},nr.prototype.prepareSelection=function(){var i=Ic(this.cm,!1);return i.focus=X(this.div.ownerDocument)==this.div,i},nr.prototype.showSelection=function(i,s){!i||!this.cm.display.view.length||((i.focus||s)&&this.showPrimarySelection(),this.showMultipleSelections(i))},nr.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},nr.prototype.showPrimarySelection=function(){var i=this.getSelection(),s=this.cm,u=s.doc.sel.primary(),c=u.from(),d=u.to();if(s.display.viewTo==s.display.viewFrom||c.line>=s.display.viewTo||d.line<s.display.viewFrom){i.removeAllRanges();return}var g=ps(s,i.anchorNode,i.anchorOffset),b=ps(s,i.focusNode,i.focusOffset);if(!(g&&!g.bad&&b&&!b.bad&&ut(Je(g,b),c)==0&&ut(Re(g,b),d)==0)){var S=s.display.view,j=c.line>=s.display.viewFrom&&Nu(s,c)||{node:S[0].measure.map[2],offset:0},W=d.line<s.display.viewTo&&Nu(s,d);if(!W){var dt=S[S.length-1].measure,xt=dt.maps?dt.maps[dt.maps.length-1]:dt.map;W={node:xt[xt.length-1],offset:xt[xt.length-2]-xt[xt.length-3]}}if(!j||!W){i.removeAllRanges();return}var jt=i.rangeCount&&i.getRangeAt(0),kt;try{kt=y(j.node,j.offset,W.offset,W.node)}catch{}kt&&(!ct&&s.state.focused?(i.collapse(j.node,j.offset),kt.collapsed||(i.removeAllRanges(),i.addRange(kt))):(i.removeAllRanges(),i.addRange(kt)),jt&&i.anchorNode==null?i.addRange(jt):ct&&this.startGracePeriod()),this.rememberSelection()}},nr.prototype.startGracePeriod=function(){var i=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){i.gracePeriod=!1,i.selectionChanged()&&i.cm.operation(function(){return i.cm.curOp.selectionChanged=!0})},20)},nr.prototype.showMultipleSelections=function(i){G(this.cm.display.cursorDiv,i.cursors),G(this.cm.display.selectionDiv,i.selection)},nr.prototype.rememberSelection=function(){var i=this.getSelection();this.lastAnchorNode=i.anchorNode,this.lastAnchorOffset=i.anchorOffset,this.lastFocusNode=i.focusNode,this.lastFocusOffset=i.focusOffset},nr.prototype.selectionInEditor=function(){var i=this.getSelection();if(!i.rangeCount)return!1;var s=i.getRangeAt(0).commonAncestorContainer;return rt(this.div,s)},nr.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||X(this.div.ownerDocument)!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},nr.prototype.blur=function(){this.div.blur()},nr.prototype.getField=function(){return this.div},nr.prototype.supportsTouch=function(){return!0},nr.prototype.receivedFocus=function(){var i=this,s=this;this.selectionInEditor()?setTimeout(function(){return i.pollSelection()},20):Pn(this.cm,function(){return s.cm.curOp.selectionChanged=!0});function u(){s.cm.state.focused&&(s.pollSelection(),s.polling.set(s.cm.options.pollInterval,u))}this.polling.set(this.cm.options.pollInterval,u)},nr.prototype.selectionChanged=function(){var i=this.getSelection();return i.anchorNode!=this.lastAnchorNode||i.anchorOffset!=this.lastAnchorOffset||i.focusNode!=this.lastFocusNode||i.focusOffset!=this.lastFocusOffset},nr.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var i=this.getSelection(),s=this.cm;if(R&&w&&this.cm.display.gutterSpecs.length&&fp(i.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var u=ps(s,i.anchorNode,i.anchorOffset),c=ps(s,i.focusNode,i.focusOffset);u&&c&&Pn(s,function(){pn(s.doc,Xo(u,c),Jt),(u.bad||c.bad)&&(s.curOp.selectionChanged=!0)})}}},nr.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var i=this.cm,s=i.display,u=i.doc.sel.primary(),c=u.from(),d=u.to();if(c.ch==0&&c.line>i.firstLine()&&(c=F(c.line-1,we(i.doc,c.line-1).length)),d.ch==we(i.doc,d.line).text.length&&d.line<i.lastLine()&&(d=F(d.line+1,0)),c.line<s.viewFrom||d.line>s.viewTo-1)return!1;var g,b,S;c.line==s.viewFrom||(g=Oi(i,c.line))==0?(b=Xe(s.view[0].line),S=s.view[0].node):(b=Xe(s.view[g].line),S=s.view[g-1].node.nextSibling);var j=Oi(i,d.line),W,dt;if(j==s.view.length-1?(W=s.viewTo-1,dt=s.lineDiv.lastChild):(W=Xe(s.view[j+1].line)-1,dt=s.view[j+1].node.previousSibling),!S)return!1;for(var xt=i.doc.splitLines(pp(i,S,dt,b,W)),jt=cn(i.doc,F(b,0),F(W,we(i.doc,W).text.length));xt.length>1&&jt.length>1;)if(fe(xt)==fe(jt))xt.pop(),jt.pop(),W--;else if(xt[0]==jt[0])xt.shift(),jt.shift(),b++;else break;for(var kt=0,Gt=0,qt=xt[0],ie=jt[0],le=Math.min(qt.length,ie.length);kt<le&&qt.charCodeAt(kt)==ie.charCodeAt(kt);)++kt;for(var ge=fe(xt),ce=fe(jt),ye=Math.min(ge.length-(xt.length==1?kt:0),ce.length-(jt.length==1?kt:0));Gt<ye&&ge.charCodeAt(ge.length-Gt-1)==ce.charCodeAt(ce.length-Gt-1);)++Gt;if(xt.length==1&&jt.length==1&&b==c.line)for(;kt&&kt>c.ch&&ge.charCodeAt(ge.length-Gt-1)==ce.charCodeAt(ce.length-Gt-1);)kt--,Gt++;xt[xt.length-1]=ge.slice(0,ge.length-Gt).replace(/^\u200b+/,""),xt[0]=xt[0].slice(kt).replace(/\u200b+$/,"");var Ee=F(b,kt),Te=F(W,jt.length?fe(jt).length-Gt:0);if(xt.length>1||xt[0]||ut(Ee,Te))return da(i.doc,xt,Ee,Te,"+input"),!0},nr.prototype.ensurePolled=function(){this.forceCompositionEnd()},nr.prototype.reset=function(){this.forceCompositionEnd()},nr.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},nr.prototype.readFromDOMSoon=function(){var i=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(i.readDOMTimeout=null,i.composing)if(i.composing.done)i.composing=null;else return;i.updateFromDOM()},80))},nr.prototype.updateFromDOM=function(){var i=this;(this.cm.isReadOnly()||!this.pollContent())&&Pn(this.cm,function(){return rn(i.cm)})},nr.prototype.setUneditable=function(i){i.contentEditable="false"},nr.prototype.onKeyPress=function(i){i.charCode==0||this.composing||(i.preventDefault(),this.cm.isReadOnly()||$r(this.cm,sc)(this.cm,String.fromCharCode(i.charCode==null?i.keyCode:i.charCode),0))},nr.prototype.readOnlyChanged=function(i){this.div.contentEditable=String(i!="nocursor")},nr.prototype.onContextMenu=function(){},nr.prototype.resetPosition=function(){},nr.prototype.needsContentAttribute=!0;function Nu(i,s){var u=ze(i,s.line);if(!u||u.hidden)return null;var c=we(i.doc,s.line),d=Mt(u,c,s.line),g=Ze(c,i.doc.direction),b="left";if(g){var S=qe(g,s.ch);b=S%2?"right":"left"}var j=ea(d.map,s.ch,b);return j.offset=j.collapse=="right"?j.end:j.start,j}function fp(i){for(var s=i;s;s=s.parentNode)if(/CodeMirror-gutter-wrapper/.test(s.className))return!0;return!1}function _a(i,s){return s&&(i.bad=!0),i}function pp(i,s,u,c,d){var g="",b=!1,S=i.doc.lineSeparator(),j=!1;function W(kt){return function(Gt){return Gt.id==kt}}function dt(){b&&(g+=S,j&&(g+=S),b=j=!1)}function xt(kt){kt&&(dt(),g+=kt)}function jt(kt){if(kt.nodeType==1){var Gt=kt.getAttribute("cm-text");if(Gt){xt(Gt);return}var qt=kt.getAttribute("cm-marker"),ie;if(qt){var le=i.findMarks(F(c,0),F(d+1,0),W(+qt));le.length&&(ie=le[0].find(0))&&xt(cn(i.doc,ie.from,ie.to).join(S));return}if(kt.getAttribute("contenteditable")=="false")return;var ge=/^(pre|div|p|li|table|br)$/i.test(kt.nodeName);if(!/^br$/i.test(kt.nodeName)&&kt.textContent.length==0)return;ge&&dt();for(var ce=0;ce<kt.childNodes.length;ce++)jt(kt.childNodes[ce]);/^(pre|p)$/i.test(kt.nodeName)&&(j=!0),ge&&(b=!0)}else kt.nodeType==3&&xt(kt.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;jt(s),s!=u;)s=s.nextSibling,j=!1;return g}function ps(i,s,u){var c;if(s==i.display.lineDiv){if(c=i.display.lineDiv.childNodes[u],!c)return _a(i.clipPos(F(i.display.viewTo-1)),!0);s=null,u=0}else for(c=s;;c=c.parentNode){if(!c||c==i.display.lineDiv)return null;if(c.parentNode&&c.parentNode==i.display.lineDiv)break}for(var d=0;d<i.display.view.length;d++){var g=i.display.view[d];if(g.node==c)return dp(g,s,u)}}function dp(i,s,u){var c=i.text.firstChild,d=!1;if(!s||!rt(c,s))return _a(F(Xe(i.line),0),!0);if(s==c&&(d=!0,s=c.childNodes[u],u=0,!s)){var g=i.rest?fe(i.rest):i.line;return _a(F(Xe(g),g.text.length),d)}var b=s.nodeType==3?s:null,S=s;for(!b&&s.childNodes.length==1&&s.firstChild.nodeType==3&&(b=s.firstChild,u&&(u=b.nodeValue.length));S.parentNode!=c;)S=S.parentNode;var j=i.measure,W=j.maps;function dt(ie,le,ge){for(var ce=-1;ce<(W?W.length:0);ce++)for(var ye=ce<0?j.map:W[ce],Ee=0;Ee<ye.length;Ee+=3){var Te=ye[Ee+2];if(Te==ie||Te==le){var Ke=Xe(ce<0?i.line:i.rest[ce]),mr=ye[Ee]+ge;return(ge<0||Te!=ie)&&(mr=ye[Ee+(ge?1:0)]),F(Ke,mr)}}}var xt=dt(b,S,u);if(xt)return _a(xt,d);for(var jt=S.nextSibling,kt=b?b.nodeValue.length-u:0;jt;jt=jt.nextSibling){if(xt=dt(jt,jt.firstChild,0),xt)return _a(F(xt.line,xt.ch-kt),d);kt+=jt.textContent.length}for(var Gt=S.previousSibling,qt=u;Gt;Gt=Gt.previousSibling){if(xt=dt(Gt,Gt.firstChild,-1),xt)return _a(F(xt.line,xt.ch+qt),d);qt+=Gt.textContent.length}}var Vr=function(i){this.cm=i,this.prevInput="",this.pollingFast=!1,this.polling=new Dt,this.hasSelection=!1,this.composing=null,this.resetting=!1};Vr.prototype.init=function(i){var s=this,u=this,c=this.cm;this.createField(i);var d=this.textarea;i.wrapper.insertBefore(this.wrapper,i.wrapper.firstChild),U&&(d.style.width="0px"),xe(d,"input",function(){x&&M>=9&&s.hasSelection&&(s.hasSelection=null),u.poll()}),xe(d,"paste",function(b){fr(c,b)||ju(b,c)||(c.state.pasteIncoming=+new Date,u.fastPoll())});function g(b){if(!fr(c,b)){if(c.somethingSelected())ul({lineWise:!1,text:c.getSelections()});else if(c.options.lineWiseCopyCut){var S=Iu(c);ul({lineWise:!0,text:S.text}),b.type=="cut"?c.setSelections(S.ranges,null,Jt):(u.prevInput="",d.value=S.text.join(`
`),Ct(d))}else return;b.type=="cut"&&(c.state.cutIncoming=+new Date)}}xe(d,"cut",g),xe(d,"copy",g),xe(i.scroller,"paste",function(b){if(!(io(i,b)||fr(c,b))){if(!d.dispatchEvent){c.state.pasteIncoming=+new Date,u.focus();return}var S=new Event("paste");S.clipboardData=b.clipboardData,d.dispatchEvent(S)}}),xe(i.lineSpace,"selectstart",function(b){io(i,b)||at(b)}),xe(d,"compositionstart",function(){var b=c.getCursor("from");u.composing&&u.composing.range.clear(),u.composing={start:b,range:c.markText(b,c.getCursor("to"),{className:"CodeMirror-composing"})}}),xe(d,"compositionend",function(){u.composing&&(u.poll(),u.composing.range.clear(),u.composing=null)})},Vr.prototype.createField=function(i){this.wrapper=cc(),this.textarea=this.wrapper.firstChild;var s=this.cm.options;lc(this.textarea,s.spellcheck,s.autocorrect,s.autocapitalize)},Vr.prototype.screenReaderLabelChanged=function(i){i?this.textarea.setAttribute("aria-label",i):this.textarea.removeAttribute("aria-label")},Vr.prototype.prepareSelection=function(){var i=this.cm,s=i.display,u=i.doc,c=Ic(i);if(i.options.moveInputWithCursor){var d=jn(i,u.sel.primary().head,"div"),g=s.wrapper.getBoundingClientRect(),b=s.lineDiv.getBoundingClientRect();c.teTop=Math.max(0,Math.min(s.wrapper.clientHeight-10,d.top+b.top-g.top)),c.teLeft=Math.max(0,Math.min(s.wrapper.clientWidth-10,d.left+b.left-g.left))}return c},Vr.prototype.showSelection=function(i){var s=this.cm,u=s.display;G(u.cursorDiv,i.cursors),G(u.selectionDiv,i.selection),i.teTop!=null&&(this.wrapper.style.top=i.teTop+"px",this.wrapper.style.left=i.teLeft+"px")},Vr.prototype.reset=function(i){if(!(this.contextMenuPending||this.composing&&i)){var s=this.cm;if(this.resetting=!0,s.somethingSelected()){this.prevInput="";var u=s.getSelection();this.textarea.value=u,s.state.focused&&Ct(this.textarea),x&&M>=9&&(this.hasSelection=u)}else i||(this.prevInput=this.textarea.value="",x&&M>=9&&(this.hasSelection=null));this.resetting=!1}},Vr.prototype.getField=function(){return this.textarea},Vr.prototype.supportsTouch=function(){return!1},Vr.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!D||X(this.textarea.ownerDocument)!=this.textarea))try{this.textarea.focus()}catch{}},Vr.prototype.blur=function(){this.textarea.blur()},Vr.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Vr.prototype.receivedFocus=function(){this.slowPoll()},Vr.prototype.slowPoll=function(){var i=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){i.poll(),i.cm.state.focused&&i.slowPoll()})},Vr.prototype.fastPoll=function(){var i=!1,s=this;s.pollingFast=!0;function u(){var c=s.poll();!c&&!i?(i=!0,s.polling.set(60,u)):(s.pollingFast=!1,s.slowPoll())}s.polling.set(20,u)},Vr.prototype.poll=function(){var i=this,s=this.cm,u=this.textarea,c=this.prevInput;if(this.contextMenuPending||this.resetting||!s.state.focused||Cn(u)&&!c&&!this.composing||s.isReadOnly()||s.options.disableInput||s.state.keySeq)return!1;var d=u.value;if(d==c&&!s.somethingSelected())return!1;if(x&&M>=9&&this.hasSelection===d||k&&/[\uf700-\uf7ff]/.test(d))return s.display.input.reset(),!1;if(s.doc.sel==s.display.selForContextMenu){var g=d.charCodeAt(0);if(g==8203&&!c&&(c="​"),g==8666)return this.reset(),this.cm.execCommand("undo")}for(var b=0,S=Math.min(c.length,d.length);b<S&&c.charCodeAt(b)==d.charCodeAt(b);)++b;return Pn(s,function(){sc(s,d.slice(b),c.length-b,null,i.composing?"*compose":null),d.length>1e3||d.indexOf(`
`)>-1?u.value=i.prevInput="":i.prevInput=d,i.composing&&(i.composing.range.clear(),i.composing.range=s.markText(i.composing.start,s.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Vr.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Vr.prototype.onKeyPress=function(){x&&M>=9&&(this.hasSelection=null),this.fastPoll()},Vr.prototype.onContextMenu=function(i){var s=this,u=s.cm,c=u.display,d=s.textarea;s.contextMenuPending&&s.contextMenuPending();var g=Ko(u,i),b=c.scroller.scrollTop;if(!g||O)return;var S=u.options.resetSelectionOnContextMenu;S&&u.doc.sel.contains(g)==-1&&$r(u,pn)(u.doc,Xo(g),Jt);var j=d.style.cssText,W=s.wrapper.style.cssText,dt=s.wrapper.offsetParent.getBoundingClientRect();s.wrapper.style.cssText="position: static",d.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(i.clientY-dt.top-5)+"px; left: "+(i.clientX-dt.left-5)+`px;
      z-index: 1000; background: `+(x?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var xt;m&&(xt=d.ownerDocument.defaultView.scrollY),c.input.focus(),m&&d.ownerDocument.defaultView.scrollTo(null,xt),c.input.reset(),u.somethingSelected()||(d.value=s.prevInput=" "),s.contextMenuPending=kt,c.selForContextMenu=u.doc.sel,clearTimeout(c.detectingSelectAll);function jt(){if(d.selectionStart!=null){var qt=u.somethingSelected(),ie="​"+(qt?d.value:"");d.value="⇚",d.value=ie,s.prevInput=qt?"":"​",d.selectionStart=1,d.selectionEnd=ie.length,c.selForContextMenu=u.doc.sel}}function kt(){if(s.contextMenuPending==kt&&(s.contextMenuPending=!1,s.wrapper.style.cssText=W,d.style.cssText=j,x&&M<9&&c.scrollbars.setScrollTop(c.scroller.scrollTop=b),d.selectionStart!=null)){(!x||x&&M<9)&&jt();var qt=0,ie=function(){c.selForContextMenu==u.doc.sel&&d.selectionStart==0&&d.selectionEnd>0&&s.prevInput=="​"?$r(u,ou)(u):qt++<10?c.detectingSelectAll=setTimeout(ie,500):(c.selForContextMenu=null,c.input.reset())};c.detectingSelectAll=setTimeout(ie,200)}}if(x&&M>=9&&jt(),T){Yt(i);var Gt=function(){Le(window,"mouseup",Gt),setTimeout(kt,20)};xe(window,"mouseup",Gt)}else setTimeout(kt,50)},Vr.prototype.readOnlyChanged=function(i){i||this.reset(),this.textarea.disabled=i=="nocursor",this.textarea.readOnly=!!i},Vr.prototype.setUneditable=function(){},Vr.prototype.needsContentAttribute=!1;function hp(i,s){if(s=s?Qt(s):{},s.value=i.value,!s.tabindex&&i.tabIndex&&(s.tabindex=i.tabIndex),!s.placeholder&&i.placeholder&&(s.placeholder=i.placeholder),s.autofocus==null){var u=X(i.ownerDocument);s.autofocus=u==i||i.getAttribute("autofocus")!=null&&u==document.body}function c(){i.value=S.getValue()}var d;if(i.form&&(xe(i.form,"submit",c),!s.leaveSubmitMethodAlone)){var g=i.form;d=g.submit;try{var b=g.submit=function(){c(),g.submit=d,g.submit(),g.submit=b}}catch{}}s.finishInit=function(j){j.save=c,j.getTextArea=function(){return i},j.toTextArea=function(){j.toTextArea=isNaN,c(),i.parentNode.removeChild(j.getWrapperElement()),i.style.display="",i.form&&(Le(i.form,"submit",c),!s.leaveSubmitMethodAlone&&typeof i.form.submit=="function"&&(i.form.submit=d))}},i.style.display="none";var S=br(function(j){return i.parentNode.insertBefore(j,i.nextSibling)},s);return S}function Fu(i){i.off=Le,i.on=xe,i.wheelEventPixels=Uc,i.Doc=En,i.splitLines=vn,i.countColumn=Ot,i.findColumn=tr,i.isWordChar=mt,i.Pass=$t,i.signal=lr,i.Line=no,i.changeEnd=Jo,i.scrollbarModel=Mi,i.Pos=F,i.cmpPos=ut,i.modes=zr,i.mimeModes=Sn,i.resolveMode=Vn,i.getMode=Qr,i.modeExtensions=Wr,i.extendMode=qn,i.copyState=Mn,i.startState=Lr,i.innerMode=On,i.commands=ls,i.keyMap=yo,i.keyName=yu,i.isModifierKey=gu,i.lookupKey=ya,i.normalizeKeyMap=ni,i.StringStream=ar,i.SharedTextMarker=ns,i.TextMarker=ri,i.LineWidget=ga,i.e_preventDefault=at,i.e_stopPropagation=Tt,i.e_stop=Yt,i.addClass=wt,i.contains=rt,i.rmClass=I,i.keyNames=Eo}Au(br),Vu(br);var vp="iter insert remove copy getEditor constructor".split(" ");for(var fl in En.prototype)En.prototype.hasOwnProperty(fl)&&Wt(vp,fl)<0&&(br.prototype[fl]=function(i){return function(){return i.apply(this.doc,arguments)}}(En.prototype[fl]));return Kn(En),br.inputStyles={textarea:Vr,contenteditable:nr},br.defineMode=function(i){!br.defaults.mode&&i!="null"&&(br.defaults.mode=i),$n.apply(this,arguments)},br.defineMIME=jo,br.defineMode("null",function(){return{token:function(i){return i.skipToEnd()}}}),br.defineMIME("text/plain","null"),br.defineExtension=function(i,s){br.prototype[i]=s},br.defineDocExtension=function(i,s){En.prototype[i]=s},br.fromTextArea=hp,Fu(br),br.version="5.65.15",br})},629:(V,vt,bt)=>{(function(ct){ct(bt(631))})(function(ct){ct.defineMode("css",function(I,N){var G=N.inline;N.propertyKeywords||(N=ct.resolveMode("text/css"));var P=I.indentUnit,$=N.tokenHooks,y=N.documentTypes||{},rt=N.mediaTypes||{},X=N.mediaFeatures||{},wt=N.mediaValueKeywords||{},Kt=N.propertyKeywords||{},Ct=N.nonStandardPropertyKeywords||{},Ut=N.fontProperties||{},zt=N.counterDescriptors||{},Nt=N.colorKeywords||{},Qt=N.valueKeywords||{},Ot=N.allowNested,Dt=N.lineComment,Wt=N.supportsAtComponent===!0,oe=I.highlightNonStandardPropertyKeywords!==!1,$t,Jt;function ue(mt,Vt){return $t=Vt,mt}function Ne(mt,Vt){var Et=mt.next();if($[Et]){var _e=$[Et](mt,Vt);if(_e!==!1)return _e}if(Et=="@")return mt.eatWhile(/[\w\\\-]/),ue("def",mt.current());if(Et=="="||(Et=="~"||Et=="|")&&mt.eat("="))return ue(null,"compare");if(Et=='"'||Et=="'")return Vt.tokenize=tr(Et),Vt.tokenize(mt,Vt);if(Et=="#")return mt.eatWhile(/[\w\\\-]/),ue("atom","hash");if(Et=="!")return mt.match(/^\s*\w*/),ue("keyword","important");if(/\d/.test(Et)||Et=="."&&mt.eat(/\d/))return mt.eatWhile(/[\w.%]/),ue("number","unit");if(Et==="-"){if(/[\d.]/.test(mt.peek()))return mt.eatWhile(/[\w.%]/),ue("number","unit");if(mt.match(/^-[\w\\\-]*/))return mt.eatWhile(/[\w\\\-]/),mt.match(/^\s*:/,!1)?ue("variable-2","variable-definition"):ue("variable-2","variable");if(mt.match(/^\w+-/))return ue("meta","meta")}else return/[,+>*\/]/.test(Et)?ue(null,"select-op"):Et=="."&&mt.match(/^-?[_a-z][_a-z0-9-]*/i)?ue("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(Et)?ue(null,Et):mt.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(mt.current())&&(Vt.tokenize=ir),ue("variable callee","variable")):/[\w\\\-]/.test(Et)?(mt.eatWhile(/[\w\\\-]/),ue("property","word")):ue(null,null)}function tr(mt){return function(Vt,Et){for(var _e=!1,Pe;(Pe=Vt.next())!=null;){if(Pe==mt&&!_e){mt==")"&&Vt.backUp(1);break}_e=!_e&&Pe=="\\"}return(Pe==mt||!_e&&mt!=")")&&(Et.tokenize=null),ue("string","string")}}function ir(mt,Vt){return mt.next(),mt.match(/^\s*[\"\')]/,!1)?Vt.tokenize=null:Vt.tokenize=tr(")"),ue(null,"(")}function rr(mt,Vt,Et){this.type=mt,this.indent=Vt,this.prev=Et}function fe(mt,Vt,Et,_e){return mt.context=new rr(Et,Vt.indentation()+(_e===!1?0:P),mt.context),Et}function K(mt){return mt.context.prev&&(mt.context=mt.context.prev),mt.context.type}function st(mt,Vt,Et){return Ht[Et.context.type](mt,Vt,Et)}function yt(mt,Vt,Et,_e){for(var Pe=_e||1;Pe>0;Pe--)Et.context=Et.context.prev;return st(mt,Vt,Et)}function At(mt){var Vt=mt.current().toLowerCase();Qt.hasOwnProperty(Vt)?Jt="atom":Nt.hasOwnProperty(Vt)?Jt="keyword":Jt="variable"}var Ht={};return Ht.top=function(mt,Vt,Et){if(mt=="{")return fe(Et,Vt,"block");if(mt=="}"&&Et.context.prev)return K(Et);if(Wt&&/@component/i.test(mt))return fe(Et,Vt,"atComponentBlock");if(/^@(-moz-)?document$/i.test(mt))return fe(Et,Vt,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(mt))return fe(Et,Vt,"atBlock");if(/^@(font-face|counter-style)/i.test(mt))return Et.stateArg=mt,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(mt))return"keyframes";if(mt&&mt.charAt(0)=="@")return fe(Et,Vt,"at");if(mt=="hash")Jt="builtin";else if(mt=="word")Jt="tag";else{if(mt=="variable-definition")return"maybeprop";if(mt=="interpolation")return fe(Et,Vt,"interpolation");if(mt==":")return"pseudo";if(Ot&&mt=="(")return fe(Et,Vt,"parens")}return Et.context.type},Ht.block=function(mt,Vt,Et){if(mt=="word"){var _e=Vt.current().toLowerCase();return Kt.hasOwnProperty(_e)?(Jt="property","maybeprop"):Ct.hasOwnProperty(_e)?(Jt=oe?"string-2":"property","maybeprop"):Ot?(Jt=Vt.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(Jt+=" error","maybeprop")}else return mt=="meta"?"block":!Ot&&(mt=="hash"||mt=="qualifier")?(Jt="error","block"):Ht.top(mt,Vt,Et)},Ht.maybeprop=function(mt,Vt,Et){return mt==":"?fe(Et,Vt,"prop"):st(mt,Vt,Et)},Ht.prop=function(mt,Vt,Et){if(mt==";")return K(Et);if(mt=="{"&&Ot)return fe(Et,Vt,"propBlock");if(mt=="}"||mt=="{")return yt(mt,Vt,Et);if(mt=="(")return fe(Et,Vt,"parens");if(mt=="hash"&&!/^#([0-9a-fA-F]{3,4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/.test(Vt.current()))Jt+=" error";else if(mt=="word")At(Vt);else if(mt=="interpolation")return fe(Et,Vt,"interpolation");return"prop"},Ht.propBlock=function(mt,Vt,Et){return mt=="}"?K(Et):mt=="word"?(Jt="property","maybeprop"):Et.context.type},Ht.parens=function(mt,Vt,Et){return mt=="{"||mt=="}"?yt(mt,Vt,Et):mt==")"?K(Et):mt=="("?fe(Et,Vt,"parens"):mt=="interpolation"?fe(Et,Vt,"interpolation"):(mt=="word"&&At(Vt),"parens")},Ht.pseudo=function(mt,Vt,Et){return mt=="meta"?"pseudo":mt=="word"?(Jt="variable-3",Et.context.type):st(mt,Vt,Et)},Ht.documentTypes=function(mt,Vt,Et){return mt=="word"&&y.hasOwnProperty(Vt.current())?(Jt="tag",Et.context.type):Ht.atBlock(mt,Vt,Et)},Ht.atBlock=function(mt,Vt,Et){if(mt=="(")return fe(Et,Vt,"atBlock_parens");if(mt=="}"||mt==";")return yt(mt,Vt,Et);if(mt=="{")return K(Et)&&fe(Et,Vt,Ot?"block":"top");if(mt=="interpolation")return fe(Et,Vt,"interpolation");if(mt=="word"){var _e=Vt.current().toLowerCase();_e=="only"||_e=="not"||_e=="and"||_e=="or"?Jt="keyword":rt.hasOwnProperty(_e)?Jt="attribute":X.hasOwnProperty(_e)?Jt="property":wt.hasOwnProperty(_e)?Jt="keyword":Kt.hasOwnProperty(_e)?Jt="property":Ct.hasOwnProperty(_e)?Jt=oe?"string-2":"property":Qt.hasOwnProperty(_e)?Jt="atom":Nt.hasOwnProperty(_e)?Jt="keyword":Jt="error"}return Et.context.type},Ht.atComponentBlock=function(mt,Vt,Et){return mt=="}"?yt(mt,Vt,Et):mt=="{"?K(Et)&&fe(Et,Vt,Ot?"block":"top",!1):(mt=="word"&&(Jt="error"),Et.context.type)},Ht.atBlock_parens=function(mt,Vt,Et){return mt==")"?K(Et):mt=="{"||mt=="}"?yt(mt,Vt,Et,2):Ht.atBlock(mt,Vt,Et)},Ht.restricted_atBlock_before=function(mt,Vt,Et){return mt=="{"?fe(Et,Vt,"restricted_atBlock"):mt=="word"&&Et.stateArg=="@counter-style"?(Jt="variable","restricted_atBlock_before"):st(mt,Vt,Et)},Ht.restricted_atBlock=function(mt,Vt,Et){return mt=="}"?(Et.stateArg=null,K(Et)):mt=="word"?(Et.stateArg=="@font-face"&&!Ut.hasOwnProperty(Vt.current().toLowerCase())||Et.stateArg=="@counter-style"&&!zt.hasOwnProperty(Vt.current().toLowerCase())?Jt="error":Jt="property","maybeprop"):"restricted_atBlock"},Ht.keyframes=function(mt,Vt,Et){return mt=="word"?(Jt="variable","keyframes"):mt=="{"?fe(Et,Vt,"top"):st(mt,Vt,Et)},Ht.at=function(mt,Vt,Et){return mt==";"?K(Et):mt=="{"||mt=="}"?yt(mt,Vt,Et):(mt=="word"?Jt="tag":mt=="hash"&&(Jt="builtin"),"at")},Ht.interpolation=function(mt,Vt,Et){return mt=="}"?K(Et):mt=="{"||mt==";"?yt(mt,Vt,Et):(mt=="word"?Jt="variable":mt!="variable"&&mt!="("&&mt!=")"&&(Jt="error"),"interpolation")},{startState:function(mt){return{tokenize:null,state:G?"block":"top",stateArg:null,context:new rr(G?"block":"top",mt||0,null)}},token:function(mt,Vt){if(!Vt.tokenize&&mt.eatSpace())return null;var Et=(Vt.tokenize||Ne)(mt,Vt);return Et&&typeof Et=="object"&&($t=Et[1],Et=Et[0]),Jt=Et,$t!="comment"&&(Vt.state=Ht[Vt.state]($t,mt,Vt)),Jt},indent:function(mt,Vt){var Et=mt.context,_e=Vt&&Vt.charAt(0),Pe=Et.indent;return Et.type=="prop"&&(_e=="}"||_e==")")&&(Et=Et.prev),Et.prev&&(_e=="}"&&(Et.type=="block"||Et.type=="top"||Et.type=="interpolation"||Et.type=="restricted_atBlock")?(Et=Et.prev,Pe=Et.indent):(_e==")"&&(Et.type=="parens"||Et.type=="atBlock_parens")||_e=="{"&&(Et.type=="at"||Et.type=="atBlock"))&&(Pe=Math.max(0,Et.indent-P))),Pe},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:Dt,fold:"brace"}});function ht(I){for(var N={},G=0;G<I.length;++G)N[I[G].toLowerCase()]=!0;return N}var tt=["domain","regexp","url","url-prefix"],q=ht(tt),x=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],M=ht(x),m=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme","dynamic-range","video-dynamic-range"],E=ht(m),w=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light","standard","high"],C=ht(w),O=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],L=ht(O),et=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],J=ht(et),U=["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],R=ht(U),D=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],k=ht(D),Z=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],ot=ht(Z),Y=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","conic-gradient","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-play-button","media-slider","media-sliderthumb","media-volume-slider","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeating-conic-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],it=ht(Y),T=tt.concat(x).concat(m).concat(w).concat(O).concat(et).concat(Z).concat(Y);ct.registerHelper("hintWords","css",T);function z(I,N){for(var G=!1,P;(P=I.next())!=null;){if(G&&P=="/"){N.tokenize=null;break}G=P=="*"}return["comment","comment"]}ct.defineMIME("text/css",{documentTypes:q,mediaTypes:M,mediaFeatures:E,mediaValueKeywords:C,propertyKeywords:L,nonStandardPropertyKeywords:J,fontProperties:R,counterDescriptors:k,colorKeywords:ot,valueKeywords:it,tokenHooks:{"/":function(I,N){return I.eat("*")?(N.tokenize=z,z(I,N)):!1}},name:"css"}),ct.defineMIME("text/x-scss",{mediaTypes:M,mediaFeatures:E,mediaValueKeywords:C,propertyKeywords:L,nonStandardPropertyKeywords:J,colorKeywords:ot,valueKeywords:it,fontProperties:R,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(I,N){return I.eat("/")?(I.skipToEnd(),["comment","comment"]):I.eat("*")?(N.tokenize=z,z(I,N)):["operator","operator"]},":":function(I){return I.match(/^\s*\{/,!1)?[null,null]:!1},$:function(I){return I.match(/^[\w-]+/),I.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(I){return I.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),ct.defineMIME("text/x-less",{mediaTypes:M,mediaFeatures:E,mediaValueKeywords:C,propertyKeywords:L,nonStandardPropertyKeywords:J,colorKeywords:ot,valueKeywords:it,fontProperties:R,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(I,N){return I.eat("/")?(I.skipToEnd(),["comment","comment"]):I.eat("*")?(N.tokenize=z,z(I,N)):["operator","operator"]},"@":function(I){return I.eat("{")?[null,"interpolation"]:I.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)?!1:(I.eatWhile(/[\w\\\-]/),I.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),ct.defineMIME("text/x-gss",{documentTypes:q,mediaTypes:M,mediaFeatures:E,propertyKeywords:L,nonStandardPropertyKeywords:J,fontProperties:R,counterDescriptors:k,colorKeywords:ot,valueKeywords:it,supportsAtComponent:!0,tokenHooks:{"/":function(I,N){return I.eat("*")?(N.tokenize=z,z(I,N)):!1}},name:"css",helperType:"gss"})})},531:(V,vt,bt)=>{(function(ct){ct(bt(631),bt(589),bt(876),bt(629))})(function(ct){var ht={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function tt(C,O,L){var et=C.current(),J=et.search(O);return J>-1?C.backUp(et.length-J):et.match(/<\/?$/)&&(C.backUp(et.length),C.match(O,!1)||C.match(et)),L}var q={};function x(C){var O=q[C];return O||(q[C]=new RegExp("\\s+"+C+`\\s*=\\s*('|")?([^'"]+)('|")?\\s*`))}function M(C,O){var L=C.match(x(O));return L?/^\s*(.*?)\s*$/.exec(L[2])[1]:""}function m(C,O){return new RegExp((O?"^":"")+"</\\s*"+C+"\\s*>","i")}function E(C,O){for(var L in C)for(var et=O[L]||(O[L]=[]),J=C[L],U=J.length-1;U>=0;U--)et.unshift(J[U])}function w(C,O){for(var L=0;L<C.length;L++){var et=C[L];if(!et[0]||et[1].test(M(O,et[0])))return et[2]}}ct.defineMode("htmlmixed",function(C,O){var L=ct.getMode(C,{name:"xml",htmlMode:!0,multilineTagIndentFactor:O.multilineTagIndentFactor,multilineTagIndentPastTag:O.multilineTagIndentPastTag,allowMissingTagName:O.allowMissingTagName}),et={},J=O&&O.tags,U=O&&O.scriptTypes;if(E(ht,et),J&&E(J,et),U)for(var R=U.length-1;R>=0;R--)et.script.unshift(["type",U[R].matches,U[R].mode]);function D(k,Z){var ot=L.token(k,Z.htmlState),Y=/\btag\b/.test(ot),it;if(Y&&!/[<>\s\/]/.test(k.current())&&(it=Z.htmlState.tagName&&Z.htmlState.tagName.toLowerCase())&&et.hasOwnProperty(it))Z.inTag=it+" ";else if(Z.inTag&&Y&&/>$/.test(k.current())){var T=/^([\S]+) (.*)/.exec(Z.inTag);Z.inTag=null;var z=k.current()==">"&&w(et[T[1]],T[2]),I=ct.getMode(C,z),N=m(T[1],!0),G=m(T[1],!1);Z.token=function(P,$){return P.match(N,!1)?($.token=D,$.localState=$.localMode=null,null):tt(P,G,$.localMode.token(P,$.localState))},Z.localMode=I,Z.localState=ct.startState(I,L.indent(Z.htmlState,"",""))}else Z.inTag&&(Z.inTag+=k.current(),k.eol()&&(Z.inTag+=" "));return ot}return{startState:function(){var k=ct.startState(L);return{token:D,inTag:null,localMode:null,localState:null,htmlState:k}},copyState:function(k){var Z;return k.localState&&(Z=ct.copyState(k.localMode,k.localState)),{token:k.token,inTag:k.inTag,localMode:k.localMode,localState:Z,htmlState:ct.copyState(L,k.htmlState)}},token:function(k,Z){return Z.token(k,Z)},indent:function(k,Z,ot){return!k.localMode||/^\s*<\//.test(Z)?L.indent(k.htmlState,Z,ot):k.localMode.indent?k.localMode.indent(k.localState,Z,ot):ct.Pass},innerMode:function(k){return{state:k.localState||k.htmlState,mode:k.localMode||L}}}},"xml","javascript","css"),ct.defineMIME("text/html","htmlmixed")})},876:(V,vt,bt)=>{(function(ct){ct(bt(631))})(function(ct){ct.defineMode("javascript",function(ht,tt){var q=ht.indentUnit,x=tt.statementIndent,M=tt.jsonld,m=tt.json||M,E=tt.trackScope!==!1,w=tt.typescript,C=tt.wordCharacters||/[\w$\xa1-\uffff]/,O=function(){function F(Ce){return{type:Ce,style:"keyword"}}var ut=F("keyword a"),Zt=F("keyword b"),re=F("keyword c"),Re=F("keyword d"),Je=F("operator"),or={type:"atom",style:"atom"};return{if:F("if"),while:ut,with:ut,else:Zt,do:Zt,try:Zt,finally:Zt,return:Re,break:Re,continue:Re,new:F("new"),delete:re,void:re,throw:re,debugger:F("debugger"),var:F("var"),const:F("var"),let:F("var"),function:F("function"),catch:F("catch"),for:F("for"),switch:F("switch"),case:F("case"),default:F("default"),in:Je,typeof:Je,instanceof:Je,true:or,false:or,null:or,undefined:or,NaN:or,Infinity:or,this:F("this"),class:F("class"),super:F("atom"),yield:re,export:F("export"),import:F("import"),extends:re,await:re}}(),L=/[+\-*&%=<>!?|~^@]/,et=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function J(F){for(var ut=!1,Zt,re=!1;(Zt=F.next())!=null;){if(!ut){if(Zt=="/"&&!re)return;Zt=="["?re=!0:re&&Zt=="]"&&(re=!1)}ut=!ut&&Zt=="\\"}}var U,R;function D(F,ut,Zt){return U=F,R=Zt,ut}function k(F,ut){var Zt=F.next();if(Zt=='"'||Zt=="'")return ut.tokenize=Z(Zt),ut.tokenize(F,ut);if(Zt=="."&&F.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return D("number","number");if(Zt=="."&&F.match(".."))return D("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(Zt))return D(Zt);if(Zt=="="&&F.eat(">"))return D("=>","operator");if(Zt=="0"&&F.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return D("number","number");if(/\d/.test(Zt))return F.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),D("number","number");if(Zt=="/")return F.eat("*")?(ut.tokenize=ot,ot(F,ut)):F.eat("/")?(F.skipToEnd(),D("comment","comment")):gn(F,ut,1)?(J(F),F.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),D("regexp","string-2")):(F.eat("="),D("operator","operator",F.current()));if(Zt=="`")return ut.tokenize=Y,Y(F,ut);if(Zt=="#"&&F.peek()=="!")return F.skipToEnd(),D("meta","meta");if(Zt=="#"&&F.eatWhile(C))return D("variable","property");if(Zt=="<"&&F.match("!--")||Zt=="-"&&F.match("->")&&!/\S/.test(F.string.slice(0,F.start)))return F.skipToEnd(),D("comment","comment");if(L.test(Zt))return(Zt!=">"||!ut.lexical||ut.lexical.type!=">")&&(F.eat("=")?(Zt=="!"||Zt=="=")&&F.eat("="):/[<>*+\-|&?]/.test(Zt)&&(F.eat(Zt),Zt==">"&&F.eat(Zt))),Zt=="?"&&F.eat(".")?D("."):D("operator","operator",F.current());if(C.test(Zt)){F.eatWhile(C);var re=F.current();if(ut.lastType!="."){if(O.propertyIsEnumerable(re)){var Re=O[re];return D(Re.type,Re.style,re)}if(re=="async"&&F.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return D("async","keyword",re)}return D("variable","variable",re)}}function Z(F){return function(ut,Zt){var re=!1,Re;if(M&&ut.peek()=="@"&&ut.match(et))return Zt.tokenize=k,D("jsonld-keyword","meta");for(;(Re=ut.next())!=null&&!(Re==F&&!re);)re=!re&&Re=="\\";return re||(Zt.tokenize=k),D("string","string")}}function ot(F,ut){for(var Zt=!1,re;re=F.next();){if(re=="/"&&Zt){ut.tokenize=k;break}Zt=re=="*"}return D("comment","comment")}function Y(F,ut){for(var Zt=!1,re;(re=F.next())!=null;){if(!Zt&&(re=="`"||re=="$"&&F.eat("{"))){ut.tokenize=k;break}Zt=!Zt&&re=="\\"}return D("quasi","string-2",F.current())}var it="([{}])";function T(F,ut){ut.fatArrowAt&&(ut.fatArrowAt=null);var Zt=F.string.indexOf("=>",F.start);if(!(Zt<0)){if(w){var re=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(F.string.slice(F.start,Zt));re&&(Zt=re.index)}for(var Re=0,Je=!1,or=Zt-1;or>=0;--or){var Ce=F.string.charAt(or),wr=it.indexOf(Ce);if(wr>=0&&wr<3){if(!Re){++or;break}if(--Re==0){Ce=="("&&(Je=!0);break}}else if(wr>=3&&wr<6)++Re;else if(C.test(Ce))Je=!0;else if(/["'\/`]/.test(Ce))for(;;--or){if(or==0)return;var wo=F.string.charAt(or-1);if(wo==Ce&&F.string.charAt(or-2)!="\\"){or--;break}}else if(Je&&!Re){++or;break}}Je&&!Re&&(ut.fatArrowAt=or)}}var z={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function I(F,ut,Zt,re,Re,Je){this.indented=F,this.column=ut,this.type=Zt,this.prev=Re,this.info=Je,re!=null&&(this.align=re)}function N(F,ut){if(!E)return!1;for(var Zt=F.localVars;Zt;Zt=Zt.next)if(Zt.name==ut)return!0;for(var re=F.context;re;re=re.prev)for(var Zt=re.vars;Zt;Zt=Zt.next)if(Zt.name==ut)return!0}function G(F,ut,Zt,re,Re){var Je=F.cc;for(P.state=F,P.stream=Re,P.marked=null,P.cc=Je,P.style=ut,F.lexical.hasOwnProperty("align")||(F.lexical.align=!0);;){var or=Je.length?Je.pop():m?ue:$t;if(or(Zt,re)){for(;Je.length&&Je[Je.length-1].lex;)Je.pop()();return P.marked?P.marked:Zt=="variable"&&N(F,re)?"variable-2":ut}}}var P={state:null,column:null,marked:null,cc:null};function $(){for(var F=arguments.length-1;F>=0;F--)P.cc.push(arguments[F])}function y(){return $.apply(null,arguments),!0}function rt(F,ut){for(var Zt=ut;Zt;Zt=Zt.next)if(Zt.name==F)return!0;return!1}function X(F){var ut=P.state;if(P.marked="def",!!E){if(ut.context){if(ut.lexical.info=="var"&&ut.context&&ut.context.block){var Zt=wt(F,ut.context);if(Zt!=null){ut.context=Zt;return}}else if(!rt(F,ut.localVars)){ut.localVars=new Ut(F,ut.localVars);return}}tt.globalVars&&!rt(F,ut.globalVars)&&(ut.globalVars=new Ut(F,ut.globalVars))}}function wt(F,ut){if(ut)if(ut.block){var Zt=wt(F,ut.prev);return Zt?Zt==ut.prev?ut:new Ct(Zt,ut.vars,!0):null}else return rt(F,ut.vars)?ut:new Ct(ut.prev,new Ut(F,ut.vars),!1);else return null}function Kt(F){return F=="public"||F=="private"||F=="protected"||F=="abstract"||F=="readonly"}function Ct(F,ut,Zt){this.prev=F,this.vars=ut,this.block=Zt}function Ut(F,ut){this.name=F,this.next=ut}var zt=new Ut("this",new Ut("arguments",null));function Nt(){P.state.context=new Ct(P.state.context,P.state.localVars,!1),P.state.localVars=zt}function Qt(){P.state.context=new Ct(P.state.context,P.state.localVars,!0),P.state.localVars=null}Nt.lex=Qt.lex=!0;function Ot(){P.state.localVars=P.state.context.vars,P.state.context=P.state.context.prev}Ot.lex=!0;function Dt(F,ut){var Zt=function(){var re=P.state,Re=re.indented;if(re.lexical.type=="stat")Re=re.lexical.indented;else for(var Je=re.lexical;Je&&Je.type==")"&&Je.align;Je=Je.prev)Re=Je.indented;re.lexical=new I(Re,P.stream.column(),F,null,re.lexical,ut)};return Zt.lex=!0,Zt}function Wt(){var F=P.state;F.lexical.prev&&(F.lexical.type==")"&&(F.indented=F.lexical.indented),F.lexical=F.lexical.prev)}Wt.lex=!0;function oe(F){function ut(Zt){return Zt==F?y():F==";"||Zt=="}"||Zt==")"||Zt=="]"?$():y(ut)}return ut}function $t(F,ut){return F=="var"?y(Dt("vardef",ut),je,oe(";"),Wt):F=="keyword a"?y(Dt("form"),tr,$t,Wt):F=="keyword b"?y(Dt("form"),$t,Wt):F=="keyword d"?P.stream.match(/^\s*$/,!1)?y():y(Dt("stat"),rr,oe(";"),Wt):F=="debugger"?y(oe(";")):F=="{"?y(Dt("}"),Qt,Ae,Wt,Ot):F==";"?y():F=="if"?(P.state.lexical.info=="else"&&P.state.cc[P.state.cc.length-1]==Wt&&P.state.cc.pop()(),y(Dt("form"),tr,$t,Wt,vn)):F=="function"?y(Cr):F=="for"?y(Dt("form"),Qt,Cn,$t,Ot,Wt):F=="class"||w&&ut=="interface"?(P.marked="keyword",y(Dt("form",F=="class"?F:ut),Vn,Wt)):F=="variable"?w&&ut=="declare"?(P.marked="keyword",y($t)):w&&(ut=="module"||ut=="enum"||ut=="type")&&P.stream.match(/^\s*\w/,!1)?(P.marked="keyword",ut=="enum"?y(Xe):ut=="type"?y(Sn,oe("operator"),Le,oe(";")):y(Dt("form"),Ye,oe("{"),Dt("}"),Ae,Wt,Wt)):w&&ut=="namespace"?(P.marked="keyword",y(Dt("form"),ue,$t,Wt)):w&&ut=="abstract"?(P.marked="keyword",y($t)):y(Dt("stat"),_e):F=="switch"?y(Dt("form"),tr,oe("{"),Dt("}","switch"),Qt,Ae,Wt,Wt,Ot):F=="case"?y(ue,oe(":")):F=="default"?y(oe(":")):F=="catch"?y(Dt("form"),Nt,Jt,$t,Wt,Ot):F=="export"?y(Dt("stat"),Mn,Wt):F=="import"?y(Dt("stat"),Lr,Wt):F=="async"?y($t):ut=="@"?y(ue,$t):$(Dt("stat"),ue,oe(";"),Wt)}function Jt(F){if(F=="(")return y($n,oe(")"))}function ue(F,ut){return ir(F,ut,!1)}function Ne(F,ut){return ir(F,ut,!0)}function tr(F){return F!="("?$():y(Dt(")"),rr,oe(")"),Wt)}function ir(F,ut,Zt){if(P.state.fatArrowAt==P.stream.start){var re=Zt?Ht:At;if(F=="(")return y(Nt,Dt(")"),me($n,")"),Wt,oe("=>"),re,Ot);if(F=="variable")return $(Nt,Ye,oe("=>"),re,Ot)}var Re=Zt?K:fe;return z.hasOwnProperty(F)?y(Re):F=="function"?y(Cr,Re):F=="class"||w&&ut=="interface"?(P.marked="keyword",y(Dt("form"),jo,Wt)):F=="keyword c"||F=="async"?y(Zt?Ne:ue):F=="("?y(Dt(")"),rr,oe(")"),Wt,Re):F=="operator"||F=="spread"?y(Zt?Ne:ue):F=="["?y(Dt("]"),Nr,Wt,Re):F=="{"?qe(Se,"}",null,Re):F=="quasi"?$(st,Re):F=="new"?y(mt(Zt)):y()}function rr(F){return F.match(/[;\}\)\],]/)?$():$(ue)}function fe(F,ut){return F==","?y(rr):K(F,ut,!1)}function K(F,ut,Zt){var re=Zt==!1?fe:K,Re=Zt==!1?ue:Ne;if(F=="=>")return y(Nt,Zt?Ht:At,Ot);if(F=="operator")return/\+\+|--/.test(ut)||w&&ut=="!"?y(re):w&&ut=="<"&&P.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?y(Dt(">"),me(Le,">"),Wt,re):ut=="?"?y(ue,oe(":"),Re):y(Re);if(F=="quasi")return $(st,re);if(F!=";"){if(F=="(")return qe(Ne,")","call",re);if(F==".")return y(Pe,re);if(F=="[")return y(Dt("]"),rr,oe("]"),Wt,re);if(w&&ut=="as")return P.marked="keyword",y(Le,re);if(F=="regexp")return P.state.lastType=P.marked="operator",P.stream.backUp(P.stream.pos-P.stream.start-1),y(Re)}}function st(F,ut){return F!="quasi"?$():ut.slice(ut.length-2)!="${"?y(st):y(rr,yt)}function yt(F){if(F=="}")return P.marked="string-2",P.state.tokenize=Y,y(st)}function At(F){return T(P.stream,P.state),$(F=="{"?$t:ue)}function Ht(F){return T(P.stream,P.state),$(F=="{"?$t:Ne)}function mt(F){return function(ut){return ut=="."?y(F?Et:Vt):ut=="variable"&&w?y(Lt,F?K:fe):$(F?Ne:ue)}}function Vt(F,ut){if(ut=="target")return P.marked="keyword",y(fe)}function Et(F,ut){if(ut=="target")return P.marked="keyword",y(K)}function _e(F){return F==":"?y(Wt,$t):$(fe,oe(";"),Wt)}function Pe(F){if(F=="variable")return P.marked="property",y()}function Se(F,ut){if(F=="async")return P.marked="property",y(Se);if(F=="variable"||P.style=="keyword"){if(P.marked="property",ut=="get"||ut=="set")return y(Ve);var Zt;return w&&P.state.fatArrowAt==P.stream.start&&(Zt=P.stream.match(/^\s*:\s*/,!1))&&(P.state.fatArrowAt=P.stream.pos+Zt[0].length),y(Ue)}else{if(F=="number"||F=="string")return P.marked=M?"property":P.style+" property",y(Ue);if(F=="jsonld-keyword")return y(Ue);if(w&&Kt(ut))return P.marked="keyword",y(Se);if(F=="[")return y(ue,Ze,oe("]"),Ue);if(F=="spread")return y(Ne,Ue);if(ut=="*")return P.marked="keyword",y(Se);if(F==":")return $(Ue)}}function Ve(F){return F!="variable"?$(Ue):(P.marked="property",y(Cr))}function Ue(F){if(F==":")return y(Ne);if(F=="(")return $(Cr)}function me(F,ut,Zt){function re(Re,Je){if(Zt?Zt.indexOf(Re)>-1:Re==","){var or=P.state.lexical;return or.info=="call"&&(or.pos=(or.pos||0)+1),y(function(Ce,wr){return Ce==ut||wr==ut?$():$(F)},re)}return Re==ut||Je==ut?y():Zt&&Zt.indexOf(";")>-1?$(F):y(oe(ut))}return function(Re,Je){return Re==ut||Je==ut?y():$(F,re)}}function qe(F,ut,Zt){for(var re=3;re<arguments.length;re++)P.cc.push(arguments[re]);return y(Dt(ut,Zt),me(F,ut),Wt)}function Ae(F){return F=="}"?y():$($t,Ae)}function Ze(F,ut){if(w){if(F==":")return y(Le);if(ut=="?")return y(Ze)}}function Ar(F,ut){if(w&&(F==":"||ut=="in"))return y(Le)}function xe(F){if(w&&F==":")return P.stream.match(/^\s*\w+\s+is\b/,!1)?y(ue,Tr,Le):y(Le)}function Tr(F,ut){if(ut=="is")return P.marked="keyword",y()}function Le(F,ut){if(ut=="keyof"||ut=="typeof"||ut=="infer"||ut=="readonly")return P.marked="keyword",y(ut=="typeof"?Ne:Le);if(F=="variable"||ut=="void")return P.marked="type",y(Tt);if(ut=="|"||ut=="&")return y(Le);if(F=="string"||F=="number"||F=="atom")return y(Tt);if(F=="[")return y(Dt("]"),me(Le,"]",","),Wt,Tt);if(F=="{")return y(Dt("}"),fr,Wt,Tt);if(F=="(")return y(me(at,")"),lr,Tt);if(F=="<")return y(me(Le,">"),Le);if(F=="quasi")return $(ee,Tt)}function lr(F){if(F=="=>")return y(Le)}function fr(F){return F.match(/[\}\)\]]/)?y():F==","||F==";"?y(fr):$(dr,fr)}function dr(F,ut){if(F=="variable"||P.style=="keyword")return P.marked="property",y(dr);if(ut=="?"||F=="number"||F=="string")return y(dr);if(F==":")return y(Le);if(F=="[")return y(oe("variable"),Ar,oe("]"),dr);if(F=="(")return $(zr,dr);if(!F.match(/[;\}\)\],]/))return y()}function ee(F,ut){return F!="quasi"?$():ut.slice(ut.length-2)!="${"?y(ee):y(Le,Kn)}function Kn(F){if(F=="}")return P.marked="string-2",P.state.tokenize=Y,y(ee)}function at(F,ut){return F=="variable"&&P.stream.match(/^\s*[?:]/,!1)||ut=="?"?y(at):F==":"?y(Le):F=="spread"?y(at):$(Le)}function Tt(F,ut){if(ut=="<")return y(Dt(">"),me(Le,">"),Wt,Tt);if(ut=="|"||F=="."||ut=="&")return y(Le);if(F=="[")return y(Le,oe("]"),Tt);if(ut=="extends"||ut=="implements")return P.marked="keyword",y(Le);if(ut=="?")return y(Le,oe(":"),Le)}function Lt(F,ut){if(ut=="<")return y(Dt(">"),me(Le,">"),Wt,Tt)}function Yt(){return $(Le,ve)}function ve(F,ut){if(ut=="=")return y(Le)}function je(F,ut){return ut=="enum"?(P.marked="keyword",y(Xe)):$(Ye,Ze,xr,Lo)}function Ye(F,ut){if(w&&Kt(ut))return P.marked="keyword",y(Ye);if(F=="variable")return X(ut),y();if(F=="spread")return y(Ye);if(F=="[")return qe(xn,"]");if(F=="{")return qe(ln,"}")}function ln(F,ut){return F=="variable"&&!P.stream.match(/^\s*:/,!1)?(X(ut),y(xr)):(F=="variable"&&(P.marked="property"),F=="spread"?y(Ye):F=="}"?$():F=="["?y(ue,oe("]"),oe(":"),ln):y(oe(":"),Ye,xr))}function xn(){return $(Ye,xr)}function xr(F,ut){if(ut=="=")return y(Ne)}function Lo(F){if(F==",")return y(je)}function vn(F,ut){if(F=="keyword b"&&ut=="else")return y(Dt("form","else"),$t,Wt)}function Cn(F,ut){if(ut=="await")return y(Cn);if(F=="(")return y(Dt(")"),bo,Wt)}function bo(F){return F=="var"?y(je,Mr):F=="variable"?y(Mr):$(Mr)}function Mr(F,ut){return F==")"?y():F==";"?y(Mr):ut=="in"||ut=="of"?(P.marked="keyword",y(ue,Mr)):$(ue,Mr)}function Cr(F,ut){if(ut=="*")return P.marked="keyword",y(Cr);if(F=="variable")return X(ut),y(Cr);if(F=="(")return y(Nt,Dt(")"),me($n,")"),Wt,xe,$t,Ot);if(w&&ut=="<")return y(Dt(">"),me(Yt,">"),Wt,Cr)}function zr(F,ut){if(ut=="*")return P.marked="keyword",y(zr);if(F=="variable")return X(ut),y(zr);if(F=="(")return y(Nt,Dt(")"),me($n,")"),Wt,xe,Ot);if(w&&ut=="<")return y(Dt(">"),me(Yt,">"),Wt,zr)}function Sn(F,ut){if(F=="keyword"||F=="variable")return P.marked="type",y(Sn);if(ut=="<")return y(Dt(">"),me(Yt,">"),Wt)}function $n(F,ut){return ut=="@"&&y(ue,$n),F=="spread"?y($n):w&&Kt(ut)?(P.marked="keyword",y($n)):w&&F=="this"?y(Ze,xr):$(Ye,Ze,xr)}function jo(F,ut){return F=="variable"?Vn(F,ut):Qr(F,ut)}function Vn(F,ut){if(F=="variable")return X(ut),y(Qr)}function Qr(F,ut){if(ut=="<")return y(Dt(">"),me(Yt,">"),Wt,Qr);if(ut=="extends"||ut=="implements"||w&&F==",")return ut=="implements"&&(P.marked="keyword"),y(w?Le:ue,Qr);if(F=="{")return y(Dt("}"),Wr,Wt)}function Wr(F,ut){if(F=="async"||F=="variable"&&(ut=="static"||ut=="get"||ut=="set"||w&&Kt(ut))&&P.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1))return P.marked="keyword",y(Wr);if(F=="variable"||P.style=="keyword")return P.marked="property",y(qn,Wr);if(F=="number"||F=="string")return y(qn,Wr);if(F=="[")return y(ue,Ze,oe("]"),qn,Wr);if(ut=="*")return P.marked="keyword",y(Wr);if(w&&F=="(")return $(zr,Wr);if(F==";"||F==",")return y(Wr);if(F=="}")return y();if(ut=="@")return y(ue,Wr)}function qn(F,ut){if(ut=="!"||ut=="?")return y(qn);if(F==":")return y(Le,xr);if(ut=="=")return y(Ne);var Zt=P.state.lexical.prev,re=Zt&&Zt.info=="interface";return $(re?zr:Cr)}function Mn(F,ut){return ut=="*"?(P.marked="keyword",y(yr,oe(";"))):ut=="default"?(P.marked="keyword",y(ue,oe(";"))):F=="{"?y(me(On,"}"),yr,oe(";")):$($t)}function On(F,ut){if(ut=="as")return P.marked="keyword",y(oe("variable"));if(F=="variable")return $(Ne,On)}function Lr(F){return F=="string"?y():F=="("?$(ue):F=="."?$(fe):$(ar,we,yr)}function ar(F,ut){return F=="{"?qe(ar,"}"):(F=="variable"&&X(ut),ut=="*"&&(P.marked="keyword"),y(cn))}function we(F){if(F==",")return y(ar,we)}function cn(F,ut){if(ut=="as")return P.marked="keyword",y(ar)}function yr(F,ut){if(ut=="from")return P.marked="keyword",y(ue)}function Nr(F){return F=="]"?y():$(me(Ne,"]"))}function Xe(){return $(Dt("form"),Ye,oe("{"),Dt("}"),me(tn,"}"),Wt,Wt)}function tn(){return $(Ye,xr)}function jr(F,ut){return F.lastType=="operator"||F.lastType==","||L.test(ut.charAt(0))||/[,.]/.test(ut.charAt(0))}function gn(F,ut,Zt){return ut.tokenize==k&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(ut.lastType)||ut.lastType=="quasi"&&/\{\s*$/.test(F.string.slice(0,F.pos-(Zt||0)))}return{startState:function(F){var ut={tokenize:k,lastType:"sof",cc:[],lexical:new I((F||0)-q,0,"block",!1),localVars:tt.localVars,context:tt.localVars&&new Ct(null,null,!1),indented:F||0};return tt.globalVars&&typeof tt.globalVars=="object"&&(ut.globalVars=tt.globalVars),ut},token:function(F,ut){if(F.sol()&&(ut.lexical.hasOwnProperty("align")||(ut.lexical.align=!1),ut.indented=F.indentation(),T(F,ut)),ut.tokenize!=ot&&F.eatSpace())return null;var Zt=ut.tokenize(F,ut);return U=="comment"?Zt:(ut.lastType=U=="operator"&&(R=="++"||R=="--")?"incdec":U,G(ut,Zt,U,R,F))},indent:function(F,ut){if(F.tokenize==ot||F.tokenize==Y)return ct.Pass;if(F.tokenize!=k)return 0;var Zt=ut&&ut.charAt(0),re=F.lexical,Re;if(!/^\s*else\b/.test(ut))for(var Je=F.cc.length-1;Je>=0;--Je){var or=F.cc[Je];if(or==Wt)re=re.prev;else if(or!=vn&&or!=Ot)break}for(;(re.type=="stat"||re.type=="form")&&(Zt=="}"||(Re=F.cc[F.cc.length-1])&&(Re==fe||Re==K)&&!/^[,\.=+\-*:?[\(]/.test(ut));)re=re.prev;x&&re.type==")"&&re.prev.type=="stat"&&(re=re.prev);var Ce=re.type,wr=Zt==Ce;return Ce=="vardef"?re.indented+(F.lastType=="operator"||F.lastType==","?re.info.length+1:0):Ce=="form"&&Zt=="{"?re.indented:Ce=="form"?re.indented+q:Ce=="stat"?re.indented+(jr(F,ut)?x||q:0):re.info=="switch"&&!wr&&tt.doubleIndentSwitch!=!1?re.indented+(/^(?:case|default)\b/.test(ut)?q:2*q):re.align?re.column+(wr?0:1):re.indented+(wr?0:q)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:m?null:"/*",blockCommentEnd:m?null:"*/",blockCommentContinue:m?null:" * ",lineComment:m?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:m?"json":"javascript",jsonldMode:M,jsonMode:m,expressionAllowed:gn,skipExpression:function(F){G(F,"atom","atom","true",new ct.StringStream("",2,null))}}}),ct.registerHelper("wordChars","javascript",/[\w$]/),ct.defineMIME("text/javascript","javascript"),ct.defineMIME("text/ecmascript","javascript"),ct.defineMIME("application/javascript","javascript"),ct.defineMIME("application/x-javascript","javascript"),ct.defineMIME("application/ecmascript","javascript"),ct.defineMIME("application/json",{name:"javascript",json:!0}),ct.defineMIME("application/x-json",{name:"javascript",json:!0}),ct.defineMIME("application/manifest+json",{name:"javascript",json:!0}),ct.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),ct.defineMIME("text/typescript",{name:"javascript",typescript:!0}),ct.defineMIME("application/typescript",{name:"javascript",typescript:!0})})},589:(V,vt,bt)=>{(function(ct){ct(bt(631))})(function(ct){var ht={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},tt={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};ct.defineMode("xml",function(q,x){var M=q.indentUnit,m={},E=x.htmlMode?ht:tt;for(var w in E)m[w]=E[w];for(var w in x)m[w]=x[w];var C,O;function L(y,rt){function X(Ct){return rt.tokenize=Ct,Ct(y,rt)}var wt=y.next();if(wt=="<")return y.eat("!")?y.eat("[")?y.match("CDATA[")?X(U("atom","]]>")):null:y.match("--")?X(U("comment","-->")):y.match("DOCTYPE",!0,!0)?(y.eatWhile(/[\w\._\-]/),X(R(1))):null:y.eat("?")?(y.eatWhile(/[\w\._\-]/),rt.tokenize=U("meta","?>"),"meta"):(C=y.eat("/")?"closeTag":"openTag",rt.tokenize=et,"tag bracket");if(wt=="&"){var Kt;return y.eat("#")?y.eat("x")?Kt=y.eatWhile(/[a-fA-F\d]/)&&y.eat(";"):Kt=y.eatWhile(/[\d]/)&&y.eat(";"):Kt=y.eatWhile(/[\w\.\-:]/)&&y.eat(";"),Kt?"atom":"error"}else return y.eatWhile(/[^&<]/),null}L.isInText=!0;function et(y,rt){var X=y.next();if(X==">"||X=="/"&&y.eat(">"))return rt.tokenize=L,C=X==">"?"endTag":"selfcloseTag","tag bracket";if(X=="=")return C="equals",null;if(X=="<"){rt.tokenize=L,rt.state=Y,rt.tagName=rt.tagStart=null;var wt=rt.tokenize(y,rt);return wt?wt+" tag error":"tag error"}else return/[\'\"]/.test(X)?(rt.tokenize=J(X),rt.stringStartCol=y.column(),rt.tokenize(y,rt)):(y.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function J(y){var rt=function(X,wt){for(;!X.eol();)if(X.next()==y){wt.tokenize=et;break}return"string"};return rt.isInAttribute=!0,rt}function U(y,rt){return function(X,wt){for(;!X.eol();){if(X.match(rt)){wt.tokenize=L;break}X.next()}return y}}function R(y){return function(rt,X){for(var wt;(wt=rt.next())!=null;){if(wt=="<")return X.tokenize=R(y+1),X.tokenize(rt,X);if(wt==">")if(y==1){X.tokenize=L;break}else return X.tokenize=R(y-1),X.tokenize(rt,X)}return"meta"}}function D(y){return y&&y.toLowerCase()}function k(y,rt,X){this.prev=y.context,this.tagName=rt||"",this.indent=y.indented,this.startOfLine=X,(m.doNotIndent.hasOwnProperty(rt)||y.context&&y.context.noIndent)&&(this.noIndent=!0)}function Z(y){y.context&&(y.context=y.context.prev)}function ot(y,rt){for(var X;;){if(!y.context||(X=y.context.tagName,!m.contextGrabbers.hasOwnProperty(D(X))||!m.contextGrabbers[D(X)].hasOwnProperty(D(rt))))return;Z(y)}}function Y(y,rt,X){return y=="openTag"?(X.tagStart=rt.column(),it):y=="closeTag"?T:Y}function it(y,rt,X){return y=="word"?(X.tagName=rt.current(),O="tag",N):m.allowMissingTagName&&y=="endTag"?(O="tag bracket",N(y,rt,X)):(O="error",it)}function T(y,rt,X){if(y=="word"){var wt=rt.current();return X.context&&X.context.tagName!=wt&&m.implicitlyClosed.hasOwnProperty(D(X.context.tagName))&&Z(X),X.context&&X.context.tagName==wt||m.matchClosing===!1?(O="tag",z):(O="tag error",I)}else return m.allowMissingTagName&&y=="endTag"?(O="tag bracket",z(y,rt,X)):(O="error",I)}function z(y,rt,X){return y!="endTag"?(O="error",z):(Z(X),Y)}function I(y,rt,X){return O="error",z(y,rt,X)}function N(y,rt,X){if(y=="word")return O="attribute",G;if(y=="endTag"||y=="selfcloseTag"){var wt=X.tagName,Kt=X.tagStart;return X.tagName=X.tagStart=null,y=="selfcloseTag"||m.autoSelfClosers.hasOwnProperty(D(wt))?ot(X,wt):(ot(X,wt),X.context=new k(X,wt,Kt==X.indented)),Y}return O="error",N}function G(y,rt,X){return y=="equals"?P:(m.allowMissing||(O="error"),N(y,rt,X))}function P(y,rt,X){return y=="string"?$:y=="word"&&m.allowUnquoted?(O="string",N):(O="error",N(y,rt,X))}function $(y,rt,X){return y=="string"?$:N(y,rt,X)}return{startState:function(y){var rt={tokenize:L,state:Y,indented:y||0,tagName:null,tagStart:null,context:null};return y!=null&&(rt.baseIndent=y),rt},token:function(y,rt){if(!rt.tagName&&y.sol()&&(rt.indented=y.indentation()),y.eatSpace())return null;C=null;var X=rt.tokenize(y,rt);return(X||C)&&X!="comment"&&(O=null,rt.state=rt.state(C||X,y,rt),O&&(X=O=="error"?X+" error":O)),X},indent:function(y,rt,X){var wt=y.context;if(y.tokenize.isInAttribute)return y.tagStart==y.indented?y.stringStartCol+1:y.indented+M;if(wt&&wt.noIndent)return ct.Pass;if(y.tokenize!=et&&y.tokenize!=L)return X?X.match(/^(\s*)/)[0].length:0;if(y.tagName)return m.multilineTagIndentPastTag!==!1?y.tagStart+y.tagName.length+2:y.tagStart+M*(m.multilineTagIndentFactor||1);if(m.alignCDATA&&/<!\[CDATA\[/.test(rt))return 0;var Kt=rt&&/^<(\/)?([\w_:\.-]*)/.exec(rt);if(Kt&&Kt[1])for(;wt;)if(wt.tagName==Kt[2]){wt=wt.prev;break}else if(m.implicitlyClosed.hasOwnProperty(D(wt.tagName)))wt=wt.prev;else break;else if(Kt)for(;wt;){var Ct=m.contextGrabbers[D(wt.tagName)];if(Ct&&Ct.hasOwnProperty(D(Kt[2])))wt=wt.prev;else break}for(;wt&&wt.prev&&!wt.startOfLine;)wt=wt.prev;return wt?wt.indent+M:y.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:m.htmlMode?"html":"xml",helperType:m.htmlMode?"html":"xml",skipAttribute:function(y){y.state==P&&(y.state=N)},xmlCurrentTag:function(y){return y.tagName?{name:y.tagName,close:y.type=="closeTag"}:null},xmlCurrentContext:function(y){for(var rt=[],X=y.context;X;X=X.prev)rt.push(X.tagName);return rt.reverse()}}}),ct.defineMIME("text/xml","xml"),ct.defineMIME("application/xml","xml"),ct.mimeModes.hasOwnProperty("text/html")||ct.defineMIME("text/html",{name:"xml",htmlMode:!0})})},642:(V,vt,bt)=>{bt.d(vt,{Z:()=>q});var ct=bt(346),ht=function(){var x=function(M,m){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,w){E.__proto__=w}||function(E,w){for(var C in w)Object.prototype.hasOwnProperty.call(w,C)&&(E[C]=w[C])},x(M,m)};return function(M,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");x(M,m);function E(){this.constructor=M}M.prototype=m===null?Object.create(m):(E.prototype=m.prototype,new E)}}(),tt=function(x){ht(M,x);function M(m,E,w){var C=x.call(this,E,w)||this;return C._module=m,C}return Object.defineProperty(M.prototype,"module",{get:function(){return this._module},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"config",{get:function(){return this._module.config},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"em",{get:function(){return this._module.em},enumerable:!1,configurable:!0}),M}(ct.Hn);const q=tt},675:(V,vt,bt)=>{bt.d(vt,{Z:()=>x,q:()=>tt});var ct=bt(642),ht=function(){var M=function(m,E){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,C){w.__proto__=C}||function(w,C){for(var O in C)Object.prototype.hasOwnProperty.call(C,O)&&(w[O]=C[O])},M(m,E)};return function(m,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");M(m,E);function w(){this.constructor=m}m.prototype=E===null?Object.create(E):(w.prototype=E.prototype,new w)}}(),tt;(function(M){M.Select="select",M.Hover="hover",M.Spacing="spacing",M.Target="target",M.Resize="resize"})(tt||(tt={}));var q=function(M){ht(m,M);function m(){return M!==null&&M.apply(this,arguments)||this}return m.prototype.defaults=function(){return{id:"",type:""}},Object.defineProperty(m.prototype,"type",{get:function(){return this.get("type")||""},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"component",{get:function(){var E,w=this.get("component");return w||((E=this.get("componentView"))===null||E===void 0?void 0:E.model)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"componentView",{get:function(){var E,w=this.get("componentView");return w||((E=this.get("component"))===null||E===void 0?void 0:E.getView())},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"el",{get:function(){var E;return(E=this.componentView)===null||E===void 0?void 0:E.el},enumerable:!1,configurable:!0}),m.prototype.getBoxRect=function(E){var w=this,C=w.el,O=w.em,L=O.Canvas.getCanvasView(),et=this.get("boxRect");return et||(C&&L?L.getElBoxRect(C,E):{x:0,y:0,width:0,height:0})},m.prototype.getStyle=function(E){E===void 0&&(E={});var w=E.boxRect||this.getBoxRect(E),C=w.width,O=w.height,L=w.x,et=w.y;return{width:"".concat(C,"px"),height:"".concat(O,"px"),top:"0",left:"0",position:"absolute",translate:"".concat(L,"px ").concat(et,"px")}},m.prototype.isType=function(E){return this.type===E},m}(ct.Z);const x=q},713:(V,vt,bt)=>{bt.d(vt,{Z:()=>ht});var ct;(function(tt){tt.run="command:run",tt._run="run",tt.runCommand="command:run:",tt._runCommand="run:",tt.runBeforeCommand="command:run:before:",tt.abort="command:abort:",tt._abort="abort:",tt.stop="command:stop",tt._stop="stop",tt.stopCommand="command:stop:",tt._stopCommand="stop:",tt.stopBeforeCommand="command:stop:before:"})(ct||(ct={}));const ht=ct},858:(V,vt,bt)=>{bt.r(vt),bt.d(vt,{default:()=>ct});const ct={run:function(ht){ht.Components.clear(),ht.Css.clear()}}},884:(V,vt,bt)=>{bt.r(vt),bt.d(vt,{default:()=>q});var ct=bt(50),ht=bt(668),tt=bt(491);const q={run:function(x){(0,ct.bindAll)(this,"onKeyUp","enableDragger","disableDragger"),this.editor=x,this.canvasModel=this.canvas.getCanvasView().model,this.toggleMove(1)},stop:function(x){this.toggleMove(),this.disableDragger()},onKeyUp:function(x){(0,tt.sN)(x)===" "&&this.editor.stopCommand(this.id)},enableDragger:function(x){this.toggleDragger(1,x)},disableDragger:function(x){this.toggleDragger(0,x)},toggleDragger:function(x,M){var m=this,E=m.canvasModel,w=m.em,C=this.dragger,O=x?"add":"remove";this.getCanvas().classList[O]("".concat(this.ppfx,"is__grabbing")),C||(C=new ht.Z({getPosition:function(){return{x:E.get("x"),y:E.get("y")}},setPosition:function(L){var et=L.x,J=L.y;E.set({x:et,y:J})},onStart:function(L,et){w.trigger("canvas:move:start",et)},onDrag:function(L,et){w.trigger("canvas:move",et)},onEnd:function(L,et){w.trigger("canvas:move:end",et)}}),this.dragger=C),x?C.start(M):C.stop()},toggleMove:function(x){var M=this.ppfx,m=x?"add":"remove",E=x?"on":"off",w={on:tt.on,off:tt.S1},C=this.getCanvas(),O=["".concat(M,"is__grab")];!x&&O.push("".concat(M,"is__grabbing")),O.forEach(function(L){return C.classList[m](L)}),w[E](document,"keyup",this.onKeyUp),w[E](C,"mousedown",this.enableDragger),w[E](document,"mouseup",this.disableDragger)}}},790:(V,vt,bt)=>{bt.r(vt),bt.d(vt,{default:()=>M,defineCommand:()=>q});var ct=bt(346),ht=bt(713),tt=function(){var m=function(E,w){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,O){C.__proto__=O}||function(C,O){for(var L in O)Object.prototype.hasOwnProperty.call(O,L)&&(C[L]=O[L])},m(E,w)};return function(E,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");m(E,w);function C(){this.constructor=E}E.prototype=w===null?Object.create(w):(C.prototype=w.prototype,new C)}}();function q(m){return m}var x=function(m){tt(E,m);function E(w){var C=m.call(this,0)||this;C.config=w||{},C.em=C.config.em||{};var O=C.config.stylePrefix;return C.pfx=O,C.ppfx=C.config.pStylePrefix,C.hoverClass="".concat(O,"hover"),C.badgeClass="".concat(O,"badge"),C.plhClass="".concat(O,"placeholder"),C.freezClass="".concat(C.ppfx,"freezed"),C.canvas=C.em.Canvas,C.init(C.config),C}return E.prototype.onFrameScroll=function(w){},E.prototype.getCanvas=function(){return this.canvas.getElement()},E.prototype.getCanvasBody=function(){return this.canvas.getBody()},E.prototype.getCanvasTools=function(){return this.canvas.getToolsEl()},E.prototype.offset=function(w){var C=w.getBoundingClientRect();return{top:C.top+w.ownerDocument.body.scrollTop,left:C.left+w.ownerDocument.body.scrollLeft}},E.prototype.init=function(w){},E.prototype.callRun=function(w,C){C===void 0&&(C={});var O=this.id;if(w.trigger("".concat(ht.Z.runBeforeCommand).concat(O),{options:C}),w.trigger("".concat(ht.Z._runCommand).concat(O,":before"),C),C.abort){w.trigger("".concat(ht.Z.abort).concat(O),{options:C}),w.trigger("".concat(ht.Z._abort).concat(O),C);return}var L=C.sender||w,et=this.run(w,L,C),J={id:O,result:et,options:C};return w.trigger("".concat(ht.Z.runCommand).concat(O),J),w.trigger(ht.Z.run,J),w.trigger("".concat(ht.Z._runCommand).concat(O),et,C),w.trigger(ht.Z._run,O,et,C),et},E.prototype.callStop=function(w,C){C===void 0&&(C={});var O=this.id,L=C.sender||w;w.trigger("".concat(ht.Z.stopBeforeCommand).concat(O),{options:C}),w.trigger("".concat(ht.Z._stopCommand).concat(O,":before"),C);var et=this.stop(w,L,C),J={id:O,result:et,options:C};return w.trigger("".concat(ht.Z.stopCommand).concat(O),J),w.trigger(ht.Z.stop,J),w.trigger("".concat(ht.Z._stopCommand).concat(O),et,C),w.trigger(ht.Z._stop,O,et,C),et},E.prototype.stopCommand=function(w){this.em.Commands.stop(this.id,w)},E.prototype.run=function(w,C,O){},E.prototype.stop=function(w,C,O){},E}(ct.Hn);const M=x},180:(V,vt,bt)=>{bt.r(vt),bt.d(vt,{default:()=>q});var ct=bt(50),ht=function(x,M,m){if(m||arguments.length===2)for(var E=0,w=M.length,C;E<w;E++)(C||!(E in M))&&(C||(C=Array.prototype.slice.call(M,0,E)),C[E]=M[E]);return x.concat(C||Array.prototype.slice.call(M))},tt={run:function(x,M,m){var E=this;m===void 0&&(m={});var w=[],C=m.component||x.getSelectedAll();return C=(0,ct.isArray)(C)?ht([],C,!0):[C],C.filter(Boolean).forEach(function(O){var L,et;if(!O.get("removable"))return E.em.logWarning("The element is not removable",{component:O});w.push(O);var J=((et=(L=O.delegate)===null||L===void 0?void 0:L.remove)===null||et===void 0?void 0:et.call(L,O))||O;J.remove()}),x.selectRemove(w),w}};const q=tt},544:(V,vt,bt)=>{bt.r(vt),bt.d(vt,{default:()=>x});var ct=bt(50),ht=bt(668),tt=function(){return tt=Object.assign||function(M){for(var m,E=1,w=arguments.length;E<w;E++){m=arguments[E];for(var C in m)Object.prototype.hasOwnProperty.call(m,C)&&(M[C]=m[C])}return M},tt.apply(this,arguments)},q="dmode";const x={run:function(M,m,E){var w=this;E===void 0&&(E={}),(0,ct.bindAll)(this,"setPosition","onStart","onDrag","onEnd","getPosition","getGuidesStatic","renderGuide","getGuidesTarget");var C=E.target,O=E.event,L=E.mode,et=E.dragger,J=et===void 0?{}:et,U=C.getEl(),R=tt({doc:U.ownerDocument,onStart:this.onStart,onEnd:this.onEnd,onDrag:this.onDrag,getPosition:this.getPosition,setPosition:this.setPosition,guidesStatic:function(){return w.guidesStatic},guidesTarget:function(){return w.guidesTarget}},J);this.setupGuides(),this.opts=E,this.editor=M,this.em=M.getModel(),this.target=C,this.isTran=L=="translate",this.guidesContainer=this.getGuidesContainer(),this.guidesTarget=this.getGuidesTarget(),this.guidesStatic=this.getGuidesStatic();var D=this.dragger;return D?D.setOptions(R):(D=new ht.Z(R),this.dragger=D),O&&D.start(O),this.toggleDrag(1),this.em.trigger("".concat(q,":start"),this.getEventOpts()),D},getEventOpts:function(){return{mode:this.opts.mode,target:this.target,guidesTarget:this.guidesTarget,guidesStatic:this.guidesStatic}},stop:function(){this.toggleDrag()},setupGuides:function(){(this.guides||[]).forEach(function(M){var m=M.guide;m&&m.parentNode.removeChild(m)}),this.guides=[]},getGuidesContainer:function(){var M=this,m=this.guidesEl;if(!m){var E=this,w=E.editor,C=E.em,O=E.opts,L=w.getConfig().stylePrefix,et=document.createElement("div"),J=document.createElement("div"),U='<div class="'.concat(L,"guide-info__line ").concat(L,`danger-bg">
        <div class="`).concat(L,"guide-info__content ").concat(L,`danger-color"></div>
      </div>`);m=document.createElement("div"),m.className="".concat(L,"guides"),et.className="".concat(L,"guide-info ").concat(L,"guide-info__x"),J.className="".concat(L,"guide-info ").concat(L,"guide-info__y"),et.innerHTML=U,J.innerHTML=U,m.appendChild(et),m.appendChild(J),w.Canvas.getGlobalToolsEl().appendChild(m),this.guidesEl=m,this.elGuideInfoX=et,this.elGuideInfoY=J,this.elGuideInfoContentX=et.querySelector(".".concat(L,"guide-info__content")),this.elGuideInfoContentY=J.querySelector(".".concat(L,"guide-info__content")),C.on("canvas:update frame:scroll",(0,ct.debounce)(function(){var R;M.updateGuides(),O.debug&&((R=M.guides)===null||R===void 0||R.forEach(function(D){return M.renderGuide(D)}))},200))}return m},getGuidesStatic:function(){var M=this,m=[],E=this.target.getEl(),w=E.parentNode,C=w===void 0?{}:w;return(0,ct.each)(C.children,function(O){return m=m.concat(E!==O?M.getElementGuides(O):[])}),m.concat(this.getElementGuides(C))},getGuidesTarget:function(){return this.getElementGuides(this.target.getEl())},updateGuides:function(M){var m=this,E,w;(M||this.guides).forEach(function(C){var O=C.origin,L=E===O?w:m.getElementPos(O);E=O,w=L,(0,ct.each)(m.getGuidePosUpdate(C,L),function(et,J){return C[J]=et}),C.originRect=L})},getGuidePosUpdate:function(M,m){var E={},w=m.top,C=m.height,O=m.left,L=m.width;switch(M.type){case"t":E.y=w;break;case"b":E.y=w+C;break;case"l":E.x=O;break;case"r":E.x=O+L;break;case"x":E.x=O+L/2;break;case"y":E.y=w+C/2;break}return E},renderGuide:function(M){M===void 0&&(M={});var m=M.guide||document.createElement("div"),E="px",w=M.active?2:1,C=m.children[0];return m.style="position: absolute; background-color: ".concat(M.active?"green":"red",";"),m.children.length||(C=document.createElement("div"),C.style="position: absolute; color: red; padding: 5px; top: 0; left: 0;",m.appendChild(C)),M.y?(m.style.width="100%",m.style.height="".concat(w).concat(E),m.style.top="".concat(M.y).concat(E),m.style.left=0):(m.style.width="".concat(w).concat(E),m.style.height="100%",m.style.left="".concat(M.x).concat(E),m.style.top="0".concat(E)),!M.guide&&this.guidesContainer.appendChild(m),m},getElementPos:function(M){return this.editor.Canvas.getElementPos(M,{noScroll:1})},getElementGuides:function(M){var m=this,E=this.opts,w=this.getElementPos(M),C=w.top,O=w.height,L=w.left,et=w.width,J=[{type:"t",y:C},{type:"b",y:C+O},{type:"l",x:L},{type:"r",x:L+et},{type:"x",x:L+et/2},{type:"y",y:C+O/2}].map(function(U){return tt(tt({},U),{origin:M,originRect:w,guide:E.debug&&m.renderGuide(U)})});return J.forEach(function(U){var R;return(R=m.guides)===null||R===void 0?void 0:R.push(U)}),J},getTranslate:function(M,m){m===void 0&&(m="x");var E=0;return(M||"").split(" ").forEach(function(w){var C=w.trim(),O="translate".concat(m.toUpperCase(),"(");C.indexOf(O)===0&&(E=parseFloat(C.replace(O,"")))}),E},setTranslate:function(M,m,E){var w="translate".concat(m.toUpperCase(),"("),C="".concat(w).concat(E,")"),O=(M||"").split(" ").map(function(L){var et=L.trim();return et.indexOf(w)===0&&(L=C),L}).join(" ");return O.indexOf(w)<0&&(O+=" ".concat(C)),O},getPosition:function(){var M=this,m=M.target,E=M.isTran,w=m.getStyle(),C=w.left,O=w.top,L=w.transform,et=0,J=0;return E?(et=this.getTranslate(L),J=this.getTranslate(L,"y")):(et=parseFloat(C||0),J=parseFloat(O||0)),{x:et,y:J}},setPosition:function(M){var m=M.x,E=M.y,w=M.end,C=M.position,O=M.width,L=M.height,et=this,J=et.target,U=et.isTran,R=et.em,D="px",k=!w,Z="".concat(parseInt(m,10)).concat(D),ot="".concat(parseInt(E,10)).concat(D),Y={};if(U){var it=J.getStyle().transform||"";it=this.setTranslate(it,"x",Z),it=this.setTranslate(it,"y",ot),Y={transform:it,__p:k},J.addStyle(Y,{avoidStore:!w})}else{var T={position:C,width:O,height:L},z={left:Z,top:ot,__p:k};(0,ct.keys)(T).forEach(function(I){var N=T[I];N&&(z[I]=N)}),Y=z,J.addStyle(Y,{avoidStore:!w})}R==null||R.Styles.__emitCmpStyleUpdate(Y,{components:R.getSelected()})},_getDragData:function(){var M=this.target;return{target:M,parent:M.parent(),index:M.index()}},onStart:function(M){var m=this,E=m.target,w=m.editor,C=m.isTran,O=m.opts,L=O.center,et=O.onStart,J=w.Canvas,U=E.getStyle(),R="absolute",D=[R,"relative"];if(et&&et(this._getDragData()),!C&&U.position!==R){var k=J.offset(E.getEl()),Z=k.left,ot=k.top,Y=k.width,it=k.height,T=E.parent(),z=void 0;do{var I=T.getStyle();z=D.indexOf(I.position)>=0?T:null,T=T.parent()}while(T&&!z);if(L){var N=J.getMouseRelativeCanvas(M),G=N.x,P=N.y;Z=G,ot=P}else if(z){var $=J.offset(z.getEl());Z=Z-$.left,ot=ot-$.top}this.setPosition({x:Z,y:ot,width:"".concat(Y,"px"),height:"".concat(it,"px"),position:R})}},onDrag:function(){var M=this,m=this,E=m.guidesTarget,w=m.opts,C=w.onDrag;this.updateGuides(E),w.debug&&E.forEach(function(O){return M.renderGuide(O)}),w.guidesInfo&&this.renderGuideInfo(E.filter(function(O){return O.active})),C&&C(this._getDragData())},onEnd:function(M,m,E){E===void 0&&(E={});var w=this,C=w.editor,O=w.opts,L=w.id,et=O.onEnd;et&&et(M,E,tt(tt({event:M},E),this._getDragData())),C.stopCommand(L),this.hideGuidesInfo(),this.em.trigger("".concat(q,":end"),this.getEventOpts())},hideGuidesInfo:function(){var M=this;["X","Y"].forEach(function(m){var E=M["elGuideInfo".concat(m)];E&&(E.style.display="none")})},renderGuideInfo:function(M){var m=this;M===void 0&&(M=[]);var E=this.guidesStatic;this.hideGuidesInfo(),M.forEach(function(w){var C=w.origin,O=w.x,L=m.getElementPos(C),et=(0,ct.isUndefined)(O)?"y":"x",J=et==="y",U=L[J?"left":"top"],R=L.rect[J?"left":"top"],D=J?U+L.width:U+L.height,k=J?R+L.rect.width:R+L.rect.height,Z=m["elGuideInfo".concat(et.toUpperCase())],ot=m["elGuideInfoContent".concat(et.toUpperCase())],Y=Z.style,it=E==null?void 0:E.filter(function(Qt){return Qt.type===w.type}).map(function(Qt){var Ot=Qt.originRect,Dt=Ot.left,Wt=Ot.width,oe=Ot.top,$t=Ot.height,Jt=J?Dt:oe,ue=J?Dt+Wt:oe+$t;return{gap:ue<U?U-ue:Jt-D,guide:Qt}}).filter(function(Qt){return Qt.gap>0}).sort(function(Qt,Ot){return Qt.gap-Ot.gap}).map(function(Qt){return Qt.guide})[0];if(it){var T=it.originRect,z=T.left,I=T.width,N=T.top,G=T.height,P=T.rect,$=J?z<L.left:N<L.top,y=J?z:N,rt=J?P.left:P.top,X=J?z+I:N+G,wt=J?P.left+P.width:P.top+P.height,Kt=J?w.y:w.x,Ct=$?X:D,Ut="".concat(Kt,"px"),zt=$?U-X:y-D,Nt=$?R-wt:rt-k;Y.display="",Y[J?"top":"left"]=Ut,Y[J?"left":"top"]="".concat(Ct,"px"),Y[J?"width":"height"]="".concat(zt,"px"),ot.innerHTML="".concat(Math.round(Nt),"px"),m.em.trigger("".concat(q,":active"),tt(tt({},m.getEventOpts()),{guide:w,guidesStatic:E,matched:it,posFirst:Kt,posSecond:Ct,size:zt,sizeRaw:Nt,elGuideInfo:Z,elGuideInfoCnt:ot}))}})},toggleDrag:function(M){var m=this,E=m.ppfx,w=m.editor,C=M?"add":"remove",O=["".concat(E,"is__grabbing")],L=w.Canvas,et=L.getBody();O.forEach(function(J){return et.classList[C](J)}),L[M?"startAutoscroll":"stopAutoscroll"]()}}},236:(V,vt,bt)=>{bt.r(vt),bt.d(vt,{default:()=>ct});const ct={run:function(ht){if(ht.Canvas.hasFocus()){var tt=[];ht.getSelectedAll().forEach(function(q){var x=q.components(),M=x&&x.filter(function(m){return m.get("selectable")})[0];M&&tt.push(M)}),tt.length&&ht.select(tt)}}}},368:(V,vt,bt)=>{bt.r(vt),bt.d(vt,{default:()=>ct});const ct={run:function(ht,tt,q){if(q===void 0&&(q={}),!(!ht.Canvas.hasFocus()&&!q.force)){var x=[];ht.getSelectedAll().forEach(function(M){for(var m=M.parent();m&&!m.get("selectable");)m=m.parent();m&&x.push(m)}),x.length&&ht.select(x)}}}},243:(V,vt,bt)=>{bt.r(vt),bt.d(vt,{default:()=>ct});const ct={run:function(ht){if(ht.Canvas.hasFocus()){var tt=[];ht.getSelectedAll().forEach(function(q){var x=q.parent();if(x){var M=x.components().length,m=0,E=0,w;do m++,E=q.index()+m,w=E<=M?x.getChildAt(E):null;while(w&&!w.get("selectable"));tt.push(w||q)}}),tt.length&&ht.select(tt)}}}},400:(V,vt,bt)=>{bt.r(vt),bt.d(vt,{default:()=>ct});const ct={run:function(ht){if(ht.Canvas.hasFocus()){var tt=[];ht.getSelectedAll().forEach(function(q){var x=q.parent();if(x){var M=0,m=0,E;do M++,m=q.index()-M,E=m>=0?x.getChildAt(m):null;while(E&&!E.get("selectable"));tt.push(E||q)}}),tt.length&&ht.select(tt)}}}},910:(V,vt,bt)=>{bt.r(vt),bt.d(vt,{default:()=>ht});var ct=bt(50);const ht={run:function(tt,q,x){x===void 0&&(x={});var M=x.target,m=[];if(!M.get("styles"))return m;var E=M.get("type"),w=tt.Pages.getAllWrappers(),C=(0,ct.flatten)(w.map(function(L){return L.findType(E)})).length;if(!C){var O=tt.CssComposer.getAll();m=O.filter(function(L){return L.get("group")==="cmp:".concat(E)}),O.remove(m)}return m}}},744:(V,vt,bt)=>{bt.r(vt),bt.d(vt,{default:()=>ht});var ct=function(tt,q,x){if(x||arguments.length===2)for(var M=0,m=q.length,E;M<m;M++)(E||!(M in q))&&(E||(E=Array.prototype.slice.call(q,0,M)),E[M]=q[M]);return tt.concat(E||Array.prototype.slice.call(q))};const ht={run:function(tt){var q=tt.getModel(),x=ct([],tt.getSelectedAll(),!0).map(function(M){var m,E;return((E=(m=M.delegate)===null||m===void 0?void 0:m.copy)===null||E===void 0?void 0:E.call(m,M))||M}).filter(Boolean);x.length&&q.set("clipboard",x)}}},457:(V,vt,bt)=>{bt.r(vt),bt.d(vt,{default:()=>ht});var ct=bt(491);const ht={run:function(tt,q,x){var M=this;x===void 0&&(x={}),q&&q.set&&q.set("active",0);var m=tt.getConfig(),E=tt.Modal,w=m.stylePrefix;if(this.cm=tt.CodeManager||null,!this.editors){var C=this.buildEditor("htmlmixed","hopscotch","HTML"),O=this.buildEditor("css","hopscotch","CSS");this.htmlEditor=C.model,this.cssEditor=O.model;var L=(0,ct.ut)("div",{class:"".concat(w,"export-dl")});L.appendChild(C.el),L.appendChild(O.el),this.editors=L}E.open({title:m.textViewCode,content:this.editors}).getModel().once("change:open",function(){return tt.stopCommand("".concat(M.id))}),this.htmlEditor.setContent(tt.getHtml(x.optsHtml)),this.cssEditor.setContent(tt.getCss(x.optsCss))},stop:function(tt){var q=tt.Modal;q&&q.close()},buildEditor:function(tt,q,x){var M=this.em.CodeManager,m=M.createViewer({label:x,codeName:tt,theme:q}),E=new M.EditorView({model:m,config:M.getConfig()}).render().el;return{model:m,el:E}}}},975:(V,vt,bt)=>{bt.r(vt),bt.d(vt,{default:()=>ht});var ct=bt(50);const ht={isEnabled:function(){var tt=document;return!!(tt.fullscreenElement||tt.webkitFullscreenElement||tt.mozFullScreenElement)},enable:function(tt){var q="";return tt.requestFullscreen?tt.requestFullscreen():tt.webkitRequestFullscreen?(q="webkit",tt.webkitRequestFullscreen()):tt.mozRequestFullScreen?(q="moz",tt.mozRequestFullScreen()):tt.msRequestFullscreen&&tt.msRequestFullscreen(),q},disable:function(){var tt=document;this.isEnabled()&&(tt.exitFullscreen?tt.exitFullscreen():tt.webkitExitFullscreen?tt.webkitExitFullscreen():tt.mozCancelFullScreen?tt.mozCancelFullScreen():tt.msExitFullscreen&&tt.msExitFullscreen())},fsChanged:function(tt){this.isEnabled()||(this.stopCommand({sender:this.sender}),document.removeEventListener("".concat(tt||"","fullscreenchange"),this.fsChanged))},run:function(tt,q,x){x===void 0&&(x={}),this.sender=q;var M=x.target,m=(0,ct.isElement)(M)?M:document.querySelector(M),E=this.enable(m||tt.getContainer());this.fsChanged=this.fsChanged.bind(this,E),document.addEventListener(E+"fullscreenchange",this.fsChanged)},stop:function(tt,q){q&&q.set&&q.set("active",!1),this.disable()}}},191:(V,vt,bt)=>{bt.r(vt),bt.d(vt,{default:()=>M});var ct=bt(50),ht=bt(895),tt=bt(491),q=bt(407),x=bt(189);const M=(0,ct.extend)({},x.default,q.default,{init:function(m){q.default.init.apply(this,arguments),(0,ct.bindAll)(this,"initSorter","rollback","onEndMove"),this.opt=m,this.hoverClass=this.ppfx+"highlighter-warning",this.badgeClass=this.ppfx+"badge-warning",this.noSelClass=this.ppfx+"no-select"},enable:function(){for(var m=[],E=0;E<arguments.length;E++)m[E]=arguments[E];q.default.enable.apply(this,m),this.getBadgeEl().addClass(this.badgeClass),this.getHighlighterEl().addClass(this.hoverClass);var w=this.$wrapper;w.css("cursor","move"),w.on("mousedown",this.initSorter),w.addClass(this.noSelClass)},toggleClipboard:function(){},initSorter:function(m){var E=(0,ht.default)(m.target).data("model"),w=E.get("draggable");w&&(this.cacheEl=null,this.startSelectPosition(m.target,this.frameEl.contentDocument),this.sorter.draggable=w,this.sorter.onEndMove=this.onEndMove.bind(this),this.stopSelectComponent(),this.$wrapper.off("mousedown",this.initSorter),(0,tt.on)(this.getContentWindow(),"keydown",this.rollback))},initSorterFromModel:function(m){var E=m.get("draggable");if(E){this.cacheEl=null;var w=m.view.el;this.startSelectPosition(w,this.frameEl.contentDocument),this.sorter.draggable=E,this.sorter.onEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,tt.on)(this.getContentWindow(),"keydown",this.rollback)}},initSorterFromModels:function(m){this.cacheEl=null;var E=m[m.length-1],w=this.em.getCurrentFrame(),C=E.getEl(w==null?void 0:w.model),O=C.ownerDocument;this.startSelectPosition(C,O,{onStart:this.onStart}),this.sorter.draggable=E.get("draggable"),this.sorter.toMove=m,this.sorter.onMoveClb=this.onDrag,this.sorter.onEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,tt.on)(this.getContentWindow(),"keydown",this.rollback)},onEndMoveFromModel:function(){(0,tt.S1)(this.getContentWindow(),"keydown",this.rollback)},onEndMove:function(){this.enable(),(0,tt.S1)(this.getContentWindow(),"keydown",this.rollback)},onSelect:function(m,E){},rollback:function(m,E){var w=m.which||m.keyCode;(w==27||E)&&(this.sorter.moved=!1,this.sorter.endMove())},getBadgeEl:function(){return this.$badge||(this.$badge=(0,ht.default)(this.getBadge())),this.$badge},getHighlighterEl:function(){return this.$hl||(this.$hl=(0,ht.default)(this.canvas.getHighlighter())),this.$hl},stop:function(){for(var m=[],E=0;E<arguments.length;E++)m[E]=arguments[E];q.default.stop.apply(this,m),this.getBadgeEl().removeClass(this.badgeClass),this.getHighlighterEl().removeClass(this.hoverClass);var w=this.$wrapper;w.css("cursor","").unbind().removeClass(this.noSelClass)}})},912:(V,vt,bt)=>{bt.r(vt),bt.d(vt,{default:()=>tt});var ct=bt(50),ht=bt(491);const tt={open:function(q){var x=this,M=this,m=M.editor,E=M.title,w=M.config,C=M.am,O=w.custom;if((0,ct.isFunction)(O.open))return O.open(C.__customData());var L=m.Modal;L.open({title:E,content:q}).onceClose(function(){return m.stopCommand(x.id)})},close:function(){var q=this.config.custom;if((0,ct.isFunction)(q.close))return q.close(this.am.__customData());var x=this.editor.Modal;x&&x.close()},run:function(q,x,M){M===void 0&&(M={});var m=q.AssetManager,E=m.getConfig(),w=M.types,C=w===void 0?[]:w,O=M.accept,L=M.select;if(this.title=M.modalTitle||q.t("assetManager.modalTitle")||"",this.editor=q,this.config=E,this.am=m,m.setTarget(M.target),m.onClick(M.onClick),m.onDblClick(M.onDblClick),m.onSelect(M.onSelect),m.__behaviour({select:L,types:C,options:M}),E.custom)this.rendered=this.rendered||(0,ht.ut)("div"),this.rendered.className="".concat(E.stylePrefix,"custom-wrp"),m.__behaviour({container:this.rendered}),m.__trgCustom();else{if(!this.rendered||C){var et=m.getAll().filter(function(U){return U});C&&C.length&&(et=et.filter(function(U){return C.indexOf(U.get("type"))!==-1})),m.render(et),this.rendered=m.getContainer()}if(O){var J=this.rendered.querySelector("input#".concat(E.stylePrefix,"uploadFile"));J&&J.setAttribute("accept",O)}}return this.open(this.rendered),this},stop:function(q){this.editor=q,this.close(this.rendered)}}},117:(V,vt,bt)=>{bt.r(vt),bt.d(vt,{default:()=>tt});var ct=bt(50),ht=bt(491);const tt={open:function(){var q=this,x=q.container,M=q.editor,m=q.bm,E=q.config,w=E.custom,C=E.appendTo;if((0,ct.isFunction)(w.open))return w.open(m.__customData());if(this.firstRender&&!C){var O="views-container",L=M.Panels,et=L.getPanel(O)||L.addPanel({id:O});et.set("appendContent",x).trigger("change:appendContent"),w||x.appendChild(m.render())}x&&(x.style.display="block")},close:function(){var q=this,x=q.container,M=q.config,m=M.custom;if((0,ct.isFunction)(m.close))return m.close(this.bm.__customData());x&&(x.style.display="none")},run:function(q){var x=q.Blocks;this.config=x.getConfig(),this.firstRender=!this.container,this.container=this.container||(0,ht.ut)("div"),this.editor=q,this.bm=x;var M=this.container;x.__behaviour({container:M}),this.config.custom&&x.__trgCustom(),this.open()},stop:function(){this.close()}}},614:(V,vt,bt)=>{bt.r(vt),bt.d(vt,{default:()=>ct});const ct={run:function(ht){var tt=ht.LayerManager,q=ht.Panels,x=tt.getConfig();if(!x.appendTo){if(!this.layers){var M="views-container",m=document.createElement("div"),E=q.getPanel(M)||q.addPanel({id:M});x.custom?tt.__trgCustom({container:m}):m.appendChild(tt.render()),E.set("appendContent",m).trigger("change:appendContent"),this.layers=m}this.layers.style.display="block"}},stop:function(){var ht=this.layers;ht&&(ht.style.display="none")}}},801:(V,vt,bt)=>{bt.r(vt),bt.d(vt,{default:()=>ht});var ct=bt(895);const ht={run:function(tt,q){if(this.sender=q,!this.$cnt){var x=tt.getConfig(),M=tt.Panels,m=tt.DeviceManager,E=tt.SelectorManager,w=tt.StyleManager,C="change:appendContent",O=(0,ct.default)("<div></div>"),L=(0,ct.default)("<div></div>"),et=(0,ct.default)("<div></div>"),J=(0,ct.default)("<div></div>");if(this.$cnt=O,this.$cntInner=L,L.append(et),L.append(J),O.append(L),m&&x.showDevices){var U=M.addPanel({id:"devices-c"}),R=m.render();U.set("appendContent",R).trigger(C)}var D=E.getConfig();D.custom?E.__trgCustom({container:et.get(0)}):D.appendTo||et.append(E.render([])),this.sm=w;var k=w.getConfig(),Z=k.stylePrefix;this.$header=(0,ct.default)('<div class="'.concat(Z,'header">').concat(tt.t("styleManager.empty"),"</div>")),O.append(this.$header),k.custom?w.__trgCustom({container:J.get(0)}):k.appendTo||J.append(w.render());var ot="views-container",Y=M.getPanel(ot)||M.addPanel({id:ot});Y.set("appendContent",O).trigger(C);var it=tt.getModel();this.listenTo(it,w.events.target,this.toggleSm)}this.toggleSm()},toggleSm:function(){var tt=this,q=tt.sender,x=tt.sm,M=tt.$cntInner,m=tt.$header;q&&q.get&&!q.get("active")||!x||(x.getSelected()?(M==null||M.show(),m==null||m.hide()):(M==null||M.hide(),m==null||m.show()))},stop:function(){var tt,q;(tt=this.$cntInner)===null||tt===void 0||tt.hide(),(q=this.$header)===null||q===void 0||q.hide()}}},395:(V,vt,bt)=>{bt.r(vt),bt.d(vt,{default:()=>ht});var ct=bt(895);const ht={run:function(tt,q){this.sender=q;var x=tt.getModel(),M=tt.Config,m=M.stylePrefix,E=tt.TraitManager,w=E.getConfig(),C;if(!w.appendTo){if(!this.$cn){this.$cn=(0,ct.default)("<div></div>"),this.$cn2=(0,ct.default)("<div></div>"),this.$cn.append(this.$cn2),this.$header=(0,ct.default)("<div>").append('<div class="'.concat(w.stylePrefix,'header">').concat(x.t("traitManager.empty"),"</div>")),this.$cn.append(this.$header),w.custom?E.__trgCustom({container:this.$cn2.get(0)}):(this.$cn2.append('<div class="'.concat(m,'traits-label">').concat(x.t("traitManager.label"),"</div>")),this.$cn2.append(E.render()));var O=tt.Panels;O.getPanel("views-container")?C=O.getPanel("views-container"):C=O.addPanel({id:"views-container"}),C==null||C.set("appendContent",this.$cn.get(0)).trigger("change:appendContent"),this.target=tt.getModel(),this.listenTo(this.target,"component:toggled",this.toggleTm)}this.toggleTm()}},toggleTm:function(){var tt=this.sender;tt&&tt.get&&!tt.get("active")||(this.target.getSelectedAll().length===1?(this.$cn2.show(),this.$header.hide()):(this.$cn2.hide(),this.$header.show()))},stop:function(){this.$cn2&&this.$cn2.hide(),this.$header&&this.$header.hide()}}},98:(V,vt,bt)=>{bt.r(vt),bt.d(vt,{default:()=>ht});var ct=bt(50);const ht={run:function(q,x,M){M===void 0&&(M={});var m=q.getModel(),E=m.get("clipboard"),w=q.getSelected();E!=null&&E.length&&w&&(q.getSelectedAll().forEach(function(C){var O,L,et,J=((L=(O=C.delegate)===null||O===void 0?void 0:O.copy)===null||L===void 0?void 0:L.call(O,C))||C,U=J.collection,R;if(U){var D=J.index()+1,k={at:D,action:M.action||"paste-component"};(0,ct.contains)(E,J)&&J.get("copyable")?R=U.add(J.clone(),k):R=tt(q,E,J.parent(),k)}else{var Z=(et=m.Pages.getSelected())===null||et===void 0?void 0:et.getMainComponent(),k={at:(Z==null?void 0:Z.components().length)||0,action:M.action||"paste-component"};R=tt(q,E,Z,k)}R=(0,ct.isArray)(R)?R:[R],R.forEach(function(ot){return q.trigger("component:paste",ot)})}),w.emitUpdate())}};function tt(q,x,M,m){var E=x.filter(function(C){return C.get("copyable")}),w=E.filter(function(C){return q.Components.canMove(M,C).result});return M.components().add(w.map(function(C){return C.clone()}),m)}},129:(V,vt,bt)=>{bt.r(vt),bt.d(vt,{default:()=>q});var ct=bt(50),ht=function(x,M,m){if(m||arguments.length===2)for(var E=0,w=M.length,C;E<w;E++)(C||!(E in M))&&(C||(C=Array.prototype.slice.call(M,0,E)),C[E]=M[E]);return x.concat(C||Array.prototype.slice.call(M))},tt="core:component-outline";const q={getPanels:function(x){return this.panels||(this.panels=x.Panels.getPanels()),this.panels},preventDrag:function(x){x.abort=1},tglEffects:function(x){var M=this.em,m=x?"on":"off";if(M){var E=M.Canvas,w=E.getBody(),C=E.getToolbarEl();C&&(C.style.display=x?"none":"");var O=w.querySelectorAll(".".concat(this.ppfx,"no-pointer"));(0,ct.each)(O,function(L){return L.style.pointerEvents=x?"all":""}),M[m]("run:tlb-move:before",this.preventDrag)}},run:function(x,M){var m=this;this.sender=M,this.selected=ht([],x.getSelectedAll(),!0),x.select(),this.shouldRunSwVisibility||(this.shouldRunSwVisibility=x.Commands.isActive(tt)),this.shouldRunSwVisibility&&x.stopCommand(tt),x.getModel().stopDefault();var E=this.getPanels(x),w=x.Canvas.getElement(),C=x.getEl(),O=x.Config.stylePrefix;if(!this.helper){var L=document.createElement("span");L.className="".concat(O,"off-prv fa fa-eye-slash"),C.appendChild(L),L.onclick=function(){return m.stopCommand()},this.helper=L}this.helper.style.display="inline-block",E.forEach(function(J){return J.set("visible",!1)});var et=w.style;et.width="100%",et.height="100%",et.top="0",et.left="0",et.padding="0",et.margin="0",x.refresh(),this.tglEffects(1)},stop:function(x){var M=this,m=M.sender,E=m===void 0?{}:m,w=M.selected;E.set&&E.set("active",0);var C=this.getPanels(x);this.shouldRunSwVisibility&&(x.runCommand(tt),this.shouldRunSwVisibility=!1),x.getModel().runDefault(),C.forEach(function(L){return L.set("visible",!0)});var O=x.Canvas.getElement();O.setAttribute("style",""),w&&x.select(w),delete this.selected,this.helper&&(this.helper.style.display="none"),x.refresh(),this.tglEffects()}}},116:(V,vt,bt)=>{bt.r(vt),bt.d(vt,{default:()=>ht});var ct=function(){return ct=Object.assign||function(tt){for(var q,x=1,M=arguments.length;x<M;x++){q=arguments[x];for(var m in q)Object.prototype.hasOwnProperty.call(q,m)&&(tt[m]=q[m])}return tt},ct.apply(this,arguments)};const ht={run:function(tt,q,x){var M=x||{},m=tt.Canvas,E=m.getCanvasView(),w=ct({appendTo:m.getResizerEl(),prefix:tt.getConfig().stylePrefix,posFetcher:E.getElementPos.bind(E),mousePosFetcher:m.getMouseRelativePos.bind(m)},M.options||{}),C=this.canvasResizer;return(!C||M.forceNew)&&(this.canvasResizer=new tt.Utils.Resizer(w),C=this.canvasResizer),C.setOptions(w,!0),C.blur(),C.focus(M.el),C},stop:function(){var tt;(tt=this.canvasResizer)===null||tt===void 0||tt.blur()}}},407:(V,vt,bt)=>{bt.r(vt),bt.d(vt,{default:()=>z});var ct=bt(50),ht=bt(346),tt=function(){var I=function(N,G){return I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,$){P.__proto__=$}||function(P,$){for(var y in $)Object.prototype.hasOwnProperty.call($,y)&&(P[y]=$[y])},I(N,G)};return function(N,G){if(typeof G!="function"&&G!==null)throw new TypeError("Class extends value "+String(G)+" is not a constructor or null");I(N,G);function P(){this.constructor=N}N.prototype=G===null?Object.create(G):(P.prototype=G.prototype,new P)}}(),q=function(I){tt(N,I);function N(){return I!==null&&I.apply(this,arguments)||this}return N.prototype.defaults=function(){return{command:"",attributes:{}}},N}(ht.Hn);const x=q;var M=function(){var I=function(N,G){return I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,$){P.__proto__=$}||function(P,$){for(var y in $)Object.prototype.hasOwnProperty.call($,y)&&(P[y]=$[y])},I(N,G)};return function(N,G){if(typeof G!="function"&&G!==null)throw new TypeError("Class extends value "+String(G)+" is not a constructor or null");I(N,G);function P(){this.constructor=N}N.prototype=G===null?Object.create(G):(P.prototype=G.prototype,new P)}}(),m=function(I){M(N,I);function N(){return I!==null&&I.apply(this,arguments)||this}return N}(ht.FE);const E=m;m.prototype.model=x;var w=bt(330),C=function(){var I=function(N,G){return I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,$){P.__proto__=$}||function(P,$){for(var y in $)Object.prototype.hasOwnProperty.call($,y)&&(P[y]=$[y])},I(N,G)};return function(N,G){if(typeof G!="function"&&G!==null)throw new TypeError("Class extends value "+String(G)+" is not a constructor or null");I(N,G);function P(){this.constructor=N}N.prototype=G===null?Object.create(G):(P.prototype=G.prototype,new P)}}(),O=function(){return O=Object.assign||function(I){for(var N,G=1,P=arguments.length;G<P;G++){N=arguments[G];for(var $ in N)Object.prototype.hasOwnProperty.call(N,$)&&(I[$]=N[$])}return I},O.apply(this,arguments)},L=function(I){C(N,I);function N(G){var P=I.call(this,G)||this;return P.em=G.config.em,P}return N.prototype.events=function(){return this.model.get("events")||{mousedown:"handleClick"}},N.prototype.attributes=function(){return this.model.get("attributes")},N.prototype.handleClick=function(G){G.preventDefault(),G.stopPropagation();var P=this.em,$=P.Canvas.getFrameEl().getBoundingClientRect(),y=$.left,rt=$.top,X=O(O({},G),{clientX:G.clientX-y,clientY:G.clientY-rt});P.trigger("toolbar:run:before",{event:X}),this.execCommand(X)},N.prototype.execCommand=function(G){var P=this,$=P.em,y=P.model,rt={event:G},X=y.get("command"),wt=$.Editor;(0,ct.isFunction)(X)&&X(wt,null,rt),(0,ct.isString)(X)&&wt.runCommand(X,rt)},N.prototype.render=function(){var G=this,P=G.em,$=G.$el,y=G.model,rt=y.get("id"),X=y.get("label"),wt=P.getConfig().stylePrefix;return $.addClass("".concat(wt,"toolbar-item")),rt&&$.addClass("".concat(wt,"toolbar-item__").concat(rt)),X&&$.append(X),this},N}(ht.G7);const et=L;var J=function(){var I=function(N,G){return I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,$){P.__proto__=$}||function(P,$){for(var y in $)Object.prototype.hasOwnProperty.call($,y)&&(P[y]=$[y])},I(N,G)};return function(N,G){if(typeof G!="function"&&G!==null)throw new TypeError("Class extends value "+String(G)+" is not a constructor or null");I(N,G);function P(){this.constructor=N}N.prototype=G===null?Object.create(G):(P.prototype=G.prototype,new P)}}(),U=function(I){J(N,I);function N(G){var P=I.call(this,G)||this,$=G.em;return P.em=$,P.config={em:$},P.listenTo(P.collection,"reset",P.render),P}return N.prototype.onRender=function(){var G=this.em.config.stylePrefix;this.el.className="".concat(G,"toolbar-items")},N}(w.Z);const R=U;U.prototype.itemView=et;var D=bt(491),k=bt(163),Z=bt(675),ot=bt(184),Y=function(){return Y=Object.assign||function(I){for(var N,G=1,P=arguments.length;G<P;G++){N=arguments[G];for(var $ in N)Object.prototype.hasOwnProperty.call(N,$)&&(I[$]=N[$])}return I},Y.apply(this,arguments)},it=function(I,N){var G={};for(var P in I)Object.prototype.hasOwnProperty.call(I,P)&&N.indexOf(P)<0&&(G[P]=I[P]);if(I!=null&&typeof Object.getOwnPropertySymbols=="function")for(var $=0,P=Object.getOwnPropertySymbols(I);$<P.length;$++)N.indexOf(P[$])<0&&Object.prototype.propertyIsEnumerable.call(I,P[$])&&(G[P[$]]=I[P[$]]);return G},T;const z={activeResizer:!1,init:function(){this.onSelect=(0,ct.debounce)(this.onSelect,0),(0,ct.bindAll)(this,"onHover","onOut","onClick","onFrameScroll","onFrameResize","onFrameUpdated","onContainerChange")},enable:function(){this.frameOff=this.canvasOff=this.adjScroll=null,this.startSelectComponent(),T=!0},startSelectComponent:function(){this.toggleSelectComponent(1),this.em.getSelected()&&this.onSelect()},stopSelectComponent:function(){this.toggleSelectComponent()},toggleSelectComponent:function(I){var N=this,G=this.em,P=G.getConfig().listenToEl,$=G.getContainer().parentNode,y=I?"on":"off",rt={on:D.on,off:D.S1},X=ot.g.update;!P.length&&$&&P.push($);var wt=function(Kt,Ct){rt[y](Ct,"mouseover",N.onHover),rt[y](Ct,"mouseleave",N.onOut),rt[y](Ct,"click",N.onClick),rt[y](Kt,"scroll",N.onFrameScroll,!0),rt[y](Kt,"resize",N.onFrameResize)};rt[y](window,"resize",this.onFrameUpdated),rt[y](P,"scroll",this.onContainerChange),G[y]("component:toggled ".concat(X," undo redo"),this.onSelect,this),G[y]("change:componentHovered",this.onHovered,this),G[y]("component:resize styleable:change component:input",this.updateGlobalPos,this),G[y]("".concat(X,":toolbar"),this._upToolbar,this),G[y]("frame:updated",this.onFrameUpdated,this),G[y]("canvas:updateTools",this.onFrameUpdated,this),G[y](G.Canvas.events.refresh,this.updateAttached,this),G.Canvas.getFrames().forEach(function(Kt){var Ct=Kt.view,Ut=Ct==null?void 0:Ct.getWindow();Ut&&wt(Ut,Ct==null?void 0:Ct.getBody())})},onHover:function(I){I.stopPropagation();var N=this.em,G=I.target,P=(0,k.getComponentView)(G),$=P==null?void 0:P.frameView,y=P==null?void 0:P.model;if(!y)for(var rt=G.parentNode;!y&&rt&&!(0,D.Mx)(rt);)y=(0,k.getComponentModel)(rt),rt=rt.parentNode;this.currentDoc=G.ownerDocument,N.setHovered(y,{useValid:!0}),$&&N.setCurrentFrame($)},onFrameUpdated:function(){this.updateLocalPos(),this.updateGlobalPos()},onHovered:function(I,N){var G=this,P,$={};N?(P=N.views)===null||P===void 0||P.forEach(function(y){var rt=y.el,X=G.getElementPos(rt);$={el:rt,pos:X,component:N,view:(0,k.getViewEl)(rt)},rt.ownerDocument===G.currentDoc&&(G.elHovered=$),G.updateToolsLocal($)}):(this.currentDoc=null,this.elHovered=0,this.updateToolsLocal(),this.canvas.getFrames().forEach(function(y){var rt=y.view,X=rt&&rt.getToolsEl();X&&G.toggleToolsEl(0,0,{el:X})}))},onSelect:function(){var I=this.em,N=I.getSelected(),G=I.getCurrentFrame(),P=N&&N.getView(G==null?void 0:G.model),$=P&&P.el,y={};if($&&(0,D.pn)($)){var rt=this.getElementPos($);y={el:$,pos:rt,component:N,view:(0,k.getViewEl)($)}}this.elSelected=y,this.updateToolsGlobal(),this.updateLocalPos(y),this.initResize(N)},updateGlobalPos:function(){var I=this.getElSelected();I.el&&(I.pos=this.getElementPos(I.el),this.updateToolsGlobal())},updateLocalPos:function(I){var N=this.getElHovered();N.el&&(N.pos=this.getElementPos(N.el),this.updateToolsLocal(I))},getElHovered:function(){return this.elHovered||{}},getElSelected:function(){return this.elSelected||{}},onOut:function(){this.em.setHovered()},toggleToolsEl:function(I,N,G){G===void 0&&(G={});var P=G.el||this.canvas.getToolsEl(N);return P&&(P.style.display=I?"":"none"),P||{}},showElementOffset:function(I,N,G){G===void 0&&(G={}),T&&this.editor.runCommand("show-offset",{el:I,elPos:N,view:G.view,force:1,top:0,left:0})},hideElementOffset:function(I){this.editor.stopCommand("show-offset",{view:I})},showFixedElementOffset:function(I,N){this.editor.runCommand("show-offset",{el:I,elPos:N,state:"Fixed"})},hideFixedElementOffset:function(){this.editor&&this.editor.stopCommand("show-offset",{state:"Fixed"})},hideHighlighter:function(I){this.canvas.getHighlighter(I).style.opacity=0},onClick:function(I){I.stopPropagation(),I.preventDefault();var N=this.em;if(N.get("_cmpDrag"))return N.set("_cmpDrag");var G=I.target,P=(0,k.getComponentModel)(G);if(!P)for(var $=G.parentNode;!P&&$&&!(0,D.Mx)($);)P=(0,k.getComponentModel)($),$=$.parentNode;if(P){if(N.isEditing()&&(!P.get("textable")&&P.isChildOf("text")||N.getEditing()!==P))return;this.select(P,I)}},select:function(I,N){N===void 0&&(N={}),I&&(this.editor.select(I,{event:N,useValid:!0}),this.initResize(I))},updateBadge:function(I,N,G){G===void 0&&(G={});var P=this.canvas,$=(0,k.getComponentModel)(I),y=this.getBadge(G),rt=y.style;if(!$||!$.get("badgable")){rt.display="none";return}if(!G.posOnly){var X=this.canvas.getConfig(),wt=$.getIcon(),Kt=X.pStylePrefix||"",Ct="".concat(Kt,"badge"),Ut=X.customBadgeLabel,zt="".concat(wt?'<div class="'.concat(Ct,'__icon">').concat(wt,"</div>"):"",`
        <div class="`).concat(Ct,'__name">').concat($.getName(),"</div>");y.innerHTML=Ut?Ut($):zt}var Nt="px";rt.display="block";var Qt=P.getTargetToElementFixed(I,y,{pos:N}),Ot=Qt.top,Dt=G.leftOff<0?-G.leftOff:0;rt.top=Ot+Nt,rt.left=Dt+Nt},showHighlighter:function(I){this.canvas.getHighlighter(I).style.opacity=""},initResize:function(I){var N=this,G=N.em,P=N.canvas,$=G.Editor,y=!(0,ct.isElement)(I)&&(0,D.o5)(I)?I:G.getSelected(),rt=y==null?void 0:y.get("resizable"),X=Z.q.Resize,wt=P.hasCustomSpot(X);if(P.removeSpots({type:X}),y&&rt){P.addSpot({type:X,component:y});var Kt=(0,ct.isElement)(I)?I:y.getEl(),Ct=(0,k.isObject)(rt)?rt:{},Ut=Ct.onStart,zt=Ut===void 0?function(){}:Ut,Nt=Ct.onMove,Qt=Nt===void 0?function(){}:Nt,Ot=Ct.onEnd,Dt=Ot===void 0?function(){}:Ot,Wt=Ct.updateTarget,oe=Wt===void 0?function(){}:Wt,$t=it(Ct,["onStart","onMove","onEnd","updateTarget"]);if(wt||!Kt||this.activeResizer)return;var Jt,ue=G.config,Ne=ue.stylePrefix||"",tr="".concat(Ne,"resizing"),ir=this,rr={component:y,el:Kt},fe=function(st,yt,At){var Ht=At.docs;Ht&&Ht.forEach(function(mt){var Vt=mt.body,Et=Vt.className||"";Vt.className=(st=="add"?"".concat(Et," ").concat(tr):Et.replace(tr,"")).trim()})},K=Y({onStart:function(st,yt){zt(st,yt);var At=yt.el,Ht=yt.config,mt=yt.resizer,Vt=Ht.keyHeight,Et=Ht.keyWidth,_e=Ht.currentUnit,Pe=Ht.keepAutoHeight,Se=Ht.keepAutoWidth;fe("add",st,yt),Jt=G.Styles.getModelToStyle(y),P.toggleFramesEvents(!1);var Ve=getComputedStyle(At),Ue=Jt.getStyle(),me=Ue[Et];Ht.autoWidth=Se&&me==="auto",isNaN(parseFloat(me))&&(me=Ve[Et]);var qe=Ue[Vt];Ht.autoHeight=Pe&&qe==="auto",isNaN(parseFloat(qe))&&(qe=Ve[Vt]),mt.startDim.w=parseFloat(me),mt.startDim.h=parseFloat(qe),T=!1,_e&&(Ht.unitHeight=(0,k.getUnitFromValue)(qe),Ht.unitWidth=(0,k.getUnitFromValue)(me)),ir.activeResizer=!0,$.trigger("component:resize",Y(Y({},rr),{type:"start"}))},onMove:function(st){Qt(st),$.trigger("component:resize",Y(Y({},rr),{type:"move"}))},onEnd:function(st,yt){Dt(st,yt),fe("remove",st,yt),$.trigger("component:resize",Y(Y({},rr),{type:"end"})),P.toggleFramesEvents(!0),T=!0,ir.activeResizer=!1},updateTarget:function(st,yt,At){if(oe(st,yt,At),!!Jt){var Ht=At.store,mt=At.selectedHandler,Vt=At.config,Et=Vt.keyHeight,_e=Vt.keyWidth,Pe=Vt.autoHeight,Se=Vt.autoWidth,Ve=Vt.unitWidth,Ue=Vt.unitHeight,me=["tc","bc"].indexOf(mt)>=0,qe=["cl","cr"].indexOf(mt)>=0,Ae={};if(!me){var Ze=P.getBody().offsetWidth,Ar=yt.w<Ze?yt.w:Ze;Ae[_e]=Se?"auto":"".concat(Ar).concat(Ve)}qe||(Ae[Et]=Pe?"auto":"".concat(yt.h).concat(Ue)),G.getDragMode(y)&&(Ae.top="".concat(yt.t).concat(Ue),Ae.left="".concat(yt.l).concat(Ve));var xe=Y(Y({},Ae),{__p:!Ht});Jt.addStyle(xe,{avoidStore:!Ht}),G.Styles.__emitCmpStyleUpdate(xe,{components:G.getSelected()})}}},$t);this.resizer=$.runCommand("resize",{el:Kt,options:K,force:1})}else{if(wt)return;$.stopCommand("resize"),this.resizer=null}},updateToolbar:function(I){var N=this.canvas,G=this.config.em,P=I===G?G.getSelected():I,$=N.getToolbarEl(),y=$.style,rt=P.get("toolbar"),X=G.config.showToolbar,wt=!N.hasCustomSpot(Z.q.Select);if(P&&X&&rt&&rt.length&&wt){if(y.display="",!this.toolbar){$.innerHTML="",this.toolbar=new E(rt);var Kt=new R({collection:this.toolbar,em:G});$.appendChild(Kt.render().el)}this.toolbar.reset(rt),y.top="-100px",y.left="0"}else y.display="none"},updateToolbarPos:function(I){var N="px",G=this.canvas.getToolbarEl().style;G.top="".concat(I.top).concat(N),G.left="".concat(I.left).concat(N),G.opacity=""},getCanvasPosition:function(){return this.canvas.getCanvasView().getPosition()},getBadge:function(I){return I===void 0&&(I={}),this.canvas.getBadgeEl(I.view)},onFrameScroll:function(){this.updateTools(),this.canvas.refreshSpots()},onFrameResize:function(){this.canvas.refresh({all:!0})},updateTools:function(){this.updateLocalPos(),this.updateGlobalPos()},isCompSelected:function(I){return I&&I.get("status")==="selected"},updateToolsLocal:function(I){var N=this.em.getConfig(),G=I||this.getElHovered(),P=G.el,$=G.pos,y=G.view,rt=G.component;if(!P){this.lastHovered=0;return}var X=rt.get("hoverable"),wt=this.lastHovered!==P,Kt=wt?{}:{posOnly:1},Ct=this.canvas.hasCustomSpot(Z.q.Hover);wt&&X&&(this.lastHovered=P,Ct?this.hideHighlighter(y):this.showHighlighter(y),this.showElementOffset(P,$,{view:y})),this.isCompSelected(rt)&&(this.hideHighlighter(y),!N.showOffsetsSelected&&this.hideElementOffset(y));var Ut="px",zt=this.toggleToolsEl(1,y),Nt=zt.style,Qt=this.canvas.canvasRectOffset(P,$),Ot=Qt.top,Dt=Qt.left;!Ct&&this.updateBadge(P,$,Y(Y({},Kt),{view:y,topOff:Ot,leftOff:Dt})),Nt.top=Ot+Ut,Nt.left=Dt+Ut,Nt.width=$.width+Ut,Nt.height=$.height+Ut,this._trgToolUp("local",{component:rt,el:zt,top:Ot,left:Dt,width:$.width,height:$.height})},_upToolbar:(0,ct.debounce)(function(){this.updateToolsGlobal({force:1})},0),_trgToolUp:function(I,N){N===void 0&&(N={}),this.em.trigger("canvas:tools:update",Y({type:I},N))},updateToolsGlobal:function(I){I===void 0&&(I={});var N=this.getElSelected(),G=N.el,P=N.pos,$=N.component;if(!G){this.toggleToolsEl(),this.lastSelected=0;return}var y=this.canvas,rt=this.lastSelected!==G;(rt||I.force)&&(this.lastSelected=G,this.updateToolbar($));var X="px",wt=this.toggleToolsEl(1),Kt=wt.style,Ct=y.getTargetToElementFixed(G,y.getToolbarEl(),{pos:P}),Ut=Ct.canvasOffsetTop,zt=Ct.canvasOffsetLeft;Kt.top=Ut+X,Kt.left=zt+X,Kt.width=P.width+X,Kt.height=P.height+X,this.updateToolbarPos({top:Ct.top,left:Ct.left}),this._trgToolUp("global",{component:$,el:wt,top:Ut,left:zt,width:P.width,height:P.height})},updateAttached:(0,ct.debounce)(function(){this.updateGlobalPos()},0),onContainerChange:(0,ct.debounce)(function(){this.em.refreshCanvas()},150),getElementPos:function(I){return this.canvas.getCanvasView().getElementPos(I,{noScroll:!0})},hideBadge:function(){this.getBadge().style.display="none"},cleanPrevious:function(I){I&&I.set({status:"",state:""})},getContentWindow:function(){return this.canvas.getWindow()},run:function(I){(0,k.hasWin)()&&(this.editor=I&&I.get("Editor"),this.enable())},stop:function(I,N,G){if(G===void 0&&(G={}),!!(0,k.hasWin)()){var P=this,$=P.em,y=P.editor;this.onHovered(),this.stopSelectComponent(),!G.preserveSelected&&$.setSelected(),this.toggleToolsEl(),y&&y.stopCommand("resize")}}}},189:(V,vt,bt)=>{bt.r(vt),bt.d(vt,{default:()=>ht});var ct=bt(895);const ht={startSelectPosition:function(tt,q,x){var M=this;x===void 0&&(x={}),this.isPointed=!1;var m=this.em.Utils,E=tt.ownerDocument.body;m&&!this.sorter&&(this.sorter=new m.Sorter({container:E,placer:this.canvas.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:this.ppfx,direction:"a",document:q,wmargin:1,nested:1,em:this.em,canvasRelative:1,scale:function(){return M.em.getZoomDecimal()}})),x.onStart&&(this.sorter.onStart=x.onStart),tt&&this.sorter.startSort(tt,{container:E})},getOffsetDim:function(){var tt=this.offset(this.canvas.getFrameEl()),q=this.offset(this.canvas.getElement()),x=tt.top-q.top,M=tt.left-q.left;return{top:x,left:M}},stopSelectPosition:function(){this.posTargetCollection=null,this.posIndex=this.posMethod=="after"&&this.cDim.length!==0?this.posIndex+1:this.posIndex,this.sorter&&(this.sorter.moved=0,this.sorter.endMove()),this.cDim&&(this.posIsLastEl=this.cDim.length!==0&&this.posMethod=="after"&&this.posIndex==this.cDim.length,this.posTargetEl=this.cDim.length===0?(0,ct.default)(this.outsideElem):!this.posIsLastEl&&this.cDim[this.posIndex]?(0,ct.default)(this.cDim[this.posIndex][5]).parent():(0,ct.default)(this.outsideElem),this.posTargetModel=this.posTargetEl.data("model"),this.posTargetCollection=this.posTargetEl.data("model-comp"))},enable:function(){this.startSelectPosition()},nearFloat:function(tt,q,x){var M=tt||0,m=q||"before",E=x.length,w=E!==0&&m=="after"&&M==E;return E!==0&&(!w&&!x[M][4]||x[M-1]&&!x[M-1][4]||w&&!x[M-1][4])?1:0},run:function(){this.enable()},stop:function(){this.stopSelectPosition(),this.$wrapper.css("cursor",""),this.$wrapper.unbind()}}},804:(V,vt,bt)=>{bt.r(vt),bt.d(vt,{default:()=>x});var ct=bt(50),ht=bt(675),tt=bt(895),q=function(){return q=Object.assign||function(M){for(var m,E=1,w=arguments.length;E<w;E++){m=arguments[E];for(var C in m)Object.prototype.hasOwnProperty.call(m,C)&&(M[C]=m[C])}return M},q.apply(this,arguments)};const x={getOffsetMethod:function(M){var m=M||"";return"get"+m+"OffsetViewerEl"},run:function(M,m,E){var w=this.canvas,C=E||{},O=C.state||"",L=M.getConfig(),et=this.em.getZoomDecimal(),J=C.el;if(!L.showOffsets||!(J instanceof HTMLElement)||!L.showOffsetsSelected&&O=="Fixed"){M.stopCommand("".concat(this.id),E);return}if(!w.hasCustomSpot(ht.q.Spacing)){var U=q({},C.elPos||w.getElementPos(J));(0,ct.isUndefined)(C.top)||(U.top=C.top),(0,ct.isUndefined)(C.left)||(U.left=C.left);var R=window.getComputedStyle(J),D=this.ppfx,k=O+"State",Z=this.getOffsetMethod(O),ot=w[Z](E.view);ot.style.opacity="";var Y=this["marginT"+O],it=this["marginB"+O],T=this["marginL"+O],z=this["marginR"+O],I=this["padT"+O],N=this["padB"+O],G=this["padL"+O],P=this["padR"+O];if(ot.childNodes.length&&(this[k]="1",Y=ot.querySelector("[data-offset-m-t]"),it=ot.querySelector("[data-offset-m-b]"),T=ot.querySelector("[data-offset-m-l]"),z=ot.querySelector("[data-offset-m-r]"),I=ot.querySelector("[data-offset-p-t]"),N=ot.querySelector("[data-offset-p-b]"),G=ot.querySelector("[data-offset-p-l]"),P=ot.querySelector("[data-offset-p-r]")),!this[k]){var $=O.toLowerCase(),y=$+"margin-v",rt=$+"padding-v",X=(0,tt.default)('<div class="'.concat(D,'marginName">')).get(0),wt=(0,tt.default)('<div class="'.concat(D,'paddingName">')).get(0),Kt=D+y+"-el",Ct=D+rt+"-el",Ut="".concat(Kt," ").concat(D+y),zt="".concat(Ct," ").concat(D+rt);Y=(0,tt.default)('<div class="'.concat(Ut,'-top"></div>')).get(0),it=(0,tt.default)('<div class="'.concat(Ut,'-bottom"></div>')).get(0),T=(0,tt.default)('<div class="'.concat(Ut,'-left"></div>')).get(0),z=(0,tt.default)('<div class="'.concat(Ut,'-right"></div>')).get(0),I=(0,tt.default)('<div class="'.concat(zt,'-top"></div>')).get(0),N=(0,tt.default)('<div class="'.concat(zt,'-bottom"></div>')).get(0),G=(0,tt.default)('<div class="'.concat(zt,'-left"></div>')).get(0),P=(0,tt.default)('<div class="'.concat(zt,'-right"></div>')).get(0),this["marginT"+O]=Y,this["marginB"+O]=it,this["marginL"+O]=T,this["marginR"+O]=z,this["padT"+O]=I,this["padB"+O]=N,this["padL"+O]=G,this["padR"+O]=P,X.appendChild(Y),X.appendChild(it),X.appendChild(T),X.appendChild(z),wt.appendChild(I),wt.appendChild(N),wt.appendChild(G),wt.appendChild(P),ot.appendChild(X),ot.appendChild(wt),this[k]="1"}var Nt="px",Qt=parseFloat(R.marginLeft.replace(Nt,""))*et,Ot=parseFloat(R.marginRight.replace(Nt,""))*et,Dt=parseFloat(R.marginTop.replace(Nt,""))*et,Wt=parseFloat(R.marginBottom.replace(Nt,""))*et,oe=Y.style,$t=it.style,Jt=T.style,ue=z.style,Ne=I.style,tr=N.style,ir=G.style,rr=P.style,fe=parseFloat(U.left),K=parseFloat(R.width)*et+Nt;oe.height=Dt+Nt,oe.width=K,oe.top=U.top-Dt+Nt,oe.left=fe+Nt,$t.height=Wt+Nt,$t.width=K,$t.top=U.top+U.height+Nt,$t.left=fe+Nt;var st=U.height+Dt+Wt+Nt,yt=U.top-Dt+Nt;Jt.height=st,Jt.width=Qt+Nt,Jt.top=yt,Jt.left=fe-Qt+Nt,ue.height=st,ue.width=Ot+Nt,ue.top=yt,ue.left=fe+U.width+Nt;var At=parseFloat(R.paddingTop)*et;Ne.height=At+Nt;var Ht=parseFloat(R.paddingBottom)*et;tr.height=Ht+Nt;var mt=U.height-Ht-At+Nt,Vt=U.top+At+Nt;ir.height=mt,ir.width=parseFloat(R.paddingLeft)*et+Nt,ir.top=Vt;var Et=parseFloat(R.paddingRight)*et;rr.height=mt,rr.width=Et+Nt,rr.top=Vt}},stop:function(M,m,E){E===void 0&&(E={});var w=E||{},C=w.state||"",O=this.getOffsetMethod(C),L=E.view,et=this.canvas,J=et[O](L);J.style.opacity=0}}},434:(V,vt,bt)=>{bt.r(vt),bt.d(vt,{default:()=>tt});var ct=bt(50),ht=bt(163);const tt={init:function(){(0,ct.bindAll)(this,"_onFramesChange")},run:function(q){this.toggleVis(q,!0)},stop:function(q){this.toggleVis(q,!1)},toggleVis:function(q,x){if(x===void 0&&(x=!0),!q.Commands.isActive("preview")){var M=q.Canvas,m=x?"on":"off",E=M.getModel();E[m]("change:frames",this._onFramesChange),this.handleFrames(M.getFrames(),x)}},handleFrames:function(q,x){var M=this;q.forEach(function(m){var E;!((E=m.view)===null||E===void 0)&&E.loaded&&M._upFrame(m,x),m.__ol||(m.on("loaded",function(){return M._upFrame(m)}),m.__ol=!0)})},_onFramesChange:function(q,x){this.handleFrames(x)},_upFrame:function(q,x){var M,m=this,E=m.ppfx,w=m.em,C=m.id,O=(0,ht.isDef)(x)?x:w.Commands.isActive(C),L=O?"add":"remove",et="".concat(E,"dashed");(M=q.view)===null||M===void 0||M.getBody().classList[L](et)}}},346:(V,vt,bt)=>{bt.d(vt,{FE:()=>M,G7:()=>m,Hn:()=>x,pH:()=>w,vA:()=>E});var ct=bt(316),ht=bt.n(ct),tt=function(){var C=function(O,L){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,J){et.__proto__=J}||function(et,J){for(var U in J)Object.prototype.hasOwnProperty.call(J,U)&&(et[U]=J[U])},C(O,L)};return function(O,L){if(typeof L!="function"&&L!==null)throw new TypeError("Class extends value "+String(L)+" is not a constructor or null");C(O,L);function et(){this.constructor=O}O.prototype=L===null?Object.create(L):(et.prototype=L.prototype,new et)}}(),q=function(){return q=Object.assign||function(C){for(var O,L=1,et=arguments.length;L<et;L++){O=arguments[L];for(var J in O)Object.prototype.hasOwnProperty.call(O,J)&&(C[J]=O[J])}return C},q.apply(this,arguments)},x=function(C){tt(O,C);function O(){return C!==null&&C.apply(this,arguments)||this}return O}(ht().Model),M=function(C){tt(O,C);function O(){return C!==null&&C.apply(this,arguments)||this}return O}(ht().Collection),m=function(C){tt(O,C);function O(){return C!==null&&C.apply(this,arguments)||this}return O}(ht().View),E;(function(C){C.Screen="screen",C.World="world"})(E||(E={}));var w={x:0,y:0};q(q({},w),{width:0,height:0})},184:(V,vt,bt)=>{bt.d(vt,{W:()=>ct,g:()=>ht});var ct;(function(tt){tt.remove="component:remove",tt.add="component:add",tt.move="component:move"})(ct||(ct={}));var ht;(function(tt){tt.add="component:add",tt.remove="component:remove",tt.removeBefore="component:remove:before",tt.create="component:create",tt.update="component:update",tt.updateInside="component:update-inside",tt.symbolMainAdd="symbol:main:add",tt.symbolMainUpdate="symbol:main:update",tt.symbolMainUpdateDeep="symbol:main:update-deep",tt.symbolMainRemove="symbol:main:remove",tt.symbolMain="symbol:main",tt.symbolInstanceAdd="symbol:instance:add",tt.symbolInstanceRemove="symbol:instance:remove",tt.symbolInstance="symbol:instance",tt.symbol="symbol"})(ht||(ht={}))},330:(V,vt,bt)=>{bt.d(vt,{Z:()=>x});var ct=bt(50),ht=bt(346),tt=function(){var M=function(m,E){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,C){w.__proto__=C}||function(w,C){for(var O in C)Object.prototype.hasOwnProperty.call(C,O)&&(w[O]=C[O])},M(m,E)};return function(m,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");M(m,E);function w(){this.constructor=m}m.prototype=E===null?Object.create(E):(w.prototype=E.prototype,new w)}}(),q=function(M){tt(m,M);function m(E,w,C){E===void 0&&(E={}),C===void 0&&(C=!1);var O=M.call(this,E)||this;return O.itemsView="",O.itemType="type",O.reuseView=!1,O.config=w||E.config||{},C&&O.listenTo(O.collection,"add",O.addTo),O.items=[],O}return m.prototype.addTo=function(E){this.add(E)},m.prototype.itemViewNotFound=function(E){var w=this,C=w.config,O=w.ns,L=C.em,et="".concat(O?"[".concat(O,"]: "):"","'").concat(E,"' type not found");L&&L.logWarning(et)},m.prototype.add=function(E,w){var C=this,O=C.config,L=C.reuseView,et=C.items,J=this.itemsView||{},U=["button","checkbox","color","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"],R=w||null,D=this.itemView,k=E.get(this.itemType),Z;J[k]?D=J[k]:k&&!J[k]&&!(0,ct.includes)(U,k)&&this.itemViewNotFound(k),E.view&&L?Z=E.view:Z=new D({model:E,config:O},O),et&&et.push(Z);var ot=Z.render().el;R?R.appendChild(ot):this.$el.append(ot)},m.prototype.render=function(){var E=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(w){this.add(w,E)},this),this.$el.append(E),this.onRender(),this},m.prototype.onRender=function(){},m.prototype.onRemoveBefore=function(E,w){},m.prototype.onRemove=function(E,w){},m.prototype.remove=function(E){E===void 0&&(E={});var w=this.items;return this.onRemoveBefore(w,E),this.clearItems(),M.prototype.remove.call(this),this.onRemove(w,E),this},m.prototype.clearItems=function(){this.items},m}(ht.G7);const x=q;q.prototype.itemView=""},668:(V,vt,bt)=>{bt.d(vt,{Z:()=>m});var ct=bt(50),ht=bt(491),tt=function(){return tt=Object.assign||function(E){for(var w,C=1,O=arguments.length;C<O;C++){w=arguments[C];for(var L in w)Object.prototype.hasOwnProperty.call(w,L)&&(E[L]=w[L])}return E},tt.apply(this,arguments)},q=function(){return{x:0,y:0}},x=["x","y"],M=function(){function E(w){return w===void 0&&(w={}),this.opts={snapOffset:5,scale:1},(0,ct.bindAll)(this,"drag","stop","keyHandle","handleScroll"),this.setOptions(w),this.delta=q(),this.lastScroll=q(),this.lastScrollDiff=q(),this.startPointer=q(),this.startPosition=q(),this.globScrollDiff=q(),this.currentPointer=q(),this.position=q(),this.guidesStatic=[],this.guidesTarget=[],this.docs=[],this}return E.prototype.setOptions=function(w){w===void 0&&(w={}),this.opts=tt(tt({},this.opts),w)},E.prototype.toggleDrag=function(w){var C=this.getDocumentEl(),O=this.getContainerEl(),L=this.getWindowEl(),et=w?"on":"off",J={on:ht.on,off:ht.S1};J[et](O,"mousemove dragover",this.drag),J[et](C,"mouseup dragend touchend",this.stop),J[et](C,"keydown",this.keyHandle),J[et](L,"scroll",this.handleScroll)},E.prototype.handleScroll=function(){var w=this,C=w.lastScroll,O=w.delta,L=this.getScrollInfo(),et={x:L.x-C.x,y:L.y-C.y};this.move(O.x+et.x,O.y+et.y),this.lastScrollDiff=et},E.prototype.start=function(w){var C=this.opts,O=C.onStart;this.toggleDrag(!0),this.startPointer=this.getPointerPos(w),this.guidesStatic=(0,ct.result)(C,"guidesStatic")||[],this.guidesTarget=(0,ct.result)(C,"guidesTarget")||[],(0,ct.isFunction)(O)&&O(w,this),this.startPosition=this.getStartPosition(),this.lastScrollDiff=q(),this.globScrollDiff=q(),this.drag(w)},E.prototype.drag=function(w){var C=this,O=this,L=O.opts,et=O.lastScrollDiff,J=O.globScrollDiff,U=L.onDrag,R=this.startPointer,D=this.getPointerPos(w),k={x:J.x+et.x,y:J.y+et.y};this.globScrollDiff=k;var Z={x:D.x-R.x+k.x,y:D.y-R.y+k.y};this.lastScrollDiff=q();var ot=this.lockedAxis;w.shiftKey?ot=!ot&&this.detectAxisLock(Z.x,Z.y):ot=null,ot==="x"?Z.x=R.x:ot==="y"&&(Z.y=R.y);var Y=function(G){x.forEach(function(P){return G[P]=G[P]*(0,ct.result)(L,"scale")}),C.delta=G,C.move(G.x,G.y),(0,ct.isFunction)(U)&&U(w,C)},it=tt({},Z);if(this.currentPointer=D,this.lockedAxis=ot,this.lastScroll=this.getScrollInfo(),Y(Z),this.guidesTarget.length){var T=this.snapGuides(it),z=T.newDelta,I=T.trgX,N=T.trgY;(I||N)&&Y(z)}w.which===0&&this.stop(w)},E.prototype.snapGuides=function(w){var C=this,O=w,L=this,et=L.trgX,J=L.trgY;return this.guidesTarget.forEach(function(U){U.x&&C.trgX||U.y&&C.trgY||(U.active=!1,C.guidesStatic.forEach(function(R){if(!(U.y&&R.x||U.x&&R.y)){var D=U.y&&R.y,k=D?"y":"x",Z=U[k],ot=R[k],Y=w[k],it=D?J:et;if(C.isPointIn(Z,ot)&&(0,ct.isUndefined)(it)){var T=Y-(Z-ot);C.setGuideLock(U,T)}}}))}),et=this.trgX,J=this.trgY,x.forEach(function(U){var R=U.toUpperCase(),D=C["trg".concat(R)];D&&!C.isPointIn(w[U],D.lock)&&(C.setGuideLock(D,null),D=null),D&&!(0,ct.isUndefined)(D.lock)&&(O[U]=D.lock)}),{newDelta:O,trgX:this.trgX,trgY:this.trgY}},E.prototype.isPointIn=function(w,C,O){var L=O===void 0?{}:O,et=L.offset,J=et||this.opts.snapOffset||0;return w>=C&&w<=C+J||w<=C&&w>=C-J},E.prototype.setGuideLock=function(w,C){var O=(0,ct.isUndefined)(w.x)?"Y":"X",L="trg".concat(O);return C!==null?(w.active=!0,w.lock=C,this[L]=w):(delete w.active,delete w.lock,delete this[L]),w},E.prototype.stop=function(w,C){C===void 0&&(C={});var O=this.delta,L=!!C.cancel,et=L?0:O.x,J=L?0:O.y;this.toggleDrag(),this.lockedAxis=null,this.move(et,J,!0);var U=this.opts.onEnd;(0,ct.isFunction)(U)&&U(w,this,{cancelled:L})},E.prototype.keyHandle=function(w){(0,ht.kl)(w)&&this.stop(w,{cancel:!0})},E.prototype.move=function(w,C,O){var L=this,et=L.el,J=L.opts,U=this.startPosition;if(U){var R=J.setPosition,D=U.x+w,k=U.y+C;this.position={x:D,y:k,end:O},(0,ct.isFunction)(R)&&R(this.position),et&&(et.style.left="".concat(D,"px"),et.style.top="".concat(k,"px"))}},E.prototype.getContainerEl=function(){var w=this.opts.container;return w?[w]:this.getDocumentEl()},E.prototype.getWindowEl=function(){var w=this.getContainerEl();return w.map(function(C){var O=C.ownerDocument||C;return O.defaultView||O.parentWindow})},E.prototype.getDocumentEl=function(w){var C=this.opts.doc;if(w=w||this.el,!this.docs.length){var O=[document];w&&O.push(w.ownerDocument),C&&O.push(C),this.docs=O}return this.docs},E.prototype.getPointerPos=function(w){var C=this.opts.getPointerPosition,O=(0,ht.VB)(w);return C?C(w):{x:O.clientX,y:O.clientY}},E.prototype.getStartPosition=function(){var w=this,C=w.el,O=w.opts,L=O.getPosition,et=q();return(0,ct.isFunction)(L)?et=L():C&&(et={x:parseFloat(C.style.left),y:parseFloat(C.style.top)}),et},E.prototype.getScrollInfo=function(){var w=this.opts.doc,C=w&&w.body;return{y:C?C.scrollTop:0,x:C?C.scrollLeft:0}},E.prototype.detectAxisLock=function(w,C){var O=w,L=C,et=Math.abs(O),J=Math.abs(L);if(L>=et||L<=-et)return"x";if(O>J||O<-J)return"y"},E}();const m=M},895:(V,vt,bt)=>{bt.r(vt),bt.d(vt,{default:()=>Kn});var ct=typeof document<"u"?document:null,ht=typeof window<"u"?window:null,tt=Array.prototype,q=tt.filter,x=tt.indexOf,M=tt.map,m=tt.push,E=tt.reverse,w=tt.slice,C=tt.splice,O=/^#[\w-]*$/,L=/^\.[\w-]*$/,et=/<.+>/,J=/^\w+$/;function U(at,Tt){return Tt===void 0&&(Tt=ct),L.test(at)?Tt.getElementsByClassName(at.slice(1)):J.test(at)?Tt.getElementsByTagName(at):Tt.querySelectorAll(at)}function R(at,Tt){if(Tt===void 0&&(Tt=ct),!!at){if(at.__cash)return at;var Lt=at;if(G(at)){if(Tt.__cash&&(Tt=Tt[0]),Lt=O.test(at)?Tt.getElementById(at.slice(1)):et.test(at)?lr(at):U(at,Tt),!Lt)return}else if(N(at))return this.ready(at);(Lt.nodeType||Lt===ht)&&(Lt=[Lt]),this.length=Lt.length;for(var Yt=0,ve=this.length;Yt<ve;Yt++)this[Yt]=Lt[Yt]}}function D(at,Tt){return new R(at,Tt)}var k=D.fn=D.prototype=R.prototype={constructor:D,__cash:!0,length:0,splice:C};k.get=function(at){return at===void 0?w.call(this):this[at<0?at+this.length:at]},k.eq=function(at){return D(this.get(at))},k.first=function(){return this.eq(0)},k.last=function(){return this.eq(-1)},k.map=function(at){return D(M.call(this,function(Tt,Lt){return at.call(Tt,Lt,Tt)}))},k.slice=function(){return D(w.apply(this,arguments))};var Z=/(?:^\w|[A-Z]|\b\w)/g,ot=/[\s-_]+/g;function Y(at){return at.replace(Z,function(Tt,Lt){return Tt[Lt?"toUpperCase":"toLowerCase"]()}).replace(ot,"")}D.camelCase=Y;function it(at,Tt){for(var Lt=0,Yt=at.length;Lt<Yt&&Tt.call(at[Lt],at[Lt],Lt,at)!==!1;Lt++);}D.each=it,k.each=function(at){return it(this,function(Tt,Lt){return at.call(Tt,Lt,Tt)}),this},k.removeProp=function(at){return this.each(function(Tt,Lt){delete Lt[at]})};function T(at){at===void 0&&(at=this);for(var Tt=arguments,Lt=Tt.length,Yt=Lt<2?0:1;Yt<Lt;Yt++)for(var ve in Tt[Yt])at[ve]=Tt[Yt][ve];return at}D.extend=k.extend=T;var z=1;D.guid=z;function I(at,Tt){var Lt=at&&(at.matches||at.webkitMatchesSelector||at.mozMatchesSelector||at.msMatchesSelector||at.oMatchesSelector);return!!Lt&&Lt.call(at,Tt)}D.matches=I;function N(at){return typeof at=="function"}D.isFunction=N;function G(at){return typeof at=="string"}D.isString=G;function P(at){return!isNaN(parseFloat(at))&&isFinite(at)}D.isNumeric=P;var $=Array.isArray;D.isArray=$,k.prop=function(at,Tt){if(at){if(G(at))return arguments.length<2?this[0]&&this[0][at]:this.each(function(Yt,ve){ve[at]=Tt});for(var Lt in at)this.prop(Lt,at[Lt]);return this}};function y(at){return G(at)?function(Tt,Lt){return I(Lt,at)}:at.__cash?function(Tt,Lt){return at.is(Lt)}:function(Tt,Lt,Yt){return Lt===Yt}}k.filter=function(at){if(!at)return D();var Tt=N(at)?at:y(at);return D(q.call(this,function(Lt,Yt){return Tt.call(Lt,Yt,Lt,at)}))};var rt=/\S+/g;function X(at){return G(at)?at.match(rt)||[]:[]}k.hasClass=function(at){var Tt=X(at),Lt=!1;return Tt.length&&this.each(function(Yt,ve){return Lt=ve.classList.contains(Tt[0]),!Lt}),Lt},k.removeAttr=function(at){var Tt=X(at);return Tt.length?this.each(function(Lt,Yt){it(Tt,function(ve){Yt.removeAttribute(ve)})}):this},k.attr=function(at,Tt){if(at){if(G(at)){if(arguments.length<2){if(!this[0])return;var Lt=this[0].getAttribute(at);return Lt===null?void 0:Lt}return Tt===null?this.removeAttr(at):this.each(function(ve,je){je.setAttribute(at,Tt)})}for(var Yt in at)this.attr(Yt,at[Yt]);return this}},k.toggleClass=function(at,Tt){var Lt=X(at),Yt=Tt!==void 0;return Lt.length?this.each(function(ve,je){it(Lt,function(Ye){Yt?Tt?je.classList.add(Ye):je.classList.remove(Ye):je.classList.toggle(Ye)})}):this},k.addClass=function(at){return this.toggleClass(at,!0)},k.removeClass=function(at){return arguments.length?this.toggleClass(at,!1):this.attr("class","")};function wt(at){return at.filter(function(Tt,Lt,Yt){return Yt.indexOf(Tt)===Lt})}D.unique=wt,k.add=function(at,Tt){return D(wt(this.get().concat(D(at,Tt).get())))};function Kt(at,Tt,Lt){if(at.nodeType===1){var Yt=ht.getComputedStyle(at,null);return Tt?Lt?Yt.getPropertyValue(Tt):Yt[Tt]:Yt}}function Ct(at,Tt){return parseInt(Kt(at,Tt),10)||0}var Ut=/^--/;function zt(at){return Ut.test(at)}var Nt={},Qt=ct&&ct.createElement("div"),Ot=Qt?Qt.style:{},Dt=["webkit","moz","ms","o"];function Wt(at,Tt){if(Tt===void 0&&(Tt=zt(at)),Tt)return at;if(!Nt[at]){var Lt=Y(at),Yt=""+Lt.charAt(0).toUpperCase()+Lt.slice(1),ve=(Lt+" "+Dt.join(Yt+" ")+Yt).split(" ");it(ve,function(je){if(je in Ot)return Nt[at]=je,!1})}return Nt[at]}D.prefixedProp=Wt;var oe={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function $t(at,Tt,Lt){return Lt===void 0&&(Lt=zt(at)),!Lt&&!oe[at]&&P(Tt)?Tt+"px":Tt}k.css=function(at,Tt){if(G(at)){var Lt=zt(at);return at=Wt(at,Lt),arguments.length<2?this[0]&&Kt(this[0],at,Lt):at?(Tt=$t(at,Tt,Lt),this.each(function(ve,je){je.nodeType===1&&(Lt?je.style.setProperty(at,Tt):je.style[at]=Tt)})):this}for(var Yt in at)this.css(Yt,at[Yt]);return this};var Jt="__cashData",ue=/^data-(.*)/;D.hasData=function(at){return Jt in at};function Ne(at){return at[Jt]=at[Jt]||{}}function tr(at,Tt){var Lt=Ne(at);if(Tt){if(!(Tt in Lt)){var Yt=at.dataset?at.dataset[Tt]||at.dataset[Y(Tt)]:D(at).attr("data-"+Tt);if(Yt!==void 0){try{Yt=JSON.parse(Yt)}catch{}Lt[Tt]=Yt}}return Lt[Tt]}return Lt}function ir(at,Tt){Tt===void 0?delete at[Jt]:delete Ne(at)[Tt]}function rr(at,Tt,Lt){Ne(at)[Tt]=Lt}k.data=function(at,Tt){var Lt=this;if(!at)return this[0]?(it(this[0].attributes,function(ve){var je=ve.name.match(ue);je&&Lt.data(je[1])}),tr(this[0])):void 0;if(G(at))return Tt===void 0?this[0]&&tr(this[0],at):this.each(function(ve,je){return rr(je,at,Tt)});for(var Yt in at)this.data(Yt,at[Yt]);return this},k.removeData=function(at){return this.each(function(Tt,Lt){return ir(Lt,at)})};function fe(at,Tt){return Ct(at,"border"+(Tt?"Left":"Top")+"Width")+Ct(at,"padding"+(Tt?"Left":"Top"))+Ct(at,"padding"+(Tt?"Right":"Bottom"))+Ct(at,"border"+(Tt?"Right":"Bottom")+"Width")}it(["Width","Height"],function(at){k["inner"+at]=function(){if(this[0])return this[0]===ht?ht["inner"+at]:this[0]["client"+at]}}),it(["width","height"],function(at,Tt){k[at]=function(Lt){return this[0]?arguments.length?(Lt=parseInt(Lt,10),this.each(function(Yt,ve){if(ve.nodeType===1){var je=Kt(ve,"boxSizing");ve.style[at]=$t(at,Lt+(je==="border-box"?fe(ve,!Tt):0))}})):this[0]===ht?this[0][Y("outer-"+at)]:this[0].getBoundingClientRect()[at]-fe(this[0],!Tt):Lt===void 0?void 0:this}}),it(["Width","Height"],function(at,Tt){k["outer"+at]=function(Lt){if(this[0])return this[0]===ht?ht["outer"+at]:this[0]["offset"+at]+(Lt?Ct(this[0],"margin"+(Tt?"Top":"Left"))+Ct(this[0],"margin"+(Tt?"Bottom":"Right")):0)}});function K(at,Tt){for(var Lt=0,Yt=Tt.length;Lt<Yt;Lt++)if(at.indexOf(Tt[Lt])<0)return!1;return!0}function st(at,Tt,Lt){it(at[Lt],function(Yt){Yt[0];var ve=Yt[1];Tt.removeEventListener(Lt,ve)}),delete at[Lt]}var yt="__cashEvents",At=".";function Ht(at){return at[yt]=at[yt]||{}}function mt(at,Tt,Lt,Yt){Yt.guid=Yt.guid||z++;var ve=Ht(at);ve[Tt]=ve[Tt]||[],ve[Tt].push([Lt,Yt]),at.addEventListener(Tt,Yt)}function Vt(at){var Tt=at.split(At);return[Tt[0],Tt.slice(1).sort()]}function Et(at,Tt,Lt,Yt){var ve=Ht(at);if(Tt){var je=ve[Tt];if(!je)return;Yt&&(Yt.guid=Yt.guid||z++),ve[Tt]=je.filter(function(Ye){var ln=Ye[0],xn=Ye[1];if(Yt&&xn.guid!==Yt.guid||!K(ln,Lt))return!0;at.removeEventListener(Tt,xn)})}else if(!Lt||!Lt.length)for(Tt in ve)st(ve,at,Tt);else for(Tt in ve)Et(at,Tt,Lt,Yt)}k.off=function(at,Tt){var Lt=this;return at===void 0?this.each(function(Yt,ve){return Et(ve)}):it(X(at),function(Yt){var ve=Vt(Yt),je=ve[0],Ye=ve[1];Lt.each(function(ln,xn){return Et(xn,je,Ye,Tt)})}),this},k.on=function(at,Tt,Lt,Yt){var ve=this;if(!G(at)){for(var je in at)this.on(je,Tt,at[je]);return this}return N(Tt)&&(Lt=Tt,Tt=!1),it(X(at),function(Ye){var ln=Vt(Ye),xn=ln[0],xr=ln[1];ve.each(function(Lo,vn){var Cn=function bo(Mr){if(!(Mr.namespace&&!K(xr,Mr.namespace.split(At)))){var Cr=vn;if(Tt){for(var zr=Mr.target;!I(zr,Tt);)if(zr===vn||(zr=zr.parentNode,!zr))return;Cr=zr}Mr.namespace=Mr.namespace||"";var Sn=Lt.call(Cr,Mr,Mr.data);Yt&&Et(vn,xn,xr,bo),Sn===!1&&(Mr.preventDefault(),Mr.stopPropagation())}};Cn.guid=Lt.guid=Lt.guid||z++,mt(vn,xn,xr,Cn)})}),this},k.one=function(at,Tt,Lt){return this.on(at,Tt,Lt,!0)},k.ready=function(at){var Tt=function(){return at(D)};return ct.readyState!=="loading"?setTimeout(Tt):ct.addEventListener("DOMContentLoaded",Tt),this},k.trigger=function(at,Tt){var Lt=at;if(G(at)){var Yt=Vt(at),ve=Yt[0],je=Yt[1];Lt=ct.createEvent("HTMLEvents"),Lt.initEvent(ve,!0,!0),Lt.namespace=je.join(At)}return Lt.data=Tt,this.each(function(Ye,ln){ln.dispatchEvent(Lt)})};function _e(at){var Tt=[];return it(at.options,function(Lt){Lt.selected&&!Lt.disabled&&!Lt.parentNode.disabled&&Tt.push(Lt.value)}),Tt}function Pe(at){return at.selectedIndex<0?null:at.options[at.selectedIndex].value}var Se=/select-one/i,Ve=/select-multiple/i;function Ue(at){var Tt=at.type;return Se.test(Tt)?Pe(at):Ve.test(Tt)?_e(at):at.value}var me=/%20/g;function qe(at,Tt){return"&"+encodeURIComponent(at)+"="+encodeURIComponent(Tt).replace(me,"+")}var Ae=/file|reset|submit|button|image/i,Ze=/radio|checkbox/i;k.serialize=function(){var at="";return this.each(function(Tt,Lt){it(Lt.elements||[Lt],function(Yt){if(!(Yt.disabled||!Yt.name||Yt.tagName==="FIELDSET")&&!Ae.test(Yt.type)&&!(Ze.test(Yt.type)&&!Yt.checked)){var ve=Ue(Yt);if(ve!==void 0){var je=$(ve)?ve:[ve];it(je,function(Ye){at+=qe(Yt.name,Ye)})}}})}),at.substr(1)},k.val=function(at){return at===void 0?this[0]&&Ue(this[0]):this.each(function(Tt,Lt){var Yt=Ve.test(Lt.type),ve=at===null?Yt?[]:"":at;Yt&&$(ve)?it(Lt.options,function(je){je.selected=ve.indexOf(je.value)>=0}):Lt.value=ve})},k.clone=function(){return this.map(function(at,Tt){return Tt.cloneNode(!0)})},k.detach=function(){return this.each(function(at,Tt){Tt.parentNode&&Tt.parentNode.removeChild(Tt)})};var Ar=/^\s*<(\w+)[^>]*>/,xe=/^\s*<(\w+)\s*\/?>(?:<\/\1>)?\s*$/,Tr;function Le(){if(!Tr){var at=ct.createElement("table"),Tt=ct.createElement("tr");Tr={"*":ct.createElement("div"),tr:ct.createElement("tbody"),td:Tt,th:Tt,thead:at,tbody:at,tfoot:at}}}function lr(at){if(Le(),!G(at))return[];if(xe.test(at))return[ct.createElement(RegExp.$1)];var Tt=Ar.test(at)&&RegExp.$1,Lt=Tr[Tt]||Tr["*"];return Lt.innerHTML=at,D(Lt.childNodes).detach().get()}D.parseHTML=lr,k.empty=function(){var at=this[0];if(at)for(;at.firstChild;)at.removeChild(at.firstChild);return this};function fr(at,Tt,Lt){Lt?at.insertBefore(Tt,at.childNodes[0]):at.appendChild(Tt)}function dr(at,Tt,Lt){if(Tt!==void 0){var Yt=G(Tt);!Yt&&Tt.length?it(Tt,function(ve){return dr(at,ve,Lt)}):it(at,Yt?function(ve){ve.insertAdjacentHTML(Lt?"afterbegin":"beforeend",Tt)}:function(ve,je){return fr(ve,je?Tt.cloneNode(!0):Tt,Lt)})}}k.append=function(){var at=this;return it(arguments,function(Tt){dr(at,Tt)}),this},k.appendTo=function(at){return dr(D(at),this),this},k.html=function(at){if(at===void 0)return this[0]&&this[0].innerHTML;var Tt=at.nodeType?at[0].outerHTML:at;return this.each(function(Lt,Yt){Yt.innerHTML=Tt})},k.insertAfter=function(at){var Tt=this;return D(at).each(function(Lt,Yt){var ve=Yt.parentNode;Tt.each(function(je,Ye){ve.insertBefore(Lt?Ye.cloneNode(!0):Ye,Yt.nextSibling)})}),this},k.after=function(){var at=this;return it(E.apply(arguments),function(Tt){E.apply(D(Tt).slice()).insertAfter(at)}),this},k.insertBefore=function(at){var Tt=this;return D(at).each(function(Lt,Yt){var ve=Yt.parentNode;Tt.each(function(je,Ye){ve.insertBefore(Lt?Ye.cloneNode(!0):Ye,Yt)})}),this},k.before=function(){var at=this;return it(arguments,function(Tt){D(Tt).insertBefore(at)}),this},k.prepend=function(){var at=this;return it(arguments,function(Tt){dr(at,Tt,!0)}),this},k.prependTo=function(at){return dr(D(at),E.apply(this.slice()),!0),this},k.remove=function(){return this.detach().off()},k.replaceWith=function(at){var Tt=this;return this.each(function(Lt,Yt){var ve=Yt.parentNode;if(ve){var je=Lt?D(at).clone():D(at);if(!je[0])return Tt.remove(),!1;ve.replaceChild(je[0],Yt),D(je[0]).after(je.slice(1))}})},k.replaceAll=function(at){return D(at).replaceWith(this),this},k.text=function(at){return at===void 0?this[0]?this[0].textContent:"":this.each(function(Tt,Lt){Lt.textContent=at})};var ee=ct&&ct.documentElement;k.offset=function(){var at=this[0];if(at){var Tt=at.getBoundingClientRect();return{top:Tt.top+ht.pageYOffset-ee.clientTop,left:Tt.left+ht.pageXOffset-ee.clientLeft}}},k.offsetParent=function(){return D(this[0]&&this[0].offsetParent)},k.position=function(){var at=this[0];if(at)return{left:at.offsetLeft,top:at.offsetTop}},k.children=function(at){var Tt=[];return this.each(function(Lt,Yt){m.apply(Tt,Yt.children)}),Tt=D(wt(Tt)),at?Tt.filter(function(Lt,Yt){return I(Yt,at)}):Tt},k.contents=function(){var at=[];return this.each(function(Tt,Lt){m.apply(at,Lt.tagName==="IFRAME"?[Lt.contentDocument]:Lt.childNodes)}),D(at.length&&wt(at))},k.find=function(at){for(var Tt=[],Lt=0,Yt=this.length;Lt<Yt;Lt++){var ve=U(at,this[Lt]);ve.length&&m.apply(Tt,ve)}return D(Tt.length&&wt(Tt))},k.has=function(at){var Tt=G(at)?function(Lt,Yt){return!!U(at,Yt).length}:function(Lt,Yt){return Yt.contains(at)};return this.filter(Tt)},k.is=function(at){if(!at||!this[0])return!1;var Tt=y(at),Lt=!1;return this.each(function(Yt,ve){return Lt=Tt(Yt,ve,at),!Lt}),Lt},k.next=function(){return D(this[0]&&this[0].nextElementSibling)},k.not=function(at){if(!at||!this[0])return this;var Tt=y(at);return this.filter(function(Lt,Yt){return!Tt(Lt,Yt,at)})},k.parent=function(){var at=[];return this.each(function(Tt,Lt){Lt&&Lt.parentNode&&at.push(Lt.parentNode)}),D(wt(at))},k.index=function(at){var Tt=at?D(at)[0]:this[0],Lt=at?this:D(Tt).parent().children();return x.call(Lt,Tt)},k.closest=function(at){return!at||!this[0]?D():this.is(at)?this.filter(at):this.parent().closest(at)},k.parents=function(at){var Tt=[],Lt;return this.each(function(Yt,ve){for(Lt=ve;Lt&&Lt.parentNode&&Lt!==ct.body.parentNode;)Lt=Lt.parentNode,(!at||at&&I(Lt,at))&&Tt.push(Lt)}),D(wt(Tt))},k.prev=function(){return D(this[0]&&this[0].previousElementSibling)},k.siblings=function(){var at=this[0];return this.parent().children().filter(function(Tt,Lt){return Lt!==at})};const Kn=D},491:(V,vt,bt)=>{bt.d(vt,{$Q:()=>et,BM:()=>Z,FW:()=>C,G1:()=>x,GX:()=>T,L_:()=>m,Mx:()=>M,R3:()=>J,S1:()=>Kt,SJ:()=>k,Ut:()=>it,VB:()=>N,Vb:()=>y,cx:()=>E,dL:()=>L,hy:()=>rt,kl:()=>G,nB:()=>X,o5:()=>Y,on:()=>wt,pn:()=>O,r$:()=>P,rw:()=>R,sE:()=>w,sN:()=>I,t3:()=>D,ut:()=>U});var ct=bt(50),ht=function(Ct,Ut,zt){if(zt||arguments.length===2)for(var Nt=0,Qt=Ut.length,Ot;Nt<Qt;Nt++)(Ot||!(Nt in Ut))&&(Ot||(Ot=Array.prototype.slice.call(Ut,0,Nt)),Ot[Nt]=Ut[Nt]);return Ct.concat(Ot||Array.prototype.slice.call(Ut))},tt="tag",q="attributes",x="transitionend oTransitionEnd transitionend webkitTransitionEnd",M=function(Ct){return(Ct==null?void 0:Ct.nodeType)===Node.DOCUMENT_NODE},m=function(Ct){var Ut=Ct&&Ct.parentNode;Ut&&Ut.removeChild(Ct)};function E(){for(var Ct=[],Ut=0;Ut<arguments.length;Ut++)Ct[Ut]=arguments[Ut];var zt=Array.isArray(Ct[0])?Ct[0]:ht([],Ct,!0);return zt.filter(Boolean).join(" ")}var w=function(Ct,Ut){return Ct.querySelectorAll(Ut)},C=function(Ct,Ut){return Ut===void 0&&(Ut={}),Ct&&Ct.setAttribute&&(0,ct.each)(Ut,function(zt,Nt){return Ct.setAttribute(Nt,zt)})},O=function(Ct){var Ut;return Ct&&!!(Ct.offsetWidth||Ct.offsetHeight||!((Ut=Ct.getClientRects)===null||Ut===void 0)&&Ut.call(Ct).length)},L=function(Ct,Ut){var zt;(zt=Ct.parentNode)===null||zt===void 0||zt.replaceChild(Ut,Ct)},et=function(Ct,Ut,zt){var Nt=Ct.childNodes,Qt=Nt.length,Ot=(0,ct.isUndefined)(zt)?Qt:zt;(0,ct.isString)(Ut)&&(Ct.insertAdjacentHTML("beforeEnd",Ut),Ut=Ct.lastChild,Ct.removeChild(Ut)),Ot>=Qt?Ct.appendChild(Ut):Ct.insertBefore(Ut,Nt[Ot])},J=function(Ct,Ut){return et(Ct,Ut)},U=function(Ct,Ut,zt){Ut===void 0&&(Ut={});var Nt=document.createElement(Ct);return Ut&&(0,ct.each)(Ut,function(Qt,Ot){return Nt.setAttribute(Ot,Qt)}),zt&&((0,ct.isString)(zt)?Nt.innerHTML=zt:Nt.appendChild(zt)),Nt},R=function(Ct){return document.createTextNode(Ct)},D=function(Ct,Ut){var zt,Nt=Ct.type;try{zt=new window[Ut](Nt,Ct)}catch{zt=document.createEvent(Ut),zt.initEvent(Nt,!0,!0)}return zt._parentEvent=Ct,Nt.indexOf("key")===0&&(zt.keyCodeVal=Ct.keyCode,["keyCode","which"].forEach(function(Qt){Object.defineProperty(zt,Qt,{get:function(){return this.keyCodeVal}})})),zt},k=function(Ct,Ut){Ut===void 0&&(Ut=[]);var zt=Array.isArray(Ut)?Ut:[Ut];zt.forEach(function(Nt){var Qt=Nt[tt]||"div",Ot=Nt[q]||{},Dt=document.createElement(Qt);(0,ct.each)(Ot,function(Wt,oe){Dt.setAttribute(oe,Wt)}),Ct.appendChild(Dt)})},Z=function(Ct){return(Ct==null?void 0:Ct.nodeType)===Node.TEXT_NODE},ot=function(Ct){return(Ct==null?void 0:Ct.nodeType)===Node.COMMENT_NODE},Y=function(Ct){return Ct&&!Z(Ct)&&!ot(Ct)},it=function(Ct){var Ut={top:0,left:0,width:0,height:0};if(!Ct)return Ut;var zt;if(Z(Ct)){var Nt=document.createRange();Nt.selectNode(Ct),zt=Nt.getBoundingClientRect(),Nt.detach()}return zt||(Ct.getBoundingClientRect?Ct.getBoundingClientRect():Ut)},T=function(Ct){var Ut=(Ct==null?void 0:Ct.ownerDocument)||document,zt=Ut.documentElement,Nt=Ut.defaultView||window;return{x:(Nt.pageXOffset||zt.scrollLeft||0)-(zt.clientLeft||0),y:(Nt.pageYOffset||zt.scrollTop||0)-(zt.clientTop||0)}},z=function(Ct){return Ct.which||Ct.keyCode},I=function(Ct){return String.fromCharCode(z(Ct))},N=function(Ct){return Ct.touches&&Ct.touches[0]?Ct.touches[0]:Ct},G=function(Ct){return z(Ct)===27},P=function(Ct){return z(Ct)===13},$=function(Ct){return Ct.ctrlKey},y=function(Ct){return $(Ct)||Ct.metaKey},rt=function(Ct){if(!Ct)return"";var Ut=Ct.name,zt=Ct.publicId,Nt=Ct.systemId,Qt=zt?' PUBLIC "'.concat(zt,'"'):"",Ot=!zt&&Nt?' SYSTEM "'.concat(Nt,'"'):"";return"<!DOCTYPE ".concat(Ut).concat(Qt).concat(Ot,">")},X=function(Ct){Ct===void 0&&(Ct={});var Ut=[];return(0,ct.each)(Ct,function(zt,Nt){return Ut.push("".concat(Nt,'="').concat(zt,'"'))}),Ut.join(" ")},wt=function(Ct,Ut,zt,Nt){var Qt=Ut.split(/\s+/),Ot=(0,ct.isArray)(Ct)?Ct:[Ct];Qt.forEach(function(Dt){Ot.forEach(function(Wt){return Wt==null?void 0:Wt.addEventListener(Dt,zt,Nt)})})},Kt=function(Ct,Ut,zt,Nt){var Qt=Ut.split(/\s+/),Ot=(0,ct.isArray)(Ct)?Ct:[Ct];Qt.forEach(function(Dt){Ot.forEach(function(Wt){return Wt==null?void 0:Wt.removeEventListener(Dt,zt,Nt)})})}},163:(V,vt,bt)=>{bt.r(vt),bt.d(vt,{appendStyles:()=>R,buildBase64UrlFromSvg:()=>Qt,camelCase:()=>ot,capitalize:()=>rt,createId:()=>Nt,deepMerge:()=>G,escape:()=>I,escapeNodeContent:()=>N,find:()=>z,getComponentModel:()=>Ut,getComponentView:()=>Ct,getElement:()=>T,getGlobal:()=>O,getModel:()=>P,getUiClass:()=>U,getUnitFromValue:()=>k,getViewEl:()=>wt,hasDnd:()=>it,hasWin:()=>C,isBultInMethod:()=>M,isComponent:()=>Kt,isDef:()=>w,isEmptyObj:()=>y,isObject:()=>$,isRule:()=>X,matches:()=>J,normalizeFloat:()=>Y,normalizeKey:()=>m,setViewEl:()=>zt,shallowDiff:()=>D,toLowerCase:()=>L,upFirst:()=>Z,wait:()=>E});var ct=bt(50),ht=bt(491),tt=function(){return tt=Object.assign||function(Ot){for(var Dt,Wt=1,oe=arguments.length;Wt<oe;Wt++){Dt=arguments[Wt];for(var $t in Dt)Object.prototype.hasOwnProperty.call(Dt,$t)&&(Ot[$t]=Dt[$t])}return Ot},tt.apply(this,arguments)},q=function(Ot,Dt,Wt){if(Wt||arguments.length===2)for(var oe=0,$t=Dt.length,Jt;oe<$t;oe++)(Jt||!(oe in Dt))&&(Jt||(Jt=Array.prototype.slice.call(Dt,0,oe)),Jt[oe]=Dt[oe]);return Ot.concat(Jt||Array.prototype.slice.call(Dt))},x={},M=function(Ot){return(0,ct.isFunction)(x[Ot])},m=function(Ot){return M(Ot)?"_".concat(Ot):Ot},E=function(Ot){return Ot===void 0&&(Ot=0),new Promise(function(Dt){return setTimeout(Dt,Ot)})},w=function(Ot){return typeof Ot<"u"},C=function(){return typeof window<"u"},O=function(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:bt.g},L=function(Ot){return(Ot||"").toLowerCase()},et=C()?window.Element.prototype:{},J=et.matches||et.webkitMatchesSelector||et.mozMatchesSelector||et.msMatchesSelector,U=function(Ot,Dt){var Wt=Ot.getConfig(),oe=Wt.stylePrefix,$t=Wt.customUI;return[$t&&"".concat(oe,"cui"),Dt].filter(function(Jt){return Jt}).join(" ")},R=function(Ot,Dt){Dt===void 0&&(Dt={});var Wt=(0,ct.isArray)(Ot)?q([],Ot,!0):[Ot];if(Wt.length){var oe=Wt.shift();if(oe&&(!Dt.unique||!document.querySelector('link[href="'.concat(oe,'"]')))){var $t=document.head,Jt=document.createElement("link");Jt.href=oe,Jt.rel="stylesheet",Dt.prepand?$t.insertBefore(Jt,$t.firstChild):$t.appendChild(Jt)}R(Wt)}},D=function(Ot,Dt){var Wt={},oe=(0,ct.keys)(Dt);for(var $t in Ot)if(Ot.hasOwnProperty($t)){var Jt=Ot[$t],ue=Dt[$t];oe.indexOf($t)>=0?Jt!==ue&&(Wt[$t]=ue):Wt[$t]=null}for(var $t in Dt)Dt.hasOwnProperty($t)&&(0,ct.isUndefined)(Ot[$t])&&(Wt[$t]=Dt[$t]);return Wt},k=function(Ot){return Ot.replace(parseFloat(Ot),"")},Z=function(Ot){return Ot[0].toUpperCase()+Ot.toLowerCase().slice(1)},ot=function(Ot){return Ot.replace(/-./g,function(Dt){return Dt[1].toUpperCase()})},Y=function(Ot,Dt,Wt){Dt===void 0&&(Dt=1),Wt===void 0&&(Wt=0);var oe=0;if(isNaN(Ot))return Wt;if(Ot=parseFloat(Ot),Math.floor(Ot)!==Ot){var $t=Dt.toString().split(".")[1];oe=$t?$t.length:0}return oe?parseFloat(Ot.toFixed(oe)):Ot},it=function(Ot){return"draggable"in document.createElement("i")&&(Ot?Ot.config.nativeDnD:!0)},T=function(Ot){if((0,ct.isElement)(Ot)||(0,ht.BM)(Ot))return Ot;if(Ot&&Ot.getEl)return Ot.getEl()},z=function(Ot,Dt){var Wt=null;return Ot.some(function(oe,$t){return Dt(oe,$t,Ot)?(Wt=oe,1):0}),Wt},I=function(Ot){return Ot===void 0&&(Ot=""),"".concat(Ot).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/`/g,"&#96;")},N=function(Ot){return Ot===void 0&&(Ot=""),"".concat(Ot).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},G=function(){for(var Ot=[],Dt=0;Dt<arguments.length;Dt++)Ot[Dt]=arguments[Dt];for(var Wt=tt({},Ot[0]),oe=1;oe<Ot.length;oe++){var $t=tt({},Ot[oe]);for(var Jt in $t){var ue=Wt[Jt],Ne=$t[Jt];$(ue)&&$(Ne)?Wt[Jt]=G(ue,Ne):Wt[Jt]=Ne}}return Wt},P=function(Ot,Dt){var Wt;return!Dt&&Ot&&Ot.__cashData?Wt=Ot.__cashData.model:Dt&&(0,ct.isElement)(Ot)&&(Wt=Dt(Ot).data("model")),Wt},$=function(Ot){return Ot&&!Array.isArray(Ot)&&typeof Ot=="object"},y=function(Ot){return Object.keys(Ot).length<=0},rt=function(Ot){return Ot===void 0&&(Ot=""),Ot&&Ot.charAt(0).toUpperCase()+Ot.substring(1)},X=function(Ot){return Ot&&Ot.toCSS},wt=function(Ot){return Ot==null?void 0:Ot.__gjsv},Kt=function(Ot){return!!(Ot!=null&&Ot.toHTML)},Ct=function(Ot){return wt(Ot)},Ut=function(Ot){var Dt;return(Dt=Ct(Ot))===null||Dt===void 0?void 0:Dt.model},zt=function(Ot,Dt){Ot.__gjsv=Dt},Nt=function(Ot){Ot===void 0&&(Ot=16);for(var Dt="",Wt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",oe=Wt.length,$t=0;$t<Ot;$t++)Dt+=Wt.charAt(Math.floor(Math.random()*oe));return Dt},Qt=function(Ot){if(Ot&&Ot.substr(0,4)==="<svg"){var Dt="";return C()?Dt=window.btoa(Ot):typeof Buffer<"u"&&(Dt=Buffer.from(Ot,"utf8").toString("base64")),Dt?"data:image/svg+xml;base64,".concat(Dt):Ot}return Ot}},828:(V,vt,bt)=>{var ct={"./CanvasClear":858,"./CanvasClear.ts":858,"./CanvasMove":884,"./CanvasMove.ts":884,"./CommandAbstract":790,"./CommandAbstract.ts":790,"./ComponentDelete":180,"./ComponentDelete.ts":180,"./ComponentDrag":544,"./ComponentDrag.ts":544,"./ComponentEnter":236,"./ComponentEnter.ts":236,"./ComponentExit":368,"./ComponentExit.ts":368,"./ComponentNext":243,"./ComponentNext.ts":243,"./ComponentPrev":400,"./ComponentPrev.ts":400,"./ComponentStyleClear":910,"./ComponentStyleClear.ts":910,"./CopyComponent":744,"./CopyComponent.ts":744,"./ExportTemplate":457,"./ExportTemplate.ts":457,"./Fullscreen":975,"./Fullscreen.ts":975,"./MoveComponent":191,"./MoveComponent.ts":191,"./OpenAssets":912,"./OpenAssets.ts":912,"./OpenBlocks":117,"./OpenBlocks.ts":117,"./OpenLayers":614,"./OpenLayers.ts":614,"./OpenStyleManager":801,"./OpenStyleManager.ts":801,"./OpenTraitManager":395,"./OpenTraitManager.ts":395,"./PasteComponent":98,"./PasteComponent.ts":98,"./Preview":129,"./Preview.ts":129,"./Resize":116,"./Resize.ts":116,"./SelectComponent":407,"./SelectComponent.ts":407,"./SelectPosition":189,"./SelectPosition.ts":189,"./ShowOffset":804,"./ShowOffset.ts":804,"./SwitchVisibility":434,"./SwitchVisibility.ts":434};function ht(q){var x=tt(q);return bt(x)}function tt(q){if(!bt.o(ct,q)){var x=new Error("Cannot find module '"+q+"'");throw x.code="MODULE_NOT_FOUND",x}return ct[q]}ht.keys=function(){return Object.keys(ct)},ht.resolve=tt,V.exports=ht,ht.id=828},50:(V,vt,bt)=>{bt.r(vt),bt.d(vt,{VERSION:()=>ht,after:()=>ks,all:()=>Tn,allKeys:()=>Tr,any:()=>Fr,assign:()=>Cn,before:()=>qi,bind:()=>$i,bindAll:()=>to,chain:()=>Do,chunk:()=>Ha,clone:()=>Sn,collect:()=>Zn,compact:()=>Ds,compose:()=>ja,constant:()=>fe,contains:()=>sr,countBy:()=>Ra,create:()=>zr,debounce:()=>Ro,default:()=>Ua,defaults:()=>bo,defer:()=>Es,delay:()=>Ln,detect:()=>Ho,difference:()=>Oo,drop:()=>en,each:()=>mn,escape:()=>re,every:()=>Tn,extend:()=>vn,extendOwn:()=>Cn,filter:()=>Rn,find:()=>Ho,findIndex:()=>wi,findKey:()=>xo,findLastIndex:()=>Co,findWhere:()=>xi,first:()=>zo,flatten:()=>Na,foldl:()=>Bo,foldr:()=>yn,forEach:()=>mn,functions:()=>xr,get:()=>Wr,groupBy:()=>Xi,has:()=>qn,head:()=>zo,identity:()=>Mn,include:()=>sr,includes:()=>sr,indexBy:()=>Ms,indexOf:()=>_i,initial:()=>Qi,inject:()=>Bo,intersection:()=>ta,invert:()=>xn,invoke:()=>eo,isArguments:()=>tr,isArray:()=>Jt,isArrayBuffer:()=>Ct,isBoolean:()=>N,isDataView:()=>$t,isDate:()=>rt,isElement:()=>G,isEmpty:()=>Ve,isEqual:()=>xe,isError:()=>wt,isFinite:()=>ir,isFunction:()=>Nt,isMap:()=>Lt,isMatch:()=>Ue,isNaN:()=>rr,isNull:()=>z,isNumber:()=>y,isObject:()=>T,isRegExp:()=>X,isSet:()=>ve,isString:()=>$,isSymbol:()=>Kt,isTypedArray:()=>Vt,isUndefined:()=>I,isWeakMap:()=>Yt,isWeakSet:()=>je,iteratee:()=>cn,keys:()=>Se,last:()=>Ir,lastIndexOf:()=>Da,map:()=>Zn,mapObject:()=>Nr,matcher:()=>On,matches:()=>On,max:()=>Ia,memoize:()=>La,methods:()=>xr,min:()=>Kr,mixin:()=>go,negate:()=>bi,noop:()=>Xe,now:()=>F,object:()=>vo,omit:()=>js,once:()=>_o,pairs:()=>ln,partial:()=>Dr,partition:()=>Ls,pick:()=>ho,pluck:()=>ro,property:()=>Lr,propertyOf:()=>tn,random:()=>gn,range:()=>Fa,reduce:()=>Bo,reduceRight:()=>yn,reject:()=>So,rest:()=>en,restArguments:()=>it,result:()=>Ma,sample:()=>oo,select:()=>Rn,shuffle:()=>Va,size:()=>bn,some:()=>Fr,sortBy:()=>As,sortedIndex:()=>Fo,tail:()=>en,take:()=>zo,tap:()=>$n,template:()=>Gi,templateSettings:()=>or,throttle:()=>Vo,times:()=>jr,toArray:()=>Uo,toPath:()=>jo,transpose:()=>Go,unescape:()=>Je,union:()=>Ci,uniq:()=>Wo,unique:()=>Wo,uniqueId:()=>Ki,unzip:()=>Go,values:()=>Ye,where:()=>no,without:()=>Is,wrap:()=>No,zip:()=>Vs});var ct={};bt.r(ct),bt.d(ct,{VERSION:()=>ht,after:()=>ks,all:()=>Tn,allKeys:()=>Tr,any:()=>Fr,assign:()=>Cn,before:()=>qi,bind:()=>$i,bindAll:()=>to,chain:()=>Do,chunk:()=>Ha,clone:()=>Sn,collect:()=>Zn,compact:()=>Ds,compose:()=>ja,constant:()=>fe,contains:()=>sr,countBy:()=>Ra,create:()=>zr,debounce:()=>Ro,default:()=>io,defaults:()=>bo,defer:()=>Es,delay:()=>Ln,detect:()=>Ho,difference:()=>Oo,drop:()=>en,each:()=>mn,escape:()=>re,every:()=>Tn,extend:()=>vn,extendOwn:()=>Cn,filter:()=>Rn,find:()=>Ho,findIndex:()=>wi,findKey:()=>xo,findLastIndex:()=>Co,findWhere:()=>xi,first:()=>zo,flatten:()=>Na,foldl:()=>Bo,foldr:()=>yn,forEach:()=>mn,functions:()=>xr,get:()=>Wr,groupBy:()=>Xi,has:()=>qn,head:()=>zo,identity:()=>Mn,include:()=>sr,includes:()=>sr,indexBy:()=>Ms,indexOf:()=>_i,initial:()=>Qi,inject:()=>Bo,intersection:()=>ta,invert:()=>xn,invoke:()=>eo,isArguments:()=>tr,isArray:()=>Jt,isArrayBuffer:()=>Ct,isBoolean:()=>N,isDataView:()=>$t,isDate:()=>rt,isElement:()=>G,isEmpty:()=>Ve,isEqual:()=>xe,isError:()=>wt,isFinite:()=>ir,isFunction:()=>Nt,isMap:()=>Lt,isMatch:()=>Ue,isNaN:()=>rr,isNull:()=>z,isNumber:()=>y,isObject:()=>T,isRegExp:()=>X,isSet:()=>ve,isString:()=>$,isSymbol:()=>Kt,isTypedArray:()=>Vt,isUndefined:()=>I,isWeakMap:()=>Yt,isWeakSet:()=>je,iteratee:()=>cn,keys:()=>Se,last:()=>Ir,lastIndexOf:()=>Da,map:()=>Zn,mapObject:()=>Nr,matcher:()=>On,matches:()=>On,max:()=>Ia,memoize:()=>La,methods:()=>xr,min:()=>Kr,mixin:()=>go,negate:()=>bi,noop:()=>Xe,now:()=>F,object:()=>vo,omit:()=>js,once:()=>_o,pairs:()=>ln,partial:()=>Dr,partition:()=>Ls,pick:()=>ho,pluck:()=>ro,property:()=>Lr,propertyOf:()=>tn,random:()=>gn,range:()=>Fa,reduce:()=>Bo,reduceRight:()=>yn,reject:()=>So,rest:()=>en,restArguments:()=>it,result:()=>Ma,sample:()=>oo,select:()=>Rn,shuffle:()=>Va,size:()=>bn,some:()=>Fr,sortBy:()=>As,sortedIndex:()=>Fo,tail:()=>en,take:()=>zo,tap:()=>$n,template:()=>Gi,templateSettings:()=>or,throttle:()=>Vo,times:()=>jr,toArray:()=>Uo,toPath:()=>jo,transpose:()=>Go,unescape:()=>Je,union:()=>Ci,uniq:()=>Wo,unique:()=>Wo,uniqueId:()=>Ki,unzip:()=>Go,values:()=>Ye,where:()=>no,without:()=>Is,wrap:()=>No,zip:()=>Vs});var ht="1.13.6",tt=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},q=Array.prototype,x=Object.prototype,M=typeof Symbol<"u"?Symbol.prototype:null,m=q.push,E=q.slice,w=x.toString,C=x.hasOwnProperty,O=typeof ArrayBuffer<"u",L=typeof DataView<"u",et=Array.isArray,J=Object.keys,U=Object.create,R=O&&ArrayBuffer.isView,D=isNaN,k=isFinite,Z=!{toString:null}.propertyIsEnumerable("toString"),ot=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Y=Math.pow(2,53)-1;function it(H,Q){return Q=Q==null?H.length-1:+Q,function(){for(var _t=Math.max(arguments.length-Q,0),St=Array(_t),Rt=0;Rt<_t;Rt++)St[Rt]=arguments[Rt+Q];switch(Q){case 0:return H.call(this,St);case 1:return H.call(this,arguments[0],St);case 2:return H.call(this,arguments[0],arguments[1],St)}var Mt=Array(Q+1);for(Rt=0;Rt<Q;Rt++)Mt[Rt]=arguments[Rt];return Mt[Q]=St,H.apply(this,Mt)}}function T(H){var Q=typeof H;return Q==="function"||Q==="object"&&!!H}function z(H){return H===null}function I(H){return H===void 0}function N(H){return H===!0||H===!1||w.call(H)==="[object Boolean]"}function G(H){return!!(H&&H.nodeType===1)}function P(H){var Q="[object "+H+"]";return function(_t){return w.call(_t)===Q}}const $=P("String"),y=P("Number"),rt=P("Date"),X=P("RegExp"),wt=P("Error"),Kt=P("Symbol"),Ct=P("ArrayBuffer");var Ut=P("Function"),zt=tt.document&&tt.document.childNodes;typeof Int8Array!="object"&&typeof zt!="function"&&(Ut=function(H){return typeof H=="function"||!1});const Nt=Ut,Qt=P("Object");var Ot=L&&Qt(new DataView(new ArrayBuffer(8))),Dt=typeof Map<"u"&&Qt(new Map),Wt=P("DataView");function oe(H){return H!=null&&Nt(H.getInt8)&&Ct(H.buffer)}const $t=Ot?oe:Wt,Jt=et||P("Array");function ue(H,Q){return H!=null&&C.call(H,Q)}var Ne=P("Arguments");(function(){Ne(arguments)||(Ne=function(H){return ue(H,"callee")})})();const tr=Ne;function ir(H){return!Kt(H)&&k(H)&&!isNaN(parseFloat(H))}function rr(H){return y(H)&&D(H)}function fe(H){return function(){return H}}function K(H){return function(Q){var _t=H(Q);return typeof _t=="number"&&_t>=0&&_t<=Y}}function st(H){return function(Q){return Q==null?void 0:Q[H]}}const yt=st("byteLength"),At=K(yt);var Ht=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function mt(H){return R?R(H)&&!$t(H):At(H)&&Ht.test(w.call(H))}const Vt=O?mt:fe(!1),Et=st("length");function _e(H){for(var Q={},_t=H.length,St=0;St<_t;++St)Q[H[St]]=!0;return{contains:function(Rt){return Q[Rt]===!0},push:function(Rt){return Q[Rt]=!0,H.push(Rt)}}}function Pe(H,Q){Q=_e(Q);var _t=ot.length,St=H.constructor,Rt=Nt(St)&&St.prototype||x,Mt="constructor";for(ue(H,Mt)&&!Q.contains(Mt)&&Q.push(Mt);_t--;)Mt=ot[_t],Mt in H&&H[Mt]!==Rt[Mt]&&!Q.contains(Mt)&&Q.push(Mt)}function Se(H){if(!T(H))return[];if(J)return J(H);var Q=[];for(var _t in H)ue(H,_t)&&Q.push(_t);return Z&&Pe(H,Q),Q}function Ve(H){if(H==null)return!0;var Q=Et(H);return typeof Q=="number"&&(Jt(H)||$(H)||tr(H))?Q===0:Et(Se(H))===0}function Ue(H,Q){var _t=Se(Q),St=_t.length;if(H==null)return!St;for(var Rt=Object(H),Mt=0;Mt<St;Mt++){var Xt=_t[Mt];if(Q[Xt]!==Rt[Xt]||!(Xt in Rt))return!1}return!0}function me(H){if(H instanceof me)return H;if(!(this instanceof me))return new me(H);this._wrapped=H}me.VERSION=ht,me.prototype.value=function(){return this._wrapped},me.prototype.valueOf=me.prototype.toJSON=me.prototype.value,me.prototype.toString=function(){return String(this._wrapped)};function qe(H){return new Uint8Array(H.buffer||H,H.byteOffset||0,yt(H))}var Ae="[object DataView]";function Ze(H,Q,_t,St){if(H===Q)return H!==0||1/H===1/Q;if(H==null||Q==null)return!1;if(H!==H)return Q!==Q;var Rt=typeof H;return Rt!=="function"&&Rt!=="object"&&typeof Q!="object"?!1:Ar(H,Q,_t,St)}function Ar(H,Q,_t,St){H instanceof me&&(H=H._wrapped),Q instanceof me&&(Q=Q._wrapped);var Rt=w.call(H);if(Rt!==w.call(Q))return!1;if(Ot&&Rt=="[object Object]"&&$t(H)){if(!$t(Q))return!1;Rt=Ae}switch(Rt){case"[object RegExp]":case"[object String]":return""+H==""+Q;case"[object Number]":return+H!=+H?+Q!=+Q:+H==0?1/+H===1/Q:+H==+Q;case"[object Date]":case"[object Boolean]":return+H==+Q;case"[object Symbol]":return M.valueOf.call(H)===M.valueOf.call(Q);case"[object ArrayBuffer]":case Ae:return Ar(qe(H),qe(Q),_t,St)}var Mt=Rt==="[object Array]";if(!Mt&&Vt(H)){var Xt=yt(H);if(Xt!==yt(Q))return!1;if(H.buffer===Q.buffer&&H.byteOffset===Q.byteOffset)return!0;Mt=!0}if(!Mt){if(typeof H!="object"||typeof Q!="object")return!1;var pe=H.constructor,ze=Q.constructor;if(pe!==ze&&!(Nt(pe)&&pe instanceof pe&&Nt(ze)&&ze instanceof ze)&&"constructor"in H&&"constructor"in Q)return!1}_t=_t||[],St=St||[];for(var De=_t.length;De--;)if(_t[De]===H)return St[De]===Q;if(_t.push(H),St.push(Q),Mt){if(De=H.length,De!==Q.length)return!1;for(;De--;)if(!Ze(H[De],Q[De],_t,St))return!1}else{var hr=Se(H),Hr;if(De=hr.length,Se(Q).length!==De)return!1;for(;De--;)if(Hr=hr[De],!(ue(Q,Hr)&&Ze(H[Hr],Q[Hr],_t,St)))return!1}return _t.pop(),St.pop(),!0}function xe(H,Q){return Ze(H,Q)}function Tr(H){if(!T(H))return[];var Q=[];for(var _t in H)Q.push(_t);return Z&&Pe(H,Q),Q}function Le(H){var Q=Et(H);return function(_t){if(_t==null)return!1;var St=Tr(_t);if(Et(St))return!1;for(var Rt=0;Rt<Q;Rt++)if(!Nt(_t[H[Rt]]))return!1;return H!==at||!Nt(_t[lr])}}var lr="forEach",fr="has",dr=["clear","delete"],ee=["get",fr,"set"],Kn=dr.concat(lr,ee),at=dr.concat(ee),Tt=["add"].concat(dr,lr,fr);const Lt=Dt?Le(Kn):P("Map"),Yt=Dt?Le(at):P("WeakMap"),ve=Dt?Le(Tt):P("Set"),je=P("WeakSet");function Ye(H){for(var Q=Se(H),_t=Q.length,St=Array(_t),Rt=0;Rt<_t;Rt++)St[Rt]=H[Q[Rt]];return St}function ln(H){for(var Q=Se(H),_t=Q.length,St=Array(_t),Rt=0;Rt<_t;Rt++)St[Rt]=[Q[Rt],H[Q[Rt]]];return St}function xn(H){for(var Q={},_t=Se(H),St=0,Rt=_t.length;St<Rt;St++)Q[H[_t[St]]]=_t[St];return Q}function xr(H){var Q=[];for(var _t in H)Nt(H[_t])&&Q.push(_t);return Q.sort()}function Lo(H,Q){return function(_t){var St=arguments.length;if(Q&&(_t=Object(_t)),St<2||_t==null)return _t;for(var Rt=1;Rt<St;Rt++)for(var Mt=arguments[Rt],Xt=H(Mt),pe=Xt.length,ze=0;ze<pe;ze++){var De=Xt[ze];(!Q||_t[De]===void 0)&&(_t[De]=Mt[De])}return _t}}const vn=Lo(Tr),Cn=Lo(Se),bo=Lo(Tr,!0);function Mr(){return function(){}}function Cr(H){if(!T(H))return{};if(U)return U(H);var Q=Mr();Q.prototype=H;var _t=new Q;return Q.prototype=null,_t}function zr(H,Q){var _t=Cr(H);return Q&&Cn(_t,Q),_t}function Sn(H){return T(H)?Jt(H)?H.slice():vn({},H):H}function $n(H,Q){return Q(H),H}function jo(H){return Jt(H)?H:[H]}me.toPath=jo;function Vn(H){return me.toPath(H)}function Qr(H,Q){for(var _t=Q.length,St=0;St<_t;St++){if(H==null)return;H=H[Q[St]]}return _t?H:void 0}function Wr(H,Q,_t){var St=Qr(H,Vn(Q));return I(St)?_t:St}function qn(H,Q){Q=Vn(Q);for(var _t=Q.length,St=0;St<_t;St++){var Rt=Q[St];if(!ue(H,Rt))return!1;H=H[Rt]}return!!_t}function Mn(H){return H}function On(H){return H=Cn({},H),function(Q){return Ue(Q,H)}}function Lr(H){return H=Vn(H),function(Q){return Qr(Q,H)}}function ar(H,Q,_t){if(Q===void 0)return H;switch(_t??3){case 1:return function(St){return H.call(Q,St)};case 3:return function(St,Rt,Mt){return H.call(Q,St,Rt,Mt)};case 4:return function(St,Rt,Mt,Xt){return H.call(Q,St,Rt,Mt,Xt)}}return function(){return H.apply(Q,arguments)}}function we(H,Q,_t){return H==null?Mn:Nt(H)?ar(H,Q,_t):T(H)&&!Jt(H)?On(H):Lr(H)}function cn(H,Q){return we(H,Q,1/0)}me.iteratee=cn;function yr(H,Q,_t){return me.iteratee!==cn?me.iteratee(H,Q):we(H,Q,_t)}function Nr(H,Q,_t){Q=yr(Q,_t);for(var St=Se(H),Rt=St.length,Mt={},Xt=0;Xt<Rt;Xt++){var pe=St[Xt];Mt[pe]=Q(H[pe],pe,H)}return Mt}function Xe(){}function tn(H){return H==null?Xe:function(Q){return Wr(H,Q)}}function jr(H,Q,_t){var St=Array(Math.max(0,H));Q=ar(Q,_t,1);for(var Rt=0;Rt<H;Rt++)St[Rt]=Q(Rt);return St}function gn(H,Q){return Q==null&&(Q=H,H=0),H+Math.floor(Math.random()*(Q-H+1))}const F=Date.now||function(){return new Date().getTime()};function ut(H){var Q=function(Mt){return H[Mt]},_t="(?:"+Se(H).join("|")+")",St=RegExp(_t),Rt=RegExp(_t,"g");return function(Mt){return Mt=Mt==null?"":""+Mt,St.test(Mt)?Mt.replace(Rt,Q):Mt}}const Zt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},re=ut(Zt),Re=xn(Zt),Je=ut(Re),or=me.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Ce=/(.)^/,wr={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},wo=/\\|'|\r|\n|\u2028|\u2029/g;function mi(H){return"\\"+wr[H]}var un=/^\s*(\w|\$)+\s*$/;function Gi(H,Q,_t){!Q&&_t&&(Q=_t),Q=bo({},Q,me.templateSettings);var St=RegExp([(Q.escape||Ce).source,(Q.interpolate||Ce).source,(Q.evaluate||Ce).source].join("|")+"|$","g"),Rt=0,Mt="__p+='";H.replace(St,function(De,hr,Hr,ea,Rs){return Mt+=H.slice(Rt,Rs).replace(wo,mi),Rt=Rs+De.length,hr?Mt+=`'+
((__t=(`+hr+`))==null?'':_.escape(__t))+
'`:Hr?Mt+=`'+
((__t=(`+Hr+`))==null?'':__t)+
'`:ea&&(Mt+=`';
`+ea+`
__p+='`),De}),Mt+=`';
`;var Xt=Q.variable;if(Xt){if(!un.test(Xt))throw new Error("variable is not a bare identifier: "+Xt)}else Mt=`with(obj||{}){
`+Mt+`}
`,Xt="obj";Mt=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+Mt+`return __p;
`;var pe;try{pe=new Function(Xt,"_",Mt)}catch(De){throw De.source=Mt,De}var ze=function(De){return pe.call(this,De,me)};return ze.source="function("+Xt+`){
`+Mt+"}",ze}function Ma(H,Q,_t){Q=Vn(Q);var St=Q.length;if(!St)return Nt(_t)?_t.call(H):_t;for(var Rt=0;Rt<St;Rt++){var Mt=H==null?void 0:H[Q[Rt]];Mt===void 0&&(Mt=_t,Rt=St),H=Nt(Mt)?Mt.call(H):Mt}return H}var Qn=0;function Ki(H){var Q=++Qn+"";return H?H+Q:Q}function Do(H){var Q=me(H);return Q._chain=!0,Q}function Io(H,Q,_t,St,Rt){if(!(St instanceof Q))return H.apply(_t,Rt);var Mt=Cr(H.prototype),Xt=H.apply(Mt,Rt);return T(Xt)?Xt:Mt}var yi=it(function(H,Q){var _t=yi.placeholder,St=function(){for(var Rt=0,Mt=Q.length,Xt=Array(Mt),pe=0;pe<Mt;pe++)Xt[pe]=Q[pe]===_t?arguments[Rt++]:Q[pe];for(;Rt<arguments.length;)Xt.push(arguments[Rt++]);return Io(H,St,this,this,Xt)};return St});yi.placeholder=me;const Dr=yi,$i=it(function(H,Q,_t){if(!Nt(H))throw new TypeError("Bind must be called on a function");var St=it(function(Rt){return Io(H,St,Q,this,_t.concat(Rt))});return St}),fn=K(Et);function fo(H,Q,_t,St){if(St=St||[],!Q&&Q!==0)Q=1/0;else if(Q<=0)return St.concat(H);for(var Rt=St.length,Mt=0,Xt=Et(H);Mt<Xt;Mt++){var pe=H[Mt];if(fn(pe)&&(Jt(pe)||tr(pe)))if(Q>1)fo(pe,Q-1,_t,St),Rt=St.length;else for(var ze=0,De=pe.length;ze<De;)St[Rt++]=pe[ze++];else _t||(St[Rt++]=pe)}return St}const to=it(function(H,Q){Q=fo(Q,!1,!1);var _t=Q.length;if(_t<1)throw new Error("bindAll must be passed function names");for(;_t--;){var St=Q[_t];H[St]=$i(H[St],H)}return H});function La(H,Q){var _t=function(St){var Rt=_t.cache,Mt=""+(Q?Q.apply(this,arguments):St);return ue(Rt,Mt)||(Rt[Mt]=H.apply(this,arguments)),Rt[Mt]};return _t.cache={},_t}const Ln=it(function(H,Q,_t){return setTimeout(function(){return H.apply(null,_t)},Q)}),Es=Dr(Ln,me,1);function Vo(H,Q,_t){var St,Rt,Mt,Xt,pe=0;_t||(_t={});var ze=function(){pe=_t.leading===!1?0:F(),St=null,Xt=H.apply(Rt,Mt),St||(Rt=Mt=null)},De=function(){var hr=F();!pe&&_t.leading===!1&&(pe=hr);var Hr=Q-(hr-pe);return Rt=this,Mt=arguments,Hr<=0||Hr>Q?(St&&(clearTimeout(St),St=null),pe=hr,Xt=H.apply(Rt,Mt),St||(Rt=Mt=null)):!St&&_t.trailing!==!1&&(St=setTimeout(ze,Hr)),Xt};return De.cancel=function(){clearTimeout(St),pe=0,St=Rt=Mt=null},De}function Ro(H,Q,_t){var St,Rt,Mt,Xt,pe,ze=function(){var hr=F()-Rt;Q>hr?St=setTimeout(ze,Q-hr):(St=null,_t||(Xt=H.apply(pe,Mt)),St||(Mt=pe=null))},De=it(function(hr){return pe=this,Mt=hr,Rt=F(),St||(St=setTimeout(ze,Q),_t&&(Xt=H.apply(pe,Mt))),Xt});return De.cancel=function(){clearTimeout(St),St=Mt=pe=null},De}function No(H,Q){return Dr(Q,H)}function bi(H){return function(){return!H.apply(this,arguments)}}function ja(){var H=arguments,Q=H.length-1;return function(){for(var _t=Q,St=H[Q].apply(this,arguments);_t--;)St=H[_t].call(this,St);return St}}function ks(H,Q){return function(){if(--H<1)return Q.apply(this,arguments)}}function qi(H,Q){var _t;return function(){return--H>0&&(_t=Q.apply(this,arguments)),H<=1&&(Q=null),_t}}const _o=Dr(qi,2);function xo(H,Q,_t){Q=yr(Q,_t);for(var St=Se(H),Rt,Mt=0,Xt=St.length;Mt<Xt;Mt++)if(Rt=St[Mt],Q(H[Rt],Rt,H))return Rt}function Zi(H){return function(Q,_t,St){_t=yr(_t,St);for(var Rt=Et(Q),Mt=H>0?0:Rt-1;Mt>=0&&Mt<Rt;Mt+=H)if(_t(Q[Mt],Mt,Q))return Mt;return-1}}const wi=Zi(1),Co=Zi(-1);function Fo(H,Q,_t,St){_t=yr(_t,St,1);for(var Rt=_t(Q),Mt=0,Xt=Et(H);Mt<Xt;){var pe=Math.floor((Mt+Xt)/2);_t(H[pe])<Rt?Mt=pe+1:Xt=pe}return Mt}function po(H,Q,_t){return function(St,Rt,Mt){var Xt=0,pe=Et(St);if(typeof Mt=="number")H>0?Xt=Mt>=0?Mt:Math.max(Mt+pe,Xt):pe=Mt>=0?Math.min(Mt+1,pe):Mt+pe+1;else if(_t&&Mt&&pe)return Mt=_t(St,Rt),St[Mt]===Rt?Mt:-1;if(Rt!==Rt)return Mt=Q(E.call(St,Xt,pe),rr),Mt>=0?Mt+Xt:-1;for(Mt=H>0?Xt:pe-1;Mt>=0&&Mt<pe;Mt+=H)if(St[Mt]===Rt)return Mt;return-1}}const _i=po(1,wi,Fo),Da=po(-1,Co);function Ho(H,Q,_t){var St=fn(H)?wi:xo,Rt=St(H,Q,_t);if(Rt!==void 0&&Rt!==-1)return H[Rt]}function xi(H,Q){return Ho(H,On(Q))}function mn(H,Q,_t){Q=ar(Q,_t);var St,Rt;if(fn(H))for(St=0,Rt=H.length;St<Rt;St++)Q(H[St],St,H);else{var Mt=Se(H);for(St=0,Rt=Mt.length;St<Rt;St++)Q(H[Mt[St]],Mt[St],H)}return H}function Zn(H,Q,_t){Q=yr(Q,_t);for(var St=!fn(H)&&Se(H),Rt=(St||H).length,Mt=Array(Rt),Xt=0;Xt<Rt;Xt++){var pe=St?St[Xt]:Xt;Mt[Xt]=Q(H[pe],pe,H)}return Mt}function Qe(H){var Q=function(_t,St,Rt,Mt){var Xt=!fn(_t)&&Se(_t),pe=(Xt||_t).length,ze=H>0?0:pe-1;for(Mt||(Rt=_t[Xt?Xt[ze]:ze],ze+=H);ze>=0&&ze<pe;ze+=H){var De=Xt?Xt[ze]:ze;Rt=St(Rt,_t[De],De,_t)}return Rt};return function(_t,St,Rt,Mt){var Xt=arguments.length>=3;return Q(_t,ar(St,Mt,4),Rt,Xt)}}const Bo=Qe(1),yn=Qe(-1);function Rn(H,Q,_t){var St=[];return Q=yr(Q,_t),mn(H,function(Rt,Mt,Xt){Q(Rt,Mt,Xt)&&St.push(Rt)}),St}function So(H,Q,_t){return Rn(H,bi(yr(Q)),_t)}function Tn(H,Q,_t){Q=yr(Q,_t);for(var St=!fn(H)&&Se(H),Rt=(St||H).length,Mt=0;Mt<Rt;Mt++){var Xt=St?St[Mt]:Mt;if(!Q(H[Xt],Xt,H))return!1}return!0}function Fr(H,Q,_t){Q=yr(Q,_t);for(var St=!fn(H)&&Se(H),Rt=(St||H).length,Mt=0;Mt<Rt;Mt++){var Xt=St?St[Mt]:Mt;if(Q(H[Xt],Xt,H))return!0}return!1}function sr(H,Q,_t,St){return fn(H)||(H=Ye(H)),(typeof _t!="number"||St)&&(_t=0),_i(H,Q,_t)>=0}const eo=it(function(H,Q,_t){var St,Rt;return Nt(Q)?Rt=Q:(Q=Vn(Q),St=Q.slice(0,-1),Q=Q[Q.length-1]),Zn(H,function(Mt){var Xt=Rt;if(!Xt){if(St&&St.length&&(Mt=Qr(Mt,St)),Mt==null)return;Xt=Mt[Q]}return Xt==null?Xt:Xt.apply(Mt,_t)})});function ro(H,Q){return Zn(H,Lr(Q))}function no(H,Q){return Rn(H,On(Q))}function Ia(H,Q,_t){var St=-1/0,Rt=-1/0,Mt,Xt;if(Q==null||typeof Q=="number"&&typeof H[0]!="object"&&H!=null){H=fn(H)?H:Ye(H);for(var pe=0,ze=H.length;pe<ze;pe++)Mt=H[pe],Mt!=null&&Mt>St&&(St=Mt)}else Q=yr(Q,_t),mn(H,function(De,hr,Hr){Xt=Q(De,hr,Hr),(Xt>Rt||Xt===-1/0&&St===-1/0)&&(St=De,Rt=Xt)});return St}function Kr(H,Q,_t){var St=1/0,Rt=1/0,Mt,Xt;if(Q==null||typeof Q=="number"&&typeof H[0]!="object"&&H!=null){H=fn(H)?H:Ye(H);for(var pe=0,ze=H.length;pe<ze;pe++)Mt=H[pe],Mt!=null&&Mt<St&&(St=Mt)}else Q=yr(Q,_t),mn(H,function(De,hr,Hr){Xt=Q(De,hr,Hr),(Xt<Rt||Xt===1/0&&St===1/0)&&(St=De,Rt=Xt)});return St}var Pl=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Uo(H){return H?Jt(H)?E.call(H):$(H)?H.match(Pl):fn(H)?Zn(H,Mn):Ye(H):[]}function oo(H,Q,_t){if(Q==null||_t)return fn(H)||(H=Ye(H)),H[gn(H.length-1)];var St=Uo(H),Rt=Et(St);Q=Math.max(Math.min(Q,Rt),0);for(var Mt=Rt-1,Xt=0;Xt<Q;Xt++){var pe=gn(Xt,Mt),ze=St[Xt];St[Xt]=St[pe],St[pe]=ze}return St.slice(0,Q)}function Va(H){return oo(H,1/0)}function As(H,Q,_t){var St=0;return Q=yr(Q,_t),ro(Zn(H,function(Rt,Mt,Xt){return{value:Rt,index:St++,criteria:Q(Rt,Mt,Xt)}}).sort(function(Rt,Mt){var Xt=Rt.criteria,pe=Mt.criteria;if(Xt!==pe){if(Xt>pe||Xt===void 0)return 1;if(Xt<pe||pe===void 0)return-1}return Rt.index-Mt.index}),"value")}function Yi(H,Q){return function(_t,St,Rt){var Mt=Q?[[],[]]:{};return St=yr(St,Rt),mn(_t,function(Xt,pe){var ze=St(Xt,pe,_t);H(Mt,Xt,ze)}),Mt}}const Xi=Yi(function(H,Q,_t){ue(H,_t)?H[_t].push(Q):H[_t]=[Q]}),Ms=Yi(function(H,Q,_t){H[_t]=Q}),Ra=Yi(function(H,Q,_t){ue(H,_t)?H[_t]++:H[_t]=1}),Ls=Yi(function(H,Q,_t){H[_t?0:1].push(Q)},!0);function bn(H){return H==null?0:fn(H)?H.length:Se(H).length}function Ji(H,Q,_t){return Q in _t}const ho=it(function(H,Q){var _t={},St=Q[0];if(H==null)return _t;Nt(St)?(Q.length>1&&(St=ar(St,Q[1])),Q=Tr(H)):(St=Ji,Q=fo(Q,!1,!1),H=Object(H));for(var Rt=0,Mt=Q.length;Rt<Mt;Rt++){var Xt=Q[Rt],pe=H[Xt];St(pe,Xt,H)&&(_t[Xt]=pe)}return _t}),js=it(function(H,Q){var _t=Q[0],St;return Nt(_t)?(_t=bi(_t),Q.length>1&&(St=Q[1])):(Q=Zn(fo(Q,!1,!1),String),_t=function(Rt,Mt){return!sr(Q,Mt)}),ho(H,_t,St)});function Qi(H,Q,_t){return E.call(H,0,Math.max(0,H.length-(Q==null||_t?1:Q)))}function zo(H,Q,_t){return H==null||H.length<1?Q==null||_t?void 0:[]:Q==null||_t?H[0]:Qi(H,H.length-Q)}function en(H,Q,_t){return E.call(H,Q==null||_t?1:Q)}function Ir(H,Q,_t){return H==null||H.length<1?Q==null||_t?void 0:[]:Q==null||_t?H[H.length-1]:en(H,Math.max(0,H.length-Q))}function Ds(H){return Rn(H,Boolean)}function Na(H,Q){return fo(H,Q,!1)}const Oo=it(function(H,Q){return Q=fo(Q,!0,!0),Rn(H,function(_t){return!sr(Q,_t)})}),Is=it(function(H,Q){return Oo(H,Q)});function Wo(H,Q,_t,St){N(Q)||(St=_t,_t=Q,Q=!1),_t!=null&&(_t=yr(_t,St));for(var Rt=[],Mt=[],Xt=0,pe=Et(H);Xt<pe;Xt++){var ze=H[Xt],De=_t?_t(ze,Xt,H):ze;Q&&!_t?((!Xt||Mt!==De)&&Rt.push(ze),Mt=De):_t?sr(Mt,De)||(Mt.push(De),Rt.push(ze)):sr(Rt,ze)||Rt.push(ze)}return Rt}const Ci=it(function(H){return Wo(fo(H,!0,!0))});function ta(H){for(var Q=[],_t=arguments.length,St=0,Rt=Et(H);St<Rt;St++){var Mt=H[St];if(!sr(Q,Mt)){var Xt;for(Xt=1;Xt<_t&&sr(arguments[Xt],Mt);Xt++);Xt===_t&&Q.push(Mt)}}return Q}function Go(H){for(var Q=H&&Ia(H,Et).length||0,_t=Array(Q),St=0;St<Q;St++)_t[St]=ro(H,St);return _t}const Vs=it(Go);function vo(H,Q){for(var _t={},St=0,Rt=Et(H);St<Rt;St++)Q?_t[H[St]]=Q[St]:_t[H[St][0]]=H[St][1];return _t}function Fa(H,Q,_t){Q==null&&(Q=H||0,H=0),_t||(_t=Q<H?-1:1);for(var St=Math.max(Math.ceil((Q-H)/_t),0),Rt=Array(St),Mt=0;Mt<St;Mt++,H+=_t)Rt[Mt]=H;return Rt}function Ha(H,Q){if(Q==null||Q<1)return[];for(var _t=[],St=0,Rt=H.length;St<Rt;)_t.push(E.call(H,St,St+=Q));return _t}function Ba(H,Q){return H._chain?me(Q).chain():Q}function go(H){return mn(xr(H),function(Q){var _t=me[Q]=H[Q];me.prototype[Q]=function(){var St=[this._wrapped];return m.apply(St,arguments),Ba(this,_t.apply(me,St))}}),me}mn(["pop","push","reverse","shift","sort","splice","unshift"],function(H){var Q=q[H];me.prototype[H]=function(){var _t=this._wrapped;return _t!=null&&(Q.apply(_t,arguments),(H==="shift"||H==="splice")&&_t.length===0&&delete _t[0]),Ba(this,_t)}}),mn(["concat","join","slice"],function(H){var Q=q[H];me.prototype[H]=function(){var _t=this._wrapped;return _t!=null&&(_t=Q.apply(_t,arguments)),Ba(this,_t)}});const io=me;var ao=go(ct);ao._=ao;const Ua=ao}},Yh={};function gr(V){var vt=Yh[V];if(vt!==void 0)return vt.exports;var bt=Yh[V]={exports:{}};return cw[V].call(bt.exports,bt,bt.exports,gr),bt.exports}gr.n=V=>{var vt=V&&V.__esModule?()=>V.default:()=>V;return gr.d(vt,{a:vt}),vt};gr.d=(V,vt)=>{for(var bt in vt)gr.o(vt,bt)&&!gr.o(V,bt)&&Object.defineProperty(V,bt,{enumerable:!0,get:vt[bt]})};gr.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();gr.o=(V,vt)=>Object.prototype.hasOwnProperty.call(V,vt);gr.r=V=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(V,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(V,"__esModule",{value:!0})};var Xh={};(()=>{gr.d(Xh,{ZP:()=>Sb,kr:()=>Oh,j7:()=>Sh});var V=gr(50),vt=gr(163);function bt(a){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];var e=a.raw;return e.reduce(function(r,o,l){var f=n[l-1],p=e[l-1];return Array.isArray(f)?f=f.join(""):p&&p.slice(-1)==="$"?r=r.slice(0,-1):f=(0,vt.escape)(f),r+f+o})}var ct={stylePrefix:"gjs-",components:"",style:"",fromElement:!1,projectData:void 0,noticeOnUnload:!0,showOffsets:!1,showOffsetsSelected:!1,forceClass:!0,height:"900px",width:"100%",log:["warning","error"],baseCss:"",protectedCss:"* { box-sizing: border-box; } body {margin: 0;}",canvasCss:"",defaultCommand:"select-comp",showToolbar:!0,showDevices:!0,devicePreviewMode:!1,mediaCondition:"max-width",tagVarStart:"{[ ",tagVarEnd:" ]}",keepEmptyTextNodes:!1,jsInHtml:!0,nativeDnD:!0,multipleSelection:!0,optsHtml:{},optsCss:{},avoidInlineStyle:!0,avoidDefaults:!0,clearStyles:!1,listenToEl:[],cssIcons:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css",icons:{close:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',move:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"/></svg>',plus:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" /></svg>',caret:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7,10L12,15L17,10H7Z" /></svg>',delete:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" /></svg>',copy:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" /></svg>',arrowUp:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z" /></svg>',chevron:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z" /></svg>',eye:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z" /></svg>',eyeOff:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z" /></svg>'},i18n:{},undoManager:{},assetManager:{},canvas:{},layerManager:{},storageManager:{},richTextEditor:{},domComponents:{},modal:{},codeManager:{},panels:{},commands:{},cssComposer:{},selectorManager:{},deviceManager:{},styleManager:{},blockManager:{},traitManager:{},textViewCode:"Code",keepUnusedStyles:!1,customUI:!1};const ht=ct;var tt=gr(316),q=gr.n(tt),x=gr(895);const M=function(a){var n=a.$;if(n&&n.prototype&&n.prototype.constructor.name!=="jQuery"){var t=n.fn;t.hide=function(){return this.css("display","none")},t.show=function(){return this.css("display","block")},t.focus=function(){var o=this.get(0);return o&&o.focus(),this},t.bind=function(o,l){return this.on(o,l)},t.unbind=function(o,l){if((0,V.isObject)(o)){for(var f in o)o.hasOwnProperty(f)&&this.off(f,o[f]);return this}else return this.off(o,l)},t.click=function(o){return o?this.on("click",o):this.trigger("click")},t.change=function(o){return o?this.on("change",o):this.trigger("change")},t.keydown=function(o){return o?this.on("keydown",o):this.trigger("keydown")},t.delegate=function(o,l,f,p){return p||(p=f),this.on(l,o,function(h){h.data=f,p(h)})},t.scrollLeft=function(){var o=this.get(0);o=o.nodeType==9?o.defaultView:o;var l=o instanceof Window?o:null;return l?l.pageXOffset:o.scrollLeft||0},t.scrollTop=function(){var o=this.get(0);o=o.nodeType==9?o.defaultView:o;var l=o instanceof Window?o:null;return l?l.pageYOffset:o.scrollTop||0};var e=n.prototype.offset;t.offset=function(o){var l,f;return o&&(l=o.top,f=o.left),typeof l<"u"&&this.css("top","".concat(l,"px")),typeof f<"u"&&this.css("left","".concat(f,"px")),e.call(this)},n.map=function(o,l){for(var f=[],p=0;p<o.length;p++)f.push(l(o[p],p));return f};var r=Array.prototype.indexOf;n.inArray=function(o,l,f){return l==null?-1:r.call(l,o,f)},n.Event=function(o,l){if(!(this instanceof n.Event))return new n.Event(o,l);this.type=o,this.isDefaultPrevented=function(){return!1}}}};var m=gr(346),E=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),w=function(a){E(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n}(m.Hn),C=function(a){E(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.getByComponent=function(t){var e=this;return this.filter(function(r){return e.getComponent(r)===t})[0]},n.prototype.addComponent=function(t,e){var r=this,o=((0,V.isArray)(t)?t:[t]).filter(function(l){return!r.hasComponent(l)}).map(function(l){return new w({component:l})})[0];return this.push(o,e)},n.prototype.getComponent=function(t){return t.get("component")},n.prototype.hasComponent=function(t){var e=this.getByComponent(t);return e&&this.contains(e)},n.prototype.lastComponent=function(){var t=this.last();return t?this.getComponent(t):void 0},n.prototype.allComponents=function(){var t=this;return this.map(function(e){return t.getComponent(e)}).filter(function(e){return e})},n.prototype.removeComponent=function(t,e){var r=this,o=((0,V.isArray)(t)?t:[t]).map(function(l){return r.getByComponent(l)});return this.remove(o,e)},n}(m.FE);const O=C;var L=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),et=function(){return et=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},et.apply(this,arguments)},J=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return a.concat(o||Array.prototype.slice.call(n))},U=function(){function a(n,t,e){this.debounced=[],this.collections=[],this.cls=[],this._em=n,this._name=t;var r=this.name.charAt(0).toLowerCase()+this.name.slice(1),o=(0,V.isUndefined)(n.config[r])?n.config[this.name]:n.config[r],l=o===!0?{}:o||{};l.pStylePrefix=n.config.pStylePrefix||"",!(0,V.isUndefined)(o)&&!o&&(l._disable=1),l.em=n,this._config=(0,vt.deepMerge)(e||{},l)}return Object.defineProperty(a.prototype,"em",{get:function(){return this._em},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),a.prototype.render=function(n){},a.prototype.postLoad=function(n){},Object.defineProperty(a.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),a.prototype.getConfig=function(n){return n?this.config[n]:this.config},a.prototype.__logWarn=function(n,t){t===void 0&&(t={}),this.em.logWarning("[".concat(this.name,"]: ").concat(n),t)},a.prototype.destroy=function(){this.__destroy()},a.prototype.__destroy=function(){var n,t,e;(n=this.view)===null||n===void 0||n.remove(),(t=this.state)===null||t===void 0||t.stopListening(),(e=this.state)===null||e===void 0||e.clear(),this.debounced.forEach(function(r){return r.cancel()}),this.collections.forEach(function(r){r.stopListening(),r.reset()})},a.prototype.__appendTo=function(){var n=this.getConfig().appendTo;if(n){var t=(0,V.isElement)(n)?n:document.querySelector(n);if(!t)return this.__logWarn('"appendTo" element not found');t.appendChild(this.render())}},a}();const R=U;var D=function(a){L(n,a);function n(t,e,r,o,l,f){f===void 0&&(f={});var p=a.call(this,t,e,l)||this;return p.cls=[],p.private=!1,p.all=r,p.events=o,!f.skipListen&&p.__initListen(),p}return n.prototype.postLoad=function(t){},n.prototype.render=function(t){},n.prototype.getProjectData=function(t){var e={},r=this.storageKey;return r&&(e[r]=t||this.getAll()),e},n.prototype.loadProjectData=function(t,e){t===void 0&&(t={}),e===void 0&&(e={});var r=e.all,o=e.onResult,l=e.reset,f=this.storageKey,p={action:"load"},h=r||this.all,v=t[f];if(typeof v=="string")try{v=JSON.parse(v)}catch{this.__logWarn("Data parsing failed",{input:v})}return l&&v&&h.reset(void 0,p),o?v&&o(v,p):v&&(0,vt.isDef)(v.length)&&h.reset(v,p),v},n.prototype.clear=function(t){t===void 0&&(t={});var e=this.all;return e&&e.reset(void 0,t),this},n.prototype.getAll=function(){return J([],this.all.models,!0)},n.prototype.getAllMap=function(){return this.getAll().reduce(function(t,e){return t[e.get(e.idAttribute)]=e,t},{})},n.prototype.__initListen=function(t){t===void 0&&(t={});var e=this,r=e.all,o=e.em,l=e.events;r&&o&&r.on("add",function(f,p,h){return o.trigger(l.add,f,h)}).on("remove",function(f,p,h){return o.trigger(l.remove,f,h)}).on("change",function(f,p){return o.trigger(l.update,f,f.changedAttributes(),p)}).on("all",this.__catchAllEvent,this),this.cls=[r].concat(t.collections||[]),(t.propagate||[]).forEach(function(f){var p=f.entity,h=f.event;p.on("all",function(v,_,A,B){var nt=B||A,ft=et({event:v},nt);[o,r].map(function(pt){return pt.trigger(h,_,ft)})})})},n.prototype.__remove=function(t,e){var r=this;e===void 0&&(e={});var o=this.em,l=(0,V.isString)(t)?this.get(t):t,f=function(){return l&&r.all.remove(l,e),l};return!e.silent&&(o==null||o.trigger(this.events.removeBefore,l,f,e)),!e.abort&&f()},n.prototype.__catchAllEvent=function(t,e,r,o){var l=this,f=l.em,p=l.events,h=o||r;f&&p.all&&f.trigger(p.all,{event:t,model:e,options:h}),this.__onAllEvent()},n.prototype.__appendTo=function(t){var e=this.config.appendTo;if(e){var r=(0,V.isElement)(e)?e:document.querySelector(e);if(!r)return this.__logWarn('"appendTo" element not found');r.appendChild(this.render(t))}},n.prototype.__onAllEvent=function(){},n.prototype._createId=function(t){t===void 0&&(t=16);var e=this.getAll(),r=e.length+t,o=this.getAllMap(),l;do l=(0,vt.createId)(r);while(o[l]);return l},n.prototype.__listenAdd=function(t,e){var r=this;t.on("add",function(o,l,f){return r.em.trigger(e,o,f)})},n.prototype.__listenRemove=function(t,e){var r=this;t.on("remove",function(o,l,f){return r.em.trigger(e,o,f)})},n.prototype.__listenUpdate=function(t,e){var r=this;t.on("change",function(o,l){return r.em.trigger(e,o,o.changedAttributes(),l)})},n.prototype.__destroy=function(){var t;this.cls.forEach(function(e){e.stopListening(),e.reset()}),(t=this.view)===null||t===void 0||t.remove(),this.view=void 0},n}(U),k={stylePrefix:"cv-",scripts:[],styles:[],customBadgeLabel:void 0,autoscrollLimit:50,extHl:!1,frameContent:"<!DOCTYPE html>",frameStyle:`
    body { background-color: #fff }
    * ::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.1) }
    * ::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.2) }
    * ::-webkit-scrollbar { width: 10px }
  `,notTextable:["button","a","input[type=checkbox]","input[type=radio]"],allowExternalDrop:!0};const Z=k;var ot=gr(642),Y={default:"",devices:[{id:"desktop",name:"Desktop",width:""},{id:"tablet",name:"Tablet",width:"770px",widthMedia:"992px"},{id:"mobileLandscape",name:"Mobile landscape",width:"568px",widthMedia:"768px"},{id:"mobilePortrait",name:"Mobile portrait",width:"320px",widthMedia:"480px"}]};const it=Y;var T=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),z=function(a){T(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.defaults=function(){return{name:"",width:null,height:"",widthMedia:null,priority:null}},n.prototype.initialize=function(){var t=this;this.get("widthMedia")===null&&this.set("widthMedia",this.get("width")),this.get("width")===null&&this.set("width",this.get("widthMedia")),!this.get("priority")&&this.set("priority",parseFloat(this.get("widthMedia"))||0);var e=["width","height","widthMedia"];e.forEach(function(r){return t.checkUnit(r)})},n.prototype.checkUnit=function(t){var e=this.get(t)||"",r=(parseFloat(e)||0).toString()===e.toString();r&&this.set(t,"".concat(e,"px"))},n.prototype.getName=function(){return this.get("name")||this.get("id")},n.prototype.getWidthMedia=function(){return this.get("widthMedia")||""},n}(m.Hn);const I=z;var N=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),G=function(a){N(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n}(m.FE);const P=G;G.prototype.model=I;var $=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),y=function(a,n){return Object.defineProperty?Object.defineProperty(a,"raw",{value:n}):a.raw=n,a},rt=function(a){$(n,a);function n(t){var e=a.call(this,t)||this;return e.config=t.config||{},e.em=e.config.em,e.ppfx=e.config.pStylePrefix||"",e.listenTo(e.em,"change:device",e.updateSelect),e}return n.prototype.template=function(t){var e=t.ppfx,r=t.label;return bt(wt||(wt=y([`
      <div class="`,'device-label">',`</div>
      <div class="`,"field ",`select">
        <span id="`,`input-holder">
          <select class="`,`devices"></select>
        </span>
        <div class="`,`sel-arrow">
          <div class="`,`d-s-arrow"></div>
        </div>
      </div>
      <button style="display:none" class="`,`add-trasp" data-add-trasp>+</button>
    `],[`
      <div class="`,'device-label">',`</div>
      <div class="`,"field ",`select">
        <span id="`,`input-holder">
          <select class="`,`devices"></select>
        </span>
        <div class="`,`sel-arrow">
          <div class="`,`d-s-arrow"></div>
        </div>
      </div>
      <button style="display:none" class="`,`add-trasp" data-add-trasp>+</button>
    `])),e,r,e,e,e,e,e,e,e)},n.prototype.events=function(){return{change:"updateDevice","click [data-add-trasp]":"startAdd"}},n.prototype.startAdd=function(){},n.prototype.updateDevice=function(){var t=this.em;if(t){var e=this.devicesEl;t.set("device",e?e.val():"")}},n.prototype.updateSelect=function(){var t=this,e=t.em,r=t.devicesEl;if(e&&e.getDeviceModel&&r){var o=e.getDeviceModel();r.val(o?o.get("id"):"")}},n.prototype.getOptions=function(){var t=this,e=t.collection,r=t.em,o="";return e.forEach(function(l){var f=l.attributes,p=f.name,h=f.id,v=r&&r.t&&r.t("deviceManager.devices.".concat(h))||p;o+='<option value="'.concat(h||p,'">').concat(v,"</option>")}),o},n.prototype.render=function(){var t=this,e=t.em,r=t.ppfx,o=t.$el,l=t.el,f=e&&e.t&&e.t("deviceManager.device");return o.html(this.template({ppfx:r,label:f})),this.devicesEl=o.find(".".concat(r,"devices")),this.devicesEl.append(this.getOptions()),this.devicesEl.val(e.get("device")),l.className="".concat(r,"devices-c"),this},n}(m.G7);const X=rt;var wt,Kt=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ct=function(){return Ct=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Ct.apply(this,arguments)},Ut="device",zt="".concat(Ut,":"),Nt="".concat(zt,"select"),Qt="".concat(zt,"update"),Ot="".concat(zt,"add"),Dt="".concat(zt,"remove"),Wt="".concat(Dt,":before"),oe="change:device",$t={all:Ut,select:Nt,update:Qt,add:Ot,remove:Dt,removeBefore:Wt},Jt=function(a){Kt(n,a);function n(t){var e,r=a.call(this,t,"DeviceManager",new P,$t,it)||this;return r.Device=I,r.Devices=P,r.storageKey="",r.devices=r.all,(e=r.config.devices)===null||e===void 0||e.forEach(function(o){return r.add(o,{silent:!0})}),r.select(r.config.default||r.devices.at(0)),t.on(oe,r._onSelect,r),r}return n.prototype._onSelect=function(t,e,r){var o=this,l=o.em,f=o.events,p=t.previous("device"),h=this.get(e),v=f.select;l.trigger(v,h,this.get(p)),this.__catchAllEvent(v,h,r)},n.prototype.add=function(t,e){e===void 0&&(e={});var r,o=e;if((0,V.isString)(t)){var l=e;o=arguments[2]||{},r=Ct(Ct({},o),{id:t,name:o.name||t,width:l})}else r=t;return r.id||(r.id=r.name||this._createId()),this.devices.add(r,o)},n.prototype.get=function(t){var e=this.getAll().filter(function(r){return r.get("name")===t})[0];return e||this.devices.get(t)||null},n.prototype.remove=function(t,e){return e===void 0&&(e={}),this.__remove(t,e)},n.prototype.getDevices=function(){return this.devices.models},n.prototype.select=function(t,e){e===void 0&&(e={});var r=(0,V.isString)(t)?this.get(t):t;return r&&this.em.set("device",r.get("id"),e),this},n.prototype.getSelected=function(){return this.get(this.em.get("device"))},n.prototype.getAll=function(){return this.devices},n.prototype.render=function(){var t,e=this.em;return(t=this.view)===null||t===void 0||t.remove(),this.view=new X({collection:this.devices,config:Ct({em:e},this.config)}),this.view.render().el},n.prototype.destroy=function(){this.__destroy()},n}(D);const ue=Jt;var Ne;(function(a){a.add="page:add",a.addBefore="page:add:before",a.remove="page:remove",a.removeBefore="page:remove:before",a.select="page:select",a.selectBefore="page:select:before",a.update="page:update",a.all="page"})(Ne||(Ne={}));const tr=Ne;var ir=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),rr=function(a){ir(n,a);function n(t,e,r){return a.call(this,e,{module:t,modelConstructor:r})||this}return n.prototype.add=function(t,e){var r=this,o,l=(0,V.isArray)(t)?t:(0,V.isUndefined)(t)?void 0:[t];return l=(o=l==null?void 0:l.map(function(f){return f instanceof r.newModel?f:new r.newModel(r.module,f)}))!==null&&o!==void 0?o:[void 0],a.prototype.add.call(this,(0,V.isArray)(t)?l:l[0],e)},n.prototype.preinitialize=function(t,e){this.newModel=e.modelConstructor,this.module=e.module},n}(m.FE);const fe=rr;var K=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),st=function(){return st=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},st.apply(this,arguments)},yt=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return a.concat(o||Array.prototype.slice.call(n))},At="__aw",Ht="__ah",mt=function(a,n){var t,e=a.get(n),r=(t=a.view)===null||t===void 0?void 0:t.el[n==="width"?"offsetWidth":"offsetHeight"];return(0,V.isNumber)(e)?e:(0,V.isString)(e)&&e.endsWith("px")?parseFloat(e):r||0},Vt=function(a){K(n,a);function n(t,e){var r=a.call(this,t,e)||this,o=r.em,l=r.attributes,f=l.styles,p=l.component,h=o.Components,v=h.getConfig(),_=o.Css.getAll(),A={},B={em:o,config:v,frame:r,idMap:A};if(!(0,vt.isComponent)(p)){var nt=(0,vt.isObject)(p)?p:{components:p};!nt.type&&(nt.type="wrapper");var ft=h.getType("wrapper").model;r.set("component",new ft(nt,B))}if(!f)r.set("styles",_);else if(!(0,vt.isObject)(f)){var pt=f;(0,V.keys)(A).length&&(pt=(0,V.isString)(pt)?o.Parser.parseCss(pt):pt,o.Css.checkId(pt,{idMap:A})),_.add(pt),r.set("styles",_)}return!e.width&&r.set(At,1),!e.height&&r.set(Ht,1),!r.id&&r.set("id",(0,vt.createId)()),r}return n.prototype.defaults=function(){return{x:0,y:0,changesCount:0,attributes:{},width:null,height:null,head:[],component:"",styles:"",refFrame:null,_undo:!0,_undoexc:["changesCount"]}},Object.defineProperty(n.prototype,"width",{get:function(){return mt(this,"width")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return mt(this,"height")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"head",{get:function(){return this.get("head")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"refFrame",{get:function(){return this.get("refFrame")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"root",{get:function(){var t=this.refFrame;return(t==null?void 0:t.getComponent())||this.getComponent()},enumerable:!1,configurable:!0}),n.prototype.initRefs=function(){var t=this.refFrame;if((0,V.isString)(t)){var e=this.module.framesById[t];e&&this.set({refFrame:e},{silent:!0})}},n.prototype.getBoxRect=function(){var t=this.attributes,e=t.x,r=t.y,o=this,l=o.width,f=o.height;return{x:e,y:r,width:l,height:f}},n.prototype.onRemove=function(){!this.refFrame&&this.getComponent().remove({root:1})},n.prototype.changesUp=function(t){t===void 0&&(t={}),!(t.temporary||t.noCount||t.avoidStore)&&this.set("changesCount",this.get("changesCount")+1)},n.prototype.getComponent=function(){return this.get("component")},n.prototype.getStyles=function(){return this.get("styles")},n.prototype.disable=function(){this.trigger("disable")},n.prototype.remove=function(){var t;(t=this.view)===null||t===void 0||t.remove(),this.view=void 0;var e=this.collection;return e&&e.remove(this)},n.prototype.getHead=function(){return yt([],this.head,!0)},n.prototype.setHead=function(t){return this.set("head",yt([],t,!0))},n.prototype.addHeadItem=function(t){this.head.push(t)},n.prototype.getHeadByAttr=function(t,e,r){return this.head.filter(function(o){return o.attributes&&o.attributes[t]==e&&(!r||r===o.tag)})[0]},n.prototype.removeHeadByAttr=function(t,e,r){var o=this.getHeadByAttr(t,e,r),l=this.head.indexOf(o);l>=0&&this.head.splice(l,1)},n.prototype.addLink=function(t){var e="link";!this.getHeadByAttr("href",t,e)&&this.addHeadItem({tag:e,attributes:{href:t,rel:"stylesheet"}})},n.prototype.removeLink=function(t){this.removeHeadByAttr("href",t,"link")},n.prototype.addScript=function(t){var e="script";!this.getHeadByAttr("src",t,e)&&this.addHeadItem({tag:e,attributes:{src:t}})},n.prototype.removeScript=function(t){this.removeHeadByAttr("src",t,"script")},n.prototype.getPage=function(){var t;return(t=this.collection)===null||t===void 0?void 0:t.page},n.prototype._emitUpdated=function(t){t===void 0&&(t={}),this.em.trigger("frame:updated",st({frame:this},t))},n.prototype.hasAutoHeight=function(){var t=this.attributes.height;return!!(t==="auto"||this.config.infiniteCanvas)},n.prototype.toJSON=function(t){t===void 0&&(t={});var e=ot.Z.prototype.toJSON.call(this,t),r=(0,V.result)(this,"defaults");return t.fromUndo&&delete e.component,delete e.styles,delete e.changesCount,e[At]&&delete e.width,e[Ht]&&delete e.height,e.refFrame&&(e.refFrame=e.refFrame.id,delete e.component),(0,V.forEach)(e,function(o,l){l.indexOf("_")===0&&delete e[l]}),(0,V.forEach)(r,function(o,l){e[l]===o&&delete e[l]}),(0,V.forEach)(["attributes","head"],function(o){(0,V.isEmpty)(e[o])&&delete e[o]}),e},n}(ot.Z);const Et=Vt;var _e=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Pe=function(a){_e(n,a);function n(t,e){e===void 0&&(e=[]);var r=a.call(this,t,e,Et)||this;return r.loadedItems=0,r.itemsToLoad=0,(0,V.bindAll)(r,"itemLoaded"),r.on("add",r.onAdd),r.on("reset",r.onReset),r.on("remove",r.onRemove),r.forEach(function(o){return r.onAdd(o)}),r}return n.prototype.onAdd=function(t){this.module.framesById[t.id]=t},n.prototype.onReset=function(t,e){var r=this,o=(e==null?void 0:e.previousModels)||[];o.map(function(l){return r.onRemove(l)})},n.prototype.onRemove=function(t){t.onRemove(),delete this.module.framesById[t.id]},n.prototype.initRefs=function(){this.forEach(function(t){return t.initRefs()})},n.prototype.itemLoaded=function(){this.loadedItems++,this.loadedItems>=this.itemsToLoad&&(this.trigger("loaded:all"),this.listenToLoadItems(!1))},n.prototype.listenToLoad=function(){this.loadedItems=0,this.itemsToLoad=this.length,this.listenToLoadItems(!0)},n.prototype.listenToLoadItems=function(t){var e=this;this.forEach(function(r){return r[t?"on":"off"]("loaded",e.itemLoaded)})},n}(fe);const Se=Pe;var Ve=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ue=function(a){Ve(n,a);function n(t){var e=this,r=t.em,o=t.config,l=o.scripts,f=o.styles;return e=a.call(this,t,{scripts:l,styles:f})||this,e.set("frames",new Se(t)),e.on("change:zoom",e.onZoomChange),e.on("change:x change:y",e.onCoordsChange),e.on("change:pointer change:pointerScreen",e.onPointerChange),e.listenTo(r,"change:device ".concat(Qt),e.updateDevice),e.listenTo(r,tr.select,e._pageUpdated),e}return n.prototype.defaults=function(){return{frame:"",frames:[],rulers:!1,zoom:100,x:0,y:0,scripts:[],styles:[],pointer:m.pH,pointerScreen:m.pH}},Object.defineProperty(n.prototype,"frames",{get:function(){return this.get("frames")},enumerable:!1,configurable:!0}),n.prototype.init=function(){var t=this.em,e=t.Pages._initPage();this.set("frames",e.getFrames()),this.updateDevice({frame:e.getMainFrame()})},n.prototype._pageUpdated=function(t,e){var r=this.em;r.setSelected(),r.get("readyCanvas")&&r.stopDefault(),e==null||e.getFrames().map(function(o){return o.disable()}),this.set("frames",t.getFrames()),this.updateDevice({frame:t.getMainFrame()})},n.prototype.updateDevice=function(t){t===void 0&&(t={});var e=this.em,r=e.getDeviceModel(),o=t.frame||e.getCurrentFrameModel();if(o&&r){var l=r.attributes,f=l.width,p=l.height;o.set({width:f,height:p},{noUndo:1})}},n.prototype.onZoomChange=function(){var t=this,e=t.em,r=t.module,o=this.get("zoom");o<1&&this.set("zoom",1),e.trigger(r.events.zoom)},n.prototype.onCoordsChange=function(){var t=this,e=t.em,r=t.module;e.trigger(r.events.coords)},n.prototype.onPointerChange=function(){var t=this,e=t.em,r=t.module;e.trigger(r.events.pointer)},n.prototype.getPointerCoords=function(t){t===void 0&&(t=m.vA.World);var e=this.attributes,r=e.pointer,o=e.pointerScreen;return t===m.vA.World?r:o},n}(ot.Z);const me=Ue;var qe=gr(675),Ae=gr(184),Ze=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ar=function(a){Ze(n,a);function n(t,e){e===void 0&&(e=[]);var r=a.call(this,t,e,qe.Z)||this;r.on("add",r.onAdd),r.on("change",r.onChange),r.on("remove",r.onRemove);var o=r.em;r.refreshDbn=(0,V.debounce)(function(){return r.refresh()},0);var l="component:resize styleable:change component:input ".concat(Ae.g.update," frame:updated undo redo");return r.listenTo(o,l,function(){return r.refreshDbn()}),r}return Object.defineProperty(n.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"events",{get:function(){return this.module.events},enumerable:!1,configurable:!0}),n.prototype.refresh=function(){var t=this,e=t.em,r=t.events;e.trigger(r.spot)},n.prototype.onAdd=function(t){this.__trgEvent(this.events.spotAdd,{spot:t})},n.prototype.onChange=function(t){this.__trgEvent(this.events.spotUpdate,{spot:t})},n.prototype.onRemove=function(t){this.__trgEvent(this.events.spotRemove,{spot:t})},n.prototype.__trgEvent=function(t,e){var r=this.module,o=r.em;o.trigger(t,e),this.refreshDbn()},n}(fe);const xe=Ar;var Tr;(function(a){a.dragEnter="canvas:dragenter",a.dragOver="canvas:dragover",a.dragEnd="canvas:dragend",a.dragData="canvas:dragdata",a.drop="canvas:drop",a.spot="canvas:spot",a.spotAdd="canvas:spot:add",a.spotUpdate="canvas:spot:update",a.spotRemove="canvas:spot:remove",a.coords="canvas:coords",a.zoom="canvas:zoom",a.pointer="canvas:pointer",a.refresh="canvas:refresh",a.frameLoad="canvas:frame:load",a.frameLoadHead="canvas:frame:load:head",a.frameLoadBody="canvas:frame:load:body"})(Tr||(Tr={}));const Le=Tr;var lr=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),fr=function(a){lr(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"pfx",{get:function(){return this.ppfx+this.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"ppfx",{get:function(){return this.em.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"module",{get:function(){var t,e;return(e=(t=this.model)===null||t===void 0?void 0:t.module)!==null&&e!==void 0?e:this.collection.module},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"config",{get:function(){return this.module.config},enumerable:!1,configurable:!0}),n.prototype.preinitialize=function(t){this.className=""},n}(m.G7);const dr=fr;var ee=gr(491),Kn=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),at=function(a){Kn(n,a);function n(t,e){t===void 0&&(t={}),e===void 0&&(e=!1);var r=a.call(this,t)||this;return r.itemsView="",r.itemType="type",r.reuseView=!1,r.viewCollection=[],e&&r.listenTo(r.collection,"add",r.addTo),r}return n.prototype.addTo=function(t){this.add(t)},n.prototype.itemViewNotFound=function(t){},n.prototype.add=function(t,e){var r=this,o=r.reuseView,l=r.viewCollection,f=e||null,p=t.get(this.itemType),h;t.view&&o?h=t.view:h=this.renderView(t,p),l.push(h);var v=h.render().el;f?f.appendChild(v):this.$el.append(v)},n.prototype.render=function(){var t=this,e=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(r){return t.add(r,e)}),this.$el.append(e),this.onRender(),this},n.prototype.onRender=function(){},n.prototype.onRemoveBefore=function(t,e){},n.prototype.onRemove=function(t,e){},n.prototype.remove=function(t){t===void 0&&(t={});var e=this.viewCollection;return this.onRemoveBefore(e,t),this.clearItems(),m.G7.prototype.remove.apply(this,t),this.onRemove(e,t),this},n.prototype.clearItems=function(){this.viewCollection},n}(dr);const Tt=at;var Lt=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Yt=function(a){Lt(n,a);function n(t){t===void 0&&(t={});var e=a.call(this,t)||this;e.config=t.config||{};var r=e.model;return e.listenTo(r,"change",e.render),e.listenTo(r,"destroy remove",e.remove),e.listenTo(r.get("selectors"),"change",e.render),e}return n.prototype.tagName=function(){return"style"},n.prototype.render=function(){var t=this,e=t.model,r=t.el,o=e.get("important");return r.innerHTML=e.toCSS({important:o}),this},n}(m.G7);const ve=Yt;var je=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ye=function(a){je(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype._createElement=function(){return document.createTextNode("")},n.prototype.render=function(){var t=this.model,e=t.get("important");return this.el.textContent=t.getDeclaration({important:e}),this},n}(ve);const ln=Ye;var xn=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),xr=function(a,n){return"".concat(a).concat(n?"-".concat(parseFloat(n)):"")},Lo=function(a){xn(n,a);function n(t){var e=a.call(this,t)||this;(0,V.bindAll)(e,"sortRules");var r=t.config||{};e.atRules={},e.config=r,e.em=r.em,e.pfx=r.stylePrefix||"",e.className=e.pfx+"rules";var o=e.collection;return e.listenTo(o,"add",e.addTo),e.listenTo(o,"reset",e.render),e}return n.prototype.addTo=function(t){this.addToCollection(t)},n.prototype.addToCollection=function(t,e){if(this.renderStarted){var r=e||null,o=this.config,l={model:t,config:o},f,p;if(t.get("atRuleType")==="keyframes"){var h=t.getAtRule(),v=this.atRules[h];if(!v){var _=document.createElement("style");v=document.createTextNode(""),_.appendChild(document.createTextNode("".concat(h,"{"))),_.appendChild(v),_.appendChild(document.createTextNode("}")),this.atRules[h]=v,f=_}p=new ln(l),v.appendData(p.render().el.textContent)}else p=new ve(l),f=p.render().el;var A=this.className,B=t.get("mediaText"),nt=xr(A),ft=nt;if(B&&(ft=xr(A,this.getMediaWidth(B))),f){var pt=r||this.el,Pt=void 0;try{Pt=pt.querySelector("#".concat(ft))}catch{}Pt||(Pt=pt.querySelector("#".concat(nt))),Pt==null||Pt.appendChild(f)}return f}},n.prototype.getMediaWidth=function(t){return t&&t.replace("(".concat(this.em.getConfig().mediaCondition,": "),"").replace(")","")},n.prototype.sortRules=function(t,e){var r=this.em,o=(r.getConfig().mediaCondition||"").indexOf("min-width")!==-1;if(!o)return 0;var l=o?t:e,f=o?e:t;return l-f},n.prototype.render=function(){var t=this;this.renderStarted=!0,this.atRules={};var e=this,r=e.em,o=e.$el,l=e.collection,f=this.className,p=document.createDocumentFragment();o.empty();var h=r.Devices.getAll().pluck("priority").sort(this.sortRules);return h.every(function(v){return v})&&h.unshift(0),h.forEach(function(v){return p.appendChild((0,ee.ut)("div",{id:xr(f,v)}))}),l.each(function(v){return t.addToCollection(v,p)}),o.append(p),o.attr("class",f),this},n}(m.G7);const vn=Lo;var Cn="text/html",bo=Cn;const Mr=function(a,n){n===void 0&&(n={});var t=new DOMParser,e=n.htmlType||bo,r=e===Cn,o=r?a:"<div>".concat(a,"</div>"),l=t.parseFromString(o,e),f;if(r){if(n.asDocument)return l;var p=l.head,h=l.body,v=p.querySelectorAll("script");(0,V.each)(v,function(A){return h.appendChild(A)});var _=[];(0,V.each)(p.children,function(A){return _.push(A)}),(0,V.each)(_,function(A,B){return h.insertBefore(A,h.children[B])}),f=h}else f=l.firstChild;return f};var Cr=function(){return Cr=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Cr.apply(this,arguments)},zr="data-gjs-",Sn="parse:html",$n=function(a,n){return n===void 0&&(n={}),{compTypes:[],modelAttrStart:zr,getPropAttribute:function(t,e){var r=t.replace(this.modelAttrStart,""),o=(e==null?void 0:e.length)||0,l=e==null?void 0:e.substring(0,1),f=e==null?void 0:e.substring(o-1),p=e==="true"?!0:e==="false"?!1:e;try{p=l=="{"&&f=="}"||l=="["&&f=="]"?JSON.parse(p):p}catch{}return{name:r,value:p}},splitPropsFromAttr:function(t){var e=this;t===void 0&&(t={});var r={},o={};return(0,V.each)(t,function(l,f){if(f.indexOf(e.modelAttrStart)===0){var p=e.getPropAttribute(f,l);r[p.name]=p.value}else o[f]=l}),{props:r,attrs:o}},parseStyle:function(t){for(var e={};t.indexOf("/*")>=0;){var r=t.indexOf("/*"),o=t.indexOf("*/")+2;t=t.replace(t.slice(r,o),"")}for(var l=t.split(";"),f=0,p=l.length;f<p;f++){var h=l[f].trim();if(h){var v=h.split(":"),_=v[0].trim(),A=v.slice(1).join(":").trim();e[_]?((0,V.isArray)(e[_])||(e[_]=[e[_]]),e[_].push(A)):e[_]=A}}return e},parseClass:function(t){for(var e=[],r=t.split(" "),o=0,l=r.length;o<l;o++){var f=r[o].trim();f&&e.push(f)}return e},parseNodeAttr:function(t,e){for(var r=e||{},o=t.attributes||[],l=o.length,f=0;f<l;f++){var p=o[f].nodeName,h=o[f].nodeValue;if(p=="style")r.style=this.parseStyle(h);else if(p=="class")r.classes=this.parseClass(h);else{if(p=="contenteditable")continue;if(p.indexOf(this.modelAttrStart)===0){var v=this.getPropAttribute(p,h);r[v.name]=v.value}else h===""&&t[p]===!0&&(h=!0),r.attributes||(r.attributes={}),r.attributes[p]=h}}return r},detectNode:function(t,e){var r;e===void 0&&(e={});var o=this.compTypes,l={};if(o){var f=(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"".concat(this.modelAttrStart,"type"));if(f)l={type:f};else for(var p=0;p<o.length;p++){var h=o[p],v=h.model.isComponent(t,e);if(v){typeof v!="object"&&(v={type:h.id}),l=v;break}}}return l},parseNode:function(t,e){var r;e===void 0&&(e={});var o=((r=t.content)===null||r===void 0?void 0:r.childNodes)||t.childNodes,l=o.length,f=this.detectNode(t,e);if(!f.tagName){var p=t.tagName||"",h=t.namespaceURI||"";f.tagName=p&&h==="http://www.w3.org/1999/xhtml"?p.toLowerCase():p}if(f=this.parseNodeAttr(t,f),!l&&"".concat(t.outerHTML).slice(-2)==="/>"&&(f.void=!0),l&&!f.components&&!e.skipChildren){var v=o[0];l===1&&v.nodeType===3?(!f.type&&(f.type="text"),f.components={type:"textnode",content:v.nodeValue}):f.components=this.parseNodes(t,Cr(Cr({},e),{inSvg:e.inSvg||f.type==="svg"}))}var _=f.components;if(!f.type&&(_!=null&&_.length)){for(var A=n.textTypes,B=A===void 0?[]:A,nt=n.textTags,ft=nt===void 0?[]:nt,pt=!0,Pt=!1,Ft=0;Ft<_.length;Ft++){var Bt=_[Ft],te=Bt.type;if(!B.includes(te)&&!ft.includes(Bt.tagName)){pt=!1;break}te==="textnode"&&(Pt=!0)}pt&&Pt&&(f.type="text")}return f},parseNodes:function(t,e){var r;e===void 0&&(e={});for(var o=[],l=((r=t.content)===null||r===void 0?void 0:r.childNodes)||t.childNodes,f=l.length,p=0;p<f;p++){var h=l[p],v=o[o.length-1],_=this.parseNode(h,e);if(_.type==="textnode"){if((v==null?void 0:v.type)==="textnode"){v.content+=_.content;continue}if(!e.keepEmptyTextNodes){var A=h.nodeValue;if(A!=" "&&!A.trim())continue}}!_.tagName&&(0,V.isUndefined)(_.content)||o.push(_)}return o},parse:function(t,e,r){var o,l,f;r===void 0&&(r={});var p=(a==null?void 0:a.get("Config"))||{},h={html:[]},v=Cr(Cr({},n),r),_=Cr(Cr(Cr({},n.optionsHtml),{htmlType:((o=n.optionsHtml)===null||o===void 0?void 0:o.htmlType)||n.htmlType}),r),A=_.preParser,B=_.asDocument,nt=(0,V.isFunction)(A)?A(t,{editor:a==null?void 0:a.getEditor()}):t,ft=(0,V.isFunction)(v.parserHtml)?v.parserHtml(nt,_):Mr(nt,_),pt=ft,Pt=ft;B&&(pt=Pt.documentElement,h.doctype=(0,ee.hy)(Pt.doctype));var Ft=pt.querySelectorAll("script"),Bt=Ft.length,te=(0,V.isUndefined)(p.allowScripts)?_.allowScripts:p.allowScripts;if(!te)for(;Bt--;)(l=Ft[Bt].parentNode)===null||l===void 0||l.removeChild(Ft[Bt]);if((!_.allowUnsafeAttr||!_.allowUnsafeAttrValue)&&this.__sanitizeNode(pt,_),e){for(var de=pt.querySelectorAll("style"),Oe=de.length,Me="";Oe--;)Me=de[Oe].innerHTML+Me,(f=de[Oe].parentNode)===null||f===void 0||f.removeChild(de[Oe]);Me&&(h.css=e.parse(Me))}a==null||a.trigger("".concat(Sn,":root"),{input:nt,root:pt});var ae=[];if(B)h.head=this.parseNode(Pt.head,v),h.root=this.parseNodeAttr(pt),ae=this.parseNode(Pt.body,v);else{var ke=this.parseNodes(pt,v);ae=ke.length===1&&!v.returnArray?ke[0]:ke}return h.html=ae,a==null||a.trigger(Sn,{input:nt,output:h}),h},__sanitizeNode:function(t,e){var r=this,o=t.attributes||[],l=t.childNodes||[],f=[];(0,V.each)(o,function(p){var h=p.nodeName||"",v=p.nodeValue||"";!e.allowUnsafeAttr&&h.startsWith("on")&&f.push(h),!e.allowUnsafeAttrValue&&v.startsWith("javascript:")&&f.push(h)}),f.map(function(p){return t.removeAttribute(p)}),(0,V.each)(l,function(p){return r.__sanitizeNode(p,e)})}}};const jo=$n;var Vn=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Qr=function(){return Qr=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Qr.apply(this,arguments)},Wr=jo(),qn=function(a){return(0,V.isArray)(a)?a[a.length-1]:a},Mn=function(a){Vn(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.parseStyle=function(t){return Wr.parseStyle(t)},n.prototype.extendStyle=function(t){return Qr(Qr({},this.getStyle()),t)},n.prototype.getStyle=function(t){var e=this.get("style")||{},r=Qr({},e);return t&&(0,V.isString)(t)?r[t]:r},n.prototype.setStyle=function(t,e){var r=this;t===void 0&&(t={}),e===void 0&&(e={}),(0,V.isString)(t)&&(t=this.parseStyle(t));var o=this.getStyle(e);e.partial||e.avoidStore?(e.avoidStore=!0,t.__p=!0):delete t.__p;var l=Qr({},t),f=Qr({},l);(0,V.keys)(f).forEach(function(h){f[h]===""&&delete f[h]}),this.set("style",f,e);var p=(0,vt.shallowDiff)(o,l);return delete p.__p,(0,V.keys)(p).forEach(function(h){var v=r.em;e.noEvent||(r.trigger("change:style:".concat(h)),v&&(v.trigger("styleable:change",r,h,e),v.trigger("styleable:change:".concat(h),r,h,e)))}),l},n.prototype.addStyle=function(t,e,r){var o;e===void 0&&(e=""),r===void 0&&(r={}),typeof t=="string"?t=(o={},o[t]=e,o):r=e||{},r.addStyle=t,t=this.extendStyle(t),this.setStyle(t,r)},n.prototype.removeStyle=function(t){var e=this.getStyle();delete e[t],this.setStyle(e)},n.prototype.styleToString=function(t){t===void 0&&(t={});var e=[],r=this.getStyle(t),o=t.important,l=function(p){var h=(0,V.isArray)(o)?o.indexOf(p)>=0:o,v=p.substring(0,2),_=v==="__";if(_)return"continue";var A=r[p],B=(0,V.isArray)(A)?A:[A];B.forEach(function(nt){var ft="".concat(nt).concat(h?" !important":"");ft&&e.push("".concat(p,":").concat(ft,";"))})};for(var f in r)l(f);return e.join("")},n.prototype.getSelectors=function(){return this.get("selectors")||this.get("classes")},n.prototype.getSelectorsString=function(t){return this.selectorsToString?this.selectorsToString(t):this.getSelectors().getFullString()},n}(m.Hn);const On=Mn;var Lr=function(){return Lr=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Lr.apply(this,arguments)},ar=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return a.concat(o||Array.prototype.slice.call(n))},we=function(a){return(0,V.isArray)(a.get(Fr))},cn=function(a){return!!a.get(sr)},yr=function(a){return!!(we(a)||cn(a))},Nr=function(a){var n=a.parent();return yr(a)&&(!n||!yr(n))},Xe=function(a){a.__symbReady||(a.on("change",a.__upSymbProps),a.__symbReady=!0)},tn=function(a){var n=a.get(sr);if(n&&(0,V.isString)(n)){var t=a.__getAllById()[n];t?(n=t,a.set(sr,t)):n=0}return n||void 0},jr=function(a){var n=a==null?void 0:a.get(Fr);return n&&(0,V.isArray)(n)&&(n.forEach(function(t,e){t&&(0,V.isString)(t)&&(n[e]=a.__getAllById()[t])}),n=n.filter(function(t){return t&&!(0,V.isString)(t)})),n||void 0},gn=function(a,n){n===void 0&&(n="");var t=a==null?void 0:a.get(eo),e=n.split(":")[0],r=n!==e?[n,e]:[n];return t===!0||(0,V.isArray)(t)&&r.some(function(o){return t.indexOf(o)>=0})},F=function(a,n){n===void 0&&(n={});var t=[],e=n.changed;if(n.fromInstance||n.noPropagate||n.fromUndo||e&&gn(a,e))return t;var r=jr(a)||[],o=tn(a),l=o?ar([o],jr(o)||[],!0):r;return t=l.filter(function(f){return f!==a}).filter(function(f){return!(e&&gn(f,e))}),t},ut=function(a,n){for(var t=a,e=a.parent(n);e&&yr(e);)t=e,e=e.parent(n);return t},Zt=function(a,n){n===void 0&&(n={});var t=tn(a),e=t&&jr(t);!n.skipRefs&&e&&t.set(Fr,e.filter(function(r){return r!==a})),a.set(sr,0),a.components().forEach(function(r){return Zt(r,n)})},re=function(a,n,t,e){e===void 0&&(e={});var r=tn(a),o=jr(a);!r&&!o||a.em.log(n,{model:a,toUp:t,context:"symbols",opts:e})},Re=function(a,n){n===void 0&&(n={});var t=a.changedAttributes()||{},e=t.attributes||{};if(delete t.status,delete t.open,delete t[Fr],delete t[sr],delete t[eo],delete t.attributes,delete e.id,(0,vt.isEmptyObj)(e)||(t.attributes=e),!(0,vt.isEmptyObj)(t)){var r=F(a,n);(0,V.keys)(t).map(function(o){gn(a,o)&&delete t[o]}),re(a,"props",r,{opts:n,changed:t}),r.forEach(function(o){var l=Lr({},t);(0,V.keys)(l).map(function(f){gn(o,f)&&delete l[f]}),o.set(l,Lr({fromInstance:a},n))})}},Je=function(a,n){n===void 0&&(n={});var t=F(a,n);re(a,"classes",t,{opts:n}),t.forEach(function(e){e.set("classes",a.get("classes"),{fromInstance:a})}),a.__changesUp(n)},or=function(a,n,t,e){var r=e||t||{},o=r.fromInstance,l=r.fromUndo,f={fromInstance:o,fromUndo:l},p=n.opt.temporary;if(e)if(e.add){var B=[],nt=!!jr(a),v=F(a,Lr(Lr({},f),{changed:"components:add"}));if(v.length){var ft=tn(n);B=jr(ft||n)||[],B=ar([],B,!0),B.push(ft||n)}!p&&re(a,"add",v,{opts:e,addedInstances:B.map(function(ae){return ae.cid}),added:n.cid}),v.forEach(function(ae){var ke=ut(ae),Be=B.filter(function(he){var Wn=ut(he,{prev:1});return ke&&Wn&&Wn===ke})[0],ur=Be||n.clone({symbol:!0,symbolInv:nt});ae.append(ur,Lr({fromInstance:a},e))})}else{var pt=tn(n);if(pt&&!e.temporary&&pt.set(Fr,jr(pt).filter(function(Me){return Me!==n})),!Nr(n)&&!e.skipRefsUp){var Pt="components:remove",Ft=e.index,Bt=n.parent(),te=Lr({fromInstance:n},e),de=Nr(n),Oe=function(ae){var ke=ae.parent();ke&&!gn(ke,Pt)&&ae.remove(te)},v=gn(Bt,Pt)?[]:F(n,f);de&&(v=Bt&&F(Bt,Lr(Lr({},f),{changed:Pt})),Oe=function(ae){var ke=ae.components().at(Ft);ke&&ke.remove(Lr({fromInstance:Bt},te))}),!p&&re(a,"remove",v,{opts:e,removed:n.cid,isSymbNested:de}),v.forEach(Oe)}}else{var h=n,v=F(a,Lr(Lr({},f),{changed:"components:reset"})),_=h.models,A=new Set;re(a,"reset",v,{components:_}),v.forEach(function(Me){var ae=Me.components(),ke=_.map(function(Be,ur){return!yr(Be)||A.has(Be)?(A.add(Be),Be.clone({symbol:!0})):ae.at(ur)});ae.reset(ke,Lr({fromInstance:a},t))})}a.__changesUp(r)},Ce=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),wr=function(){return wr=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},wr.apply(this,arguments)},wo=function(a,n){var t={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&n.indexOf(e)<0&&(t[e]=a[e]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(a);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(a,e[r])&&(t[e[r]]=a[e[r]]);return t},mi=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return a.concat(o||Array.prototype.slice.call(n))},un=function(a,n){if(n===void 0&&(n=[]),!a)return[];var t=(0,V.isArray)(a)||(0,V.isFunction)(a.map)?a:[a];return t.map(function(e){n.push(e.getId()),un(e.components().models,n)}),n},Gi=function(a,n,t){n===void 0&&(n={}),t===void 0&&(t={}),t.visitedCmps=t.visitedCmps||{};var e=t.visitedCmps,r=(0,V.isArray)(a)?a:[a];return r.map(function(o){var l=o.attributes,f=l===void 0?{}:l,p=o.components,h=o.tagName,v=o.style,_=f.id;f.draggable;var A=wo(f,["id","draggable"]),B=o;if(_){if(e[_])e[_].push(B),_=Kr.getNewId(n),B.attributes.id=_;else if(e[_]=[],n[_]){B=n[_];var nt=B;h&&nt.set({tagName:h},wr(wr({},t),{silent:!0})),(0,V.keys)(A).length&&nt.addAttributes(A,wr({},t)),(0,V.keys)(v).length&&nt.addStyle(v,t)}}if(p){var ft=Gi(p,n);if((0,V.isFunction)(B.components)){var pt=B.components();pt.length>0&&pt.reset(ft,t)}else B.components=ft}return B})},Ma=function(a){Ce(n,a);function n(t,e){var r=a.call(this,t,e)||this;r.opt=e,r.listenTo(r,"add",r.onAdd),r.listenTo(r,"remove",r.removeChildren),r.listenTo(r,"reset",r.resetChildren);var o=e.em,l=e.config;return r.config=l,r.em=o,r.domc=e.domc||(o==null?void 0:o.Components),r}return Object.defineProperty(n.prototype,"events",{get:function(){var t;return(t=this.domc)===null||t===void 0?void 0:t.events},enumerable:!1,configurable:!0}),n.prototype.resetChildren=function(t,e){var r=this;e===void 0&&(e={});var o=this,l=e.previousModels||[],f=l.filter(function(v){return!t.get(v.cid)}),p=un(t),h=un(l).filter(function(v){return p.indexOf(v)>=0});e.keepIds=(e.keepIds||[]).concat(h),f.forEach(function(v){return r.removeChildren(v,o,e)}),t.each(function(v){return r.onAdd(v)})},n.prototype.resetFromString=function(t,e){var r,o;t===void 0&&(t=""),e===void 0&&(e={}),e.keepIds=un(this);var l=this,f=l.domc,p=l.em,h=l.parent,v=p==null?void 0:p.Css,_=(f==null?void 0:f.allById())||{},A=this.parseString(t,e),B=Gi(A,_,e),nt=e.visitedCmps,ft=nt===void 0?{}:nt;Object.keys(ft).forEach(function(pt){var Pt=ft[pt];if(Pt.length){var Ft=(v==null?void 0:v.getRules("#".concat(pt)))||[];Ft.length&&Pt.forEach(function(Bt){Ft.forEach(function(te){var de=te.clone();de.set("selectors",["#".concat(Bt.attributes.id)]),v.getAll().add(de)})})}}),this.reset(B,e),p==null||p.trigger("component:content",h,e,t),(o=(r=h).__checkInnerChilds)===null||o===void 0||o.call(r)},n.prototype.removeChildren=function(t,e,r){var o=this;if(r===void 0&&(r={}),!!t){var l=this,f=l.domc,p=l.em,h=r.temporary||r.fromUndo;if(t.prevColl=this,!h){var v=t.getId(),_=p.Selectors.getAll(),A=p.Css.getAll(),B=(r.keepIds||[]).indexOf(v)<0,nt=f?f.allById():{};delete nt[v];var ft=B?A.remove(A.filter(function(Ft){return Ft.getSelectors().getFullString()==="#".concat(v)}),r):[];_.remove(ft.map(function(Ft){return Ft.getSelectors().at(0)})),t.opt.temporary||(p.Commands.run("core:component-style-clear",{target:t}),t.removed(),t.trigger("removed"),p.trigger(Ae.g.remove,t),f&&cn(t)&&Nr(t)&&f.symbols.__trgEvent(f.events.symbolInstanceRemove,{component:t},!0));var pt=t.components();pt.forEach(function(Ft){or(Ft,Ft,pt,wr(wr({},r),{skipRefsUp:!0})),o.removeChildren(Ft,e,r)})}var Pt=t.components();p.stopListening(Pt),p.stopListening(t),p.stopListening(t.get("classes")),t.__postRemove()}},n.prototype.model=function(t,e){var r=e.collection.opt,o=r.em,l,f=o.Components.componentTypes;e.em=o,e.config=r.config,e.componentTypes=f,e.domc=r.domc;for(var p=0;p<f.length;p++){var h=f[p].id;if(h==t.type){l=f[p].model;break}}return l||(l=f[f.length-1].model,o&&t.type&&o.logWarning("Component type '".concat(t.type,"' not found"),{attrs:t,options:e})),new l(t,e)},n.prototype.parseString=function(t,e){e===void 0&&(e={});var r=this,o=r.em,l=r.domc,f=r.parent,p=e.asDocument&&(f==null?void 0:f.is("wrapper")),h=o.Css,v=o.Parser.parseHtml(t,{asDocument:p}),_=v.html;if(p){var A=f,B=v.html||{},nt=B.components,ft=wo(B,["components"]),pt=v.head||{},Pt=pt.components,Ft=wo(pt,["components"]);_=nt,A.set(ft,e),A.head.set(Ft,e),A.head.components(Pt,e),A.docEl.set(v.root,e),A.set({doctype:v.doctype})}if(Kr.checkId(_,v.css,l.componentsById,e),v.css&&h&&!e.temporary){e.at;var Bt=wo(e,["at"]);h.addCollection(v.css,wr(wr({},Bt),{extend:1}))}return _},n.prototype.add=function(t,e){var r=this;if(e===void 0&&(e={}),t!=null){e.keepIds=mi(mi([],e.keepIds||[],!0),un(e.previousModels),!0),(0,V.isString)(t)?t=this.parseString(t,e):(0,V.isArray)(t)&&t.forEach(function(l,f){if((0,V.isString)(l)){var p=r.parseString(l,e);t[f]=(0,V.isArray)(p)&&!p.length?null:p}});var o=((0,V.isArray)(t)?t:[t]).filter(Boolean).map(function(l){return r.processDef(l)});return t=(0,V.isArray)(t)?(0,V.flatten)(o,1):o[0],a.prototype.add.call(this,t,e)}},n.prototype.processDef=function(t){if(t.cid&&t.ccid)return t;var e=this,r=e.em,o=e.config,l=o===void 0?{}:o,f=l.processor,p=t;if(f){p=wr({},p);var h=f(p);h&&((0,V.each)(p,function(pt,Pt){return delete p[Pt]}),(0,V.extend)(p,h))}if(p.$$typeof&&typeof p.props=="object"){p=wr({},p),p.props=wr({},p.props);var v=r.Components,_=r.Parser,A=_.parserHtml;(0,V.each)(p,function(pt,Pt){(0,V.includes)(["props","type"],Pt)||delete p[Pt]});var B=p.props,nt=B.children;delete B.children,delete p.props;var ft=A.splitPropsFromAttr(B);p.attributes=ft.attrs,nt&&(p.components=nt),p.type?v.getType(p.type)||(p.tagName=p.type,delete p.type):p.type="textnode",(0,V.extend)(p,ft.props)}return p},n.prototype.onAdd=function(t,e,r){r===void 0&&(r={});var o=this,l=o.domc,f=o.em,p=t.getStyle(),h=f&&f.getConfig().avoidInlineStyle;if(l&&l.Component.ensureInList(t),!(0,V.isEmpty)(p)&&!h&&f&&f.getConfig().forceClass&&!r.temporary){var v=t.cid;f.Css.setClassRule(v,p),t.setStyle({}),t.addClass(v)}if(t.__postAdd({recursive:!0}),f&&!r.temporary){var _=function(A){f.trigger(Ae.g.add,A,r),A.components().forEach(function(B){return _(B)})};_(t),l&&cn(t)&&Nr(t)&&l.symbols.__trgEvent(l.events.symbolInstanceAdd,{component:t},!0)}},n}(m.FE);const Qn=Ma;var Ki=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Do=1,Io=2,yi=function(a){Ki(n,a);function n(t,e){e===void 0&&(e={});var r=a.call(this,t,e)||this,o=e.config,l=o===void 0?{}:o,f=r.get("name"),p=r.get("label");f?p||r.set("label",f):r.set("name",p);var h=r.get("name"),v=l.escapeName,_=v?v(h):n.escapeName(h);return r.set("name",_),r.em=e.em,r}return n.prototype.defaults=function(){return{name:"",label:"",type:Do,active:!0,private:!1,protected:!1,_undo:!0}},n.prototype.isId=function(){return this.get("type")===Io},n.prototype.isClass=function(){return this.get("type")===Do},n.prototype.getFullName=function(t){t===void 0&&(t={});var e=t.escape,r=this.get("name"),o="";switch(this.get("type")){case Do:o=".";break;case Io:o="#";break}return o+(e?e(r):r)},n.prototype.toString=function(){return this.getFullName()},n.prototype.getName=function(){return this.get("name")||""},n.prototype.getLabel=function(){return this.get("label")||""},n.prototype.setLabel=function(t){return this.set("label",t)},n.prototype.getActive=function(){return!!this.get("active")},n.prototype.setActive=function(t){return this.set("active",t)},n.prototype.toJSON=function(t){t===void 0&&(t={});var e=this.em,r=m.Hn.prototype.toJSON.call(this,[t]),o=(0,V.result)(this,"defaults");if(e&&e.getConfig().avoidDefaults){(0,V.forEach)(o,function(f,p){r[p]===f&&delete r[p]}),r.label===r.name&&delete r.label;var l=(0,V.keys)(r).length;l===1&&r.name&&(r=r.name),l===2&&r.name&&r.type&&(r=this.getFullName())}return r},n.escapeName=function(t){return"".concat(t).trim().replace(/([^a-z0-9\w\-\\:@\\/#()\.%\+\[\]]+)/gi,"-")},n.TYPE_CLASS=Do,n.TYPE_ID=Io,n}(m.Hn);const Dr=yi;yi.prototype.idAttribute="name";var $i=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),fn=function(a,n){return a.reduce(function(t,e,r){return t.concat(fn(a.slice(r+1),"".concat(n).concat(e)))},[n])},fo=function(a){$i(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.modelId=function(t){return"".concat(t.name,"_").concat(t.type||Dr.TYPE_CLASS)},n.prototype.getStyleable=function(){return(0,V.filter)(this.models,function(t){return t.getActive()&&!t.get("private")})},n.prototype.getValid=function(t){var e=t===void 0?{}:t,r=e.noDisabled;return(0,V.filter)(this.models,function(o){return!o.get("private")}).filter(function(o){return r?o.get("active"):1})},n.prototype.getFullString=function(t,e){e===void 0&&(e={});var r=[],o=t||this;return o.forEach(function(l){return r.push(l.getFullName(e))}),e.sort&&r.sort(),r.join("").trim()},n.prototype.getFullName=function(t){t===void 0&&(t={});var e=t.combination,r=t.array,o=[],l=this.map(function(f){return f.getFullName(t)}).sort();return e?l.forEach(function(f,p){o=o.concat(fn(l.slice(p+1),f))}):o=l,r?o:e?o.join(","):o.join("")},n}(m.FE);const to=fo;fo.prototype.model=Dr;var La=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ln=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return a.concat(o||Array.prototype.slice.call(n))},Es=function(a){La(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.defaults=function(){return{id:"",label:"",open:!0,attributes:{}}},n.prototype.getId=function(){return this.get("id")},n.prototype.getLabel=function(){return this.get("label")},n}(m.Hn);const Vo=Es;function Ro(a){var n=new Set,t=new Map,e={items:[]};a.forEach(function(o){var l=o.category;if(l){n.add(l);var f=t.get(l);f?f.push(o):t.set(l,[o])}else e.items.push(o)});var r=Array.from(n).map(function(o){return{category:o,items:t.get(o)||[]}});return Ln(Ln([],r,!0),[e],!1)}var No=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),bi="category",ja=function(a){No(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.initCategory=function(t){var e=t.get(bi),r=e instanceof Vo;if(e&&!r){(0,V.isString)(e)?e={id:e,label:e}:(0,vt.isObject)(e)&&!e.id&&(e.id=e.label);var o=this.getCategories().add(e);return t.set(bi,o,{silent:!0}),o}else if(r){var o=e;return this.getCategories().add(o),o}},n}(m.FE),ks=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),qi=function(a){ks(n,a);function n(t,e){e===void 0&&(e={});var r=a.call(this,t,e)||this,o=e.events,l=e.em,f=o==null?void 0:o.update;return l&&f&&r.on("change",function(p,h){return l.trigger(f,{category:p,changes:p.changedAttributes(),options:h})}),r}return n.prototype.add=function(t,e){var r=(0,V.isArray)(t)?t:[t];return r.forEach(function(o){return o&&(o.id=(0,vt.normalizeKey)("".concat(o.id)))}),a.prototype.add.call(this,t,e)},n.prototype.get=function(t){return a.prototype.get.call(this,(0,V.isString)(t)?(0,vt.normalizeKey)(t):t)},n}(m.FE);const _o=qi;qi.prototype.model=Vo;var xo;(function(a){a.select="trait:select",a.value="trait:value",a.categoryUpdate="trait:category:update",a.custom="trait:custom",a.all="trait"})(xo||(xo={}));const Zi=xo;var wi=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Co=function(){return Co=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Co.apply(this,arguments)},Fo=function(a){wi(n,a);function n(t,e){var r=a.call(this,t)||this,o=r.attributes,l=o.target,f=o.name;return!r.get("id")&&r.set("id",f),l&&r.setTarget(l),r.em=e,r}return n.prototype.defaults=function(){return{type:"text",label:"",name:"",unit:"",step:1,value:"",default:"",placeholder:"",category:"",changeProp:!1,options:[]}},Object.defineProperty(n.prototype,"parent",{get:function(){return this.collection},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"category",{get:function(){var t=this.get("category");return t instanceof Vo?t:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"component",{get:function(){return this.target},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"changeProp",{get:function(){return!!this.get("changeProp")},enumerable:!1,configurable:!0}),n.prototype.setTarget=function(t){if(t){var e=this.attributes,r=e.name,o=e.changeProp,l=e.value,f=e.getValue;this.target=t,this.unset("target");var p=o?"change:".concat(r):"change:attributes:".concat(r);this.listenTo(t,p,this.targetUpdated);var h=l||(f?void 0:this.getValue());!(0,V.isUndefined)(h)&&this.set({value:h},{silent:!0})}},n.prototype.getId=function(){return this.get("id")},n.prototype.getType=function(){return this.get("type")},n.prototype.getName=function(){return this.get("name")},n.prototype.getLabel=function(t){var e;t===void 0&&(t={});var r=t.locale,o=r===void 0?!0:r,l=this.getId(),f=this.get("label")||this.getName();return o&&((e=this.em)===null||e===void 0?void 0:e.t("traitManager.traits.labels.".concat(l)))||f},n.prototype.getValue=function(t){return this.getTargetValue(t)},n.prototype.setValue=function(t,e){var r=this;e===void 0&&(e={});var o=this,l=o.component,f=o.em,p=e.partial,h={},v=this.attributes.setValue;if(v){v({value:t,component:l,editor:f==null?void 0:f.getEditor(),trait:this,partial:!!p,options:e,emitUpdate:function(){return r.targetUpdated()}});return}p&&(h.avoidStore=!0),this.setTargetValue(t,h)},n.prototype.getDefault=function(){return this.get("default")},n.prototype.getOptions=function(){return this.get("options")||[]},n.prototype.getOption=function(t){var e=this,r=(0,vt.isDef)(t)?t:this.getValue();return this.getOptions().filter(function(o){return e.getOptionId(o)===r})[0]},n.prototype.getOptionId=function(t){return t.id||t.value},n.prototype.getOptionLabel=function(t,e){var r;e===void 0&&(e={});var o=e.locale,l=o===void 0?!0:o,f=(0,V.isString)(t)?this.getOption(t):t,p=this.getOptionId(f),h=f.label||f.name||p,v=this.getName();return l&&((r=this.em)===null||r===void 0?void 0:r.t("traitManager.traits.options.".concat(v,".").concat(p)))||h},n.prototype.getCategoryLabel=function(t){t===void 0&&(t={});var e=this,r=e.em,o=e.category,l=t.locale,f=l===void 0?!0:l,p=o==null?void 0:o.getId(),h=o==null?void 0:o.getLabel();return f&&(r==null?void 0:r.t("traitManager.categories.".concat(p)))||h||""},n.prototype.runCommand=function(){var t=this.em,e=this.attributes.command;if(e&&t)return(0,V.isString)(e)?t.Commands.run(e):e(t.Editor,this)},n.prototype.props=function(){return this.attributes},n.prototype.targetUpdated=function(){var t=this,e=t.component,r=t.em,o=this.getTargetValue({useType:!0});this.set({value:o},{fromTarget:1});var l={trait:this,component:e,value:o};e.trigger(Zi.value,l),r==null||r.trigger(Zi.value,l),r==null||r.trigger("trait:update",l)},n.prototype.getTargetValue=function(t){t===void 0&&(t={});var e=this,r=e.component,o=e.em,l=this.getName(),f=this.get("getValue"),p;if(f?p=f({editor:o==null?void 0:o.getEditor(),trait:this,component:r}):this.changeProp?p=r.get(l):p=r.getAttributes()[l],t.useType){var h=this.getType();if(h==="checkbox"){var v=this.attributes,_=v.valueTrue,A=v.valueFalse;!(0,V.isUndefined)(_)&&_===p?p=!0:!(0,V.isUndefined)(A)&&A===p&&(p=!1)}}return(0,V.isUndefined)(p)?"":p},n.prototype.setTargetValue=function(t,e){var r;e===void 0&&(e={});var o=this,l=o.component,f=o.attributes,p=this.getName();if(!(0,V.isUndefined)(t)){var h=t;if(t==="false"?h=!1:t==="true"&&(h=!0),this.getType()==="checkbox"){var v=f.valueTrue,_=f.valueFalse;h&&!(0,V.isUndefined)(v)&&(h=v),!h&&!(0,V.isUndefined)(_)&&(h=_)}var A=(r={},r[p]=h,r);A.__p=e.avoidStore?null:void 0,this.changeProp?l.set(A,e):l.addAttributes(A,e)}},n.prototype.setValueFromInput=function(t,e,r){e===void 0&&(e=!0),r===void 0&&(r={});var o={value:t};this.set(o,Co(Co({},r),{avoidStore:1})),e&&(this.set("value","",r),this.set(o,r))},n.prototype.getInitValue=function(){var t=this.component,e=this.getName(),r;if(t){var o=t.get("attributes");r=this.changeProp?t.get(e):o[e]}return r||this.get("value")||this.get("default")},n}(m.Hn);const po=Fo;var _i=function(){function a(n){n===void 0&&(n={}),this.config=n}return a.prototype.build=function(n,t){return(0,V.isString)(n)?this.buildFromString(n,t):new po(n,t)},a.prototype.buildFromString=function(n,t){var e={name:n,type:"text"};switch(n){case"target":e.type="select",e.default=!1,e.options=this.config.optionsTarget;break}return new po(e,t)},a}();const Da=_i;var Ho=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),xi=function(a){Ho(n,a);function n(t,e){var r=a.call(this,t)||this;r.categories=new _o;var o=e.em;r.em=o,r.categories=new _o([],{em:o,events:{update:Zi.categoryUpdate}}),r.on("add",r.handleAdd),r.on("reset",r.handleReset);var l=r.module,f=l==null?void 0:l.getConfig();return r.tf=new Da(f),r}return Object.defineProperty(n.prototype,"module",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),n.prototype.getCategories=function(){return this.categories},n.prototype.handleReset=function(t,e){var r=e===void 0?{}:e,o=r.previousModels,l=o===void 0?[]:o;l.forEach(function(f){return f.trigger("remove")})},n.prototype.handleAdd=function(t){t.em=this.em;var e=this.target;e&&(t.target=e),this.initCategory(t)},n.prototype.setTarget=function(t){this.target=t,this.models.forEach(function(e){return e.setTarget(t)})},n.prototype.add=function(t,e){if(t!=null){var r=this,o=r.target,l=r.em;if((0,V.isArray)(t)){for(var f=[],p=0,h=t.length;p<h;p++){var v=t[p];f[p]=v instanceof po?v:this.tf.build(v,l),f[p].setTarget(o)}return a.prototype.add.call(this,f,e)}var _=t instanceof po?t:this.tf.build(t,l);return _.setTarget(o),a.prototype.add.call(this,_,e)}},n}(ja);const mn=xi;var Zn=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Qe=function(){return Qe=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Qe.apply(this,arguments)},Bo=function(a,n){var t={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&n.indexOf(e)<0&&(t[e]=a[e]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(a);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(a,e[r])&&(t[e[r]]=a[e[r]]);return t},yn=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return a.concat(o||Array.prototype.slice.call(n))},Rn=function(a){return a.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")},So=function(a){return!!(a!=null&&a.getConfig().avoidInlineStyle)},Tn="component:drag",Fr="__symbols",sr="__symbol",eo="__symbol_ovrd",ro=Ae.g.update,no=Ae.g.updateInside,Ia=function(a){Zn(n,a);function n(t,e){t===void 0&&(t={});var r=a.call(this,t,e)||this;(0,V.bindAll)(r,"__upSymbProps","__upSymbCls","__upSymbComps");var o=e.em,l=r.parent(),f=l==null?void 0:l.attributes,p=r.get("propagate");if(p&&r.set("propagate",(0,V.isArray)(p)?p:[p]),f&&f.propagate&&!p){var h={},v=f.propagate;v.forEach(function(ft){return h[ft]=l.get(ft)}),h.propagate=v,r.set(Qe(Qe({},h),t))}if(e&&e.config&&e.config.voidElements.indexOf(r.get("tagName"))>=0&&r.set("void",!0),e.em=o,r.opt=e,r.em=o,r.frame=e.frame,r.config=e.config||{},r.set("attributes",Qe(Qe({},(0,V.result)(r,"defaults").attributes||{}),r.get("attributes")||{})),r.ccid=n.createId(r,e),r.initClasses(),r.initComponents(),r.initTraits(),r.initToolbar(),r.initScriptProps(),r.listenTo(r,"change:script",r.scriptUpdated),r.listenTo(r,"change:tagName",r.tagUpdated),r.listenTo(r,"change:attributes",r.attrUpdated),r.listenTo(r,"change:attributes:id",r._idUpdated),r.on("change:toolbar",r.__emitUpdateTlb),r.on("change",r.__onChange),r.on(no,r.__propToParent),r.set("status",""),r.views=[],["classes","traits","components"].forEach(function(ft){var pt="add remove ".concat(ft!=="components"?"change":"");r.listenTo(r.get(ft),pt.trim(),function(){for(var Pt=[],Ft=0;Ft<arguments.length;Ft++)Pt[Ft]=arguments[Ft];return r.emitUpdate.apply(r,yn([ft],Pt,!1))})}),!e.temporary){var _=o&&o.Css,A=r.attributes,B=A.styles,nt=A.type;B&&_&&_.addCollection(B,{avoidUpdateStyle:!0},{group:"cmp:".concat(nt)}),r.__postAdd(),r.init(),yr(r)&&Xe(r),o==null||o.trigger(Ae.g.create,r,e)}return r}return Object.defineProperty(n.prototype,"defaults",{get:function(){var t;return t={tagName:"div",type:"",name:"",removable:!0,draggable:!0,droppable:!0,badgable:!0,stylable:!0,"stylable-require":"","style-signature":"",unstylable:"",highlightable:!0,copyable:!0,resizable:!1,editable:!1,layerable:!0,selectable:!0,hoverable:!0,void:!1,state:"",status:"",content:"",icon:"",style:"",styles:"",classes:"",script:"","script-props":"","script-export":"",attributes:{},traits:["id","title"],propagate:"",dmode:"",toolbar:null,delegate:null},t[sr]=0,t[Fr]=0,t[eo]=0,t._undo=!0,t._undoexc=["status","open"],t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"tagName",{get:function(){return this.get("tagName")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"classes",{get:function(){return this.get("classes")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"traits",{get:function(){return this.get("traits")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"content",{get:function(){var t;return(t=this.get("content"))!==null&&t!==void 0?t:""},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"toolbar",{get:function(){return this.get("toolbar")||[]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"resizable",{get:function(){return this.get("resizable")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"delegate",{get:function(){return this.get("delegate")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"locked",{get:function(){return this.get("locked")},enumerable:!1,configurable:!0}),n.prototype.init=function(){},n.prototype.updated=function(t,e,r){},n.prototype.removed=function(){},n.prototype.__postAdd=function(t){t===void 0&&(t={});var e=this.em,r=e==null?void 0:e.UndoManager,o=this.components();r&&!this.__hasUm&&(r.add(o),r.add(this.getSelectors()),this.__hasUm=!0),t.recursive&&o.map(function(l){return l.__postAdd(t)})},n.prototype.__postRemove=function(){var t=this.em,e=t==null?void 0:t.UndoManager;e&&(e.remove(this.components()),e.remove(this.getSelectors()),delete this.__hasUm)},n.prototype.__onChange=function(t,e){var r=this,o=this.changedAttributes()||{};(0,V.keys)(o).forEach(function(l){return r.emitUpdate(l)}),["status","open","toolbar","traits"].forEach(function(l){return delete o[l]}),(0,vt.isEmptyObj)(o)||(this.__changesUp(e),this.__propSelfToParent({component:this,changed:o,options:e}))},n.prototype.__onStyleChange=function(t){var e=this,r=this.em;if(r){var o="component:styleUpdate",l=(0,V.keys)(t),f={style:t};r.trigger(o,this,f),l.forEach(function(p){return r.trigger("".concat(o,":").concat(p),e,f)})}},n.prototype.__changesUp=function(t){var e=this,r=e.em,o=e.frame;[o,r].forEach(function(l){return l&&l.changesUp(t)})},n.prototype.__propSelfToParent=function(t){this.trigger(ro,t),this.__propToParent(t)},n.prototype.__propToParent=function(t){var e=this.parent();e&&e.trigger(no,t)},n.prototype.__emitUpdateTlb=function(){this.emitUpdate("toolbar")},n.prototype.__getAllById=function(){var t=this.em;return t?t.Components.allById():{}},n.prototype.__upSymbProps=function(t,e){e===void 0&&(e={}),Re(this,e)},n.prototype.__upSymbCls=function(t,e,r){r===void 0&&(r={}),Je(this,r)},n.prototype.__upSymbComps=function(t,e,r){or(this,t,e,r)},n.prototype.is=function(t){return this.get("type")==t},n.prototype.props=function(){return this.attributes},n.prototype.index=function(){var t=this.collection;return t?t.indexOf(this):0},n.prototype.setDragMode=function(t){return this.set("dmode",t)},n.prototype.getDragMode=function(){return this.get("dmode")||""},n.prototype.setSymbolOverride=function(t){var e;this.set(eo,(e=(0,V.isString)(t)?[t]:t)!==null&&e!==void 0?e:0)},n.prototype.getSymbolOverride=function(){return this.get(eo)},n.prototype.find=function(t){var e,r=[],o=(e=this.view)===null||e===void 0?void 0:e.$el.find(t);return o==null||o.each(function(l){var f=o.eq(l),p=f.data("model");p&&r.push(p)}),r},n.prototype.findType=function(t){var e=[],r=function(o){return o.forEach(function(l){l.is(t)&&e.push(l),r(l.components())})};return r(this.components()),e},n.prototype.closest=function(t){var e,r=(e=this.view)===null||e===void 0?void 0:e.$el.closest(t);return r!=null&&r.length?r.data("model"):void 0},n.prototype.closestType=function(t){for(var e=this.parent();e&&!e.is(t);)e=e.parent();return e},n.prototype.contains=function(t){var e=!1;if(!t)return e;var r=function(o){!e&&o.forEach(function(l){l===t&&(e=!0),!e&&r(l.components())})};return r(this.components()),e},n.prototype.tagUpdated=function(){this.trigger("rerender")},n.prototype.replaceWith=function(t,e){e===void 0&&(e={});var r=this.collection,o=r.indexOf(this);r.remove(this);var l=r.add(t,Qe(Qe({},e),{at:o}));return(0,V.isArray)(l)?l:[l]},n.prototype.attrUpdated=function(t,e,r){var o=this;r===void 0&&(r={});var l=this.get("attributes"),f=l.class;f&&this.setClass(f),delete l.class;var p=l.style;p&&this.setStyle(p,r),delete l.style;var h=Qe({},this.previous("attributes")),v=(0,vt.shallowDiff)(h,this.get("attributes"));(0,V.keys)(v).forEach(function(_){var A,B="attributes:".concat(_);o.trigger("change:".concat(B),o,v[_],r),(A=o.em)===null||A===void 0||A.trigger("".concat(ro,":").concat(B),o,v[_],r)})},n.prototype.setAttributes=function(t,e){return e===void 0&&(e={}),this.set("attributes",Qe({},t),e),this},n.prototype.addAttributes=function(t,e){return e===void 0&&(e={}),this.setAttributes(Qe(Qe({},this.getAttributes({noClass:!0})),t),e)},n.prototype.removeAttributes=function(t,e){t===void 0&&(t=[]),e===void 0&&(e={});var r=Array.isArray(t)?t:[t],o=this.getAttributes();return r.map(function(l){return delete o[l]}),this.setAttributes(o,e)},n.prototype.getStyle=function(t,e){t===void 0&&(t={}),e===void 0&&(e={});var r=this.em,o=(0,V.isString)(t)?t:"",l=o?e:t;if(So(r)&&!l.inline){var f=r.get("state"),p=r.Css,h=p.getIdRule(this.getId(),Qe({state:f},l));return this.rule=h,h?h.getStyle(o):{}}return a.prototype.getStyle.call(this,o)},n.prototype.setStyle=function(t,e){var r=this;t===void 0&&(t={}),e===void 0&&(e={});var o=this,l=o.opt,f=o.em;if(So(f)&&!l.temporary&&!e.inline){var p=this.get("style")||{};t=(0,V.isString)(t)?this.parseStyle(t):t,t=Qe(Qe({},t),p);var h=f.get("state"),v=f.Css,_=this.getStyle(e);this.rule=v.setIdRule(this.getId(),t,Qe({state:h},e));var A=(0,vt.shallowDiff)(_,t);this.set("style","",{silent:!0}),(0,V.keys)(A).forEach(function(B){return r.trigger("change:style:".concat(B))})}else t=a.prototype.setStyle.apply(this,arguments);return l.temporary||this.__onStyleChange(e.addStyle||t),t},n.prototype.getAttributes=function(t){t===void 0&&(t={});var e=this.em,r=[],o=Qe({},this.get("attributes")),l=e==null?void 0:e.Selectors,f=this.getId();if(t.noClass?delete o.class:(this.classes.forEach(function(v){return r.push((0,V.isString)(v)?v:v.getName())}),r.length&&(o.class=r.join(" "))),!t.noStyle){var p=this.getStyle({inline:!0});(0,vt.isObject)(p)&&!(0,vt.isEmptyObj)(p)&&(o.style=this.styleToString({inline:!0}))}if(!(0,V.has)(o,"id")){var h=!1;(So(e)||!(0,V.isEmpty)(this.getStyle()))&&(h=!!(l!=null&&l.get(f,l.Selector.TYPE_ID))),(yr(this)||this.get("script-export")||this.get("script"))&&(h=!0),h&&(o.id=f)}return o},n.prototype.addClass=function(t){var e=this.em.Selectors.addClass(t);return this.classes.add(e)},n.prototype.setClass=function(t){return this.classes.reset(),this.addClass(t)},n.prototype.removeClass=function(t){var e=[];t=(0,V.isArray)(t)?t:[t];var r=this.classes,o=Dr.TYPE_CLASS;return t.forEach(function(l){var f=l.split(" ");f.forEach(function(p){var h=r.where({name:p,type:o})[0];h&&e.push(r.remove(h))})}),e},n.prototype.getClasses=function(){var t=this.getAttributes(),e=t.class;return e?e.split(" "):[]},n.prototype.initClasses=function(t,e,r){r===void 0&&(r={});var o="change:classes",l=this.get("attributes")||{},f=l.class,p=Bo(l,["class"]),h=[this,o,this.initClasses],v=this.get("classes")||f||[],_=(0,V.isString)(v)?v.split(" "):v;this.stopListening.apply(this,h);var A=this.normalizeClasses(_),B=new to([]);return this.set("classes",B,r),B.add(A),B.on("add remove reset",this.__upSymbCls),f&&A.length&&this.set("attributes",p),this.listenTo.apply(this,h),this},n.prototype.initComponents=function(){var t="change:components",e=[this,t,this.initComponents];this.stopListening.apply(this,e);var r=new Qn([],this.opt);r.parent=this;var o=this.get("components"),l=!this.opt.avoidChildren;return this.set("components",r),l&&o&&r.add((0,V.isFunction)(o)?o(this):o,this.opt),r.on("add remove reset",this.__upSymbComps),this.listenTo.apply(this,e),this},n.prototype.initTraits=function(t){var e=this.em,r="change:traits";this.off(r,this.initTraits),this.__loadTraits();var o=Qe({},this.get("attributes")),l=this.traits;return l.each(function(f){if(!f.changeProp){var p=f.getName(),h=f.getInitValue();p&&h&&(o[p]=h)}}),l.length&&this.set("attributes",o),this.on(r,this.initTraits),t&&e&&e.trigger("component:toggled"),this},n.prototype.initScriptProps=function(){if(!this.opt.temporary){var t="script-props",e=["change:".concat(t),this.initScriptProps];this.off.apply(this,e);var r=this.previous(t)||[],o=this.get(t)||[],l=r.map(function(p){return"change:".concat(p)}).join(" "),f=o.map(function(p){return"change:".concat(p)}).join(" ");l&&this.off(l,this.__scriptPropsChange),f&&this.on(f,this.__scriptPropsChange),this.on.apply(this,e)}},n.prototype.__scriptPropsChange=function(t,e,r){r===void 0&&(r={}),!r.avoidStore&&this.trigger("rerender")},n.prototype.append=function(t,e){e===void 0&&(e={});var r=(0,V.isArray)(t)?yn([],t,!0):[t],o=r.map(function(f){return(0,V.isString)(f)||f.collection&&f.collection.remove(f,{temporary:!0}),f}),l=this.components().add(o,Qe({action:Ae.W.add},e));return(0,V.isArray)(l)?l:[l]},n.prototype.components=function(t,e){e===void 0&&(e={});var r=this.get("components");return(0,V.isUndefined)(t)?r:(r.reset(void 0,e),t?this.append(t,e):[])},n.prototype.getChildAt=function(t){return this.components().at(t||0)||void 0},n.prototype.getLastChild=function(){var t=this.components();return t.at(t.length-1)||null},n.prototype.empty=function(t){return t===void 0&&(t={}),this.components().reset(void 0,t),this},n.prototype.parent=function(t){t===void 0&&(t={});var e=this.collection||t.prev&&this.prevColl;return e?e.parent:void 0},n.prototype.parents=function(){var t=this.parent();return t?[t].concat(t.parents()):[]},n.prototype.scriptUpdated=function(){this.set("scriptUpdated",1)},n.prototype.initToolbar=function(){var t=this.em,e=this,r=t&&t.getConfig().stylePrefix||"";if(!e.get("toolbar")&&t){var o=[];e.collection&&o.push({label:t.getIcon("arrowUp"),command:function(l){return l.runCommand("core:component-exit",{force:1})}}),e.get("draggable")&&o.push({attributes:{class:"".concat(r,"no-touch-actions"),draggable:!0},label:t.getIcon("move"),command:"tlb-move"}),e.get("copyable")&&o.push({label:t.getIcon("copy"),command:"tlb-clone"}),e.get("removable")&&o.push({label:t.getIcon("delete"),command:"tlb-delete"}),e.set("toolbar",o)}},n.prototype.__loadTraits=function(t,e){e===void 0&&(e={});var r=t||this.traits;if(!(r instanceof mn)){r=(0,V.isFunction)(r)?r(this):r;var o=new mn([],this.opt);o.setTarget(this),r.length&&(r.forEach(function(l){return l.attributes&&delete l.attributes.value}),o.add(r)),this.set({traits:o},e)}return this},n.prototype.getTraits=function(){return this.__loadTraits(),yn([],this.traits.models,!0)},n.prototype.setTraits=function(t){var e=(0,V.isArray)(t)?t:[t];return this.set({traits:e}),this.getTraits()},n.prototype.getTrait=function(t){return this.getTraits().filter(function(e){return e.get("id")===t||e.get("name")===t})[0]||null},n.prototype.updateTrait=function(t,e){var r,o=this.getTrait(t);return o&&o.set(e),(r=this.em)===null||r===void 0||r.trigger("component:toggled"),this},n.prototype.getTraitIndex=function(t){var e=this.getTrait(t);return e?this.traits.indexOf(e):-1},n.prototype.removeTrait=function(t){var e=this,r,o=(0,V.isArray)(t)?t:[t],l=o.map(function(h){return e.getTrait(h)}),f=this.traits,p=l.length?f.remove(l):[];return(r=this.em)===null||r===void 0||r.trigger("component:toggled"),(0,V.isArray)(p)?p:[p]},n.prototype.addTrait=function(t,e){var r;e===void 0&&(e={}),this.__loadTraits();var o=this.traits.add(t,e);return(r=this.em)===null||r===void 0||r.trigger("component:toggled"),(0,V.isArray)(o)?o:[o]},n.prototype.normalizeClasses=function(t){var e=[],r=this.em,o=r==null?void 0:r.Selectors;return o?t.models?yn([],t.models,!0):(t.forEach(function(l){return e.push(o.add(l))}),e):[]},n.prototype.clone=function(t){t===void 0&&(t={});var e=this.em,r=Qe({},this.attributes),o=Qe({},this.opt),l=this.getId(),f=e==null?void 0:e.Css;r.attributes=Qe({},r.attributes),delete r.attributes.id,r.components=[],r.classes=[],r.traits=[],Nr(this)&&(t.symbol=!0),this.get("components").each(function(nt,ft){r.components[ft]=nt.clone(Qe(Qe({},t),{_inner:1}))}),this.get("traits").each(function(nt,ft){r.traits[ft]=nt.clone()}),this.get("classes").each(function(nt,ft){r.classes[ft]=nt.get("name")}),r.status="",o.collection=null;var p=new this.constructor(r,o),h="#".concat(p.getId()),v=f?f.getRules("#".concat(l)):[];v.forEach(function(nt){var ft=nt.clone();ft.set("selectors",[h]),f.getAll().add(ft)}),p.set(Fr,0);var _=tn(this),A=jr(this);!t.symbol&&(_||A)?(p.set(sr,0),p.set(Fr,0)):_?(_.set(Fr,yn(yn([],jr(_),!0),[p],!1)),Xe(p)):t.symbol&&(we(this)?(this.set(Fr,yn(yn([],A,!0),[p],!1)),p.set(sr,this),Xe(p)):t.symbolInv?(this.set(Fr,[p]),p.set(sr,this),[this,p].map(function(nt){return Xe(nt)})):(p.set(Fr,[this]),[this,p].map(function(nt){return Xe(nt)}),this.set(sr,p)));var B="component:clone";return e&&e.trigger(B,p),this.trigger(B,p),p},n.prototype.getName=function(t){t===void 0&&(t={});var e=this.em,r=this.attributes,o=r.type,l=r.tagName,f=r.name,p=o||l,h=o?"":l,v="domComponents.names.",_=f&&(e==null?void 0:e.t("".concat(v).concat(f))),A=h&&(e==null?void 0:e.t("".concat(v).concat(h))),B=e&&(e.t("".concat(v).concat(o))||e.t("".concat(v).concat(l))),nt=this.get("custom-name");return(t.noCustom?"":nt)||_||f||A||(0,vt.capitalize)(h)||B||(0,vt.capitalize)(p)},n.prototype.setName=function(t,e){e===void 0&&(e={}),this.set("custom-name",t,e)},n.prototype.getIcon=function(){var t=this.get("icon");return t?t+" ":""},n.prototype.toHTML=function(t){t===void 0&&(t={});var e=this,r=[],o=t.tag,l=o||e.get("tagName"),f=e.get("void"),p=t.attributes,h=this.getAttrToHTML(t);if(delete t.tag,p&&((0,V.isFunction)(p)?h=p(e,h)||{}:(0,vt.isObject)(p)&&(h=p)),t.withProps){var v=this.toJSON();(0,V.forEach)(v,function(Ft,Bt){var te=["classes","attributes","components"];Bt[0]!=="_"&&te.indexOf(Bt)<0&&(h["data-gjs-".concat(Bt)]=(0,V.isArray)(Ft)||(0,vt.isObject)(Ft)?JSON.stringify(Ft):(0,V.isBoolean)(Ft)?"".concat(Ft):Ft)})}for(var _ in h){var A=h[_];if(!(0,V.isUndefined)(A)&&A!==null)if((0,V.isBoolean)(A))A&&r.push(_);else{var B="";if(t.altQuoteAttr&&(0,V.isString)(A)&&A.indexOf('"')>=0)B="'".concat(A.replace(/'/g,"&apos;"),"'");else{var nt=(0,V.isString)(A)?A.replace(/"/g,"&quot;"):A;B='"'.concat(nt,'"')}r.push("".concat(_,"=").concat(B))}}var ft=r.length?" ".concat(r.join(" ")):"",pt=e.getInnerHTML(t),Pt="<".concat(l).concat(ft).concat(f?"/":"",">").concat(pt);return!f&&(Pt+="</".concat(l,">")),Pt},n.prototype.getInnerHTML=function(t){return this.__innerHTML(t)},n.prototype.__innerHTML=function(t){t===void 0&&(t={});var e=this.components();return e.length?e.map(function(r){return r.toHTML(t)}).join(""):this.content},n.prototype.getAttrToHTML=function(t){var e=this.getAttributes();return So(this.em)&&(t==null?void 0:t.keepInlineStyle)!==!0&&delete e.style,e},n.prototype.toJSON=function(t){t===void 0&&(t={});var e=tt.Model.prototype.toJSON.call(this,t);if(e.attributes=this.getAttributes(),delete e.attributes.class,delete e.toolbar,delete e.traits,delete e.status,delete e.open,delete e._undoexc,delete e.delegate,!t.fromUndo){var r=e[sr],o=e[Fr];o&&(0,V.isArray)(o)&&(e[Fr]=o.filter(function(l){return l}).map(function(l){return l.getId?l.getId():l})),r&&!(0,V.isString)(r)&&(e[sr]=r.getId())}return this.em.getConfig().avoidDefaults&&this.getChangedProps(e),e},n.prototype.getChangedProps=function(t){var e=t||tt.Model.prototype.toJSON.apply(this),r=(0,V.result)(this,"defaults");return(0,V.forEach)(r,function(o,l){["type"].indexOf(l)===-1&&e[l]===o&&delete e[l]}),(0,V.isEmpty)(e.type)&&delete e.type,(0,V.forEach)(["attributes","style"],function(o){(0,V.isEmpty)(r[o])&&(0,V.isEmpty)(e[o])&&delete e[o]}),(0,V.forEach)(["classes","components"],function(o){(!e[o]||(0,V.isEmpty)(r[o])&&!e[o].length)&&delete e[o]}),e},n.prototype.getId=function(){var t=this.get("attributes")||{};return t.id||this.ccid||this.cid},n.prototype.setId=function(t,e){var r=Qe({},this.get("attributes"));return r.id=t,this.set("attributes",r,e),this},n.prototype.getEl=function(t){var e=this.getView(t);return e&&e.el},n.prototype.getView=function(t){var e=this,r=e.view,o=e.views,l=e.em,f=t||(l==null?void 0:l.getCurrentFrameModel());return f&&(r=o.filter(function(p){return p.frameView===f.view})[0]),r},n.prototype.getCurrentView=function(){var t=this.em.getCurrentFrame(),e=t==null?void 0:t.model;return this.getView(e)},n.prototype.__getScriptProps=function(){var t=this.props(),e=this.get("script-props")||[];return e.reduce(function(r,o){return r[o]=t[o],r},{})},n.prototype.getScriptString=function(t){var e=this,r=t||this.get("script")||"";if(!r)return r;if(this.get("script-props"))r=r.toString().trim();else{if((0,V.isFunction)(r)){var o=r.toString().trim();o=o.slice(o.indexOf("{")+1,o.lastIndexOf("}")),r=o.trim()}var l=this.em.getConfig(),f=Rn(l.tagVarStart||"{[ "),p=Rn(l.tagVarEnd||" ]}"),h=new RegExp("".concat(f,"([\\w\\d-]*)").concat(p),"g");r=r.replace(h,function(v,_){e.scriptUpdated();var A=e.attributes[_]||"";return(0,V.isArray)(A)||typeof A=="object"?JSON.stringify(A):A})}return r},n.prototype.emitUpdate=function(t){for(var e,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var l=this.em,f=ro+(t?":".concat(t):""),p=t&&this.get(t);t&&this.updated.apply(this,yn([t,p,t&&this.previous(t)],r,!1)),this.trigger.apply(this,yn([f],r,!1)),l&&l.trigger.apply(l,yn([f,this],r,!1)),["components","classes"].indexOf(t)>=0&&this.__propSelfToParent({component:this,changed:(e={},e[t]=p,e),options:r[2]||r[1]||{}})},n.prototype.onAll=function(t){return(0,V.isFunction)(t)&&(t(this),this.components().forEach(function(e){return e.onAll(t)})),this},n.prototype.forEachChild=function(t){(0,V.isFunction)(t)&&this.components().forEach(function(e){t(e),e.forEachChild(t)})},n.prototype.remove=function(t){var e=this;t===void 0&&(t={});var r=this.em,o=this.collection,l=function(){o&&o.remove(e,Qe({action:Ae.W.remove},t)),o||(e.components("",t),e.components().removeChildren(e,void 0,t))},f=Qe({},t);return[this,r].map(function(p){return p.trigger(Ae.g.removeBefore,e,l,f)}),!f.abort&&l(),this},n.prototype.move=function(t,e){if(e===void 0&&(e={}),t){var r=e.at,o=this.index(),l=t===this.parent(),f=o===r||o===r-1;if(!l||!f){l&&r&&r>o&&(e.at=r-1);var p=Ae.W.move;this.remove({action:p,temporary:1}),t.append(this,Qe({action:p},e)),this.emitUpdate()}}return this},n.prototype.isInstanceOf=function(t){var e,r,o=(r=(e=this.em)===null||e===void 0?void 0:e.Components.getType(t))===null||r===void 0?void 0:r.model;if(!o)return!1;var l=this.constructor.typeExtends;return this instanceof o||l.has(t)},n.prototype.isChildOf=function(t){for(var e=(0,V.isString)(t),r=this.parent();r;){if(e){if(r.isInstanceOf(t))return!0}else if(r===t)return!0;r=r.parent()}return!1},n.prototype.resetId=function(t){var e=this.em,r=this.getId();if(!r)return this;var o=n.createId(this);this.setId(o);var l=e==null?void 0:e.Css.getIdRule(r),f=l==null?void 0:l.get("selectors").at(0);return f==null||f.set("name",o),this},n.prototype._getStyleRule=function(t){var e=t===void 0?{}:t,r=e.id,o=this.em,l=r||this.getId();return o==null?void 0:o.Css.getIdRule(l)},n.prototype._getStyleSelector=function(t){var e=this._getStyleRule(t);return e==null?void 0:e.get("selectors").at(0)},n.prototype._idUpdated=function(t,e,r){if(r===void 0&&(r={}),!r.idUpdate){var o=this.ccid,l=(this.get("attributes")||{}).id,f=(this.previous("attributes")||{}).id||o,p=n.getList(this);if(p[l]||!l&&f)return this.setId(f,{idUpdate:!0});delete p[f],p[l]=this,this.ccid=l;var h=this._getStyleSelector({id:f});h&&h.set({name:l,label:l})}},n.getDefaults=function(){return(0,V.result)(this.prototype,"defaults")},n.isComponent=function(t,e){return{tagName:(0,vt.toLowerCase)(t.tagName)}},n.ensureInList=function(t){var e=n.getList(t),r=t.getId(),o=e[r];if(!o)e[r]=t;else if(o!==t){var l=n.getIncrementId(r,e);t.setId(l),e[l]=t}t.components().forEach(function(f){return n.ensureInList(f)})},n.createId=function(t,e){e===void 0&&(e={});var r=n.getList(t),o=e.idMap,l=o===void 0?{}:o,f=t.get("attributes").id,p;return f?(p=n.getIncrementId(f,r,e),t.setId(p),f!==p&&(l[f]=p)):p=n.getNewId(r),r[p]=t,p},n.getNewId=function(t){for(var e=Object.keys(t).length,r=e.toString().length+2,o=(Math.random()+1.1).toString(36).slice(-r),l="i".concat(o);t[l];)l=n.getNewId(t);return l},n.getIncrementId=function(t,e,r){r===void 0&&(r={});var o=r.keepIds,l=o===void 0?[]:o,f=1,p=t;if(l.indexOf(t)<0)for(;e[p];)f++,p="".concat(t,"-").concat(f);return p},n.getList=function(t){var e,r=t.em,o=r==null?void 0:r.Components;return(e=o==null?void 0:o.componentsById)!==null&&e!==void 0?e:{}},n.checkId=function(t,e,r,o){e===void 0&&(e=[]),r===void 0&&(r={}),o===void 0&&(o={});var l=(0,V.isArray)(t)?t:[t],f=o.keepIds,p=f===void 0?[]:f,h=o.idMap,v=h===void 0?{}:h;l.forEach(function(_){_.attributes;var A=_.attributes,B=A===void 0?{}:A,nt=_.components,ft=B.id;if(ft&&r[ft]&&p.indexOf(ft)<0){var pt=n.getIncrementId(ft,r);v[ft]=pt,B.id=pt,(0,V.isArray)(e)&&e.forEach(function(Pt){var Ft=Pt.selectors;Ft.forEach(function(Bt,te){Bt==="#".concat(ft)&&(Ft[te]="#".concat(pt))})})}nt&&n.checkId(nt,e,r,o)})},n.typeExtends=new Set,n}(On);const Kr=Ia;var Pl=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Uo=function(){return Uo=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Uo.apply(this,arguments)},oo="head",Va=["title","style","base","link","meta","script","noscript"],As=function(a){Pl(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Uo(Uo({},a.prototype.defaults),{type:oo,tagName:oo,draggable:!1,highlightable:!1,droppable:function(t){var e=t.tagName;return!e||Va.includes((0,vt.toLowerCase)(e))}})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,vt.toLowerCase)(t.tagName)===oo},n}(Kr);const Yi=As;var Xi=function(){return Xi=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Xi.apply(this,arguments)},Ms=function(){function a(n,t){var e=this;this.em=n,this.canvas=n.Canvas;var r=t||this.canvas.getFrames().map(function(l){return l.getComponent().getEl()}),o=Array.isArray(r)?r:[r];this.el=o[0],this.counter=0,(0,V.bindAll)(this,"handleDragEnter","handleDragOver","handleDrop","handleDragLeave"),o.forEach(function(l){return e.toggleEffects(l,!0)})}return a.prototype.toggleEffects=function(n,t){var e={on:ee.on,off:ee.S1},r=t?"on":"off";e[r](n,"dragenter",this.handleDragEnter),e[r](n,"dragover",this.handleDragOver),e[r](n,"drop",this.handleDrop),e[r](n,"dragleave",this.handleDragLeave)},a.prototype.__customTglEff=function(n){var t,e=n?ee.on:ee.S1,r=this.el.ownerDocument,o=(t=r.defaultView)===null||t===void 0?void 0:t.frameElement;this.sortOpts=n?{onStart:function(l){var f=l.sorter;(0,ee.on)(o,"pointermove",f.onMove)},onEnd:function(l){var f=l.sorter;(0,ee.S1)(o,"pointermove",f.onMove)},customTarget:function(l){var f=l.event;return r.elementFromPoint(f.clientX,f.clientY)}}:null,e(o,"pointerenter",this.handleDragEnter),e(o,"pointermove",this.handleDragOver),e(document,"pointerup",this.handleDrop),e(o,"pointerout",this.handleDragLeave)},a.prototype.startCustom=function(){this.__customTglEff(!0)},a.prototype.endCustom=function(n){this.over?this.endDrop(n):this.__customTglEff(!1)},a.prototype.endDrop=function(n,t){var e=this,r=e.em,o=e.dragStop;this.counter=0,o&&o(n||!this.over),this.__customTglEff(!1),r.trigger("canvas:dragend",t)},a.prototype.handleDragLeave=function(n){this.updateCounter(-1,n)},a.prototype.updateCounter=function(n,t){this.counter+=n,this.counter===0&&this.endDrop(!0,t)},a.prototype.handleDragEnter=function(n){var t=this,e=this,r=e.em,o=e.canvas,l=n.dataTransfer,f=r.get("dragContent");if(!(!f&&!o.getConfig().allowExternalDrop)&&(this.updateCounter(1,n),!this.over)){this.over=!0;var p=r.Utils,h=f||"<br>",v,_;if(r.stopDefault(),r.inAbsoluteMode()){var A=r.Components.getWrapper(),B=A.append({})[0],nt=r.Commands.run("core:component-drag",{event:n,guidesInfo:1,center:1,target:B,onEnd:function(pt,Pt,Ft){var Bt=Ft.cancelled,te;if(!Bt){te=A.append(h)[0];var de=o.getOffset(),Oe=B.getStyle(),Me=Oe.top,ae=Oe.left,ke=Oe.position,Be=(0,ee.GX)(pt.target),ur=parseInt("".concat(parseFloat(ae)+Be.x-de.left),10),he=parseInt("".concat(parseFloat(Me)+Be.y-de.top),10);te.addStyle({left:ur+"px",top:he+"px",position:ke})}t.handleDragEnd(te,l),B.remove()}});v=function(pt){return nt.stop(n,{cancel:pt})},_=function(pt){return h=pt}}else{var ft=new p.Sorter(Xi({em:r,wmargin:1,nested:1,canvasRelative:1,direction:"a",container:this.el,placer:o.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:"gjs-",onEndMove:function(pt){return t.handleDragEnd(pt,l)},document:this.el.ownerDocument},this.sortOpts||{}));ft.setDropContent(h),ft.startSort(),this.sorter=ft,v=function(pt){pt&&(ft.moved=!1),ft.endMove()},_=function(pt){return ft.setDropContent(pt)}}this.dragStop=v,this.dragContent=_,r.trigger("canvas:dragenter",l,h)}},a.prototype.handleDragEnd=function(n,t){var e=this.em;this.over=!1,n&&(e.set("dragResult",n),e.trigger("canvas:drop",t,n)),e.runDefault({preserveSelected:1})},a.prototype.handleDragOver=function(n){n.preventDefault(),this.em.trigger("canvas:dragover",n)},a.prototype.handleDrop=function(n){n.preventDefault();var t=this.dragContent,e=n.dataTransfer,r=this.getContentByData(e).content;n.target.style.border="",r&&t&&t(r),this.endDrop(!r,n)},a.prototype.getContentByData=function(n){var t=this.em,e=n&&n.types,r=n&&n.files||[],o=t.get("dragContent"),l=n&&n.getData("text");if(r.length){l=[];for(var f=0;f<r.length;f++){var p=r[f],h=p.type.split("/")[0];h=="image"&&l.push({type:h,file:p,attributes:{alt:p.name}})}}else if(o)l=o;else if((0,V.indexOf)(e,"text/html")>=0)l=n&&n.getData("text/html").replace(/<\/?meta[^>]*>/g,"");else if((0,V.indexOf)(e,"text/uri-list")>=0)l={type:"link",attributes:{href:l},content:l};else if((0,V.indexOf)(e,"text/json")>=0){var v=n&&n.getData("text/json");v&&(l=JSON.parse(v))}else e.length===1&&e[0]==="text/plain"&&(l="<div>".concat(l,"</div>"));var _={content:l};return t.trigger("canvas:dragdata",n,_),_},a}();const Ra=Ms;var Ls=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),bn=function(){return bn=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},bn.apply(this,arguments)},Ji=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return a.concat(o||Array.prototype.slice.call(n))},ho=function(a){Ls(n,a);function n(t,e){var r=a.call(this,{model:t})||this;r.dragging=!1,r.loaded=!1,r.lastMaxHeight=0,r.tools={},(0,V.bindAll)(r,"updateClientY","stopAutoscroll","autoscroll","_emitUpdate");var o=r.el;r.module._config=bn(bn({},r.config||{}),{frameView:r}),r.frameWrapView=e,r.showGlobalTools=(0,V.debounce)(r.showGlobalTools.bind(r),50);var l=r.getCanvasModel();return r.listenTo(t,"change:head",r.updateHead),r.listenTo(l,"change:styles",r.renderStyles),t.view=r,(0,vt.setViewEl)(o,r),r}return Object.defineProperty(n.prototype,"tagName",{get:function(){return"iframe"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"attributes",{get:function(){return{allowfullscreen:"allowfullscreen"}},enumerable:!1,configurable:!0}),n.prototype.getBoxRect=function(){var t=this,e=t.el,r=t.module,o=r.getCanvasView(),l=r.getCoords(),f=e.getBoundingClientRect(),p=o.getCanvasOffset(),h=o.getViewportDelta(),v=r.getZoomMultiplier(),_=(f.x-p.left-h.x-l.x)*v,A=(f.y-p.top-h.y-l.y)*v,B=f.width*v,nt=f.height*v;return{x:_,y:A,width:B,height:nt}},n.prototype.updateHead=function(){var t=this.model,e=this.getHead(),r=[],o=[],l=t.head,f=t.previous("head"),p=function(v){return v===void 0&&(v={}),Object.keys(v).sort().map(function(_){return"[".concat(_,'="').concat(v[_],'"]')}).join("")},h=function(v,_,A){v.forEach(function(B){var nt=B.tag,ft=B.attributes,pt=_.some(function(Pt){return Pt.tag===nt&&p(Pt.attributes)===p(ft)});!pt&&A.push(B)})};h(l,f,o),h(f,l,r),r.forEach(function(v){var _,A=e.querySelector("".concat(v.tag).concat(p(v.attributes)));(_=A==null?void 0:A.parentNode)===null||_===void 0||_.removeChild(A)}),(0,ee.SJ)(e,o)},n.prototype.getEl=function(){return this.el},n.prototype.getCanvasModel=function(){return this.em.Canvas.getModel()},n.prototype.getWindow=function(){return this.getEl().contentWindow},n.prototype.getDoc=function(){return this.getEl().contentDocument},n.prototype.getHead=function(){return this.getDoc().querySelector("head")},n.prototype.getBody=function(){return this.getDoc().querySelector("body")},n.prototype.getWrapper=function(){return this.getBody().querySelector("[data-gjs-type=wrapper]")},n.prototype.getJsContainer=function(){return this.jsContainer||(this.jsContainer=(0,ee.ut)("div",{class:"".concat(this.ppfx,"js-cont")})),this.jsContainer},n.prototype.getToolsEl=function(){var t;return(t=this.frameWrapView)===null||t===void 0?void 0:t.elTools},n.prototype.getGlobalToolsEl=function(){return this.em.Canvas.getGlobalToolsEl()},n.prototype.getHighlighter=function(){return this._getTool("[data-hl]")},n.prototype.getBadgeEl=function(){return this._getTool("[data-badge]")},n.prototype.getOffsetViewerEl=function(){return this._getTool("[data-offset]")},n.prototype.getRect=function(){return this.rect||(this.rect=this.el.getBoundingClientRect()),this.rect},n.prototype.getOffsetRect=function(){var t=this.el,e=this.getBody(),r=e.scrollTop,o=e.scrollLeft,l=t.offsetHeight,f=t.offsetWidth;return{top:t.offsetTop,left:t.offsetLeft,height:l,width:f,scrollTop:r,scrollLeft:o,scrollBottom:r+l,scrollRight:o+f}},n.prototype._getTool=function(t){var e=this.tools,r=this.getToolsEl();return e[t]||(e[t]=r.querySelector(t)),e[t]},n.prototype.remove=function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return this._toggleEffects(!1),this.tools={},(t=this.wrapper)===null||t===void 0||t.remove(),dr.prototype.remove.apply(this,e),this},n.prototype.startAutoscroll=function(){var t=this;this.lastMaxHeight=this.getWrapper().offsetHeight-this.el.offsetHeight,setTimeout(function(){t._toggleAutoscrollFx(!0),requestAnimationFrame(t.autoscroll)},0)},n.prototype.autoscroll=function(){if(this.dragging){var t=this.lastClientY,e=this.em.Canvas,r=this.getWindow(),o=r.pageYOffset,l=t||0,f=e.getConfig().autoscrollLimit,p=this.getRect().height-f,h=o;if(l<f&&(h-=f-l),l>p&&(h+=l-p),!(0,V.isUndefined)(t)&&h!==o&&h>0&&h<this.lastMaxHeight){var v=this.getGlobalToolsEl();v.style.opacity="0",this.showGlobalTools(),r.scrollTo(0,h),e.spots.refreshDbn()}requestAnimationFrame(this.autoscroll)}},n.prototype.updateClientY=function(t){t.preventDefault(),this.lastClientY=(0,ee.VB)(t).clientY*this.em.getZoomDecimal()},n.prototype.showGlobalTools=function(){this.getGlobalToolsEl().style.opacity=""},n.prototype.stopAutoscroll=function(){this.dragging&&this._toggleAutoscrollFx(!1)},n.prototype._toggleAutoscrollFx=function(t){this.dragging=t;var e=this.getWindow(),r=t?"on":"off",o={on:ee.on,off:ee.S1};o[r](e,"mousemove dragover",this.updateClientY),o[r](e,"mouseup",this.stopAutoscroll)},n.prototype.render=function(){var t=this,e=t.$el,r=t.ppfx,o=t.em;return e.attr({class:"".concat(r,"frame")}),this.renderScripts(),o.trigger("frame:render",this),this},n.prototype.renderScripts=function(){var t=this,e=this,r=e.el,o=e.model,l=e.em,f="frame:load",p={el:r,model:o,view:this},h=this.getCanvasModel(),v=function(_){var A;if(_.length>0){var B=_.shift(),nt=(0,ee.ut)("script",bn({type:"text/javascript"},(0,V.isString)(B)?{src:B}:B));(A=r.contentDocument)===null||A===void 0||A.head.appendChild(nt),nt.hasAttribute("nomodule")&&"noModule"in HTMLScriptElement.prototype?v(_):nt.onerror=nt.onload=v.bind(null,_)}else l==null||l.trigger(Le.frameLoadHead,p),t.renderBody(),l==null||l.trigger(Le.frameLoadBody,p),l==null||l.trigger(f,p)};r.onload=function(){var _=t.config.frameContent;if(_){var A=t.getDoc();A.open(),A.write(_),A.close()}p.window=t.getWindow(),l==null||l.trigger("".concat(f,":before"),p),l==null||l.trigger(Le.frameLoad,p),t.renderHead(),v(Ji([],h.get("scripts"),!0))}},n.prototype.renderStyles=function(t){t===void 0&&(t={});var e=this.getHead(),r=this.getCanvasModel(),o=function(_){return _.map(function(A){return{tag:"link",attributes:bn({rel:"stylesheet"},(0,V.isString)(A)?{href:A}:A)}})},l=o(t.prev||r.previous("styles")),f=o(r.get("styles")),p=[],h=[],v=function(_,A,B){_.forEach(function(nt){var ft=nt.attributes.href,pt=A.some(function(Pt){return Pt.attributes.href===ft});!pt&&B.push(nt)})};v(f,l,h),v(l,f,p),p.forEach(function(_){var A,B=e.querySelector('link[href="'.concat(_.attributes.href,'"]'));(A=B==null?void 0:B.parentNode)===null||A===void 0||A.removeChild(B)}),(0,ee.SJ)(e,h)},n.prototype.renderHead=function(){var t=this,e=t.model,r=t.em,o=e.root,l=r.Components.getType(oo).view;this.headView=new l({el:this.getHead(),model:o.head,config:bn(bn({},o.config),{frameView:this})}).render()},n.prototype.renderBody=function(){var t=this,e,r,o=this,l=o.config,f=o.em,p=o.model,h=o.ppfx,v=this.getDoc(),_=this.getBody(),A=this.getWindow(),B=p.hasAutoHeight(),nt=f.config;A._isEditor=!0,this.renderStyles({prev:[]});var ft="#ffca6f";(0,ee.R3)(_,`<style>
      `.concat(nt.baseCss||l.frameStyle||"",`

      `).concat(B?"body { overflow: hidden }":"",`

      [data-gjs-type="wrapper"] {
        `).concat(B?"":"min-height: 100vh;",`
        padding-top: 0.001em;
      }

      .`).concat(h,`dashed *[data-gjs-highlightable] {
        outline: 1px dashed rgba(170,170,170,0.7);
        outline-offset: -2px;
      }

      .`).concat(h,`selected {
        outline: 2px solid #3b97e3 !important;
        outline-offset: -2px;
      }

      .`).concat(h,`selected-parent {
        outline: 2px solid `).concat(ft,` !important
      }

      .`).concat(h,`no-select {
        user-select: none;
        -webkit-user-select:none;
        -moz-user-select: none;
      }

      .`).concat(h,`freezed {
        opacity: 0.5;
        pointer-events: none;
      }

      .`).concat(h,`no-pointer {
        pointer-events: none;
      }

      .`).concat(h,`pointer-init {
        pointer-events: initial;
      }

      .`).concat(h,`plh-image {
        background: #f5f5f5;
        border: none;
        height: 100px;
        width: 100px;
        display: block;
        outline: 3px solid #ffca6f;
        cursor: pointer;
        outline-offset: -2px
      }

      .`).concat(h,`grabbing {
        cursor: grabbing;
        cursor: -webkit-grabbing;
      }

      .`).concat(h,`is__grabbing {
        overflow-x: hidden;
      }

      .`).concat(h,`is__grabbing,
      .`).concat(h,`is__grabbing * {
        cursor: grabbing !important;
      }

      `).concat(nt.canvasCss||"",`
      `).concat(nt.protectedCss||"",`
    </style>`));var pt=p.root,Pt=f.Components.getType("wrapper").view;this.wrapper=new Pt({model:pt,config:bn(bn({},pt.config),{em:f,frameView:this})}).render(),(0,ee.R3)(_,(e=this.wrapper)===null||e===void 0?void 0:e.el),(0,ee.R3)(_,new vn({collection:p.getStyles(),config:bn(bn({},f.Css.getConfig()),{frameView:this})}).render().el),(0,ee.R3)(_,this.getJsContainer()),(0,ee.on)(_,"click",function(Ft){var Bt;return Ft&&((Bt=Ft.target)===null||Bt===void 0?void 0:Bt.tagName)=="A"&&Ft.preventDefault()}),(0,ee.on)(_,"submit",function(Ft){return Ft&&Ft.preventDefault()}),[{event:"keydown keyup keypress",class:"KeyboardEvent"},{event:"mousedown mousemove mouseup",class:"MouseEvent"},{event:"pointerdown pointermove pointerup",class:"PointerEvent"},{event:"wheel",class:"WheelEvent",opts:{passive:!l.infiniteCanvas}}].forEach(function(Ft){return Ft.event.split(" ").forEach(function(Bt){v.addEventListener(Bt,function(te){return t.el.dispatchEvent((0,ee.t3)(te,Ft.class))},Ft.opts)})}),this._toggleEffects(!0),(0,vt.hasDnd)(f)&&(this.droppable=new Ra(f,(r=this.wrapper)===null||r===void 0?void 0:r.el)),this.loaded=!0,p.trigger("loaded")},n.prototype._toggleEffects=function(t){var e=t?ee.on:ee.S1,r=this.getWindow();r&&e(r,"".concat(ee.G1," resize"),this._emitUpdate)},n.prototype._emitUpdate=function(){this.model._emitUpdated()},n}(dr);const js=ho;var Qi=gr(668),zo=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),en=function(){return en=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},en.apply(this,arguments)},Ir=function(a){zo(n,a);function n(t,e){var r=a.call(this,{model:t})||this;return(0,V.bindAll)(r,"onScroll","frameLoaded","updateOffset","remove","startDrag"),en(en({},t.config),{frameWrapView:r}),r.cv=e,r.frame=new js(t,r),r.classAnim="".concat(r.ppfx,"frame-wrapper--anim"),r.updateOffset=(0,V.debounce)(r.updateOffset.bind(r),0),r.updateSize=(0,V.debounce)(r.updateSize.bind(r),0),r.listenTo(t,"loaded",r.frameLoaded),r.listenTo(t,"change:x change:y",r.updatePos),r.listenTo(t,"change:width change:height",r.updateSize),r.listenTo(t,"destroy remove",r.remove),r.updatePos(),r.setupDragger(),r}return n.prototype.events=function(){return{"click [data-action-remove]":"remove","mousedown [data-action-move]":"startDrag"}},n.prototype.setupDragger=function(){var t=this,e=this,r=e.module,o=e.model,l,f,p,h=function(v){r.toggleFramesEvents(v)};this.dragger=new Qi.Z({onStart:function(){var v=o.attributes,_=v.x,A=v.y;p=t.em.getZoomMultiplier(),l=_,f=A,h(!1)},onEnd:function(){return h(!0)},setPosition:function(v){o.set({x:l+v.x*p,y:f+v.y*p})}})},n.prototype.startDrag=function(t){var e;t&&((e=this.dragger)===null||e===void 0||e.start(t))},n.prototype.__clear=function(t){var e=this.frame;e&&e.remove(t),(0,ee.L_)(this.elTools)},n.prototype.remove=function(t){var e=this;return this.__clear(t),dr.prototype.remove.apply(this,t),["frame","dragger","cv","elTools"].forEach(function(r){return e[r]=0}),this},n.prototype.updateOffset=function(){var t,e=this,r=e.em,o=e.$el,l=e.frame;!r||r.destroyed||(r.runDefault({preserveSelected:1}),o.removeClass(this.classAnim),(t=l==null?void 0:l.model)===null||t===void 0||t._emitUpdated())},n.prototype.updatePos=function(t){var e=this,r=e.model,o=e.el,l=r.attributes,f=l.x,p=l.y,h=o.style;this.frame.rect=void 0,h.left=isNaN(f)?f:"".concat(f,"px"),h.top=isNaN(p)?p:"".concat(p,"px"),t&&this.updateOffset()},n.prototype.updateSize=function(){this.updateDim()},n.prototype.updateDim=function(){var t=this,e=t.em,r=t.el,o=t.$el,l=t.model,f=t.classAnim,p=t.frame;if(p){p.rect=void 0,o.addClass(f);var h=this.__handleSize(),v=h.noChanges,_=h.width,A=h.height;((0,V.isNull)(_)||(0,V.isNull)(A))&&l.set(en(en({},_?{}:{width:r.offsetWidth}),A?{}:{height:r.offsetHeight}),{silent:1}),e.stopDefault({preserveSelected:1}),v?this.updateOffset():setTimeout(this.updateOffset,350)}},n.prototype.onScroll=function(){var t=this,e=t.frame,r=t.em;r.trigger("frame:scroll",{frame:e,body:e.getBody(),target:e.getWindow()})},n.prototype.frameLoaded=function(){var t=this,e=t.frame;t.config,e.getWindow().onscroll=this.onScroll,this.updateDim()},n.prototype.__handleSize=function(){var t,e,r="px",o=this,l=o.model,f=o.el,p=f.style,h=l.attributes,v=h.width,_=h.height,A=p.width||"",B=p.height||"",nt=v||"",ft=_||"",pt=A==nt&&B==ft,Pt=(0,V.isNumber)(nt)?"".concat(nt).concat(r):nt,Ft=(0,V.isNumber)(ft)?"".concat(ft).concat(r):ft;if(p.width=Pt,l.hasAutoHeight()){var Bt=this.frame.el;if(Bt.contentDocument){var te=Bt.contentDocument,de=new ResizeObserver(function(){p.height="".concat(te.body.scrollHeight,"px")});de.observe(te.body),(t=this.sizeObserver)===null||t===void 0||t.disconnect(),this.sizeObserver=de}}else p.height=Ft,(e=this.sizeObserver)===null||e===void 0||e.disconnect(),delete this.sizeObserver;return{noChanges:pt,width:v,height:_,newW:nt,newH:ft}},n.prototype.render=function(){var t=this,e=t.frame,r=t.$el,o=t.ppfx,l=t.cv,f=t.model,p=t.el,h=f.attributes.onRender;this.__clear(),this.__handleSize(),e.render(),r.empty().attr({class:"".concat(o,"frame-wrapper")}).append(`
      <div class="`.concat(o,`frame-wrapper__top gjs-two-color" data-frame-top>
        <div class="`).concat(o,`frame-wrapper__name" data-action-move>
          `).concat(f.get("name")||"",`
        </div>
        <div class="`).concat(o,`frame-wrapper__top-r">
          <div class="`).concat(o,`frame-wrapper__icon" data-action-remove style="display: none">
            <svg viewBox="0 0 24 24"><path d="M19 4h-3.5l-1-1h-5l-1 1H5v2h14M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12z"></path></svg>
          </div>
        </div>
      </div>
      <div class="`).concat(o,`frame-wrapper__right" data-frame-right></div>
      <div class="`).concat(o,`frame-wrapper__left" data-frame-left></div>
      <div class="`).concat(o,`frame-wrapper__bottom" data-frame-bottom></div>
      `)).append(e.el);var v=(0,ee.ut)("div",{class:"".concat(o,"tools"),style:"pointer-events:none; display: none"},`
      <div class="`.concat(o,`highlighter" data-hl></div>
      <div class="`).concat(o,`badge" data-badge></div>
      <div class="`).concat(o,`placeholder">
        <div class="`).concat(o,`placeholder-int"></div>
      </div>
      <div class="`).concat(o,`ghost"></div>
      <div class="`).concat(o,`toolbar" style="pointer-events:all"></div>
      <div class="`).concat(o,`resizer"></div>
      <div class="`).concat(o,`offset-v" data-offset>
        <div class="gjs-marginName" data-offset-m>
          <div class="gjs-margin-v-el gjs-margin-v-top" data-offset-m-t></div>
          <div class="gjs-margin-v-el gjs-margin-v-bottom" data-offset-m-b></div>
          <div class="gjs-margin-v-el gjs-margin-v-left" data-offset-m-l></div>
          <div class="gjs-margin-v-el gjs-margin-v-right" data-offset-m-r></div>
        </div>
        <div class="gjs-paddingName" data-offset-m>
          <div class="gjs-padding-v-el gjs-padding-v-top" data-offset-p-t></div>
          <div class="gjs-padding-v-el gjs-padding-v-bottom" data-offset-p-b></div>
          <div class="gjs-padding-v-el gjs-padding-v-left" data-offset-p-l></div>
          <div class="gjs-padding-v-el gjs-padding-v-right" data-offset-p-r></div>
        </div>
      </div>
      <div class="`).concat(o,`offset-fixed-v"></div>
    `));this.elTools=v;var _=l==null?void 0:l.toolsWrapper;return _&&_.appendChild(v),h&&h({el:p,elTop:p.querySelector("[data-frame-top]"),elRight:p.querySelector("[data-frame-right]"),elBottom:p.querySelector("[data-frame-bottom]"),elLeft:p.querySelector("[data-frame-left]"),frame:f,frameWrapperView:this,remove:this.remove,startDrag:this.startDrag}),this},n}(dr);const Ds=Ir;var Na=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Oo=function(a){Na(n,a);function n(t,e){t===void 0&&(t={});var r=a.call(this,t,!0)||this;return r.listenTo(r.collection,"reset",r.render),r.canvasView=e.canvasView,r._module=e.module,r}return n.prototype.onRemoveBefore=function(t,e){e===void 0&&(e={}),t.forEach(function(r){return r.remove(e)})},n.prototype.onRender=function(){var t=this,e=t.$el,r=t.ppfx;e.attr({class:"".concat(r,"frames")})},n.prototype.clearItems=function(){var t=this.viewCollection||[];t.forEach(function(e){return e.remove()}),this.viewCollection=[]},n.prototype.renderView=function(t,e){return new Ds(t,this.canvasView)},n}(Tt);const Is=Oo;var Wo=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ci=function(){return Ci=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Ci.apply(this,arguments)},ta=function(a){Wo(n,a);function n(t){var e=a.call(this,{model:t})||this;e.ready=!1,(0,V.bindAll)(e,"clearOff","onKeyPress","onWheel","onPointer");var r=e,o=r.em,l=r.pfx,f=r.ppfx,p=e.module.events;return e.className="".concat(l,"canvas ").concat(f,"no-touch-actions").concat(o.config.customUI?"":" ".concat(l,"canvas-bg")),e.clsUnscale="".concat(l,"unscale"),e._initFrames(),e.listenTo(o,p.refresh,e.clearOff),e.listenTo(o,"component:selected",e.checkSelected),e.listenTo(o,"".concat(p.coords," ").concat(p.zoom),e.updateFrames),e.listenTo(t,"change:frames",e._onFramesUpdate),e.toggleListeners(!0),e}return n.prototype.template=function(){var t=this.pfx;return`
      <div class="`.concat(t,`canvas__frames" data-frames>
        <div class="`).concat(t,`canvas__spots" data-spots></div>
      </div>
      <div id="`).concat(t,'tools" class="').concat(t,`canvas__tools" data-tools></div>
      <style data-canvas-style></style>
    `)},n.prototype._onFramesUpdate=function(){this._initFrames(),this._renderFrames()},n.prototype._initFrames=function(){var t=this,e=t.frames,r=t.model,o=t.config,l=t.em,f=r.frames;l.set("readyCanvas",0),f.once("loaded:all",function(){return l.set("readyCanvas",1)}),e==null||e.remove(),this.frames=new Is({collection:f},Ci(Ci({},o),{canvasView:this}))},n.prototype.checkSelected=function(t,e){var r;e===void 0&&(e={});var o=e.scroll,l=this.em.getCurrentFrame();o&&((r=t.views)===null||r===void 0||r.forEach(function(f){f.frameView===l&&f.scrollIntoView(o)}))},n.prototype.remove=function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return(t=this.frames)===null||t===void 0||t.remove(),this.frames=void 0,dr.prototype.remove.apply(this,e),this.toggleListeners(!1),this},n.prototype.preventDefault=function(t){var e;t&&(t.preventDefault(),(e=t._parentEvent)===null||e===void 0||e.preventDefault())},n.prototype.toggleListeners=function(t){var e=this,r=e.el,o=e.config,l=t?ee.on:ee.S1;l(document,"keypress",this.onKeyPress),l(window,"scroll resize",this.clearOff),l(r,"wheel",this.onWheel,{passive:!o.infiniteCanvas}),l(r,"pointermove",this.onPointer)},n.prototype.screenToWorld=function(t,e){var r=this.module,o=r.getCoords(),l=r.getZoomMultiplier(),f=this.getViewportDelta();return{x:(t-o.x-f.x)*l,y:(e-o.y-f.y)*l}},n.prototype.onPointer=function(t){if(this.config.infiniteCanvas){var e=this.getCanvasOffset(),r=(0,ee.GX)(),o={x:t.clientX-e.left+r.x,y:t.clientY-e.top+r.y};if(t._parentEvent){var l=t.target.getBoundingClientRect(),f=this.module.getZoomDecimal();o.x=l.left-e.left+r.x+t.clientX*f,o.y=l.top-e.top+r.y+t.clientY*f}this.model.set({pointerScreen:o,pointer:this.screenToWorld(o.x,o.y)})}},n.prototype.onKeyPress=function(t){var e=this.em,r=(0,ee.sN)(t);r===" "&&e.getZoomDecimal()!==1&&!e.Canvas.isInputFocused()&&(this.preventDefault(t),e.Editor.runCommand("core:canvas-move"))},n.prototype.onWheel=function(t){var e=this,r=e.module,o=e.config;if(o.infiniteCanvas){this.preventDefault(t);var l=t.deltaX,f=t.deltaY,p=r.getZoomDecimal(),h=(0,ee.Vb)(t),v=r.getCoords();if(h){var _=p-f*p*.01;r.setZoom(_*100);var A=this.model.getPointerCoords(m.vA.Screen),B=this.getCanvasOffset(),nt=A.x-B.width/2,ft=A.y-B.height/2,pt=_/p,Pt=nt-(nt-v.x)*pt,Ft=ft-(ft-v.y)*pt;r.setCoords(Pt,Ft)}else this.onPointer(t),r.setCoords(v.x-l,v.y-f)}},n.prototype.updateFrames=function(t){var e=this.em,r=this.toolsWrapper,o={preserveSelected:1};this.updateFramesArea(),this.clearOff(),r.style.display="none",e.trigger("canvas:update",t),this.timerZoom&&clearTimeout(this.timerZoom),this.timerZoom=setTimeout(function(){e.stopDefault(o),e.runDefault(o),r.style.display=""},300)},n.prototype.updateFramesArea=function(){var t=this,e=t.framesArea,r=t.model,o=t.module,l=t.cvStyle,f=t.clsUnscale,p=o.getZoomMultiplier();if(e){var h=r.attributes,v=h.x,_=h.y,A=o.getZoomDecimal();e.style.transform="scale(".concat(A,") translate(").concat(v*p,"px, ").concat(_*p,"px)")}l&&(l.innerHTML=`
        .`.concat(f," { scale: ").concat(p,` }
      `))},n.prototype.fitViewport=function(t){var e,r;t===void 0&&(t={});var o=this,l=o.em,f=o.module,p=o.model,h=this.getCanvasOffset(),v=t.el,_=v&&((e=(0,vt.getComponentView)(v))===null||e===void 0?void 0:e.frameView),A=_?_.model:t.frame||l.getCurrentFrameModel()||p.frames.at(0),B=A.attributes,nt=B.x,ft=B.y,pt={x:nt??0,y:ft??0,width:A.width,height:A.height};if(v){var Pt=this.getElBoxRect(v);pt.x=pt.x+Pt.x,pt.y=pt.y+Pt.y,pt.width=Pt.width,pt.height=Pt.height}var Ft=t.ignoreHeight,Bt=(r=t.gap)!==null&&r!==void 0?r:0,te=(0,V.isNumber)(Bt),de=te?Bt:Bt.x,Oe=te?Bt:Bt.y,Me=pt.width+de*2,ae=pt.height+Oe*2,ke=h.width,Be=h.height,ur=ke/Me,he=Be/ae,Wn=Ft?ur:Math.min(ur,he),wc=Wn*100;f.setZoom(wc);var bl=-pt.x+(A.width>=ke?ke/2-Me/2:-de),wl=-pt.y+Be/2-ae/2,ci={x:(bl+de)*Wn,y:(wl+Oe)*Wn};if(Ft){var ys=f.getZoomMultiplier(),bs=Be*ys,Ta=bs-Be,Pa=Ta/2;ci.y=(-pt.y+Oe)*Wn-Pa/ys}f.setCoords(ci.x,ci.y)},n.prototype.isElInViewport=function(t){var e=(0,vt.getElement)(t),r=(0,ee.Ut)(e),o=this.getFrameOffset(e),l=r.top,f=r.left;return l>=0&&f>=0&&l<=o.height&&f<=o.width},n.prototype.offset=function(t,e){e===void 0&&(e={});var r=e.noScroll,o=(0,ee.Ut)(t),l=r?{x:0,y:0}:(0,ee.GX)(t);return{top:o.top+l.y,left:o.left+l.x,width:o.width,height:o.height}},n.prototype.getRectToScreen=function(t){var e,r,o,l,f=this.module.getZoomDecimal(),p=this.module.getCoords(),h=this.getViewportDelta(),v=((e=t.x)!==null&&e!==void 0?e:0)*f+p.x+h.x||0,_=((r=t.y)!==null&&r!==void 0?r:0)*f+p.y+h.y||0;return{x:v,y:_,width:((o=t.width)!==null&&o!==void 0?o:0)*f,height:((l=t.height)!==null&&l!==void 0?l:0)*f}},n.prototype.getElBoxRect=function(t,e){var r,o,l;e===void 0&&(e={});var f=this.module,p=(0,ee.Ut)(t),h=p.width,v=p.height,_=p.left,A=p.top,B=(r=(0,vt.getComponentView)(t))===null||r===void 0?void 0:r.frameView,nt=B==null?void 0:B.getBoxRect(),ft=f.getZoomMultiplier(),pt=(o=nt==null?void 0:nt.x)!==null&&o!==void 0?o:0,Pt=(l=nt==null?void 0:nt.y)!==null&&l!==void 0?l:0,Ft=this.el,Bt=(0,ee.GX)(),te=_+pt+(Ft.scrollLeft+Bt.x)*ft,de=A+Pt+(Ft.scrollTop+Bt.y)*ft,Oe={x:te,y:de,width:h,height:v};return e.local&&(Oe.x=_,Oe.y=A),e.toScreen?this.getRectToScreen(Oe):Oe},n.prototype.getViewportRect=function(t){t===void 0&&(t={});var e=this.getCanvasOffset(),r=e.top,o=e.left,l=e.width,f=e.height,p=this.module;if(t.toWorld){var h=p.getZoomMultiplier(),v=p.getCoords(),_=this.getViewportDelta(),A=-v.x-_.x||0,B=-v.y-_.y||0;return{x:A*h,y:B*h,width:l*h,height:f*h}}else return{x:o,y:r,width:l,height:f}},n.prototype.getViewportDelta=function(t){var e=this.module.getZoomMultiplier(),r=this.getCanvasOffset(),o=r.width,l=r.height,f=o*e,p=l*e,h=f-o,v=p-l;return{x:h/2/e,y:v/2/e}},n.prototype.clearOff=function(){this.frmOff=void 0,this.cvsOff=void 0},n.prototype.getFrameOffset=function(t){var e;if(!this.frmOff||t){var r=(e=this.frame)===null||e===void 0?void 0:e.el,o=t==null?void 0:t.ownerDocument.defaultView,l=o?o.frameElement:r;this.frmOff=this.offset(l||r)}return this.frmOff},n.prototype.getCanvasOffset=function(){return this.cvsOff||(this.cvsOff=this.offset(this.el)),this.cvsOff},n.prototype.getElementPos=function(t,e){e===void 0&&(e={});var r=this.module.getZoomDecimal(),o=this.getFrameOffset(t),l=this.el,f=this.getCanvasOffset(),p=this.offset(t,e),h=e.avoidFrameOffset?0:o.top,v=e.avoidFrameOffset?0:o.left,_=e.avoidFrameZoom?p.top:p.top*r,A=e.avoidFrameZoom?p.left:p.left*r,B=e.avoidFrameOffset?_:_+h-f.top+l.scrollTop,nt=e.avoidFrameOffset?A:A+v-f.left+l.scrollLeft,ft=e.avoidFrameZoom?p.height:p.height*r,pt=e.avoidFrameZoom?p.width:p.width*r;return{top:B,left:nt,height:ft,width:pt,zoom:r,rect:p}},n.prototype.getElementOffsets=function(t){if(!t||(0,ee.BM)(t))return{};var e={},r=window.getComputedStyle(t),o=this.module.getZoomDecimal(),l=["marginTop","marginRight","marginBottom","marginLeft","paddingTop","paddingRight","paddingBottom","paddingLeft","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"];return l.forEach(function(f){e[f]=parseFloat(r[f])*o}),e},n.prototype.getPosition=function(t){var e;t===void 0&&(t={});var r=(e=this.frame)===null||e===void 0?void 0:e.el.contentDocument;if(!r)return{top:0,left:0,width:0,height:0};var o=r.body,l=this.module.getZoomDecimal(),f=this.getFrameOffset(),p=this.getCanvasOffset(),h=t.noScroll;return{top:f.top+(h?0:o.scrollTop)*l-p.top,left:f.left+(h?0:o.scrollLeft)*l-p.left,width:p.width,height:p.height}},n.prototype.updateScript=function(t){var e=t.model,r=e.getId();if(!t.scriptContainer){t.scriptContainer=(0,ee.ut)("div",{"data-id":r});var o=this.getJsContainer();o==null||o.appendChild(t.scriptContainer)}t.el.id=r,t.scriptContainer.innerHTML="";var l=document.createElement("script"),f=e.getScriptString(),p=e.get("script-props")?f:`function(){
`.concat(f,`
;}`),h=JSON.stringify(e.__getScriptProps());l.innerHTML=`
      setTimeout(function() {
        var item = document.getElementById('`.concat(r,`');
        if (!item) return;
        (`).concat(p,".bind(item))(").concat(h,`)
      }, 1);`),setTimeout(function(){var v=t.scriptContainer;v==null||v.appendChild(l)},0)},n.prototype.getJsContainer=function(t){var e=this.getFrameView(t);return e==null?void 0:e.getJsContainer()},n.prototype.getFrameView=function(t){return(t==null?void 0:t.frameView)||this.em.getCurrentFrame()},n.prototype._renderFrames=function(){if(this.ready){var t=this,e=t.model,r=t.frames,o=t.em,l=t.framesArea,f=e.frames;f.listenToLoad(),r.render();var p=f.at(0),h=p==null?void 0:p.view;o.setCurrentFrame(h),l==null||l.appendChild(r.el),this.frame=h,this.updateFramesArea()}},n.prototype.renderFrames=function(){this._renderFrames()},n.prototype.render=function(){var t=this,e=t.el,r=t.$el,o=t.ppfx,l=t.config,f=t.em;r.html(this.template());var p=r.find("[data-frames]");this.framesArea=p.get(0);var h=r.find("[data-tools]");return this.toolsWrapper=h.get(0),h.append(`
      <div class="`.concat(o,"tools ").concat(o,`tools-gl" style="pointer-events:none">
        <div class="`).concat(o,`placeholder">
          <div class="`).concat(o,`placeholder-int"></div>
        </div>
      </div>
      <div id="`).concat(o,`tools" style="pointer-events:none">
        `).concat(l.extHl?'<div class="'.concat(o,'highlighter-sel"></div>'):"",`
        <div class="`).concat(o,`badge"></div>
        <div class="`).concat(o,`ghost"></div>
        <div class="`).concat(o,`toolbar" style="pointer-events:all"></div>
        <div class="`).concat(o,`resizer"></div>
        <div class="`).concat(o,`offset-v"></div>
        <div class="`).concat(o,`offset-fixed-v"></div>
      </div>
    `)),this.toolsEl=e.querySelector("#".concat(o,"tools")),this.hlEl=e.querySelector(".".concat(o,"highlighter")),this.badgeEl=e.querySelector(".".concat(o,"badge")),this.placerEl=e.querySelector(".".concat(o,"placeholder")),this.ghostEl=e.querySelector(".".concat(o,"ghost")),this.toolbarEl=e.querySelector(".".concat(o,"toolbar")),this.resizerEl=e.querySelector(".".concat(o,"resizer")),this.offsetEl=e.querySelector(".".concat(o,"offset-v")),this.fixedOffsetEl=e.querySelector(".".concat(o,"offset-fixed-v")),this.toolsGlobEl=e.querySelector(".".concat(o,"tools-gl")),this.spotsEl=e.querySelector("[data-spots]"),this.cvStyle=e.querySelector("[data-canvas-style]"),this.el.className=(0,vt.getUiClass)(f,this.className),this.ready=!0,this._renderFrames(),this},n}(dr);const Go=ta;var Vs=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),vo=function(){return vo=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},vo.apply(this,arguments)},Fa=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return a.concat(o||Array.prototype.slice.call(n))},Ha=function(a){Vs(n,a);function n(t){var e=a.call(this,t,"Canvas",Z)||this;return e.events=Tr,e.framesById={},e.canvas=new me(e),e.spots=new xe(e),e.model=e.canvas,e.startAutoscroll=e.startAutoscroll.bind(e),e.stopAutoscroll=e.stopAutoscroll.bind(e),e}return n.prototype.getCanvasView=function(){return this.canvasView},n.prototype.postLoad=function(){this.model.init()},n.prototype.getModel=function(){return this.canvas},n.prototype.getElement=function(){return this.getCanvasView().el},n.prototype.getFrame=function(t){return this.getFrames()[t||0]},n.prototype.getFrameEl=function(){var t=(this.canvasView||{}).frame;return t==null?void 0:t.el},n.prototype.getFramesEl=function(){var t;return(t=this.canvasView)===null||t===void 0?void 0:t.framesArea},n.prototype.getWindow=function(){var t=(this.canvasView||{}).frame;return t==null?void 0:t.getWindow()},n.prototype.getDocument=function(){var t=this.getFrameEl();return t==null?void 0:t.contentDocument},n.prototype.getBody=function(){var t=this.getDocument();return t==null?void 0:t.body},n.prototype._getLocalEl=function(t,e,r){var o=t,l=e==null?void 0:e.frameView;return o=l?l[r]():o,o},n.prototype.getGlobalToolsEl=function(){var t;return(t=this.canvasView)===null||t===void 0?void 0:t.toolsGlobEl},n.prototype.getToolsEl=function(t){return this._getLocalEl(this.getCanvasView().toolsEl,t,"getToolsEl")},n.prototype.getHighlighter=function(t){return this._getLocalEl(this.getCanvasView().hlEl,t,"getHighlighter")},n.prototype.getBadgeEl=function(t){return this._getLocalEl(this.getCanvasView().badgeEl,t,"getBadgeEl")},n.prototype.getPlacerEl=function(){return this.getCanvasView().placerEl},n.prototype.getGhostEl=function(){return this.getCanvasView().ghostEl},n.prototype.getToolbarEl=function(){return this.getCanvasView().toolbarEl},n.prototype.getResizerEl=function(){return this.getCanvasView().resizerEl},n.prototype.getOffsetViewerEl=function(t){return this._getLocalEl(this.getCanvasView().offsetEl,t,"getOffsetViewerEl")},n.prototype.getFixedOffsetViewerEl=function(){return this.getCanvasView().fixedOffsetEl},n.prototype.getSpotsEl=function(){var t;return(t=this.canvasView)===null||t===void 0?void 0:t.spotsEl},n.prototype.render=function(){var t;return(t=this.canvasView)===null||t===void 0||t.remove(),this.canvasView=new Go(this.canvas),this.canvasView.render().el},n.prototype.getOffset=function(){var t=this.offset(this.getFrameEl()),e=this.offset(this.getElement());return{top:t.top-e.top,left:t.left-e.left}},n.prototype.offset=function(t){return this.getCanvasView().offset(t)},n.prototype.setCustomBadgeLabel=function(t){this.config.customBadgeLabel=t},n.prototype.getElementPos=function(t,e){return this.getCanvasView().getElementPos(t,e)},n.prototype.getElementOffsets=function(t){return this.getCanvasView().getElementOffsets(t)},n.prototype.getRect=function(){var t,e=(t=this.getCanvasView().getPosition())!==null&&t!==void 0?t:{},r=e.top,o=r===void 0?0:r,l=e.left,f=l===void 0?0:l;return vo(vo({},this.getCanvasView().getCanvasOffset()),{topScroll:o,leftScroll:f})},n.prototype.getTargetToElementDim=function(t,e,r){r===void 0&&(r={});var o=r||{},l=this.getCanvasView().getPosition();if(l){var f=o.elPos||this.getCanvasView().getElementPos(e),p=r.toRight||0,h=o.targetHeight||t.offsetHeight,v=o.targetWidth||t.offsetWidth,_=o.event||null,A=f.top-h,B=f.left;B+=p?f.width:0,B=p?B-v:B;var nt=B<l.left?l.left:B,ft=A<l.top?l.top:A;ft=ft>f.top+f.height?f.top+f.height:ft;var pt={top:ft,left:nt,elementTop:f.top,elementLeft:f.left,elementWidth:f.width,elementHeight:f.height,targetWidth:t.offsetWidth,targetHeight:t.offsetHeight,canvasTop:l.top,canvasLeft:l.left,canvasWidth:l.width,canvasHeight:l.height};return _&&this.em&&this.em.trigger(_,pt),pt}},n.prototype.canvasRectOffset=function(t,e,r){var o=this;r===void 0&&(r={});var l=function(p){var h=p.defaultView;return h==null?void 0:h.frameElement},f=function(p,h,v){h===void 0&&(h=1);var _=o.em.getZoomDecimal(),A=h?"top":"left",B=p.ownerDocument,nt=r.offset?l(B):{},ft=nt.offsetTop,pt=ft===void 0?0:ft,Pt=nt.offsetLeft,Ft=Pt===void 0?0:Pt,Bt=B.body||{},te=Bt.scrollTop,de=te===void 0?0:te,Oe=Bt.scrollLeft,Me=Oe===void 0?0:Oe,ae=h?de:Me,ke=h?pt:Ft;return v[A]-(ae-ke)*_};return{top:f(t,1,e),left:f(t,0,e)}},n.prototype.getTargetToElementFixed=function(t,e,r){r===void 0&&(r={});var o=r.pos||this.getElementPos(t,{noScroll:!0}),l=r.canvasOff||this.canvasRectOffset(t,o),f=e.offsetHeight||0,p=e.offsetWidth||0,h=o.left+o.width,v=this.getCanvasView(),_=v.getPosition(),A=v.getFrameOffset(t),B=r.event,nt=-f,ft=(0,V.isUndefined)(r.left)?o.width-p:r.left;if(ft=o.left<-ft?-o.left:ft,ft=h>_.width?ft-(h-_.width):ft,l.top<f){var pt=o.height+f,Pt=pt<A.height;Pt?nt=nt+pt:nt=-l.top<o.height?-l.top:o.height}var Ft={top:nt,left:ft,canvasOffsetTop:l.top,canvasOffsetLeft:l.left,elRect:o,canvasOffset:l,canvasRect:_,targetWidth:p,targetHeight:f};return B&&this.em.trigger(B,Ft),Ft},n.prototype.getMouseRelativePos=function(t,e){e===void 0&&(e={});var r=e.subWinOffset,o=t.target.ownerDocument,l=o.defaultView||o.parentWindow,f=l.frameElement,p=r?l.pageYOffset:0,h=r?l.pageXOffset:0,v=this.getZoomMultiplier(),_=0,A=0;if(f){var B=f.getBoundingClientRect();_=B.top||0,A=B.left||0}return{y:(t.clientY+_-p)*v,x:(t.clientX+A-h)*v}},n.prototype.getMouseRelativeCanvas=function(t,e){var r,o=this.getZoomDecimal(),l=(r=this.getCanvasView().getPosition(e))!==null&&r!==void 0?r:{},f=l.top,p=f===void 0?0:f,h=l.left,v=h===void 0?0:h;return{y:t.clientY*o+p,x:t.clientX*o+v}},n.prototype.hasFocus=function(){return this.getDocument().hasFocus()},n.prototype.isInputFocused=function(){var t=this.getDocument(),e=this.getFrameEl(),r=Fa(["body"],this.config.notTextable,!0),o=e&&document.activeElement===e,l=o?t&&t.activeElement:document.activeElement;return l&&!r.some(function(f){return l.matches(f)})},n.prototype.scrollTo=function(t,e){e===void 0&&(e={});var r=(0,vt.getElement)(t),o=r&&(0,vt.getViewEl)(r);o&&o.scrollIntoView(e)},n.prototype.startAutoscroll=function(t){var e=t&&t.view||this.em.getCurrentFrame();e&&e.startAutoscroll()},n.prototype.stopAutoscroll=function(t){var e=t&&t.view||this.em.getCurrentFrame();e&&e.stopAutoscroll()},n.prototype.setZoom=function(t){return this.canvas.set("zoom",typeof t=="string"?parseFloat(t):t),this},n.prototype.getZoom=function(){return parseFloat(this.canvas.get("zoom"))},n.prototype.setCoords=function(t,e,r){var o;r===void 0&&(r={});var l=t||t===0,f=e||e===0,p={x:this.canvas.get("x"),y:this.canvas.get("y")};if(l&&(p.x=parseFloat("".concat(t))),f&&(p.y=parseFloat("".concat(e))),r.toWorld){var h=(o=this.canvasView)===null||o===void 0?void 0:o.getViewportDelta();h&&(l&&(p.x=p.x-h.x),f&&(p.y=p.y-h.y))}return this.canvas.set(p),this},n.prototype.getCoords=function(){var t=this.canvas.attributes,e=t.x,r=t.y;return{x:e,y:r}},n.prototype.getPointer=function(t){var e=this.canvas.attributes,r=e.pointer,o=e.pointerScreen;return t?o:r},n.prototype.getZoomDecimal=function(){return this.getZoom()/100},n.prototype.getZoomMultiplier=function(){var t=this.getZoomDecimal();return t?1/t:1},n.prototype.fitViewport=function(t){var e;(e=this.canvasView)===null||e===void 0||e.fitViewport(t)},n.prototype.toggleFramesEvents=function(t){var e=this.getFramesEl().style;e.pointerEvents=t?"":"none"},n.prototype.getFrames=function(){return this.canvas.frames.map(function(t){return t})},n.prototype.addFrame=function(t,e){return t===void 0&&(t={}),e===void 0&&(e={}),this.canvas.frames.add(new Et(this,vo({},t)),e)},n.prototype.getLastDragResult=function(){return this.em.get("dragResult")},n.prototype.addSpot=function(t,e){var r;e===void 0&&(e={});var o=t,l=this.getSpots(o);if(l.length){var f=l[0];return f.set(o),f}var p=o.componentView||((r=o.component)===null||r===void 0?void 0:r.view),h=new qe.Z(this,vo(vo({},o),{id:o.id||"cs_".concat(o.type,"_").concat(p==null?void 0:p.cid),type:o.type||""}));return this.spots.add(h,e),h},n.prototype.getSpots=function(t){return t===void 0&&(t={}),this.spots.where(t.id?{id:t.id}:t)},n.prototype.removeSpots=function(t){t===void 0&&(t={});var e=(0,V.isArray)(t)?t:this.getSpots(t),r=this.spots.remove(e);return r},n.prototype.hasCustomSpot=function(t){var e=this.config.customSpots;return!!(e===!0||e&&t&&e[t])},n.prototype.getWorldRectToScreen=function(t){var e;return(e=this.canvasView)===null||e===void 0?void 0:e.getRectToScreen(t)},n.prototype.refresh=function(t){t===void 0&&(t={});var e=this,r=e.em,o=e.events,l=e.canvasView;l==null||l.clearOff(),(t.spots||t.all)&&(this.refreshSpots(),r.trigger("canvas:updateTools")),r.set("canvasOffset",this.getOffset()),r.trigger(o.refresh,t)},n.prototype.refreshSpots=function(){this.spots.refresh()},n.prototype.destroy=function(){var t=this,e;this.canvas.stopListening(),(e=this.canvasView)===null||e===void 0||e.remove(),["model","droppable"].forEach(function(r){return t[r]={}})},n}(R);const Ba=Ha,go={stylePrefix:"comp-",components:[],draggableComponents:!0,disableTextInnerChilds:!1,processor:void 0,useFrameDoc:!1,voidElements:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]};var io=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ao=function(){return ao=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},ao.apply(this,arguments)},Ua=function(a){io(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return ao(ao({},a.prototype.defaults),{tagName:"",droppable:!1,layerable:!1,selectable:!1,editable:!0})},enumerable:!1,configurable:!0}),n.prototype.toHTML=function(){var t=this.content,e=this.parent();return e!=null&&e.is("script")?t:this.__escapeContent(t)},n.prototype.__escapeContent=function(t){return(0,vt.escapeNodeContent)(t)},n.isComponent=function(t){var e;if(t.nodeType===3)return{type:"textnode",content:(e=t.textContent)!==null&&e!==void 0?e:""}},n}(Kr);const H=Ua;var Q=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),_t=function(){return _t=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},_t.apply(this,arguments)},St=function(a){Q(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return _t({},a.prototype.defaults)},enumerable:!1,configurable:!0}),n.prototype.toHTML=function(){return"<!--".concat(this.content,"-->")},n.isComponent=function(t){var e;if(t.nodeType==8)return{type:"comment",content:(e=t.textContent)!==null&&e!==void 0?e:""}},n}(H);const Rt=St;var Mt=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Xt=function(){return Xt=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Xt.apply(this,arguments)},pe="iframe",ze=function(a){Mt(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Xt(Xt({},a.prototype.defaults),{type:pe,tagName:pe,droppable:!1,resizable:!0,traits:["id","title","src"],attributes:{frameborder:"0"}})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,vt.toLowerCase)(t.tagName)===pe},n}(Kr);const De=ze;var hr=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Hr=function(){return Hr=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Hr.apply(this,arguments)},ea='xmlns="http://www.w3.org/2000/svg" width="100" viewBox="0 0 24 24" style="fill: rgba(0,0,0,0.15); transform: scale(0.75)"',Rs=function(a){hr(n,a);function n(t,e){t===void 0&&(t={});var r=a.call(this,t,e)||this,o=r.get("attributes").src;return o&&(0,vt.buildBase64UrlFromSvg)((0,V.result)(r,"defaults").src)!==o&&r.set("src",o,{silent:!0}),r}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Hr(Hr({},a.prototype.defaults),{type:"image",tagName:"img",void:!0,droppable:0,editable:1,highlightable:0,resizable:{ratioDefault:1},traits:["alt"],src:"<svg ".concat(ea,`>
        <path d="M8.5 13.5l2.5 3 3.5-4.5 4.5 6H5m16 1V5a2 2 0 0 0-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2z"></path>
      </svg>`),fallback:"<svg ".concat(ea,`>
        <path d="M2.28 3L1 4.27l2 2V19c0 1.1.9 2 2 2h12.73l2 2L21 21.72 2.28 3m2.55 0L21 19.17V5a2 2 0 0 0-2-2H4.83M8.5 13.5l2.5 3 1-1.25L14.73 18H5l3.5-4.5z"></path>
      </svg>`),file:""})},enumerable:!1,configurable:!0}),n.prototype.initToolbar=function(){a.prototype.initToolbar.call(this);var t=this.em;if(t){var e=t.Commands,r="image-editor";if(e.has(r)){for(var o=!1,l=this.get("toolbar"),f=0;f<l.length;f++)if(l[f].command==="image-editor"){o=!0;break}o||(l.push({attributes:{class:"fa fa-pencil"},command:r}),this.set("toolbar",l))}}},n.prototype.getAttrToHTML=function(){var t=a.prototype.getAttrToHTML.call(this),e=this.getSrcResult();return e&&(t.src=e),t},n.prototype.getSrcResult=function(t){t===void 0&&(t={});var e=this.get(t.fallback?"fallback":"src")||"",r=e;return e&&e.substr(0,4)==="<svg"&&(r=(0,vt.buildBase64UrlFromSvg)(e)),r},n.prototype.isDefaultSrc=function(){var t=this.get("src"),e=(0,V.result)(this,"defaults").src;return t===e||t===(0,vt.buildBase64UrlFromSvg)(e)},n.prototype.toJSON=function(t){var e=a.prototype.toJSON.call(this,t),r=e.attributes;return r&&e.src===r.src&&delete e.src,e},n.prototype.parseUri=function(t){var e={},r=function(o){o===void 0&&(o="");for(var l={},f=o.substring(1).split("&"),p=0;p<f.length;p++){var h=f[p].split("="),v=decodeURIComponent(h[0]);v&&(l[v]=decodeURIComponent(h[1]||""))}return l};if((0,vt.hasWin)())e=document.createElement("a"),e.href=t;else if(typeof URL<"u")try{e=new URL(t)}catch{}return{hostname:e.hostname||"",pathname:e.pathname||"",protocol:e.protocol||"",search:e.search||"",hash:e.hash||"",port:e.port||"",query:r(e.search)}},n.isComponent=function(t){return(0,vt.toLowerCase)(t.tagName)==="img"},n}(Kr);const El=Rs;var Cf=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),za=function(){return za=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},za.apply(this,arguments)},Mc=function(a){Cf(n,a);function n(t,e){t===void 0&&(t={});var r=a.call(this,t,e)||this;return r.__checkInnerChilds(),r}return Object.defineProperty(n.prototype,"defaults",{get:function(){return za(za({},a.prototype.defaults),{type:"text",droppable:!1,editable:!0})},enumerable:!1,configurable:!0}),n.prototype.__checkInnerChilds=function(){var t=this.em.Components.config.disableTextInnerChilds;if(t){var e=function(r){r.isInstanceOf("textnode")||r.set({locked:!0,layerable:!1})};(0,V.isFunction)(t)?this.forEachChild(function(r){t(r)&&e(r)}):this.forEachChild(e)}},n}(Kr);const Si=Mc;var Lc=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Wa=function(){return Wa=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Wa.apply(this,arguments)},Ga="label",Ns=function(a){Lc(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Wa(Wa({},a.prototype.defaults),{type:Ga,tagName:Ga,traits:["id","title","for"]})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,vt.toLowerCase)(t.tagName)===Ga},n}(Si);const jc=Ns;var Fs=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),jn=function(){return jn=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},jn.apply(this,arguments)},kl="link",Al=function(a){Fs(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return jn(jn({},a.prototype.defaults),{type:kl,tagName:"a",traits:["title","href","target"]})},enumerable:!1,configurable:!0}),n.isComponent=function(t,e){e===void 0&&(e={});var r;if((0,vt.toLowerCase)(t.tagName)==="a"){var o=e.textTags||[];r={type:kl,editable:!1};var l=t.childNodes,f=l.length;f||delete r.editable,(0,V.forEach)(l,function(p){var h=p.tagName;(p.nodeType==3&&p.textContent.trim()!==""||h&&o.indexOf((0,vt.toLowerCase)(h))>=0)&&delete r.editable})}return r},n}(Si);const Ml=Al;var Dc=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ka=function(){return Ka=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Ka.apply(this,arguments)},Ll=function(a){Dc(n,a);function n(t,e){t===void 0&&(t={});var r=a.call(this,t,e)||this;return r.get("src")?r.parseFromSrc():r.updateSrc(),r.listenTo(r,"change:address change:zoom change:mapType",r.updateSrc),r}return Object.defineProperty(n.prototype,"defaults",{get:function(){var t=a.prototype.defaults;return Ka(Ka({},t),{type:"map",src:"",void:!1,mapUrl:"https://maps.google.com/maps",tagName:"iframe",mapType:"q",address:"",zoom:"1",attributes:{frameborder:0},toolbar:t.toolbar,traits:[{label:"Address",name:"address",placeholder:"eg. London, UK",changeProp:!0},{type:"select",label:"Map type",name:"mapType",changeProp:!0,options:[{id:"q",label:"Roadmap"},{id:"w",label:"Satellite"}]},{label:"Zoom",name:"zoom",type:"range",min:1,max:20,changeProp:!0}]})},enumerable:!1,configurable:!0}),n.prototype.updateSrc=function(){this.set("src",this.getMapUrl())},n.prototype.getMapUrl=function(){var t=this.get("address"),e=this.get("zoom"),r=this.get("mapType");t=t?"&q="+t:"",e=e?"&z="+e:"",r=r?"&t="+r:"";var o=this.get("mapUrl")+"?"+t+e+r;return o+="&output=embed",o},n.prototype.parseFromSrc=function(){var t=this.parseUri(this.get("src")),e=t.query;e.q&&this.set("address",e.q),e.z&&this.set("zoom",e.z),e.t&&this.set("mapType",e.t)},n.isComponent=function(t){if((0,vt.toLowerCase)(t.tagName)=="iframe"&&/maps\.google\.com/.test(t.src))return{type:"map",src:t.src}},n}(El);const Sf=Ll;var Of=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Hs=function(){return Hs=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Hs.apply(this,arguments)},To="script",ra=function(a){Of(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Hs(Hs({},a.prototype.defaults),{type:To,tagName:To,droppable:!1,draggable:!1,layerable:!1,highlightable:!1})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,vt.toLowerCase)(t.tagName)===To},n}(Kr);const na=ra;var jl=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),oa=function(){return oa=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},oa.apply(this,arguments)},Bs="svg",Dl=function(a){jl(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return oa(oa({},a.prototype.defaults),{type:Bs,tagName:Bs,highlightable:!1,resizable:{ratioDefault:!0}})},enumerable:!1,configurable:!0}),n.prototype.getName=function(){var t=this.get("tagName"),e=this.get("custom-name");return t=t.charAt(0).toUpperCase()+t.slice(1),e||t},n.isComponent=function(t){return(0,vt.toLowerCase)(t.tagName)===Bs},n}(Kr);const Ko=Dl;var Oi=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),rn=function(){return rn=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},rn.apply(this,arguments)},$o=function(a){Oi(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return rn(rn({},a.prototype.defaults),{selectable:!1,hoverable:!1,layerable:!1})},enumerable:!1,configurable:!0}),n.isComponent=function(t,e){return e===void 0&&(e={}),!!e.inSvg},n}(Ko);const qo=$o;var Us=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),zs=function(){return zs=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},zs.apply(this,arguments)},Ws="table",$a=function(a){Us(n,a);function n(t,e){t===void 0&&(t={});var r=a.call(this,t,e)||this,o=r.get("components");return!o.length&&o.add({type:"tbody"}),r}return Object.defineProperty(n.prototype,"defaults",{get:function(){return zs(zs({},a.prototype.defaults),{type:Ws,tagName:Ws,droppable:["tbody","thead","tfoot"]})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,vt.toLowerCase)(t.tagName)===Ws},n}(Kr);const Ic=$a;var Il=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ti=function(){return Ti=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Ti.apply(this,arguments)},Vl="tbody",Rl=function(a){Il(n,a);function n(t,e){t===void 0&&(t={});var r=a.call(this,t,e)||this,o=r.get("components"),l=r.get("columns"),f=r.get("rows");if(!o.length){for(var p=[];f--;){for(var h=[],v=l;v--;)h.push({type:"cell",classes:["cell"]});p.push({type:"row",classes:["row"],components:h})}o.add(p)}return r}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Ti(Ti({},a.prototype.defaults),{type:Vl,tagName:Vl,draggable:["table"],droppable:["tr"],columns:1,rows:1})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,vt.toLowerCase)(t.tagName)===Vl},n}(Kr);const Gs=Rl;var Nl=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ia=function(){return ia=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},ia.apply(this,arguments)},aa=function(a){Nl(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return ia(ia({},a.prototype.defaults),{type:"cell",tagName:"td",draggable:["tr"]})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return["td","th"].indexOf((0,vt.toLowerCase)(t.tagName))>=0},n}(Kr);const Ks=aa;var Vc=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Pi=function(){return Pi=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Pi.apply(this,arguments)},Fl="tfoot",Tf=function(a){Vc(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Pi(Pi({},a.prototype.defaults),{type:Fl,tagName:Fl})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,vt.toLowerCase)(t.tagName)===Fl},n}(Gs);const Pf=Tf;var Hl=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),sa=function(){return sa=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},sa.apply(this,arguments)},Zo="thead",qa=function(a){Hl(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return sa(sa({},a.prototype.defaults),{type:Zo,tagName:Zo})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,vt.toLowerCase)(t.tagName)===Zo},n}(Gs);const Ef=qa;var $s=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Za=function(){return Za=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Za.apply(this,arguments)},la="tr",Rc=function(a){$s(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Za(Za({},a.prototype.defaults),{tagName:la,draggable:["thead","tbody","tfoot"],droppable:["th","td"]})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,vt.toLowerCase)(t.tagName)===la},n}(Kr);const Ei=Rc;var Ya=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),mo=function(){return mo=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},mo.apply(this,arguments)},ki="video",so="yt",Ai="vi",Mi="ytnc",Bl="so",Ul=function(a){return a&&a!=="0"},Li=function(a){Ya(n,a);function n(t,e){t===void 0&&(t={});var r=a.call(this,t,e)||this;return r.get("src")&&r.parseFromSrc(),r.updatePropsFromAttr(),r.updateTraits(),r.on("change:provider",r.updateTraits),r.on("change:videoId change:provider",r.updateSrc),r}return Object.defineProperty(n.prototype,"defaults",{get:function(){return mo(mo({},a.prototype.defaults),{type:ki,tagName:ki,videoId:"",void:!1,provider:Bl,ytUrl:"https://www.youtube.com/embed/",ytncUrl:"https://www.youtube-nocookie.com/embed/",viUrl:"https://player.vimeo.com/video/",loop:!1,poster:"",muted:0,autoplay:!1,controls:!0,color:"",list:"",src:"",rel:1,modestbranding:0,sources:[],attributes:{allowfullscreen:"allowfullscreen"}})},enumerable:!1,configurable:!0}),n.prototype.updatePropsFromAttr=function(){if(this.get("provider")===Bl){var t=this.get("attributes"),e=t.controls,r=t.autoplay,o=t.loop,l={};(0,vt.isDef)(e)&&(l.controls=!!e),(0,vt.isDef)(r)&&(l.autoplay=!!r),(0,vt.isDef)(o)&&(l.loop=!!o),(0,vt.isEmptyObj)(l)||this.set(l)}},n.prototype.updateTraits=function(){var t=this.em,e=this.get("provider"),r="iframe",o;switch(e){case so:case Mi:o=this.getYoutubeTraits();break;case Ai:o=this.getVimeoTraits();break;default:r="video",o=this.getSourceTraits()}this.set({tagName:r},{silent:!0}),this.set({traits:o}),t.get("ready")&&t.trigger("component:toggled")},n.prototype.parseFromSrc=function(){var t=this.get("provider"),e=this.parseUri(this.get("src")),r=e.query;switch(t){case so:case Mi:case Ai:this.set("videoId",e.pathname.split("/").pop()),r.list&&this.set("list",r.list),Ul(r.autoplay)&&this.set("autoplay",!0),Ul(r.loop)&&this.set("loop",!0),parseInt(r.controls)===0&&this.set("controls",!1),Ul(r.color)&&this.set("color",r.color),r.rel==="0"&&this.set("rel",0),r.modestbranding==="1"&&this.set("modestbranding",1);break}},n.prototype.updateSrc=function(){var t=this.get("provider"),e="";switch(t){case so:e=this.getYoutubeSrc();break;case Mi:e=this.getYoutubeNoCookieSrc();break;case Ai:e=this.getVimeoSrc();break}this.set({src:e})},n.prototype.getAttrToHTML=function(){var t=a.prototype.getAttrToHTML.call(this),e=this.get("provider");switch(e){case so:case Mi:case Ai:break;default:t.loop=!!this.get("loop"),t.autoplay=!!this.get("autoplay"),t.controls=!!this.get("controls")}return t},n.prototype.getProviderTrait=function(){return{type:"select",label:"Provider",name:"provider",changeProp:!0,options:[{value:"so",name:"HTML5 Source"},{value:so,name:"Youtube"},{value:Mi,name:"Youtube (no cookie)"},{value:Ai,name:"Vimeo"}]}},n.prototype.getSourceTraits=function(){return[this.getProviderTrait(),{label:"Source",name:"src",placeholder:"eg. ./media/video.mp4",changeProp:!0},{label:"Poster",name:"poster",placeholder:"eg. ./media/image.jpg"},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait()]},n.prototype.getYoutubeTraits=function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. jNQXAC9IVRw",changeProp:!0},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait(),{type:"checkbox",label:"Related",name:"rel",changeProp:!0},{type:"checkbox",label:"Modest",name:"modestbranding",changeProp:!0}]},n.prototype.getVimeoTraits=function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. 123456789",changeProp:!0},{label:"Color",name:"color",placeholder:"eg. FF0000",changeProp:!0},this.getAutoplayTrait(),this.getLoopTrait()]},n.prototype.getAutoplayTrait=function(){return{type:"checkbox",label:"Autoplay",name:"autoplay",changeProp:!0}},n.prototype.getLoopTrait=function(){return{type:"checkbox",label:"Loop",name:"loop",changeProp:!0}},n.prototype.getControlsTrait=function(){return{type:"checkbox",label:"Controls",name:"controls",changeProp:!0}},n.prototype.getYoutubeSrc=function(){var t=this.get("videoId"),e=this.get("ytUrl"),r=this.get("list");return e+=t+(t.indexOf("?")<0?"?":""),e+=r?"&list=".concat(r):"",e+=this.get("autoplay")?"&autoplay=1&mute=1":"",e+=this.get("controls")?"":"&controls=0&showinfo=0",e+=this.get("loop")?"&loop=1&playlist=".concat(t):"",e+=this.get("rel")?"":"&rel=0",e+=this.get("modestbranding")?"&modestbranding=1":"",e},n.prototype.getYoutubeNoCookieSrc=function(){var t=this.getYoutubeSrc();return t=t.replace(this.get("ytUrl"),this.get("ytncUrl")),t},n.prototype.getVimeoSrc=function(){var t=this.get("viUrl");return t+=this.get("videoId")+"?",t+=this.get("autoplay")?"&autoplay=1&muted=1":"",t+=this.get("loop")?"&loop=1":"",t+=this.get("controls")?"":"&title=0&portrait=0&badge=0",t+=this.get("color")?"&color="+this.get("color"):"",t},n.isComponent=function(t){var e=t.tagName,r=t.src,o=/youtube\.com\/embed/.test(r),l=/youtube-nocookie\.com\/embed/.test(r),f=/player\.vimeo\.com\/video/.test(r),p=o||l||f;if((0,vt.toLowerCase)(e)==ki||(0,vt.toLowerCase)(e)=="iframe"&&p){var h={type:"video"};return r&&(h.src=r),p&&(o?h.provider=so:l?h.provider=Mi:f&&(h.provider=Ai)),h}},n}(El);const ji=Li;var kf=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),qs=function(){return qs=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},qs.apply(this,arguments)},Af=function(a){kf(n,a);function n(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r,o,l=a.apply(this,t)||this,f=t[1],p=(r=f==null?void 0:f.em)===null||r===void 0?void 0:r.Components,h=(o=p==null?void 0:p.getType(oo))===null||o===void 0?void 0:o.model,v=p==null?void 0:p.getType("default").model;return h&&l.set({head:new h({},f),docEl:new v({tagName:"html"},f)},{silent:!0}),l}return Object.defineProperty(n.prototype,"defaults",{get:function(){return qs(qs({},a.prototype.defaults),{tagName:"body",removable:!1,copyable:!1,draggable:!1,components:[],traits:[],doctype:"",head:null,docEl:null,stylable:["background","background-color","background-image","background-repeat","background-attachment","background-position","background-size"]})},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"head",{get:function(){return this.get("head")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"docEl",{get:function(){return this.get("docEl")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"doctype",{get:function(){return this.attributes.doctype||""},enumerable:!1,configurable:!0}),n.prototype.toHTML=function(t){t===void 0&&(t={});var e=this.doctype,r=(0,V.isUndefined)(t.asDocument)?!!e:t.asDocument,o=this,l=o.head,f=o.docEl,p=a.prototype.toHTML.call(this,t),h=r&&(l==null?void 0:l.toHTML(t))||"",v=r&&(0,ee.nB)(f==null?void 0:f.getAttrToHTML())||"",_=v?" ".concat(v):"";return r?"".concat(e,"<html").concat(_,">").concat(h).concat(p,"</html>"):p},n.prototype.__postAdd=function(){var t,e=(t=this.em)===null||t===void 0?void 0:t.UndoManager;return!this.__hasUm&&(e==null||e.add(this)),a.prototype.__postAdd.call(this)},n.prototype.__postRemove=function(){var t,e=(t=this.em)===null||t===void 0?void 0:t.UndoManager;return e==null||e.remove(this),a.prototype.__postRemove.call(this)},n.isComponent=function(){return!1},n}(Kr);const Mf=Af;var Lf=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),jf=function(a){Lf(n,a);function n(){var t=a!==null&&a.apply(this,arguments)||this;return t.compView=Sr,t}return n.prototype.initialize=function(t){this.opts=t||{},this.config=t.config||{},this.em=this.config.em;var e=this.collection;this.listenTo(e,"add",this.addTo),this.listenTo(e,"reset",this.resetChildren),this.listenTo(e,"remove",this.removeChildren)},n.prototype.removeChildren=function(t,e,r){var o=this;r===void 0&&(r={}),t.views.forEach(function(f){if(f){var p=f.childrenView,h=f.scriptContainer;p&&p.stopListening(),(0,ee.L_)(h),f.remove.apply(f)}});var l=t.components();l.forEach(function(f){return o.removeChildren(f,e,r)})},n.prototype.addTo=function(t){this.addToCollection(t,null,this.collection.indexOf(t))},n.prototype.addToCollection=function(t,e,r){for(var o=this,l=o.config,f=o.opts,p=o.em,h=l.frameView,v=(h==null?void 0:h.model)&&t.getView(h.model),_=f.componentTypes||(p==null?void 0:p.Components.getTypes()),A=t.get("type")||"default",B=this.compView,nt=0;nt<_.length;nt++)if(_[nt].id==A){B=_[nt].view;break}var ft=v||new B({model:t,config:l,componentTypes:_}),pt;try{pt=ft.render().el}catch(te){pt=document.createTextNode(""),p.logError(te)}if(e)e.appendChild(pt);else{var Pt=this.parentEl,Ft=Pt.childNodes;if((0,V.isUndefined)(r))Pt.appendChild(pt);else{var Bt=Ft.length==r;Bt&&r--,Bt||!Ft.length?Pt.appendChild(pt):Pt.insertBefore(pt,Ft[r])}}return t.opt.temporary||p==null||p.trigger("component:mount",t),pt},n.prototype.resetChildren=function(t,e){var r=this,o=e===void 0?{}:e,l=o.previousModels,f=l===void 0?[]:l;this.parentEl.innerHTML="",f.forEach(function(p){return r.removeChildren(p,r.collection)}),t.each(function(p){return r.addToCollection(p)})},n.prototype.render=function(t){var e=this,r=this.el,o=document.createDocumentFragment();return this.parentEl=t||this.el,this.collection.each(function(l){return e.addToCollection(l,o)}),r.innerHTML="",r.appendChild(o),this},n}(m.G7);const Pn=jf;var $r=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),_r=function(){return _r=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},_r.apply(this,arguments)},qr=function(a){$r(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.className=function(){return this.getClasses()},n.prototype.tagName=function(){return this.model.get("tagName")},n.prototype.preinitialize=function(t){t===void 0&&(t={}),this.opts=t},n.prototype.initialize=function(t){t===void 0&&(t={});var e=this.model,r=t.config||{},o=r.em,l=e.opt||{},f=this,p=f.$el,h=f.el;this.opts=t,this.modelOpt=l,this.config=r,this.em=o,this.pfx=r.stylePrefix||"",this.ppfx=r.pStylePrefix||"",this.attr=e.get("attributes"),this.classe=this.attr.class||[],this.listenTo(e,"change:style",this.updateStyle),this.listenTo(e,"change:attributes",this.renderAttributes),this.listenTo(e,"change:highlightable",this.updateHighlight),this.listenTo(e,"change:status change:locked",this.updateStatus),this.listenTo(e,"change:script rerender",this.reset),this.listenTo(e,"change:content",this.updateContent),this.listenTo(e,"change",this.handleChange),this.listenTo(e,"active",this.onActive),this.listenTo(e,"disable",this.onDisable),p.data("model",e),(0,vt.setViewEl)(h,this),e.view=this,this.frameView&&e.views.push(this),this.initClasses(),this.initComponents({avoidRender:!0}),this.events=_r(_r({},this.constructor.getEvents()),{dragstart:"handleDragStart"}),this.delegateEvents(),!l.temporary&&this.init(this._clbObj())},Object.defineProperty(n.prototype,"__cmpStyleOpts",{get:function(){return{state:"",mediaText:""}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"frameView",{get:function(){return this.opts.config.frameView},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"createDoc",{get:function(){var t,e,r=((t=this.frameView)===null||t===void 0?void 0:t.getDoc())||document;return!((e=this.opts.config)===null||e===void 0)&&e.useFrameDoc?r:document},enumerable:!1,configurable:!0}),n.prototype.__isDraggable=function(){var t=this,e=t.model,r=t.config,o=e.attributes.draggable;return r.draggableComponents&&o},n.prototype._clbObj=function(){var t=this,e=t.em,r=t.model,o=t.el;return{editor:e==null?void 0:e.getEditor(),model:r,el:o}},n.prototype.init=function(t){},n.prototype.removed=function(t){},n.prototype.onRender=function(t){},n.prototype.onActive=function(t){},n.prototype.onDisable=function(t){},n.prototype.remove=function(){var t;a.prototype.remove.call(this);var e=this,r=e.model,o=e.$el,l=r.views,f=this.frameView||{};return r.components().forEach(function(p){var h=p.getView(f.model);h==null||h.remove()}),(t=this.childrenView)===null||t===void 0||t.remove(),l.splice(l.indexOf(this),1),this.removed(this._clbObj()),o.data({model:"",collection:"",view:""}),this},n.prototype.handleDragStart=function(t){if(!this.__isDraggable())return!1;t.stopPropagation(),t.preventDefault(),this.em.Commands.run("tlb-move",{target:this.model,event:t})},n.prototype.initClasses=function(){var t=this.model,e=t.classes,r="change:classes";e instanceof to&&(this.stopListening(t,r,this.initClasses),this.listenTo(t,r,this.initClasses),this.listenTo(e,"add remove change reset",this.updateClasses),e.length&&this.importClasses())},n.prototype.initComponents=function(t){t===void 0&&(t={});var e=this,r=e.model,o=e.$el,l=e.childrenView,f="change:components",p=r.get("components"),h=[r,f,this.initComponents];p instanceof Qn&&(o.data("collection",p),l&&l.remove(),this.stopListening.apply(this,h),!t.avoidRender&&this.renderChildren(),this.listenTo.apply(this,h))},n.prototype.handleChange=function(){var t=this.model,e=(0,V.keys)(t.changed);if(!(e.length===1&&e[0]==="status")){t.emitUpdate();for(var r in t.changed)t.emitUpdate(r)}},n.prototype.importClasses=function(){var t=this,e=t.em,r=t.model,o=e.Selectors;o&&r.classes.forEach(function(l){return o.add(l.getName())})},n.prototype.updateStatus=function(t){t===void 0&&(t={});var e=this,r=e.em,o=e.el,l=e.ppfx,f=e.model,p=r==null?void 0:r.Canvas,h=p==null?void 0:p.config.extHl,v=f.get("status"),_="".concat(l,"selected"),A="".concat(_,"-parent"),B="".concat(l,"freezed"),nt="".concat(l,"hovered"),ft="".concat(l,"no-pointer"),pt="".concat(l,"pointer-init"),Pt=[_,A,B,nt,ft],Ft=h&&!t.noExtHl?"":_;this.$el.removeClass(Pt.join(" "));var Bt=o.getAttribute("class")||"",te=[Bt],de=!(p!=null&&p.hasCustomSpot(qe.q.Select)),Oe=!(p!=null&&p.hasCustomSpot(qe.q.Target));switch(v){case"selected":de&&te.push(Ft);break;case"selected-parent":Oe&&te.push(A);break;case"freezed":te.push(B);break;case"freezed-selected":te.push(B),de&&te.push(Ft);break;case"hovered":!t.avoidHover&&te.push(nt);break}(0,V.isBoolean)(f.locked)&&te.push(f.locked?ft:pt);var Me=te.filter(Boolean).join(" ");Me&&o.setAttribute("class",Me)},n.prototype.updateHighlight=function(){var t=this.model,e=t.get("textable"),r=t.get("highlightable")&&(e||!t.isChildOf("text"));this.setAttribute("data-gjs-highlightable",r?!0:"")},n.prototype.updateStyle=function(t,e,r){r===void 0&&(r={});var o=this,l=o.model,f=o.em;if(So(f)&&!r.inline){var p=this.__cmpStyleOpts,h=l.getStyle(_r({inline:!0},p));!(0,V.isEmpty)(h)&&l.setStyle(h,p)}else this.setAttribute("style",l.styleToString(r))},n.prototype.updateClasses=function(){var t=this.model.classes.pluck("name").join(" ");this.setAttribute("class",t),this.updateStatus(),this.onAttrUpdate()},n.prototype.setAttribute=function(t,e){var r=this.$el;e?r.attr(t,e):r.removeAttr(t)},n.prototype.getClasses=function(){return this.model.getClasses().join(" ")},n.prototype.updateAttributes=function(){var t=[],e=this,r=e.model,o=e.$el,l=e.el,f=r.attributes,p=f.textable,h=f.type,v=_r(_r({id:r.getId(),"data-gjs-type":h||"default"},this.__isDraggable()&&{draggable:!0}),p&&{contenteditable:"false"});(0,V.each)(l.attributes,function(A){return t.push(A.nodeName)}),t.forEach(function(A){return o.removeAttr(A)}),this.updateStyle(),this.updateHighlight();var _=_r(_r({},v),r.getAttributes());(0,V.keys)(_).forEach(function(A){return _[A]===!1&&delete _[A]}),o.attr(_)},n.prototype.updateContent=function(){var t=this.model.content,e=this.model.components().length;this.getChildrenContainer().innerHTML=e?"":t},n.prototype.prevDef=function(t){t.preventDefault()},n.prototype.updateScript=function(){var t=this,e=t.model,r=t.em;e.get("script")&&(r==null||r.Canvas.getCanvasView().updateScript(this))},n.prototype.getChildrenContainer=function(){var t=this.el;return typeof this.getChildrenSelector=="function"?t=this.el.querySelector(this.getChildrenSelector()):this.getTemplate,t},n.prototype.getOffsetRect=function(){var t={top:0,left:0,bottom:0,right:0},e=this.el,r=0,o=0,l=function(f){var p=f.offsetParent;p?(r+=p.offsetTop,o+=p.offsetLeft,l(p)):(t.top=e.offsetTop+r,t.left=e.offsetLeft+o,t.bottom=t.top+e.offsetHeight,t.right=t.left+e.offsetWidth)};return l(e),t},n.prototype.isInViewport=function(){var t=this,e=t.el,r=t.em,o=t.frameView,l=r.Canvas.getCanvasView(),f=l.getElBoxRect(e,{local:!0}),p=o.el,h=p.clientHeight,v=p.clientWidth,_=f.y,A=f.x,B=_+f.height,nt=A+f.width,ft=_>=0&&_<h,pt=B>0&&B<h,Pt=nt>=0&&nt<v,Ft=A>0&&A<=v,Bt=(ft||pt)&&(Pt||Ft);return Bt},n.prototype.scrollIntoView=function(t){var e;t===void 0&&(t={});var r=this.isInViewport();if(!r||t.force){var o=this.el;if(t.behavior!=="smooth"){var l=this.getOffsetRect();(e=o.ownerDocument.defaultView)===null||e===void 0||e.scrollTo(0,l.top)}else o.scrollIntoView(_r({behavior:"smooth",block:"nearest"},t))}},n.prototype.reset=function(){var t=this.el;this.el="",this._ensureElement(),this._setData(),(0,ee.dL)(t,this.el),this.render()},n.prototype._setData=function(){var t=this.model,e=t.components(),r=this;this.$el.data({model:t,collection:e,view:r})},n.prototype._createElement=function(t){return this.createDoc.createElement(t)},n.prototype.renderChildren=function(){this.updateContent();var t=this.getChildrenContainer(),e=this.childrenView||new Pn({collection:this.model.get("components"),config:this.config,componentTypes:this.opts.componentTypes});e.render(t),this.childrenView=e;for(var r=Array.prototype.slice.call(e.el.childNodes),o=0,l=r.length;o<l;o++)t.appendChild(r.shift())},n.prototype.renderAttributes=function(){this.updateAttributes(),this.updateClasses()},n.prototype.onAttrUpdate=function(){},n.prototype.render=function(){return this.renderAttributes(),this.modelOpt.temporary?this:(this.renderChildren(),this.updateScript(),(0,vt.setViewEl)(this.el,this),this.postRender(),this)},n.prototype.postRender=function(){this.modelOpt.temporary||this.onRender(this._clbObj())},n.getEvents=function(){return(0,V.result)(this.prototype,"events")},n}(m.G7);const Sr=qr;var Df=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Zs=function(a){Df(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype._setAttributes=function(){},n.prototype.renderAttributes=function(){},n.prototype.updateStatus=function(){},n.prototype.updateClasses=function(){},n.prototype.setAttribute=function(){},n.prototype.updateAttributes=function(){},n.prototype.initClasses=function(){},n.prototype.initComponents=function(){},n.prototype.delegateEvents=function(){return this},n.prototype._createElement=function(){return document.createTextNode("")},n.prototype.render=function(){var t=this,e=t.model,r=t.el;return e.opt.temporary?this:(r.textContent=e.content,this)},n}(Sr);const Nc=Zs;var If=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Vf=function(a){If(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype._createElement=function(){return document.createComment(this.model.content)},n}(Nc);const zl=Vf;var Fc=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Wl=function(a){Fc(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.tagName=function(){return"div"},n.prototype.initialize=function(t){a.prototype.initialize.call(this,t),this.listenTo(this.model,"change:attributes:src",this.updateSrc)},n.prototype.updateSrc=function(){var t=(0,ee.sE)(this.el,"iframe")[0];t&&(0,ee.FW)(t,{src:this.__getSrc()})},n.prototype.render=function(){a.prototype.render.call(this);var t=(0,ee.ut)("iframe",{class:"".concat(this.ppfx,"no-pointer"),style:"width: 100%; height: 100%; border: none",src:this.__getSrc()});return this.el.appendChild(t),this},n.prototype.__getSrc=function(){return this.model.getAttributes().src||""},n}(Sr);const Rf=Wl;var Gl=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Kl=function(a){Gl(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.tagName=function(){return"img"},n.prototype.events=function(){return{dblclick:"onActive",click:"initResize",error:"onError",load:"onLoad",dragstart:"noDrag"}},n.prototype.initialize=function(t){a.prototype.initialize.call(this,t),this.listenTo(this.model,"change:src",this.updateSrc),this.classEmpty="".concat(this.ppfx,"plh-image"),this.fetchFile()},n.prototype.fetchFile=function(){if(!this.modelOpt.temporary){var t=this,e=t.model,r=t.em,o=e.get("file");if(o&&r){var l=r.Assets.FileUploader();l==null||l.uploadFile({dataTransfer:{files:[o]}},function(f){var p=f&&f.data&&f.data[0],h=p&&((0,V.isString)(p)?p:p.src);h&&e.set({src:h})}),e.set("file","")}}},n.prototype.updateSrc=function(){var t=this.model;t.addAttributes({src:t.getSrcResult()}),this.updateClasses()},n.prototype.updateClasses=function(){a.prototype.updateClasses.call(this);var t=this,e=t.el,r=t.classEmpty,o=t.model,l=o.getSrcResult()&&!o.isDefaultSrc(),f=l?"remove":"add";e.classList[f](r)},n.prototype.onActive=function(t){t==null||t.stopPropagation();var e=this,r=e.em,o=e.model,l=r==null?void 0:r.Assets;l&&o.get("editable")&&l.open({select:function(f,p){o.set({src:f.getSrc()}),p&&l.close()},target:o,types:["image"],accept:"image/*"})},n.prototype.onError=function(){var t=this.model.getSrcResult({fallback:!0});t&&(this.el.src=t)},n.prototype.onLoad=function(){this.em.Canvas.refresh({all:!0})},n.prototype.noDrag=function(t){return t.preventDefault(),!1},n.prototype.render=function(){if(this.renderAttributes(),this.modelOpt.temporary)return this;this.updateSrc();var t=this,e=t.$el,r=t.model,o=e.attr("class")||"";return!r.get("src")&&e.attr("class","".concat(o," ").concat(this.classEmpty).trim()),this.postRender(),this},n}(Sr);const Ys=Kl;var Hc=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Di=function(){return Di=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Di.apply(this,arguments)},Xa=function(a,n,t,e){function r(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function f(v){try{h(e.next(v))}catch(_){l(_)}}function p(v){try{h(e.throw(v))}catch(_){l(_)}}function h(v){v.done?o(v.value):r(v.value).then(f,p)}h((e=e.apply(a,n||[])).next())})},Yo=function(a,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,r,o,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(h){return function(v){return p([h,v])}}function p(h){if(e)throw new TypeError("Generator is already executing.");for(;l&&(l=0,h[0]&&(t=0)),t;)try{if(e=1,r&&(o=h[0]&2?r.return:h[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,h[1])).done)return o;switch(r=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,r=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){t.label=h[1];break}if(h[0]===6&&t.label<o[1]){t.label=o[1],o=h;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(h);break}o[2]&&t.ops.pop(),t.trys.pop();continue}h=n.call(a,t)}catch(v){h=[6,v],r=0}finally{e=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},Nf=function(a){Hc(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.events=function(){return{dblclick:"onActive",input:"onInput"}},n.prototype.initialize=function(t){a.prototype.initialize.call(this,t),(0,V.bindAll)(this,"disableEditing","onDisable");var e=this.model,r=this.em;this.listenTo(e,"focus",this.onActive),this.listenTo(e,"change:content",this.updateContentText),this.listenTo(e,"sync:content",this.syncContent),this.rte=r==null?void 0:r.RichTextEditor},n.prototype.updateContentText=function(t,e,r){r===void 0&&(r={}),!r.fromDisable&&this.disableEditing()},n.prototype.canActivate=function(){var t=this,e=t.model,r=t.rteEnabled,o=t.em,l=o==null?void 0:o.getEditing(),f=l===e,p=!0,h=!1,v;if((r||!e.get("editable")||f||(h=e.isChildOf("text")))&&(p=!1,h&&!e.get("textable"))){for(var _=e.parent();_&&!_.isInstanceOf("text");)_=_.parent();_&&_.get("editable")?v=_:p=!0}return{result:p,delegate:v}},n.prototype.onActive=function(t){var e,r;return Xa(this,void 0,void 0,function(){var o,l,f,p,h,v,_,A,B;return Yo(this,function(nt){switch(nt.label){case 0:return o=this,l=o.rte,f=o.em,p=this.canActivate(),h=p.result,v=p.delegate,h?((r=t==null?void 0:t.stopPropagation)===null||r===void 0||r.call(t),_=this,[4,this.getContent()]):(v&&((e=t==null?void 0:t.stopPropagation)===null||e===void 0||e.call(t),f.setSelected(v),v.trigger("active",t)),[2]);case 1:if(_.lastContent=nt.sent(),!l)return[3,5];nt.label=2;case 2:return nt.trys.push([2,4,,5]),A=this,[4,l.enable(this,this.activeRte,{event:t})];case 3:return A.activeRte=nt.sent(),[3,5];case 4:return B=nt.sent(),f.logError(B),[3,5];case 5:return this.toggleEvents(!0),[2]}})})},n.prototype.onDisable=function(t){this.disableEditing(t)},n.prototype.disableEditing=function(t){return t===void 0&&(t={}),Xa(this,void 0,void 0,function(){var e,r,o,l,f,p,h,v;return Yo(this,function(_){switch(_.label){case 0:if(e=this,r=e.model,o=e.rte,l=e.activeRte,f=e.em,p=r&&r.get("editable"),!o)return[3,8];_.label=1;case 1:return _.trys.push([1,3,,4]),[4,o.disable(this,l,t)];case 2:return _.sent(),[3,4];case 3:return h=_.sent(),f.logError(h),[3,4];case 4:return v=p,v?[4,this.getContent()]:[3,6];case 5:v=_.sent()!==this.lastContent,_.label=6;case 6:return v?[4,this.syncContent(t)]:[3,8];case 7:_.sent(),this.lastContent="",_.label=8;case 8:return this.toggleEvents(),[2]}})})},n.prototype.getContent=function(){return Xa(this,void 0,void 0,function(){var t,e,r,o;return Yo(this,function(l){switch(l.label){case 0:return t=this,e=t.rte,r=t.activeRte,o="",e?[4,e.getContent(this,r)]:[3,2];case 1:o=l.sent(),l.label=2;case 2:return[2,o]}})})},n.prototype.syncContent=function(t){return t===void 0&&(t={}),Xa(this,void 0,void 0,function(){var e,r,o,l,f,p,h;return Yo(this,function(v){switch(v.label){case 0:return e=this,r=e.model,o=e.rte,l=e.rteEnabled,!l&&!t.force?[2]:[4,this.getContent()];case 1:return f=v.sent(),p=r.components(),h=Di({fromDisable:1},t),r.set("content","",h),o!=null&&o.customRte&&!o.customRte.parseContent?(p.length&&p.reset(void 0,Di(Di({},t),{keepIds:un(p)})),r.set("content",f,h)):p.resetFromString(f,t),[2]}})})},n.prototype.insertComponent=function(t,e){var r;e===void 0&&(e={});var o=this,l=o.model,f=o.el,p=f.ownerDocument,h=p.getSelection();if(h!=null&&h.rangeCount){var v=h.getRangeAt(0),_=v.startContainer,A=v.startOffset,B=(0,vt.getComponentModel)(_),nt=[];if(B&&(!((r=B.is)===null||r===void 0)&&r.call(B,"textnode"))){var ft=B.collection;ft.forEach(function(Ft){if(Ft===B){var Bt="textnode",te=e.useDomContent?_.textContent||"":Ft.content;nt.push({type:Bt,content:te.slice(0,A)}),nt.push(t),nt.push({type:Bt,content:te.slice(A)})}else nt.push(Ft)});var pt=nt.filter(Boolean),Pt=pt.indexOf(t);return ft.reset(pt,e),ft.at(Pt)}}return l.append(t,e)},n.prototype.onInput=function(){var t=this.em,e="component",r=["".concat(e,":update"),"".concat(e,":input")].join(" ");t&&t.trigger(r,this.model)},n.prototype.disablePropagation=function(t){t.stopPropagation()},n.prototype.toggleEvents=function(t){var e=this,r=e.em,o=e.model,l=e.$el,f={on:ee.on,off:ee.S1},p=t?"on":"off";r.setEditing(t?this:!1),this.rteEnabled=!!t;var h=[this.el.ownerDocument,document];if(f.off(h,"mousedown",this.onDisable),f[p](h,"mousedown",this.onDisable),r[p]("toolbar:run:before",this.onDisable),o&&(o[p]("removed",this.onDisable),o.trigger("rte:".concat(t?"enable":"disable"))),l==null||l.off("mousedown",this.disablePropagation),l&&l[p]("mousedown",this.disablePropagation),this.config.draggableComponents)for(var v=this.el;v;)v.draggable=!t,v=v.parentNode,v&&v.tagName=="BODY"&&(v=0)},n}(Sr);const Ja=Nf;var Po=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Bc=function(a){Po(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.render=function(){return a.prototype.render.call(this),this.el.addEventListener("click",this.prevDef,!0),this},n}(Ja);const Uc=Bc;var zc=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Nn=function(a){zc(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n}(Uc);const cr=Nn;var lo=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Xo=function(a){lo(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.tagName=function(){return"div"},n.prototype.events=function(){return{}},n.prototype.initialize=function(t){a.prototype.initialize.call(this,t),this.classEmpty=this.ppfx+"plh-map"},n.prototype.updateSrc=function(){this.getIframe().src=this.model.get("src")},n.prototype.getIframe=function(){if(!this.iframe){var t=document.createElement("iframe");t.src=this.model.get("src"),t.frameBorder="0",t.style.height="100%",t.style.width="100%",t.className=this.ppfx+"no-pointer",this.iframe=t}return this.iframe},n.prototype.render=function(){return a.prototype.render.call(this),this.updateClasses(),this.el.appendChild(this.getIframe()),this},n}(Ys);const Jo=Xo;var Wc=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),$l=function(a){Wc(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.tagName=function(){return"script"},n.prototype.events=function(){return{}},n}(Sr);const Gc=$l;var Ff=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ql=function(a){Ff(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype._createElement=function(t){return document.createElementNS("http://www.w3.org/2000/svg",t)},n}(Sr);const ca=ql;var Kc=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Zl=function(a){Kc(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n}(Sr);const Qo=Zl;var $c=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),qc=function(a){$c(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n}(Sr);const Hf=qc;var Xs=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Yl=function(a){Xs(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n}(Sr);const Zc=Yl;var Bf=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Yc=function(a){Bf(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n}(Sr);const Uf=Yc;var zf=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Js=function(a){zf(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n}(Sr);const Xc=Js;var Wf=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Gf=function(a){Wf(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.events=function(){return{}},n}(Sr);const Jc=Gf;var ua=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Xl=function(a){ua(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.tagName=function(){return"div"},n.prototype.events=function(){return{}},n.prototype.initialize=function(){Sr.prototype.initialize.apply(this,arguments);var t=this.model,e=["loop","autoplay","controls","color","rel","modestbranding","poster"],r=e.map(function(o){return"change:".concat(o)}).join(" ");this.listenTo(t,"change:provider",this.updateProvider),this.listenTo(t,"change:src",this.updateSrc),this.listenTo(t,r,this.updateVideo)},n.prototype.updateProvider=function(){var t=this.model.get("provider");this.el.innerHTML="",this.el.appendChild(this.renderByProvider(t))},n.prototype.updateSrc=function(){var t=this,e=t.model,r=t.videoEl;if(r){var o=e.get("provider"),l=e.get("src");switch(o){case"yt":l=e.getYoutubeSrc();break;case"ytnc":l=e.getYoutubeNoCookieSrc();break;case"vi":l=e.getVimeoSrc();break}r.src=l}},n.prototype.updateVideo=function(){var t=this,e=t.model,r=t.videoEl,o=e.get("provider");switch(o){case"yt":case"ytnc":case"vi":e.trigger("change:videoId");break;default:if(r){var l=r;l.loop=e.get("loop"),l.autoplay=e.get("autoplay"),l.controls=e.get("controls"),l.poster=e.get("poster")}}},n.prototype.renderByProvider=function(t){var e;switch(t){case"yt":e=this.renderYoutube();break;case"ytnc":e=this.renderYoutubeNoCookie();break;case"vi":e=this.renderVimeo();break;default:e=this.renderSource()}return this.videoEl=e,e},n.prototype.renderSource=function(){var t=document.createElement("video");return t.src=this.model.get("src"),this.initVideoEl(t),t},n.prototype.renderYoutube=function(){var t=document.createElement("iframe");return t.src=this.model.getYoutubeSrc(),t.frameBorder="0",t.setAttribute("allowfullscreen","true"),this.initVideoEl(t),t},n.prototype.renderYoutubeNoCookie=function(){var t=document.createElement("iframe");return t.src=this.model.getYoutubeNoCookieSrc(),t.frameBorder="0",t.setAttribute("allowfullscreen","true"),this.initVideoEl(t),t},n.prototype.renderVimeo=function(){var t=document.createElement("iframe");return t.src=this.model.getVimeoSrc(),t.frameBorder="0",t.setAttribute("allowfullscreen","true"),this.initVideoEl(t),t},n.prototype.initVideoEl=function(t){t.className=this.ppfx+"no-pointer",t.style.height="100%",t.style.width="100%"},n.prototype.render=function(){Sr.prototype.render.apply(this),this.updateClasses();var t=this.model.get("provider");return this.el.appendChild(this.renderByProvider(t)),this.updateVideo(),this},n}(Ys);const Qs=Xl;var Qc=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Jl=function(a){Qc(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.tagName=function(){return"div"},n}(Sr);const tu=Jl;var Kf=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Qa=function(){return Qa=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Qa.apply(this,arguments)},pn=function(a){Kf(n,a);function n(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=a.apply(this,t)||this;r.refreshDbn=(0,V.debounce)(function(){return r.refresh()},0);var o=r.events;return r.on(o.update,r.onUpdate),r.on(o.updateInside,r.onUpdateDeep),r}return n.prototype.removeChildren=function(t,e,r){var o;r===void 0&&(r={}),a.prototype.removeChildren.call(this,t,e,r),(o=jr(t))===null||o===void 0||o.forEach(function(l){return Zt(l,{skipRefs:!0})}),this.__trgEvent(this.events.symbolMainRemove,{component:t})},n.prototype.onAdd=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];a.prototype.onAdd.apply(this,t);var r=t[0];this.__trgEvent(this.events.symbolMainAdd,{component:r})},n.prototype.onUpdate=function(t){this.__trgEvent(this.events.symbolMainUpdate,t)},n.prototype.onUpdateDeep=function(t){this.__trgEvent(this.events.symbolMainUpdateDeep,t)},n.prototype.refresh=function(){var t=this,e=t.em,r=t.events;e.trigger(r.symbol)},n.prototype.__trgEvent=function(t,e,r){r===void 0&&(r=!1);var o=this,l=o.em,f=o.events,p=r?f.symbolInstance:f.symbolMain;l.trigger(t,e),l.trigger(p,Qa(Qa({},e),{event:t})),this.refreshDbn()},n}(Qn);const tl=pn;var eu=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),dn=function(){return dn=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},dn.apply(this,arguments)},ru=function(a,n){var t={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&n.indexOf(e)<0&&(t[e]=a[e]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(a);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(a,e[r])&&(t[e[r]]=a[e[r]]);return t},fa=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return a.concat(o||Array.prototype.slice.call(n))},ti;(function(a){a[a.InvalidSource=0]="InvalidSource",a[a.SourceReject=1]="SourceReject",a[a.TargetReject=2]="TargetReject"})(ti||(ti={}));var nu=function(a){eu(n,a);function n(t){var e=a.call(this,t,"DomComponents",new Qn(void 0,{em:t}))||this;e.componentTypes=[{id:"cell",model:Ks,view:Hf},{id:"row",model:Ei,view:Xc},{id:"table",model:Ic,view:Jc},{id:"thead",model:Ef,view:Uf},{id:"tbody",model:Gs,view:Qo},{id:"tfoot",model:Pf,view:Zc},{id:"map",model:Sf,view:Jo},{id:"link",model:Ml,view:Uc},{id:"label",model:jc,view:cr},{id:"video",model:ji,view:Qs},{id:"image",model:El,view:Ys},{id:"script",model:na,view:Gc},{id:"svg-in",model:qo,view:ca},{id:"svg",model:Ko,view:ca},{id:"iframe",model:De,view:Rf},{id:"comment",model:Rt,view:zl},{id:"textnode",model:H,view:Nc},{id:oo,model:Yi,view:Sr},{id:"wrapper",model:Mf,view:tu},{id:"text",model:Si,view:Ja},{id:"default",model:Kr,view:Sr}],e.componentsById={},e.Component=Kr,e.Components=Qn,e.ComponentView=Sr,e.ComponentsView=Pn,e.storageKey="components",e.keySymbols="symbols",e.events=Ae.g;var r=e.config;e.symbols=new tl([],{em:t,config:r,domc:e}),t&&(e.config.components=t.config.components||e.config.components);for(var o in go)o in e.config||(e.config[o]=go[o]);var l=e.config.pStylePrefix;if(l&&(e.config.stylePrefix=l+e.config.stylePrefix),t){t.get("Parser").compTypes=e.componentTypes,t.on("change:componentHovered",e.componentHovered,e);var f=t.get("selected");t.listenTo(f,"add",function(p,h,v){return e.selectAdd(f.getComponent(p),v)}),t.listenTo(f,"remove",function(p,h,v){return e.selectRemove(f.getComponent(p),v)})}return e}return n.prototype.postLoad=function(){var t=this,e=t.em,r=t.symbols,o=e.UndoManager;o.add(r)},n.prototype.load=function(t){var e=this,r=this.loadProjectData(t,{onResult:function(o){var l=e.getWrapper();if(l||(e.em.Pages.add({},{select:!0}),l=e.getWrapper()),(0,V.isArray)(o))o.length&&l.components(o);else{var f=o.components,p=f===void 0?[]:f,h=ru(o,["components"]);l.set(h),l.components(p)}}});return this.symbols.reset(t[this.keySymbols]||[]),r},n.prototype.store=function(){var t;return t={},t[this.keySymbols]=this.symbols,t},n.prototype.getComponent=function(){var t=this.em.Pages.getSelected(),e=t==null?void 0:t.getMainFrame();return e==null?void 0:e.getComponent()},n.prototype.getWrapper=function(){return this.getComponent()},n.prototype.getComponents=function(){var t=this.getWrapper();return t==null?void 0:t.components()},n.prototype.addComponent=function(t,e){return e===void 0&&(e={}),this.getComponents().add(t,e)},n.prototype.render=function(){var t;return(t=this.componentView)===null||t===void 0?void 0:t.render().el},n.prototype.clear=function(t){t===void 0&&(t={});var e=this.getComponents();return e==null||e.filter(Boolean).forEach(function(r){return r.remove(t)}),this},n.prototype.setComponents=function(t,e){e===void 0&&(e={}),this.clear(e).addComponent(t,e)},n.prototype.addType=function(t,e){var r=this.em,o=e.model,l=o===void 0?{}:o,f=e.view,p=f===void 0?{}:f,h=e.isComponent,v=e.extend,_=e.extendView,A=e.extendFn,B=A===void 0?[]:A,nt=e.extendFnView,ft=nt===void 0?[]:nt,pt=e.block,Pt=this.getType(t),Ft=this.getType(v),Bt=this.getType(_),te=Ft||Pt||this.getType("default"),de=te.model,Oe=Bt?Bt.view:te.view,Me=function(Wn,wc,bl){return Wn.reduce(function(wl,ci){var ys=wc[ci],bs=bl.prototype[ci];return ys&&bs&&(wl[ci]=function(){for(var Ta=[],Pa=0;Pa<arguments.length;Pa++)Ta[Pa]=arguments[Pa];bs.bind(this).apply(void 0,Ta),ys.bind(this).apply(void 0,Ta)}),wl},{})};if(typeof l=="object"){var ae={defaults:l.defaults};delete l.defaults;var ke=new Set(de.typeExtends);ke.add(de.getDefaults().type),e.model=de.extend(dn(dn({},l),Me(B,l,de)),{typeExtends:ke,isComponent:Pt&&!Ft&&!h?de.isComponent:h||function(){return 0}}),Object.defineProperty(e.model.prototype,"defaults",{get:function(){return dn(dn({},(0,V.result)(de.prototype,"defaults")||{}),(0,V.result)(ae,"defaults")||{})}})}if(typeof p=="object"&&(e.view=Oe.extend(dn(dn({},p),Me(ft,p,Oe)))),Pt?(Pt.model=e.model,Pt.view=e.view):(e.id=t,this.componentTypes.unshift(e)),pt){var Be={id:t,label:t,content:{type:t}},ur=pt===!0?Be:dn(dn({},Be),pt);r.Blocks.add(ur.id||t,ur)}var he="component:type:".concat(Pt?"update":"add");return r==null||r.trigger(he,Pt||e),this},n.prototype.getType=function(t){for(var e=this.componentTypes,r=0;r<e.length;r++){var o=e[r].id;if(o==t)return e[r]}},n.prototype.removeType=function(t){var e=this.componentTypes,r=this.getType(t);if(r){var o=e.indexOf(r);return e.splice(o,1),r}},n.prototype.getTypes=function(){return this.componentTypes},n.prototype.selectAdd=function(t,e){var r=this;e===void 0&&(e={}),t&&(t.set({status:"selected"}),["component:selected","component:toggled"].forEach(function(o){return r.em.trigger(o,t,e)}))},n.prototype.selectRemove=function(t,e){var r=this;e===void 0&&(e={}),t&&(this.em,t.set({status:"",state:""}),["component:deselected","component:toggled"].forEach(function(o){return r.em.trigger(o,t,e)}))},n.prototype.componentHovered=function(){var t=this.em,e=t.get("componentHovered"),r=t.previous("componentHovered"),o="hovered";r&&r.get("status")==o&&r.set({status:"",state:""}),e&&(0,V.isEmpty)(e.get("status"))&&e.set("status",o)},n.prototype.getShallowWrapper=function(){var t=this,e=t.shallow,r=t.em;if(!e&&r){var o=r.shallow;if(!o)return;var l=o.Components;if(l.componentTypes=this.componentTypes,e=l.getWrapper(),e){var f=[ro,no].join(" ");e.on(f,(0,V.debounce)(function(){return e==null?void 0:e.components("")},100))}this.shallow=e}return e},n.prototype.isComponent=function(t){return(0,vt.isComponent)(t)},n.prototype.addSymbol=function(t){if(!((0,V.isSymbol)(t)&&!Nr(t))){var e=t.clone({symbol:!0});return we(e)&&this.symbols.add(e),this.em.trigger("component:toggled"),e}},n.prototype.getSymbols=function(){return fa([],this.symbols.models,!0)},n.prototype.detachSymbol=function(t){cn(t)&&Zt(t)},n.prototype.getSymbolInfo=function(t,e){e===void 0&&(e={});var r=we(t),o=tn(t),l=!!o,f=jr(r?t:o)||[],p=o||(r?t:void 0),h=F(t,{changed:e.withChanges}),v=r||l,_=v&&Nr(t);return{isSymbol:v,isMain:r,isInstance:l,isRoot:_,main:p,instances:f,relatives:h||[]}},n.prototype.canMove=function(t,e,r){var o={result:!1,reason:ti.InvalidSource,target:t,source:null};if(!e||!t)return o;var l=(0,vt.isComponent)(e)?e:null;if(!l){var f=this.getShallowWrapper();l=(f==null?void 0:f.append(e)[0])||null}if(o.source=l,!l)return o;var p=l.get("draggable");if((0,V.isFunction)(p))p=!!p(l,t,r);else{var h=t.getEl();p=(0,V.isArray)(p)?p.join(","):p,p=(0,V.isString)(p)?h==null?void 0:h.matches(p):p}if(!p)return dn(dn({},o),{reason:ti.SourceReject});var v=t.get("droppable");if((0,V.isFunction)(v))v=!!v(l,t,r);else if(v===!1&&t.isInstanceOf("text")&&l.get("textable"))v=!0;else{var h=l.getEl();v=(0,V.isArray)(v)?v.join(","):v,v=(0,V.isString)(v)?h==null?void 0:h.matches(v):v}var _=[t].concat(t.parents()).indexOf(l)>-1;return!v||_?dn(dn({},o),{reason:ti.TargetReject}):dn(dn({},o),{result:!0})},n.prototype.allById=function(){return this.componentsById},n.prototype.getById=function(t){return this.componentsById[t]||null},n.prototype.destroy=function(){var t,e=this.allById();Object.keys(e).forEach(function(r){return e[r]&&e[r].remove()}),(t=this.componentView)===null||t===void 0||t.remove(),[this.em,this.componentsById,this.componentView].forEach(function(r){return{}})},n}(D);const ou=nu;var iu={stylePrefix:"css-",rules:[]};const pa=iu;var au=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),el=Number.MAX_VALUE,su=function(a){var n=/(-?\d*\.?\d+)\w{0,}/.exec(a);return n?n[0]:""},ts=function(a){au(n,a);function n(){var t=a.call(this)||this;return(0,V.bindAll)(t,"sortRules"),t.compCls=[],t.ids=[],t}return n.prototype.buildFromModel=function(t,e){var r=this;e===void 0&&(e={});var o="",l=this.em,f=l&&l.getConfig().avoidInlineStyle,p=t.styleToString(),h=t.classes;this.ids.push("#".concat(t.getId())),h.forEach(function(_){return r.compCls.push(_.getFullName())}),!f&&p&&(o="#".concat(t.getId(),"{").concat(p,"}"));var v=t.components();return v.forEach(function(_){return o+=r.buildFromModel(_,e)}),o},n.prototype.build=function(t,e){var r=this;e===void 0&&(e={});var o=e.json,l=e.em,f=e.cssc||(l==null?void 0:l.Css);this.em=l,this.compCls=[],this.ids=[],this.model=t;var p=[],h=t?this.buildFromModel(t,e):"",v=(0,V.isUndefined)(e.clearStyles)&&l?l.getConfig().clearStyles:e.clearStyles;if(f){var _=e.rules||f.getAll(),A={},B=[];e.onlyMatched&&t&&(0,vt.hasWin)()&&(_=this.matchedRules(t,_)),_.forEach(function(nt){var ft=nt.getAtRule();if(ft){var pt=A[ft];pt?pt.push(nt):A[ft]=[nt];return}var Pt=r.buildFromRule(nt,B,e);o?p.push(Pt):h+=Pt}),this.sortMediaObject(A).forEach(function(nt){var ft="",pt=nt.key,Pt=nt.value;Pt.forEach(function(Ft){var Bt=r.buildFromRule(Ft,B,e);Ft.get("singleAtRule")?h+="".concat(pt,"{").concat(Bt,"}"):ft+=Bt,o&&p.push(Bt)}),ft&&(h+="".concat(pt,"{").concat(ft,"}"))}),l&&v&&_.remove&&_.remove(B)}return o?p.filter(function(nt){return nt}):h},n.prototype.buildFromRule=function(t,e,r){var o=this,l;r===void 0&&(r={});var f="",p=this.model,h=t.selectorsToString({skipAdd:1}),v=t.get("selectorsAdd"),_=t.get("singleAtRule"),A;if((l=t.get("selectors"))===null||l===void 0||l.forEach(function(nt){var ft=nt.getFullName();(o.compCls.indexOf(ft)>=0||o.ids.indexOf(ft)>=0||r.keepUnusedStyles)&&(A=1)}),h&&A||v||_||!p){var B=t.getDeclaration({body:1});B&&(r.json?f=t:f+=B)}else e.push(t);return f},n.prototype.matchedRules=function(t,e){var r=this,o=t.getEl(),l=[];return e.forEach(function(f){try{f.selectorsToString().split(",").some(function(p){return o==null?void 0:o.matches(r.__cleanSelector(p))})&&l.push(f)}catch{}}),t.components().forEach(function(f){l=l.concat(r.matchedRules(f,e))}),l=l.filter(function(f,p){return l.indexOf(f)===p}),l},n.prototype.getQueryLength=function(t){var e=/(-?\d*\.?\d+)\w{0,}/.exec(t);return e?parseFloat(e[1]):el},n.prototype.sortMediaObject=function(t){var e=this;t===void 0&&(t={});var r=[];return(0,V.each)(t,function(o,l){return r.push({key:l,value:o})}),r.sort(function(o,l){var f=[o.key,l.key].every(function(v){return v.indexOf("min-width")!==-1}),p=f?o.key:l.key,h=f?l.key:o.key;return e.getQueryLength(p)-e.getQueryLength(h)})},n.prototype.sortRules=function(t,e){var r=function(p){return p.get("mediaText")||""},o=[r(t),r(e)].every(function(p){return p.indexOf("min-width")!==-1}),l=r(o?t:e),f=r(o?e:t);return this.getQueryLength(l)-this.getQueryLength(f)},n.prototype.__cleanSelector=function(t){return t.split(" ").map(function(e){return e.split(":")[0]}).join(" ")},n}(m.Hn);const $f=ts;var da=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ha=function(){return ha=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},ha.apply(this,arguments)},lu=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return a.concat(o||Array.prototype.slice.call(n))},rl=((0,vt.hasWin)()?window:{}).CSS,es=function(a){da(n,a);function n(t,e){e===void 0&&(e={});var r=a.call(this,t)||this;return r.config=t||{},r.opt=e,r.em=e.em,r.ensureSelectors(null,null,{}),r.on("change",r.__onChange),r}return n.prototype.defaults=function(){return{selectors:[],selectorsAdd:"",style:{},mediaText:"",state:"",stylable:!0,atRuleType:"",singleAtRule:!1,important:!1,group:"",shallow:!1,_undo:!0}},n.prototype.__onChange=function(t,e){var r=this.em,o=this.changedAttributes();o&&!(0,vt.isEmptyObj)(o)&&(r==null||r.changesUp(e))},n.prototype.clone=function(){var t=ha({},this.opt),e=ha({},this.attributes);return e.selectors=this.get("selectors").map(function(r){return r.clone()}),new this.constructor(e,t)},n.prototype.ensureSelectors=function(t,e,r){var o=this.em,l=o==null?void 0:o.get("SelectorManager"),f=[this,"change:selectors",this.ensureSelectors],p=this.getSelectors();if(this.stopListening.apply(this,f),p.models&&(p=lu([],p.models,!0)),p=(0,V.isString)(p)?[p]:p,Array.isArray(p)){var h=p.filter(function(v){return v}).map(function(v){return l?l.add(v):v});p=new to(h)}this.set("selectors",p,r),this.listenTo.apply(this,f)},n.prototype.getAtRule=function(){var t=this.get("atRuleType"),e=this.get("mediaText"),r=t?"@".concat(t):e?"@media":"";return r+(e&&r?" ".concat(e):"")},n.prototype.selectorsToString=function(t){t===void 0&&(t={});var e=[],r=this.get("state"),o=this.get("selectorsAdd"),l={escape:function(h){return rl&&rl.escape?rl.escape(h):h}},f=this.get("selectors").getFullString(0,l),p=r&&!t.skipState?":".concat(r):"";return f&&e.push("".concat(f).concat(p)),o&&!t.skipAdd&&e.push(o),e.join(", ")},n.prototype.getDeclaration=function(t){t===void 0&&(t={});var e="",r=this.attributes.important,o=this.selectorsToString(t),l=this.styleToString(ha({important:r},t)),f=this.get("singleAtRule");return(o||f)&&(l||t.allowEmpty)&&(e=f?l:"".concat(o,"{").concat(l,"}")),e},n.prototype.getDevice=function(){var t=this.em,e=this.attributes,r=e.atRuleType,o=e.mediaText,l=(t==null?void 0:t.get("DeviceManager").getDevices())||[],f=l.filter(function(p){return p.getWidthMedia()===""})[0];return r!=="media"||!o?f||null:l.filter(function(p){return p.getWidthMedia()===su(o)})[0]||null},n.prototype.getState=function(){var t=this.em,e=this.get("state"),r=(t==null?void 0:t.get("SelectorManager").getStates())||[];return r.filter(function(o){return o.getName()===e})[0]||null},n.prototype.getComponent=function(){var t,e=this.getSelectors(),r=e.length==1&&e.at(0),o=r&&r.isId()&&r.get("name");return o&&((t=this.em)===null||t===void 0?void 0:t.Components.getById(o))||null},n.prototype.toCSS=function(t){t===void 0&&(t={});var e="",r=this.getAtRule(),o=this.getDeclaration(t);return(o||t.allowEmpty)&&(e=o),r&&e&&(e="".concat(r,"{").concat(e,"}")),e},n.prototype.toJSON=function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var o=m.Hn.prototype.toJSON.apply(this,e);if(!((t=this.em)===null||t===void 0)&&t.getConfig().avoidDefaults){var l=this.defaults();(0,V.forEach)(l,function(f,p){o[p]===f&&delete o[p]}),delete o.style.__p,(0,V.isEmpty)(o.selectors)&&delete o.selectors,(0,V.isEmpty)(o.style)&&delete o.style}return o},n.prototype.compare=function(t,e,r,o){var l;o===void 0&&(o={});var f=e||"",p=r||"",h=o.selectorsAdd||"",v=o.atRuleType||"",_=!(0,V.isArray)(t)&&!t.models?[t]:t.models||t;p&&!v&&(v="media");var A=_.map(function(pt){return pt.getFullName()}),B=(l=this.get("selectors"))===null||l===void 0?void 0:l.map(function(pt){return pt.getFullName()}),nt=A.slice().sort(),ft=B.slice().sort();return!(A.length!==B.length||!nt.every(function(pt,Pt){return pt===ft[Pt]})||this.get("state")!==f||this.get("mediaText")!==p||this.get("selectorsAdd")!==h||this.get("atRuleType")!==v)},n}(On);const va=es;var rs=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ga=function(a){rs(n,a);function n(t,e){var r=a.call(this,t)||this;return r.editor=e==null?void 0:e.em,setTimeout(function(){r.on("remove",r.onRemove),r.on("add",r.onAdd)}),r}return n.prototype.toJSON=function(t){var e=m.FE.prototype.toJSON.call(this,t);return e.filter(function(r){return r.style&&!r.shallow})},n.prototype.onAdd=function(t,e,r){t.ensureSelectors(t,e,r)},n.prototype.onRemove=function(t){var e=this.editor;e.stopListening(t),e.UndoManager.remove(t)},n.prototype.add=function(t,e){return e===void 0&&(e={}),typeof t=="string"&&(t=this.editor.get("Parser").parseCss(t)),e.em=this.editor,m.FE.prototype.add.apply(this,[t,e])},n}(m.FE);const cu=ga;ga.prototype.model=va;var qf=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ei=function(){return ei=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},ei.apply(this,arguments)},ri=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return a.concat(o||Array.prototype.slice.call(n))},ma=function(a){qf(n,a);function n(t){var e=a.call(this,t,"CssComposer",null,{},pa)||this;e.Selectors=to,e.storageKey="styles";var r=e.config,o=r.pStylePrefix;return o&&(r.stylePrefix=o+r.stylePrefix),r.rules=e.em.config.style||r.rules||"",e.rules=new cu([],r),e}return n.prototype.onLoad=function(){this.rules.add(this.config.rules,{silent:!0})},n.prototype.postLoad=function(){var t,e=(t=this.em)===null||t===void 0?void 0:t.get("UndoManager");e&&e.add(this.getAll())},n.prototype.store=function(){return this.getProjectData()},n.prototype.load=function(t){return this.loadProjectData(t,{all:this.rules})},n.prototype.add=function(t,e,r,o,l){o===void 0&&(o={}),l===void 0&&(l={});var f=e||"",p=r||"",h=ei({},o),v=this.get(t,f,p,h);return v&&v.config&&!v.config.singleAtRule||(h.state=f,h.mediaText=p,h.selectors=[],p&&!h.atRuleType&&(h.atRuleType="media"),v=new va(h,this.config),v.get("selectors").add(t,l),this.rules.add(v,l)),v},n.prototype.get=function(t,e,r,o){var l=t;if((0,V.isString)(t)){var f=this.em.Selectors,p=t.split(",")[0].trim(),h=this.em.Parser.parserCss.checkNode({selectors:p})[0];l=f.get(h.selectors)}return this.rules.find(function(v){return v.compare(l,e,r,o)})||null},n.prototype.getAll=function(){return this.rules},n.prototype.addCollection=function(t,e,r){e===void 0&&(e={}),r===void 0&&(r={});var o=this.em,l=[];(0,V.isString)(t)&&(t=o.Parser.parseCss(t));for(var f=t instanceof Array?t:[t],p=0,h=f.length;p<h;p++){var v=f[p]||{};if(v.selectors){var _=o==null?void 0:o.Selectors;_||console.warn("Selector Manager not found");for(var A=v.selectors,B=A instanceof Array?A:[A],nt=[],ft=0,pt=B.length;ft<pt;ft++){var Pt=_.add(B[ft]);nt.push(Pt)}var Ft=this.get(nt,v.state,v.mediaText,v),Bt=this.add(nt,v.state,v.mediaText,v,e),te=!Ft||!e.avoidUpdateStyle,de=v.style||{};if((0,vt.isObject)(r)&&Bt.set(r,e),te){var Oe=e.extend?ei(ei({},Bt.get("style")),de):de;Bt.set("style",Oe,e)}l.push(Bt)}}return l},n.prototype.addRules=function(t){return this.addCollection(t)},n.prototype.setRule=function(t,e,r){e===void 0&&(e={}),r===void 0&&(r={});var o=r.atRuleType,l=r.atRuleParams,f=this.em.Parser.parserCss.checkNode({selectors:t,style:e})[0],p=f.state,h=f.selectorsAdd,v=this.em.Selectors,_=v.add(f.selectors),A=this.add(_,p,l,{selectorsAdd:h,atRule:o});return r.addStyles?A.addStyle(e,r):A.setStyle(e,r),A},n.prototype.getRule=function(t,e){e===void 0&&(e={});var r=this.em,o=r.Selectors,l=r.Parser.parserCss.checkNode({selectors:t})[0],f=o.get(l.selectors),p=l.state,h=l.selectorsAdd,v=e.atRuleType,_=e.atRuleParams;return f?this.get(f,p,_,{selectorsAdd:h,atRuleType:v}):void 0},n.prototype.getRules=function(t){var e=this.getAll();if(!t)return ri([],e.models,!0);var r={sort:!0},o=(0,V.isString)(t)?t.split(",").map(function(f){return f.trim()}):t,l=e.filter(function(f){return o.indexOf(f.getSelectors().getFullString(null,r))>=0});return l},n.prototype.setIdRule=function(t,e,r){e===void 0&&(e={}),r===void 0&&(r={});var o=r.addOpts,l=o===void 0?{}:o,f=r.mediaText,p=r.state||"",h=(0,V.isUndefined)(f)?this.em.getCurrentMedia():f,v=this.em.Selectors,_=v.add({name:t,type:Dr.TYPE_ID},l),A=this.add(_,p,h,{},l);return A.setStyle(e,ei(ei({},r),l)),A},n.prototype.getIdRule=function(t,e){e===void 0&&(e={});var r=e.mediaText,o=e.state||"",l=(0,V.isUndefined)(r)?this.em.getCurrentMedia():r,f=this.em.Selectors.get(t,Dr.TYPE_ID);return f&&this.get(f,o,l)},n.prototype.setClassRule=function(t,e,r){e===void 0&&(e={}),r===void 0&&(r={});var o=r.state||"",l=r.mediaText||this.em.getCurrentMedia(),f=this.em.Selectors,p=f.add({name:t,type:Dr.TYPE_CLASS}),h=this.add(p,o,l);return h.setStyle(e,r),h},n.prototype.getClassRule=function(t,e){e===void 0&&(e={});var r=e.state||"",o=e.mediaText||this.em.getCurrentMedia(),l=this.em.Selectors.get(t,Dr.TYPE_CLASS);return l&&this.get(l,r,o)},n.prototype.remove=function(t,e){var r=(0,V.isString)(t)?this.getRules(t):t,o=this.getAll().remove(r,e);return(0,V.isArray)(o)?o:[o]},n.prototype.clear=function(t){return t===void 0&&(t={}),this.getAll().reset([],t),this},n.prototype.getComponentRules=function(t,e){e===void 0&&(e={});var r=e.state,o=e.mediaText,l=e.current;l&&(r=this.em.get("state")||"",o=this.em.getCurrentMedia());var f=t.getId(),p=this.getAll().filter(function(h){return!(0,V.isUndefined)(r)&&h.get("state")!==r||!(0,V.isUndefined)(o)&&h.get("mediaText")!==o?!1:h.getSelectorsString()==="#".concat(f)});return p},n.prototype.render=function(){var t;return(t=this.rulesView)===null||t===void 0||t.remove(),this.rulesView=new vn({collection:this.rules,config:this.config}),this.rulesView.render().el},n.prototype.checkId=function(t,e){e===void 0&&(e={});var r=e.idMap,o=r===void 0?{}:r,l=[];if(!Object.keys(o).length)return l;var f=Array.isArray(t)?t:[t];return f.forEach(function(p){var h=p.selectors;if(h&&h.length==1){var v=h[0];if((0,V.isString)(v)){if(v[0]==="#"){var _=v.substring(1),A=o[_];_&&A&&(h[0]="#".concat(A),l.push(p))}}else if(v.name&&v.type===Dr.TYPE_ID){var A=o[v.name];A&&(v.name=A,l.push(p))}}}),l},n.prototype.destroy=function(){var t;this.rules.reset(),this.rules.stopListening(),(t=this.rulesView)===null||t===void 0||t.remove()},n}(D);const ns=ma;var Zf={appendTo:"",blocks:[],appendOnClick:!1,custom:!1};const uu=Zf;var Yf=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Xf=function(a){Yf(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.defaults=function(){return{label:"",content:"",media:"",category:"",activate:!1,select:void 0,resetId:!1,disable:!1,onClick:void 0,attributes:{}}},Object.defineProperty(n.prototype,"category",{get:function(){var t=this.get("category");return t instanceof Vo?t:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return this.collection},enumerable:!1,configurable:!0}),n.prototype.getId=function(){return this.id},n.prototype.getLabel=function(){return this.get("label")},n.prototype.getMedia=function(){return this.get("media")},n.prototype.getContent=function(){return this.get("content")},n.prototype.getCategoryLabel=function(){var t=this.get("category");return(0,V.isFunction)(t==null?void 0:t.get)?t.get("label"):t!=null&&t.label?t==null?void 0:t.label:t},n}(m.Hn);const fu=Xf;var En=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ql=function(a){En(n,a);function n(t,e){var r=a.call(this,t)||this;return r.em=e.em,r.on("add",r.handleAdd),r}return n.prototype.getCategories=function(){return this.em.Blocks.getCategories()},n.prototype.handleAdd=function(t){this.initCategory(t)},n}(ja);const nl=Ql;Ql.prototype.model=fu;var os;(function(a){a.add="block:add",a.remove="block:remove",a.removeBefore="block:remove:before",a.update="block:update",a.dragStart="block:drag:start",a.drag="block:drag",a.dragEnd="block:drag:stop",a.categoryUpdate="block:category:update",a.custom="block:custom",a.all="block"})(os||(os={}));var Jf=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),pu=function(a){Jf(n,a);function n(t,e){e===void 0&&(e={});var r=a.call(this,t)||this,o=r.model;return r.em=e.em,r.config=e,r.endDrag=r.endDrag.bind(r),r.ppfx=e.pStylePrefix||"",r.listenTo(o,"destroy remove",r.remove),r.listenTo(o,"change",r.render),r}return n.prototype.events=function(){return{click:"handleClick",mousedown:"startDrag",dragstart:"handleDragStart",drag:"handleDrag",dragend:"handleDragEnd"}},n.prototype.__getModule=function(){return this.em.Blocks},n.prototype.handleClick=function(t){var e=this,r=e.config,o=e.model,l=e.em,f=o.get("onClick")||r.appendOnClick;if(l.trigger("block:click",o,t),f){if((0,V.isFunction)(f))return f(o,l==null?void 0:l.getEditor(),{event:t})}else return;var p=r.getSorter(),h=o.get("content"),v=l.getSelected();p.setDropContent(h);var _,A,B;if(v)if(A=p.validTarget(v.getEl(),h),A.valid)_=v;else{var nt=v.parent();nt&&(A=p.validTarget(nt.getEl(),h),A.valid&&(_=nt,B=nt.components().indexOf(v)+1))}if(!_){var ft=l.getWrapper();A=p.validTarget(ft.getEl(),h),A.valid&&(_=ft)}var pt=_&&_.append(h,{at:B})[0];pt&&l.setSelected(pt,{scroll:1})},n.prototype.startDrag=function(t){var e=this,r=e.config,o=e.em,l=e.model,f=l.get("disable");if(!(t.button!==0||!r.getSorter||this.el.draggable||f)){o.refreshCanvas();var p=r.getSorter();p.__currentBlock=l,p.setDragHelper(this.el,t),p.setDropContent(this.model.get("content")),p.startSort(this.el),(0,ee.on)(document,"mouseup",this.endDrag)}},n.prototype.handleDragStart=function(t){this.__getModule().__startDrag(this.model,t)},n.prototype.handleDrag=function(t){this.__getModule().__drag(t)},n.prototype.handleDragEnd=function(){this.__getModule().__endDrag()},n.prototype.endDrag=function(){(0,ee.S1)(document,"mouseup",this.endDrag);var t=this.config.getSorter();t.moved=0,t.endMove()},n.prototype.render=function(){var t,e=this,r=e.em,o=e.el,l=e.$el,f=e.ppfx,p=e.model,h=p.get("disable"),v=p.get("attributes")||{},_=v.class||"",A="".concat(f,"block"),B=r&&r.t("blockManager.labels.".concat(p.id))||p.get("label"),nt=p.get("render"),ft=p.get("media"),pt=h?"".concat(A,"--disable"):"".concat(f,"four-color-h");l.attr(v),o.className="".concat(_," ").concat(A," ").concat(f,"one-bg ").concat(pt).trim(),o.innerHTML=`
      `.concat(ft?'<div class="'.concat(A,'__media">').concat(ft,"</div>"):"",`
      <div class="`).concat(A,'-label">').concat(B,`</div>
    `),o.title=v.title||((t=o.textContent)===null||t===void 0?void 0:t.trim()),o.setAttribute("draggable","".concat(!!((0,vt.hasDnd)(r)&&!h)));var Pt=nt&&nt({el:o,model:p,className:A,prefix:f});return Pt&&(o.innerHTML=Pt),this},n}(m.G7);const du=pu;var hu=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Qf=function(a,n){return Object.defineProperty?Object.defineProperty(a,"raw",{value:n}):a.raw=n,a},tp=function(a){hu(n,a);function n(t,e,r){var o=a.call(this,t)||this;o.config=e;var l=e.pStylePrefix||"";return o.em=e.em,o.catName=r,o.pfx=l,o.caretR="fa fa-caret-right",o.caretD="fa fa-caret-down",o.iconClass="".concat(l,"caret-icon"),o.activeClass="".concat(l,"open"),o.className="".concat(l).concat(r,"-category"),o.listenTo(o.model,"change:open",o.updateVisibility),o.model.view=o,o}return n.prototype.events=function(){return{"click [data-title]":"toggle"}},n.prototype.template=function(t){var e=t.pfx,r=t.label,o=t.catName;return bt(Eo||(Eo=Qf([`
      <div class="`,`title" data-title>
        <i class="`,`caret-icon"></i>
        `,`
      </div>
      <div class="`,"",`s-c"></div>
    `],[`
      <div class="`,`title" data-title>
        <i class="`,`caret-icon"></i>
        `,`
      </div>
      <div class="`,"",`s-c"></div>
    `])),e,e,r,e,o)},n.prototype.attributes=function(){return this.model.get("attributes")||{}},n.prototype.updateVisibility=function(){this.model.get("open")?this.open():this.close()},n.prototype.open=function(){this.$el.addClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretD),this.getTypeEl().style.display=""},n.prototype.close=function(){this.$el.removeClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretR),this.getTypeEl().style.display="none"},n.prototype.toggle=function(){var t=this.model;t.set("open",!t.get("open"))},n.prototype.getIconEl=function(){return this.iconEl||(this.iconEl=this.el.querySelector(".".concat(this.iconClass))),this.iconEl},n.prototype.getTypeEl=function(){return this.typeEl||(this.typeEl=this.el.querySelector(".".concat(this.pfx).concat(this.catName,"s-c"))),this.typeEl},n.prototype.append=function(t){this.getTypeEl().appendChild(t)},n.prototype.render=function(){var t=this,e=t.em,r=t.el,o=t.$el,l=t.model,f=t.pfx,p=t.catName,h=e.t("".concat(p,"Manager.categories.").concat(l.id))||l.get("label");return r.innerHTML=this.template({pfx:f,label:h,catName:p}),o.addClass(this.className),o.css({order:l.get("order")}),this.updateVisibility(),this},n}(m.G7);const vu=tp;var Eo,is=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ii=function(){return Ii=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Ii.apply(this,arguments)},as=function(a){is(n,a);function n(t,e){var r=a.call(this,t)||this;r.renderedCategories=new Map,(0,V.bindAll)(r,"getSorter","onDrag","onDrop","onMove"),r.config=e||{},r.categories=t.categories||"";var o=r.config.pStylePrefix||"";r.ppfx=o,r.noCatClass="".concat(o,"blocks-no-cat"),r.blockContClass="".concat(o,"blocks-c"),r.catsClass="".concat(o,"block-categories");var l=r.collection;return r.listenTo(l,"add",r.addTo),r.listenTo(l,"reset",r.render),r.em=r.config.em,r.em&&(r.config.getSorter=r.getSorter),r}return n.prototype.__getModule=function(){return this.em.Blocks},n.prototype.updateConfig=function(t){t===void 0&&(t={}),this.config=Ii(Ii({},this.config),t)},n.prototype.getSorter=function(){var t=this.em;if(t){if(!this.sorter){var e=t.Utils,r=t.Canvas;this.sorter=new e.Sorter({container:r.getBody(),placer:r.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:this.ppfx,onStart:this.onDrag,onEndMove:this.onDrop,onMove:this.onMove,document:r.getFrameEl().contentDocument,direction:"a",wmargin:1,nested:1,em:t,canvasRelative:1})}return this.sorter}},n.prototype.onDrag=function(t){this.em.stopDefault(),this.__getModule().__startDrag(this.sorter.__currentBlock,t)},n.prototype.onMove=function(t){this.__getModule().__drag(t)},n.prototype.onDrop=function(t){this.em.runDefault(),this.__getModule().__endDrag({component:t}),delete this.sorter.__currentBlock},n.prototype.addTo=function(t){this.add(t)},n.prototype.add=function(t,e){var r=this,o=r.config,l=r.renderedCategories,f=t.get("attributes"),p=new du({model:t,attributes:f},o),h=p.render().el,v=t.parent.initCategory(t);if(v&&this.categories&&!o.ignoreCategories){var _=v.getId(),A=this.getCategoriesEl(),B=l.get(_);!B&&A&&(B=new vu({model:v},o,"block").render(),l.set(_,B),A.appendChild(B.el)),B==null||B.append(h);return}e?e.appendChild(h):this.append(h)},n.prototype.getCategoriesEl=function(){return this.catsEl||(this.catsEl=this.el.querySelector(".".concat(this.catsClass))),this.catsEl},n.prototype.getBlocksEl=function(){return this.blocksEl||(this.blocksEl=this.el.querySelector(".".concat(this.noCatClass," .").concat(this.blockContClass))),this.blocksEl},n.prototype.append=function(t){var e=this.getBlocksEl();e&&e.appendChild(t)},n.prototype.render=function(){var t=this,e=this.ppfx,r=document.createDocumentFragment();delete this.catsEl,delete this.blocksEl,this.renderedCategories=new Map,this.el.innerHTML=`
      <div class="`.concat(this.catsClass,`"></div>
      <div class="`).concat(this.noCatClass,`">
        <div class="`).concat(this.blockContClass,`"></div>
      </div>
    `),this.collection.each(function(l){return t.add(l,r)}),this.append(r);var o="".concat(this.blockContClass,"s ").concat(e,"one-bg ").concat(e,"two-color");return this.$el.addClass(o),this.rendered=!0,this},n}(m.G7);const yo=as;var ep=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ni=function(){return ni=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},ni.apply(this,arguments)},ya=function(a){ep(n,a);function n(t){var e,r=a.call(this,t,"BlockManager",new nl(((e=t.config.blockManager)===null||e===void 0?void 0:e.blocks)||[],{em:t}),os,uu)||this;return r.events=os,r.Block=fu,r.Blocks=nl,r.Category=Vo,r.Categories=_o,r.storageKey="",r.blocks=r.all,r.blocksVisible=new nl(r.blocks.models,{em:t}),r.categories=new _o([],{em:t,events:{update:os.categoryUpdate}}),r.blocks.on("add",function(o){return r.blocksVisible.add(o)}),r.blocks.on("remove",function(o){return r.blocksVisible.remove(o)}),r.blocks.on("reset",function(o){return r.blocksVisible.reset(o.models)}),r.__onAllEvent=(0,V.debounce)(function(){return r.__trgCustom()},0),r}return n.prototype.__trgCustom=function(){this.em.trigger(this.events.custom,this.__customData())},n.prototype.__customData=function(){var t=this,e=this.__getBehaviour();return{bm:this,blocks:this.getAll().models,container:e.container,dragStart:function(r,o){return t.startDrag(r,o)},drag:function(r){return t.__drag(r)},dragStop:function(r){return t.endDrag(r)}}},n.prototype.__startDrag=function(t,e){var r=this,o=r.em,l=r.events,f=r.blocks,p=t.getContent?t.getContent():t;this._dragBlock=t,o.set({dragResult:null,dragContent:p}),[o,f].map(function(h){return h.trigger(l.dragStart,t,e)})},n.prototype.__drag=function(t){var e=this,r=e.em,o=e.events,l=e.blocks,f=this._dragBlock;[r,l].map(function(p){return p.trigger(o.drag,f,t)})},n.prototype.__endDrag=function(t){t===void 0&&(t={});var e=this,r=e.em,o=e.events,l=e.blocks,f=this._dragBlock,p=t.component||r.get("dragResult");if(delete this._dragBlock,p&&f){var h="activeOnRender",v=p.get&&p.get(h),_=f.get("activate")||v,A=f.get("select"),B=(0,V.isArray)(p)?p[0]:p;(A||_&&A!==!1)&&r.setSelected(B),_&&(B.trigger("active"),v&&B.unset(h)),f.get("resetId")&&B.onAll(function(nt){return nt.resetId()})}r.set({dragResult:null,dragContent:null}),f&&[r,l].map(function(nt){return nt.trigger(o.dragEnd,p,f)})},n.prototype.__getFrameViews=function(){return this.em.Canvas.getFrames().map(function(t){return t.view}).filter(Boolean)},n.prototype.__behaviour=function(t){return t===void 0&&(t={}),this._bhv=ni(ni({},this._bhv||{}),t)},n.prototype.__getBehaviour=function(){return this._bhv||{}},n.prototype.startDrag=function(t,e){this.__startDrag(t,e),this.__getFrameViews().forEach(function(r){var o;return(o=r.droppable)===null||o===void 0?void 0:o.startCustom()})},n.prototype.endDrag=function(t){this.__getFrameViews().forEach(function(e){var r;return(r=e.droppable)===null||r===void 0?void 0:r.endCustom(t)}),this.__endDrag()},n.prototype.postRender=function(){var t=this,e=t.categories,r=t.config,o=t.em,l=this.blocksVisible;this.blocksView=new yo({collection:l,categories:e},ni(ni({},r),{em:o})),this.__appendTo(l.models),this.__trgCustom()},n.prototype.add=function(t,e,r){r===void 0&&(r={});var o=e||{};return o.id=t,this.blocks.add(o,r)},n.prototype.get=function(t){return this.blocks.get(t)},n.prototype.getAll=function(){return this.blocks},n.prototype.getAllVisible=function(){return this.blocksVisible},n.prototype.remove=function(t,e){return e===void 0&&(e={}),this.__remove(t,e)},n.prototype.getCategories=function(){return this.categories},n.prototype.getContainer=function(){var t;return(t=this.blocksView)===null||t===void 0?void 0:t.el},n.prototype.getDragBlock=function(){return this._dragBlock},n.prototype.getBlocksByCategory=function(t){return Ro(t||this.getAll().models)},n.prototype.render=function(t,e){e===void 0&&(e={});var r=this,o=r.categories,l=r.config,f=r.em,p=t||this.getAll().models;if(e.external){var h=new nl(p,{em:f});return new yo({collection:h,categories:o},ni(ni({em:f},l),e)).render().el}return this.blocksView&&(this.blocksView.updateConfig(e),this.blocksView.collection.reset(p),this.blocksView.rendered||(this.blocksView.render(),this.blocksView.rendered=!0)),this.getContainer()},n.prototype.destroy=function(){var t,e=[this.blocks,this.blocksVisible,this.categories];e.map(function(r){return r.stopListening()}),e.map(function(r){return r.reset()}),(t=this.blocksView)===null||t===void 0||t.remove()},n}(D);const gu=ya;var mu={stylePrefix:"clm-",appendTo:"",selectors:[],states:[{name:"hover"},{name:"active"},{name:"nth-of-type(2n)"}],iconAdd:'<svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></svg>',iconSync:'<svg viewBox="0 0 24 24"><path d="M12 18c-3.31 0-6-2.69-6-6 0-1 .25-1.97.7-2.8L5.24 7.74A7.93 7.93 0 0 0 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4m0-11V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1-.25 1.97-.7 2.8l1.46 1.46A7.93 7.93 0 0 0 20 12c0-4.42-3.58-8-8-8z"></path></svg>',iconTagOn:'<svg viewBox="0 0 24 24"><path d="M19 19H5V5h10V3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8h-2m-11.09-.92L6.5 11.5 11 16 21 6l-1.41-1.42L11 13.17l-3.09-3.09z"></path></svg>',iconTagOff:'<svg viewBox="0 0 24 24"><path d="M19 3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2m0 2v14H5V5h14z"></path></svg>',iconTagRemove:'<svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',componentFirst:!1,custom:!1};const yu=mu;var ol=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Vi=function(a){ol(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.defaults=function(){return{name:"",label:""}},n.prototype.getName=function(){return this.get("name")},n.prototype.getLabel=function(){return this.get("label")||this.getName()},n}(m.Hn);const ss=Vi;Vi.prototype.idAttribute="name";var tc=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ec=function(a,n){return Object.defineProperty?Object.defineProperty(a,"raw",{value:n}):a.raw=n,a},bu="contentEditable",ls=function(a){tc(n,a);function n(t){t===void 0&&(t={});var e=a.call(this,t)||this,r=t.config||{};return e.config=r,e.module=t.module,e.coll=t.coll||null,e.pfx=r.stylePrefix||"",e.ppfx=r.pStylePrefix||"",e.em=r.em,e.listenTo(e.model,"change:active",e.updateStatus),e}return n.prototype.template=function(){var t=this,e=t.pfx,r=t.model,o=t.config,l=r.get("label")||"";return bt(_u||(_u=ec([`
      <span id="`,'checkbox" class="',`tag-status" data-tag-status></span>
      <span id="`,'tag-label" data-tag-name>',`</span>
      <span id="`,'close" class="','tag-close" data-tag-remove> $',` </span>
    `],[`
      <span id="`,'checkbox" class="',`tag-status" data-tag-status></span>
      <span id="`,'tag-label" data-tag-name>',`</span>
      <span id="`,'close" class="','tag-close" data-tag-remove> $',` </span>
    `])),e,e,e,l,e,e,o.iconTagRemove)},n.prototype.events=function(){return{"click [data-tag-remove]":"removeTag","click [data-tag-status]":"changeStatus","dblclick [data-tag-name]":"startEditTag","focusout [data-tag-name]":"endEditTag"}},n.prototype.getInputEl=function(){return this.inputEl||(this.inputEl=this.el.querySelector("[data-tag-name]")),this.inputEl},n.prototype.startEditTag=function(){var t=this.em,e=this.getInputEl();e[bu]="true",e.focus(),t==null||t.setEditing(!0)},n.prototype.endEditTag=function(){var t=this,e=t.model,r=t.em,o=this.getInputEl(),l=o.textContent||"",f=r==null?void 0:r.Selectors;o[bu]="false",r==null||r.setEditing(!1),f&&f.rename(e,l)!==e&&(o.innerText=e.getLabel())},n.prototype.changeStatus=function(){var t=this.model;t.set("active",!t.getActive())},n.prototype.removeTag=function(){this.module.removeSelected(this.model)},n.prototype.updateStatus=function(){var t=this,e=t.model,r=t.$el,o=t.config,l=o.iconTagOn,f=o.iconTagOff,p=r.find("[data-tag-status]");e.get("active")?(p.html(l),r.removeClass("opac50")):(p.html(f),r.addClass("opac50"))},n.prototype.render=function(){var t=this,e=t.pfx,r=t.ppfx,o=t.$el,l=t.model,f="".concat(e,"tag"),p=["".concat(f," ").concat(r,"three-bg")];return l.get("protected")&&p.push("".concat(f,"-protected")),o.html(this.template()),o.attr("class",p.join(" ")),this.updateStatus(),this},n}(m.G7);const wu=ls;var _u,xu=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),oi=function(a,n){return Object.defineProperty?Object.defineProperty(a,"raw",{value:n}):a.raw=n,a},rp=function(a){xu(n,a);function n(t){t===void 0&&(t={});var e=a.call(this,t)||this;e.config=t.config||{},e.pfx=e.config.stylePrefix||"",e.ppfx=e.config.pStylePrefix||"",e.className=e.pfx+"tags",e.stateInputId=e.pfx+"states",e.stateInputC=e.pfx+"input-c",e.states=e.config.states||[];var r=e.config.em,o=e.collection;e.target=r;var l=r.Selectors;e.module=l,e.em=r,e.componentChanged=(0,V.debounce)(e.componentChanged.bind(e),0),e.checkSync=(0,V.debounce)(e.checkSync.bind(e),0);var f=Ae.g.update,p="".concat(f,":classes"),h="component:toggled ".concat(p),v="".concat(p," ").concat(f,":attributes:id change:state");return e.listenTo(r,h,e.componentChanged),e.listenTo(r,"styleManager:update",e.componentChanged),e.listenTo(r,v,e.__handleStateChange),e.listenTo(r,"styleable:change change:device",e.checkSync),e.listenTo(o,"add",e.addNew),e.listenTo(o,"reset",e.renderClasses),e.listenTo(o,"remove",e.tagRemoved),e.listenTo(l.getAll(),l.events.state,(0,V.debounce)(function(){return e.renderStates()},0)),e.delegateEvents(),e}return n.prototype.template=function(t){var e=t.labelInfo,r=t.labelHead,o=t.iconSync,l=t.iconAdd,f=t.pfx,p=t.ppfx;return bt(ba||(ba=oi([' <div id="','up" class="',`header">
        <div id="`,'label" class="','header-label">',`</div>
        <div id="`,'status-c" class="',`header-status">
          <span id="`,`input-c" data-states-c>
            <div class="`,"field ",`select">
              <span id="`,`input-holder">
                <select id="`,`states" data-states></select>
              </span>
              <div class="`,`sel-arrow">
                <div class="`,`d-s-arrow"></div>
              </div>
            </div>
          </span>
        </div>
      </div>
      <div id="`,'tags-field" class="',`field">
        <div id="`,`tags-c" data-selectors></div>
        <input id="`,`new" data-input />
        <span id="`,'add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',` </span>
        <span class="`,"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',` </span>
      </div>
      <div class="`,`sels-info">
        <div class="`,'label-sel">',`:</div>
        <div class="`,`sels" data-selected></div>
      </div>`],[' <div id="','up" class="',`header">
        <div id="`,'label" class="','header-label">',`</div>
        <div id="`,'status-c" class="',`header-status">
          <span id="`,`input-c" data-states-c>
            <div class="`,"field ",`select">
              <span id="`,`input-holder">
                <select id="`,`states" data-states></select>
              </span>
              <div class="`,`sel-arrow">
                <div class="`,`d-s-arrow"></div>
              </div>
            </div>
          </span>
        </div>
      </div>
      <div id="`,'tags-field" class="',`field">
        <div id="`,`tags-c" data-selectors></div>
        <input id="`,`new" data-input />
        <span id="`,'add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',` </span>
        <span class="`,"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',` </span>
      </div>
      <div class="`,`sels-info">
        <div class="`,'label-sel">',`:</div>
        <div class="`,`sels" data-selected></div>
      </div>`])),f,f,f,f,r,f,f,f,p,p,p,f,p,p,f,p,f,f,f,f,f,l,f,f,o,f,f,e,f)},n.prototype.events=function(){return{"change [data-states]":"stateChanged","click [data-add]":"startNewTag","focusout [data-input]":"endNewTag","keyup [data-input]":"onInputKeyUp","click [data-sync-style]":"syncStyle"}},n.prototype.syncStyle=function(){var t=this.em,e=this.getTarget(),r=t.Css,o={noDisabled:1},l=this.getCommonSelectors({opts:o}),f=t.get("state"),p=t.getCurrentMedia(),h=[],v=r.get(l,f,p)||r.add(l,f,p),_;this.getTargets().forEach(function(A){var B=r.getIdRule(A.getId(),{state:f,mediaText:p});_=B.getStyle(),B.setStyle({}),h.push(B)}),_&&v.addStyle(_),t.trigger("component:toggled"),t.trigger("component:sync-style",{component:e,selectors:l,mediaText:p,rule:v,ruleComponents:h,state:f})},n.prototype.tagRemoved=function(t){this.updateStateVis()},n.prototype.addNew=function(t){this.addToClasses(t)},n.prototype.startNewTag=function(){var t,e;(t=this.$addBtn)===null||t===void 0||t.css({display:"none"}),(e=this.$input)===null||e===void 0||e.show().focus()},n.prototype.endNewTag=function(){var t,e;(t=this.$addBtn)===null||t===void 0||t.css({display:""}),(e=this.$input)===null||e===void 0||e.hide().val("")},n.prototype.onInputKeyUp=function(t){var e;t.keyCode===13?(t.preventDefault(),this.addNewTag((e=this.$input)===null||e===void 0?void 0:e.val())):t.keyCode===27&&this.endNewTag()},n.prototype.checkStates=function(){var t=this.em.getState(),e=this.getStates();e&&e.val(t)},n.prototype.componentChanged=function(t){var e=t===void 0?{}:t,r=e.targets;this.updateSelection(r)},n.prototype.updateSelection=function(t){var e=t||this.getTargets();e=(0,V.isArray)(e)?e:[e];var r=[];return e&&e.length&&(r=this.getCommonSelectors({targets:e}),this.checkSync({validSelectors:r})),this.collection.reset(r),this.updateStateVis(e),this.module.__trgCustom(),r},n.prototype.getCommonSelectors=function(t){var e=t===void 0?{}:t,r=e.targets,o=e.opts,l=o===void 0?{}:o,f=r||this.getTargets();return this.module.__getCommonSelectors(f,l)},n.prototype._commonSelectors=function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return(t=this.module).__common.apply(t,e)},n.prototype.checkSync=function(){var t=this,e=t.$btnSyncEl,r=t.config,o=t.collection,l=this.getTarget(),f;if(l&&r.componentFirst&&o.length){var p=l.getStyle();f=!(0,V.isEmpty)(p)}e&&e[f?"show":"hide"]()},n.prototype.getTarget=function(){return this.target.getSelected()},n.prototype.getTargets=function(){return this.target.getSelectedAll()},n.prototype.updateStateVis=function(t){var e=this.em,r=e&&e.getConfig().avoidInlineStyle,o=this.collection.length||r?"":"none";this.getStatesC().css("display",o),this.updateSelector(t)},n.prototype.__handleStateChange=function(){this.updateSelector(this.getTargets())},n.prototype.updateSelector=function(t){var e=this,r=this.el.querySelector("[data-selected]"),o=[],l=t||this.getTargets();l=(0,V.isArray)(l)?l:[l],l.forEach(function(f){return o.push(e.__getName(f))}),r&&(r.innerHTML=o.join(", ")),this.checkStates()},n.prototype.__getName=function(t){var e=this,r=e.pfx,o=e.config,l=e.em,f=o.selectedName,p=o.componentFirst,h;if((0,V.isString)(t))h=bt(rc||(rc=oi(['<span class="','sel-gen">',"</span>"],['<span class="','sel-gen">',"</span>"])),r,t);else{var v=t==null?void 0:t.getSelectors();if(!v)return"";var _=v.getStyleable(),A=l.get("state"),B=t.getId?bt(nc||(nc=oi(['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"],['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"])),r,t.getName(),r,t.getId()):"";h=this.collection.getFullString(_),h=h?bt(Cu||(Cu=oi(['<span class="','sel-rule">',"</span>"],['<span class="','sel-rule">',"</span>"])),r,h):t.get("selectorsAdd")||B,h=p&&B?B:h,h+=A?bt(il||(il=oi(['<span class="','sel-state">:',"</span>"],['<span class="','sel-state">:',"</span>"])),r,A):"",h=f?f({result:h,state:A,target:t}):h}return h&&'<span class="'.concat(r,'sel">').concat(h,"</span>")},n.prototype.stateChanged=function(t){var e=this.em,r=t.target.value;e.set("state",r)},n.prototype.addNewTag=function(t){var e=t.trim();e&&(this.module.addSelected({label:e}),this.endNewTag())},n.prototype.addToClasses=function(t,e){var r=e,o=this.getClasses(),l=new wu({model:t,config:this.config,coll:this.collection,module:this.module}).render().el;return r?r.appendChild(l):o.append(l),l},n.prototype.renderClasses=function(){var t=this,e=document.createDocumentFragment(),r=this.getClasses();r.empty(),this.collection.each(function(o){return t.addToClasses(o,e)}),r.append(e)},n.prototype.getClasses=function(){return this.$el.find("[data-selectors]")},n.prototype.getStates=function(){if(!this.$states){var t=this.$el.find("[data-states]");this.$states=t[0]&&t}return this.$states},n.prototype.getStatesC=function(){return this.$statesC||(this.$statesC=this.$el.find("#"+this.stateInputC)),this.$statesC},n.prototype.renderStates=function(){var t=this,e=t.module,r=t.em,o=r.t("selectorManager.emptyState"),l=e.getStates().map(function(p){var h=r.t("selectorManager.states.".concat(p.id))||p.getLabel()||p.id;return'<option value="'.concat(p.id,'">').concat(h,"</option>")}).join(""),f=this.getStates();f&&f.html('<option value="">'.concat(o,"</option>").concat(l)),this.checkStates()},n.prototype.render=function(){var t=this,e=t.em,r=t.pfx,o=t.ppfx,l=t.config,f=t.$el,p=t.el,h=l.render,v=l.iconSync,_=l.iconAdd,A={iconSync:v,iconAdd:_,labelHead:e.t("selectorManager.label"),labelInfo:e.t("selectorManager.selected"),ppfx:o,pfx:r,el:p};f.html(this.template(A));var B=h&&h(A);return B&&B!==p&&f.empty().append(B),this.$input=f.find("[data-input]"),this.$addBtn=f.find("[data-add]"),this.$classes=f.find("#"+r+"tags-c"),this.$btnSyncEl=f.find("[data-sync-style]"),this.$input.hide(),this.renderStates(),this.renderClasses(),f.attr("class","".concat(this.className," ").concat(o,"one-bg ").concat(o,"two-color")),this},n}(m.G7);const np=rp;var ba,rc,nc,Cu,il,Su=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),cs=function(){return cs=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},cs.apply(this,arguments)},al=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return a.concat(o||Array.prototype.slice.call(n))},oc=function(a){return(0,V.isString)(a)&&a[0]=="#"},Ou=function(a){return(0,V.isString)(a)&&a[0]=="."},sl="selector",ko="".concat(sl,":"),us="".concat(ko,"add"),op="".concat(ko,"update"),ic="".concat(ko,"remove"),ip="".concat(ic,":before"),ap="".concat(ko,"custom"),Tu="".concat(ko,"state"),sp={all:sl,update:op,add:us,remove:ic,removeBefore:ip,state:Tu,custom:ap},Pu=function(a){Su(n,a);function n(t){var e=a.call(this,t,"SelectorManager",new to([]),sp,yu,{skipListen:!0})||this;e.Selector=Dr,e.Selectors=to,e.storageKey="",(0,V.bindAll)(e,"__updateSelectedByComponents");var r=e.config,o=r.pStylePrefix;o&&(r.stylePrefix=o+r.stylePrefix),e.all=new to(r.selectors),e.selected=new to([],{em:t,config:r}),e.states=new m.FE(r.states.map(function(p){return new ss(p)}),{model:ss}),e.model=new m.Hn({cFirst:r.componentFirst,_undo:!0}),e.__update=(0,V.debounce)(function(){return e.__trgCustom()},0),e.__initListen({collections:[e.states,e.selected],propagate:[{entity:e.states,event:e.events.state}]}),t.on("change:state",function(p,h){return t.trigger(Tu,h)}),e.model.on("change:cFirst",function(p,h){return t.trigger("selector:type",h)});var l="".concat(Ae.g.update,":classes");t.on("component:toggled ".concat(l),e.__updateSelectedByComponents);var f="component:toggled ".concat(l," change:device styleManager:update selector:state selector:type style:target");return e.model.listenTo(t,f,function(){return e.__update()}),e}return n.prototype.__trgCustom=function(t){this.em.trigger(this.events.custom,this.__customData(t))},n.prototype.getAll=function(t){return t===void 0&&(t={}),this.all?t.array?al([],this.all.models,!0):this.all:[]},n.prototype.__customData=function(t){return t===void 0&&(t={}),this.__ctn=this.__ctn||t.container,{states:this.getStates(),selected:this.getSelected(),container:this.__ctn}},n.prototype.postRender=function(){this.__appendTo(),this.__trgCustom()},n.prototype.select=function(t,e){e===void 0&&(e={});var r=Array.isArray(t)?t:[t],o=this.em.Styles.select(r,e);this.selected.reset(this.__getCommonSelectors(o));var l=this.selectorTags,f=o.filter(function(p){return p}).map(function(p){return(0,vt.isComponent)(p)||(0,vt.isRule)(p)&&!p.get("selectorsAdd")?p:p.getSelectorsString()});return l&&l.componentChanged({targets:f}),this},n.prototype.addSelector=function(t,e,r){e===void 0&&(e={}),r===void 0&&(r={});var o=cs({},e);(0,V.isObject)(t)?o=t:o.name=t,oc(o.name)?(o.name=o.name.substr(1),o.type=Dr.TYPE_ID):Ou(o.name)&&(o.name=o.name.substr(1)),o.label&&!o.name&&(o.name=this.escapeName(o.label));var l=o.name,f=this.getConfig(),p=this,h=p.all,v=p.em,_=l?this.get(l,o.type):h.where(o)[0];if(!_){var A=o instanceof Dr?o:new Dr(o,cs(cs({},r),{config:f,em:v}));return h.add(A,r)}return _},n.prototype.getSelector=function(t,e){return e===void 0&&(e=Dr.TYPE_CLASS),oc(t)?(t=t.substr(1),e=Dr.TYPE_ID):Ou(t)&&(t=t.substr(1)),this.all.where({name:t,type:e})[0]},n.prototype.add=function(t,e){var r=this;e===void 0&&(e={});var o=(0,V.isString)(t)?{}:e;return(0,V.isArray)(t)?t.map(function(l){return r.addSelector(l,e,o)}):this.addSelector(t,e,o)},n.prototype.addClass=function(t){var e=this,r=[];return(0,V.isString)(t)&&(t=t.trim().split(" ")),t.forEach(function(o){return r.push(e.addSelector(o))}),r},n.prototype.get=function(t,e){var r=this;if((0,V.isArray)(t)){var o=[],l=t.map(function(f){return r.getSelector(f)}).filter(Boolean);return l.forEach(function(f){return o.indexOf(f)<0&&o.push(f)}),o}else return this.getSelector(t,e)},n.prototype.remove=function(t,e){return this.__remove(t,e)},n.prototype.rename=function(t,e,r){var o=this.escapeName(e),l=this.get(o);return l||t.set({name:o,label:e},r)},n.prototype.setState=function(t){return this.em.setState(t),this},n.prototype.getState=function(){return this.em.getState()},n.prototype.getStates=function(){return al([],this.states.models,!0)},n.prototype.setStates=function(t,e){return this.states.reset(t.map(function(r){return new ss(r)}),e)},n.prototype.getSelected=function(){return this.__getCommon()},n.prototype.getSelectedAll=function(){return al([],this.selected.models,!0)},n.prototype.addSelected=function(t){var e=this.add(t);this.em.getSelectedAll().forEach(function(r){r.getSelectors().add(e)})},n.prototype.removeSelected=function(t){this.em.getSelectedAll().forEach(function(e){!t.get("protected")&&e&&e.getSelectors().remove(t)})},n.prototype.duplicateSelected=function(t,e){var r=this;e===void 0&&(e={});var o=this.em,l=this.getSelected();if(!(l.indexOf(t)<0)){var f=this.getState(),p=o.getCurrentMedia(),h=o.Css.get(l,f,p),v=h==null?void 0:h.getStyle();if(o.getSelectedAll().forEach(function(A){var B=A.getSelectors();if(B.includes(t)){var nt=e.suffix||" copy",ft=t.getLabel(),pt=r.addSelector("".concat(ft).concat(nt)),Pt=B.indexOf(t);B.remove(t),B.add(pt,{at:Pt})}}),v){var _=o.Css.add(this.getSelected(),f,p);_.setStyle(v)}}},n.prototype.getSelectedTargets=function(){return this.em.Styles.getSelectedAll()},n.prototype.setComponentFirst=function(t){this.getConfig().componentFirst=t,this.model.set({cFirst:t})},n.prototype.getComponentFirst=function(){return this.getConfig().componentFirst},n.prototype.escapeName=function(t){var e=this.getConfig().escapeName;return e?e(t):Dr.escapeName(t)},n.prototype.render=function(t){var e=this.selectorTags,r=this.getConfig(),o=e==null?void 0:e.el;return this.selected.reset(t),this.selectorTags=new np({el:o,collection:this.selected,module:this,config:r}),this.selectorTags.render().el},n.prototype.destroy=function(){var t=this,e=t.selectorTags,r=t.model;r.stopListening(),this.__update.cancel(),this.__destroy(),e==null||e.remove(),this.selectorTags=void 0},n.prototype.__getCommon=function(){return this.__getCommonSelectors(this.em.getSelectedAll())},n.prototype.__getCommonSelectors=function(t,e){e===void 0&&(e={});var r=t.map(function(o){return o.getSelectors&&o.getSelectors().getValid(e)}).filter(Boolean);return this.__common.apply(this,r)},n.prototype.__common=function(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length?e.length===1?e[0]:e.length===2?e[0].filter(function(o){return e[1].indexOf(o)>=0}):e.slice(1).reduce(function(o,l){return t.__common(o,l)},e[0]):[]},n.prototype.__updateSelectedByComponents=function(){this.selected.reset(this.__getCommon())},n}(D);const lp=Pu;var cp={textTags:["br","b","i","u","a","ul","ol"],textTypes:["text","textnode","comment"],parserCss:void 0,parserHtml:void 0,optionsHtml:{htmlType:"text/html",allowScripts:!1,allowUnsafeAttr:!1,allowUnsafeAttrValue:!1,keepEmptyTextNodes:!1}};const Eu=cp;var Fn,Dn={STYLE_RULE:1,CHARSET_RULE:2,IMPORT_RULE:3,MEDIA_RULE:4,FONT_FACE_RULE:5,PAGE_RULE:6,KEYFRAMES_RULE:7,KEYFRAME_RULE:8,NAMESPACE_RULE:10,COUNTER_STYLE_RULE:11,SUPPORTS_RULE:12,DOCUMENT_RULE:13,FONT_FEATURE_VALUES_RULE:14,VIEWPORT_RULE:15,REGION_STYLE_RULE:16},wa=(Fn={},Fn[Dn.MEDIA_RULE]="media",Fn[Dn.FONT_FACE_RULE]="font-face",Fn[Dn.PAGE_RULE]="page",Fn[Dn.KEYFRAMES_RULE]="keyframes",Fn[Dn.COUNTER_STYLE_RULE]="counter-style",Fn[Dn.SUPPORTS_RULE]="supports",Fn[Dn.DOCUMENT_RULE]="document",Fn[Dn.FONT_FEATURE_VALUES_RULE]="font-feature-values",Fn[Dn.VIEWPORT_RULE]="viewport",Fn),ac=(0,V.keys)(wa),ii=[Dn.FONT_FACE_RULE,Dn.PAGE_RULE,Dn.COUNTER_STYLE_RULE,Dn.VIEWPORT_RULE],ku=ac.filter(function(a){return ii.indexOf(Number(a))<0}).map(function(a){return wa[a]}).concat(["container","layer"]),ll=ii.map(function(a){return wa[a]}),Au=function(a){a===void 0&&(a="");for(var n=[],t=[],e=a.split(","),r=0,o=e.length;r<o;r++){var l=e[r].trim();if(/^(\.{1}[\w\-]+)+(:{1,2}[\w\-()]+)?$/gi.test(l)||/^(#{1}[\w\-]+){1}(:{1,2}[\w\-()]+)?$/gi.test(l)){var f=l.split(".").filter(Boolean);t.push(f)}else n.push(l)}return{result:t,add:n}},up=function(a){for(var n=a.style,t={},e=0,r=n.length;e<r;e++){var o=n[e],l=n.getPropertyValue(o),f=n.getPropertyPriority(o);t[o]="".concat(l).concat(f?" !".concat(f):"")}return t},Mu=function(a){var n=a.conditionText||a.media&&a.media.mediaText||a.name||a.selectorText||"";return n.trim()},br=function(a,n,t){n===void 0&&(n={}),t===void 0&&(t={});var e={},r=a.length,o=a[r-1],l=o?o.split(/:(.+)/):[],f=l[1],p=t.atRule,h=t.selectorsAdd,v=t.mediaText,_=ll.indexOf(p)>=0;return _&&(e.singleAtRule=!0),p&&(e.atRuleType=p),h&&(e.selectorsAdd=h),v&&(e.mediaText=v),f&&(a[r-1]=l[0],e.state=f,l.splice(l.length-1,1)),e.selectors=a,e.style=n,e},Lu=function(a){var n=a.cssText,t=n===void 0?"":n;return ku.find(function(e){return t.indexOf("@".concat(e))===0})},cl=function(a){for(var n=[],t=a.cssRules||[],e=0,r=t.length;e<r;e++){var o=t[e],l=o.type,f=!1,p="",h="",v=o.selectorText||o.keyText||"",_=ii.indexOf(l)>=0;if(_)f=!0,p=wa[l],h=Mu(o);else if(ac.indexOf("".concat(l))>=0||!l&&Lu(o)){var A=cl(o),B=wa[l]||Lu(o);h=Mu(o);for(var nt=0,ft=A.length;nt<ft;nt++){var pt=A[nt];h&&(pt.mediaText=h),pt.atRuleType=B}n=n.concat(A)}if(!(!v&&!_)){for(var Pt=up(o),Ft=Au(v),Bt=Ft.add,te=Ft.result,de=void 0,Oe=0,Me=te.length;Oe<Me;Oe++){var ae=br(te[Oe],Pt,{atRule:wa[l]});n.push(ae),de=ae}if(Bt.length){var ke=Bt.join(", ");if(de)de.selectorsAdd=ke;else{var ae={selectors:[],selectorsAdd:ke,style:Pt};f&&(ae.singleAtRule=f),p&&(ae.atRuleType=p),h&&(ae.mediaText=h),n.push(ae)}}}}return n};const fs=function(a){var n=document.createElement("style");n.innerHTML=a,document.head.appendChild(n);var t=n.sheet;return document.head.removeChild(n),t?cl(t):[]};var co=function(a,n){return n===void 0&&(n={}),{parse:function(t){var e=this,r=[],o=n.parserCss,l=a==null?void 0:a.Editor,f=o?o(t,l):fs(t);return f.forEach(function(p){return r=r.concat(e.checkNode(p))}),a==null||a.trigger("parse:css",{input:t,output:r,nodes:f}),r},checkNode:function(t){var e=t.selectors,r=t.style,o=[t];if((0,V.isString)(e)){var l=[],f=t,p=Au(e),h=p.result,v=p.add.join(", "),_={atRule:f.atRule,mediaText:f.params};if(h.length?h.forEach(function(B){l.push(br(B,r,_))}):l.push(br([],r,_)),v){var A=l[l.length-1];A.selectorsAdd=v}o=l}return o}}};const ul=co;var sc=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ju=function(a){sc(n,a);function n(t){var e=a.call(this,t,"Parser",Eu)||this,r=e.config;return e.parserCss=ul(t,r),e.parserHtml=jo(t,r),e}return n.prototype.parseHtml=function(t,e){e===void 0&&(e={});var r=this,o=r.em,l=r.parserHtml;return l.compTypes=o.Components.getTypes()||[],l.parse(t,this.parserCss,e)},n.prototype.parseCss=function(t){return this.parserCss.parse(t)},n.prototype.destroy=function(){},n}(R);const Du=ju;var Iu={id:"gjs-",type:"local",autosave:!0,autoload:!0,stepsBeforeSave:1,recovery:!1,onStore:function(a){return a},onLoad:function(a){return a},options:{local:{key:"gjsProject",checkLocal:!0},remote:{headers:{},urlStore:"",urlLoad:"",contentTypeJson:!0,fetchOptions:"",credentials:"include",onStore:function(a){return a},onLoad:function(a){return a}}}};const lc=Iu;var cc=function(a,n,t,e){function r(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function f(v){try{h(e.next(v))}catch(_){l(_)}}function p(v){try{h(e.throw(v))}catch(_){l(_)}}function h(v){v.done?o(v.value):r(v.value).then(f,p)}h((e=e.apply(a,n||[])).next())})},Vu=function(a,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,r,o,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(h){return function(v){return p([h,v])}}function p(h){if(e)throw new TypeError("Generator is already executing.");for(;l&&(l=0,h[0]&&(t=0)),t;)try{if(e=1,r&&(o=h[0]&2?r.return:h[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,h[1])).done)return o;switch(r=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,r=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){t.label=h[1];break}if(h[0]===6&&t.label<o[1]){t.label=o[1],o=h;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(h);break}o[2]&&t.ops.pop(),t.trys.pop();continue}h=n.call(a,t)}catch(v){h=[6,v],r=0}finally{e=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},uc=function(){function a(){}return a.prototype.store=function(n,t){return t===void 0&&(t={}),cc(this,void 0,void 0,function(){return Vu(this,function(e){return this.hasLocal(t,!0)&&localStorage.setItem(t.key,JSON.stringify(n)),[2,n]})})},a.prototype.load=function(n){return n===void 0&&(n={}),cc(this,void 0,void 0,function(){var t;return Vu(this,function(e){return t={},this.hasLocal(n,!0)&&(t=JSON.parse(localStorage.getItem(n.key)||"{}")),[2,t]})})},a.prototype.hasLocal=function(n,t){if(n===void 0&&(n={}),n.checkLocal&&(!(0,vt.hasWin)()||!localStorage)){if(t)throw new Error("localStorage not available");return!1}return!0},a}();const Ru=uc;function nr(a){"@babel/helpers - typeof";return nr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},nr(a)}function Nu(a){var n=this.constructor;return this.then(function(t){return n.resolve(a()).then(function(){return t})},function(t){return n.resolve(a()).then(function(){return n.reject(t)})})}const fp=Nu;function _a(a){var n=this;return new n(function(t,e){if(!(a&&typeof a.length<"u"))return e(new TypeError(nr(a)+" "+a+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(a);if(r.length===0)return t([]);var o=r.length;function l(p,h){if(h&&(nr(h)==="object"||typeof h=="function")){var v=h.then;if(typeof v=="function"){v.call(h,function(_){l(p,_)},function(_){r[p]={status:"rejected",reason:_},--o===0&&t(r)});return}}r[p]={status:"fulfilled",value:h},--o===0&&t(r)}for(var f=0;f<r.length;f++)l(f,r[f])})}const pp=_a;function ps(a,n){this.name="AggregateError",this.errors=a,this.message=n||""}ps.prototype=Error.prototype;function dp(a){var n=this;return new n(function(t,e){if(!(a&&typeof a.length<"u"))return e(new TypeError("Promise.any accepts an array"));var r=Array.prototype.slice.call(a);if(r.length===0)return e();for(var o=[],l=0;l<r.length;l++)try{n.resolve(r[l]).then(t).catch(function(f){o.push(f),o.length===r.length&&e(new ps(o,"All promises were rejected"))})}catch(f){e(f)}})}const Vr=dp;var hp=setTimeout;function Fu(a){return!!(a&&typeof a.length<"u")}function vp(){}function fl(a,n){return function(){a.apply(n,arguments)}}function i(a){if(!(this instanceof i))throw new TypeError("Promises must be constructed via new");if(typeof a!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],b(a,this)}function s(a,n){for(;a._state===3;)a=a._value;if(a._state===0){a._deferreds.push(n);return}a._handled=!0,i._immediateFn(function(){var t=a._state===1?n.onFulfilled:n.onRejected;if(t===null){(a._state===1?u:c)(n.promise,a._value);return}var e;try{e=t(a._value)}catch(r){c(n.promise,r);return}u(n.promise,e)})}function u(a,n){try{if(n===a)throw new TypeError("A promise cannot be resolved with itself.");if(n&&(nr(n)==="object"||typeof n=="function")){var t=n.then;if(n instanceof i){a._state=3,a._value=n,d(a);return}else if(typeof t=="function"){b(fl(t,n),a);return}}a._state=1,a._value=n,d(a)}catch(e){c(a,e)}}function c(a,n){a._state=2,a._value=n,d(a)}function d(a){a._state===2&&a._deferreds.length===0&&i._immediateFn(function(){a._handled||i._unhandledRejectionFn(a._value)});for(var n=0,t=a._deferreds.length;n<t;n++)s(a,a._deferreds[n]);a._deferreds=null}function g(a,n,t){this.onFulfilled=typeof a=="function"?a:null,this.onRejected=typeof n=="function"?n:null,this.promise=t}function b(a,n){var t=!1;try{a(function(e){t||(t=!0,u(n,e))},function(e){t||(t=!0,c(n,e))})}catch(e){if(t)return;t=!0,c(n,e)}}i.prototype.catch=function(a){return this.then(null,a)},i.prototype.then=function(a,n){var t=new this.constructor(vp);return s(this,new g(a,n,t)),t},i.prototype.finally=fp,i.all=function(a){return new i(function(n,t){if(!Fu(a))return t(new TypeError("Promise.all accepts an array"));var e=Array.prototype.slice.call(a);if(e.length===0)return n([]);var r=e.length;function o(f,p){try{if(p&&(nr(p)==="object"||typeof p=="function")){var h=p.then;if(typeof h=="function"){h.call(p,function(v){o(f,v)},t);return}}e[f]=p,--r===0&&n(e)}catch(v){t(v)}}for(var l=0;l<e.length;l++)o(l,e[l])})},i.any=Vr,i.allSettled=pp,i.resolve=function(a){return a&&nr(a)==="object"&&a.constructor===i?a:new i(function(n){n(a)})},i.reject=function(a){return new i(function(n,t){t(a)})},i.race=function(a){return new i(function(n,t){if(!Fu(a))return t(new TypeError("Promise.race accepts an array"));for(var e=0,r=a.length;e<r;e++)i.resolve(a[e]).then(n,t)})},i._immediateFn=typeof setImmediate=="function"&&function(a){setImmediate(a)}||function(a){hp(a,0)},i._unhandledRejectionFn=function(n){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",n)};const S=i;(0,vt.hasWin)()&&(window.Promise=window.Promise||S);const j=typeof fetch=="function"?fetch.bind():function(a,n){return new S(function(t,e){var r=new XMLHttpRequest;r.open(n.method||"get",a),r.withCredentials=n.credentials=="include";for(var o in n.headers||{})r.setRequestHeader(o,n.headers[o]);r.onload=function(l){return t({status:r.status,statusText:r.statusText,text:function(){return S.resolve(r.responseText)}})},r.onerror=e,r.upload&&n.onProgress&&(r.upload.onprogress=n.onProgress),n.body?r.send(n.body):r.send()})};var W=function(){return W=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},W.apply(this,arguments)},dt=function(a,n,t,e){function r(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function f(v){try{h(e.next(v))}catch(_){l(_)}}function p(v){try{h(e.throw(v))}catch(_){l(_)}}function h(v){v.done?o(v.value):r(v.value).then(f,p)}h((e=e.apply(a,n||[])).next())})},xt=function(a,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,r,o,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(h){return function(v){return p([h,v])}}function p(h){if(e)throw new TypeError("Generator is already executing.");for(;l&&(l=0,h[0]&&(t=0)),t;)try{if(e=1,r&&(o=h[0]&2?r.return:h[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,h[1])).done)return o;switch(r=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,r=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){t.label=h[1];break}if(h[0]===6&&t.label<o[1]){t.label=o[1],o=h;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(h);break}o[2]&&t.ops.pop(),t.trys.pop();continue}h=n.call(a,t)}catch(v){h=[6,v],r=0}finally{e=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},jt=function(){function a(){}return a.prototype.store=function(n,t){return t===void 0&&(t={}),dt(this,void 0,void 0,function(){return xt(this,function(e){switch(e.label){case 0:return[4,this.request(t.urlStore,this.__props(t,n),t)];case 1:return[2,e.sent()]}})})},a.prototype.load=function(n){return n===void 0&&(n={}),dt(this,void 0,void 0,function(){return xt(this,function(t){switch(t.label){case 0:return[4,this.request(n.urlLoad,this.__props(n),n)];case 1:return[2,t.sent()]}})})},a.prototype.request=function(n,t,e){return t===void 0&&(t={}),e===void 0&&(e={}),j(n,t).then(function(r){var o=r.text(),l=(r.status/200|0)===1;return l?o:o.then(Promise.reject)}).then(function(r){var o=r&&(0,V.isString)(r);return e.contentTypeJson&&o?JSON.parse(r):r})},a.prototype.__props=function(n,t){n===void 0&&(n={});var e=n.contentTypeJson,r=n.headers||{},o=n.fetchOptions||{},l="X-Requested-With",f="Content-Type",p;if((0,V.isUndefined)(r[l])&&(r[l]="XMLHttpRequest"),(0,V.isUndefined)(r[f])&&e&&(r[f]="application/json; charset=utf-8"),t)if(e)p=JSON.stringify(t);else{p=new FormData;for(var h in t)p.append(h,t[h])}var v={method:p?"POST":"GET",credentials:n.credentials,headers:r,body:p};return W(W({},v),(0,V.isFunction)(o)?o(v):o)},a}();const kt=jt;var Gt;(function(a){a.start="storage:start",a.startStore="storage:start:store",a.startLoad="storage:start:load",a.load="storage:load",a.store="storage:store",a.after="storage:after",a.afterStore="storage:after:store",a.afterLoad="storage:after:load",a.end="storage:end",a.endStore="storage:end:store",a.endLoad="storage:end:load",a.error="storage:error",a.errorStore="storage:error:store",a.errorLoad="storage:error:load"})(Gt||(Gt={}));const qt=Gt;var ie=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),le=function(){return le=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},le.apply(this,arguments)},ge=function(a,n,t,e){function r(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function f(v){try{h(e.next(v))}catch(_){l(_)}}function p(v){try{h(e.throw(v))}catch(_){l(_)}}function h(v){v.done?o(v.value):r(v.value).then(f,p)}h((e=e.apply(a,n||[])).next())})},ce=function(a,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,r,o,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(h){return function(v){return p([h,v])}}function p(h){if(e)throw new TypeError("Generator is already executing.");for(;l&&(l=0,h[0]&&(t=0)),t;)try{if(e=1,r&&(o=h[0]&2?r.return:h[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,h[1])).done)return o;switch(r=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,r=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){t.label=h[1];break}if(h[0]===6&&t.label<o[1]){t.label=o[1],o=h;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(h);break}o[2]&&t.ops.pop(),t.trys.pop();continue}h=n.call(a,t)}catch(v){h=[6,v],r=0}finally{e=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},ye="local",Ee="remote",Te=function(a){ie(n,a);function n(t){var e=a.call(this,t,"StorageManager",lc)||this;e.storages={},e.events=qt;var r=e.config;return r._disable&&(r.type=void 0),e.storages={},e.add(ye,new Ru),e.add(Ee,new kt),e.setCurrent(r.type),e}return n.prototype.isAutosave=function(){return!!this.config.autosave},n.prototype.setAutosave=function(t){return this.config.autosave=!!t,this},n.prototype.getStepsBeforeSave=function(){return this.config.stepsBeforeSave},n.prototype.setStepsBeforeSave=function(t){return this.config.stepsBeforeSave=t,this},n.prototype.add=function(t,e){return this.storages[t]=e,this},n.prototype.get=function(t){return this.storages[t]},n.prototype.getStorages=function(){return this.storages},n.prototype.getCurrent=function(){return this.config.currentStorage},n.prototype.setCurrent=function(t){return this.getConfig().currentStorage=t,this},n.prototype.getCurrentStorage=function(){return this.get(this.getCurrent())},n.prototype.getStorageOptions=function(t){return this.getCurrentOptions(t)},n.prototype.store=function(t,e){return e===void 0&&(e={}),ge(this,void 0,void 0,function(){var r,o,l,f,p,h;return ce(this,function(v){switch(v.label){case 0:r=this.getCurrentStorage(),o=le(le({},this.getCurrentOptions()),e),l=this.getRecoveryStorage(),f=this.getCurrentOptions(ye),v.label=1;case 1:return v.trys.push([1,5,,9]),[4,this.__exec(r,o,t)];case 2:return v.sent(),p=l,p?[4,this.__exec(l,f,{})]:[3,4];case 3:p=v.sent(),v.label=4;case 4:return[3,9];case 5:return h=v.sent(),l?[4,this.__exec(l,f,t)]:[3,7];case 6:return v.sent(),[3,8];case 7:throw h;case 8:return[3,9];case 9:return[2,t]}})})},n.prototype.load=function(t){return t===void 0&&(t={}),ge(this,void 0,void 0,function(){var e,r,o,l,f;return ce(this,function(p){switch(p.label){case 0:return e=this.getCurrentStorage(),r=le(le({},this.getCurrentOptions()),t),o=this.getRecoveryStorage(),o?[4,this.__exec(o,this.getCurrentOptions(ye))]:[3,5];case 1:if(f=p.sent(),(0,V.isEmpty)(f))return[3,5];p.label=2;case 2:return p.trys.push([2,4,,5]),[4,this.__askRecovery()];case 3:return p.sent(),l=f,[3,5];case 4:return p.sent(),[3,5];case 5:return l?[3,7]:[4,this.__exec(e,r)];case 6:l=p.sent(),p.label=7;case 7:return[2,l||{}]}})})},n.prototype.__askRecovery=function(){var t=this.em,e=this.getRecovery();return new Promise(function(r,o){(0,V.isFunction)(e)?e(r,o,t==null?void 0:t.getEditor()):confirm(t==null?void 0:t.t("storageManager.recover"))?r(null):o()})},n.prototype.getRecovery=function(){return this.config.recovery},n.prototype.getRecoveryStorage=function(){var t=this.getRecovery();return t&&this.getCurrent()===Ee&&this.get(ye)},n.prototype.__exec=function(t,e,r){var o;return ge(this,void 0,void 0,function(){var l,f,p,h,v,_,A,B,nt,ft,pt,Pt,Ft;return ce(this,function(Bt){switch(Bt.label){case 0:if(l=r?"store":"load",f=this.getConfig(),p=f.onStore,h=f.onLoad,this.onStart(l,r),!t)return[2,r||{}];Bt.label=1;case 1:return Bt.trys.push([1,14,,15]),_=(o=this.em)===null||o===void 0?void 0:o.getEditor(),A=void 0,r?(nt=p,nt?[4,p(r,_)]:[3,3]):[3,7];case 2:nt=Bt.sent(),Bt.label=3;case 3:return B=nt||r,ft=e.onStore,ft?[4,e.onStore(B,_)]:[3,5];case 4:ft=Bt.sent(),Bt.label=5;case 5:return B=ft||B,[4,t.store(B,e)];case 6:return A=Bt.sent(),v=r,[3,13];case 7:return[4,t.load(e)];case 8:return A=Bt.sent(),v=this.__clearKeys(A),pt=e.onLoad,pt?[4,e.onLoad(v,_)]:[3,10];case 9:pt=Bt.sent(),Bt.label=10;case 10:return v=pt||v,Pt=h,Pt?[4,h(v,_)]:[3,12];case 11:Pt=Bt.sent(),Bt.label=12;case 12:v=Pt||v,Bt.label=13;case 13:return this.onAfter(l,v,A),this.onEnd(l,v,A),[3,15];case 14:throw Ft=Bt.sent(),this.onError(l,Ft),Ft;case 15:return[2,v]}})})},n.prototype.__clearKeys=function(t){t===void 0&&(t={});var e=this.getConfig(),r=new RegExp("^".concat(e.id)),o={};for(var l in t){var f=l.replace(r,"");o[f]=t[l]}return o},n.prototype.getCurrentOptions=function(t){var e=this.getConfig(),r=t||this.getCurrent();return e.options[r]||{}},n.prototype.onStart=function(t,e){var r=this.em;if(r){var o=t==="load"?qt.startLoad:qt.startStore;r.trigger(qt.start,t,e),r.trigger(o,e)}},n.prototype.onAfter=function(t,e,r){var o=this.em;if(o){var l=t==="load"?qt.afterLoad:qt.afterStore;o.trigger(qt.after),o.trigger(l,e,r);var f=t==="load"?qt.load:qt.store;o.trigger(f,e,r)}},n.prototype.onEnd=function(t,e,r){var o=this.em;if(o){var l=t==="load"?qt.endLoad:qt.endStore;o.trigger(qt.end,t,e,r),o.trigger(l,e,r)}},n.prototype.onError=function(t,e){var r=this.em;if(r){var o=t==="load"?qt.errorLoad:qt.errorStore;r.trigger(qt.error,e,t),r.trigger(o,e),this.onEnd(t,e)}},n.prototype.canAutoload=function(){var t=this.getCurrentStorage();return!!t&&!!this.config.autoload},n.prototype.destroy=function(){this.storages={}},n}(R);const Ke=Te;var mr={stylePrefix:"trt-",appendTo:"",optionsTarget:[{value:!1},{value:"_blank"}],custom:!1};const Zr=mr;var Or=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),nn=function(){return nn=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},nn.apply(this,arguments)},wn=function(a){Or(n,a);function n(t){t===void 0&&(t={});var e=a.call(this,t)||this;e.events={},e.appendInput=!0;var r=t.config,o=r===void 0?{}:r,l=e,f=l.model,p=l.eventCapture,h=f.target,v=f.attributes.type;e.config=o,e.em=o.em,e.pfx=o.stylePrefix||"",e.ppfx=o.pStylePrefix||"",e.target=h,e.className=e.pfx+"trait",e.clsField="".concat(e.ppfx,"field ").concat(e.ppfx,"field-").concat(v);var _=[["change:value",e.onValueChange],["remove",e.removeView]];return _.forEach(function(A){var B=A[0],nt=A[1];f.off(B,nt),e.listenTo(f,B,nt)}),f.view=e,e.listenTo(f,"change:label",e.render),e.listenTo(f,"change:placeholder",e.rerender),e.events={},p.forEach(function(A){return e.events[A]="onChange"}),e.delegateEvents(),e.init(),e}return n.prototype.attributes=function(){return this.model.get("attributes")||{}},n.prototype.templateLabel=function(t){var e=this.ppfx,r=this.getLabel();return'<div class="'.concat(e,'label" title="').concat(r,'">').concat(r,"</div>")},n.prototype.templateInput=function(t){var e=this.clsField;return'<div class="'.concat(e,'" data-input></div>')},n.prototype.getClbOpts=function(){return{component:this.target,trait:this.model,elInput:this.getInputElem()}},n.prototype.removeView=function(){this.remove(),this.removed()},n.prototype.init=function(){},n.prototype.removed=function(){},n.prototype.onRender=function(t){},n.prototype.onUpdate=function(t){},n.prototype.onEvent=function(t){},n.prototype.onChange=function(t){var e=this.getInputElem();e&&!(0,V.isUndefined)(e.value)&&this.model.set("value",e.value),this.onEvent(nn(nn({},this.getClbOpts()),{event:t}))},n.prototype.getValueForTarget=function(){return this.model.get("value")},n.prototype.setInputValue=function(t){var e=this.getInputElem();e&&(e.value=t)},n.prototype.onValueChange=function(t,e,r){if(r===void 0&&(r={}),r.fromTarget)this.setInputValue(t.get("value")),this.postUpdate();else{var o=this.getValueForTarget();t.setTargetValue(o,r)}},n.prototype.renderLabel=function(){var t=this,e=t.$el,r=t.target,o=this.getLabel(),l=this.templateLabel(r);this.createLabel&&(l=this.createLabel({label:o,component:r,trait:this})||""),e.find("[data-label]").append(l)},n.prototype.getLabel=function(){var t=this.em,e=this.model.attributes,r=e.label,o=e.name;return t.t("traitManager.traits.labels.".concat(o))||(0,vt.capitalize)(r||o).replace(/-/g," ")},n.prototype.getComponent=function(){return this.target},n.prototype.getInputEl=function(){if(!this.$input){var t=this,e=t.em,r=t.model,o=r,l=r.attributes.name,f=o.get("placeholder")||o.get("default")||"",p=o.get("type")||"text",h=o.get("min"),v=o.get("max"),_=this.getModelValue(),A=(0,x.default)('<input type="'.concat(p,'">')),B=e.t("traitManager.traits.attributes.".concat(l))||{};A.attr(nn({placeholder:f},B)),(0,V.isUndefined)(_)||(o.set({value:_},{silent:!0}),A.prop("value",_)),h&&A.prop("min",h),v&&A.prop("max",v),this.$input=A}return this.$input.get(0)},n.prototype.getInputElem=function(){var t=this,e=t.input,r=t.$input;return e||r&&r.get&&r.get(0)||this.getElInput()},n.prototype.getModelValue=function(){return this.model.getValue()},n.prototype.getElInput=function(){return this.elInput},n.prototype.renderField=function(){var t=this,e=t.$el,r=t.appendInput,o=t.model,l=e.find("[data-input]"),f=l[l.length-1],p=o.el;p||(p=this.createInput?this.createInput(this.getClbOpts()):this.getInputEl()),(0,V.isString)(p)?(f.innerHTML=p,this.elInput=f.firstChild):(r?f.appendChild(p):f.insertBefore(p,f.firstChild),this.elInput=p),o.el=this.elInput},n.prototype.hasLabel=function(){var t=this.model.attributes.label;return!this.noLabel&&t!==!1},n.prototype.rerender=function(){delete this.model.el,this.render()},n.prototype.postUpdate=function(){this.onUpdate(this.getClbOpts())},n.prototype.render=function(){var t=this,e=t.$el,r=t.pfx,o=t.ppfx,l=t.model,f=l.attributes,p=f.type,h=f.id,v=this.hasLabel&&this.hasLabel(),_="".concat(r,"trait");delete this.$input;var A='<div class="'.concat(_," ").concat(_,"--").concat(p,`">
      `).concat(v?'<div class="'.concat(o,'label-wrp" data-label></div>'):"",`
      <div class="`).concat(o,"field-wrp ").concat(o,"field-wrp--").concat(p,`" data-input>
        `).concat(this.templateInput?(0,V.isFunction)(this.templateInput)?this.templateInput(this.getClbOpts()):this.templateInput:"",`
      </div>
    </div>`);return e.empty().append(A),v&&this.renderLabel(),this.renderField(),this.el.className="".concat(_,"__wrp ").concat(_,"__wrp-").concat(h),this.postUpdate(),this.onRender(this.getClbOpts()),this},n}(m.G7);const vr=wn;wn.prototype.eventCapture=["change"];var kn=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Yr=function(a){kn(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.templateInput=function(){return""},n.prototype.onChange=function(){this.handleClick()},n.prototype.handleClick=function(){this.model.runCommand()},n.prototype.renderLabel=function(){this.model.get("label")&&vr.prototype.renderLabel.apply(this)},n.prototype.getInputEl=function(){var t=this,e=t.model,r=t.ppfx,o=e.props(),l=o.labelButton,f=o.text,p=o.full,h=l||f,v="".concat(r,"btn"),_='<button type="button" class="'.concat(v,"-prim").concat(p?" ".concat(v,"--full"):"",'">').concat(h,"</button>");return _},n}(vr);const Gr=Yr;Yr.prototype.eventCapture=["click button"];var Br=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Pr=function(a){Br(n,a);function n(){var t=a!==null&&a.apply(this,arguments)||this;return t.appendInput=!1,t}return n.prototype.templateInput=function(){var t=this,e=t.ppfx,r=t.clsField;return'<label class="'.concat(r,`" data-input>
    <i class="`).concat(e,`chk-icon"></i>
  </label>`)},n.prototype.onChange=function(){this.model.set("value",this.getInputElem().checked)},n.prototype.setInputValue=function(t){var e=this.getInputElem();e&&(e.checked=!!t)},n.prototype.getInputEl=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=!this.$input,o=vr.prototype.getInputEl.apply(this,t);if(r){var l=void 0,f=void 0,p=this,h=p.model,v=p.target,_=h.attributes.valueFalse,A=h.getName();h.changeProp?(l=v.get(A),f=l):(f=v.get("attributes")[A],l=!!(f||f==="")),!(0,V.isUndefined)(_)&&f===_&&(l=!1),o.checked=l}return o},n}(vr);const An=Pr;function xa(a,n){if(!(0,vt.hasWin)())return;var t={beforeShow:B,move:B,change:B,show:B,hide:B,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},e=[],r=!!/msie/i.exec(window.navigator.userAgent),o=function(){function gt(ne,se){return!!~(""+ne).indexOf(se)}var It=document.createElement("div"),lt=It.style;return lt.cssText="background-color:rgba(0,0,0,.5)",gt(lt.backgroundColor,"rgba")||gt(lt.backgroundColor,"hsla")}(),l=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),f=function(){var gt="";if(r)for(var It=1;It<=6;It++)gt+="<div class='sp-"+It+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",gt,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}();function p(gt,It,lt,ne){for(var se=[],be=0;be<gt.length;be++){var We=gt[be];if(We){var $e=he(We),He=$e.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";He+=he.equals(It,We)?" sp-thumb-active":"";var Ur=$e.toString(ne.preferredFormat||"rgb"),an=o?"background-color:"+$e.toRgbString():"filter:"+$e.toFilter();se.push('<span title="'+Ur+'" data-color="'+$e.toRgbString()+'" class="'+He+'"><span class="sp-thumb-inner" style="'+an+';"></span></span>')}else{var Jr="sp-clear-display";se.push(a("<div />").append(a('<span data-color="" style="background-color:transparent;" class="'+Jr+'"></span>').attr("title",ne.noColorSelectedText)).html())}}return"<div class='sp-cf "+lt+"'>"+se.join("")+"</div>"}function h(){for(var gt=0;gt<e.length;gt++)e[gt]&&e[gt].hide()}function v(gt,It){var lt=a.extend({},t,gt);return lt.callbacks={move:ft(lt.move,It),change:ft(lt.change,It),show:ft(lt.show,It),hide:ft(lt.hide,It),beforeShow:ft(lt.beforeShow,It)},lt}function _(gt,It){var lt=v(It,gt),ne=lt.flat,se=lt.showSelectionPalette,be=lt.localStorageKey,We=lt.theme,$e=lt.callbacks,He=Pt(Ts,10),Ur=!1,an=!1,Jr=!0,zi=0,Ao=0,fi=0,kr=0,pi=0,ff=0,pf=0,_s=0,xs=0,xc=0,di=1,df=[],Cc=[],hf={},hi=lt.selectionPalette.slice(0),Wb=lt.maxSelectionSize,Ph="sp-dragging",Ea=null,Sc=gt.ownerDocument;Sc.body;var sn=a(gt),Zp=!1,er=a(f,Sc).addClass(We),Gb=er.find(".sp-picker-container"),vf=er.find(".sp-color"),gf=er.find(".sp-dragger"),Yp=er.find(".sp-hue"),mf=er.find(".sp-slider"),Oc=er.find(".sp-alpha-inner"),Eh=er.find(".sp-alpha"),yf=er.find(".sp-alpha-handle"),vi=er.find(".sp-input"),kh=er.find(".sp-palette"),Ah=er.find(".sp-initial"),Mh=er.find(".sp-cancel"),Xp=er.find(".sp-clear"),Lh=er.find(".sp-choose"),Jp=er.find(".sp-palette-toggle"),bf=sn.is("input"),Kb=bf&&sn.attr("type")==="color"&&Ft(),Qp=bf&&!ne,_l=Qp?a(l).addClass(We).addClass(lt.className).addClass(lt.replacerClassName):a([]),Tc=Qp?_l:sn,xl=_l.find(".sp-preview-inner"),Pc=lt.color||bf&&sn.val(),Cl=!1,Sl=lt.preferredFormat,$b=!lt.showButtons||lt.clickoutFiresChange,ka=!Pc,Cs=lt.allowEmpty&&!Kb;function td(){if(lt.showPaletteOnly&&(lt.showPalette=!0),Jp.text(lt.showPaletteOnly?lt.togglePaletteMoreText:lt.togglePaletteLessText),lt.palette){df=lt.palette.slice(0),Cc=a.isArray(df[0])?df:[df],hf={};for(var Ie=0;Ie<Cc.length;Ie++)for(var Fe=0;Fe<Cc[Ie].length;Fe++){var pr=he(Cc[Ie][Fe]).toRgbString();hf[pr]=!0}}er.toggleClass("sp-flat",ne),er.toggleClass("sp-input-disabled",!lt.showInput),er.toggleClass("sp-alpha-enabled",lt.showAlpha),er.toggleClass("sp-clear-enabled",Cs),er.toggleClass("sp-buttons-disabled",!lt.showButtons),er.toggleClass("sp-palette-buttons-disabled",!lt.togglePaletteOnly),er.toggleClass("sp-palette-disabled",!lt.showPalette),er.toggleClass("sp-palette-only",lt.showPaletteOnly),er.toggleClass("sp-initial-disabled",!lt.showInitial),er.addClass(lt.className).addClass(lt.containerClassName),Ts()}function qb(){if(r&&er.find("*:not(input)").attr("unselectable","on"),td(),Qp&&sn.after(_l).hide(),Cs||Xp.hide(),ne)sn.after(er).hide();else{var Ie=lt.appendTo==="parent"?sn.parent():a(lt.appendTo);Ie.length!==1&&(Ie=a("body")),Ie.append(er)}jh(),Tc.bind("click.spectrum touchstart.spectrum",function(Ge){Zp||Vh(),Ge.stopPropagation(),a(Ge.target).is("input")||Ge.preventDefault()}),(sn.is(":disabled")||lt.disabled===!0)&&Bh(),er.click(nt),vi.change(od),vi.bind("paste",function(){setTimeout(od,1)}),vi.keydown(function(Ge){Ge.keyCode==13&&od()}),Mh.text(lt.cancelText),Mh.bind("click.spectrum",function(Ge){Ge.stopPropagation(),Ge.preventDefault(),Fh(),Aa()}),Xp.attr("title",lt.clearText),Xp.bind("click.spectrum",function(Ge){Ge.stopPropagation(),Ge.preventDefault(),ka=!0,Ol(),ne&&Os(!0)}),Lh.text(lt.chooseText),Lh.bind("click.spectrum",function(Ge){Ge.stopPropagation(),Ge.preventDefault(),r&&vi.is(":focus")&&vi.trigger("change"),Yb()&&(Os(!0),Aa())}),Jp.text(lt.showPaletteOnly?lt.togglePaletteMoreText:lt.togglePaletteLessText),Jp.bind("click.spectrum",function(Ge){Ge.stopPropagation(),Ge.preventDefault(),lt.showPaletteOnly=!lt.showPaletteOnly,!lt.showPaletteOnly&&!ne&&er.css("left","-="+(Gb.outerWidth(!0)+5)),td()}),pt(Eh,function(Ge,Mo,Ps){di=Ge/pi,ka=!1,Ps.shiftKey&&(di=Math.round(di*10)/10),Ol()},rd,nd),pt(Yp,function(Ge,Mo){_s=parseFloat(Mo/kr),ka=!1,lt.showAlpha||(di=1),Ol()},rd,nd),pt(vf,function(Ge,Mo,Ps){if(!Ps.shiftKey)Ea=null;else if(!Ea){var _f=xs*zi,Ec=Ao-xc*Ao,kc=Math.abs(Ge-_f)>Math.abs(Mo-Ec);Ea=kc?"x":"y"}var ew=!Ea||Ea==="x",rw=!Ea||Ea==="y";ew&&(xs=parseFloat(Ge/zi)),rw&&(xc=parseFloat((Ao-Mo)/Ao)),ka=!1,lt.showAlpha||(di=1),Ol()},rd,nd),Pc?(Ss(Pc),Tl(),Sl=lt.preferredFormat||he(Pc).getFormat(),ed(Pc)):Tl(),ne&&id();function Fe(Ge){return Ge.data&&Ge.data.ignore?(Ss(a(Ge.target).closest(".sp-thumb-el").data("color")),Ol()):(Ss(a(Ge.target).closest(".sp-thumb-el").data("color")),Ol(),lt.hideAfterPaletteSelect&&(Os(!0),Aa())),!1}var pr=r?"mousedown.spectrum":"click.spectrum touchstart.spectrum";kh.delegate(".sp-thumb-el",pr,Fe),Ah.delegate(".sp-thumb-el:nth-child(1)",pr,{ignore:!0},Fe)}function jh(){if(be&&window.localStorage){try{var Ie=window.localStorage[be].split(",#");Ie.length>1&&(delete window.localStorage[be],a.each(Ie,function(Fe,pr){ed(pr)}))}catch{}try{hi=window.localStorage[be].split(";")}catch{}}}function ed(Ie){if(se){var Fe=he(Ie).toRgbString();if(!hf[Fe]&&a.inArray(Fe,hi)===-1)for(hi.push(Fe);hi.length>Wb;)hi.shift();if(be&&window.localStorage)try{window.localStorage[be]=hi.join(";")}catch{}}}function Zb(){var Ie=[];if(lt.showPalette)for(var Fe=0;Fe<hi.length;Fe++){var pr=he(hi[Fe]).toRgbString();hf[pr]||Ie.push(hi[Fe])}return Ie.reverse().slice(0,lt.maxSelectionSize)}function Dh(){var Ie=Gn(),Fe=a.map(Cc,function(pr,Ge){return p(pr,Ie,"sp-palette-row sp-palette-row-"+Ge,lt)});jh(),hi&&Fe.push(p(Zb(),Ie,"sp-palette-row sp-palette-row-selection",lt)),kh.html(Fe.join(""))}function Ih(){if(lt.showInitial){var Ie=Cl,Fe=Gn();Ah.html(p([Ie,Fe],Fe,"sp-palette-row-initial",lt))}}function rd(){(Ao<=0||zi<=0||kr<=0)&&Ts(),an=!0,er.addClass(Ph),Ea=null,sn.trigger("dragstart.spectrum",[Gn()])}function nd(){an=!1,er.removeClass(Ph),sn.trigger("dragstop.spectrum",[Gn()])}function od(){var Ie=vi.val();if((Ie===null||Ie==="")&&Cs)Ss(null),Os(!0);else{var Fe=he(Ie);Fe.isValid()?(Ss(Fe),Os(!0)):vi.addClass("sp-validation-error")}}function Vh(){Ur?Aa():id()}function id(){var Ie=a.Event("beforeShow.spectrum");if(Ur){Ts();return}if(sn.trigger("beforeShow.spectrum",[Gn()]),!($e.beforeShow(Gn())===!1||Ie.isDefaultPrevented())){h(),Ur=!0;var Fe=a(Sc);Fe.bind("keydown.spectrum",Rh),Fe.bind("click.spectrum",Nh),a(window).bind("resize.spectrum",He),_l.addClass("sp-active"),er.removeClass("sp-hidden"),Ts(),Tl(),Cl=Gn(),Ih(),$e.show(Cl),sn.trigger("show.spectrum",[Cl])}}function Rh(Ie){Ie.keyCode===27&&Aa()}function Nh(Ie){Ie.button!=2&&(an||($b?Os(!0):Fh(),Aa()))}function Aa(){!Ur||ne||(Ur=!1,a(Sc).unbind("keydown.spectrum",Rh),a(Sc).unbind("click.spectrum",Nh),a(window).unbind("resize.spectrum",He),_l.removeClass("sp-active"),er.addClass("sp-hidden"),$e.hide(Gn()),sn.trigger("hide.spectrum",[Gn()]))}function Fh(){Ss(Cl,!0)}function Ss(Ie,Fe){if(he.equals(Ie,Gn())){Tl();return}var pr,Ge;!Ie&&Cs?ka=!0:(ka=!1,Jr=!Ie,pr=he(Ie),Ge=pr.toHsv(),_s=Ge.h%360/360,xs=Ge.s,xc=Ge.v,di=Ge.a),Tl(),pr&&pr.isValid()&&!Fe&&(Sl=lt.preferredFormat||pr.getFormat())}function Gn(Ie){return Ie=Ie||{},Cs&&ka?null:he.fromRatio({h:_s,s:xs,v:xc,a:Math.round(di*100)/100},{format:Ie.format||Sl})}function Yb(){return!vi.hasClass("sp-validation-error")}function Ol(){Tl(),$e.move(Gn()),sn.trigger("move.spectrum",[Gn()])}function Tl(){vi.removeClass("sp-validation-error"),Hh();var Ie=he.fromRatio({h:_s,s:1,v:1});vf.css("background-color",Ie.toHexString());var Fe=Sl;di<1&&!(di===0&&Fe==="name")&&(Fe==="hex"||Fe==="hex3"||Fe==="hex6"||Fe==="name")&&(Fe="rgb");var pr=Gn({format:Fe}),Ge="";if(xl.removeClass("sp-clear-display"),xl.css("background-color","transparent"),!pr&&Cs)xl.addClass("sp-clear-display");else{var Mo=pr.toHexString(),Ps=pr.toRgbString();if(o||pr.alpha===1?xl.css("background-color",Ps):(xl.css("background-color","transparent"),xl.css("filter",pr.toFilter())),lt.showAlpha){var _f=pr.toRgb();_f.a=0;var Ec=he(_f).toRgbString(),kc="linear-gradient(left, "+Ec+", "+Mo+")";r?Oc.css("filter",he(Ec).toFilter({gradientType:1},Mo)):(Oc.css("background","-webkit-"+kc),Oc.css("background","-moz-"+kc),Oc.css("background","-ms-"+kc),Oc.css("background","linear-gradient(to right, "+Ec+", "+Mo+")"))}Ge=pr.toString(Fe)}lt.showInput&&vi.val(Ge),lt.showPalette&&Dh(),Ih()}function Hh(){var Ie=xs,Fe=xc;if(Cs&&ka)yf.hide(),mf.hide(),gf.hide();else{yf.show(),mf.show(),gf.show();var pr=Ie*zi,Ge=Ao-Fe*Ao;pr=Math.max(-fi,Math.min(zi-fi,pr-fi)),Ge=Math.max(-fi,Math.min(Ao-fi,Ge-fi)),gf.css({top:Ge+"px",left:pr+"px"});var Mo=di*pi;yf.css({left:Mo-ff/2+"px"});var Ps=_s*kr;mf.css({top:Ps-pf+"px"})}}function Os(Ie){var Fe=Gn(),pr="",Ge=Jr?!0:!he.equals(Fe,Cl);Fe&&(pr=Fe.toString(Sl),!Ur&&ed(Fe)),bf&&sn.val(pr),Ie&&Ge&&($e.change(Fe),sn.trigger("change",[Fe]))}function Ts(){Ur&&(zi=vf.width(),Ao=vf.height(),fi=gf.height(),Yp.width(),kr=Yp.height(),pf=mf.height(),pi=Eh.width(),ff=yf.width(),ne||(er.css("position","absolute"),lt.offset?er.offset(lt.offset):er.offset(A(er,Tc))),Hh(),lt.showPalette&&Dh(),sn.trigger("reflow.spectrum"))}function Xb(){sn.show(),Tc.unbind("click.spectrum touchstart.spectrum"),er.remove(),_l.remove(),e[wf.id]=null}function Jb(Ie,Fe){if(Ie===n)return a.extend({},lt);if(Fe===n)return lt[Ie];lt[Ie]=Fe,Ie==="preferredFormat"&&(Sl=lt.preferredFormat),td()}function Qb(){Zp=!1,sn.attr("disabled",!1),Tc.removeClass("sp-disabled")}function Bh(){Aa(),Zp=!0,sn.attr("disabled",!0),Tc.addClass("sp-disabled")}function tw(Ie){lt.offset=Ie,Ts()}qb();var wf={show:id,hide:Aa,toggle:Vh,reflow:Ts,option:Jb,enable:Qb,disable:Bh,offset:tw,set:function(Ie){Ss(Ie),Os()},get:Gn,destroy:Xb,container:er};return wf.id=e.push(wf)-1,wf}function A(gt,It){for(var lt=It[0],ne=gt[0],se=ne.parentElement,be=lt.getBoundingClientRect(),We=ne.offsetWidth,$e=ne.offsetHeight,He={top:0,left:0,width:lt.offsetWidth,height:lt.offsetHeight};lt&&(He.top+=lt.offsetTop-lt.scrollTop,He.left+=lt.offsetLeft-lt.scrollLeft,!(lt===se||!se.contains(lt.offsetParent)));)lt=lt.offsetParent;return be.right+We>window.innerWidth-window.scrollX&&be.right-We>0&&(He.left-=We-He.width),be.bottom+$e<window.innerHeight-window.scrollY?He.top+=He.height:He.top-=$e,He}function B(){}function nt(gt){gt.stopPropagation()}function ft(gt,It){var lt=Array.prototype.slice,ne=lt.call(arguments,2);return function(){return gt.apply(It,ne.concat(lt.call(arguments)))}}function pt(gt,It,lt,ne){It=It||function(){},lt=lt||function(){},ne=ne||function(){};var se=document,be=!1,We={},$e=0,He=0,Ur="ontouchstart"in window,an={};an.selectstart=Jr,an.dragstart=Jr,an["touchmove mousemove"]=zi,an["touchend mouseup"]=fi;function Jr(kr){kr.stopPropagation&&kr.stopPropagation(),kr.preventDefault&&kr.preventDefault(),kr.returnValue=!1}function zi(kr){if(be){if(r&&se.documentMode<9&&!kr.button)return fi();var pi=kr&&kr.touches&&kr.touches[0],ff=pi&&pi.pageX||kr.pageX,pf=pi&&pi.pageY||kr.pageY,_s=Math.max(0,Math.min(ff-We.left,He)),xs=Math.max(0,Math.min(pf-We.top,$e));Ur&&Jr(kr),It.apply(gt,[_s,xs,kr])}}function Ao(kr){var pi=kr.which?kr.which==3:kr.button==2;!pi&&!be&&lt.apply(gt,arguments)!==!1&&(be=!0,$e=a(gt).height(),He=a(gt).width(),We=a(gt).offset(),a(se).bind(an),a(se.body).addClass("sp-dragging"),zi(kr),Jr(kr))}function fi(){be&&(a(se).unbind(an),a(se.body).removeClass("sp-dragging"),setTimeout(function(){ne.apply(gt,arguments)},0)),be=!1}a(gt).bind("touchstart mousedown",Ao)}function Pt(gt,It,lt){var ne;return function(){var se=this,be=arguments,We=function(){ne=null,gt.apply(se,be)};ne||(ne=setTimeout(We,It))}}function Ft(){return a.fn.spectrum.inputTypeColorSupport()}var Bt="spectrum.id";a.fn.spectrum=function(gt,It){if(typeof gt=="string"){var lt=this,ne=Array.prototype.slice.call(arguments,1);return this.each(function(){var se=e[a(this).data(Bt)];if(se){var be=se[gt];if(!be)throw new Error("Spectrum: no such method: '"+gt+"'");gt=="get"?lt=se.get():gt=="container"?lt=se.container:gt=="option"?lt=se.option.apply(se,ne):gt=="destroy"?(se.destroy(),a(this).removeData(Bt)):be.apply(se,ne)}}),lt}return this.spectrum("destroy").each(function(){var se=a.extend({},gt,a(this).data()),be=_(this,se);a(this).data(Bt,be.id)})},a.fn.spectrum.load=!0,a.fn.spectrum.loadOpts={},a.fn.spectrum.draggable=pt,a.fn.spectrum.defaults=t,a.fn.spectrum.inputTypeColorSupport=function gt(){if(typeof gt._cachedResult>"u"){var It=a("<input type='color'/>")[0];gt._cachedResult=It.type==="color"&&It.value!==""}return gt._cachedResult},a.spectrum={},a.spectrum.localization={},a.spectrum.palettes={},a.fn.spectrum.processNativeColorInputs=function(){var gt=a("input[type=color]");gt.length&&!Ft()&&gt.spectrum({preferredFormat:"hex6"})};var te=/^[\s,#]+/,de=/\s+$/,Oe=0,Me=Math,ae=Me.round,ke=Me.min,Be=Me.max,ur=Me.random,he=function(gt,It){if(gt=gt||"",It=It||{},gt instanceof he)return gt;if(!(this instanceof he))return new he(gt,It);var lt=Wn(gt);this._originalInput=gt,this._r=lt.r,this._g=lt.g,this._b=lt.b,this._a=lt.a,this._roundA=ae(100*this._a)/100,this._format=It.format||lt.format,this._gradientType=It.gradientType,this._r<1&&(this._r=ae(this._r)),this._g<1&&(this._g=ae(this._g)),this._b<1&&(this._b=ae(this._b)),this._ok=lt.ok,this._tc_id=Oe++};he.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var gt=this.toRgb();return(gt.r*299+gt.g*587+gt.b*114)/1e3},setAlpha:function(gt){return this._a=Th(gt),this._roundA=ae(100*this._a)/100,this},toHsv:function(){var gt=ci(this._r,this._g,this._b);return{h:gt.h*360,s:gt.s,v:gt.v,a:this._a}},toHsvString:function(){var gt=ci(this._r,this._g,this._b),It=ae(gt.h*360),lt=ae(gt.s*100),ne=ae(gt.v*100);return this._a==1?"hsv("+It+", "+lt+"%, "+ne+"%)":"hsva("+It+", "+lt+"%, "+ne+"%, "+this._roundA+")"},toHsl:function(){var gt=bl(this._r,this._g,this._b);return{h:gt.h*360,s:gt.s,l:gt.l,a:this._a}},toHslString:function(){var gt=bl(this._r,this._g,this._b),It=ae(gt.h*360),lt=ae(gt.s*100),ne=ae(gt.l*100);return this._a==1?"hsl("+It+", "+lt+"%, "+ne+"%)":"hsla("+It+", "+lt+"%, "+ne+"%, "+this._roundA+")"},toHex:function(gt){return bs(this._r,this._g,this._b,gt)},toHexString:function(gt){return"#"+this.toHex(gt)},toHex8:function(){return Ta(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:ae(this._r),g:ae(this._g),b:ae(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+ae(this._r)+", "+ae(this._g)+", "+ae(this._b)+")":"rgba("+ae(this._r)+", "+ae(this._g)+", "+ae(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:ae(Rr(this._r,255)*100)+"%",g:ae(Rr(this._g,255)*100)+"%",b:ae(Rr(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+ae(Rr(this._r,255)*100)+"%, "+ae(Rr(this._g,255)*100)+"%, "+ae(Rr(this._b,255)*100)+"%)":"rgba("+ae(Rr(this._r,255)*100)+"%, "+ae(Rr(this._g,255)*100)+"%, "+ae(Rr(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Rb[bs(this._r,this._g,this._b,!0)]||!1},toFilter:function(gt){var It="#"+Ta(this._r,this._g,this._b,this._a),lt=It,ne=this._gradientType?"GradientType = 1, ":"";if(gt){var se=he(gt);lt=se.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+ne+"startColorstr="+It+",endColorstr="+lt+")"},toString:function(gt){var It=!!gt;gt=gt||this._format;var lt=!1,ne=this._a<1&&this._a>=0,se=!It&&ne&&(gt==="hex"||gt==="hex6"||gt==="hex3"||gt==="name");return se?gt==="name"&&this._a===0?this.toName():this.toRgbString():(gt==="rgb"&&(lt=this.toRgbString()),gt==="prgb"&&(lt=this.toPercentageRgbString()),(gt==="hex"||gt==="hex6")&&(lt=this.toHexString()),gt==="hex3"&&(lt=this.toHexString(!0)),gt==="hex8"&&(lt=this.toHex8String()),gt==="name"&&(lt=this.toName()),gt==="hsl"&&(lt=this.toHslString()),gt==="hsv"&&(lt=this.toHsvString()),lt||this.toHexString())},_applyModification:function(gt,It){var lt=gt.apply(null,[this].concat([].slice.call(It)));return this._r=lt._r,this._g=lt._g,this._b=lt._b,this.setAlpha(lt._a),this},lighten:function(){return this._applyModification(Pb,arguments)},brighten:function(){return this._applyModification(Eb,arguments)},darken:function(){return this._applyModification(kb,arguments)},desaturate:function(){return this._applyModification(Pa,arguments)},saturate:function(){return this._applyModification(Ob,arguments)},greyscale:function(){return this._applyModification(Tb,arguments)},spin:function(){return this._applyModification(Ab,arguments)},_applyCombination:function(gt,It){return gt.apply(null,[this].concat([].slice.call(It)))},analogous:function(){return this._applyCombination(Ib,arguments)},complement:function(){return this._applyCombination(Mb,arguments)},monochromatic:function(){return this._applyCombination(Vb,arguments)},splitcomplement:function(){return this._applyCombination(Db,arguments)},triad:function(){return this._applyCombination(Lb,arguments)},tetrad:function(){return this._applyCombination(jb,arguments)}},he.fromRatio=function(gt,It){if(typeof gt=="object"){var lt={};for(var ne in gt)gt.hasOwnProperty(ne)&&(ne==="a"?lt[ne]=gt[ne]:lt[ne]=_c(gt[ne]));gt=lt}return he(gt,It)};function Wn(gt){var It={r:0,g:0,b:0},lt=1,ne=!1,se=!1;return typeof gt=="string"&&(gt=zb(gt)),typeof gt=="object"&&(gt.hasOwnProperty("r")&&gt.hasOwnProperty("g")&&gt.hasOwnProperty("b")?(It=wc(gt.r,gt.g,gt.b),ne=!0,se=String(gt.r).substr(-1)==="%"?"prgb":"rgb"):gt.hasOwnProperty("h")&&gt.hasOwnProperty("s")&&gt.hasOwnProperty("v")?(gt.s=_c(gt.s),gt.v=_c(gt.v),It=ys(gt.h,gt.s,gt.v),ne=!0,se="hsv"):gt.hasOwnProperty("h")&&gt.hasOwnProperty("s")&&gt.hasOwnProperty("l")&&(gt.s=_c(gt.s),gt.l=_c(gt.l),It=wl(gt.h,gt.s,gt.l),ne=!0,se="hsl"),gt.hasOwnProperty("a")&&(lt=gt.a)),lt=Th(lt),{ok:ne,format:gt.format||se,r:ke(255,Be(It.r,0)),g:ke(255,Be(It.g,0)),b:ke(255,Be(It.b,0)),a:lt}}function wc(gt,It,lt){return{r:Rr(gt,255)*255,g:Rr(It,255)*255,b:Rr(lt,255)*255}}function bl(gt,It,lt){gt=Rr(gt,255),It=Rr(It,255),lt=Rr(lt,255);var ne=Be(gt,It,lt),se=ke(gt,It,lt),be,We,$e=(ne+se)/2;if(ne==se)be=We=0;else{var He=ne-se;switch(We=$e>.5?He/(2-ne-se):He/(ne+se),ne){case gt:be=(It-lt)/He+(It<lt?6:0);break;case It:be=(lt-gt)/He+2;break;case lt:be=(gt-It)/He+4;break}be/=6}return{h:be,s:We,l:$e}}function wl(gt,It,lt){var ne,se,be;gt=Rr(gt,360),It=Rr(It,100),lt=Rr(lt,100);function We(Ur,an,Jr){return Jr<0&&(Jr+=1),Jr>1&&(Jr-=1),Jr<1/6?Ur+(an-Ur)*6*Jr:Jr<1/2?an:Jr<2/3?Ur+(an-Ur)*(2/3-Jr)*6:Ur}if(It===0)ne=se=be=lt;else{var $e=lt<.5?lt*(1+It):lt+It-lt*It,He=2*lt-$e;ne=We(He,$e,gt+1/3),se=We(He,$e,gt),be=We(He,$e,gt-1/3)}return{r:ne*255,g:se*255,b:be*255}}function ci(gt,It,lt){gt=Rr(gt,255),It=Rr(It,255),lt=Rr(lt,255);var ne=Be(gt,It,lt),se=ke(gt,It,lt),be,We,$e=ne,He=ne-se;if(We=ne===0?0:He/ne,ne==se)be=0;else{switch(ne){case gt:be=(It-lt)/He+(It<lt?6:0);break;case It:be=(lt-gt)/He+2;break;case lt:be=(gt-It)/He+4;break}be/=6}return{h:be,s:We,v:$e}}function ys(gt,It,lt){gt=Rr(gt,360)*6,It=Rr(It,100),lt=Rr(lt,100);var ne=Me.floor(gt),se=gt-ne,be=lt*(1-It),We=lt*(1-se*It),$e=lt*(1-(1-se)*It),He=ne%6,Ur=[lt,We,be,be,$e,lt][He],an=[$e,lt,lt,We,be,be][He],Jr=[be,be,$e,lt,lt,We][He];return{r:Ur*255,g:an*255,b:Jr*255}}function bs(gt,It,lt,ne){var se=[ws(ae(gt).toString(16)),ws(ae(It).toString(16)),ws(ae(lt).toString(16))];return ne&&se[0].charAt(0)==se[0].charAt(1)&&se[1].charAt(0)==se[1].charAt(1)&&se[2].charAt(0)==se[2].charAt(1)?se[0].charAt(0)+se[1].charAt(0)+se[2].charAt(0):se.join("")}function Ta(gt,It,lt,ne){var se=[ws(Bb(ne)),ws(ae(gt).toString(16)),ws(ae(It).toString(16)),ws(ae(lt).toString(16))];return se.join("")}he.equals=function(gt,It){return!gt||!It?!1:he(gt).toRgbString()==he(It).toRgbString()},he.random=function(){return he.fromRatio({r:ur(),g:ur(),b:ur()})};function Pa(gt,It){It=It===0?0:It||10;var lt=he(gt).toHsl();return lt.s-=It/100,lt.s=uf(lt.s),he(lt)}function Ob(gt,It){It=It===0?0:It||10;var lt=he(gt).toHsl();return lt.s+=It/100,lt.s=uf(lt.s),he(lt)}function Tb(gt){return he(gt).desaturate(100)}function Pb(gt,It){It=It===0?0:It||10;var lt=he(gt).toHsl();return lt.l+=It/100,lt.l=uf(lt.l),he(lt)}function Eb(gt,It){It=It===0?0:It||10;var lt=he(gt).toRgb();return lt.r=Be(0,ke(255,lt.r-ae(255*-(It/100)))),lt.g=Be(0,ke(255,lt.g-ae(255*-(It/100)))),lt.b=Be(0,ke(255,lt.b-ae(255*-(It/100)))),he(lt)}function kb(gt,It){It=It===0?0:It||10;var lt=he(gt).toHsl();return lt.l-=It/100,lt.l=uf(lt.l),he(lt)}function Ab(gt,It){var lt=he(gt).toHsl(),ne=(ae(lt.h)+It)%360;return lt.h=ne<0?360+ne:ne,he(lt)}function Mb(gt){var It=he(gt).toHsl();return It.h=(It.h+180)%360,he(It)}function Lb(gt){var It=he(gt).toHsl(),lt=It.h;return[he(gt),he({h:(lt+120)%360,s:It.s,l:It.l}),he({h:(lt+240)%360,s:It.s,l:It.l})]}function jb(gt){var It=he(gt).toHsl(),lt=It.h;return[he(gt),he({h:(lt+90)%360,s:It.s,l:It.l}),he({h:(lt+180)%360,s:It.s,l:It.l}),he({h:(lt+270)%360,s:It.s,l:It.l})]}function Db(gt){var It=he(gt).toHsl(),lt=It.h;return[he(gt),he({h:(lt+72)%360,s:It.s,l:It.l}),he({h:(lt+216)%360,s:It.s,l:It.l})]}function Ib(gt,It,lt){It=It||6,lt=lt||30;var ne=he(gt).toHsl(),se=360/lt,be=[he(gt)];for(ne.h=(ne.h-(se*It>>1)+720)%360;--It;)ne.h=(ne.h+se)%360,be.push(he(ne));return be}function Vb(gt,It){It=It||6;for(var lt=he(gt).toHsv(),ne=lt.h,se=lt.s,be=lt.v,We=[],$e=1/It;It--;)We.push(he({h:ne,s:se,v:be})),be=(be+$e)%1;return We}he.mix=function(gt,It,lt){lt=lt===0?0:lt||50;var ne=he(gt).toRgb(),se=he(It).toRgb(),be=lt/100,We=be*2-1,$e=se.a-ne.a,He;We*$e==-1?He=We:He=(We+$e)/(1+We*$e),He=(He+1)/2;var Ur=1-He,an={r:se.r*He+ne.r*Ur,g:se.g*He+ne.g*Ur,b:se.b*He+ne.b*Ur,a:se.a*be+ne.a*(1-be)};return he(an)},he.readability=function(gt,It){var lt=he(gt),ne=he(It),se=lt.toRgb(),be=ne.toRgb(),We=lt.getBrightness(),$e=ne.getBrightness(),He=Math.max(se.r,be.r)-Math.min(se.r,be.r)+Math.max(se.g,be.g)-Math.min(se.g,be.g)+Math.max(se.b,be.b)-Math.min(se.b,be.b);return{brightness:Math.abs(We-$e),color:He}},he.isReadable=function(gt,It){var lt=he.readability(gt,It);return lt.brightness>125&&lt.color>500},he.mostReadable=function(gt,It){for(var lt=null,ne=0,se=!1,be=0;be<It.length;be++){var We=he.readability(gt,It[be]),$e=We.brightness>125&&We.color>500,He=3*(We.brightness/125)+We.color/500;($e&&!se||$e&&se&&He>ne||!$e&&!se&&He>ne)&&(se=$e,ne=He,lt=he(It[be]))}return lt};var qp=he.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Rb=he.hexNames=Nb(qp);function Nb(gt){var It={};for(var lt in gt)gt.hasOwnProperty(lt)&&(It[gt[lt]]=lt);return It}function Th(gt){return gt=parseFloat(gt),(isNaN(gt)||gt<0||gt>1)&&(gt=1),gt}function Rr(gt,It){Fb(gt)&&(gt="100%");var lt=Hb(gt);return gt=ke(It,Be(0,parseFloat(gt))),lt&&(gt=parseInt(gt*It,10)/100),Me.abs(gt-It)<1e-6?1:gt%It/parseFloat(It)}function uf(gt){return ke(1,Be(0,gt))}function ui(gt){return parseInt(gt,16)}function Fb(gt){return typeof gt=="string"&&gt.indexOf(".")!=-1&&parseFloat(gt)===1}function Hb(gt){return typeof gt=="string"&&gt.indexOf("%")!=-1}function ws(gt){return gt.length==1?"0"+gt:""+gt}function _c(gt){return gt<=1&&(gt=gt*100+"%"),gt}function Bb(gt){return Math.round(parseFloat(gt)*255).toString(16)}function Ub(gt){return ui(gt)/255}var Ui=function(){var gt="[-\\+]?\\d+%?",It="[-\\+]?\\d*\\.\\d+%?",lt="(?:"+It+")|(?:"+gt+")",ne="[\\s|\\(]+("+lt+")[,|\\s]+("+lt+")[,|\\s]+("+lt+")\\s*\\)?",se="[\\s|\\(]+("+lt+")[,|\\s]+("+lt+")[,|\\s]+("+lt+")[,|\\s]+("+lt+")\\s*\\)?";return{rgb:new RegExp("rgb"+ne),rgba:new RegExp("rgba"+se),hsl:new RegExp("hsl"+ne),hsla:new RegExp("hsla"+se),hsv:new RegExp("hsv"+ne),hsva:new RegExp("hsva"+se),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function zb(gt){gt=gt.replace(te,"").replace(de,"").toLowerCase();var It=!1;if(qp[gt])gt=qp[gt],It=!0;else if(gt=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var lt;return(lt=Ui.rgb.exec(gt))?{r:lt[1],g:lt[2],b:lt[3]}:(lt=Ui.rgba.exec(gt))?{r:lt[1],g:lt[2],b:lt[3],a:lt[4]}:(lt=Ui.hsl.exec(gt))?{h:lt[1],s:lt[2],l:lt[3]}:(lt=Ui.hsla.exec(gt))?{h:lt[1],s:lt[2],l:lt[3],a:lt[4]}:(lt=Ui.hsv.exec(gt))?{h:lt[1],s:lt[2],v:lt[3]}:(lt=Ui.hsva.exec(gt))?{h:lt[1],s:lt[2],v:lt[3],a:lt[4]}:(lt=Ui.hex8.exec(gt))?{a:Ub(lt[1]),r:ui(lt[2]),g:ui(lt[3]),b:ui(lt[4]),format:It?"name":"hex8"}:(lt=Ui.hex6.exec(gt))?{r:ui(lt[1]),g:ui(lt[2]),b:ui(lt[3]),format:It?"name":"hex"}:(lt=Ui.hex3.exec(gt))?{r:ui(lt[1]+""+lt[1]),g:ui(lt[2]+""+lt[2]),b:ui(lt[3]+""+lt[3]),format:It?"name":"hex"}:!1}window.tinycolor=he,a(function(){a.fn.spectrum.load&&a.fn.spectrum.processNativeColorInputs()})}var ai=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),on=function(a){ai(n,a);function n(t){t===void 0&&(t={});var e=a.call(this,t)||this,r=t.ppfx||"";return e.opts=t,e.ppfx=r,e.em=t.target||{},!t.onChange&&e.listenTo(e.model,"change:value",e.handleModelChange),e}return n.prototype.template=function(){return'<span class="'.concat(this.holderClass(),'"></span>')},n.prototype.inputClass=function(){return"".concat(this.ppfx,"field")},n.prototype.holderClass=function(){return"".concat(this.ppfx,"input-holder")},n.prototype.elementUpdated=function(){this.model.trigger("el:change")},n.prototype.setValue=function(t,e){var r=this.model,o=t||r.get("defaults"),l=this.getInputEl();l&&(l.value=o)},n.prototype.handleModelChange=function(t,e,r){this.setValue(e,r)},n.prototype.handleChange=function(t){t.stopPropagation();var e=this.getInputEl().value;this.__onInputChange(e),this.elementUpdated()},n.prototype.__onInputChange=function(t){this.model.set({value:t},{fromInput:1})},n.prototype.getInputEl=function(){if(!this.inputEl){var t=this,e=t.model,r=t.opts,o=r.type||"text",l=e.get("placeholder")||e.get("defaults")||e.get("default")||"";this.inputEl=(0,x.default)('<input type="'.concat(o,'" placeholder="').concat(l,'">'))}return this.inputEl.get(0)},n.prototype.render=function(){this.inputEl=null;var t=this.$el;return t.addClass(this.inputClass()),t.html(this.template()),t.find(".".concat(this.holderClass())).append(this.getInputEl()),this},n}(m.G7);const Hn=on;on.prototype.events={change:"handleChange"};var Xr=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ri=function(){return Ri=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Ri.apply(this,arguments)};x.default&&xa(x.default);var Yn=function(a){var n=a.getFormat()==="name"&&a.toName(),t=a.getAlpha()==1?a.toHexString():a.toRgbString();return n||t.replace(/ /g,"")},Ni=function(a){Xr(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.template=function(){var t=this.ppfx;return`
      <div class="`.concat(this.holderClass(),`"></div>
      <div class="`).concat(t,`field-colorp">
        <div class="`).concat(t,`field-colorp-c" data-colorp-c>
          <div class="`).concat(t,`checker-bg"></div>
        </div>
      </div>
    `)},n.prototype.inputClass=function(){var t=this.ppfx;return"".concat(t,"field ").concat(t,"field-color")},n.prototype.holderClass=function(){return"".concat(this.ppfx,"input-holder")},n.prototype.remove=function(){return a.prototype.remove.call(this),this.colorEl.spectrum("destroy"),this},n.prototype.handleChange=function(t){t.stopPropagation();var e=t.target.value;(0,V.isUndefined)(e)||this.__onInputChange(e)},n.prototype.__onInputChange=function(t){var e=this,r=e.model,o=e.opts,l=o.onChange,f=t,p=this.getColorEl();if(p){p.spectrum("set",f);var h=p.spectrum("get"),v=f&&Yn(h);v&&(f=v)}l?l(f):r.set({value:f},{fromInput:1})},n.prototype.setValue=function(t,e){e===void 0&&(e={});var r=this.model,o=(0,V.isUndefined)(e.def)?r.get("defaults"):e.def,l=(0,V.isUndefined)(t)?(0,V.isUndefined)(o)?"":o:t,f=this.getInputEl(),p=this.getColorEl(),h=l!="none"?l:"";f.value=l,p.get(0).style.backgroundColor=h,(e.fromTarget||e.fromInput&&!e.avoidStore)&&(p.spectrum("set",h),this.noneColor=l=="none",this.movedColor=h)},n.prototype.getColorEl=function(){var t=this;if(!this.colorEl){var e=this,r=e.em,o=e.model,l=e.opts,f=this.ppfx,p=l.onChange,h=(0,x.default)('<div class="'.concat(this.ppfx,'field-color-picker"></div>')),v=h.get(0).style,_=r&&r.getConfig&&r.getConfig().colorPicker||{};this.movedColor="";var A=!1,B;this.$el.find("[data-colorp-c]").append(h);var nt=function(ft,pt){pt===void 0&&(pt=!0),p?p(ft,!pt):(pt&&o.setValueFromInput(0,!1),o.setValueFromInput(ft,pt))};h.spectrum(Ri(Ri(Ri({color:o.getValue()||!1,containerClassName:"".concat(f,"one-bg ").concat(f,"two-color ").concat(f,"editor-sp"),maxSelectionSize:8,showPalette:!0,showAlpha:!0,chooseText:"Ok",cancelText:"⨯",palette:[]},_),o.get("colorPicker")||{}),{move:function(ft){var pt=Yn(ft);t.movedColor=pt,v.backgroundColor=pt,nt(pt,!1)},change:function(ft){A=!0;var pt=Yn(ft);v.backgroundColor=pt,nt(pt),t.noneColor=!1},show:function(ft){A=!1,t.movedColor="",B=p?o.getValue({noDefault:!0}):Yn(ft)},hide:function(){!A&&(B||p)&&(t.noneColor&&(B=""),v.backgroundColor=B,h.spectrum("set",B),nt(B,!1))}})),r&&r.on&&this.listenTo(r,"component:selected",function(){t.movedColor&&nt(t.movedColor),A=!0,t.movedColor="",h.spectrum("hide")}),this.colorEl=h}return this.colorEl},n.prototype.render=function(){return Hn.prototype.render.call(this),this.getColorEl(),this},n}(Hn);const si=Ni;var _n=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ca=function(a){_n(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.templateInput=function(){return""},n.prototype.getInputEl=function(){if(!this.input){var t=this.model,e=this.getModelValue(),r=new si({model:t,target:this.config.em,contClass:this.ppfx+"field-color",ppfx:this.ppfx}),o=r.render();o.setValue(e,{fromTarget:1}),this.input=o.el}return this.input},n}(vr);const fc=Ca;var uv=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),cd=function(a){uv(n,a);function n(t){t===void 0&&(t={});var e=a.call(this,t)||this;return(0,V.bindAll)(e,"moveIncrement","upIncrement"),e.doc=document,e.listenTo(e.model,"change:unit",e.handleModelChange),e}return n.prototype.template=function(){var t=this.ppfx;return`
      <span class="`.concat(t,`input-holder"></span>
      <span class="`).concat(t,`field-units"></span>
      <div class="`).concat(t,`field-arrows" data-arrows>
        <div class="`).concat(t,`field-arrow-u" data-arrow-up></div>
        <div class="`).concat(t,`field-arrow-d" data-arrow-down></div>
      </div>
    `)},n.prototype.inputClass=function(){var t=this.ppfx;return this.opts.contClass||"".concat(t,"field ").concat(t,"field-integer")},n.prototype.setValue=function(t,e){var r=e||{},o=this.validateInputValue(t,{deepCheck:1}),l={value:o.value,unit:""};(o.unit||o.force)&&(l.unit=o.unit),this.model.set(l,r),r.silent&&this.handleModelChange()},n.prototype.handleChange=function(t){t.stopPropagation(),this.setValue(this.getInputEl().value),this.elementUpdated()},n.prototype.handleUnitChange=function(t){t.stopPropagation();var e=this.getUnitEl().value;this.model.set("unit",e),this.elementUpdated()},n.prototype.handleKeyDown=function(t){t.key==="ArrowUp"&&(t.preventDefault(),this.upArrowClick()),t.key==="ArrowDown"&&(t.preventDefault(),this.downArrowClick())},n.prototype.elementUpdated=function(){this.model.trigger("el:change")},n.prototype.handleModelChange=function(){var t=this.model;this.getInputEl().value=t.get("value");var e=this.getUnitEl();e&&(e.value=t.get("unit")||"")},n.prototype.getUnitEl=function(){if(!this.unitEl){var t=this.model,e=t.get("units")||[];if(e.length){var r=['<option value="" disabled hidden>-</option>'];e.forEach(function(l){var f=l==t.get("unit")?"selected":"";r.push("<option ".concat(f,">").concat(l,"</option>"))});var o=document.createElement("div");o.innerHTML='<select class="'.concat(this.ppfx,'input-unit">').concat(r.join(""),"</select>"),this.unitEl=o.firstChild}}return this.unitEl},n.prototype.upArrowClick=function(){var t=this.model,e=t.get("step"),r=parseFloat(t.get("value"));this.setValue(this.normalizeValue(r+e)),this.elementUpdated()},n.prototype.downArrowClick=function(){var t=this.model,e=t.get("step"),r=parseFloat(t.get("value"));this.setValue(this.normalizeValue(r-e)),this.elementUpdated()},n.prototype.downIncrement=function(t){t.preventDefault(),this.moved=!1;var e=this.model.get("value")||0;e=this.normalizeValue(e),this.current={y:t.pageY,val:e},(0,ee.on)(this.doc,"mousemove",this.moveIncrement),(0,ee.on)(this.doc,"mouseup",this.upIncrement)},n.prototype.moveIncrement=function(t){this.moved=!0;var e=this.model,r=e.get("step"),o=this.current,l=this.normalizeValue(o.val+(o.y-t.pageY)*r),f=this.validateInputValue(l),p=f.value,h=f.unit;return this.prValue=p,e.set({value:p,unit:h},{avoidStore:1}),!1},n.prototype.upIncrement=function(){var t=this.model,e=t.get("step");if((0,ee.S1)(this.doc,"mouseup",this.upIncrement),(0,ee.S1)(this.doc,"mousemove",this.moveIncrement),this.prValue&&this.moved){var r=this.prValue-e;t.set("value",r,{avoidStore:1}).set("value",r+e),this.elementUpdated()}},n.prototype.normalizeValue=function(t,e){e===void 0&&(e=0);var r=this.model,o=r.get("step"),l=0;if(isNaN(t))return e;if(t=parseFloat(t),Math.floor(t)!==t){var f=o.toString().split(".")[1];l=f?f.length:0}return l?parseFloat(t.toFixed(l)):t},n.prototype.validateInputValue=function(t,e){e===void 0&&(e={});var r=0,o=e||{},l=this.model,f="",p=(0,V.isUndefined)(t)?f:t,h=e.units||l.get("units")||[],v=l.get("unit")||h.length&&h[0]||"",_=(0,V.isUndefined)(e.max)?l.get("max"):e.max,A=(0,V.isUndefined)(e.min)?l.get("min"):e.min,B=!!l.get("limitlessMax"),nt=!!l.get("limitlessMin");if(o.deepCheck){var ft=l.get("fixedValues")||[];if(p===""&&(v=""),p){var pt=new RegExp("^"+ft.join("|"),"g");if(ft.length&&pt.test(p))p=p.match(pt)[0],v="",r=1;else{var Pt=p+"";p+="",p=parseFloat(p.replace(",",".")),p=isNaN(p)?f:p;var Ft=Pt.replace(p,"");(0,V.indexOf)(h,Ft)>=0&&(v=Ft)}}}return!B&&!(0,V.isUndefined)(_)&&_!==""&&(p=p>_?_:p),!nt&&!(0,V.isUndefined)(A)&&A!==""&&(p=p<A?A:p),{force:r,value:p,unit:v}},n.prototype.render=function(){Hn.prototype.render.call(this),this.unitEl=null;var t=this.getUnitEl();return t&&this.$el.find(".".concat(this.ppfx,"field-units")).get(0).appendChild(t),this},n}(Hn);const ud=cd;cd.prototype.events={"change input":"handleChange","change select":"handleUnitChange","click [data-arrow-up]":"upArrowClick","click [data-arrow-down]":"downArrowClick","mousedown [data-arrows]":"downIncrement",keydown:"handleKeyDown"};var fv=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),pv=function(a){fv(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.getValueForTarget=function(){var t=this.model,e=t.attributes,r=e.value,o=e.unit;return!(0,V.isUndefined)(r)&&r!==""?r+o:t.get("default")},n.prototype.getInputEl=function(){if(!this.input){var t=this,e=t.ppfx,r=t.model,o=this.getModelValue(),l=new ud({contClass:"".concat(e,"field-int"),type:"number",model:r,ppfx:e});l.render(),this.$input=l.inputEl,this.$unit=l.unitEl,r.set("value",o,{fromTarget:!0}),this.$input.val(o),this.input=l.el}return this.input},n}(vr);const dv=pv;var hv=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),vv=function(a){hv(n,a);function n(t){t===void 0&&(t={});var e=a.call(this,t)||this;return e.listenTo(e.model,"change:options",e.rerender),e}return n.prototype.templateInput=function(){var t=this,e=t.ppfx,r=t.clsField;return'<div class="'.concat(r,`">
      <div data-input></div>
      <div class="`).concat(e,`sel-arrow">
        <div class="`).concat(e,`d-s-arrow"></div>
      </div>
    </div>`)},n.prototype.getInputEl=function(){if(!this.$input){var t=this,e=t.model,r=t.em,o=e.get("name"),l=e.get("options")||[],f=[],p="<select>";l.forEach(function(_){var A="",B,nt,ft;(0,V.isString)(_)?(B=_,nt=_):(B=_.name||_.label||_.value,nt="".concat((0,V.isUndefined)(_.value)?_.id:_.value).replace(/"/g,"&quot;"),ft=_.style?_.style.replace(/"/g,"&quot;"):"",A+=ft?' style="'.concat(ft,'"'):"");var pt=r.t("traitManager.traits.options.".concat(o,".").concat(nt))||B;p+='<option value="'.concat(nt,'"').concat(A,">").concat(pt,"</option>"),f.push(nt)}),p+="</select>",this.$input=(0,x.default)(p);var h=e.getTargetValue(),v=f.indexOf(h)>=0?h:e.get("default");!(0,V.isUndefined)(v)&&this.$input.val(v)}return this.$input.get(0)},n}(vr);const gv=vv;var mv=gr(330),yv=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),fd="data-categories",pd="data-no-categories",dd=function(a){yv(n,a);function n(t,e){var r=a.call(this,t)||this;r.reuseView=!0,r.renderedCategories=new Map,r.itemsView=e;var o=t.config||{};r.config=o;var l=t.editor;r.em=l;var f=o.pStylePrefix||"";return r.ppfx=f,r.pfx=f+o.stylePrefix||"",r.className="".concat(r.pfx,"traits"),r.traitContClass="".concat(f,"traits-c"),r.classNoCat="".concat(f,"traits-empty-c"),r.catsClass="".concat(f,"trait-categories"),r.collection=new mn([],{em:l}),r.listenTo(l,"component:toggled",r.updatedCollection),r.updatedCollection(),r}return n.prototype.updatedCollection=function(){var t=this,e=t.ppfx,r=t.em,o=r.getSelected();this.el.className="".concat(this.traitContClass,"s ").concat(e,"one-bg ").concat(e,"two-color"),this.collection=(o==null?void 0:o.traits)||new mn([],{em:r}),this.render()},n.prototype.add=function(t,e){var r=this,o=r.config,l=r.renderedCategories,f=this.itemView,p=t.get(this.itemType);this.itemsView&&this.itemsView[p]&&(f=this.itemsView[p]);var h=new f({config:o,model:t,attributes:t.get("attributes")}),v=h.render().el,_=t.parent.initCategory(t);if(_){var A=_.getId(),B=this.getCategoriesEl(),nt=l.get(A);!nt&&B&&(nt=new vu({model:_},o,"trait").render(),l.set(A,nt),B.appendChild(nt.el)),nt==null||nt.append(v);return}e?e.appendChild(v):this.append(v)},n.prototype.getCategoriesEl=function(){return this.catsEl||(this.catsEl=this.el.querySelector("[".concat(fd,"]"))),this.catsEl},n.prototype.getTraitsEl=function(){return this.traitsEl||(this.traitsEl=this.el.querySelector("[".concat(pd,"]"))),this.traitsEl},n.prototype.append=function(t){var e=this.getTraitsEl();e==null||e.appendChild(t)},n.prototype.render=function(){var t=this,e=this,r=e.el,o=e.ppfx,l=e.catsClass,f=e.traitContClass,p=e.classNoCat,h=document.createDocumentFragment();delete this.catsEl,delete this.traitsEl,this.renderedCategories=new Map,r.innerHTML=`
      <div class="`.concat(l,'" ').concat(fd,`></div>
      <div class="`).concat(p," ").concat(f,'" ').concat(pd,`></div>
    `),this.collection.forEach(function(_){return t.add(_,h)}),this.append(h);var v="".concat(f,"s ").concat(o,"one-bg ").concat(o,"two-color");return this.$el.addClass(v),this.rendered=!0,this},n}(mv.Z);const hd=dd;dd.prototype.itemView=vr;var bv=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),wv=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return a.concat(o||Array.prototype.slice.call(n))},_v=function(a){bv(n,a);function n(t){var e=a.call(this,t,"TraitManager",Zr)||this;e.TraitsView=hd,e.events=xo,e.state=new m.Hn({traits:[]}),e.types={text:vr,number:dv,select:gv,checkbox:An,color:fc,button:Gr};var r=e,o=r.state,l=r.config,f=r.events,p=l.pStylePrefix;p&&(l.stylePrefix="".concat(p).concat(l.stylePrefix)),(0,V.bindAll)(e,"__onSelect");var h=(0,V.debounce)(function(){return e.__upSel()},0),v=(0,V.debounce)(function(){return e.__onUp()},0);return o.listenTo(t,"component:toggled",h),o.listenTo(t,f.value,v),o.on("change:traits",e.__onSelect),e.debounced=[h,v],e}return n.prototype.select=function(t){var e=(t==null?void 0:t.getTraits())||[];this.state.set({component:t,traits:e}),this.__trgCustom()},n.prototype.getCategories=function(){var t,e=this.getComponent(),r=((t=e==null?void 0:e.traits.categories)===null||t===void 0?void 0:t.models)||[];return wv([],r,!0)},n.prototype.getTraits=function(){return this.getCurrent()},n.prototype.getTraitsByCategory=function(t){return Ro(t||this.getTraits())},n.prototype.getComponent=function(){return this.state.attributes.component},n.prototype.addType=function(t,e){var r=this.getType("text");this.types[t]=r.extend(e)},n.prototype.getType=function(t){return this.getTypes()[t]},n.prototype.getTypes=function(){return this.types},n.prototype.getTraitsViewer=function(){return this.view},n.prototype.getCurrent=function(){return this.state.get("traits")||[]},n.prototype.render=function(){var t=this.view,e=this.em;return t=new hd({el:t==null?void 0:t.el,collection:[],editor:e,config:this.getConfig()},this.getTypes()),this.view=t,t.el},n.prototype.postRender=function(){this.__appendTo()},n.prototype.__onSelect=function(){var t=this,e=t.em,r=t.events,o=t.state,l=o.attributes,f=l.component,p=l.traits;e.trigger(r.select,{component:f,traits:p})},n.prototype.__trgCustom=function(t){t===void 0&&(t={});var e=this,r=e.em,o=e.events,l=e.__ctn;this.__ctn=l||t.container,r.trigger(o.custom,this.__customData())},n.prototype.__customData=function(){return{container:this.__ctn}},n.prototype.__upSel=function(){this.select(this.em.getSelected())},n.prototype.__onUp=function(){this.select(this.getComponent())},n}(R);const xv=_v;var Cv={stylePrefix:"",appendTo:"",sortable:!0,hidable:!0,hideTextnode:!0,root:"",showWrapper:!0,showHover:!0,scrollCanvas:{behavior:"smooth",block:"nearest"},scrollLayers:{behavior:"auto",block:"nearest"},highlightHover:!0,custom:!1,onInit:function(){},onRender:function(){},extend:{}};const Sv=Cv;var Ov=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Tv=function(a){Ov(n,a);function n(t){t===void 0&&(t={});var e=a.call(this,t)||this;e.items=[],e.opt=t;var r=t.config||{};e.config=r,e.parentView=t.parentView;var o=r.stylePrefix||"",l=r.pStylePrefix||"",f=e.collection;e.listenTo(f,"add",e.addTo),e.listenTo(f,"reset resetNavigator",e.render),e.listenTo(f,"remove",e.removeChildren),e.className="".concat(o,"layers");var p=r.em;if(r.sortable&&!e.opt.sorter){var h=p.Utils;e.opt.sorter=new h.Sorter({container:r.sortContainer||e.el,containerSel:".".concat(e.className),itemSel:".".concat(o,"layer"),ignoreViewChildren:1,avoidSelectOnEnd:1,nested:1,ppfx:l,pfx:o,em:p})}return e.$el.data("collection",f),t.parent&&e.$el.data("model",t.parent),e}return n.prototype.removeChildren=function(t){var e=t.viewLayer;e&&(e.remove(),delete t.viewLayer)},n.prototype.addTo=function(t){this.addToCollection(t,null,this.collection.indexOf(t))},n.prototype.addToCollection=function(t,e,r){var o=this,l=o.parentView,f=o.opt,p=o.config,h=o.el,v=f.ItemView,_=f.opened,A=f.module,B=f.level,nt=f.sorter,ft=t.viewLayer||new v({ItemView:v,level:B,model:t,parentView:l,config:p,sorter:nt,opened:_,module:A}),pt=ft.render().el;if(e)e.appendChild(pt);else{var Pt=h,Ft=Pt.childNodes;if((0,V.isUndefined)(r))Pt.appendChild(pt);else{var Bt=Ft.length==r;Bt&&r--,Bt||!Ft.length?Pt.appendChild(pt):Pt.insertBefore(pt,Ft[r])}}return this.items.push(ft),pt},n.prototype.remove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return m.G7.prototype.remove.apply(this,t),this.items.map(function(r){return r.remove()}),this},n.prototype.render=function(){var t=this,e=document.createDocumentFragment(),r=this.el;return r.innerHTML="",this.collection.each(function(o){return t.addToCollection(o,e)}),r.appendChild(e),r.className=this.className,this},n}(m.G7);const Pv=Tv;var gp=gr(790),Ev={stylePrefix:"com-",defaults:{},strict:!0};const kv=Ev;var Av=gr(713),Mv=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Hu=function(){return Hu=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Hu.apply(this,arguments)},vd=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return a.concat(o||Array.prototype.slice.call(n))},gd=[["preview","Preview","preview"],["resize","Resize","resize"],["fullscreen","Fullscreen","fullscreen"],["copy","CopyComponent"],["paste","PasteComponent"],["canvas-move","CanvasMove"],["canvas-clear","CanvasClear"],["open-code","ExportTemplate","export-template"],["open-layers","OpenLayers","open-layers"],["open-styles","OpenStyleManager","open-sm"],["open-traits","OpenTraitManager","open-tm"],["open-blocks","OpenBlocks","open-blocks"],["open-assets","OpenAssets","open-assets"],["component-select","SelectComponent","select-comp"],["component-outline","SwitchVisibility","sw-visibility"],["component-offset","ShowOffset","show-offset"],["component-move","MoveComponent","move-comp"],["component-next","ComponentNext"],["component-prev","ComponentPrev"],["component-enter","ComponentEnter"],["component-exit","ComponentExit","select-parent"],["component-delete","ComponentDelete"],["component-style-clear","ComponentStyleClear"],["component-drag","ComponentDrag"]],md={preserveSelected:1},yd=function(a){return function(n){return a.trigger("".concat(Tn,":start"),n)}},bd=function(a){return function(n){return a.trigger(Tn,n)}},wd=function(a,n,t){return t===void 0&&(t={}),function(e,r,o){n.forEach(function(l){return l.set("status",l.get("selectable")?"selected":"")}),a.setSelected(n),n[0].emitUpdate(),a.trigger("".concat(Tn,":end"),o),setTimeout(function(){return a.runDefault(md)}),(t.altMode||o.cancelled)&&a.set("_cmpDrag",1)}},Lv=function(a){Mv(n,a);function n(t){var e=a.call(this,t,"Commands",kv)||this;e.CommandAbstract=gp.default,e.defaultCommands={},e.commands={},e.active={},e.events=Av.Z;var r=e.config,o=r.pStylePrefix,l=e.defaultCommands;o&&(r.stylePrefix=o+r.stylePrefix),Object.keys(r.defaults).forEach(function(p){var h=r.defaults[p];h.id&&e.add(h.id,h)}),l["tlb-delete"]={run:function(p){return p.runCommand("core:component-delete")}},l["tlb-clone"]={run:function(p){p.runCommand("core:copy"),p.runCommand("core:paste",{action:"clone-component"})}},l["tlb-move"]={run:function(p,h,v){var _;v===void 0&&(v={});var A=p.getModel(),B=v.event,nt=v.target,ft=nt?[nt]:vd([],p.getSelectedAll(),!0),pt=ft.map(function(ur){var he,Wn;return((Wn=(he=ur.delegate)===null||he===void 0?void 0:he.move)===null||Wn===void 0?void 0:Wn.call(he,ur))||ur}).filter(Boolean),Pt=pt[pt.length-1],Ft=(B==null?void 0:B.type)==="dragstart",Bt=["absolute","translate"];if(!(Pt!=null&&Pt.get("draggable")))return A.logWarning("The element is not draggable");var te=Pt.get("dmode")||A.get("dmode"),de=function(){return A.stopDefault(md)},Oe=(0,V.includes)(Bt,te);pt.forEach(function(ur){return ur.trigger("disable",{fromMove:!0})}),Ft?setTimeout(de,0):de();var Me=yd(A),ae=bd(A),ke=wd(A,pt,{altMode:Oe});if(Oe)p.runCommand("core:component-drag",{guidesInfo:1,mode:te,target:Pt,onStart:Me,onDrag:ae,onEnd:ke,event:B});else{Ft&&B.dataTransfer.setDragImage((_=Pt.view)===null||_===void 0?void 0:_.el,0,0);var Be=p.Commands.get("move-comp");Be.onStart=Me,Be.onDrag=ae,Be.onEndMoveFromModel=ke,Be.initSorterFromModels(pt)}pt.filter(function(ur){return ur.get("selectable")}).forEach(function(ur){return ur.set("status","freezed-selected")})}},l["core:undo"]=function(p){return p.UndoManager.undo()},l["core:redo"]=function(p){return p.UndoManager.redo()},gd.forEach(function(p){var h=p[2],v=gr(828)("./".concat(p[1])).default,_="core:".concat(p[0]);l[_]=v,h&&(l[h]=v,["run","stop"].forEach(function(A){t.on("".concat(A,":").concat(h),function(){for(var B=[],nt=0;nt<arguments.length;nt++)B[nt]=arguments[nt];return t.trigger.apply(t,vd(["".concat(A,":").concat(_)],B,!1))})}))}),r.model=t.Canvas;for(var f in l)e.add(f,l[f]);return e}return n.prototype.add=function(t,e){var r=(0,V.isFunction)(e)?{run:e}:e;return r.stop||(r.noStop=!0),delete r.initialize,r.id=t,this.commands[t]=gp.default.extend(r),this},n.prototype.get=function(t){var e=this.commands[t];return(0,V.isFunction)(e)?(e=new e(this.config),this.commands[t]=e):e||this.em.logWarning("'".concat(t,"' command not found")),e},n.prototype.extend=function(t,e){e===void 0&&(e={});var r=this.get(t);if(r){var o=Hu(Hu({},r.constructor.prototype),e);this.add(t,o);var l=gd.filter(function(f){return"core:".concat(f[0])===t&&f[2]})[0];l&&this.add(l[2],o)}return this},n.prototype.has=function(t){return!!this.commands[t]},n.prototype.getAll=function(){return this.commands},n.prototype.run=function(t,e){return e===void 0&&(e={}),this.runCommand(this.get(t),e)},n.prototype.stop=function(t,e){return e===void 0&&(e={}),this.stopCommand(this.get(t),e)},n.prototype.isActive=function(t){return this.getActive().hasOwnProperty(t)},n.prototype.getActive=function(){return this.active},n.prototype.runCommand=function(t,e){e===void 0&&(e={});var r;if(t&&t.run){var o=this,l=o.em,f=o.config,p=t.id,h=l.Editor;(!this.isActive(p)||e.force||!f.strict)&&(r=h&&t.callRun(h,e),p&&t.stop&&!t.noStop&&!e.abort&&(this.active[p]=r))}return r},n.prototype.stopCommand=function(t,e){e===void 0&&(e={});var r;if(t&&t.run){var o=this,l=o.em,f=o.config,p=t.id,h=l.Editor;(this.isActive(p)||e.force||!f.strict)&&(p&&delete this.active[p],r=t.callStop(h,e))}return r},n.prototype.create=function(t){t.stop||(t.noStop=!0);var e=gp.default.extend(t);return new e(this.config)},n.prototype.__onRun=function(t,e){var r=this,o=r.em,l=r.events;o.on("".concat(l.runCommand).concat(t),e)},n.prototype.__onStop=function(t,e){var r=this,o=r.em,l=r.events;o.on("".concat(l.stopCommand).concat(t),e)},n.prototype.destroy=function(){this.defaultCommands={},this.commands={},this.active={}},n}(R);const jv=Lv;var Dv=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),_d="contentEditable",Bu="data-toggle-move",Iv=function(a){Dv(n,a);function n(t){var e=a.call(this,t)||this;(0,V.bindAll)(e,"__render"),e.opt=t,e.module=t.module,e.config=t.config||{},e.sorter=t.sorter||"",e.parentView=t.parentView;var r=e,o=r.model,l=r.pfx,f=r.ppfx,p=o.get("type")||"default";return e.className="".concat(l,"layer ").concat(l,"layer__t-").concat(p," no-select ").concat(f,"two-color"),e.inputNameCls="".concat(f,"layer-name"),e.clsTitleC="".concat(l,"layer-title-c"),e.clsTitle="".concat(l,"layer-title"),e.clsCaret="".concat(l,"layer-caret"),e.clsCount="".concat(l,"layer-count"),e.clsMove="".concat(l,"layer-move"),e.clsChildren="".concat(l,"layer-children"),e.clsNoChild="".concat(l,"layer-no-chld"),e.clsEdit="".concat(e.inputNameCls,"--edit"),e.clsNoEdit="".concat(e.inputNameCls,"--no-edit"),e.initComponent(),e}return n.prototype.events=function(){var t;return t={},t["mousedown [".concat(Bu,"]")]="startSort",t["touchstart [".concat(Bu,"]")]="startSort",t["click [data-toggle-visible]"]="toggleVisibility",t["click [data-toggle-open]"]="toggleOpening",t["click [data-toggle-select]"]="handleSelect",t["mouseover [data-toggle-select]"]="handleHover",t["mouseout [data-toggle-select]"]="handleHoverOut",t["dblclick [data-name]"]="handleEdit",t["keydown [data-name]"]="handleEditKey",t["focusout [data-name]"]="handleEditEnd",t},n.prototype.template=function(t){var e=this,r=e.pfx,o=e.ppfx,l=e.config,f=e.clsNoEdit,p=e.module,h=e.opt,v=e.em,_=l.hidable,A=p.getComponents(t).length,B=A?"":this.clsNoChild,nt="".concat(this.clsTitle," ").concat(B),ft="".concat(this.clsTitleC),pt="".concat(this.inputNameCls," ").concat(f," ").concat(o,"no-app"),Pt=h.level||0,Ft="".concat(Pt*10,"px"),Bt=t.getName(),te=t.getIcon(),de="".concat(r,"layer"),Oe=(v==null?void 0:v.getConfig()).icons,Me=Oe,ae=Me.move,ke=Me.eye,Be=Me.eyeOff,ur=Me.chevron;return`
      <div class="`.concat(r,"layer-item ").concat(o,`one-bg" data-toggle-select>
        <div class="`).concat(r,`layer-item-left">
          `).concat(_?'<i class="'.concat(r,`layer-vis" data-toggle-visible>
                <i class="`).concat(r,'layer-vis-on">').concat(ke,`</i>
                <i class="`).concat(r,'layer-vis-off">').concat(Be,`</i>
              </i>`):"",`
          <div class="`).concat(ft,`">
            <div class="`).concat(nt,'" style="padding-left: ').concat(Ft,`">
              <div class="`).concat(r,'layer-title-inn" title="').concat(Bt,`">
                <i class="`).concat(this.clsCaret,'" data-toggle-open>').concat(ur,`</i>
                  `).concat(te?'<span class="'.concat(de,'__icon">').concat(te,"</span>"):"",`
                <span class="`).concat(pt,'" data-name>').concat(Bt,`</span>
              </div>
            </div>
          </div>
        </div>
        <div class="`).concat(r,`layer-item-right">
          <div class="`).concat(this.clsCount,'" data-count>').concat(A||"",`</div>
          <div class="`).concat(this.clsMove,'" ').concat(Bu,">").concat(ae||"",`</div>
        </div>
      </div>
      <div class="`).concat(this.clsChildren,`"></div>
    `)},Object.defineProperty(n.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"ppfx",{get:function(){return this.em.getConfig().stylePrefix},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"pfx",{get:function(){return this.config.stylePrefix},enumerable:!1,configurable:!0}),n.prototype.initComponent=function(){var t=this,e=this,r=e.model,o=e.config,l=o.onInit,f=r.components();this.listenTo(f,"remove add reset",this.checkChildren),[["change:status",this.updateStatus],["change:open",this.updateOpening],["change:layerable",this.updateLayerable],["change:style:display",this.updateVisibility],["change:draggable",this.updateMove],["rerender:layer",this.render],["change:name change:custom-name",this.updateName]].forEach(function(p){return t.listenTo(r,p[0],p[1])}),this.$el.data("model",r),this.$el.data("collection",f),r.viewLayer=this,l.bind(this)({component:r,render:this.__render,listenTo:this.listenTo})},n.prototype.updateName=function(){this.getInputName().innerText=this.model.getName()},n.prototype.getVisibilityEl=function(){return this.getItemContainer().find("[data-toggle-visible]")},n.prototype.updateVisibility=function(){var t=this,e=t.pfx,r=t.model,o=t.module,l="".concat(e,"layer-hidden"),f=!o.isVisible(r),p=f?"addClass":"removeClass";this.$el[p](l),this.getVisibilityEl()[p]("".concat(e,"layer-off"))},n.prototype.updateMove=function(){var t=this,e=t.model,r=t.config,o=this.getItemContainer().find("[".concat(Bu,"]"))[0];if(o){var l=e.get("draggable")&&r.sortable;o.style.display=l?"":"none"}},n.prototype.toggleVisibility=function(t){t==null||t.stopImmediatePropagation();var e=this,r=e.module,o=e.model;r.setVisible(o,!r.isVisible(o))},n.prototype.handleEdit=function(t){t==null||t.stopPropagation();var e=this,r=e.em,o=e.$el,l=e.clsNoEdit,f=e.clsEdit,p=this.getInputName();p[_d]="true",p.focus(),document.execCommand("selectAll",!1),r.setEditing(!0),o.find(".".concat(this.inputNameCls)).removeClass(l).addClass(f)},n.prototype.handleEditKey=function(t){t.stopPropagation(),((0,ee.kl)(t)||(0,ee.r$)(t))&&this.handleEditEnd(t)},n.prototype.handleEditEnd=function(t){t==null||t.stopPropagation();var e=this,r=e.em,o=e.$el,l=e.clsNoEdit,f=e.clsEdit,p=e.model,h=this.getInputName(),v=h.textContent;h.scrollLeft=0,h[_d]="false",p.setName(v),r.setEditing(!1),o.find(".".concat(this.inputNameCls)).addClass(l).removeClass(f),this.updateName()},n.prototype.getInputName=function(){return this.inputName||(this.inputName=this.el.querySelector(".".concat(this.inputNameCls))),this.inputName},n.prototype.updateOpening=function(){var t=this,e=t.$el,r=t.model,o=t.pfx,l="open",f="".concat(o,"layer-open"),p=this.getCaret();this.module.isOpen(r)?(e.addClass(l),p.addClass(f)):(e.removeClass(l),p.removeClass(f))},n.prototype.toggleOpening=function(t){var e=this,r=e.model,o=e.module;t==null||t.stopImmediatePropagation(),r.get("components").length&&o.setOpen(r,!o.isOpen(r))},n.prototype.handleSelect=function(t){t==null||t.stopPropagation();var e=this,r=e.module,o=e.model;r.setLayerData(o,{selected:!0},{event:t})},n.prototype.handleHover=function(t){t==null||t.stopPropagation();var e=this,r=e.module,o=e.model;r.setLayerData(o,{hovered:!0})},n.prototype.handleHoverOut=function(t){t==null||t.stopPropagation();var e=this,r=e.module,o=e.model;r.setLayerData(o,{hovered:!1})},n.prototype.startSort=function(t){var e,r,o;t.stopPropagation();var l=this,f=l.em,p=l.sorter,h=l.model;if(!(t.button&&t.button!==0)&&p){var v=((r=(e=h.delegate)===null||e===void 0?void 0:e.move)===null||r===void 0?void 0:r.call(e,h))||h;p.onStart=yd(f),p.onMoveClb=bd(f),p.onEndMove=wd(f,[v]);var _=((o=v.viewLayer)===null||o===void 0?void 0:o.el)||t.target;p.startSort(_)}},n.prototype.updateStatus=function(){Sr.prototype.updateStatus.apply(this,[{avoidHover:!this.config.highlightHover,noExtHl:!0}])},n.prototype.getItemContainer=function(){return this.$el.children("[data-toggle-select]")},n.prototype.checkChildren=function(){var t=this,e=t.model,r=t.clsNoChild,o=t.module,l=o.getComponents(e).length,f=this.getItemContainer(),p=f.find(".".concat(this.clsTitle)),h=f.find("[data-count]");p[l?"removeClass":"addClass"](r),h.html("".concat(l||"")),!l&&o.setOpen(e,!1)},n.prototype.getCaret=function(){return(!this.caret||!this.caret.length)&&(this.caret=this.getItemContainer().find(".".concat(this.clsCaret))),this.caret},n.prototype.setRoot=function(t){var e,r=(0,V.isString)(t)?(e=this.em.getWrapper())===null||e===void 0?void 0:e.find(t)[0]:t;r&&(this.stopListening(),this.model=r,this.initComponent(),this._rendered&&this.render())},n.prototype.updateLayerable=function(){var t=this.parentView,e=t||this;e.render()},n.prototype.__clearItems=function(){var t;(t=this.items)===null||t===void 0||t.remove()},n.prototype.remove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return m.G7.prototype.remove.apply(this,t),this.__clearItems(),this},n.prototype.render=function(){var t=this,e=t.model,r=t.config,o=t.pfx,l=t.ppfx,f=t.opt,p=t.sorter;this.__clearItems();var h=f.opened,v=f.module,_=f.ItemView,A=!v.__isLayerable(e),B=this.$el.empty(),nt=f.level+1;delete this.inputName,this.items=new Pv({ItemView:_,collection:e.get("components"),config:r,sorter:p,opened:h,parentView:this,parent:e,level:nt,module:v});var ft=this.items.render().$el;return!r.showWrapper&&nt===1?B.append(ft):(B.html(this.template(e)),B.find(".".concat(this.clsChildren)).append(ft)),!v.isVisible(e)&&(this.className+=" ".concat(o,"hide")),A&&(this.className+=" ".concat(l,"hidden")),B.attr("class",this.className),this.updateStatus(),this.updateOpening(),this.updateVisibility(),this.updateMove(),this.__render(),this._rendered=!0,this},n.prototype.__render=function(){var t=this,e=t.model,r=t.config,o=t.el,l=r.onRender,f={component:e,el:o};l.bind(this)(f),this.em.trigger("layer:render",f)},n}(m.G7);const Vv=Iv;var Rv=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),mp=function(){return mp=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},mp.apply(this,arguments)},xd="layer",yp="".concat(xd,":"),Cd="".concat(yp,"root"),Sd="".concat(yp,"component"),Nv="".concat(yp,"custom"),Fv={all:xd,root:Cd,component:Sd,custom:Nv},bp={mediaText:""},Hv=["open","status","locked","custom-name","components","classes"].map(function(a){return"".concat(Ae.g.update,":").concat(a)}).join(" "),Bv=function(a){return a===void 0&&(a={}),(a.display||"").trim().indexOf("none")===0},Uv=function(a){Rv(n,a);function n(t){var e=a.call(this,t,"LayerManager",Sv)||this;return e.events=Fv,(0,V.bindAll)(e,"componentChanged","__onRootChange","__onComponent"),e.model=new ot.Z(e,{opened:{}}),e.config.stylePrefix=e.config.pStylePrefix,e}return n.prototype.onLoad=function(){var t=this,e=this,r=e.em,o=e.config,l=e.model;l.listenTo(r,"component:selected",this.componentChanged),l.on("change:root",this.__onRootChange),l.listenTo(r,Hv,this.__onComponent),this.componentChanged(),l.listenToOnce(r,"load",function(){t.setRoot(o.root),t.__appendTo()})},n.prototype.setRoot=function(t){var e=this.em.getWrapper(),r=(0,vt.isComponent)(t)?t:e;return t&&(0,V.isString)(t)&&(0,vt.hasWin)()&&(r=e.find(t)[0]||e),this.model.set("root",r),r},n.prototype.getRoot=function(){return this.model.get("root")},n.prototype.getComponents=function(t){var e=this;return t.components().filter(function(r){return e.__isLayerable(r)})},n.prototype.setOpen=function(t,e){t.set("open",e)},n.prototype.isOpen=function(t){return!!t.get("open")},n.prototype.setVisible=function(t,e){var r="__prev-display",o=t.getStyle(bp),l=o.display;if(e){var f=t.get(r);delete o.display,f&&(o.display=f,t.unset(r))}else l&&t.set(r,l),o.display="none";t.setStyle(o,bp),this.updateLayer(t),this.em.trigger("component:toggled")},n.prototype.isVisible=function(t){return!Bv(t.getStyle(bp))},n.prototype.setLocked=function(t,e){t.set("locked",e)},n.prototype.isLocked=function(t){return!!t.get("locked")},n.prototype.setName=function(t,e){t.set("custom-name",e)},n.prototype.getName=function(t){return t.getName()},n.prototype.getLayerData=function(t){var e=t.get("status");return{name:t.getName(),open:this.isOpen(t),selected:e==="selected",hovered:e==="hovered",visible:this.isVisible(t),locked:this.isLocked(t),components:this.getComponents(t)}},n.prototype.setLayerData=function(t,e,r){var o;r===void 0&&(r={});var l=this,f=l.em,p=l.config,h=e.open,v=e.selected,_=e.hovered,A=e.visible,B=e.locked,nt=e.name,ft=mp({fromLayers:!0},r);if((0,vt.isDef)(h)&&this.setOpen(t,h),(0,vt.isDef)(v))if(v){f.setSelected(t,ft);var pt=p.scrollCanvas;pt&&((o=t.views)===null||o===void 0||o.forEach(function(Pt){return Pt.scrollIntoView(pt)}))}else f.removeSelected(t,ft);(0,vt.isDef)(_)&&p.showHover&&(_?f.setHovered(t,ft):f.setHovered(null,ft)),(0,vt.isDef)(A)&&A!==this.isVisible(t)&&this.setVisible(t,A),(0,vt.isDef)(B)&&this.setLocked(t,B),(0,vt.isDef)(nt)&&this.setName(t,nt)},n.prototype.componentChanged=function(t,e){var r;if(e===void 0&&(e={}),!e.fromLayers){var o=this,l=o.em,f=o.config,p=f.scrollLayers,h=this.model.get("opened"),v=l.getSelected(),_=v==null?void 0:v.parent();for(var A in h)h[A].set("open",!1),delete h[A];for(;_;)_.set("open",!0),h[_.cid]=_,_=_.parent();if(v&&p){var B=(r=v.viewLayer)===null||r===void 0?void 0:r.el;B==null||B.scrollIntoView(p)}}},n.prototype.getAll=function(){return this.view},n.prototype.render=function(){var t,e,r=this,o=r.config,l=r.model,f=Vv.extend(o.extend);return this.view=new f({el:(t=this.view)===null||t===void 0?void 0:t.el,ItemView:f,level:0,config:o,opened:l.get("opened"),model:this.getRoot(),module:this}),(e=this.view)===null||e===void 0?void 0:e.render().el},n.prototype.destroy=function(){var t;(t=this.view)===null||t===void 0||t.remove()},n.prototype.__onRootChange=function(){var t,e=this.getRoot();(t=this.view)===null||t===void 0||t.setRoot(e),this.em.trigger(Cd,e),this.__trgCustom()},n.prototype.__onComponent=function(t){this.updateLayer(t)},n.prototype.__isLayerable=function(t){var e=t.get("tagName"),r=this.config.hideTextnode,o=!r||!t.isInstanceOf("textnode")&&e!=="br";return o&&t.get("layerable")},n.prototype.__trgCustom=function(t){var e=this,r=e.__ctn,o=e.em,l=e.events;this.__ctn=r||(t==null?void 0:t.container),o.trigger(l.custom,{container:this.__ctn,root:this.getRoot()})},n.prototype.updateLayer=function(t,e){this.em.trigger(Sd,t,e)},n}(R);const zv=Uv;var Wv={assets:[],noAssets:"",stylePrefix:"am-",upload:"",uploadName:"files",headers:{},params:{},credentials:"include",multiUpload:!0,multiUploadSuffix:"[]",autoAdd:!0,customFetch:void 0,uploadFile:void 0,embedAsBase64:!0,handleAdd:void 0,beforeUpload:void 0,showUrlInput:!0,custom:!1,dropzone:!1,openAssetsOnDrop:!0,dropzoneContent:""};const Gv=Wv;var Kv=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Od=function(a){Kv(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.getDefaults=function(){return(0,V.result)(this.prototype,"defaults")},n.prototype.defaults=function(){return{type:"",src:""}},n.prototype.getType=function(){return this.get("type")},n.prototype.getSrc=function(){return this.get("src")},n.prototype.getFilename=function(){return this.get("src").split("/").pop().split("?").shift()},n.prototype.getExtension=function(){return this.getFilename().split(".").pop()},n}(m.Hn);const wp=Od;Od.prototype.idAttribute="src";var $v=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Uu=function(){return Uu=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Uu.apply(this,arguments)},qv=function(a){$v(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.defaults=function(){return Uu(Uu({},wp.getDefaults()),{type:"image",unitDim:"px",height:0,width:0})},n}(wp);const Zv=qv;var Yv=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Xv=function(a){Yv(n,a);function n(t){var e=a.call(this,t)||this;e.options=t,e.collection=t.collection;var r=t.config||{};e.config=r,e.pfx=r.stylePrefix||"",e.ppfx=r.pStylePrefix||"",e.em=r.em,e.className=e.pfx+"asset",e.listenTo(e.model,"destroy remove",e.remove),e.model.view=e;var o=e.init&&e.init.bind(e);return o&&o(t),e}return n.prototype.__getBhv=function(){var t=this.em,e=t==null?void 0:t.Assets;return(e==null?void 0:e.__getBehaviour())||{}},n.prototype.template=function(t,e){var r=this.pfx;return`
      <div class="`.concat(r,`preview-cont">
        `).concat(this.getPreview(),`
      </div>
      <div class="`).concat(r,`meta">
        `).concat(this.getInfo(),`
      </div>
      <div class="`).concat(r,`close" data-toggle="asset-remove">
        &Cross;
      </div>
    `)},n.prototype.updateTarget=function(t){t&&t.set&&(t.set("attributes",(0,V.clone)(t.get("attributes"))),t.set("src",this.model.get("src")))},n.prototype.getPreview=function(){return""},n.prototype.getInfo=function(){return""},n.prototype.render=function(){var t=this.el;return t.innerHTML=this.template(this,this.model),t.className=this.className,this},n}(m.G7);const Jv=Xv;var Qv=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Td=function(a,n){return Object.defineProperty?Object.defineProperty(a,"raw",{value:n}):a.raw=n,a},Pd=function(a){Qv(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.getPreview=function(){var t=this,e=t.pfx,r=t.ppfx,o=t.model,l=o.get("src");return bt(Ed||(Ed=Td([`
      <div class="`,`preview" style="background-image: url('`,`');"></div>
      <div class="`,"preview-bg ",`checker-bg"></div>
    `],[`
      <div class="`,`preview" style="background-image: url('`,`');"></div>
      <div class="`,"preview-bg ",`checker-bg"></div>
    `])),e,l,e,r)},n.prototype.getInfo=function(){var t=this,e=t.pfx,r=t.model,o=r.get("name"),l=r.get("width"),f=r.get("height"),p=r.get("unitDim"),h=l&&f?"".concat(l,"x").concat(f).concat(p):"";return o=o||r.getFilename(),bt(kd||(kd=Td([`
      <div class="`,'name">',`</div>
      <div class="`,'dimensions">',`</div>
    `],[`
      <div class="`,'name">',`</div>
      <div class="`,'dimensions">',`</div>
    `])),e,o,e,h)},n.prototype.init=function(t){var e=this.pfx;this.className+=" ".concat(e,"asset-image")},n.prototype.onClick=function(){var t=this,e=t.model,r=t.pfx,o=this.__getBhv().select,l=this.config.onClick,f=this.collection;f.trigger("deselectAll"),this.$el.addClass(r+"highlight"),(0,V.isFunction)(o)?o(e,!1):(0,V.isFunction)(l)?l(e):this.updateTarget(f.target)},n.prototype.onDblClick=function(){var t=this,e=t.em,r=t.model,o=this.__getBhv().select,l=this.config.onDblClick,f=this.collection,p=f.target,h=f.onSelect;(0,V.isFunction)(o)?o(r,!0):(0,V.isFunction)(l)?l(r):(this.updateTarget(p),e==null||e.Modal.close()),(0,V.isFunction)(h)&&h(r)},n.prototype.onRemove=function(t){t.stopImmediatePropagation(),this.model.collection.remove(this.model)},n}(Jv);const tg=Pd;Pd.prototype.events={"click [data-toggle=asset-remove]":"onRemove",click:"onClick",dblclick:"onDblClick"};var Ed,kd,zu=function(){return zu=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},zu.apply(this,arguments)},eg={types:[],initialize:function(a,n){var t=this;n===void 0&&(n={});var e=n.em;this.em=e,this.opts=n,this.model=function(o,l){o===void 0&&(o={}),l===void 0&&(l={});var f,p,h;if(o&&o.type){var v=t.getBaseType();h=t.getType(o.type),f=h?h.model:v.model,p=h?h.view:v.view}else{var _=t.recognizeType(o);h=_.type,f=h.model,p=h.view,o=_.attributes}var A=new f(o,zu(zu({},l),{em:e}));return A.typeView=p,A};var r=this.init&&this.init.bind(this);r&&r()},recognizeType:function(a){for(var n=this.getTypes(),t=0;t<n.length;t++){var e=n[t],r=e.isType(a);if(r=typeof r=="boolean"&&r?{type:e.id}:r,r)return{type:e,attributes:r}}return{type:this.getBaseType(),attributes:a}},getBaseType:function(){var a=this.getTypes();return a[a.length-1]},getTypes:function(){return this.types},getType:function(a){for(var n=this.getTypes(),t=0;t<n.length;t++){var e=n[t];if(e.id===a)return e}},addType:function(a,n){var t=this.getType(a),e=this.getBaseType(),r=t?t.model:e.model,o=t?t.view:e.view,l=n.model,f=n.view,p=n.isType;l=l instanceof m.Hn||(0,V.isFunction)(l)?l:r.extend(l||{}),f=f instanceof m.G7||(0,V.isFunction)(f)?f:o.extend(f||{}),this.extendViewApi&&!n.model&&!n.view&&(f=f.extend(n)),t?(t.model=l,t.view=f,t.isType=p||t.isType):(n.id=a,n.model=l,n.view=f,n.isType=p||function(h){if(h&&h.type==a)return!0},this.getTypes().unshift(n))}};const Ad=eg;var rg=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ng=m.FE.extend(Ad),Md=function(a){rg(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n}(ng);const _p=Md;Md.prototype.types=[{id:"image",model:Zv,view:tg,isType:function(a){return typeof a=="string"?{type:"image",src:a}:a}}];var xp;(function(a){a.add="asset:add",a.remove="asset:remove",a.removeBefore="asset:remove:before",a.update="asset:update",a.open="asset:open",a.close="asset:close",a.uploadStart="asset:upload:start",a.uploadEnd="asset:upload:end",a.uploadError="asset:upload:error",a.uploadResponse="asset:upload:response",a.custom="asset:custom",a.all="asset"})(xp||(xp={}));const Ld=xp;var og=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),jd=function(a){og(n,a);function n(t){t===void 0&&(t={});var e=a.call(this,t)||this;e.options=t,e.config=t.config,e.pfx=e.config.stylePrefix||"",e.ppfx=e.config.pStylePrefix||"",e.em=e.config.em;var r=e.collection;return e.listenTo(r,"reset",e.renderAssets),e.listenTo(r,"add",e.addToAsset),e.listenTo(r,"remove",e.removedAsset),e.listenTo(r,"deselectAll",e.deselectAll),e}return n.prototype.template=function(t){var e=t.pfx,r=t.ppfx,o=t.em,l="";return this.config.showUrlInput&&(l=`
          <form class="`.concat(e,`add-asset">
            <div class="`).concat(r,"field ").concat(e,`add-field">
              <input placeholder="`).concat(o==null?void 0:o.t("assetManager.inputPlh"),`"/>
            </div>
            <button class="`).concat(r,'btn-prim">').concat(o==null?void 0:o.t("assetManager.addButton"),`</button>
            <div style="clear:both"></div>
          </form>
      `)),`
    <div class="`.concat(e,`assets-cont">
      <div class="`).concat(e,`assets-header">
        `).concat(l,`
      </div>
      <div class="`).concat(e,`assets" data-el="assets"></div>
      <div style="clear:both"></div>
    </div>
    `)},n.prototype.handleSubmit=function(t){t.preventDefault();var e=this.getAddInput(),r=e&&e.value.trim(),o=this.config.handleAdd;if(r){e.value="";var l=this.getAssetsEl();l&&(l.scrollTop=0),o?o.bind(this)(r):this.options.globalCollection.add(r,{at:0})}},n.prototype.getAssetsEl=function(){return this.el.querySelector(".".concat(this.pfx,"assets"))},n.prototype.getAddInput=function(){return(!this.inputUrl||!this.inputUrl.value)&&(this.inputUrl=this.el.querySelector(".".concat(this.pfx,"add-asset input"))),this.inputUrl},n.prototype.removedAsset=function(t){this.collection.length||this.toggleNoAssets()},n.prototype.addToAsset=function(t){this.collection.length==1&&this.toggleNoAssets(!0),this.addAsset(t)},n.prototype.addAsset=function(t,e){e===void 0&&(e=null);var r=e,o=this.collection,l=this.config,f=new t.typeView({model:t,collection:o,config:l}).render().el;if(r)r.appendChild(f);else{var p=this.getAssetsEl();p&&p.insertBefore(f,p.firstChild)}return f},n.prototype.toggleNoAssets=function(t){t===void 0&&(t=!1);var e=this.$el.find(".".concat(this.pfx,"assets"));if(t)e.empty();else{var r=this.config.noAssets;r&&e.append(r)}},n.prototype.deselectAll=function(){var t=this.pfx;this.$el.find(".".concat(t,"highlight")).removeClass("".concat(t,"highlight"))},n.prototype.renderAssets=function(){var t=this,e=document.createDocumentFragment(),r=this.$el.find(".".concat(this.pfx,"assets"));r.empty(),this.toggleNoAssets(!!this.collection.length),this.collection.each(function(o){return t.addAsset(o,e)}),r.append(e)},n.prototype.render=function(){var t=this.options.fu.render().el;return this.$el.empty(),this.$el.append(t).append(this.template(this)),this.el.className="".concat(this.ppfx,"asset-manager"),this.renderAssets(),this},n}(m.G7);const ig=jd;jd.prototype.events={submit:"handleSubmit"};var ag=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),sg=function(a,n){return Object.defineProperty?Object.defineProperty(a,"raw",{value:n}):a.raw=n,a},lg=function(a){ag(n,a);function n(t){t===void 0&&(t={});var e=a.call(this,t)||this;e.options=t;var r=t.config||{};e.module=t.module,e.config=r,e.em=e.config.em,e.pfx=r.stylePrefix||"",e.ppfx=r.pStylePrefix||"",e.target=e.options.globalCollection||{},e.uploadId=e.pfx+"uploadFile",e.disabled=r.disableUpload!==void 0?r.disableUpload:!r.upload&&!r.embedAsBase64,e.multiUpload=r.multiUpload!==void 0?r.multiUpload:!0;var o=r.uploadFile;return o?e.uploadFile=o.bind(e):!r.upload&&r.embedAsBase64&&(e.uploadFile=n.embedAsBase64),e.delegateEvents(),e}return n.prototype.template=function(t){var e=t.pfx,r=t.title,o=t.uploadId,l=t.disabled,f=t.multiUpload;return bt(Dd||(Dd=sg([`
      <form>
        <div id="`,'title">',`</div>
        <input
          data-input
          type="file"
          id="`,`"
          name="file"
          accept="*/*"
          `,`
          `,`
        />
        <div style="clear:both;"></div>
      </form>
    `],[`
      <form>
        <div id="`,'title">',`</div>
        <input
          data-input
          type="file"
          id="`,`"
          name="file"
          accept="*/*"
          `,`
          `,`
        />
        <div style="clear:both;"></div>
      </form>
    `])),e,r,o,l?"disabled":"",f?"multiple":"")},n.prototype.events=function(){return{"change [data-input]":"uploadFile"}},n.prototype.onUploadStart=function(){var t=this.module;t==null||t.__propEv(t.events.uploadStart)},n.prototype.onUploadEnd=function(t){var e=this,r=e.$el,o=e.module;o==null||o.__propEv(o.events.uploadEnd,t);var l=r.find("input");l&&l.val("")},n.prototype.onUploadError=function(t){var e=this.module;console.error(t),this.onUploadEnd(t),e==null||e.__propEv(e.events.uploadError,t)},n.prototype.onUploadResponse=function(t,e){var r=this,o=r.module,l=r.config,f=r.target,p;try{p=typeof t=="string"?JSON.parse(t):t}catch{p=t}o==null||o.__propEv(o.events.uploadResponse,p),l.autoAdd&&f&&f.add(p.data,{at:0}),this.onUploadEnd(t),e==null||e(p)},n.prototype.uploadFile=function(t,e){var r=this,o=t.dataTransfer?t.dataTransfer.files:t.target.files,l=this.config,f=l.beforeUpload,p=f&&f(o);if(p!==!1){var h=new FormData,v=l.params,_=l.customFetch,A=l.fetchOptions;for(var B in v)h.append(B,v[B]);if(this.multiUpload)for(var nt=0;nt<o.length;nt++)h.append("".concat(l.uploadName).concat(l.multiUploadSuffix),o[nt]);else o.length&&h.append(l.uploadName,o[0]);var ft=l.upload,pt=l.headers,Pt="X-Requested-With";if(typeof pt[Pt]>"u"&&(pt[Pt]="XMLHttpRequest"),ft){this.onUploadStart();var Ft={method:"post",credentials:l.credentials||"include",headers:pt,body:h},Bt=(A==null?void 0:A(Ft))||Ft,te=_?_(ft,Bt):j(ft,Bt).then(function(de){return(de.status/200|0)==1?de.text():de.text().then(function(Oe){return Promise.reject(Oe)})});return te.then(function(de){return r.onUploadResponse(de,e)}).catch(function(de){return r.onUploadError(de)})}}},n.prototype.initDrop=function(){var t=this;if(!this.uploadForm){this.uploadForm=this.$el.find("form").get(0);var e=this.uploadForm;"draggable"in e&&(this.uploadForm.ondragover=function(){return e.className=t.pfx+"hover",!1},this.uploadForm.ondragleave=function(){return e.className="",!1},this.uploadForm.ondrop=function(r){e.className="",r.preventDefault(),t.uploadFile(r)})}},n.prototype.initDropzone=function(t){var e=this,r=0,o=this.config,l=t.model,f=t.el,p=l.Editor,h=l.Canvas.getBody(),v=this.ppfx,_="".concat(v,"dropzone-active"),A="".concat(v,"dropzone"),B=function(){f.className=f.className.replace(_,"").trim(),r=0},nt=function(){return r||(f.className+=" ".concat(_),r=1),!1},ft=function(){return B(),!1},pt=function(Pt){if(B(),Pt.preventDefault(),Pt.stopPropagation(),e.uploadFile(Pt),o.openAssetsOnDrop&&p){var Ft=p.getSelected();p.runCommand("open-assets",{target:Ft,onSelect:function(){p.Modal.close(),p.AssetManager.setTarget(null)}})}return!1};t.$el.append('<div class="'.concat(A,'">').concat(o.dropzoneContent,"</div>")),B(),"draggable"in f&&[f,h].forEach(function(Pt){Pt.ondragover=nt,Pt.ondragleave=ft,Pt.ondrop=pt})},n.prototype.render=function(){var t=this,e=t.$el,r=t.pfx,o=t.em;return e.html(this.template({title:o&&o.t("assetManager.uploadTitle"),uploadId:this.uploadId,disabled:this.disabled,multiUpload:this.multiUpload,pfx:r})),this.initDrop(),e.attr("class",r+"file-uploader"),this},n.embedAsBase64=function(t,e){var r=this,o=t.dataTransfer?t.dataTransfer.files:t.target.files,l={data:[]};if(!FileReader){this.onUploadError(new Error("Unsupported platform, FileReader is not defined"));return}for(var f=[],p=/^(.+)\/(.+)$/,h=function(B){var nt=new Promise(function(ft,pt){var Pt=new FileReader;Pt.addEventListener("load",function(Ft){var Bt,te=B.name,de=p.exec(B.type);if(de?Bt=de[1]:Bt=B.type,Bt==="image"){var Oe={src:Pt.result,name:te,type:Bt,height:0,width:0},Me=new Image;Me.addEventListener("error",function(ae){pt(ae)}),Me.addEventListener("load",function(){Oe.height=Me.height,Oe.width=Me.width,ft(Oe)}),Me.src=Oe.src}else ft(Bt?{src:Pt.result,name:te,type:Bt}:Pt.result)}),Pt.addEventListener("error",function(Ft){pt(Ft)}),Pt.addEventListener("abort",function(Ft){pt("Aborted")}),Pt.readAsDataURL(B)});f.push(nt)},v=0,_=o;v<_.length;v++){var A=_[v];h(A)}return Promise.all(f).then(function(B){l.data=B,r.onUploadResponse(l,e)},function(B){r.onUploadError(B)})},n}(m.G7);const cg=lg;var Dd,ug=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),pl=function(){return pl=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},pl.apply(this,arguments)},Id=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return a.concat(o||Array.prototype.slice.call(n))},pc="open-assets",fg=function(a){ug(n,a);function n(t){var e=a.call(this,t,"AssetManager",new _p([],t),Ld,Gv)||this;e.storageKey="assets",e.Asset=wp,e.Assets=_p,e.events=Ld;var r=e,o=r.all,l=r.config;e.assetsVis=new _p([]);var f=l.pStylePrefix;return f&&(l.stylePrefix="".concat(f).concat(l.stylePrefix)),o.on("add",function(p){return e.getAllVisible().add(p)}),o.on("remove",function(p){return e.getAllVisible().remove(p)}),e.__onAllEvent=(0,V.debounce)(function(){return e.__trgCustom()},0),e}return n.prototype.open=function(t){t===void 0&&(t={});var e=this.em.Commands;e.run(pc,pl({types:["image"],select:function(){}},t))},n.prototype.close=function(){var t=this.em.Commands;t.stop(pc)},n.prototype.isOpen=function(){var t=this.em.Commands;return!!(t!=null&&t.isActive(pc))},n.prototype.add=function(t,e){return e===void 0&&(e={}),typeof e.at>"u"&&(e.at=0),this.all.add(t,e)},n.prototype.get=function(t){return this.all.where({src:t})[0]||null},n.prototype.getAll=function(){return this.all},n.prototype.getAllVisible=function(){return this.assetsVis},n.prototype.remove=function(t,e){return this.__remove(t,e)},n.prototype.store=function(){return this.getProjectData()},n.prototype.load=function(t){return this.loadProjectData(t)},n.prototype.getContainer=function(){var t,e=this.__getBehaviour();return e.container||((t=this.am)===null||t===void 0?void 0:t.el)},n.prototype.getAssetsEl=function(){var t;return(t=this.am)===null||t===void 0?void 0:t.el.querySelector("[data-el=assets]")},n.prototype.render=function(t){if(!this.getConfig().custom){var e=t||this.getAll().models;if(!this.am){var r=this.__viewParams();r.fu=this.FileUploader(),this.am=new ig(pl({},r)),this.am.render()}return this.assetsVis.reset(e),this.getContainer()}},n.prototype.__viewParams=function(){return{collection:this.assetsVis,globalCollection:this.all,config:this.config,module:this,fu:void 0}},n.prototype.addType=function(t,e){this.getAll().addType(t,e)},n.prototype.getType=function(t){return this.getAll().getType(t)},n.prototype.getTypes=function(){return this.getAll().getTypes()},n.prototype.AssetsView=function(){return this.am},n.prototype.FileUploader=function(){return this.fu||(this.fu=new cg(this.__viewParams())),this.fu},n.prototype.onLoad=function(){var t=this;this.getAll().reset(this.config.assets);var e=this,r=e.em,o=e.events;r.Commands.__onRun(pc,function(){return t.__propEv(o.open)}),r.Commands.__onStop(pc,function(){return t.__propEv(o.close)})},n.prototype.postRender=function(t){var e;this.config.dropzone&&((e=this.fu)===null||e===void 0||e.initDropzone(t))},n.prototype.setTarget=function(t){this.assetsVis.target=t},n.prototype.onSelect=function(t){this.assetsVis.onSelect=t},n.prototype.onClick=function(t){this.config.onClick=t},n.prototype.onDblClick=function(t){this.config.onDblClick=t},n.prototype.__propEv=function(t){for(var e,r,o=[],l=1;l<arguments.length;l++)o[l-1]=arguments[l];(e=this.em).trigger.apply(e,Id([t],o,!1)),(r=this.getAll()).trigger.apply(r,Id([t],o,!1))},n.prototype.__trgCustom=function(){var t=this.__getBehaviour(),e=this.getConfig().custom;!t.container&&!e.open||this.em.trigger(this.events.custom,this.__customData())},n.prototype.__customData=function(){var t=this,e=this.__getBehaviour();return{am:this,open:this.isOpen(),assets:this.getAll().models,types:e.types||[],container:e.container,close:function(){return t.close()},remove:function(r,o){return t.remove(r,o)},select:function(r,o){var l=t.add(r);(0,V.isFunction)(e.select)&&e.select(l,o)},options:e.options||{}}},n.prototype.__behaviour=function(t){return t===void 0&&(t={}),this._bhv=pl(pl({},this._bhv||{}),t)},n.prototype.__getBehaviour=function(t){return this._bhv||{}},n.prototype.destroy=function(){var t,e;this.all.stopListening(),this.all.reset(),this.assetsVis.stopListening(),this.assetsVis.reset(),(t=this.fu)===null||t===void 0||t.remove(),(e=this.am)===null||e===void 0||e.remove(),this._bhv={}},n}(D);const pg=fg;var dg=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),hg=function(a){dg(n,a);function n(t,e){e===void 0&&(e={});var r=a.call(this,t,e)||this,o=e.em,l={};r.em=o,t.frames||(l.component=t.component,l.styles=t.styles,["component","styles"].map(function(h){return r.unset(h)}));var f=t.frames||[l],p=new Se(o.Canvas,f);return p.page=r,r.set("frames",p),!r.getId()&&r.set("id",o==null?void 0:o.Pages._createId()),o==null||o.UndoManager.add(p),r}return n.prototype.defaults=function(){return{name:"",frames:[],_undo:!0}},n.prototype.onRemove=function(){this.getFrames().reset()},n.prototype.getFrames=function(){return this.get("frames")},n.prototype.getId=function(){return this.id},n.prototype.getName=function(){return this.get("name")},n.prototype.setName=function(t){return this.set({name:t})},n.prototype.getAllFrames=function(){return this.getFrames().models||[]},n.prototype.getMainFrame=function(){return this.getFrames().at(0)},n.prototype.getMainComponent=function(){var t=this.getMainFrame();return t==null?void 0:t.getComponent()},n.prototype.toJSON=function(t){t===void 0&&(t={});var e=m.Hn.prototype.toJSON.call(this,t),r=(0,V.result)(this,"defaults");return(0,V.forEach)(e,function(o,l){l.indexOf("_")===0&&delete e[l]}),(0,V.forEach)(r,function(o,l){e[l]===o&&delete e[l]}),e},n}(m.Hn);const Cp=hg;var vg=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Wu=function(){return Wu=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Wu.apply(this,arguments)},gg=function(a){vg(n,a);function n(t,e){var r=a.call(this,t)||this;return r.on("reset",r.onReset),r.on("remove",r.onRemove),r.model=function(o,l){return l===void 0&&(l={}),new Cp(o,Wu(Wu({},l),{em:e}))},r}return n.prototype.onReset=function(t,e){var r=this,o;(o=e==null?void 0:e.previousModels)===null||o===void 0||o.map(function(l){return r.onRemove(l)})},n.prototype.onRemove=function(t){t==null||t.onRemove()},n}(m.FE);const mg=gg;var yg=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),bg=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return a.concat(o||Array.prototype.slice.call(n))},Vd="change:selected",Rd="main",wg=function(a){yg(n,a);function n(t){var e=a.call(this,t,"PageManager",new mg([],t),tr)||this;e.events=tr,e.storageKey="pages",(0,V.bindAll)(e,"_onPageChange");var r=new ot.Z({_undo:!0});return e.model=r,e.pages.on("reset",function(o){return o.at(0)&&e.select(o.at(0))}),e.pages.on("all",e.__onChange,e),r.on(Vd,e._onPageChange),e}return Object.defineProperty(n.prototype,"pages",{get:function(){return this.all},enumerable:!1,configurable:!0}),n.prototype.getAll=function(){return bg([],this.all.models,!0)},n.prototype.__onChange=function(t,e,r,o){var l=this,f=l.em,p=l.events,h=o||r;f.trigger(p.all,{event:t,page:e,options:h})},n.prototype.onLoad=function(){var t,e=this,r=e.pages,o=e.config,l=e.em,f={silent:!0},p=((t=o.pages)===null||t===void 0?void 0:t.map(function(v){return new Cp(v,{em:l,config:o})}))||[];r.add(p,f);var h=r.length?this._initPage():this.add({type:Rd},f);h&&this.select(h,f)},n.prototype._onPageChange=function(t,e,r){var o=this,l=o.em,f=o.events,p=l.Layers,h=e.getMainComponent();p&&h&&p.setRoot(h),l.trigger(f.select,e,t.previous("selected")),this.__onChange(Vd,e,r)},n.prototype.postLoad=function(){var t=this,e=t.em,r=t.model,o=t.pages,l=e.UndoManager;l.add(r),l.add(o),o.on("add remove reset change",function(f,p,h){return e.changesUp(h||p)})},n.prototype.add=function(t,e){var r=this;e===void 0&&(e={});var o=this,l=o.em,f=o.events;t.id=t.id||this._createId();var p=function(){var h=r.pages.add(new Cp(t,{em:r.em,config:r.config}),e);return e.select&&r.select(h),h};return!e.silent&&l.trigger(f.addBefore,t,p,e),e.abort?void 0:p()},n.prototype.remove=function(t,e){var r=this;e===void 0&&(e={});var o=this,l=o.em,f=o.events,p=(0,V.isString)(t)?this.get(t):t,h=function(){return p&&r.pages.remove(p,e),p};return!e.silent&&l.trigger(f.removeBefore,p,h,e),!e.abort&&h()},n.prototype.get=function(t){return this.pages.filter(function(e){return e.get(e.idAttribute)===t})[0]},n.prototype.getMain=function(){var t=this.pages;return t.filter(function(e){return e.get("type")===Rd})[0]||t.at(0)},n.prototype.getAllWrappers=function(){var t=this.getAll();return(0,V.unique)((0,V.flatten)(t.map(function(e){return e.getAllFrames().map(function(r){return r.getComponent()})})))},n.prototype.select=function(t,e){e===void 0&&(e={});var r=this,o=r.em,l=r.model,f=r.events,p=(0,V.isString)(t)?this.get(t):t;return p&&(o.trigger(f.selectBefore,p,e),l.set("selected",p,e)),this},n.prototype.getSelected=function(){return this.model.get("selected")},n.prototype.destroy=function(){var t=this;this.pages.off().reset(),this.model.stopListening(),this.model.clear({silent:!0}),["selected","model"].map(function(e){return t[e]=0})},n.prototype.store=function(){return this.getProjectData()},n.prototype.load=function(t){var e=this.loadProjectData(t,{all:this.pages,reset:!0});return this.pages.forEach(function(r){return r.getFrames().initRefs()}),e},n.prototype._initPage=function(){return this.get(this.config.selected)||this.getMain()},n.prototype._createId=function(){var t=this.getAll(),e=t.length+16,r=this.getAllMap(),o;do o=(0,vt.createId)(e);while(r[o]);return o},n}(D);const _g=wg;var Sp={placeholder:"eg. Text here"},xg={locale:"en",localeFallback:"en",detectLocale:!0,debug:!1,messages:{en:{assetManager:{addButton:"Add image",inputPlh:"http://path/to/the/image.jpg",modalTitle:"Select Image",uploadTitle:"Drop files here or click to upload"},blockManager:{labels:{},categories:{}},domComponents:{names:{"":"Box",wrapper:"Body",text:"Text",comment:"Comment",image:"Image",video:"Video",label:"Label",link:"Link",map:"Map",tfoot:"Table foot",tbody:"Table body",thead:"Table head",table:"Table",row:"Table row",cell:"Table cell"}},deviceManager:{device:"Device",devices:{desktop:"Desktop",tablet:"Tablet",mobileLandscape:"Mobile Landscape",mobilePortrait:"Mobile Portrait"}},panels:{buttons:{titles:{preview:"Preview",fullscreen:"Fullscreen","sw-visibility":"View components","export-template":"View code","open-sm":"Open Style Manager","open-tm":"Settings","open-layers":"Open Layer Manager","open-blocks":"Open Blocks"}}},selectorManager:{label:"Classes",selected:"Selected",emptyState:"- State -",states:{hover:"Hover",active:"Click","nth-of-type(2n)":"Even/Odd"}},styleManager:{empty:"Select an element before using Style Manager",layer:"Layer",fileButton:"Images",sectors:{general:"General",layout:"Layout",typography:"Typography",decorations:"Decorations",extra:"Extra",flex:"Flex",dimension:"Dimension"},properties:{"text-shadow-h":"X","text-shadow-v":"Y","text-shadow-blur":"Blur","text-shadow-color":"Color","box-shadow-h":"X","box-shadow-v":"Y","box-shadow-blur":"Blur","box-shadow-spread":"Spread","box-shadow-color":"Color","box-shadow-type":"Type","margin-top-sub":"Top","margin-right-sub":"Right","margin-bottom-sub":"Bottom","margin-left-sub":"Left","padding-top-sub":"Top","padding-right-sub":"Right","padding-bottom-sub":"Bottom","padding-left-sub":"Left","border-width-sub":"Width","border-style-sub":"Style","border-color-sub":"Color","border-top-left-radius-sub":"Top Left","border-top-right-radius-sub":"Top Right","border-bottom-right-radius-sub":"Bottom Right","border-bottom-left-radius-sub":"Bottom Left","transform-rotate-x":"Rotate X","transform-rotate-y":"Rotate Y","transform-rotate-z":"Rotate Z","transform-scale-x":"Scale X","transform-scale-y":"Scale Y","transform-scale-z":"Scale Z","transition-property-sub":"Property","transition-duration-sub":"Duration","transition-timing-function-sub":"Timing","background-image-sub":"Image","background-repeat-sub":"Repeat","background-position-sub":"Position","background-attachment-sub":"Attachment","background-size-sub":"Size"}},traitManager:{empty:"Select an element before using Trait Manager",label:"Component settings",categories:{},traits:{labels:{},attributes:{id:Sp,alt:Sp,title:Sp,href:{placeholder:"eg. https://google.com"}},options:{target:{false:"This window",_blank:"New window"}}}},storageManager:{recover:"Do you want to recover unsaved changes?"}}},messagesAdd:void 0};const Cg=xg;var Op;(function(a){a.add="i18n:add",a.update="i18n:update",a.locale="i18n:locale"})(Op||(Op={}));const Sg=Op;var Og=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Tg=function(a){Og(n,a);function n(t){var e=a.call(this,t,"I18n",Cg)||this;e.events=Sg;var r=e.config.messagesAdd;return r&&e.addMessages(r),e.config.detectLocale&&(e.config.locale=e._localLang()),e}return n.prototype.setLocale=function(t){var e=this,r=e.em,o=e.config,l=e.events;return r.trigger(l.locale,{value:t,valuePrev:o.locale}),o.locale=t,this},n.prototype.getLocale=function(){return this.config.locale},n.prototype.getMessages=function(t,e){e===void 0&&(e={});var r=this.config.messages;return t&&!r[t]&&this._debug("'".concat(t,"' i18n lang not found"),e),t?r[t]:r},n.prototype.setMessages=function(t){var e=this,r=e.em,o=e.config,l=e.events;return o.messages=t,r.trigger(l.update,t),this},n.prototype.addMessages=function(t){var e=this,r=e.em,o=e.events,l=e.config,f=l.messages;return r.trigger(o.add,t),this.setMessages((0,vt.deepMerge)(f,t)),this},n.prototype.t=function(t,e){e===void 0&&(e={});var r=this.config,o=e.params||{},l=e.l||this.getLocale(),f=e.lFlb||r.localeFallback,p=this._getMsg(t,l,e);return p||(p=this._getMsg(t,f,e)),!p&&this._debug("'".concat(t,"' i18n key not found in '").concat(l,"' lang"),e),p=p&&(0,V.isString)(p)?this._addParams(p,o):p,p},n.prototype._localLang=function(){var t=(0,vt.hasWin)()&&window.navigator||{},e=t.language||t.userLanguage;return e?e.split("-")[0]:"en"},n.prototype._addParams=function(t,e){var r=new RegExp("{([\\w\\d-]*)}","g");return t.replace(r,function(o,l){return e[l]||""}).trim()},n.prototype._getMsg=function(t,e,r){r===void 0&&(r={});var o=this.getMessages(e,r);if(o){var l=o[t];return!l&&t.indexOf(".")>0&&(l=t.split(".").reduce(function(f,p){if(!(0,V.isUndefined)(f))return f[p]},o)),l}},n.prototype._debug=function(t,e){e===void 0&&(e={});var r=this,o=r.em,l=r.config;(e.debug||l.debug)&&o&&o.logWarning(t)},n.prototype.destroy=function(){},n}(R);const Pg=Tg;var Eg=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),li=function(){return li=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},li.apply(this,arguments)},kg=function(){},Ag=qe.q.Target,Nd={id:"sorter-target",type:Ag},Mg=function(a){Eg(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.initialize=function(t){t===void 0&&(t={}),this.opt=t||{},(0,V.bindAll)(this,"startSort","onMove","endMove","rollback","updateOffset","moveDragHelper");var e=t||{};this.elT=0,this.elL=0,this.borderOffset=e.borderOffset||10;var r=e.container;this.el=typeof r=="string"?document.querySelector(r):r,this.$el=(0,x.default)(this.el),this.containerSel=e.containerSel||"div",this.itemSel=e.itemSel||"div",this.draggable=e.draggable||!0,this.nested=!!e.nested,this.pfx=e.pfx||"",this.ppfx=e.ppfx||"",this.freezeClass=e.freezeClass||this.pfx+"freezed",this.onStart=e.onStart||kg,this.onEndMove=e.onEndMove,this.customTarget=e.customTarget,this.onEnd=e.onEnd,this.direction=e.direction||"v",this.onMoveClb=e.onMove,this.relative=e.relative||!1,this.ignoreViewChildren=!!e.ignoreViewChildren,this.plh=e.placer,this.wmargin=e.wmargin||0,this.offTop=e.offsetTop||0,this.offLeft=e.offsetLeft||0,this.document=e.document||document,this.em=e.em,this.canvasRelative=!!e.canvasRelative,this.selectOnEnd=!e.avoidSelectOnEnd,this.scale=e.scale;var o=this.em;o!=null&&o.on&&(o.on(o.Canvas.events.refresh,this.updateOffset),this.updateOffset())},n.prototype.getScale=function(){return(0,V.result)(this,"scale")||1},n.prototype.getContainerEl=function(t){if(t&&(this.el=t),!this.el){var e=this.opt.container;this.el=typeof e=="string"?document.querySelector(e):e,this.$el=(0,x.default)(this.el)}return this.el},n.prototype.getDocuments=function(t){var e=this.em,r=t?t.ownerDocument:e==null?void 0:e.Canvas.getBody().ownerDocument,o=[document];return r&&o.push(r),o},n.prototype.updateOffset=function(){var t,e=((t=this.em)===null||t===void 0?void 0:t.get("canvasOffset"))||{};this.offTop=e.top,this.offLeft=e.left},n.prototype.setDropContent=function(t){delete this.dropModel,this.dropContent=t},n.prototype.updateTextViewCursorPosition=function(t){var e=this.em;if(e){var r=e.Canvas,o=r.getDocument(),l=null;if(o.caretRangeFromPoint){var f=(0,ee.VB)(t);l=o.caretRangeFromPoint(f.clientX,f.clientY)}else t.rangeParent&&(l=o.createRange(),l.setStart(t.rangeParent,t.rangeOffset));var p=r.getWindow().getSelection();r.getFrameEl().focus(),p==null||p.removeAllRanges(),l&&(p==null||p.addRange(l)),this.setContentEditable(this.activeTextModel,!0)}},n.prototype.setContentEditable=function(t,e){if(t){var r=t.getEl();r.contentEditable!=e&&(r.contentEditable=e)}},n.prototype.toggleSortCursor=function(t){var e=this.em,r=e==null?void 0:e.Canvas;r&&(t?r.startAutoscroll():r.stopAutoscroll())},n.prototype.setDragHelper=function(t,e){for(var r=e||"",o=t.cloneNode(!0),l=t.getBoundingClientRect(),f=getComputedStyle(t),p="",h=0;h<f.length;h++){var v=f[h];p+="".concat(v,":").concat(f.getPropertyValue(v),";")}if(document.body.appendChild(o),o.className+=" ".concat(this.pfx,"bdrag"),o.setAttribute("style",p),this.dragHelper=o,o.style.width="".concat(l.width,"px"),o.style.height="".concat(l.height,"px"),r&&this.moveDragHelper(r),this.em){var _=(0,x.default)(this.em.Canvas.getBody().ownerDocument);_.off("mousemove",this.moveDragHelper).on("mousemove",this.moveDragHelper)}(0,x.default)(document).off("mousemove",this.moveDragHelper).on("mousemove",this.moveDragHelper)},n.prototype.moveDragHelper=function(t){var e=t.target.ownerDocument;if(!(!this.dragHelper||!e)){var r=t.pageY,o=t.pageX,l=0,f=0,p=e.defaultView||e.parentWindow,h=p.frameElement,v=this.dragHelper.style;if(h){var _=h.getBoundingClientRect();l=_.top+document.documentElement.scrollTop,f=_.left+document.documentElement.scrollLeft,r=t.clientY,o=t.clientX}v.top=r+l+"px",v.left=o+f+"px"}},n.prototype.matches=function(t,e){return vt.matches.call(t,e)},n.prototype.closest=function(t,e){if(t)for(var r=t.parentNode;r&&r.nodeType===1;){if(this.matches(r,e))return r;r=r.parentNode}},n.prototype.offset=function(t){var e=t.getBoundingClientRect();return{top:e.top+document.body.scrollTop,left:e.left+document.body.scrollLeft}},n.prototype.createPlaceholder=function(){var t=this.pfx,e=document.createElement("div"),r=document.createElement("div");return e.className=t+"placeholder",e.style.display="none",e.style.pointerEvents="none",r.className=t+"placeholder-int",e.appendChild(r),e},n.prototype.startSort=function(t,e){var r,o;e===void 0&&(e={});var l=this,f=l.em,p=l.itemSel,h=l.containerSel,v=l.plh,_=this.getContainerEl(e.container),A=this.getDocuments(t),B;delete this.dropModel,delete this.target,delete this.prevTarget,this.moved=!1,t&&!this.matches(t,"".concat(p,", ").concat(h))&&(t=this.closest(t,p)),this.sourceEl=t,v||(this.plh=this.createPlaceholder(),_.appendChild(this.plh)),t&&(B=this.getSourceModel(t),B!=null&&B.set&&B.set("status","freezed"),this.srcModel=B),(0,ee.on)(_,"mousemove dragover",this.onMove),(0,ee.on)(A,"mouseup dragend touchend",this.endMove),(0,ee.on)(A,"keydown",this.rollback),this.onStart({sorter:this,target:B,parent:B&&((r=B.parent)===null||r===void 0?void 0:r.call(B)),index:B&&((o=B.index)===null||o===void 0?void 0:o.call(B))}),f==null||f.clearSelection(),this.toggleSortCursor(!0),f==null||f.trigger("sorter:drag:start",t,B)},n.prototype.getTargetModel=function(t){var e=t||this.target;return(0,x.default)(e).data("model")},n.prototype.getSourceModel=function(t,e){var r=this,o=e===void 0?{}:e,l=o.target,f=o.avoidChildren,p=f===void 0?1:f,h=this,v=h.em,_=h.sourceEl,A=t||_,B=this,nt=B.dropModel,ft=B.dropContent,pt=function(te){return te&&l&&te.opt&&te.opt.avoidChildren&&r.isTextableActive(te,l)};if(ft&&v){if(pt(nt)&&(nt=void 0),!nt){var Pt=v.Components.getComponents(),Ft={avoidChildren:p,avoidStore:1,avoidUpdateStyle:1},Bt=Pt.add(ft,li(li({},Ft),{temporary:!0}));if(nt=Pt.remove(Bt,Ft),nt=nt instanceof Array?nt[0]:nt,this.dropModel=nt,pt(nt))return this.getSourceModel(A,{target:l,avoidChildren:0})}return nt}return A&&(0,x.default)(A).data("model")},n.prototype.selectTargetModel=function(t,e){if(!(t instanceof m.FE)&&!(e&&e===t)){var r=this.targetModel;if(r&&r!==this.srcModel&&r.set("status",""),t!=null&&t.set){var o=this.em.Canvas,l=qe.q.Select,f=qe.q.Hover,p=qe.q.Spacing;[l,f,p].forEach(function(h){return o.removeSpots({type:h})}),o.addSpot(li(li({},Nd),{component:t})),t.set("status","selected-parent"),this.targetModel=t}}},n.prototype.onMove=function(t){var e=t,r=this,o=r.em,l=r.onMoveClb,f=r.plh,p=r.customTarget;this.moved=!0;var h=f.style.display;(!h||h==="none")&&(f.style.display="block");var v=this.offset(this.el);this.elT=this.wmargin?Math.abs(v.top):v.top,this.elL=this.wmargin?Math.abs(v.left):v.left;var _=t.pageY-this.elT+this.el.scrollTop,A=t.pageX-this.elL+this.el.scrollLeft;if(this.canvasRelative&&o){var B=o.Canvas.getMouseRelativeCanvas(t,{noScroll:1});A=B.x,_=B.y}this.rX=A,this.rY=_,this.eventMove=t;var nt=this.getSourceModel(),ft=p?p({sorter:this,event:t}):t.target,pt=this.dimsFromTarget(ft,A,_),Pt=this.target,Ft=Pt&&this.getTargetModel(Pt);if(this.selectTargetModel(Ft,nt),Ft||(f.style.display="none"),!!Pt){this.lastDims=pt;var Bt=this.findPosition(pt,A,_);this.isTextableActive(nt,Ft)?(this.activeTextModel=Ft,f.style.display="none",this.lastPos=Bt,this.updateTextViewCursorPosition(e)):(this.disableTextable(),delete this.activeTextModel,(!this.lastPos||this.lastPos.index!=Bt.index||this.lastPos.method!=Bt.method)&&(this.movePlaceholder(this.plh,pt,Bt,this.prevTargetDim),this.$plh||(this.$plh=(0,x.default)(this.plh)),this.canvasRelative||(this.offTop&&this.$plh.css("top","+="+this.offTop+"px"),this.offLeft&&this.$plh.css("left","+="+this.offLeft+"px")),this.lastPos=Bt)),(0,V.isFunction)(l)&&l({event:t,target:nt,parent:Ft,index:Bt.index+(Bt.method=="after"?1:0)}),o&&o.trigger("sorter:drag",{target:Pt,targetModel:Ft,sourceModel:nt,dims:pt,pos:Bt,x:A,y:_})}},n.prototype.isTextableActive=function(t,e){var r;return((r=t==null?void 0:t.get)===null||r===void 0?void 0:r.call(t,"textable"))&&(e==null?void 0:e.isInstanceOf("text"))},n.prototype.disableTextable=function(){var t=this.activeTextModel;t==null||t.getView().disableEditing(),this.setContentEditable(t,!1)},n.prototype.isInFlow=function(t,e){if(!t)return!1;e=e||document.body;var r=t;return r.offsetHeight,!!this.styleInFlow(r,e)},n.prototype.styleInFlow=function(t,e){if(!(0,ee.BM)(t)){var r=t.style||{},o=(0,x.default)(t),l=e&&(0,x.default)(e);if(!(r.overflow&&r.overflow!=="visible")){var f=o.css("float");if(!(f&&f!=="none")&&!(l&&l.css("display")=="flex"&&l.css("flex-direction")!=="column")){switch(r.position){case"static":case"relative":case"":break;default:return}switch(t.tagName){case"TR":case"TBODY":case"THEAD":case"TFOOT":return!0}switch(o.css("display")){case"block":case"list-item":case"table":case"flex":case"grid":return!0}}}}},n.prototype.validTarget=function(t,e){var r,o,l=this.lastPos,f=this.getTargetModel(t),p=this.getSourceModel(e,{target:f});e=(r=p==null?void 0:p.view)===null||r===void 0?void 0:r.el,t=(o=f==null?void 0:f.view)===null||o===void 0?void 0:o.el;var h={valid:!0,src:e,srcModel:p,trg:t,trgModel:f,draggable:!1,droppable:!1,dragInfo:"",dropInfo:""};if(!e||!t)return h.valid=!1,h;var v=l?l.method==="after"?l.indexEl+1:l.indexEl:f.components().length,_=p.get("draggable");if((0,V.isFunction)(_)){var A=_(p,f,v);h.dragInfo=A,h.draggable=A,_=A}else _=_ instanceof Array?_.join(", "):_,h.dragInfo=_,_=(0,V.isString)(_)?this.matches(t,_):_,h.draggable=_;var B=f.get("droppable");if((0,V.isFunction)(B)){var A=B(p,f,v);h.droppable=A,h.dropInfo=A,B=A}else B=B instanceof m.FE?1:B,B=B instanceof Array?B.join(", "):B,h.dropInfo=B,B=(0,V.isString)(B)?this.matches(e,B):B,B=_&&this.isTextableActive(p,f)?1:B,h.droppable=B;return(!B||!_)&&(h.valid=!1),h},n.prototype.dimsFromTarget=function(t,e,r){e===void 0&&(e=0),r===void 0&&(r=0);var o=this.em,l=[];if(!t||(this.matches(t,"".concat(this.itemSel,", ").concat(this.containerSel))||(t=this.closest(t,this.itemSel)),this.draggable instanceof Array&&(t=this.closest(t,this.draggable.join(","))),!t))return l;if(this.prevTarget&&this.prevTarget!=t&&delete this.prevTarget,!this.prevTarget){this.targetP=this.closest(t,this.containerSel);var f=this.validTarget(t);if(o&&o.trigger("sorter:drag:validation",f),!f.valid&&this.targetP)return this.dimsFromTarget(this.targetP,e,r);this.prevTarget=t,this.prevTargetDim=this.getDim(t),this.cacheDimsP=this.getChildrenDim(this.targetP),this.cacheDims=this.getChildrenDim(t)}if(this.prevTarget==t&&(l=this.cacheDims),this.target=this.prevTarget,this.nearBorders(this.prevTargetDim,e,r)||!this.nested&&!this.cacheDims.length){var p=this.targetP;p&&this.validTarget(p).valid&&(l=this.cacheDimsP,this.target=p)}return delete this.lastPos,l},n.prototype.getTargetFromEl=function(t){var e=t,r,o=this.targetPrev,l=this.em,f=this.containerSel,p=this.itemSel;if(this.matches(e,"".concat(p,", ").concat(f))||(e=this.closest(e,p)),this.draggable instanceof Array&&(e=this.closest(e,this.draggable.join(","))),o&&o!=e&&delete this.targetPrev,!this.targetPrev){r=this.closest(e,f);var h=this.validTarget(e);if(l&&l.trigger("sorter:drag:validation",h),!h.valid&&r)return this.getTargetFromEl(r);this.targetPrev=e}return this.nearElBorders(e)&&(r=this.closest(e,f),r&&this.validTarget(r).valid&&(e=r)),e},n.prototype.nearElBorders=function(t){var e=10,r=t.getBoundingClientRect(),o=t.ownerDocument.body,l=this.getCurrentPos(),f=l.x,p=l.y,h=r.top+o.scrollTop,v=r.left+o.scrollLeft,_=r.width,A=r.height;if(p<h+e||p>h+A-e||f<v+e||f>v+_-e)return 1},n.prototype.getCurrentPos=function(){var t=this.eventMove,e=(t==null?void 0:t.pageX)||0,r=(t==null?void 0:t.pageY)||0;return{x:e,y:r}},n.prototype.getDim=function(t){var e=this,r=e.em,o=e.canvasRelative,l=r==null?void 0:r.Canvas,f=l?l.getElementOffsets(t):{},p,h,v,_;if(o&&r){var A=l.getElementPos(t,{noScroll:1});p=A.top,h=A.left,v=A.height,_=A.width}else{var B=this.offset(t);p=this.relative?t.offsetTop:B.top-(this.wmargin?-1:1)*this.elT,h=this.relative?t.offsetLeft:B.left-(this.wmargin?-1:1)*this.elL,v=t.offsetHeight,_=t.offsetWidth}return{top:p,left:h,height:v,width:_,offsets:f}},n.prototype.getChildrenDim=function(t){var e=this,r=[];if(!t)return r;var o=this.getTargetModel(t);if(o&&o.view&&!this.ignoreViewChildren){var l=o.getCurrentView?o.getCurrentView():o.view;t=l.getChildrenContainer()}return(0,V.each)(t.children,function(f,p){var h=f,v=(0,vt.getModel)(h,x.default),_=v&&v.index?v.index():p;if(!(!(0,ee.BM)(h)&&!e.matches(h,e.itemSel))){var A=e.getDim(h),B=e.direction,nt;B=="v"?nt=!0:B=="h"?nt=!1:nt=e.isInFlow(h,t),A.dir=nt,A.el=h,A.indexEl=_,r.push(A)}}),r},n.prototype.nearBorders=function(t,e,r){var o=!1,l=this.borderOffset,f=e||0,p=r||0,h=t.top,v=t.left,_=t.height,A=t.width;return(h+l>p||p>h+_-l||v+l>f||f>v+A-l)&&(o=!0),o},n.prototype.findPosition=function(t,e,r){for(var o={index:0,indexEl:0,method:"before"},l=0,f=0,p=0,h=0,v=0,_=0,A=0,B,nt=0,ft=t.length;nt<ft;nt++){B=t[nt];var pt=B.top,Pt=B.left,Ft=B.height,Bt=B.width;if(p=Pt+Bt,A=pt+Ft,v=Pt+Bt/2,_=pt+Ft/2,!(f&&Pt>f||h&&_>=h||l&&p<l))if(o.index=nt,o.indexEl=B.indexEl,!B.dir)r<A&&(h=A),e<v?(f=v,o.method="before"):(l=v,o.method="after");else if(r<_){o.method="before";break}else o.method="after"}return o},n.prototype.movePlaceholder=function(t,e,r,o){var l=0,f=0,p=0,h="",v="",_="px",A=5,B=r.method,nt=e[r.index];if(t.classList.remove("vertical"),t.classList.add("horizontal"),nt){var ft=nt.top,pt=nt.left,Pt=nt.height,Ft=nt.width;nt.dir?(h=Ft+_,v="auto",f=B=="before"?ft-l:ft+Pt-l,p=pt):(h="auto",v=Pt-l*2+_,f=ft+l,p=B=="before"?pt-l:pt+Ft-l,t.classList.remove("horizontal"),t.classList.add("vertical"))}else{if(!this.nested){t.style.display="none";return}if(o){var Bt=o.offsets||{},te=Bt.paddingTop||A,de=Bt.paddingLeft||A,Oe=Bt.borderTopWidth||0,Me=Bt.borderLeftWidth||0,ae=Bt.borderRightWidth||0,ke=Me+ae;f=o.top+te+Oe,p=o.left+de+Me,h=parseInt("".concat(o.width))-de*2-ke+_,v="auto"}}t.style.top=f+_,t.style.left=p+_,h&&(t.style.width=h),v&&(t.style.height=v)},n.prototype.parents=function(t){return t?[t].concat(this.parents(t.parent())):[]},n.prototype.sort=function(t,e){var r=t.parents.filter(function(p){return e.parents.includes(p)}),o=r[0];if(!o)return e.model.index()-t.model.index();var l=t.parents[t.parents.indexOf(o)-1],f=e.parents[e.parents.indexOf(o)-1];return f.index()-l.index()},n.prototype.endMove=function(){var t=this,e,r=this.sourceEl,o=[],l=this.getDocuments(),f=this.getContainerEl(),p=this.onEndMove,h=this.onEnd,v=this,_=v.target,A=v.lastPos,B;if((0,ee.S1)(f,"mousemove dragover",this.onMove),(0,ee.S1)(l,"mouseup dragend touchend",this.endMove),(0,ee.S1)(l,"keydown",this.rollback),this.plh.style.display="none",r&&(B=this.getSourceModel()),this.moved&&_){var nt=this.toMove,ft=(0,V.isArray)(nt)?nt:nt?[nt]:[r],pt=0;ft.length===1?o.push(this.move(_,ft[0],A)):ft.map(function(Bt){return{model:Bt,parents:t.parents(Bt)}}).sort(this.sort).forEach(function(Bt){var te=Bt.model,de=te.index(),Oe=te.parent().getEl();o.push(t.move(_,te,li(li({},A),{indexEl:A.indexEl-pt,index:A.index-pt}))),Oe===_&&de<=A.index&&pt++})}this.plh&&(this.plh.style.display="none");var Pt=this.dragHelper;if(Pt&&(Pt.parentNode.removeChild(Pt),delete this.dragHelper),this.disableTextable(),this.selectTargetModel(),this.toggleSortCursor(),(e=this.em)===null||e===void 0||e.Canvas.removeSpots(Nd),delete this.toMove,delete this.eventMove,delete this.dropModel,(0,V.isFunction)(p)){var Ft={target:B,parent:B&&B.parent(),index:B&&B.index()};o.length?o.forEach(function(Bt){return p(Bt,t,Ft)}):p(null,this,li(li({},Ft),{cancelled:1}))}(0,V.isFunction)(h)&&h({sorter:this})},n.prototype.move=function(t,e,r){var o=this,l=o.em,f=o.dropContent,p=(0,vt.getElement)(e),h=[],v=r.method==="after"?r.indexEl+1:r.indexEl,_=this.validTarget(t,p),A=(0,x.default)(t).data("collection"),B=_.trgModel,nt=_.srcModel,ft=_.draggable,pt=B instanceof m.FE?1:_.droppable,Pt,Ft;if(A&&pt&&ft){var Bt={at:v,action:"move-component"},te=this.isTextableActive(nt,B);if(f)Pt=(0,V.isFunction)(f)?f():f,Bt.avoidUpdateStyle=!0,Bt.action="add-component";else{var de=nt.collection.indexOf(nt),Oe=A===nt.collection,Me=de===v||de===v-1,ae=!Oe||!Me||te;ae&&(Pt=nt.collection.remove(nt,{temporary:!0}),Oe&&v>de&&(Bt.at=v-1))}Pt&&(te?(delete Bt.at,Ft=B.getView().insertComponent(Pt,Bt)):Ft=A.add(Pt,Bt)),delete this.dropContent,delete this.prevTarget}else if(l){var ke=_.dropInfo||(B==null?void 0:B.get("droppable")),Be=_.dragInfo||(nt==null?void 0:nt.get("draggable"));!A&&h.push("Target collection not found"),!pt&&ke&&h.push("Target is not droppable, accepts [".concat(ke,"]")),!ft&&Be&&h.push("Component not draggable, acceptable by [".concat(Be,"]")),l.logWarning("Invalid target position",{errors:h,model:nt,context:"sorter",target:B})}return l==null||l.trigger("sorter:drag:end",{targetCollection:A,modelToDrop:Pt,warns:h,validResult:_,dst:t,srcEl:p}),Ft},n.prototype.rollback=function(t){(0,ee.S1)(this.getDocuments(),"keydown",this.rollback);var e=t.which||t.keyCode;e==27&&(this.moved=!1,this.endMove())},n}(m.G7);const Lg=Mg;var ds=function(){return ds=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},ds.apply(this,arguments)},jg=function(a,n){n===void 0&&(n={});var t=n.prefix||"",e=document.createElement("i");return e.className=t+"resizer-h "+t+"resizer-h-"+a,e.setAttribute("data-"+t+"handler",a),e},Dg=function(a,n){var t=window,e=a.getBoundingClientRect();return{left:e.left+t.pageXOffset,top:e.top+t.pageYOffset,width:e.width,height:e.height}},Ig=function(){function a(n){n===void 0&&(n={}),this.defOpts={ratioDefault:!1,onUpdateContainer:function(){},step:1,minDim:10,maxDim:1/0,unitHeight:"px",unitWidth:"px",keyHeight:"height",keyWidth:"width",currentUnit:!0,silentFrames:!1,avoidContainerUpdate:!1,keepAutoHeight:!1,keepAutoWidth:!1,autoHeight:!1,autoWidth:!1,tl:!0,tc:!0,tr:!0,cl:!0,cr:!0,bl:!0,bc:!0,br:!0},this.opts=ds({},this.defOpts),this.setOptions(n),(0,V.bindAll)(this,"handleKeyDown","handleMouseDown","move","stop")}return a.prototype.getConfig=function(){return this.opts},a.prototype.setOptions=function(n,t){n===void 0&&(n={}),this.opts=ds(ds({},t?this.defOpts:this.opts),n),this.setup()},a.prototype.setup=function(){var n=this.opts,t=n.prefix||"",e=n.appendTo||document.body,r=this.container;for(r||(r=document.createElement("div"),r.className="".concat(t,"resizer-c"),e.appendChild(r),this.container=r);r.firstChild;)r.removeChild(r.firstChild);var o={};["tl","tc","tr","cl","cr","bl","bc","br"].forEach(function(p){return o[p]=n[p]?jg(p,n):null});for(var l in o){var f=o[l];f&&r.appendChild(f)}this.handlers=o,this.mousePosFetcher=n.mousePosFetcher,this.updateTarget=n.updateTarget,this.posFetcher=n.posFetcher,this.onStart=n.onStart,this.onMove=n.onMove,this.onEnd=n.onEnd,this.onUpdateContainer=n.onUpdateContainer},a.prototype.toggleFrames=function(n){if(this.opts.silentFrames){var t=document.querySelectorAll("iframe");(0,V.each)(t,function(e){return e.style.pointerEvents=n?"none":""})}},a.prototype.isHandler=function(n){var t=this.handlers;for(var e in t)if(t[e]===n)return!0;return!1},a.prototype.getFocusedEl=function(){return this.el},a.prototype.getParentEl=function(){var n;return(n=this.el)===null||n===void 0?void 0:n.parentElement},a.prototype.getDocumentEl=function(){return[this.el.ownerDocument,document]},a.prototype.getElementPos=function(n,t){t===void 0&&(t={});var e=this.posFetcher;return e?e(n,t):Dg(n)},a.prototype.focus=function(n){n&&n===this.el||(this.el=n,this.updateContainer({forceShow:!0}),(0,ee.on)(this.getDocumentEl(),"pointerdown",this.handleMouseDown))},a.prototype.blur=function(){this.container.style.display="none",this.el&&((0,ee.S1)(this.getDocumentEl(),"pointerdown",this.handleMouseDown),delete this.el)},a.prototype.start=function(n){var t=n;if(t.button===0){t.preventDefault(),t.stopPropagation();var e=this.el,r=this.getParentEl(),o=this,l=this.opts||{},f=this.mousePosFetcher,p="data-"+l.prefix+"handler",h=this.getElementPos(e,{avoidFrameZoom:!0,avoidFrameOffset:!0}),v=this.getElementPos(r),_=t.target;this.handlerAttr=_.getAttribute(p),this.clickedHandler=_,this.startDim={t:h.top,l:h.left,w:h.width,h:h.height},this.rectDim={t:h.top,l:h.left,w:h.width,h:h.height},this.startPos=f?f(t):{x:t.clientX,y:t.clientY},this.parentDim={t:v.top,l:v.left,w:v.width,h:v.height};var A=this.getDocumentEl();this.docs=A,(0,ee.on)(A,"pointermove",this.move),(0,ee.on)(A,"keydown",this.handleKeyDown),(0,ee.on)(A,"pointerup",this.stop),(0,V.isFunction)(this.onStart)&&this.onStart(t,{docs:A,config:l,el:e,resizer:o}),this.toggleFrames(!0),this.move(t)}},a.prototype.move=function(n){var t=n,e=this.onMove,r=this.mousePosFetcher,o=r?r(t):{x:t.clientX,y:t.clientY};this.currentPos=o,this.delta={x:o.x-this.startPos.x,y:o.y-this.startPos.y},this.keys={shift:t.shiftKey,ctrl:t.ctrlKey,alt:t.altKey},this.rectDim=this.calc(this),this.updateRect(!1),e&&e(t)},a.prototype.stop=function(n){var t=this.el,e=this.opts,r=this.docs||this.getDocumentEl();(0,ee.S1)(r,"pointermove",this.move),(0,ee.S1)(r,"keydown",this.handleKeyDown),(0,ee.S1)(r,"pointerup",this.stop),this.updateRect(!0),this.toggleFrames(),(0,V.isFunction)(this.onEnd)&&this.onEnd(n,{docs:r,config:e,el:t,resizer:this}),delete this.docs},a.prototype.updateRect=function(n){var t=this.el,e=this,r=this.opts,o=this.rectDim,l=this.updateTarget,f=this.getSelectedHandler(),p=r.unitHeight,h=r.unitWidth,v=r.keyWidth,_=r.keyHeight;if((0,V.isFunction)(l))l(t,o,{store:n,selectedHandler:f,resizer:e,config:r});else{var A=t.style;A[v]=o.w+h,A[_]=o.h+p}this.updateContainer()},a.prototype.updateContainer=function(n){var t;n===void 0&&(n={});var e=this,r=e.opts,o=e.container,l=e.el,f=o.style;!r.avoidContainerUpdate&&l&&n.forceShow&&(f.display="block"),(t=this.onUpdateContainer)===null||t===void 0||t.call(this,{el:o,resizer:this,opts:ds(ds({},r),n)})},a.prototype.getSelectedHandler=function(){var n=this.handlers;if(this.selectedHandler){for(var t in n)if(n[t]===this.selectedHandler)return t}},a.prototype.handleKeyDown=function(n){n.keyCode===27&&(this.rectDim=this.startDim,this.stop(n))},a.prototype.handleMouseDown=function(n){var t=n.target;this.isHandler(t)?(this.selectedHandler=t,this.start(n)):t!==this.el&&(delete this.selectedHandler,this.blur())},a.prototype.calc=function(n){var t,e=this.opts||{},r=e.step,o=this.startDim,l=e.minDim,f=e.maxDim,p=n.delta.x,h=n.delta.y,v=this.parentDim.w,_=this.parentDim.h,A=this.opts.unitWidth,B=this.opts.unitHeight,nt=A==="%"?o.w/100*v:o.w,ft=B==="%"?o.h/100*_:o.h,pt={t:o.t,l:o.l,w:nt,h:ft};if(n){var Pt=n.handlerAttr;~Pt.indexOf("r")&&(t=A==="%"?(0,vt.normalizeFloat)((nt+p*r)/v*100,.01):(0,vt.normalizeFloat)(nt+p*r,r),t=Math.max(l,t),f&&(t=Math.min(f,t)),pt.w=t),~Pt.indexOf("b")&&(t=B==="%"?(0,vt.normalizeFloat)((ft+h*r)/_*100,.01):(0,vt.normalizeFloat)(ft+h*r,r),t=Math.max(l,t),f&&(t=Math.min(f,t)),pt.h=t),~Pt.indexOf("l")&&(t=A==="%"?(0,vt.normalizeFloat)((nt-p*r)/v*100,.01):(0,vt.normalizeFloat)(nt-p*r,r),t=Math.max(l,t),f&&(t=Math.min(f,t)),pt.w=t),~Pt.indexOf("t")&&(t=B==="%"?(0,vt.normalizeFloat)((ft-h*r)/_*100,.01):(0,vt.normalizeFloat)(ft-h*r,r),t=Math.max(l,t),f&&(t=Math.min(f,t)),pt.h=t);var Ft=e.ratioDefault?!n.keys.shift:n.keys.shift;if(Pt.indexOf("c")<0&&Ft){var Bt=o.w/o.h;pt.w/pt.h>Bt?pt.h=Math.round(pt.w/Bt):pt.w=Math.round(pt.h*Bt)}~Pt.indexOf("l")&&(pt.l+=o.w-pt.w),~Pt.indexOf("t")&&(pt.t+=o.h-pt.h);for(var te in pt){var de=te;pt[de]=parseInt("".concat(pt[de]),10)}return pt}},a}();const Vg=Ig;var Rg=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Tp=function(){return Tp=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Tp.apply(this,arguments)},Ng=function(a){Rg(n,a);function n(t){var e=a.call(this,t,"Utils")||this;return e.Sorter=Lg,e.Resizer=Vg,e.Dragger=Qi.Z,e.helpers=Tp({},vt),e}return n.prototype.destroy=function(){},n}(R);const Fg=Ng;var Xn,uo={},Bn={16:!1,18:!1,17:!1,91:!1},Fd="all",hs={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,command:91},Hd={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},Pp=function(a){return Hd[a]||a.toUpperCase().charCodeAt(0)},dl=[];for(Xn=1;Xn<20;Xn++)Hd["f"+Xn]=111+Xn;function dc(a,n){for(var t=a.length;t--;)if(a[t]===n)return t;return-1}function Hg(a,n){if(a.length!=n.length)return!1;for(var t=0;t<a.length;t++)if(a[t]!==n[t])return!1;return!0}var Bg={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function Ug(a){for(Xn in Bn)Bn[Xn]=a[Bg[Xn]]}function zg(a){var n,t,e,r,o,l;if(n=a.keyCode,dc(dl,n)==-1&&dl.push(n),(n==93||n==224)&&(n=91),n in Bn){Bn[n]=!0;for(e in hs)hs[e]==n&&(Un[e]=!0);return}if(Ug(a),!!Un.filter.call(this,a)&&n in uo){for(l=Ep(),r=0;r<uo[n].length;r++)if(t=uo[n][r],t.scope==l||t.scope=="all"){o=t.mods.length>0;for(e in Bn)(!Bn[e]&&dc(t.mods,+e)>-1||Bn[e]&&dc(t.mods,+e)==-1)&&(o=!1);(t.mods.length==0&&!Bn[16]&&!Bn[18]&&!Bn[17]&&!Bn[91]||o)&&t.method(a,t)===!1&&(a.preventDefault?a.preventDefault():a.returnValue=!1,a.stopPropagation&&a.stopPropagation(),a.cancelBubble&&(a.cancelBubble=!0))}}}function Wg(a){var n=a.keyCode,t,e=dc(dl,n);if(e>=0&&dl.splice(e,1),(n==93||n==224)&&(n=91),n in Bn){Bn[n]=!1;for(t in hs)hs[t]==n&&(Un[t]=!1)}}function Gg(){for(Xn in Bn)Bn[Xn]=!1;for(Xn in hs)Un[Xn]=!1}function Un(a,n,t){var e,r;e=Bd(a),t===void 0&&(t=n,n="all");for(var o=0;o<e.length;o++)r=[],a=e[o].split("+"),a.length>1&&(r=Ud(a),a=[a[a.length-1]]),a=a[0],a=Pp(a),a in uo||(uo[a]=[]),uo[a].push({shortcut:e[o],scope:n,method:t,key:e[o],mods:r})}function Kg(a,n){var t,e,r=[],o,l,f;for(t=Bd(a),l=0;l<t.length;l++){if(e=t[l].split("+"),e.length>1&&(r=Ud(e)),a=e[e.length-1],a=Pp(a),n===void 0&&(n=Ep()),!uo[a])return;for(o=0;o<uo[a].length;o++)f=uo[a][o],f.scope===n&&Hg(f.mods,r)&&(uo[a][o]={})}}function $g(a){return typeof a=="string"&&(a=Pp(a)),dc(dl,a)!=-1}function qg(){return dl.slice(0)}function Zg(a){var n=(a.target||a.srcElement).tagName;return!(n=="INPUT"||n=="SELECT"||n=="TEXTAREA")}for(Xn in hs)Un[Xn]=!1;function Yg(a){Fd=a||"all"}function Ep(){return Fd||"all"}function Xg(a){var n,t,e;for(n in uo)for(t=uo[n],e=0;e<t.length;)t[e].scope===a?t.splice(e,1):e++}function Bd(a){var n;return a=a.replace(/\s/g,""),n=a.split(","),n[n.length-1]==""&&(n[n.length-2]+=","),n}function Ud(a){for(var n=a.slice(0,a.length-1),t=0;t<n.length;t++)n[t]=hs[n[t]];return n}function kp(a,n,t){a.addEventListener?a.addEventListener(n,t,!1):a.attachEvent&&a.attachEvent("on"+n,function(){t(window.event)})}Un.setScope=Yg,Un.getScope=Ep,Un.deleteScope=Xg,Un.filter=Zg,Un.isPressed=$g,Un.getPressedKeyCodes=qg,Un.unbind=Kg,Un.handlers=uo,Un.init=function(a){kp(a.document,"keydown",function(n){zg(n)}),kp(a.document,"keyup",Wg),kp(a,"focus",Gg)};const hc=Un;var Jg={defaults:{"core:undo":{keys:"⌘+z, ctrl+z",handler:"core:undo",opts:{prevent:!0}},"core:redo":{keys:"⌘+shift+z, ctrl+shift+z",handler:"core:redo",opts:{prevent:!0}},"core:copy":{keys:"⌘+c, ctrl+c",handler:"core:copy"},"core:paste":{keys:"⌘+v, ctrl+v",handler:"core:paste"},"core:component-next":{keys:"s",handler:"core:component-next"},"core:component-prev":{keys:"w",handler:"core:component-prev"},"core:component-enter":{keys:"d",handler:"core:component-enter"},"core:component-exit":{keys:"a",handler:"core:component-exit"},"core:component-delete":{keys:"backspace, delete",handler:"core:component-delete",opts:{prevent:!0}}}};const Qg=Jg;var tm=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),zd=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return a.concat(o||Array.prototype.slice.call(n))};(0,vt.hasWin)()&&hc.init(window);var em=function(a){tm(n,a);function n(t){var e=a.call(this,t,"Keymaps",Qg)||this;return e.keymaster=hc,e.keymaps={},e}return n.prototype.onLoad=function(){var t=this.config.defaults;for(var e in t){var r=t[e];this.add(e,r.keys,r.handler,r.opts||{})}},n.prototype.add=function(t,e,r,o){o===void 0&&(o={});var l=this.em,f=l.Commands,p=l.getEditor(),h=l.Canvas,v={id:t,keys:e,handler:r},_=this.keymaps[t];return _&&this.remove(t),this.keymaps[t]=v,hc(e,function(A,B){var nt={event:A,h:B},ft=(0,V.isString)(r)?f.get(r):r,pt=!l.isEditing()&&!p.Canvas.isInputFocused();if(pt||o.force){o.prevent&&h.getCanvasView().preventDefault(A),(0,V.isFunction)(ft)?ft(p,0,nt):f.runCommand(ft,nt);var Pt=[t,B.shortcut,A];l.trigger.apply(l,zd(["keymap:emit"],Pt,!1)),l.trigger.apply(l,zd(["keymap:emit:".concat(t)],Pt,!1))}},void 0),l.trigger("keymap:add",v),v},n.prototype.get=function(t){return this.keymaps[t]},n.prototype.getAll=function(){return this.keymaps},n.prototype.remove=function(t){var e=this.em,r=this.get(t);if(r)return delete this.keymaps[t],r.keys.split(", ").forEach(function(o){hc.unbind(o.trim())}),e==null||e.trigger("keymap:remove",r),r},n.prototype.removeAll=function(){var t=this;return Object.keys(this.keymaps).forEach(function(e){return t.remove(e)}),hc.handlers={},this},n.prototype.destroy=function(){this.removeAll(),this.keymaps={}},n}(R);const rm=em;var nm={stylePrefix:"mdl-",title:"",content:"",backdrop:!0,custom:!1,extend:{}};const om=nm;var im=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),am=function(a){im(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.defaults=function(){return{title:"",content:"",attributes:{},open:!1}},n.prototype.open=function(){this.set("open",!0)},n.prototype.close=function(){this.set("open",!1)},n}(ot.Z);const sm=am;var lm=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Gu=function(){return Gu=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Gu.apply(this,arguments)},cm=function(a){lm(n,a);function n(t){var e=a.call(this,t)||this,r=e.model;return e.listenTo(r,"change:open",e.updateOpen),e.listenTo(r,"change:title",e.updateTitle),e.listenTo(r,"change:content",e.updateContent),e}return n.prototype.template=function(t){var e=t.pfx,r=t.ppfx,o=t.content,l=t.title;return'<div class="'.concat(e,"dialog ").concat(r,"one-bg ").concat(r,`two-color">
      <div class="`).concat(e,`header">
        <div class="`).concat(e,'title">').concat(l,`</div>
        <div class="`).concat(e,`btn-close" data-close-modal>&Cross;</div>
      </div>
      <div class="`).concat(e,`content">
        <div id="`).concat(e,'c">').concat(o,`</div>
        <div style="clear:both"></div>
      </div>
    </div>
    <div class="`).concat(e,'collector" style="display: none"></div>')},n.prototype.events=function(){return{click:"onClick","click [data-close-modal]":"hide"}},n.prototype.onClick=function(t){var e=this.config.backdrop;e&&t.target===this.el&&this.hide()},n.prototype.getCollector=function(){return this.$collector||(this.$collector=this.$el.find("."+this.pfx+"collector")),this.$collector},n.prototype.getContent=function(){var t=this.pfx;return this.$content||(this.$content=this.$el.find(".".concat(t,"content #").concat(t,"c"))),this.$content},n.prototype.getTitle=function(t){return t===void 0&&(t={}),this.$title||(this.$title=this.$el.find("."+this.pfx+"title")),t.$?this.$title:this.$title.get(0)},n.prototype.updateContent=function(){var t=this.getContent(),e=t.children(),r=this.getCollector(),o=this.model.get("content");e.length&&r.append(e),t.empty().append(o)},n.prototype.updateTitle=function(){var t=this.getTitle({$:!0});t&&t.empty().append(this.model.get("title"))},n.prototype.updateOpen=function(){this.el.style.display=this.model.get("open")?"":"none"},n.prototype.hide=function(){this.model.close()},n.prototype.show=function(){this.model.open()},n.prototype.updateAttr=function(t){var e=this,r=e.pfx,o=e.$el,l=e.el,f=[].slice.call(l.attributes).map(function(p){return p.name});o.removeAttr(f.join(" ")),o.attr(Gu(Gu({},t||{}),{class:"".concat(r,"container ").concat(t&&t.class||"").trim()}))},n.prototype.render=function(){var t=this.$el,e=this.model.toJSON();return e.pfx=this.pfx,e.ppfx=this.ppfx,t.html(this.template(e)),this.updateAttr(),this.updateOpen(),this},n}(dr);const um=cm;var fm=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),pm=function(a){fm(n,a);function n(t){var e=a.call(this,t,"Modal",om)||this;return e.model=new sm(e),e.model.on("change:open",function(r,o){t.trigger("modal:".concat(o?"open":"close"))}),e.model.on("change",(0,V.debounce)(function(){var r=e._evData(),o=e.config.custom;(0,V.isFunction)(o)&&o(r),t.trigger("modal",r)},0)),e}return n.prototype._evData=function(){var t=this,e=this.getTitle(),r=this.getContent(),o=this.model.attributes,l=o.open,f=o.attributes;return{open:l,attributes:f,title:(0,V.isString)(e)?(0,ee.rw)(e):e,content:(0,V.isString)(r)?(0,ee.rw)(r):r.get?r.get(0):r,close:function(){t.close()}}},n.prototype.postRender=function(t){var e=t.model.config.el||t.el,r=this.render();r&&(e==null||e.appendChild(r))},n.prototype.open=function(t){t===void 0&&(t={});var e=t.attributes||{};return t.title&&this.setTitle(t.title),t.content&&this.setContent(t.content),this.model.set("attributes",e),this.model.open(),this.modal&&this.modal.updateAttr(e),this},n.prototype.close=function(){return this.model.close(),this},n.prototype.onceClose=function(t){return this.em.once("modal:close",t),this},n.prototype.onceOpen=function(t){return this.em.once("modal:open",t),this},n.prototype.isOpen=function(){return!!this.model.get("open")},n.prototype.setTitle=function(t){return this.model.set("title",t),this},n.prototype.getTitle=function(){return this.model.get("title")},n.prototype.setContent=function(t){return this.model.set("content"," "),this.model.set("content",t),this},n.prototype.getContent=function(){return this.model.get("content")},n.prototype.getContentEl=function(){var t;return(t=this.modal)===null||t===void 0?void 0:t.getContent().get(0)},n.prototype.getModel=function(){return this.model},n.prototype.render=function(){var t;if(!this.config.custom){var e=um.extend(this.config.extend),r=this.modal&&this.modal.el;return this.modal=new e({el:r,model:this.model,config:this.config}),(t=this.modal)===null||t===void 0?void 0:t.render().el}},n.prototype.destroy=function(){var t;(t=this.modal)===null||t===void 0||t.remove()},n}(R);const dm=pm;var Wd="sw-visibility",Gd="export-template",Kd="open-sm",$d="open-tm",qd="open-layers",Zd="open-blocks",Ap="fullscreen",Mp="preview",hm={stylePrefix:"pn-",defaults:[{id:"commands",buttons:[{}]},{id:"options",buttons:[{active:!0,id:Wd,className:"fa fa-square-o",command:"core:component-outline",context:Wd,attributes:{title:"View components"}},{id:Mp,className:"fa fa-eye",command:Mp,context:Mp,attributes:{title:"Preview"}},{id:Ap,className:"fa fa-arrows-alt",command:Ap,context:Ap,attributes:{title:"Fullscreen"}},{id:Gd,className:"fa fa-code",command:Gd,attributes:{title:"View code"}}]},{id:"views",buttons:[{id:Kd,className:"fa fa-paint-brush",command:Kd,active:!0,togglable:!1,attributes:{title:"Open Style Manager"}},{id:$d,className:"fa fa-cog",command:$d,togglable:!1,attributes:{title:"Settings"}},{id:qd,className:"fa fa-bars",command:qd,togglable:!1,attributes:{title:"Open Layer Manager"}},{id:Zd,className:"fa fa-th-large",command:Zd,togglable:!1,attributes:{title:"Open Blocks"}}]}]};const Lp=hm;var vm=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),gm=function(a){vm(n,a);function n(t,e){var r=a.call(this,t,e)||this;return r.get("buttons").length&&r.set("buttons",new Jd(r.module,r.get("buttons"))),r}return n.prototype.defaults=function(){return{id:"",label:"",tagName:"span",className:"",command:"",context:"",buttons:[],attributes:{},options:{},active:!1,dragDrop:!1,togglable:!0,runDefaultCommand:!0,stopDefaultCommand:!1,disable:!1}},Object.defineProperty(n.prototype,"className",{get:function(){return this.get("className")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"command",{get:function(){return this.get("command")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"active",{get:function(){return this.get("active")},set:function(t){this.set("active",t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"togglable",{get:function(){return this.get("togglable")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"runDefaultCommand",{get:function(){return this.get("runDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"stopDefaultCommand",{get:function(){return this.get("stopDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"disable",{get:function(){return this.get("disable")},enumerable:!1,configurable:!0}),n}(ot.Z);const Yd=gm;var mm=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Xd=function(a){mm(n,a);function n(t,e){return a.call(this,t,e,Yd)||this}return n.prototype.deactivateAllExceptOne=function(t,e){this.forEach(function(r,o){r!==t&&(r.set("active",!1),e&&r.get("buttons").length&&r.get("buttons").deactivateAllExceptOne(t,e))})},n.prototype.deactivateAll=function(t,e){var r=t||"";this.forEach(function(o){o.get("context")==r&&o!==e&&o.set("active",!1,{fromCollection:!0})})},n.prototype.disableAllButtons=function(t){var e=t||"";this.forEach(function(r,o){r.get("context")==e&&r.set("disable",!0)})},n.prototype.disableAllButtonsExceptOne=function(t,e){this.forEach(function(r,o){r!==t&&(r.set("disable",!0),e&&r.get("buttons").length&&r.get("buttons").disableAllButtonsExceptOne(t,e))})},n}(fe);const Jd=Xd;Xd.prototype.model=Yd;var ym=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),bm=function(a){ym(n,a);function n(t,e){var r=a.call(this,t,e)||this,o=r.get("buttons")||[];return r.buttons=new Jd(t,o),r}return n.prototype.defaults=function(){return{id:"",content:"",visible:!0,buttons:[],attributes:{}}},Object.defineProperty(n.prototype,"buttons",{get:function(){return this.get("buttons")},set:function(t){this.set("buttons",t)},enumerable:!1,configurable:!0}),n}(ot.Z);const Qd=bm;var wm=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),th=function(a){wm(n,a);function n(t,e){return a.call(this,t,e,Qd)||this}return n}(fe);const _m=th;th.prototype.model=Qd;var xm=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),hl=function(){return hl=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},hl.apply(this,arguments)},Cm=function(a){xm(n,a);function n(t){var e=a.call(this,t)||this,r=e,o=r.model,l=r.em,f=r.pfx,p=r.ppfx,h=o.className,v=o.attributes,_=v.command,A=v.listen;if(e.id=f+o.get("id"),e.activeCls="".concat(f,"active ").concat(p,"four-color"),e.disableCls="".concat(p,"disabled"),e.btnsVisCls="".concat(f,"visible"),e.className=f+"btn"+(h?" "+h:""),e.listenTo(o,"change",e.render),e.listenTo(o,"change:active updateActive",e.updateActive),e.listenTo(o,"checkActive",e.checkActive),e.listenTo(o,"change:bntsVis",e.updateBtnsVis),e.listenTo(o,"change:attributes",e.updateAttributes),e.listenTo(o,"change:className",e.updateClassName),e.listenTo(o,"change:disable",e.updateDisable),l&&(0,V.isString)(_)&&A){var B={fromListen:!0};e.listenTo(l,"run:".concat(_),function(){return o.set("active",!0,B)}),e.listenTo(l,"stop:".concat(_),function(){return o.set("active",!1,B)})}return l&&l.get&&(e.commands=l.get("Commands")),e}return n.prototype.tagName=function(){return this.model.get("tagName")},n.prototype.events=function(){return{click:"clicked"}},n.prototype.updateClassName=function(){var t=this,e=t.model,r=t.pfx,o=e.className,l=e.get("attributes").class,f="".concat(l||""," ").concat(r,"btn ").concat(o||"");this.$el.attr("class",f.trim())},n.prototype.updateAttributes=function(){var t=this,e=t.em,r=t.model,o=t.$el,l=r.get("attributes")||{},f=e&&e.t&&e.t("panels.buttons.titles.".concat(r.id));o.attr(l),f&&o.attr({title:f}),this.updateClassName()},n.prototype.updateBtnsVis=function(){this.$buttons&&(this.model.get("bntsVis")?this.$buttons.addClass(this.btnsVisCls):this.$buttons.removeClass(this.btnsVisCls))},n.prototype.updateActive=function(t,e,r){var o;r===void 0&&(r={});var l=this,f=l.model,p=l.commands,h=l.$el,v=l.activeCls,_=r.fromCollection,A=r.fromListen,B=f.get("context"),nt=f.get("options"),ft=f.command,pt={};ft&&(p&&(0,V.isString)(ft)?pt=p.get(ft)||{}:(0,V.isFunction)(ft)?pt=p.create({run:ft}):ft!==null&&(0,V.isObject)(ft)&&(pt=p.create(ft)),f.active?(!_&&((o=f.collection)===null||o===void 0||o.deactivateAll(B,f)),f.set("active",!0,{silent:!0}).trigger("checkActive"),!A&&p.runCommand(pt,hl(hl({},nt),{sender:f})),pt.noStop&&f.set("active",!1)):(h.removeClass(v),!A&&p.stopCommand(pt,hl(hl({},nt),{sender:f,force:1}))))},n.prototype.updateDisable=function(){var t=this,e=t.disableCls,r=t.model,o=r.disable;this.$el[o?"addClass":"removeClass"](e)},n.prototype.checkActive=function(){var t=this,e=t.model,r=t.$el,o=t.activeCls;e.active?r.addClass(o):r.removeClass(o)},n.prototype.clicked=function(){var t=this.model;t.get("bntsVis")||t.disable||!t.command||this.toggleActive()},n.prototype.toggleActive=function(){var t=this,e=t.model,r=t.em,o=e.active,l=e.togglable;o&&!l||(e.active=!o,o?e.runDefaultCommand&&r.runDefault():e.stopDefaultCommand&&r.stopDefault())},n.prototype.render=function(){var t=this.model,e=t.get("label"),r=this.$el;return!t.get("el")&&r.empty(),this.updateAttributes(),e&&r.append(e),this.checkActive(),this.updateDisable(),this},n}(dr);const Sm=Cm;var Om=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Tm=function(a){Om(n,a);function n(t){var e=a.call(this,{collection:t})||this;return e.listenTo(e.collection,"add",e.addTo),e.listenTo(e.collection,"reset remove",e.render),e.className=e.pfx+"buttons",e}return n.prototype.addTo=function(t){this.addToCollection(t)},n.prototype.addToCollection=function(t,e){var r=e||null,o=t.get("el"),l=new Sm({el:o,model:t}),f=l.render().el;return r?r.appendChild(f):this.$el.append(f),f},n.prototype.render=function(){var t=this,e=document.createDocumentFragment();return this.$el.empty(),this.collection.each(function(r){return t.addToCollection(r,e)}),this.$el.append(e),this.$el.attr("class",(0,V.result)(this,"className")),this},n}(dr);const Pm=Tm;var Em=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),jp=function(){return jp=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},jp.apply(this,arguments)},km=function(a){Em(n,a);function n(t){var e=a.call(this,{model:t,el:t.get("el")})||this;return e.className=e.pfx+"panel",e.id=e.pfx+t.get("id"),e.listenTo(t,"change:appendContent",e.appendContent),e.listenTo(t,"change:content",e.updateContent),e.listenTo(t,"change:visible",e.toggleVisible),t.view=e,e}return n.prototype.appendContent=function(){this.$el.append(this.model.get("appendContent"))},n.prototype.updateContent=function(){this.$el.html(this.model.get("content"))},n.prototype.toggleVisible=function(){if(!this.model.get("visible")){this.$el.addClass("".concat(this.ppfx,"hidden"));return}this.$el.removeClass("".concat(this.ppfx,"hidden"))},n.prototype.attributes=function(){return this.model.get("attributes")},n.prototype.initResize=function(){var t=this.em,e=t==null?void 0:t.Editor,r=this.model.get("resizable");if(e&&r){var o=r===!0?[!0,!0,!0,!0]:r,l=o.length,f=void 0,p=void 0,h=void 0,v=!1;if(l==2){var _=o;f=_[0],h=_[0],p=_[1],v=_[1]}else if(l==4){var _=o;f=_[0],p=_[1],h=_[2],v=_[3]}var A=new e.Utils.Resizer(jp({tc:f,cr:p,bc:h,cl:v,tl:!1,tr:!1,bl:!1,br:!1,appendTo:this.el,silentFrames:!0,avoidContainerUpdate:!0,prefix:e.getConfig().stylePrefix,onEnd:function(){t.Canvas.refresh({all:!0})},posFetcher:function(B,nt){var ft=nt.target,pt=B.style,Pt=A.getConfig(),Ft=Pt.keyWidth,Bt=Pt.keyHeight,te=B.getBoundingClientRect(),de=ft=="container",Oe=pt[Ft],Me=pt[Bt],ae=Oe&&!de?parseFloat(Oe):te.width,ke=Me&&!de?parseFloat(Me):te.height;return{left:0,top:0,width:ae,height:ke}}},r&&typeof r!="boolean"?r:{}));A.blur=function(){},A.focus(this.el)}},n.prototype.render=function(){var t=this.model.buttons,e=this.$el,r=this.ppfx,o="".concat(this.className," ").concat(this.id," ").concat(r,"one-bg ").concat(r,"two-color");if(e.addClass(o),this.toggleVisible(),t.length){var l=new Pm(t);e.append(l.render().el)}return e.append(this.model.get("content")),this},n}(dr);const Am=km;var Mm=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Lm=function(a){Mm(n,a);function n(t){var e=a.call(this,{collection:t})||this;return e.listenTo(t,"add",e.addTo),e.listenTo(t,"reset",e.render),e.listenTo(t,"remove",e.onRemove),e.className=e.pfx+"panels",e}return n.prototype.onRemove=function(t){var e=t.view;e&&e.remove()},n.prototype.addTo=function(t){this.addToCollection(t)},n.prototype.addToCollection=function(t,e){var r=e||null,o=t.get("el"),l=new Am(t),f=l.render().el,p=t.get("appendTo");if(!o)if(p){var h=document.querySelector(p);h==null||h.appendChild(f)}else r?r.appendChild(f):this.$el.append(f);return l.initResize(),f},n.prototype.render=function(){var t=this,e=this.$el,r=document.createDocumentFragment();return e.empty(),this.collection.each(function(o){return t.addToCollection(o,r)}),e.append(r),e.attr("class",this.className),this},n}(dr);const jm=Lm;var Dm=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Im=function(a){Dm(n,a);function n(t){var e=a.call(this,t,"Panels",Lp)||this;e.panels=new _m(e,e.config.defaults);for(var r in Lp)r in e.config||(e.config[r]=Lp[r]);return e}return n.prototype.getPanels=function(){return this.panels},n.prototype.getPanelsEl=function(){var t;return(t=this.PanelsViewObj)===null||t===void 0?void 0:t.el},n.prototype.addPanel=function(t){return this.panels.add(t)},n.prototype.removePanel=function(t){return this.panels.remove(t)},n.prototype.getPanel=function(t){var e=this.panels.where({id:t});return e.length?e[0]:null},n.prototype.addButton=function(t,e){var r=this.getPanel(t);return r?r.buttons.add(e):null},n.prototype.removeButton=function(t,e){var r=this.getPanel(t);return r&&r.buttons.remove(e)},n.prototype.getButton=function(t,e){var r=this.getPanel(t);if(r){var o=r.buttons.where({id:e});return o.length?o[0]:null}return null},n.prototype.render=function(){var t;return(t=this.PanelsViewObj)===null||t===void 0||t.remove(),this.PanelsViewObj=new jm(this.panels),this.PanelsViewObj.render().el},n.prototype.active=function(){this.getPanels().each(function(t){t.buttons.each(function(e){e.get("active")&&e.trigger("updateActive")})})},n.prototype.disableButtons=function(){this.getPanels().each(function(t){t.buttons.each(function(e){e.get("disable")&&e.trigger("change:disable")})})},n.prototype.destroy=function(){this.panels.reset(),this.panels.stopListening(),this.PanelsViewObj&&this.PanelsViewObj.remove()},n}(R);const Vm=Im;var Rm={stylePrefix:"cm-",optsCodeViewer:{}};const Nm=Rm;var Fm=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Hm=function(a,n){var t={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&n.indexOf(e)<0&&(t[e]=a[e]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(a);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(a,e[r])&&(t[e[r]]=a[e[r]]);return t},Bm=function(a){Fm(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.build=function(t,e){e===void 0&&(e={});var r=e.em,o=Hm(e,["em"]),l=o;if(e.cleanId&&r){var f=r.Css.getAll(),p=f.toJSON().map(function(h){var v=h.selectors,_=v&&v.length===1&&v.models[0];return _&&_.isId()&&_.get("name")}).filter(Boolean);l.attributes||(l.attributes=function(h,v){var _=v.id;return _&&_[0]==="i"&&!h.get("script")&&!h.get("attributes").id&&p.indexOf(_)<0&&delete v.id,v})}return t.toHTML(l)},n}(m.Hn);const Um=Bm;var zm=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Wm=function(a){zm(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.build=function(t){var e=this,r=t.toJSON();return this.beforeEach(r),(0,V.each)(r,function(o,l){var f=r[l];if(f instanceof m.Hn)r[l]=e.build(f);else if(f instanceof m.FE){var p=f;r[l]=[],p.length&&p.forEach(function(h,v){r[l][v]=e.build(h)})}}),r},n.prototype.beforeEach=function(t){delete t.status},n}(m.Hn);const Gm=Wm;var Km=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();function $m(a){var n,t=((n=a.toString().match(/\{([\s\S]*)\}/m))===null||n===void 0?void 0:n[1])||"";return t.replace(/^\s*\/\/.*$/gm,"").trim().length===0}var qm=function(a){Km(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.mapModel=function(t){var e,r=this,o="",l=t.get("script-export")||t.get("script"),f=t.get("type"),p=t.get("components"),h=t.getId();if(l){var v=t.get("attributes");v=(0,V.extend)({},v,{id:h}),t.set("attributes",v,{silent:!0});var _=t.getScriptString(l),A=t.get("script-props");if(t.get("scriptUpdated")&&!A)this.mapJs[f+"-"+h]={ids:[h],code:_};else{var B=void 0,nt=this.mapJs[f];if(A&&(B=t.__getScriptProps()),nt)nt.ids.push(h),B&&(nt.props[h]=B);else{var ft={ids:[h],code:_};B&&(ft.props=(e={},e[h]=B,e)),this.mapJs[f]=ft}}}return p.forEach(function(pt){o+=r.mapModel(pt)}),o},n.prototype.build=function(t){this.mapJs={},this.mapModel(t);var e="";for(var r in this.mapJs){var o=this.mapJs[r];if(o.code)if(o.props){if($m(o.code))continue;e+=`
          var props = `.concat(JSON.stringify(o.props),`;
          var ids = Object.keys(props).map(function(id) { return '#'+id }).join(',');
          var els = document.querySelectorAll(ids);
          for (var i = 0, len = els.length; i < len; i++) {
            var el = els[i];
            (`).concat(o.code,`.bind(el))(props[el.id]);
          }`)}else{var l="#"+o.ids.join(", #");e+=`
          var items = document.querySelectorAll('`.concat(l,`');
          for (var i = 0, len = items.length; i < len; i++) {
            (function(){
`).concat(o.code,`
}.bind(items[i]))();
          }`)}}return e},n}(m.Hn);const Zm=qm;var Ym=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Dp=function(){return Dp=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Dp.apply(this,arguments)},vc;(0,vt.hasWin)()&&(vc=gr(631),gr(531),gr(629),gr(210));var eh=function(a){Ym(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.defaults=function(){return{input:"",label:"",codeName:"",theme:"hopscotch",readOnly:!0,lineNumbers:!0,autoFormat:!0}},n.prototype.init=function(t){return(0,V.bindAll)(this,"onChange"),this.editor=vc.fromTextArea(t,Dp({dragDrop:!1,lineWrapping:!0,mode:this.get("codeName")},this.attributes)),this.element=t,this.editor.on("change",this.onChange),this},n.prototype.onChange=function(){this.trigger("update",this)},n.prototype.getEditor=function(){return this.editor},n.prototype.getElement=function(){return this.element},n.prototype.setElement=function(t){return this.element=t,this},n.prototype.refresh=function(){return this.getEditor().refresh(),this},n.prototype.focus=function(){return this.getEditor().focus(),this},n.prototype.getContent=function(){var t=this.getEditor();return t&&t.getValue()},n.prototype.setContent=function(t,e){var r=this;e===void 0&&(e={});var o=this.editor;if(o){o.setValue(t);var l=this.get("autoFormat"),f=o.autoFormatRange&&(l===!0||Array.isArray(l)&&l.includes(this.get("codeName")));f&&(vc.commands.selectAll(o),o.autoFormatRange(o.getCursor(!0),o.getCursor(!1)),vc.commands.goDocStart(o)),!e.noRefresh&&setTimeout(function(){return r.refresh()})}},n}(m.Hn);const Xm=eh;eh.prototype.CodeMirror=vc;var Jm=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Qm=function(a,n){return Object.defineProperty?Object.defineProperty(a,"raw",{value:n}):a.raw=n,a},ty=function(a){Jm(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.template=function(t){var e=t.pfx,r=t.codeName,o=t.label;return bt(rh||(rh=Qm([`
      <div class="`,'editor" id="',"",`">
        <div id="`,'title">',`</div>
        <div id="`,`code"></div>
      </div>
    `],[`
      <div class="`,'editor" id="',"",`">
        <div id="`,'title">',`</div>
        <div id="`,`code"></div>
      </div>
    `])),e,e,r,e,o,e)},n.prototype.initialize=function(t){this.config=t.config||{},this.pfx=this.config.stylePrefix},n.prototype.render=function(){var t,e,r=this,o=r.model,l=r.pfx,f=r.$el,p=o.toJSON(),h=o.get("input")||((e=(t=o).getElement)===null||e===void 0?void 0:e.call(t));return p.pfx=l,f.html(this.template(p)),f.attr("class","".concat(l,"editor-c")),f.find("#".concat(l,"code")).append(h),this},n}(m.G7);const ey=ty;var rh,ry=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ku=function(){return Ku=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Ku.apply(this,arguments)},ny="CodeMirror",oy=function(a){ry(n,a);function n(t){var e=a.call(this,t,"CodeManager",Nm)||this;e.EditorView=ey;var r=e.config,o=r.pStylePrefix;return o&&(r.stylePrefix=o+r.stylePrefix),e.generators={},e.viewers={},e.defGenerators={html:new Um,css:new $f,json:new Gm,js:new Zm},e.defViewers={CodeMirror:new Xm},e.loadDefaultGenerators().loadDefaultViewers(),e}return n.prototype.addGenerator=function(t,e){return this.generators[t]=e,this},n.prototype.getGenerator=function(t){return this.generators[t]},n.prototype.getGenerators=function(){return this.generators},n.prototype.addViewer=function(t,e){return this.viewers[t]=e,this},n.prototype.getViewer=function(t){return this.viewers[t]},n.prototype.getViewers=function(){return this.viewers},n.prototype.createViewer=function(t){t===void 0&&(t={});var e=(0,V.isUndefined)(t.type)?ny:t.type,r=this.getViewer(e)&&this.getViewer(e).clone(),o=document.createElement("div"),l=document.createElement("textarea");return o.appendChild(l),r.set(Ku(Ku({},this.config.optsCodeViewer),t)),r.init(l),r.setElement(o),r},n.prototype.updateViewer=function(t,e){t.setContent(e)},n.prototype.getCode=function(t,e,r){r===void 0&&(r={}),r.em=this.em;var o=this.getGenerator(e);return o?o.build(t,r):""},n.prototype.loadDefaultGenerators=function(){for(var t in this.defGenerators)this.addGenerator(t,this.defGenerators[t]);return this},n.prototype.loadDefaultViewers=function(){for(var t in this.defViewers)this.addViewer(t,this.defViewers[t]);return this},n.prototype.destroy=function(){},n}(R);const iy=oy;var ay=gr(410),sy=gr.n(ay),ly={maximumStackLength:500,trackSelection:!0};const cy=ly;var uy=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Fi=function(){return Fi=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Fi.apply(this,arguments)},fy=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return a.concat(o||Array.prototype.slice.call(n))},$u=function(a){return a.avoidStore||a.noUndo},nh=function(a){return Object.keys(a.changedAttributes())},py=function(a){uy(n,a);function n(t){var e=a.call(this,t,"UndoManager",cy)||this;e.config._disable&&(e.config.maximumStackLength=0);var r=!0;return e.um=new(sy())(Fi({track:!0,register:[]},e.config)),e.um.changeUndoType("change",{condition:function(o){var l=o.get("_undo");if(l){var f=o.get("_undoexc");if((0,V.isArray)(f)&&nh(o).some(function(p){return f.indexOf(p)>=0}))return!1;if((0,V.isBoolean)(l)||(0,V.isArray)(l)&&nh(o).some(function(p){return l.indexOf(p)>=0}))return!0}return!1},on:function(o,l,f){var p=this;!this.beforeCache&&(this.beforeCache=o.previousAttributes());var h=f||l||{};if(h.noUndo&&setTimeout(function(){p.beforeCache=null}),!$u(h)){var v=o.toJSON({fromUndo:r}),_={object:o,before:this.beforeCache,after:v};return this.beforeCache=null,(0,V.isEmpty)(v)?void 0:_}}}),e.um.changeUndoType("add",{on:function(o,l,f){if(f===void 0&&(f={}),!($u(f)||!e.isRegistered(l)))return{object:l,before:void 0,after:o,options:Fi(Fi({},f),{fromUndo:r})}}}),e.um.changeUndoType("remove",{on:function(o,l,f){if(f===void 0&&(f={}),!($u(f)||!e.isRegistered(l)))return{object:l,before:o,after:void 0,options:Fi(Fi({},f),{fromUndo:r})}}}),e.um.changeUndoType("reset",{undo:function(o,l){o.reset(l,{fromUndo:r})},redo:function(o,l,f){o.reset(f,{fromUndo:r})},on:function(o,l){if(l===void 0&&(l={}),!($u(l)||!e.isRegistered(o)))return{object:o,before:l.previousModels,after:fy([],o.models,!0),options:Fi(Fi({},l),{fromUndo:r})}}}),e.um.on("undo redo",function(){t.getSelectedAll().map(function(o){return o.trigger("rerender:layer")})}),["undo","redo"].forEach(function(o){return e.um.on(o,function(){return t.trigger(o)})}),e}return n.prototype.postLoad=function(){var t=this,e=t.config,r=t.em;e.trackSelection&&r&&this.add(r.get("selected"))},n.prototype.add=function(t){return this.um.register(t),this},n.prototype.remove=function(t){return this.um.unregister(t),this},n.prototype.removeAll=function(){return this.um.unregisterAll(),this},n.prototype.start=function(){return this.um.startTracking(),this},n.prototype.stop=function(){return this.um.stopTracking(),this},n.prototype.undo=function(t){t===void 0&&(t=!0);var e=this,r=e.em,o=e.um;return!r.isEditing()&&o.undo(t),this},n.prototype.undoAll=function(){return this.um.undoAll(),this},n.prototype.redo=function(t){t===void 0&&(t=!0);var e=this,r=e.em,o=e.um;return!r.isEditing()&&o.redo(t),this},n.prototype.redoAll=function(){return this.um.redoAll(),this},n.prototype.hasUndo=function(){return!!this.um.isAvailable("undo")},n.prototype.hasRedo=function(){return!!this.um.isAvailable("redo")},n.prototype.isRegistered=function(t){return!!this.getInstance().objectRegistry.isRegistered(t)},n.prototype.getStack=function(){return this.um.stack},n.prototype.getStackGroup=function(){var t=[],e=[];return this.getStack().forEach(function(r){var o=r.get("magicFusionIndex");e.indexOf(o)<0&&(e.push(o),t.push(r))}),t},n.prototype.skip=function(t){var e=!!this.um.isTracking();e&&this.stop(),t(),e&&this.start()},n.prototype.getGroupedStack=function(){var t={},e=this.getStack(),r=function(o,l){var f=o.attributes,p=f.type,h=f.after,v=f.before,_=f.object,A=f.options,B=A===void 0?{}:A;return{index:l,type:p,after:h,before:v,object:_,options:B}};return e.forEach(function(o,l){var f=o.get("magicFusionIndex"),p=r(o,l);t[f]?t[f].push(p):t[f]=[p]}),Object.keys(t).map(function(o){var l=t[o];return{index:l[l.length-1].index,actions:l,labels:(0,V.unique)(l.reduce(function(f,p){var h,v=(h=p.options)===null||h===void 0?void 0:h.action;return v&&f.push(v),f},[]))}})},n.prototype.goToGroup=function(t){var e=this;if(t){var r=this.getPointer(),o=t.index-r;(0,V.times)(Math.abs(o),function(){e[o<0?"undo":"redo"](!1)})}},n.prototype.getPointer=function(){return this.getStack().pointer},n.prototype.clear=function(){return this.um.clear(),this},n.prototype.getInstance=function(){return this.um},n.prototype.destroy=function(){this.clear().removeAll()},n}(R);const dy=py;var hy={stylePrefix:"rte-",adjustToolbar:!0,actions:["bold","italic","underline","strikethrough","link","wrap"],custom:!1};const vy=hy;var vl=function(){return vl=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},vl.apply(this,arguments)},qu;(function(a){a[a.ACTIVE=1]="ACTIVE",a[a.INACTIVE=0]="INACTIVE",a[a.DISABLED=-1]="DISABLED"})(qu||(qu={}));var Ip="_rte",vs={ACTIVE:1,INACTIVE:0,DISABLED:-1},Zu=function(a,n){n===void 0&&(n="A");var t=a.selection()||{},e=t.anchorNode,r=t.focusNode,o=e==null?void 0:e.parentNode,l=r==null?void 0:r.parentNode;return(o==null?void 0:o.nodeName)==n||(l==null?void 0:l.nodeName)==n},Yu="data-selectme",gc={bold:{name:"bold",icon:"<b>B</b>",attributes:{title:"Bold"},result:function(a){return a.exec("bold")}},italic:{name:"italic",icon:"<i>I</i>",attributes:{title:"Italic"},result:function(a){return a.exec("italic")}},underline:{name:"underline",icon:"<u>U</u>",attributes:{title:"Underline"},result:function(a){return a.exec("underline")}},strikethrough:{name:"strikethrough",icon:"<s>S</s>",attributes:{title:"Strike-through"},result:function(a){return a.exec("strikeThrough")}},link:{icon:`<svg viewBox="0 0 24 24">
          <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z" />
        </svg>`,name:"link",attributes:{style:"font-size:1.4rem;padding:0 4px 2px;",title:"Link"},state:function(a){return a&&a.selection()&&Zu(a)?vs.ACTIVE:vs.INACTIVE},result:function(a){Zu(a)?a.exec("unlink"):a.insertHTML('<a href="" '.concat(Yu,">").concat(a.selection(),"</a>"),{select:!0})}},wrap:{name:"wrap",icon:`<svg viewBox="0 0 24 24">
            <path fill="currentColor" d="M20.71,4.63L19.37,3.29C19,2.9 18.35,2.9 17.96,3.29L9,12.25L11.75,15L20.71,6.04C21.1,5.65 21.1,5 20.71,4.63M7,14A3,3 0 0,0 4,17C4,18.31 2.84,19 2,19C2.92,20.22 4.5,21 6,21A4,4 0 0,0 10,17A3,3 0 0,0 7,14Z" />
        </svg>`,attributes:{title:"Wrap for style"},state:function(a){return a!=null&&a.selection()&&Zu(a,"SPAN")?vs.DISABLED:vs.INACTIVE},result:function(a){!Zu(a,"SPAN")&&a.insertHTML("<span ".concat(Yu,">").concat(a.selection(),"</span>"),{select:!0})}}},gy=function(){function a(n,t,e){var r=this;if(e===void 0&&(e={}),this.em=n,this.settings=e,t[Ip])return t[Ip];t[Ip]=this,this.setEl(t),this.updateActiveActions=this.updateActiveActions.bind(this),this.__onKeydown=this.__onKeydown.bind(this),this.__onPaste=this.__onPaste.bind(this);var o=(e.actions||[]).map(function(v){var _=v;return(0,V.isString)(v)?_=vl({},gc[v]):gc[v.name]&&(_=vl(vl({},gc[v.name]),v)),_}),l=o.length?o:Object.keys(gc).map(function(v){return gc[v]});e.classes=vl({actionbar:"actionbar",button:"action",active:"active",disabled:"disabled",inactive:"inactive"},e.classes);var f=e.classes,p=e.actionbar;if(this.actionbar=p,this.classes=f,this.actions=l,!p){if(!this.isCustom(e.module)){var h=e.actionbarContainer;p=document.createElement("div"),p.className=f.actionbar,h==null||h.appendChild(p),this.actionbar=p}l.forEach(function(v){return r.addAction(v)})}return e.styleWithCSS&&this.exec("styleWithCSS"),this}return a.prototype.isCustom=function(n){var t=n||this.em.RichTextEditor;return!!(t!=null&&t.config.custom||t!=null&&t.customRte)},a.prototype.destroy=function(){},a.prototype.setEl=function(n){this.el=n,this.doc=n.ownerDocument},a.prototype.updateActiveActions=function(){var n=this,t=this.getActions();t.forEach(function(e){var r=e.update,o=e.btn,l=n.classes,f=l.active,p=l.inactive,h=l.disabled,v=e.state,_=e.name,A=n.doc,B=qu.INACTIVE;if(o&&(o.className=o.className.replace(f,"").trim(),o.className=o.className.replace(p,"").trim(),o.className=o.className.replace(h,"").trim()),v){var nt=v(n,A);if(B=nt,o)switch(nt){case vs.ACTIVE:o.className+=" ".concat(f);break;case vs.INACTIVE:o.className+=" ".concat(p);break;case vs.DISABLED:o.className+=" ".concat(h);break}}else A.queryCommandSupported(_)&&A.queryCommandState(_)&&(o&&(o.className+=" ".concat(f)),B=qu.ACTIVE);e.currentState=B,r==null||r(n,e)}),t.length&&this.em.RichTextEditor.__dbdTrgCustom()},a.prototype.enable=function(n){return this.enabled?this:this.__toggleEffects(!0,n)},a.prototype.disable=function(){return this.__toggleEffects(!1)},a.prototype.__toggleEffects=function(n,t){n===void 0&&(n=!1),t===void 0&&(t={});var e=n?ee.on:ee.S1,r=this,o=r.el,l=r.doc,f=this.actionbarEl();if(f&&(f.style.display=n?"":"none"),o.contentEditable="".concat(!!n),e(o,"mouseup keyup",this.updateActiveActions),e(l,"keydown",this.__onKeydown),e(l,"paste",this.__onPaste),this.enabled=n,n){var p=t.event;if(this.syncActions(),this.updateActiveActions(),p){var h=null;if(l.caretRangeFromPoint){var v=(0,ee.VB)(p);h=l.caretRangeFromPoint(v.clientX,v.clientY)}else p.rangeParent&&(h=l.createRange(),h.setStart(p.rangeParent,p.rangeOffset));var _=l.getSelection();_==null||_.removeAllRanges(),h&&(_==null||_.addRange(h))}o.focus()}return this},a.prototype.__onKeydown=function(n){var t=this.em,e=t.RichTextEditor.getConfig().onKeydown;if(e)return e({ev:n,rte:this,editor:t.getEditor()});var r=this.doc,o=["insertOrderedList","insertUnorderedList"];n.key==="Enter"&&!o.some(function(l){return r.queryCommandState(l)})&&(r.execCommand("insertLineBreak"),n.preventDefault())},a.prototype.__onPaste=function(n){var t=this.em,e=t.RichTextEditor.getConfig().onPaste;if(e)return e({ev:n,rte:this,editor:t.getEditor()});var r=n.clipboardData,o=r.getData("text"),l=r.getData("text/html");if(o&&!l){n.preventDefault();var f=o.replace(/(?:\r\n|\r|\n)/g,"<br/>");this.doc.execCommand("insertHTML",!1,f)}},a.prototype.syncActions=function(){var n=this;this.getActions().forEach(function(t){if(n.actionbar&&(!t.state||t.state&&t.state(n,n.doc)>=0)){var e=t.event||"click",r=t.btn;r&&(r["on".concat(e)]=function(){t.result(n,t),n.updateActiveActions()})}})},a.prototype.addAction=function(n,t){t===void 0&&(t={});var e=t.sync,r=this.actionbarEl();if(r){var o=n.icon,l=n.attributes,f=l===void 0?{}:l,p=document.createElement("span");p.className=this.classes.button,n.btn=p;for(var h in f)p.setAttribute(h,f[h]);typeof o=="string"?p.innerHTML=o:p.appendChild(o),r.appendChild(p)}e&&(this.actions.push(n),this.syncActions())},a.prototype.getActions=function(){return this.actions},a.prototype.selection=function(){return this.doc.getSelection()},a.prototype.exec=function(n,t){this.doc.execCommand(n,!1,t)},a.prototype.actionbarEl=function(){return this.actionbar},a.prototype.insertHTML=function(n,t){var e=t===void 0?{}:t,r=e.select,o=this,l=o.em,f=o.doc,p=o.el,h=f.getSelection();if(h&&h.rangeCount){var v=(0,vt.getComponentModel)(p)||l.getSelected(),_=f.createElement("div"),A=h.getRangeAt(0);A.deleteContents(),(0,V.isString)(n)?_.innerHTML=n:n&&_.appendChild(n),Array.prototype.slice.call(_.childNodes).forEach(function(B){A.insertNode(B)}),h.removeAllRanges(),h.addRange(A),p.focus(),r&&v&&(v.once("rte:disable",function(){var B=v.find("[".concat(Yu,"]"))[0];B&&(l.setSelected(B),B.removeAttributes(Yu))}),v.trigger("disable"))}},a}();const my=gy;var yy=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),oh=function(a,n,t,e){function r(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function f(v){try{h(e.next(v))}catch(_){l(_)}}function p(v){try{h(e.throw(v))}catch(_){l(_)}}function h(v){v.done?o(v.value):r(v.value).then(f,p)}h((e=e.apply(a,n||[])).next())})},ih=function(a,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,r,o,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(h){return function(v){return p([h,v])}}function p(h){if(e)throw new TypeError("Generator is already executing.");for(;l&&(l=0,h[0]&&(t=0)),t;)try{if(e=1,r&&(o=h[0]&2?r.return:h[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,h[1])).done)return o;switch(r=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,r=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){t.label=h[1];break}if(h[0]===6&&t.label<o[1]){t.label=o[1],o=h;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(h);break}o[2]&&t.ops.pop(),t.trys.pop();continue}h=n.call(a,t)}catch(v){h=[6,v],r=0}finally{e=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},by=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return a.concat(o||Array.prototype.slice.call(n))},Vp="".concat(Le.refresh," frame:scroll ").concat(Ae.g.update),wy="rte:enable",_y="rte:disable",xy="rte:custom",Cy={enable:wy,disable:_y,custom:xy},Sy=function(a){yy(n,a);function n(t){var e=a.call(this,t,"RichTextEditor",vy)||this;e.events=Cy;var r=e.config,o=r.pStylePrefix;o&&(r.stylePrefix=o+r.stylePrefix),e.pfx=r.stylePrefix,e.actions=r.actions||[];var l=new m.Hn;return e.model=l,l.on("change:currentView",e.__trgCustom,e),e.__dbdTrgCustom=(0,V.debounce)(function(){return e.__trgCustom()},0),e}return n.prototype.onLoad=function(){if((0,vt.hasWin)()){var t=this.config,e=t.pStylePrefix,r=t.custom,o=(0,ee.ut)("div",{class:(0,ee.cx)("".concat(e,"rte-toolbar"),!r&&"".concat(e,"one-bg ").concat(e,"rte-toolbar-ui"))});this.toolbar=o,this.initRte((0,ee.ut)("div")),(0,ee.on)(o,"mousedown",function(l){return l.stopPropagation()})}},n.prototype.__trgCustom=function(){var t=this,e=t.model,r=t.em,o=t.events;r.trigger(o.custom,{enabled:!!e.get("currentView"),container:this.getToolbarEl(),actions:this.getAll()})},n.prototype.destroy=function(){var t,e,r;(t=this.globalRte)===null||t===void 0||t.destroy(),(r=(e=this.customRte)===null||e===void 0?void 0:e.destroy)===null||r===void 0||r.call(e),this.model.stopListening().clear({silent:!0}),this.__dbdTrgCustom.cancel(),(0,ee.L_)(this.toolbar)},n.prototype.postRender=function(t){var e=t.model.get("Canvas");this.toolbar.style.pointerEvents="all",this.hideToolbar(),e.getToolsEl().appendChild(this.toolbar)},n.prototype.initRte=function(t){var e=this.globalRte,r=this,o=r.em,l=r.pfx,f=r.actionbar,p=r.config,h=this.actions||by([],p.actions,!0),v={actionbar:"".concat(l,"actionbar"),button:"".concat(l,"action"),active:"".concat(l,"active"),inactive:"".concat(l,"inactive"),disabled:"".concat(l,"disabled")};return e?(e.em=o,e.setEl(t)):(e=new my(o,t,{classes:v,actions:h,actionbar:f,actionbarContainer:this.toolbar,module:this}),this.globalRte=e),e.actionbar&&(this.actionbar=e.actionbar),e.actions&&(this.actions=e.actions),e},n.prototype.add=function(t,e){var r;e===void 0&&(e={}),e.name=t,(r=this.globalRte)===null||r===void 0||r.addAction(e,{sync:!0})},n.prototype.get=function(t){var e,r;return(e=this.globalRte)===null||e===void 0||e.getActions().forEach(function(o){o.name==t&&(r=o)}),r},n.prototype.getAll=function(){var t;return((t=this.globalRte)===null||t===void 0?void 0:t.getActions())||[]},n.prototype.remove=function(t){var e,r=this.getAll(),o=this.get(t);if(o){var l=o.btn,f=r.indexOf(o);(e=l==null?void 0:l.parentNode)===null||e===void 0||e.removeChild(l),r.splice(f,1)}return o},n.prototype.run=function(t){var e=this.globalRte,r=(0,V.isString)(t)?this.get(t):t;e&&r&&(r.result(e,r),e.updateActiveActions())},n.prototype.getToolbarEl=function(){return this.toolbar},n.prototype.updatePosition=function(){var t=this,e=t.em,r=t.toolbar,o="px",l=e.Canvas,f=r.style,p=l.getTargetToElementFixed(this.lastEl,r,{event:"rteToolbarPosUpdate",left:0});["top","left","bottom","right"].forEach(function(h){var v=p[h];(0,vt.isDef)(v)&&(f[h]=(0,V.isString)(v)?v:(v||0)+o)})},n.prototype.enable=function(t,e,r){return r===void 0&&(r={}),oh(this,void 0,void 0,function(){var o,l,f,p,h;return ih(this,function(v){switch(v.label){case 0:return this.lastEl=t.el,o=this,l=o.customRte,f=o.em,p=t.getChildrenContainer(),this.toolbar.style.display="",[4,l?l.enable(p,e):this.initRte(p).enable(r)];case 1:return h=v.sent(),f&&(setTimeout(this.updatePosition.bind(this),0),f.off(Vp,this.updatePosition,this),f.on(Vp,this.updatePosition,this),f.trigger("rte:enable",t,h)),this.model.set({currentView:t}),[2,h]}})})},n.prototype.getContent=function(t,e){return oh(this,void 0,void 0,function(){var r;return ih(this,function(o){switch(o.label){case 0:return r=this.customRte,r&&e&&(0,V.isFunction)(r.getContent)?[4,r.getContent(t.el,e)]:[3,2];case 1:return[2,o.sent()];case 2:return[2,t.getChildrenContainer().innerHTML]}})})},n.prototype.hideToolbar=function(){var t=this.toolbar.style,e="-1000px";t.top=e,t.left=e,t.display="none"},n.prototype.disable=function(t,e,r){r===void 0&&(r={});var o=this.em,l=this.customRte,f=t.getChildrenContainer();l?l.disable(f,e):e&&e.disable(),this.hideToolbar(),o&&(o.off(Vp,this.updatePosition,this),!r.fromMove&&o.trigger("rte:disable",t,e)),this.model.unset("currentView")},n}(R);const Oy=Sy,Ty={sectors:[{name:"General",open:!1,properties:["display","float","position","top","right","left","bottom"]},{name:"Flex",open:!1,properties:["flex-direction","flex-wrap","justify-content","align-items","align-content","order","flex-basis","flex-grow","flex-shrink","align-self"]},{name:"Dimension",open:!1,properties:["width","height","max-width","min-height","margin","padding"]},{name:"Typography",open:!1,properties:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","text-shadow"]},{name:"Decorations",open:!1,properties:["background-color","border-radius","border","box-shadow","background"]},{name:"Extra",open:!1,properties:["opacity","transition","transform"]}],appendTo:"",stylePrefix:"sm-",custom:!1,hideNotStylable:!0,highlightChanged:!0,highlightComputed:!0,showComputed:!0,clearProperties:!0,avoidComputed:["width","height"]};var Py=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),zn=function(){return zn=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},zn.apply(this,arguments)},Ey=function(a,n){var t={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&n.indexOf(e)<0&&(t[e]=a[e]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(a);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(a,e[r])&&(t[e[r]]=a[e[r]]);return t},ah=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return a.concat(o||Array.prototype.slice.call(n))},Rp=function(a){Py(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.getDefaults=function(){return(0,V.result)(this.prototype,"defaults")},n.prototype.defaults=function(){return{name:"",property:"",type:"",defaults:"",info:"",value:"",icon:"",functionName:"",status:"",visible:!0,fixedValues:["initial","inherit"],full:!1,important:!1,toRequire:!1,requires:void 0,requiresParent:null,parentTarget:null}},n.prototype.initialize=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),this.em=e.em;var r=this.getId()||"",o=this.get("name")||this.get("label")||"";!this.get("property")&&this.set("property",(o||r).replace(/ /g,"-"));var l=this.get("property");!this.get("id")&&this.set("id",l),!o&&this.set("name",(0,vt.capitalize)(l).replace(/-/g," ")),this.on("change",this.__upTargets),n.callInit(this,t,e)},n.prototype.__getParentProp=function(){var t,e;return(e=(t=this.collection)===null||t===void 0?void 0:t.opts)===null||e===void 0?void 0:e.parentProp},n.prototype.__upTargets=function(t,e){var r,o=this;e===void 0&&(e={});var l=this.em,f=l.Styles,p=this.getName(),h=e.__clear,v=h?"":this.__getFullValue(e),_=this.__getParentProp(),A=this.changedAttributes(),B=(0,V.keys)(A).reduce(function(Bt,te){return Bt[te]=o.previous(te),Bt},{}),nt=ah(ah([],(0,V.keys)(this.__getClearProps()),!0),["__p"],!1),ft=(0,V.keys)(A),pt=!e.__up&&!_&&(h||nt.some(function(Bt){return ft.indexOf(Bt)>=0})),Pt=this.get("onChange"),Ft={property:this,from:B,to:A,value:v,opts:e};f.__trgEv(f.events.propertyUpdate,Ft),Pt&&Pt(Ft),pt&&this.__upTargetsStyle((r={},r[p]=v,r),e)},n.prototype.__upTargetsStyle=function(t,e){var r,o=(r=this.em)===null||r===void 0?void 0:r.get("StyleManager");o==null||o.addStyleTargets(zn(zn({},t),{__p:!!e.avoidStore}),e)},n.prototype._up=function(t,e){e===void 0&&(e={}),e.noTarget&&(e.__up=!0);var r=e.partial,o=Ey(e,["partial"]);return t.__p=!!(o.avoidStore||r),this.set(t,zn(zn({},o),{avoidStore:t.__p}))},n.prototype.up=function(t,e){e===void 0&&(e={}),this.set(t,zn(zn({},e),{__up:!0}))},n.prototype.init=function(){},n.prototype.getId=function(){return this.get("id")},n.prototype.getType=function(){return this.get("type")},n.prototype.getName=function(){return this.get("property")},n.prototype.getLabel=function(t){var e;t===void 0&&(t={});var r=t.locale,o=r===void 0?!0:r,l=this.getId(),f=this.get("name")||this.get("label");return o&&((e=this.em)===null||e===void 0?void 0:e.t("styleManager.properties.".concat(l)))||f},n.prototype.getValue=function(t){t===void 0&&(t={});var e=t.noDefault,r=this.get("value");return!this.hasValue()&&!e?this.getDefaultValue():r},n.prototype.hasValue=function(t){t===void 0&&(t={});var e=t.noParent,r=e&&this.getParentTarget(),o=this.get("value");return!(0,V.isUndefined)(o)&&o!==""&&!r},n.prototype.hasValueParent=function(){return this.hasValue()&&!this.hasValue({noParent:!0})},n.prototype.getStyle=function(t){var e;t===void 0&&(t={});var r=this.getName(),o=t.camelCase?(0,vt.camelCase)(r):r;return e={},e[o]=this.__getFullValue(t),e},n.prototype.getDefaultValue=function(){var t=this.get("default");return"".concat((0,V.isUndefined)(t)?this.get("defaults"):t)},n.prototype.upValue=function(t,e){e===void 0&&(e={});var r=t===null||t===""?this.__getClearProps():this.__parseValue(t,e);return this._up(r,e)},n.prototype.isVisible=function(){return!!this.get("visible")},n.prototype.clear=function(t){return t===void 0&&(t={}),this._up(this.__getClearProps(),zn(zn({},t),{__clear:!0})),this},n.prototype.canClear=function(){var t=this.getParent();return t?t.__canClearProp(this):this.hasValue({noParent:!0})},n.prototype.getParent=function(){return this.__getParentProp()},n.prototype.isFull=function(){return!!this.get("full")},n.prototype.__parseValue=function(t,e){return this.parseValue(t,e)},n.prototype.__getClearProps=function(){return{value:""}},n.prototype.setValue=function(t,e,r){e===void 0&&(e=!0),r===void 0&&(r={});var o=this.parseValue(t),l=!e;!l&&this.set({value:void 0},{avoidStore:l,silent:!0}),this.set(o,zn({avoidStore:l},r))},n.prototype.setValueFromInput=function(t,e,r){r===void 0&&(r={}),this.setValue(t,e,zn(zn({},r),{fromInput:1}))},n.prototype.parseValue=function(t,e){e===void 0&&(e={});var r={value:t},o="!important",l=this.get("functionName")||"";if((0,V.isString)(t)&&t.indexOf(o)!==-1&&(r.value=t.replace(o,"").trim(),r.important=!0),!l&&!e.complete)return r;var f=[],p="".concat(r.value).trim(),h=p.indexOf("(")+1,v=l||p.substring(0,h-1);if(v&&(r.functionName=v),!l||p.indexOf("".concat(l,"("))===0){var _=p.lastIndexOf(")");f.push(h),_>=0&&f.push(_),r.value=String.prototype.substring.apply(p,f)}if(e.numeric){var A=parseFloat(r.value);r.unit=r.value.replace(A,""),r.value=A}return r},n.prototype.__getFullValue=function(t){var e=t===void 0?{}:t,r=e.withDefault;return!this.hasValue()&&r?this.getDefaultValue():this.getFullValue()},n.prototype.getFullValue=function(t,e){e===void 0&&(e={});var r=this.get("functionName"),o=this.getDefaultValue(),l=(0,V.isUndefined)(t)?this.get("value"):t,f=!(0,V.isUndefined)(l)&&l!=="";if(l&&o&&l===o)return o;if(r&&f){var p=r==="url"?"'".concat(l.replace(/'|"/g,""),"'"):l;l="".concat(r,"(").concat(p,")")}return f&&this.get("important")&&!e.skipImportant&&(l="".concat(l," !important")),l||""},n.prototype.__setParentTarget=function(t){this.up({parentTarget:t})},n.prototype.getParentTarget=function(){return this.get("parentTarget")||null},n.prototype.__parseFn=function(t){t===void 0&&(t="");var e=t.indexOf("(")+1,r=t.lastIndexOf(")");return{name:t.substring(0,e-1).trim(),value:String.prototype.substring.apply(t,[e,r>=0?r:void 0]).trim()}},n.prototype.__checkVisibility=function(t){var e=t.target,r=t.component,o=t.sectors,l=r||e;if(!l)return!1;var f=this.getId(),p=this.getName(),h=this.get("toRequire"),v=this.get("requires"),_=this.get("requiresParent"),A=l.get("unstylable"),B=l.get("stylable-require"),nt=l.get("stylable");if((0,V.isArray)(nt)&&(nt=nt.indexOf(p)>=0),(0,V.isArray)(A)&&(nt=A.indexOf(p)<0),h&&(nt=!e||B&&(B.indexOf(f)>=0||B.indexOf(p)>=0)),o&&v){var ft=(0,V.keys)(v);o.forEach(function(Bt){Bt.getProperties().forEach(function(te){if((0,V.includes)(ft,te.id)){var de=v[te.id];nt=nt&&(0,V.includes)(de,te.get("value"))}})})}if(_){var pt=r&&r.parent(),Pt=pt&&pt.getEl();if(Pt){var Ft=(0,vt.hasWin)()?window.getComputedStyle(Pt):{};(0,V.each)(_,function(Bt,te){nt=nt&&Ft[te]&&(0,V.includes)(Bt,Ft[te])})}else nt=!1}return!!nt},n}(m.Hn);const Er=Rp;Rp.callParentInit=function(a,n,t,e){e===void 0&&(e={}),a.prototype.initialize.apply(n,[t,zn(zn({},e),{skipInit:1})])},Rp.callInit=function(a,n,t){t===void 0&&(t={}),!t.skipInit&&a.init(n,t)};var ky=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Xu=function(){return Xu=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Xu.apply(this,arguments)},Ay=function(a){ky(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.defaults=function(){return{values:{}}},n.prototype.initialize=function(){var t=this.collection;this.prop=t==null?void 0:t.prop},n.prototype.getId=function(){return this.cid},n.prototype.getIndex=function(){var t=this.collection;return t?t.indexOf(this):-1},n.prototype.getValues=function(t){t===void 0&&(t={});var e=this.get("values");return t.camelCase?Object.keys(e).reduce(function(r,o){return r[(0,vt.camelCase)(o)]=e[o],r},{}):e},n.prototype.getLabel=function(){var t;return(t=this.prop)===null||t===void 0?void 0:t.getLayerLabel(this)},n.prototype.isSelected=function(){var t;return((t=this.prop)===null||t===void 0?void 0:t.getSelectedLayer())===this},n.prototype.select=function(){var t;return(t=this.prop)===null||t===void 0?void 0:t.selectLayer(this)},n.prototype.remove=function(){var t;return(t=this.prop)===null||t===void 0?void 0:t.removeLayer(this)},n.prototype.move=function(t){var e;return(e=this.prop)===null||e===void 0?void 0:e.moveLayer(this,t)},n.prototype.getStylePreview=function(t){var e;return t===void 0&&(t={}),(e=this.prop)===null||e===void 0?void 0:e.getStylePreview(this,t)},n.prototype.hasPreview=function(){var t;return!!(!((t=this.prop)===null||t===void 0)&&t.get("preview"))},n.prototype.upValues=function(t){return t===void 0&&(t={}),this.set("values",Xu(Xu({},this.getValues()),t))},n}(m.Hn);const My=Ay;var Ly=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),sh=function(a){Ly(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.initialize=function(t,e){e===void 0&&(e={}),this.prop=e.prop},n}(m.FE);const jy=sh;sh.prototype.model=My;var Dy=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),gl=function(){return gl=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},gl.apply(this,arguments)},lh=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return a.concat(o||Array.prototype.slice.call(n))},ch=function(a){return a==="integer"||a==="number"},Iy=function(a){Dy(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.defaults=function(){return gl(gl({},Er.getDefaults()),{detached:!1,properties:[],separator:" ",join:null,fromStyle:null,toStyle:null,full:!0})},n.prototype.initialize=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Er.callParentInit(Er,this,t,e);var r=this.em,o=new Bp(this.get("properties")||[],{em:r,parentProp:this});this.set("properties",o,{silent:!0}),this.listenTo(o,"change",this.__upProperties),Er.callInit(this,t,e)},Object.defineProperty(n.prototype,"properties",{get:function(){return this.get("properties")||[]},enumerable:!1,configurable:!0}),n.prototype.getProperties=function(){return lh([],this.get("properties").models,!0)},n.prototype.getProperty=function(t){return this.properties.filter(function(e){return e.getId()===t||e.getName()===t})[0]},n.prototype.getPropertyAt=function(t){return this.get("properties").at(t)},n.prototype.isDetached=function(){return!!this.get("detached")},n.prototype.getValues=function(t){var e=t===void 0?{}:t,r=e.byName;return this.getProperties().reduce(function(o,l){var f=r?l.getName():l.getId();return o[f]="".concat(l.__getFullValue()),o},{})},n.prototype.getSeparator=function(){return this.getSplitSeparator()},n.prototype.getJoin=function(){return this.__getJoin()},n.prototype.getStyleFromProps=function(t){var e;t===void 0&&(t={});var r=this.getName(),o=this.__getJoin(),l=this.get("toStyle"),f=this.getValues(),p={};if(l)p=l(f,{join:o,name:r,property:this});else if(f=this.getValues({byName:!0}),this.isDetached())p=f;else{var h=this.getProperties().map(function(v){return v.__getFullValue({withDefault:1})}).filter(Boolean).join(o);p=(e={},e[r]=h,e)}return this.isDetached()?p[r]="":(p[r]=p[r]||"",p=gl(gl({},p),this.getProperties().reduce(function(v,_){return v[_.getName()]="",v},{}))),t.camelCase?Object.keys(p).reduce(function(v,_){return v[(0,vt.camelCase)(_)]=p[_],v},{}):p},n.prototype.getSplitSeparator=function(){return new RegExp("".concat(this.get("separator"),"(?![^\\(]*\\))"))},n.prototype.__upProperties=function(t,e){if(e===void 0&&(e={}),!(e.__up||e.__clearIn)){var r=this.__getParentProp();if(r)return r.__upProperties(this,e);this.__upTargetsStyleProps(e,t)}},n.prototype.__upTargetsStyleProps=function(t,e){var r;t===void 0&&(t={});var o=this.getStyleFromProps();if(this.isDetached()&&e){var l=e.getName();o=(r={},r[l]=o[l],r)}this.__upTargetsStyle(o,t)},n.prototype._up=function(t,e){return e===void 0&&(e={}),this.__setProperties(this.__getSplitValue(t.value),e),Er.prototype._up.call(this,t,e),this},n.prototype.getStyle=function(t){return this.getStyleFromProps(t)},n.prototype.__getFullValue=function(t){if(t===void 0&&(t={}),this.isDetached()||t.__clear)return"";var e=this.getStyleFromProps()[this.getName()]||"";return qn(e)},n.prototype.__getJoin=function(){var t=this.get("join");return(0,V.isString)(t)?t:this.get("separator")},n.prototype.__styleHasProps=function(t){t===void 0&&(t={});var e=this.getName(),r=this.getProperties(),o=r.map(function(f){return f.getName()}),l=lh([e],o,!0);return l.some(function(f){return!(0,V.isUndefined)(t[f])&&t[f]!==""})},n.prototype.__splitValue=function(t,e){return qn(t).split(e).map(function(r){return r.trim()}).filter(Boolean)},n.prototype.__splitStyleName=function(t,e,r){return this.__splitValue(t[e]||"",r)},n.prototype.__getSplitValue=function(t,e){t===void 0&&(t="");var r=e===void 0?{}:e,o=r.byName,l=this.getProperties(),f=l.length===4&&l.every(function(v){return ch(v.getType())}),p=this.__splitValue(t,this.getSplitSeparator()),h={};return l.forEach(function(v,_){var A=p[_],B=(0,V.isUndefined)(A)?"":A;if(f){var nt=p.length;B=p[_]||p[_%nt+(nt!=1&&nt%2?1:0)]||B}var ft=o?v.getName():v.getId();h[ft]=B||""}),h},n.prototype.__getPropsFromStyle=function(t,e){if(t===void 0&&(t={}),e===void 0&&(e={}),!this.__styleHasProps(t))return null;var r=e.byName,o=this.getName(),l=this.getProperties(),f=this.getSplitSeparator(),p=this.get("fromStyle"),h=p?p(t,{property:this,name:o,separator:f}):{};return p||(h=this.__getSplitValue(t[o]||"",{byName:r}),l.forEach(function(v){var _=t[v.getName()],A=r?v.getName():v.getId();!(0,V.isUndefined)(_)&&_!==""&&(h[A]=_)})),h},n.prototype.__setProperties=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),this.getProperties().forEach(function(o){var l=t[o.getId()];o.__getFullValue()!==l&&o.upValue(l,e)});var r=(0,V.keys)(t).map(function(o){return t[o]}).join(" ");this.set("value",r,{silent:!0})},n.prototype.clear=function(){var t=this;return this.getProperties().map(function(e){return e.clear({__clearIn:!t.isDetached()})}),Er.prototype.clear.call(this),this},n.prototype.hasValue=function(t){return this.getProperties().some(function(e){return e.hasValue(t)})},n.prototype.getFullValue=function(){return this.__getFullValue()},n.prototype.__canClearProp=function(t){return this.isDetached()&&t.hasValue({noParent:!0})},n}(Er);const ml=Iy;var Vy=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Jn=function(){return Jn=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Jn.apply(this,arguments)},Ry=function(a,n){var t={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&n.indexOf(e)<0&&(t[e]=a[e]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(a);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(a,e[r])&&(t[e[r]]=a[e[r]]);return t},Ny=/,(?![^\(]*\))/,Fy=/\s(?![^(]*\))/,Hy=function(a){Vy(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.defaults=function(){return Jn(Jn({},ml.getDefaults()),{layers:[],emptyValue:"unset",layerSeparator:", ",layerJoin:"",prepend:0,preview:!1,layerLabel:null,selectedLayer:null})},n.prototype.initialize=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),ml.callParentInit(ml,this,t,e);var r=this.get("layers"),o=new jy(r,{prop:this});o.property=this,o.properties=this.get("properties"),this.set("layers",o,{silent:!0}),this.on("change:selectedLayer",this.__upSelected),this.listenTo(o,"add remove",this.__upLayers),ml.callInit(this,t,e)},Object.defineProperty(n.prototype,"layers",{get:function(){return this.get("layers")},enumerable:!1,configurable:!0}),n.prototype.getLayers=function(){return this.layers.models},n.prototype.hasLayers=function(){return this.getLayers().length>0},n.prototype.getLayer=function(t){return t===void 0&&(t=0),this.layers.at(t)||void 0},n.prototype.getSelectedLayer=function(){var t=this.get("selectedLayer");return t&&t.getIndex()>=0?t:void 0},n.prototype.selectLayer=function(t){return this.set("selectedLayer",t,{__select:!0})},n.prototype.selectLayerAt=function(t){t===void 0&&(t=0);var e=this.getLayer(t);return e&&this.selectLayer(e)},n.prototype.moveLayer=function(t,e){e===void 0&&(e=0);var r=this.layers,o=t?t.getIndex():-1;o>=0&&(0,V.isNumber)(e)&&e>=0&&e<r.length&&o!==e&&(this.removeLayer(t),r.add(t,{at:e}))},n.prototype.addLayer=function(t,e){t===void 0&&(t={}),e===void 0&&(e={});var r={};this.getProperties().forEach(function(l){var f=l.getId(),p=t[f];r[f]=(0,V.isUndefined)(p)?l.getDefaultValue():p});var o=this.layers.push({values:r},e);return o},n.prototype.removeLayer=function(t){return this.layers.remove(t)},n.prototype.removeLayerAt=function(t){t===void 0&&(t=0);var e=this.getLayer(t);return e?this.removeLayer(e):null},n.prototype.getLayerLabel=function(t){var e="";if(t){var r=this.get("layerLabel"),o=t.getValues(),l=t.getIndex();if(r)e=r(t,{index:l,values:o,property:this});else{var f=[];this.getProperties().map(function(p){f.push(o[p.getId()])}),e=f.filter(Boolean).join(" ")}}return e},n.prototype.getStyleFromLayer=function(t,e){var r;e===void 0&&(e={});var o=this.__getJoin(),l=this.__getJoinLayers(),f=this.get("toStyle"),p=this.getName(),h=t.getValues(),v;if(f)v=f(h,{join:o,joinLayers:l,name:p,layer:t,property:this});else{var _=this.getProperties().map(function(A){var B=A.getName(),nt=h[A.getId()],ft=(0,V.isUndefined)(nt)?A.getDefaultValue():nt;if(e.number&&ch(A.getType())){var pt=A.parseValue(nt,e.number);ft="".concat(pt.value).concat(pt.unit)}return{name:B,value:ft}});v=this.isDetached()?_.reduce(function(A,B){return A[B.name]=B.value,A},{}):(r={},r[this.getName()]=_.map(function(A){return A.value}).join(o),r)}return e.camelCase?Object.keys(v).reduce(function(A,B){return A[(0,vt.camelCase)(B)]=v[B],A},{}):v},n.prototype.getStylePreview=function(t,e){e===void 0&&(e={});var r={},o=this.get("preview");return o&&(r=this.getStyleFromLayer(t,e)),r},n.prototype.getLayerSeparator=function(){var t=this.get("layerSeparator");return(0,V.isString)(t)?new RegExp("".concat(t,"(?![^\\(]*\\))")):t},n.prototype.hasEmptyValue=function(){return!this.hasLayers()&&!!this.attributes.isEmptyValue},n.prototype.__upProperties=function(t,e){var r;e===void 0&&(e={});var o=this.getSelectedLayer();o&&(o.upValues((r={},r[t.getId()]=t.__getFullValue(),r)),!e.__up&&this.__upTargetsStyleProps(e))},n.prototype.__upLayers=function(t,e,r){this.__upTargetsStyleProps(r||e)},n.prototype.__upTargets=function(t,e){if(e===void 0&&(e={}),!e.__select)return Er.prototype.__upTargets.call(this,t,e)},n.prototype.__upTargetsStyleProps=function(t){t===void 0&&(t={}),this.__upTargetsStyle(this.getStyleFromLayers(t),t)},n.prototype.__upTargetsStyle=function(t,e){return Er.prototype.__upTargetsStyle.call(this,t,e)},n.prototype.__upSelected=function(t,e){var r=t===void 0?{}:t,o=r.noEvent;e===void 0&&(e={});var l=this.em.Styles,f=this.getSelectedLayer(),p=f==null?void 0:f.getValues();p&&this.getProperties().forEach(function(h){var v,_=(v=p[h.getId()])!==null&&v!==void 0?v:"";h.__getFullValue()!==_&&h.upValue(_,Jn(Jn({},e),{__up:!0}))}),!o&&l.__trgEv(l.events.layerSelect,{property:this})},n.prototype._up=function(t,e){e===void 0&&(e={});var r=t.__layers,o=r===void 0?[]:r,l=Ry(t,["__layers"]);return!this.isDetached()&&this.__setLayers(o),this.__upSelected({noEvent:!0},e),Er.prototype._up.call(this,l,e),this},n.prototype.__setLayers=function(t,e){t===void 0&&(t=[]),e===void 0&&(e={});var r=this.layers,o=t.map(function(l){return{values:l}});r.length===o.length?o.map(function(l,f){var p;return(p=r.at(f))===null||p===void 0?void 0:p.upValues(l.values)}):r.reset(o),this.set({isEmptyValue:!!e.isEmptyValue}),this.__upSelected({noEvent:!0})},n.prototype.__parseValue=function(t){var e=this,r=this.parseValue(t);return r.__layers=t.split(Ny).map(function(o){return o.trim()}).map(function(o){return e.__parseLayer(o)}).filter(Boolean),r},n.prototype.__parseLayer=function(t){var e=this.get("parseLayer"),r=t.split(Fy),o=this.getProperties();return e?e({value:t,values:r}):o.reduce(function(l,f,p){var h=r[p];return l[f.getId()]=(0,V.isUndefined)(h)?f.getDefaultValue():h,l},{})},n.prototype.__getLayersFromStyle=function(t){var e=this;if(t===void 0&&(t={}),!this.__styleHasProps(t))return null;if(this.isEmptyValueStyle(t))return[];var r=this.getName(),o=this.getProperties(),l=this.getLayerSeparator(),f=this.attributes.fromStyle,p=f?f(t,{property:this,name:r,separatorLayers:l}):[];if(!f){var h=this.__splitStyleName(t,r,l).map(function(v){return v.split(e.getSplitSeparator())}).map(function(v){var _={};return o.forEach(function(A,B){var nt=v[B];_[A.getId()]=(0,V.isUndefined)(nt)?A.getDefaultValue():nt}),_});o.forEach(function(v){var _=v.getId();e.__splitStyleName(t,v.getName(),l).map(function(A){var B;return B={},B[_]=A||v.getDefaultValue(),B}).forEach(function(A,B){h[B]=h[B]?Jn(Jn({},h[B]),A):A})}),p=h}return(0,V.isArray)(p)?p:[p]},n.prototype.getStyle=function(t){return t===void 0&&(t={}),this.getStyleFromLayers(t)},n.prototype.getStyleFromLayers=function(t){var e=this;t===void 0&&(t={});var r={},o=this.getName(),l=this.getLayers(),f=this.getProperties(),p=l.map(function(v){return e.getStyleFromLayer(v,t)});if(p.forEach(function(v){(0,V.keys)(v).map(function(_){r[_]||(r[_]=[]),r[_].push(v[_])})}),(0,V.keys)(r).map(function(v){r[v]=r[v].join(e.__getJoinLayers())}),this.isDetached())r[o]="",!l.length&&f.map(function(v){r[v.getName()]=""});else{var h=f.reduce(function(v,_){return v[_.getName()]="",v},{});r[o]=r[o]||"",r=Jn(Jn({},r),h)}return Jn(Jn({},r),t.__clear?{}:this.getEmptyValueStyle())},n.prototype.isEmptyValueStyle=function(t){t===void 0&&(t={});var e=this.getEmptyValueStyle({force:!0}),r=(0,V.keys)(e);return!!r.length&&r.every(function(o){return e[o]===t[o]})},n.prototype.getEmptyValueStyle=function(t){t===void 0&&(t={});var e=this.attributes.emptyValue;if(e&&(!this.hasLayers()||t.force)){var r=this.getName(),o=this.getProperties(),l=(0,V.isString)(e)?e:e({property:this});if((0,V.isString)(l)){var f={};return this.isDetached()?o.map(function(p){f[p.getName()]=l}):f[r]=l,f}else return l}else return{}},n.prototype.__getJoinLayers=function(){var t=this.get("layerJoin"),e=this.get("layerSeparator");return t||((0,V.isString)(e)?e:t)},n.prototype.__getFullValue=function(){if(this.get("detached"))return"";var t=this.getStyleFromLayers();return qn(t[this.getName()])},n.prototype.hasValue=function(t){t===void 0&&(t={});var e=t.noParent,r=e&&this.getParentTarget();return(this.hasLayers()||this.hasEmptyValue())&&!r},n.prototype.clear=function(t){return t===void 0&&(t={}),this.layers.reset(),this.__upTargetsStyleProps(Jn(Jn({},t),{__clear:!0})),Er.prototype.clear.call(this),this},n.prototype.__canClearProp=function(){return!1},n.prototype.__getLayers=function(){return this.layers},n}(ml);const By=Hy;var Uy=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ju=function(){return Ju=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Ju.apply(this,arguments)},zy=function(a,n){var t={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&n.indexOf(e)<0&&(t[e]=a[e]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(a);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(a,e[r])&&(t[e[r]]=a[e[r]]);return t},Wy=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return a.concat(o||Array.prototype.slice.call(n))},Np="data-clear-style",Gy=function(a){Uy(n,a);function n(t){t===void 0&&(t={});var e=a.call(this,t)||this;(0,V.bindAll)(e,"__change","__updateStyle");var r=t.config||{},o=r.em;e.config=r,e.em=o,e.pfx=r.stylePrefix||"",e.ppfx=r.pStylePrefix||"",e.__destroyFn=e.destroy?e.destroy.bind(e):function(){};var l=e.model;l.view=e,e.onValueChange=(0,V.debounce)(e.onValueChange.bind(e),10),e.updateStatus=(0,V.debounce)(e.updateStatus.bind(e),0),e.listenTo(l,"destroy remove",e.remove),e.listenTo(l,"change:visible",e.updateVisibility),e.listenTo(l,"change:name change:className change:full",e.render),e.listenTo(l,"change:value",e.onValueChange),e.listenTo(l,"change:parentTarget",e.updateStatus),e.listenTo(o,"change:device",e.onValueChange);var f=e.init&&e.init.bind(e);return f&&f(),e}return n.prototype.events=function(){var t;return t={change:"inputValueChanged"},t["click [".concat(Np,"]")]="clear",t},n.prototype.template=function(t){var e=this,r=e.pfx,o=e.ppfx;return`
      <div class="`.concat(r,`label" data-sm-label></div>
      <div class="`).concat(o,`fields" data-sm-fields></div>
    `)},n.prototype.templateLabel=function(t){var e=this,r=e.pfx,o=e.em,l=t.parent,f=t.attributes,p=f.icon,h=p===void 0?"":p,v=f.info,_=v===void 0?"":v,A=o==null?void 0:o.getConfig().icons,B=(A==null?void 0:A.close)||"";return`
      <span class="`.concat(r,"icon ").concat(h,'" title="').concat(_,`">
        `).concat(t.getLabel(),`
      </span>
      `).concat(l?"":'<div class="'.concat(r,'clear" style="display: none" ').concat(Np,">").concat(B,"</div>"),`
    `)},n.prototype.templateInput=function(t){return`
      <div class="`.concat(this.ppfx,`field">
        <input placeholder="`).concat(t.getDefaultValue(),`"/>
      </div>
    `)},n.prototype.remove=function(){var t=this;return m.G7.prototype.remove.apply(this,arguments),["em","input","$input","view"].forEach(function(e){return t[e]=null}),this.__destroyFn(this._getClbOpts()),this},n.prototype.updateStatus=function(){var t,e=this,r=e.model,o=e.pfx,l=e.ppfx,f=e.config,p="".concat(l,"four-color"),h="".concat(l,"color-warn"),v=this.$el.children(".".concat(o,"label")),_=this.getClearEl(),A=_?_.style:{};v.removeClass("".concat(p," ").concat(h)),A.display="none",r.hasValue({noParent:!0})&&f.highlightChanged?(v.addClass(p),f.clearProperties&&(A.display="")):r.hasValue()&&f.highlightComputed&&v.addClass(h),(t=this.parent)===null||t===void 0||t.updateStatus()},n.prototype.clear=function(t){t&&t.stopPropagation(),this.model.clear()},n.prototype.getClearEl=function(){return this.clearEl||(this.clearEl=this.el.querySelector("[".concat(Np,"]"))),this.clearEl},n.prototype.inputValueChanged=function(t){t&&t.stopPropagation(),!this.emit&&this.model.upValue(t.target.value)},n.prototype.onValueChange=function(t,e,r){this.setValue(this.model.getFullValue(void 0,{skipImportant:!0})),this.updateStatus()},n.prototype.setValue=function(t){var e=this.model,r=(0,V.isUndefined)(t)||t===""?e.getDefaultValue():t;if(this.update)return this.__update(r);this.__setValueInput(r)},n.prototype.__setValueInput=function(t){var e=this.getInputEl();e&&(e.value=t)},n.prototype.getInputEl=function(){return this.input||(this.input=this.el.querySelector("input")),this.input},n.prototype.updateVisibility=function(){this.el.style.display=this.model.isVisible()?"":"none"},n.prototype.clearCached=function(){delete this.clearEl,delete this.input,delete this.$input},n.prototype.__unset=function(){var t=this.unset&&this.unset.bind(this);t&&t(this._getClbOpts())},n.prototype.__update=function(t){var e=this.update&&this.update.bind(this);e&&e(Ju(Ju({},this._getClbOpts()),{value:t}))},n.prototype.__change=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=this.emit&&this.emit.bind(this);r&&r.apply(void 0,Wy([this._getClbOpts()],t,!1))},n.prototype.__updateStyle=function(t,e){e===void 0&&(e={});var r=e.complete,o=e.partial;zy(e,["complete","partial"]);var l=this.model,f=r!==!1&&o!==!0;(0,vt.isObject)(t)?l.__upTargetsStyle(t,{avoidStore:!f}):l.upValue(t,{partial:!f})},n.prototype._getClbOpts=function(){var t=this,e=t.model,r=t.el,o=t.createdEl;return{el:r,createdEl:o,property:e,props:e.attributes,change:this.__change,updateStyle:this.__updateStyle}},n.prototype.render=function(){this.clearCached();var t=this,e=t.pfx,r=t.model,o=t.el,l=t.$el,f=r.getName(),p=r.getType(),h=r.get("className")||"",v="".concat(e,"property"),_=p==="number"?"".concat(e).concat(p," ").concat(e,"integer"):"".concat(e).concat(p);this.createdEl&&this.__destroyFn(this._getClbOpts()),l.empty().append(this.template(r)),l.find("[data-sm-label]").append(this.templateLabel(r));var A=this.create&&this.create.bind(this);this.createdEl=A&&A(this._getClbOpts()),l.find("[data-sm-fields]").append(this.createdEl||this.templateInput(r)),o.className="".concat(v," ").concat(_," ").concat(v,"__").concat(f," ").concat(h).trim(),o.className+=r.isFull()?" ".concat(v,"--full"):"";var B=this.onRender&&this.onRender.bind(this);return B&&B(),this.setValue(r.getValue()),this},n.prototype.onRender=function(){},n}(m.G7);const Hi=Gy;var Ky=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),$y=function(a){Ky(n,a);function n(t){var e=a.call(this,t)||this;e.config=t.config||{},e.pfx=e.config.stylePrefix||"",e.properties=[],e.parent=t.parent;var r=e.collection;return e.listenTo(r,"add",e.addTo),e.listenTo(r,"reset",e.render),e}return n.prototype.addTo=function(t,e,r){this.add(t,null,r)},n.prototype.add=function(t,e,r){r===void 0&&(r={});var o=this,l=o.parent,f=o.config,p=e||this.el,h=new t.typeView({model:t,config:f});l&&(h.parent=l),h.render();var v=h.el;this.properties.push(h),(0,ee.$Q)(p,v,r.at)},n.prototype.remove=function(){return m.G7.prototype.remove.apply(this,arguments),this.clearItems(),this},n.prototype.clearItems=function(){this.properties.forEach(function(t){return t.remove()}),this.properties=[]},n.prototype.render=function(){var t=this,e=this,r=e.$el,o=e.pfx;this.clearItems();var l=document.createDocumentFragment();return this.collection.forEach(function(f){return t.add(f,l)}),r.empty(),r.append(l),r.attr("class","".concat(o,"properties")),this},n}(m.G7);const Fp=$y;var qy=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Qu=function(){return Qu=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Qu.apply(this,arguments)},Zy=function(a){qy(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.templateInput=function(){var t=this.pfx;return`
      <div class="`.concat(t,"field ").concat(t,`composite">
        <span id="`).concat(t,`input-holder"></span>
      </div>
    `)},n.prototype.remove=function(){var t;return(t=this.props)===null||t===void 0||t.remove(),Hi.prototype.remove.apply(this,arguments),this},n.prototype.onValueChange=function(){},n.prototype.onRender=function(){var t=this.pfx,e=this.model,r=e.get("properties");if(r.length&&!this.props){var o=e.isDetached(),l=new Fp({config:Qu(Qu({},this.config),{highlightComputed:o,highlightChanged:o}),collection:r,parent:this});l.render(),this.$el.find("#".concat(t,"input-holder")).append(l.el),this.props=l}},n.prototype.clearCached=function(){Hi.prototype.clearCached.apply(this,arguments),delete this.props},n}(Hi);const mc=Zy;var Yy=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Xy=function(a){Yy(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.events=function(){return{click:"select","click [data-close-layer]":"removeItem","mousedown [data-move-layer]":"initSorter","touchstart [data-move-layer]":"initSorter"}},n.prototype.template=function(){var t=this,e=t.pfx,r=t.ppfx,o=t.em,l=o==null?void 0:o.getConfig().icons,f=(l==null?void 0:l.close)||"",p=(l==null?void 0:l.move)||"";return`
      <div class="`.concat(e,`label-wrp">
        <div id="`).concat(e,'move" class="').concat(r,`no-touch-actions" data-move-layer>
          `).concat(p,`
        </div>
        <div id="`).concat(e,`label" data-label></div>
        <div id="`).concat(e,'preview-box" class="').concat(e,`layer-preview" style="display: none" data-preview-box>
          <div id="`).concat(e,'preview" class="').concat(e,`layer-preview-cnt" data-preview></div>
        </div>
        <div id="`).concat(e,'close-layer" class="').concat(e,`btn-close" data-close-layer>
          `).concat(f,`
        </div>
      </div>
      <div id="`).concat(e,`inputs" data-properties></div>
    `)},n.prototype.initialize=function(t){t===void 0&&(t={});var e=this.model,r=t.config||{};this.em=r.em,this.config=r,this.sorter=t.sorter,this.pfx=r.stylePrefix||"",this.ppfx=r.pStylePrefix||"",this.propertyView=t.propertyView;var o=this.propertyView.model;this.listenTo(e,"destroy remove",this.remove),this.listenTo(e,"change:values",this.updateLabel),this.listenTo(o,"change:selectedLayer",this.updateVisibility),e.view=this,e.set({droppable:0,draggable:1}),this.$el.data("model",e)},n.prototype.initSorter=function(){var t;(t=this.sorter)===null||t===void 0||t.startSort(this.el)},n.prototype.removeItem=function(t){t&&t.stopPropagation(),this.model.remove()},n.prototype.select=function(){this.model.select()},n.prototype.getPropertiesWrapper=function(){return this.propsWrapEl||(this.propsWrapEl=this.el.querySelector("[data-properties]")),this.propsWrapEl},n.prototype.getPreviewEl=function(){return this.previewEl||(this.previewEl=this.el.querySelector("[data-preview]")),this.previewEl},n.prototype.getLabelEl=function(){return this.labelEl||(this.labelEl=this.el.querySelector("[data-label]")),this.labelEl},n.prototype.updateLabel=function(){var t=this.model,e=t.getLabel();if(this.getLabelEl().innerHTML=e,t.hasPreview()){var r=this.getPreviewEl(),o=t.getStylePreview({number:{min:-3,max:3}}),l=(0,V.keys)(o).map(function(f){return"".concat(f,":").concat(o[f])}).join(";");r.setAttribute("style",l)}},n.prototype.updateVisibility=function(){var t,e=this,r=e.pfx,o=e.model,l=e.propertyView,f=this.getPropertiesWrapper(),p=o.isSelected();f.style.display=p?"":"none",this.$el[p?"addClass":"removeClass"]("".concat(r,"active")),p&&f.appendChild((t=l.props)===null||t===void 0?void 0:t.el)},n.prototype.render=function(){var t=this,e=t.el,r=t.pfx,o=t.model;return e.innerHTML=this.template(),e.className="".concat(r,"layer"),o.hasPreview()&&(e.querySelector("[data-preview-box]").style.display=""),this.updateLabel(),this.updateVisibility(),this},n}(m.G7);const Jy=Xy;var Qy=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),t0=function(a){Qy(n,a);function n(t){var e=a.call(this,t)||this,r=e.collection,o=t.config||{},l=o.em,f=o.stylePrefix||"",p=o.pStylePrefix||"";e.config=o,e.pfx=f,e.ppfx=p,e.propertyView=t.propertyView,e.className="".concat(f,"layers ").concat(p,"field"),e.listenTo(r,"add",e.addTo),e.listenTo(r,"reset",e.reset),e.items=[];var h=l==null?void 0:l.Utils;return e.sorter=h?new h.Sorter({container:e.el,ignoreViewChildren:1,containerSel:".".concat(f,"layers"),itemSel:".".concat(f,"layer"),pfx:o.pStylePrefix,em:l}):"",r.view=e,e.$el.data("model",r),e.$el.data("collection",r),e}return n.prototype.addTo=function(t){var e=this.collection.indexOf(t);this.addToCollection(t,null,e)},n.prototype.addToCollection=function(t,e,r){var o=e||null,l=this,f=l.propertyView,p=l.config,h=l.sorter,v=l.$el,_=new Jy({model:t,config:p,sorter:h,propertyView:f}),A=_.render().el;if(this.items.push(_),o)o.appendChild(A);else if(typeof r<"u"){var B="before";v.children().length===r&&(r--,B="after"),r<0?v.append(A):v.children().eq(r)[B](A)}else v.append(A);return A},n.prototype.reset=function(t,e){this.clearItems(),this.render()},n.prototype.remove=function(){return this.clearItems(),m.G7.prototype.remove.apply(this,arguments),this},n.prototype.clearItems=function(){this.items.forEach(function(t){return t.remove()}),this.items=[]},n.prototype.render=function(){var t=this,e=this,r=e.$el,o=e.sorter,l=document.createDocumentFragment();return r.empty(),this.collection.forEach(function(f){return t.addToCollection(f,l)}),r.append(l),r.attr("class",this.className),o&&(o.plh=null),this},n}(m.G7);const e0=t0;var r0=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),yl=function(){return yl=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},yl.apply(this,arguments)},n0=function(a){r0(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.events=function(){return yl(yl({},mc.prototype.events()),{"click [data-add-layer]":"addLayer",change:""})},n.prototype.templateInput=function(){var t=this,e=t.pfx,r=t.em,o=r==null?void 0:r.getConfig().icons,l=(o==null?void 0:o.plus)||"+";return`
      <div class="`.concat(e,"field ").concat(e,`stack">
        <button type="button" id="`).concat(e,`add" data-add-layer>
          `).concat(l,`
        </button>
        <div data-layers-wrapper></div>
      </div>
    `)},n.prototype.init=function(){var t=this.model;this.listenTo(t.layers,"change reset",this.updateStatus),this.listenTo(t,"change:isEmptyValue",this.updateStatus)},n.prototype.addLayer=function(){this.model.addLayer({},{at:0})},n.prototype.setValue=function(){},n.prototype.remove=function(){var t;return(t=this.layersView)===null||t===void 0||t.remove(),mc.prototype.remove.apply(this,arguments),this},n.prototype.clearCached=function(){mc.prototype.clearCached.apply(this,arguments),delete this.layersView},n.prototype.onRender=function(){var t=this,e=t.model,r=t.el,o=t.config,l=e.get("properties");if(l.length&&!this.props){var f=new Fp({config:yl(yl({},o),{highlightComputed:!1,highlightChanged:!1}),collection:l,parent:this});f.render();var p=new e0({collection:e.layers,config:o,propertyView:this});p.render();var h=r.querySelector("[data-layers-wrapper]");h.appendChild(p.el),this.props=f,this.layersView=p}},n}(mc);const o0=n0;var i0=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),tf=function(){return tf=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},tf.apply(this,arguments)},a0=function(a){i0(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.events=function(){return tf(tf({},Hi.prototype.events()),{"click [data-clear-asset]":"clear","click [data-open-assets]":"openAssetManager"})},n.prototype.templateInput=function(){var t,e=this,r=e.pfx,o=e.em,l=(t=this.em)===null||t===void 0?void 0:t.getConfig().icons,f=l==null?void 0:l.close;return`
      <div class="`.concat(r,"field ").concat(r,`file">
        <div id='`).concat(r,`input-holder'>
          <div class="`).concat(r,`btn-c">
            <button class="`).concat(r,'btn" id="').concat(r,`images" type="button" data-open-assets>
              `).concat(o.t("styleManager.fileButton"),`
            </button>
          </div>
          <div style="clear:both;"></div>
        </div>
        <div id="`).concat(r,'preview-box" class="').concat(r,`preview-file" data-preview-box>
          <div id="`).concat(r,'preview-file" class="').concat(r,`preview-file-cnt" data-preview></div>
          <div id="`).concat(r,'close" class="').concat(r,'preview-file-close" data-clear-asset>').concat(f,`</div>
        </div>
      </div>
    `)},n.prototype.__setValueInput=function(t){var e=this,r=e.model,o=e.el,l=r.getDefaultValue(),f=o.querySelector("[data-preview-box]"),p=o.querySelector("[data-preview]");f.style.display=!t||t===l?"none":"",p.style.backgroundImage=t||r.getDefaultValue()},n.prototype.openAssetManager=function(){var t=this,e,r=(e=this.em)===null||e===void 0?void 0:e.Assets;r==null||r.open({select:function(o,l){var f=(0,V.isString)(o)?o:o.get("src");t.model.upValue(f,{partial:!l}),l&&r.close()},types:["image"],accept:"image/*"})},n}(Hi);const s0=a0;var l0=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),c0=function(a){l0(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.templateInput=function(t){return""},n.prototype.init=function(){var t=this.model;this.listenTo(t,"change:unit",this.onValueChange),this.listenTo(t,"change:units",this.render)},n.prototype.setValue=function(t){},n.prototype.onRender=function(){var t=this,e=t.ppfx,r=t.model,o=t.el;if(!this.inputInst){var l=r.input;l.ppfx=e,l.render();var f=o.querySelector(".".concat(e,"fields"));f.appendChild(l.el),this.input=l.inputEl.get(0),this.inputInst=l}},n.prototype.clearCached=function(){Hi.prototype.clearCached.apply(this,arguments),this.inputInst=null},n}(Hi);const Bi=c0;var u0=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),f0=function(a){u0(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.setValue=function(t){var e;(e=this.inputInst)===null||e===void 0||e.setValue(t,{fromTarget:1,def:this.model.getDefaultValue()})},n.prototype.remove=function(){var t=this;Bi.prototype.remove.apply(this,arguments);var e=this.inputInst;return e&&e.remove&&e.remove(),["inputInst","$color"].forEach(function(r){return t[r]=null}),this},n.prototype.__handleChange=function(t,e){this.model.upValue(t,{partial:e})},n.prototype.onRender=function(){var t;if(!this.inputInst){this.__handleChange=this.__handleChange.bind(this);var e=this,r=e.ppfx,o=e.model,l=e.em,f=e.el,p=new si({target:l,model:o,ppfx:r,onChange:this.__handleChange}),h=p.render();f.querySelector(".".concat(r,"fields")).appendChild(h.el),this.input=(t=h.inputEl)===null||t===void 0?void 0:t.get(0),this.inputInst=h}},n}(Bi);const p0=f0;var d0=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ef=function(){return ef=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},ef.apply(this,arguments)},uh=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return a.concat(o||Array.prototype.slice.call(n))},h0=function(a){d0(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.defaults=function(){return ef(ef({},Er.getDefaults()),{options:[],full:0})},n.prototype.getOptions=function(){var t=this.attributes,e=t.options,r=t.list;return(e&&e.length?e:r)||[]},n.prototype.getOption=function(t){var e=this,r=(0,vt.isDef)(t)?t:this.getValue();return this.getOptions().filter(function(o){return e.getOptionId(o)===r})[0]||null},n.prototype.setOptions=function(t){return t===void 0&&(t=[]),this.set("options",t),this},n.prototype.addOption=function(t){if(t){var e=this.getOptions();this.setOptions(uh(uh([],e,!0),[t],!1))}return this},n.prototype.getOptionId=function(t){return(0,vt.isDef)(t.id)?t.id:t.value},n.prototype.getOptionLabel=function(t,e){var r;e===void 0&&(e={});var o=e.locale,l=o===void 0?!0:o,f=((0,V.isString)(t)?this.getOption(t):t)||{},p=this.getOptionId(f),h=f.label||f.name||p,v=e.property||this.getId();return l&&((r=this.em)===null||r===void 0?void 0:r.t("styleManager.options.".concat(v,".").concat(p)))||h},n.prototype.initialize=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Er.prototype.initialize.apply(this,t),this.listenTo(this,"change:options",this.__onOptionChange)},n.prototype.__onOptionChange=function(){this.set("list",this.get("options"))},n}(Er);const Hp=h0;var v0=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),g0=function(a){v0(n,a);function n(t){var e=a.call(this,t)||this;return e.listenTo(e.model,"change:options",e.updateOptions),e}return n.prototype.templateInput=function(){var t=this,e=t.pfx,r=t.ppfx;return`
      <div class="`.concat(r,"field ").concat(r,`select">
        <span id="`).concat(e,`input-holder"></span>
        <div class="`).concat(r,`sel-arrow">
          <div class="`).concat(r,`d-s-arrow"></div>
        </div>
      </div>
    `)},n.prototype.updateOptions=function(){delete this.input,this.onRender()},n.prototype.onRender=function(){var t=this.pfx,e=this.model,r=e.getOptions();if(!this.input){var o=[];r.forEach(function(f){var p=e.getOptionId(f),h=e.getOptionLabel(p),v=f.style?f.style.replace(/"/g,"&quot;"):"",_=v?'style="'.concat(v,'"'):"",A=p.replace(/"/g,"&quot;");o.push('<option value="'.concat(A,'" ').concat(_,">").concat(h,"</option>"))});var l=this.el.querySelector("#".concat(t,"input-holder"));l.innerHTML="<select>".concat(o.join(""),"</select>"),this.input=l.firstChild}},n.prototype.__setValueInput=function(t){var e=this.model,r=this.getInputEl(),o=e.getOptions()[0],l=o?e.getOptionId(o):"";r&&(r.value=t||l)},n}(Hi);const fh=g0;var m0=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),rf=function(){return rf=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},rf.apply(this,arguments)},y0=function(a){m0(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.defaults=function(){return rf(rf({},Hp.getDefaults()),{full:1})},n}(Hp);const b0=y0;var w0=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),_0=function(a){w0(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.templateInput=function(){var t=this.ppfx;return'<div class="'.concat(t,"field ").concat(t,'field-radio"></div>')},n.prototype.onRender=function(){var t=this,e=t.pfx,r=t.ppfx,o=this.model,l="".concat(r,"radio-item-label"),f=o.getName(),p=o.getOptions(),h="".concat(e,"radio ").concat(e,"radio-").concat(f),v=o.cid;if(!this.input){var _=[];p.forEach(function(B){var nt=B.className?"".concat(B.className," ").concat(e,"icon ").concat(l):"",ft=o.getOptionId(B),pt="".concat(f,"-").concat(ft,"-").concat(v),Pt=nt?"":o.getOptionLabel(ft),Ft=B.title?'title="'.concat(B.title,'"'):"",Bt=o.getValue()===ft?"checked":"";_.push(`
          <div class="`.concat(r,`radio-item">
            <input type="radio" class="`).concat(h,'" id="').concat(pt,'" name="').concat(f,"-").concat(v,'" value="').concat(ft,'" ').concat(Bt,`/>
            <label class="`).concat(nt||l,'" ').concat(Ft,' for="').concat(pt,'">').concat(Pt,`</label>
          </div>
        `))});var A=this.el.querySelector(".".concat(r,"field"));A.innerHTML='<div class="'.concat(r,'radio-items">').concat(_.join(""),"</div>"),this.input=A.firstChild}},n.prototype.__setValueInput=function(t){var e,r=this.model,o=t||r.getDefaultValue(),l=(e=this.getInputEl())===null||e===void 0?void 0:e.querySelector('[value="'.concat(o,'"]'));l&&(l.checked=!0)},n}(fh);const x0=_0;var C0=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),gs=function(){return gs=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},gs.apply(this,arguments)},S0=function(a){C0(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.defaults=function(){return gs(gs({},Er.getDefaults()),{units:[],unit:"",min:"",max:"",step:1})},n.prototype.getUnits=function(){return this.get("units")||[]},n.prototype.getUnit=function(){return this.get("unit")},n.prototype.getMin=function(){return this.get("min")},n.prototype.getMax=function(){return this.get("max")},n.prototype.getStep=function(){return this.get("step")},n.prototype.upUnit=function(t,e){return e===void 0&&(e={}),this._up({unit:t},e)},n.prototype.initialize=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Er.callParentInit(Er,this,t,e);var r=this.get("unit"),o=this.getUnits();this.input=(0,vt.hasWin)()?new ud({model:this}):void 0,o.length&&!r&&this.set("unit",o[0],{silent:!0}),Er.callInit(this,t,e)},n.prototype.__getClearProps=function(){return gs(gs({},Er.prototype.__getClearProps()),{unit:""})},n.prototype.parseValue=function(t,e){e===void 0&&(e={});var r=Er.prototype.parseValue.apply(this,arguments),o=this.input.validateInputValue(r.value,gs({deepCheck:1},e)),l=o.value,f=o.unit;return r.value=l,r.unit=f,r},n.prototype.getFullValue=function(){var t=this.get("value"),e=this.get("unit"),r=(0,V.isUndefined)(t)?"":"".concat(t),o=!(0,V.isUndefined)(e)&&r?e:"",l="".concat(r).concat(o);return Er.prototype.getFullValue.apply(this,[l])},n}(Er);const nf=S0;var O0=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),of=function(){return of=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},of.apply(this,arguments)},T0=function(a){O0(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.defaults=function(){return of(of({},nf.getDefaults()),{showInput:1})},n}(nf);const P0=T0;var E0=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),af=function(){return af=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},af.apply(this,arguments)},k0=function(a){E0(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.events=function(){return af(af({},Bi.prototype.events()),{"change [type=range]":"inputValueChanged","input [type=range]":"inputValueChangedSoft",change:""})},n.prototype.templateInput=function(t){var e=this.ppfx;return`
      <div class="`.concat(e,"field ").concat(e,`field-range">
        <input type="range" min="`).concat(t.get("min"),'" max="').concat(t.get("max"),'" step="').concat(t.get("step"),`"/>
      </div>
    `)},n.prototype.getSliderEl=function(){return this.slider||(this.slider=this.el.querySelector("input[type=range]")),this.slider},n.prototype.inputValueChanged=function(t){t.stopPropagation(),this.model.upValue(this.getSliderEl().value)},n.prototype.inputValueChangedSoft=function(t){t.stopPropagation(),this.model.upValue(this.getSliderEl().value,{partial:!0})},n.prototype.setValue=function(t){var e=this.model,r=e.parseValue(t);this.getSliderEl().value=t===""?e.getDefaultValue():parseFloat(r.value),Bi.prototype.setValue.apply(this,arguments)},n.prototype.onRender=function(){Bi.prototype.onRender.apply(this,arguments),this.model.get("showInput")||(this.inputInst.el.style.display="none")},n.prototype.clearCached=function(){Bi.prototype.clearCached.apply(this,arguments),delete this.slider},n}(Bi);const A0=k0;var M0=m.FE.extend(Ad),L0=M0.extend({extendViewApi:1,init:function(){var a=this,n=a.opts,t=a.em,e=n.module||(t==null?void 0:t.get("StyleManager"));e&&(e.__listenAdd(this,e.events.propertyAdd),e.__listenRemove(this,e.events.propertyRemove))},types:[{id:"stack",model:By,view:o0,isType:function(a){if(a&&a.type=="stack")return a}},{id:"composite",model:ml,view:mc,isType:function(a){if(a&&a.type=="composite")return a}},{id:"file",model:Er,view:s0,isType:function(a){if(a&&a.type=="file")return a}},{id:"color",model:Er,view:p0,isType:function(a){if(a&&a.type=="color")return a}},{id:"select",model:Hp,view:fh,isType:function(a){if(a&&a.type=="select")return a}},{id:"radio",model:b0,view:x0,isType:function(a){if(a&&a.type=="radio")return a}},{id:"slider",model:P0,view:A0,isType:function(a){if(a&&a.type=="slider")return a}},{id:"integer",model:nf,view:Bi,isType:function(a){if(a&&a.type=="integer")return a}},{id:"number",model:nf,view:Bi,isType:function(a){if(a&&a.type=="number")return a}},{id:"base",model:Er,view:Hi,isType:function(a){return a.type="base",a}}]});const Bp=L0;var j0=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),sf=function(){return sf=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},sf.apply(this,arguments)},D0=function(a,n){var t={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&n.indexOf(e)<0&&(t[e]=a[e]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(a);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(a,e[r])&&(t[e[r]]=a[e[r]]);return t},I0=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return a.concat(o||Array.prototype.slice.call(n))},V0=function(a){j0(n,a);function n(t,e){e===void 0&&(e={});var r=a.call(this,t)||this,o=e.em;r.em=o;var l=t||{},f=r.buildProperties(l.buildProps),p=r.get("name")||"",h=[];!r.get("id")&&r.set("id",p.replace(/ /g,"_").toLowerCase()),f?h=r.extendProperties(f):h=r.get("properties").map(function(_){return(0,V.isString)(_)?r.buildProperties(_)[0]:_}).filter(Boolean),h=h.map(function(_){return r.checkExtend(_)});var v=new Bp(h,{em:o});return v.sector=r,r.set("properties",v),r}return n.prototype.defaults=function(){return{id:"",name:"",open:!0,visible:!0,extendBuilded:!0,properties:[]}},Object.defineProperty(n.prototype,"properties",{get:function(){return this.get("properties")},enumerable:!1,configurable:!0}),n.prototype.getId=function(){return this.get("id")},n.prototype.getName=function(){var t,e=this.getId();return((t=this.em)===null||t===void 0?void 0:t.t("styleManager.sectors.".concat(e)))||this.get("name")},n.prototype.setName=function(t){return this.set("name",t)},n.prototype.isOpen=function(){return!!this.get("open")},n.prototype.setOpen=function(t){return this.set("open",t)},n.prototype.isVisible=function(){return!!this.get("visible")},n.prototype.getProperties=function(t){t===void 0&&(t={});var e=this.properties,r=e.models?I0([],e.models,!0):e;return r.filter(function(o){var l=!0;if(t.withValue&&(l=o.hasValue({noParent:!0})),t.withParentValue){var f=o.hasValue({noParent:!0});l=!f&&o.hasValue()}return l})},n.prototype.getProperty=function(t){return this.getProperties().filter(function(e){return e.get("id")===t})[0]||void 0},n.prototype.addProperty=function(t,e){return this.properties.add(this.checkExtend(t),e)},n.prototype.extendProperties=function(t,e,r){r===void 0&&(r=!1);for(var o=t.length,l=e||this.get("properties"),f=this.get("extendBuilded"),p=[],h=0,v=l.length;h<v;h++){for(var _=l[h],A=0,B=0;B<o;B++){var nt=t[B];if(_.property==nt.property||_.id==nt.property){var ft=_.properties;ft&&ft.length&&(_.properties=this.extendProperties(nt.properties||[],ft,1)),t[B]=f?(0,V.extend)(nt,_):_,p[B]=t[B],A=1;continue}}A||(t.push(_),p.push(_))}return r?p.filter(function(pt){return pt}):t},n.prototype.checkExtend=function(t){var e=((0,V.isString)(t)?{extend:t}:t)||{},r=e.extend,o=D0(e,["extend"]);return r?sf(sf({},this.buildProperties([r])[0]||{}),o):t},n.prototype.buildProperties=function(t){var e,r=t||[];if(!r.length)return[];var o=(e=this.em)===null||e===void 0?void 0:e.Styles.builtIn;return o==null?void 0:o.build(r)},n}(m.Hn);const ph=V0;var R0=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),lf=function(){return lf=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},lf.apply(this,arguments)},N0=function(a){R0(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.initialize=function(t,e){e===void 0&&(e={});var r=e.module,o=e.em;this.em=o,this.module=r,this.listenTo(this,"reset",this.onReset)},n.prototype.model=function(t,e){e===void 0&&(e={});var r=e.collection.em;return new ph(t,lf(lf({},e),{em:r}))},n.prototype.onReset=function(t,e){e===void 0&&(e={});var r=e.previousModels||[];r.forEach(function(o){return o.get("properties").reset()})},n}(m.FE);const F0=N0;var Sa=function(){return Sa=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Sa.apply(this,arguments)},H0=function(a,n){var t={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&n.indexOf(e)<0&&(t[e]=a[e]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(a);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(a,e[r])&&(t[e[r]]=a[e[r]]);return t},ms=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return a.concat(o||Array.prototype.slice.call(n))},hn=function(a){return a.map(function(n){return{id:n}})},B0=function(){function a(){this.props={},this.typeNumber="number",this.typeColor="color",this.typeRadio="radio",this.typeSelect="select",this.typeFile="file",this.typeSlider="slider",this.typeComposite="composite",this.typeStack="stack",this.unitsSize=["px","%","em","rem","vh","vw"],this.unitsSizeNoPerc=["px","em","rem","vh","vw"],this.unitsTime=["s","ms"],this.unitsAngle=["deg","rad","grad"],this.fixedValues=["initial","inherit","auto"];var n=", sans-serif",t=["flex-start","flex-end","center"],e=ms(ms([],t,!0),["baseline","stretch"],!1);this.optsBgSize=hn(["auto","cover","contain"]),this.optsBgAttach=hn(["scroll","fixed","local"]),this.optsBgRepeat=hn(["repeat","repeat-x","repeat-y","no-repeat"]),this.optsWrap=hn(["nowrap","wrap","wrap-reverse"]),this.optsOverflow=hn(["visible","hidden","scroll","auto"]),this.optsDir=hn(["row","row-reverse","column","column-reverse"]),this.opstDisplay=hn(["block","inline","inline-block","flex","none"]),this.optsTransitFn=hn(["linear","ease","ease-in","ease-out","ease-in-out"]),this.optsCursor=hn(["auto","pointer","copy","crosshair","grab","grabbing","help","move","text"]),this.optsFloat=hn(["none","left","right"]),this.optsPos=hn(["static","relative","absolute","fixed"]),this.optsTextAlign=hn(["left","center","right","justify"]),this.optsFlexAlign=hn(e),this.optsJustCont=hn(ms(ms([],t,!0),["space-between","space-around","space-evenly"],!1)),this.optsAlignCont=hn(ms(ms([],t,!0),["space-between","space-around","stretch"],!1)),this.optsAlignSelf=hn(ms(["auto"],e,!0)),this.optsTransitProp=hn(["all","width","height","background-color","transform","box-shadow","opacity"]),this.optsBorderStyle=hn(["none","solid","dotted","dashed","double","groove","ridge","inset","outset"]),this.optsBgPos=hn(["left top","left center","left bottom","right top","right center","right bottom","center top","center center","center bottom"]),this.optsWeight=[{id:"100",label:"Thin"},{id:"200",label:"Extra-Light"},{id:"300",label:"Light"},{id:"400",label:"Normal"},{id:"500",label:"Medium"},{id:"600",label:"Semi-Bold"},{id:"700",label:"Bold"},{id:"800",label:"Extra-Bold"},{id:"900",label:"Ultra-Bold"}],this.optsShadowType=[{id:"",label:"Outside"},{id:"inset",label:"Inside"}],this.optsFonts=["Arial, Helvetica"+n,"Arial Black, Gadget"+n,"Brush Script MT"+n,"Comic Sans MS, cursive"+n,"Courier New, Courier, monospace","Georgia, serif","Helvetica"+n,"Impact, Charcoal"+n,"Lucida Sans Unicode, Lucida Grande"+n,"Tahoma, Geneva"+n,"Times New Roman, Times, serif","Trebuchet MS, Helvetica"+n,"Verdana, Geneva"+n].map(function(r){return{id:r,label:r.split(",")[0]}}),this.fixedFontSizes=["medium","xx-small","x-small","small","large","x-large","xx-large","smaller","larger","length","initial","inherit"],this.fixedLetSpace=["normal","initial","inherit"],this.requireFlex={display:["flex"]},this.init()}return a.prototype.__sub=function(n){var t=this;return function(){return n.map(function(e){if((0,V.isString)(e))return t.get(e);var r=e.extend,o=H0(e,["extend"]);return Sa(Sa({},t.get(r)),o)})}},a.prototype.init=function(){var n=this,t=this,e=t.fixedValues,r=t.requireFlex,o=t.typeNumber;this.props={};var l=[["text-shadow-h",{type:o,default:"0",units:this.unitsSizeNoPerc}],["top",{default:"auto",units:this.unitsSize,fixedValues:e},"text-shadow-h"],["right",{},"top"],["bottom",{},"top"],["left",{},"top"],["margin-top",{default:"0"},"top"],["margin-right",{},"margin-top"],["margin-bottom",{},"margin-top"],["margin-left",{},"margin-top"],["padding-top",{min:0},"margin-top"],["padding-right",{},"padding-top"],["padding-bottom",{},"padding-top"],["padding-left",{},"padding-top"],["width",{min:0},"top"],["min-width",{},"width"],["max-width",{},"width"],["height",{},"width"],["min-height",{},"width"],["max-height",{},"width"],["flex-basis",{requiresParent:r},"width"],["font-size",{default:"medium",fixedValues:this.fixedFontSizes},"width"],["letter-spacing",{default:"normal",fixedValues:this.fixedLetSpace},"top"],["line-height",{},"letter-spacing"],["text-shadow-v",{},"text-shadow-h"],["text-shadow-blur",{min:0},"text-shadow-h"],["border-radius-c",{property:"border-radius",fixedValues:void 0},"padding-top"],["border-top-left-radius",{},"border-radius-c"],["border-top-right-radius",{},"border-radius-c"],["border-bottom-left-radius",{},"border-radius-c"],["border-bottom-right-radius",{},"border-radius-c"],["border-width",{units:this.unitsSizeNoPerc},"border-radius-c"],["box-shadow-h",{},"text-shadow-h"],["box-shadow-v",{},"text-shadow-h"],["box-shadow-blur",{default:"5px"},"text-shadow-blur"],["box-shadow-spread",{},"text-shadow-h"],["transition-duration",{default:"2s",units:this.unitsTime},"border-radius-c"],["perspective",{},"border-radius-c"],["order",{type:o,default:"0",requiresParent:r}],["flex-grow",{},"order"],["flex-shrink",{default:"1"},"order"],["float",{type:this.typeRadio,default:"none",options:this.optsFloat}],["position",{default:"static",options:this.optsPos},"float"],["text-align",{default:"left",options:this.optsTextAlign},"float"],["color",{type:this.typeColor,default:"black",full:!0}],["text-shadow-color",{},"color"],["border-color",{},"color"],["box-shadow-color",{},"color"],["background-color",{default:"none"},"color"],["background-image",{type:this.typeFile,functionName:"url",default:"none",full:!0}],["opacity",{type:this.typeSlider,default:"1",min:0,max:1,step:.01,full:!0}],["display",{type:this.typeSelect,default:"block",options:this.opstDisplay}],["flex-direction",{default:"row",options:this.optsDir,requires:r},"display"],["flex-wrap",{default:"nowrap",options:this.optsWrap},"flex-direction"],["justify-content",{default:"flex-start",options:this.optsJustCont},"flex-wrap"],["align-items",{default:"stretch",options:this.optsFlexAlign},"flex-wrap"],["align-content",{options:this.optsAlignCont},"align-items"],["align-self",{default:"auto",options:this.optsAlignSelf,requiresParent:r},"display"],["font-family",{default:"Arial, Helvetica, sans-serif",options:this.optsFonts},"display"],["font-weight",{default:"400",options:this.optsWeight},"display"],["border-style",{default:"solid",options:this.optsBorderStyle},"display"],["box-shadow-type",{default:"",options:this.optsShadowType},"display"],["background-repeat",{default:"repeat",options:this.optsBgRepeat},"display"],["background-position",{default:"left top",options:this.optsBgPos},"display"],["background-attachment",{default:"scroll",options:this.optsBgAttach},"display"],["background-size",{default:"auto",options:this.optsBgSize},"display"],["transition-property",{default:"width",options:this.optsTransitProp},"display"],["transition-timing-function",{default:"ease",options:this.optsTransitFn},"display"],["cursor",{default:"auto",options:this.optsCursor},"display"],["overflow",{default:"visible",options:this.optsOverflow},"display"],["overflow-x",{},"overflow"],["overflow-y",{},"overflow"],["margin",{type:this.typeComposite,properties:this.__sub([{extend:"margin-top",id:"margin-top-sub"},{extend:"margin-right",id:"margin-right-sub"},{extend:"margin-bottom",id:"margin-bottom-sub"},{extend:"margin-left",id:"margin-left-sub"}])}],["padding",{properties:this.__sub([{extend:"padding-top",id:"padding-top-sub"},{extend:"padding-right",id:"padding-right-sub"},{extend:"padding-bottom",id:"padding-bottom-sub"},{extend:"padding-left",id:"padding-left-sub"}])},"margin"],["border",{properties:this.__sub([{extend:"border-width",id:"border-width-sub"},{extend:"border-style",id:"border-style-sub"},{extend:"border-color",id:"border-color-sub"}])},"margin"],["border-radius",{properties:this.__sub([{extend:"border-top-left-radius",id:"border-top-left-radius-sub"},{extend:"border-top-right-radius",id:"border-top-right-radius-sub"},{extend:"border-bottom-right-radius",id:"border-bottom-right-radius-sub"},{extend:"border-bottom-left-radius",id:"border-bottom-left-radius-sub"}])},"margin"],["transition",{type:this.typeStack,properties:this.__sub([{extend:"transition-property",id:"transition-property-sub"},{extend:"transition-duration",id:"transition-duration-sub"},{extend:"transition-timing-function",id:"transition-timing-function-sub"}])}],["box-shadow",{preview:!0,layerLabel:function(f,p){var h=p.values,v=h["box-shadow-h"],_=h["box-shadow-v"],A=h["box-shadow-blur"],B=h["box-shadow-spread"];return"".concat(v," ").concat(_," ").concat(A," ").concat(B)},properties:this.__sub(["box-shadow-h","box-shadow-v","box-shadow-blur","box-shadow-spread","box-shadow-color","box-shadow-type"])},"transition"],["text-shadow",{default:"none",layerLabel:function(f,p){var h=p.values,v=h["text-shadow-h"],_=h["text-shadow-v"],A=h["text-shadow-blur"];return"".concat(v," ").concat(_," ").concat(A)},properties:this.__sub(["text-shadow-h","text-shadow-v","text-shadow-blur","text-shadow-color"])},"box-shadow"],["background",{detached:!0,layerLabel:function(f,p){var h=p.values,v=h["background-repeat-sub"]||"",_=h["background-position-sub"]||"",A=h["background-attachment-sub"]||"",B=h["background-size-sub"]||"";return[v,_,A,B].join(" ")},properties:this.__sub([{extend:"background-image",id:"background-image-sub"},{extend:"background-repeat",id:"background-repeat-sub"},{extend:"background-position",id:"background-position-sub"},{extend:"background-attachment",id:"background-attachment-sub"},{extend:"background-size",id:"background-size-sub"}])},"box-shadow"],["transform",{type:"stack",layerSeparator:" ",fromStyle:function(f,p){var h=p.property,v=p.name,_=f[v]||"",A=h.getLayerSeparator();return _?_.split(A).map(function(B){var nt=h.__parseFn(B),ft=nt.name,pt=nt.value;return{"transform-type":ft,"transform-value":pt}}):[]},toStyle:function(f,p){var h,v=p.name;return h={},h[v]="".concat(f["transform-type"],"(").concat(f["transform-value"],")"),h},properties:[{property:"transform-type",name:"Type",type:this.typeSelect,default:"rotateZ",full:!0,options:[{id:"scaleX",propValue:{units:[""],step:.01}},{id:"scaleY",propValue:{units:[""],step:.01}},{id:"scaleZ",propValue:{units:[""],step:.01}},{id:"rotateX",propValue:{units:this.unitsAngle,step:1}},{id:"rotateY",propValue:{units:this.unitsAngle,step:1}},{id:"rotateZ",propValue:{units:this.unitsAngle,step:1}},{id:"translateX",propValue:{units:this.unitsSize,step:1}},{id:"translateY",propValue:{units:this.unitsSize,step:1}}],onChange:function(f){var p=f.property,h=f.to;if(h.value){var v=p.getOption(),_=Sa({},v.propValue||{}),A=p.getParent().getProperty("transform-value"),B=A.getUnit();(!B||(_==null?void 0:_.units.indexOf(B))<0)&&(_.unit=(_==null?void 0:_.units[0])||""),A.up(_)}}},{property:"transform-value",type:this.typeNumber,default:"0",full:!0}]}]];return l.forEach(function(f){var p=f[0],h=f[1],v=f[2];n.add(p,h||{},{from:v})}),this},a.prototype.add=function(n,t,e){t===void 0&&(t={}),e===void 0&&(e={});var r=e.from||"",o=this.props[r||n]||{},l=Sa(Sa(Sa({},o),{property:n}),t);return l.properties&&(0,V.isFunction)(l.properties)&&(l.properties=l.properties()),this.props[n]=l,l},a.prototype.get=function(n){return this.props[n]},a.prototype.build=function(n){var t=this,e=[],r=(0,V.isString)(n)?[n]:n;return r.forEach(function(o){e.push(t.get(o)||{property:o})}),e},a}();const U0=B0;var z0=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),W0=function(a,n){return Object.defineProperty?Object.defineProperty(a,"raw",{value:n}):a.raw=n,a},G0=function(a){z0(n,a);function n(t){var e=a.call(this,t)||this,r=t.config||{},o=e.model,l=r.em;return e.config=r,e.em=l,e.pfx=r.stylePrefix||"",e.listenTo(o,"destroy remove",e.remove),e.listenTo(o,"change:open",e.updateOpen),e.listenTo(o,"change:visible",e.updateVisibility),e}return n.prototype.template=function(t){var e,r=t.pfx,o=t.label,l=(e=this.em)===null||e===void 0?void 0:e.getConfig().icons,f=(l==null?void 0:l.caret)||"",p="".concat(r,"sector-");return bt(dh||(dh=W0([`
      <div class="`,`title" data-sector-title>
        <div class="`,'caret">$',`</div>
        <div class="`,'label">',`</div>
      </div>
    `],[`
      <div class="`,`title" data-sector-title>
        <div class="`,'caret">$',`</div>
        <div class="`,'label">',`</div>
      </div>
    `])),p,p,f,p,o)},n.prototype.events=function(){return{"click [data-sector-title]":"toggle"}},n.prototype.updateOpen=function(){var t=this,e=t.$el,r=t.model,o=t.pfx,l=r.isOpen();e[l?"addClass":"removeClass"]("".concat(o,"open")),this.getPropertiesEl().style.display=l?"":"none"},n.prototype.updateVisibility=function(){this.el.style.display=this.model.isVisible()?"":"none"},n.prototype.getPropertiesEl=function(){var t=this,e=t.$el,r=t.pfx;return e.find(".".concat(r,"properties")).get(0)},n.prototype.toggle=function(){var t=this.model;t.setOpen(!t.get("open"))},n.prototype.renderProperties=function(){var t=this,e=t.model,r=t.config,o=e.get("properties");if(o){var l=new Fp({collection:o,config:r});this.$el.append(l.render().el)}},n.prototype.render=function(){var t=this,e=t.pfx,r=t.model,o=t.$el,l=r.getId(),f=r.getName();return o.html(this.template({pfx:e,label:f})),this.renderProperties(),o.attr("class","".concat(e,"sector ").concat(e,"sector__").concat(l," no-select")),this.updateOpen(),this},n}(m.G7);const K0=G0;var dh,$0=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),q0=function(a){$0(n,a);function n(t){t===void 0&&(t={});var e=a.call(this,t)||this,r=t.module,o=t.config,l=e.collection;return e.pfx=(o==null?void 0:o.stylePrefix)||"",e.ppfx=(o==null?void 0:o.pStylePrefix)||"",e.config=o,e.module=r,e.listenTo(l,"add",e.addTo),e.listenTo(l,"reset",e.render),e}return n.prototype.remove=function(){var t=this;return m.G7.prototype.remove.apply(this,arguments),["config","module","em"].forEach(function(e){return t[e]={}}),this},n.prototype.addTo=function(t,e,r){r===void 0&&(r={}),this.addToCollection(t,null,r)},n.prototype.addToCollection=function(t,e,r){r===void 0&&(r={});var o=this,l=o.config,f=o.el,p=e||f,h=new K0({model:t,config:l}).render().el;return(0,ee.$Q)(p,h,r.at),h},n.prototype.render=function(){var t=this,e=this,r=e.$el,o=e.pfx,l=e.ppfx;r.empty();var f=document.createDocumentFragment();return this.collection.each(function(p){return t.addToCollection(p,f)}),r.append(f),r.addClass("".concat(o,"sectors ").concat(l,"one-bg ").concat(l,"two-color")),this},n}(m.G7);const Z0=q0;var Y0=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Oa=function(){return Oa=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Oa.apply(this,arguments)},hh=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return a.concat(o||Array.prototype.slice.call(n))},vh="style",yc="".concat(vh,":"),Up="".concat(yc,"sector"),X0="".concat(Up,":add"),J0="".concat(Up,":remove"),Q0="".concat(Up,":update"),zp="".concat(yc,"property"),tb="".concat(zp,":add"),eb="".concat(zp,":remove"),rb="".concat(zp,":update"),gh="".concat(yc,"layer:select"),Wp="".concat(yc,"target"),nb="".concat(yc,"custom"),mh=function(a){return a||a===0},ob={all:vh,sectorAdd:X0,sectorRemove:J0,sectorUpdate:Q0,propertyAdd:tb,propertyRemove:eb,propertyUpdate:rb,layerSelect:gh,target:Wp,custom:nb},ib=function(a){Y0(n,a);function n(t){var e=a.call(this,t,"StyleManager",new F0([],{em:t}),ob,Ty)||this;e.Sector=ph,e.storageKey="",(0,V.bindAll)(e,"__clearStateTarget");var r=e.config,o=r.pStylePrefix;o&&(r.stylePrefix=o+r.stylePrefix),e.builtIn=new U0,e.properties=new Bp([],{em:t,module:e}),e.sectors=e.all;var l=new m.Hn({targets:[]});e.model=l;var f=Ae.g.update,p="component:toggled ".concat(f,":classes change:state change:device frame:resized selector:type");e.upAll=(0,V.debounce)(function(){return e.__upSel()},0),l.listenTo(t,p,e.upAll),l.listenTo(t,"component:toggled",e.__clearStateTarget);var h=(0,V.debounce)(function(){e.__upProps(),e.__trgCustom()},0);l.listenTo(t,"styleable:change undo redo",h);var v=(0,V.debounce)(function(){return e.__trgCustom()},0);return l.listenTo(t,"".concat(gh," ").concat(Wp),v),l.on("change:lastTarget",function(){return t.trigger(Wp,e.getSelected())}),e}return n.prototype.__upSel=function(){this.select(this.em.getSelectedAll())},n.prototype.__trgCustom=function(t){t===void 0&&(t={}),this.__ctn=this.__ctn||t.container,this.em.trigger(this.events.custom,{container:this.__ctn})},n.prototype.__trgEv=function(t){for(var e,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];(e=this.em).trigger.apply(e,hh([t],r,!1))},n.prototype.__clearStateTarget=function(){var t=this,e=this.em,r=this.__getStateTarget();r&&(e==null||e.skip(function(){e.Css.remove(r),t.model.set({stateTarget:null})}))},n.prototype.onLoad=function(){this.sectors.add(this.config.sectors,{silent:!0})},n.prototype.postRender=function(){this.__appendTo()},n.prototype.addSector=function(t,e,r){r===void 0&&(r={});var o=this.getSector(t);return o||(e.id=t,o=this.sectors.add(e,r)),o},n.prototype.getSector=function(t,e){e===void 0&&(e={});var r=this.sectors.where({id:t})[0];return!r&&e.warn&&this._logNoSector(t),r||null},n.prototype.getSectors=function(t){t===void 0&&(t={});var e=this.sectors,r=e&&e.models?t.array?hh([],e.models,!0):e:[];return t.visible?r.filter(function(o){return o.isVisible()}):r},n.prototype.removeSector=function(t){return this.getSectors().remove(this.getSector(t,{warn:!0}))},n.prototype.addProperty=function(t,e,r){r===void 0&&(r={});var o=this.getSector(t,{warn:!0}),l;return o&&(l=o.addProperty(e,r)),l},n.prototype.getProperty=function(t,e){var r=this.getSector(t,{warn:!0}),o;return r&&(o=r.properties.filter(function(l){return l.get("property")===e||l.get("id")===e})[0]),o},n.prototype.getProperties=function(t){var e,r=this.getSector(t,{warn:!0});return r&&(e=r.properties),e},n.prototype.removeProperty=function(t,e){var r=this.getProperties(t);return r?r.remove(this.getProperty(t,e)):null},n.prototype.select=function(t,e){var r=this;e===void 0&&(e={});var o=this.em,l=(0,V.isArray)(t)?t:[t],f=e.stylable,p=o.Css,h=[];l.filter(Boolean).forEach(function(ft){var pt=ft;if((0,V.isString)(ft)){var Pt=p.getRule(ft)||p.setRule(ft);!(0,V.isUndefined)(f)&&Pt.set({stylable:f}),pt=Pt}h.push(pt)});var v=e.component||h.filter(function(ft){return(0,vt.isComponent)(ft)}).reverse()[0];h=h.map(function(ft){return r.getModelToStyle(ft)});var _=o.getState(),A=h.slice().reverse()[0],B=this.getParentRules(A,{state:_,component:v}),nt=this.__getStateTarget();return o.skip(function(){var ft;if(_&&(!((ft=A==null?void 0:A.getState)===null||ft===void 0)&&ft.call(A))){var pt=A.getStyle();nt?nt.setStyle(pt):nt=p.getAll().add({selectors:"gjs-selected",style:pt,shallow:!0,important:!0})}else nt&&(p.remove(nt),nt=void 0)}),this.model.set({targets:h,lastTarget:A,lastTargetParents:B,stateTarget:nt,component:v}),this.__upProps(e),h},n.prototype.getSelected=function(){return this.model.get("lastTarget")},n.prototype.getSelectedAll=function(){return this.model.get("targets")},n.prototype.getSelectedParents=function(){return this.model.get("lastTargetParents")||[]},n.prototype.__getStateTarget=function(){return this.model.get("stateTarget")},n.prototype.addStyleTargets=function(t,e){this.getSelectedAll().map(function(l){return l.addStyle(t,e)});var r=this.getSelected();r&&this.__emitCmpStyleUpdate(t);var o=this.__getStateTarget();r&&(o==null||o.setStyle(r.getStyle(),e))},n.prototype.getBuiltIn=function(t){return this.builtIn.get(t)},n.prototype.getBuiltInAll=function(){return this.builtIn.props},n.prototype.addBuiltIn=function(t,e){return this.builtIn.add(t,e)},n.prototype.getModelToStyle=function(t,e){e===void 0&&(e={});var r=this.em,o=e.skipAdd;if(r&&(t!=null&&t.toHTML)){var l=r.getConfig(),f=r.UndoManager,p=r.Css,h=r.Selectors,v=h?h.getConfig():{},_=l.devicePreviewMode?"":r.get("state"),A=t.get("classes"),B=A.getStyleable(),nt=B.length,ft=!v.componentFirst||e.useClasses,pt={noCount:1},Pt={state:_,addOpts:pt};f.skip(function(){var Ft;if(nt&&ft){var Bt=r.getCurrentMedia();Ft=p.get(B,_,Bt),!Ft&&!o&&(Ft=p.add(B,_,Bt,{},pt))}else if(l.avoidInlineStyle){var te=t.getId();Ft=p.getIdRule(te,Pt),!Ft&&!o&&(Ft=p.setIdRule(te,{},Pt)),t.is("wrapper")&&Ft.set("wrapper",1,pt)}Ft&&(t=Ft)})}return t},n.prototype.getParentRules=function(t,e){var r=e===void 0?{}:e,o=r.state,l=r.component,f=this.em,p=[];if(f&&t){var h=l,v=f.Css,_=f.CodeManager.getGenerator("css"),A=t.toHTML?t:t.getComponent(),B={array:!0},nt=[],ft=[],pt=[],Pt=[],Ft=[],Bt=function(ae){return ae.length?v.getRules().filter(function(ke){var Be=ke.getSelectors().map(function(ur){return ur.getFullName()});return Be.length===0?!1:Be.every(function(ur){return ae.indexOf(ur)>=0})}):[]},te=function(ae){return ae?v.getRules().filter(function(ke){return ke.selectorsToString()===ae}):[]};if(A)nt=v.getRules("#".concat(A.getId())),ft=te(A.get("tagName")),Pt=h?Bt(h.getSelectors().getFullName(B)):[],Ft=Pt.concat(ft).concat(nt);else{nt=h?v.getRules("#".concat(h.getId())):[],ft=te((h==null?void 0:h.get("tagName"))||"");var de=(h==null?void 0:h.getSelectors().getFullName(B))||[],Oe=de.filter(function(ae){return t.getSelectors().getFullName(B).findIndex(function(ke){return ke===ae})===-1});pt=Bt(Oe.concat(t.getSelectors().getFullName(B))),Ft=ft.concat(nt).concat(pt)}var Me=Ft.filter(function(ae){return(0,V.isUndefined)(o)?1:ae.get("state")===o}).sort(_.sortRules).reverse();p=Me.slice(Me.indexOf(t)+1)}return p},n.prototype.addType=function(t,e){this.properties.addType(t,e)},n.prototype.getType=function(t){return this.properties.getType(t)},n.prototype.getTypes=function(){return this.properties.getTypes()},n.prototype.createType=function(t,e){var r=e===void 0?{}:e,o=r.model,l=o===void 0?{}:o,f=r.view,p=f===void 0?{}:f,h=this.config,v=this.getType(t);if(v)return new v.view(Oa({model:new v.model(l),config:h},p))},n.prototype.render=function(){var t=this,e=t.config,r=t.em,o=t.SectView,l=o&&o.el;return this.SectView=new Z0({el:l,em:r,config:e,module:this,collection:this.sectors}),this.SectView.render().el},n.prototype._logNoSector=function(t){var e=this.em;e&&e.logWarning("'".concat(t,"' sector not found"))},n.prototype.__emitCmpStyleUpdate=function(t,e){e===void 0&&(e={});var r=this.em;if(!t.__p){var o=this.getSelectedAll(),l=e.components||r.getSelectedAll(),f=Array.isArray(l)?l:[l],p=Oa({},t);delete p.__p,f.forEach(function(h){return!o.includes(h)&&h.__onStyleChange(p)})}},n.prototype.__upProps=function(t){var e=this;t===void 0&&(t={});var r=this.getSelected();if(r){var o=this.sectors,l=this.model.get("component"),f=this.getSelectedParents(),p=r.getStyle(),h=f.map(function(v){return{target:v,style:v.getStyle()}});o.map(function(v){v.getProperties().map(function(_){e.__upProp(_,p,h,t)})}),o.forEach(function(v){var _=v.getProperties();_.forEach(function(B){var nt=B.__checkVisibility({target:r,component:l,sectors:o});B.set("visible",nt)});var A=_.some(function(B){return B.isVisible()});v.set("visible",A)})}},n.prototype.__upProp=function(t,e,r,o){var l=this,f=t.getName(),p=e[f],h=mh(p),v=t.getType()==="stack",_=t.getType()==="composite",A=Oa(Oa({},o),{__up:!0}),B=!_&&!v,nt=t,ft=t,pt=v?nt.__getLayersFromStyle(e):[],Pt=_?ft.__getPropsFromStyle(e):{},Ft=h?p:null,Bt=null;if(v&&pt===null||_&&Pt===null){var te=v?"__getLayersFromStyle":"__getPropsFromStyle",de=r.filter(function(Be){return nt[te](Be.style)!==null})[0];if(de){Ft=de.style[f],Bt=de.target;var Oe=nt[te](de.style);v?pt=Oe:Pt=Oe}}else if(!h){Ft=null;var de=r.filter(function(ur){return mh(ur.style[f])})[0];de&&(Ft=de.style[f],Bt=de.target)}if(t.__setParentTarget(Bt),B&&t.__getFullValue()!==Ft&&t.upValue(Ft,A),v&&nt.__setLayers(pt||[],{isEmptyValue:nt.isEmptyValueStyle(e)}),_){var Me=ft.getProperties();if(ft.isDetached()){var ae=ft.__getPropsFromStyle(e,{byName:!0})||{},ke=r.map(function(Be){return Oa(Oa({},Be),{style:ft.__getPropsFromStyle(Be.style,{byName:!0})||{}})});Me.map(function(Be){return l.__upProp(Be,ae,ke,o)})}else ft.__setProperties(Pt||{},A),ft.getProperties().map(function(Be){return Be.__setParentTarget(Bt)})}},n.prototype.destroy=function(){var t;[this.properties,this.sectors].forEach(function(e){e.reset(),e.stopListening()}),(t=this.SectView)===null||t===void 0||t.remove(),this.model.stopListening(),this.upAll.cancel()},n}(D);const ab=ib;var sb=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),In=function(){return In=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},In.apply(this,arguments)},Gp=function(a,n,t,e){function r(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function f(v){try{h(e.next(v))}catch(_){l(_)}}function p(v){try{h(e.throw(v))}catch(_){l(_)}}function h(v){v.done?o(v.value):r(v.value).then(f,p)}h((e=e.apply(a,n||[])).next())})},Kp=function(a,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,r,o,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(h){return function(v){return p([h,v])}}function p(h){if(e)throw new TypeError("Generator is already executing.");for(;l&&(l=0,h[0]&&(t=0)),t;)try{if(e=1,r&&(o=h[0]&2?r.return:h[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,h[1])).done)return o;switch(r=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,r=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){t.label=h[1];break}if(h[0]===6&&t.label<o[1]){t.label=o[1],o=h;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(h);break}o[2]&&t.ops.pop(),t.trys.pop();continue}h=n.call(a,t)}catch(v){h=[6,v],r=0}finally{e=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},lb=function(a,n){var t={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&n.indexOf(e)<0&&(t[e]=a[e]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(a);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(a,e[r])&&(t[e[r]]=a[e[r]]);return t},cb=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return a.concat(o||Array.prototype.slice.call(n))};q().$=x.default;var ub=[Fg,Pg,rm,dy,Ke,ue,Du,ab,lp,dm,iy,Vm,Oy,xv,zv,Ba,jv,gu],fb=[pg,ns,_g,ou];M({$:x.default});var yh={debug:console.log,info:console.info,warning:console.warn,error:console.error},pb=function(a){sb(n,a);function n(t){t===void 0&&(t={});var e=a.call(this)||this;e.__skip=!1,e.defaultRunning=!1,e.destroyed=!1,e._config=t;var r=e.config;e.set("Config",t),e.set("modules",[]),e.set("toLoad",[]),e.set("storables",[]),e.set("selected",new O),e.set("dmode",r.dragMode);var o=r.el,l=r.log,f=l===!0?(0,V.keys)(yh):(0,V.isArray)(l)?l:[];return(0,V.bindAll)(e,"initBaseColorPicker"),o&&r.fromElement&&(r.components=o.innerHTML),e.attrsOrig=o?(0,V.toArray)(o.attributes).reduce(function(p,h){return p[h.nodeName]=h.nodeValue,p},{}):"",r.components&&!r.pageManager&&(r.pageManager={pages:[{component:r.components}]}),ub.forEach(function(p){return e.loadModule(p)}),fb.forEach(function(p){return e.loadStorableModule(p)}),e.on("change:componentHovered",e.componentHovered,e),e.on("change:changesCount",e.updateChanges,e),e.on("change:readyLoad change:readyCanvas",e._checkReady,e),f.forEach(function(p){return e.listenLog(p)}),[{from:"change:selectedComponent",to:"component:toggled"}].forEach(function(p){var h=p.from,v=p.to;e.listenTo(e,h,function(){for(var _=[],A=0;A<arguments.length;A++)_[A]=arguments[A];e.trigger.apply(e,cb([v],_,!1)),e.logWarning("The event '".concat(h,"' is deprecated, replace it with '").concat(v,"'"))})}),e}return n.prototype.defaults=function(){return{editing:0,selected:0,clipboard:null,dmode:0,componentHovered:null,previousModel:null,changesCount:0,storables:[],modules:[],toLoad:[],opened:{},device:""}},Object.defineProperty(n.prototype,"storables",{get:function(){return this.get("storables")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"modules",{get:function(){return this.get("modules")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"toLoad",{get:function(){return this.get("toLoad")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"selected",{get:function(){return this.get("selected")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"shallow",{get:function(){return this.get("shallow")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"I18n",{get:function(){return this.get("I18n")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Utils",{get:function(){return this.get("Utils")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Commands",{get:function(){return this.get("Commands")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Keymaps",{get:function(){return this.get("Keymaps")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Modal",{get:function(){return this.get("Modal")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Panels",{get:function(){return this.get("Panels")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"CodeManager",{get:function(){return this.get("CodeManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"UndoManager",{get:function(){return this.get("UndoManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"RichTextEditor",{get:function(){return this.get("RichTextEditor")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Canvas",{get:function(){return this.get("Canvas")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Editor",{get:function(){return this.get("Editor")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Components",{get:function(){return this.get("DomComponents")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Css",{get:function(){return this.get("CssComposer")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Blocks",{get:function(){return this.get("BlockManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Selectors",{get:function(){return this.get("SelectorManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Storage",{get:function(){return this.get("StorageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Traits",{get:function(){return this.get("TraitManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Parser",{get:function(){return this.get("Parser")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Layers",{get:function(){return this.get("LayerManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Assets",{get:function(){return this.get("AssetManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Devices",{get:function(){return this.get("DeviceManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Pages",{get:function(){return this.get("PageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Styles",{get:function(){return this.get("StyleManager")},enumerable:!1,configurable:!0}),n.prototype._checkReady=function(){this.get("readyLoad")&&this.get("readyCanvas")&&!this.get("ready")&&this.set("ready",!0)},n.prototype.getContainer=function(){return this.config.el},n.prototype.listenLog=function(t){this.listenTo(this,"log:".concat(t),yh[t])},Object.defineProperty(n.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),n.prototype.getConfig=function(t){var e=this.config;return(0,V.isUndefined)(t)?e:e[t]},n.prototype.loadOnStart=function(){var t=this,e=this.config,r=e.projectData,o=e.headless,l=this.Storage;this.toLoad.reverse().forEach(function(h){return h.onLoad()});var f=function(){t.modules.forEach(function(h){return h.postLoad&&h.postLoad(t)}),t.set("readyLoad",1)};o?(r&&this.loadData(r),f()):this._storageTimeout=setTimeout(function(){return Gp(t,void 0,void 0,function(){var h;return Kp(this,function(v){switch(v.label){case 0:return r?(this.loadData(r),[3,5]):[3,1];case 1:if(!(l!=null&&l.canAutoload()))return[3,5];v.label=2;case 2:return v.trys.push([2,4,,5]),[4,this.load()];case 3:return v.sent(),[3,5];case 4:return h=v.sent(),this.logError(h),[3,5];case 5:return f(),[2]}})})});var p=new n({noticeOnUnload:!1,storageManager:!1,undoManager:!1});p.Pages.onLoad(),p.Canvas.postLoad(),this.set("shallow",p)},n.prototype.updateChanges=function(t,e,r){var o=this,l=this.Storage,f=this.getDirtyCount();r.isClear||(this.updateItr&&clearTimeout(this.updateItr),this.updateItr=setTimeout(function(){return o.trigger("update")})),this.config.noticeOnUnload&&(window.onbeforeunload=f?function(){return!0}:null),l.isAutosave()&&f>=l.getStepsBeforeSave()&&this.store().catch(function(p){return o.logError(p)})},n.prototype.loadModule=function(t){var e=new t(this);return this.set(e.name,e),e.onLoad&&this.toLoad.push(e),this.modules.push(e),e},n.prototype.loadStorableModule=function(t){var e=this.loadModule(t);return this.storables.push(e),e},n.prototype.init=function(t,e){e===void 0&&(e={}),this.destroyed&&(this.initialize(e),this.destroyed=!1),this.set("Editor",t)},n.prototype.getEditor=function(){return this.get("Editor")},n.prototype.handleUpdates=function(t,e,r){var o=this;r===void 0&&(r={}),!(this.__skip||r.temporary||r.noCount||r.avoidStore||!this.get("ready"))&&(this.timedInterval&&clearTimeout(this.timedInterval),this.timedInterval=setTimeout(function(){var l=o.getDirtyCount()||0;r.unset;var f=lb(r,["unset"]);o.set("changesCount",l+1,f)},0))},n.prototype.changesUp=function(t){this.handleUpdates(0,0,t)},n.prototype.componentHovered=function(t,e,r){var o=this.previous("componentHovered");o&&this.trigger("component:unhovered",o,r),e&&this.trigger("component:hovered",e,r)},n.prototype.getSelected=function(){return this.selected.lastComponent()},n.prototype.getSelectedAll=function(){return this.selected.allComponents()},n.prototype.setSelected=function(t,e){var r=this;e===void 0&&(e={});var o=e.event,l=o&&(o.ctrlKey||o.metaKey),f=(o||{}).shiftKey,p=((0,V.isArray)(t)?t:[t]).map(function(A){var B,nt;return((nt=(B=A==null?void 0:A.delegate)===null||B===void 0?void 0:B.select)===null||nt===void 0?void 0:nt.call(B,A))||A}).filter(Boolean),h=this.getSelectedAll(),v=this.getConfig().multipleSelection,_=(0,V.isArray)(t);(_||!t)&&this.removeSelected(h.filter(function(A){return!(0,V.contains)(p,A)})),p.forEach(function(A){if(A&&(r.trigger("component:select:before",A,e),!A.get("selectable")||e.abort))if(e.useValid){for(var B=A.parent();B&&!B.get("selectable");)B=B.parent();A=B}else return;if(l&&v)return r.toggleSelected(A);if(f&&v){r.clearSelection(r.Canvas.getWindow());var nt=A.collection,ft=A.index(),pt,Pt;if(r.getSelectedAll().forEach(function(Ft){var Bt=Ft.collection,te=Ft.index();Bt===nt&&(te<ft?pt=(0,V.isUndefined)(pt)?te:Math.max(pt,te):te>ft&&(Pt=(0,V.isUndefined)(Pt)?te:Math.min(Pt,te)))}),!(0,V.isUndefined)(pt))for(;pt!==ft;)r.addSelected(nt.at(pt)),pt++;if(!(0,V.isUndefined)(Pt))for(;Pt!==ft;)r.addSelected(nt.at(Pt)),Pt--;return r.addSelected(A)}!_&&r.removeSelected(h.filter(function(Ft){return Ft!==A})),r.addSelected(A,e)})},n.prototype.addSelected=function(t,e){var r=this;e===void 0&&(e={});var o=(0,V.isArray)(t)?t:[t];o.forEach(function(l){var f=r.selected;if(!(!l||!l.get("selectable")||l.parents().some(function(h){return f.hasComponent(h)}))){e.forceChange&&r.removeSelected(l,e);var p=f.allComponents().filter(function(h){return(0,V.contains)(h.parents(),l)});p.forEach(function(h){return r.removeSelected(h,e)}),f.addComponent(l,e),r.trigger("component:select",l,e),r.Canvas.addSpot({type:qe.q.Select,component:l})}})},n.prototype.removeSelected=function(t,e){var r=this;e===void 0&&(e={}),this.selected.removeComponent(t,e);var o=(0,V.isArray)(t)?t:[t];o.forEach(function(l){return r.Canvas.removeSpots({type:qe.q.Select,component:l})})},n.prototype.toggleSelected=function(t,e){var r=this;e===void 0&&(e={});var o=(0,V.isArray)(t)?t:[t];o.forEach(function(l){r.selected.hasComponent(l)?r.removeSelected(l,e):r.addSelected(l,e)})},n.prototype.setHovered=function(t,e){var r=this;e===void 0&&(e={});var o=function(p,h){var v=r,_=v.config,A=v.Canvas,B=r.getHovered(),nt=r.getSelectedAll(),ft=qe.q.Hover,pt=qe.q.Spacing;r.set("componentHovered",p||null,h),B&&(A.removeSpots({type:ft,component:B}),A.removeSpots({type:pt,component:B})),p&&(A.addSpot({type:ft,component:p}),(!nt.includes(p)||_.showOffsetsSelected)&&A.addSpot({type:pt,component:p}))};if(!t)return o();var l="component:hover";if(e.forceChange&&o(),this.trigger("".concat(l,":before"),t,e),!t.get("hoverable"))if(e.useValid&&!e.abort){for(var f=t.parent();f&&!f.get("hoverable");)f=f.parent();t=f}else return;e.abort||(o(t,e),this.trigger(l,t,e))},n.prototype.getHovered=function(){return this.get("componentHovered")},n.prototype.setComponents=function(t,e){return e===void 0&&(e={}),this.Components.setComponents(t,e)},n.prototype.getComponents=function(){var t=this.Components,e=this.CodeManager;if(!(!t||!e)){var r=t.getComponents();return e.getCode(r,"json")}},n.prototype.setStyle=function(t,e){e===void 0&&(e={});var r=this.Css;return r.clear(e),r.getAll().add(t,e),this},n.prototype.addStyle=function(t,e){e===void 0&&(e={});var r=this.getStyle().add(t,e);return(0,V.isArray)(r)?r:[r]},n.prototype.getStyle=function(){return this.Css.getAll()},n.prototype.setState=function(t){return this.set("state",t),this},n.prototype.getState=function(){return this.get("state")||""},n.prototype.getHtml=function(t){t===void 0&&(t={});var e=this.config,r=e.optsHtml,o=e.jsInHtml?this.getJs(t):"",l=t.component||this.Components.getComponent(),f=l?this.CodeManager.getCode(l,"html",In(In({},r),t)):"";return f+=o?"<script>".concat(o,"<\/script>"):"",f},n.prototype.getCss=function(t){t===void 0&&(t={});var e=this.config,r=e.optsCss,o=t.avoidProtected,l=(0,V.isUndefined)(t.keepUnusedStyles)?e.keepUnusedStyles:t.keepUnusedStyles,f=this.Css,p=t.component||this.Components.getComponent(),h=o?"":e.protectedCss,v=p&&this.CodeManager.getCode(p,"css",In(In({cssc:f,keepUnusedStyles:l},r),t));return p?t.json?v:h+v:""},n.prototype.getJs=function(t){t===void 0&&(t={});var e=t.component||this.Components.getWrapper();return e?this.CodeManager.getCode(e,"js").trim():""},n.prototype.store=function(t){return Gp(this,void 0,void 0,function(){var e;return Kp(this,function(r){switch(r.label){case 0:return e=this.storeData(),[4,this.Storage.store(e,t)];case 1:return r.sent(),this.clearDirtyCount(),[2,e]}})})},n.prototype.load=function(t,e){return e===void 0&&(e={}),Gp(this,void 0,void 0,function(){var r;return Kp(this,function(o){switch(o.label){case 0:return[4,this.Storage.load(t)];case 1:return r=o.sent(),this.loadData(r),[4,(0,vt.wait)()];case 2:return o.sent(),e.clear&&(this.UndoManager.clear(),this.clearDirtyCount()),[2,r]}})})},n.prototype.storeData=function(){var t={},e=this.getEditing();return e&&e.trigger("sync:content",{noCount:!0}),this.storables.forEach(function(r){t=In(In({},t),r.store(1))}),JSON.parse(JSON.stringify(t))},n.prototype.loadData=function(t){return t===void 0&&(t={}),(0,vt.isEmptyObj)(t)||(this.storables.forEach(function(e){return e.clear()}),this.storables.forEach(function(e){return e.load(t)})),t},n.prototype.getDeviceModel=function(){var t=this.get("device");return this.Devices.get(t)},n.prototype.runDefault=function(t){t===void 0&&(t={});var e=this.get("Commands").get(this.config.defaultCommand);!e||this.defaultRunning||(e.stop(this,this,t),e.run(this,this,t),this.defaultRunning=!0)},n.prototype.stopDefault=function(t){t===void 0&&(t={});var e=this.get("Commands"),r=e.get(this.config.defaultCommand);!r||!this.defaultRunning||(r.stop(this,this,t),this.defaultRunning=!1)},n.prototype.refreshCanvas=function(t){t===void 0&&(t={}),this.Canvas.refresh({spots:t.tools})},n.prototype.clearSelection=function(t){var e,r=t||window;(e=r.getSelection())===null||e===void 0||e.removeAllRanges()},n.prototype.getCurrentMedia=function(){var t=this.config,e=this.getDeviceModel(),r=t.mediaCondition,o=t.devicePreviewMode,l=e&&e.get("widthMedia");return e&&l&&!o?"(".concat(r,": ").concat(l,")"):""},n.prototype.getWrapper=function(){return this.Components.getWrapper()},n.prototype.setCurrentFrame=function(t){return this.set("currentFrame",t)},n.prototype.getCurrentFrame=function(){return this.get("currentFrame")},n.prototype.getCurrentFrameModel=function(){var t;return(t=this.getCurrentFrame()||{})===null||t===void 0?void 0:t.model},n.prototype.getIcon=function(t){var e=this.config.icons||{};return e[t]||""},n.prototype.getDirtyCount=function(){return this.get("changesCount")},n.prototype.clearDirtyCount=function(){return this.set({changesCount:0},{isClear:!0})},n.prototype.getZoomDecimal=function(){return this.Canvas.getZoomDecimal()},n.prototype.getZoomMultiplier=function(){return this.Canvas.getZoomMultiplier()},n.prototype.setDragMode=function(t){return this.set("dmode",t)},n.prototype.getDragMode=function(t){var e=(t==null?void 0:t.getDragMode())||this.get("dmode");return e||""},n.prototype.t=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=this.get("I18n");return r==null?void 0:r.t.apply(r,t)},n.prototype.inAbsoluteMode=function(t){return this.getDragMode(t)==="absolute"},n.prototype.destroyAll=function(){var t=this,e=this,r=e.config,o=e.view,l=this.getEditor(),f=(r.grapesjs||{}).editors,p=f===void 0?[]:f,h=this.get("shallow");this._storageTimeout&&clearTimeout(this._storageTimeout),h==null||h.destroyAll(),this.stopListening(),this.stopDefault(),this.modules.slice().reverse().forEach(function(v){return v.destroy()}),o&&o.remove(),this.clear({silent:!0}),this.destroyed=!0,["_config","view","_previousAttributes","_events","_listeners"].forEach(function(v){return t[v]={}}),p.splice(p.indexOf(l),1),(0,vt.hasWin)()&&(0,x.default)(r.el).empty().attr(this.attrsOrig)},n.prototype.getEditing=function(){var t=this.get("editing");return t&&t.model||void 0},n.prototype.setEditing=function(t){return this.set("editing",t),this},n.prototype.isEditing=function(){return!!this.get("editing")},n.prototype.log=function(t,e){e===void 0&&(e={});var r=e.ns,o=e.level,l=o===void 0?"debug":o;if(this.trigger("log",t,e),l&&this.trigger("log:".concat(l),t,e),r){var f="log-".concat(r);this.trigger(f,t,e),l&&this.trigger("".concat(f,":").concat(l),t,e)}},n.prototype.logInfo=function(t,e){this.log(t,In(In({},e),{level:"info"}))},n.prototype.logWarning=function(t,e){this.log(t,In(In({},e),{level:"warning"}))},n.prototype.logError=function(t,e){this.log(t,In(In({},e),{level:"error"}))},n.prototype.initBaseColorPicker=function(t,e){e===void 0&&(e={});var r=this.config,o=r.colorPicker,l=o===void 0?{}:o,f=r.el,p=r.stylePrefix;return(0,x.default)(t).spectrum(In(In({containerClassName:"".concat(p,"one-bg ").concat(p,"two-color"),appendTo:f||"body",maxSelectionSize:8,showPalette:!0,palette:[],showAlpha:!0,chooseText:"Ok",cancelText:"⨯"},e),l))},n.prototype.skip=function(t){this.__skip=!0;var e=this.UndoManager;e?e.skip(t):t(),this.__skip=!1},n.prototype.data=function(t,e,r){var o="_gjs-data";if(t[o]||(t[o]={}),(0,V.isUndefined)(r))return t[o][e];t[o][e]=r},n}(m.Hn);const db=pb;var hb=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),vb=function(a){hb(n,a);function n(t){var e=a.call(this,{model:t})||this,r=t.Panels,o=t.UndoManager;return t.view=e,t.once("change:ready",function(){r.active(),r.disableButtons(),o.clear(),setTimeout(function(){t.trigger("load",t.Editor),t.clearDirtyCount()})}),e}return n.prototype.render=function(){var t=this,e=this,r=e.$el,o=e.model,l=o.Panels,f=o.Canvas,p=o.config,h=o.modules,v=p.stylePrefix,_=["".concat(v,"editor")];!p.customUI&&_.push("".concat(v,"one-bg ").concat(v,"two-color"));var A=(0,x.default)(p.el||"body ".concat(p.container));p.cssIcons&&(0,vt.appendStyles)(p.cssIcons,{unique:!0,prepand:!0}),r.empty(),p.width&&A.css("width",p.width),p.height&&A.css("height",p.height),r.append(f.render()),r.append(l.render());var B=o.shallow,nt=B.Canvas.render();return nt.style.display="none",r.append(nt),r.attr("class",_.join(" ")),A.addClass("".concat(v,"editor-cont")).empty().append(r),h.forEach(function(ft){var pt;return(pt=ft.postRender)===null||pt===void 0?void 0:pt.call(ft,t)}),this},n}(m.G7);const gb=vb;var bc=function(){return bc=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},bc.apply(this,arguments)},bh=function(a,n,t,e){function r(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function f(v){try{h(e.next(v))}catch(_){l(_)}}function p(v){try{h(e.throw(v))}catch(_){l(_)}}function h(v){v.done?o(v.value):r(v.value).then(f,p)}h((e=e.apply(a,n||[])).next())})},wh=function(a,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,r,o,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(h){return function(v){return p([h,v])}}function p(h){if(e)throw new TypeError("Generator is already executing.");for(;l&&(l=0,h[0]&&(t=0)),t;)try{if(e=1,r&&(o=h[0]&2?r.return:h[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,h[1])).done)return o;switch(r=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,r=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){t.label=h[1];break}if(h[0]===6&&t.label<o[1]){t.label=o[1],o=h;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(h);break}o[2]&&t.ops.pop(),t.trys.pop();continue}h=n.call(a,t)}catch(v){h=[6,v],r=0}finally{e=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},mb=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,o;e<r;e++)(o||!(e in n))&&(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return a.concat(o||Array.prototype.slice.call(n))},yb=function(){function a(n,t){n===void 0&&(n={}),t===void 0&&(t={});var e;this.html=bt,this.config=bc(bc(bc({},ht),n),{pStylePrefix:(e=n.stylePrefix)!==null&&e!==void 0?e:ht.stylePrefix}),this.em=new db(this.config),this.$=t.$,this.em.init(this),this.editor=this.em}return Object.defineProperty(a.prototype,"Config",{get:function(){return this.em.config},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"I18n",{get:function(){return this.em.I18n},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Utils",{get:function(){return this.em.Utils},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Commands",{get:function(){return this.em.Commands},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Keymaps",{get:function(){return this.em.Keymaps},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Modal",{get:function(){return this.em.Modal},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Panels",{get:function(){return this.em.Panels},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Canvas",{get:function(){return this.em.Canvas},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Parser",{get:function(){return this.em.Parser},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"CodeManager",{get:function(){return this.em.CodeManager},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"UndoManager",{get:function(){return this.em.UndoManager},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"RichTextEditor",{get:function(){return this.em.RichTextEditor},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Pages",{get:function(){return this.em.Pages},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Components",{get:function(){return this.em.Components},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"DomComponents",{get:function(){return this.em.Components},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Layers",{get:function(){return this.em.Layers},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"LayerManager",{get:function(){return this.em.Layers},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Css",{get:function(){return this.em.Css},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"CssComposer",{get:function(){return this.em.Css},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Storage",{get:function(){return this.em.Storage},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"StorageManager",{get:function(){return this.em.Storage},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Assets",{get:function(){return this.em.Assets},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"AssetManager",{get:function(){return this.em.Assets},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Blocks",{get:function(){return this.em.Blocks},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"BlockManager",{get:function(){return this.em.Blocks},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Traits",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"TraitManager",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Selectors",{get:function(){return this.em.Selectors},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"SelectorManager",{get:function(){return this.em.Selectors},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Styles",{get:function(){return this.em.Styles},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"StyleManager",{get:function(){return this.em.Styles},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Devices",{get:function(){return this.em.Devices},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"DeviceManager",{get:function(){return this.em.Devices},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"EditorModel",{get:function(){return this.em},enumerable:!1,configurable:!0}),a.prototype.getConfig=function(n){return this.em.getConfig(n)},a.prototype.getHtml=function(n){return this.em.getHtml(n)},a.prototype.getCss=function(n){return this.em.getCss(n)},a.prototype.getJs=function(n){return this.em.getJs(n)},a.prototype.getComponents=function(){return this.Components.getComponents()},a.prototype.getWrapper=function(){return this.Components.getWrapper()},a.prototype.setComponents=function(n,t){return t===void 0&&(t={}),this.em.setComponents(n,t),this},a.prototype.addComponents=function(n,t){return this.getWrapper().append(n,t)},a.prototype.getStyle=function(){return this.em.Css.getAll()},a.prototype.setStyle=function(n,t){return t===void 0&&(t={}),this.em.setStyle(n,t),this},a.prototype.addStyle=function(n,t){return t===void 0&&(t={}),this.em.addStyle(n,t)},a.prototype.getSelected=function(){return this.em.getSelected()},a.prototype.getSelectedAll=function(){return this.em.getSelectedAll()},a.prototype.getSelectedToStyle=function(){var n=this.em.getSelected();if(n)return this.StyleManager.getModelToStyle(n)},a.prototype.select=function(n,t){return this.em.setSelected(n,t),this},a.prototype.selectAdd=function(n){return this.em.addSelected(n),this},a.prototype.selectRemove=function(n){return this.em.removeSelected(n),this},a.prototype.selectToggle=function(n){return this.em.toggleSelected(n),this},a.prototype.getEditing=function(){return this.em.getEditing()},a.prototype.setDevice=function(n){return this.em.set("device",n),this},a.prototype.getDevice=function(){return this.em.get("device")},a.prototype.runCommand=function(n,t){return t===void 0&&(t={}),this.Commands.run(n,t)},a.prototype.stopCommand=function(n,t){return t===void 0&&(t={}),this.Commands.stop(n,t)},a.prototype.store=function(n){return bh(this,void 0,void 0,function(){return wh(this,function(t){switch(t.label){case 0:return[4,this.em.store(n)];case 1:return[2,t.sent()]}})})},a.prototype.load=function(n,t){return t===void 0&&(t={}),bh(this,void 0,void 0,function(){return wh(this,function(e){switch(e.label){case 0:return[4,this.em.load(n,t)];case 1:return[2,e.sent()]}})})},a.prototype.getProjectData=function(){return this.em.storeData()},a.prototype.loadProjectData=function(n){return this.em.loadData(n)},a.prototype.storeData=function(){return this.em.storeData()},a.prototype.loadData=function(n){return this.em.loadData(n)},a.prototype.getContainer=function(){return this.config.el},a.prototype.getDirtyCount=function(){return this.em.getDirtyCount()},a.prototype.clearDirtyCount=function(){return this.em.clearDirtyCount()},a.prototype.refresh=function(n){this.em.refreshCanvas(n)},a.prototype.setCustomRte=function(n){this.RichTextEditor.customRte=n},a.prototype.setCustomParserCss=function(n){return this.Parser.getConfig().parserCss=n,this},a.prototype.setDragMode=function(n){return this.em.setDragMode(n),this},a.prototype.log=function(n,t){return t===void 0&&(t={}),this.em.log(n,t),this},a.prototype.t=function(){for(var n,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(n=this.em).t.apply(n,t)},a.prototype.on=function(n,t){return this.em.on(n,t),this},a.prototype.once=function(n,t){return this.em.once(n,t),this},a.prototype.off=function(n,t){return this.em.off(n,t),this},a.prototype.trigger=function(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return this.em.trigger.apply(this.em,mb([n],t,!0)),this},a.prototype.destroy=function(){this.em&&(this.em.destroyAll(),this.editorView=void 0)},a.prototype.getEl=function(){var n;return(n=this.editorView)===null||n===void 0?void 0:n.el},a.prototype.getModel=function(){return this.em},a.prototype.render=function(){var n;return(n=this.editorView)===null||n===void 0||n.remove(),this.editorView=new gb(this.em),this.editorView.render().el},a.prototype.onReady=function(n){this.em.get("ready")?n(this):this.em.on("load",n)},a}();const bb=yb;var wb=function(a,n){var t=n.get(a);if(!t){var e=(0,vt.getGlobal)()[a];t=(e==null?void 0:e.default)||e}return t},_h=function(a,n){return(0,V.isString)(a)?wb(a,n):(a==null?void 0:a.default)||a},xh=function(a,n){a.getModel().logWarning("Plugin ".concat(n," not found"),{context:"plugins",plugin:n})},_b=function(){function a(){this.plugins={}}return a.prototype.add=function(n,t){var e=this.get(n);return e||(this.plugins[n]=t,t)},a.prototype.get=function(n){return this.plugins[n]},a.prototype.getAll=function(){return this.plugins},a}();const xb=_b,Cb=function(){var a=function(){for(var t,e=window.navigator.userAgent,r=[["edge",/Edge\/([0-9\._]+)/],["ie",/MSIE\s(7\.0)/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/]],o=0;o<r.length;o++){var l=r[o];if(t=l[1].exec(e),t)break}return!!t};if((0,vt.hasWin)()&&a()){var n=DOMImplementation.prototype.createHTMLDocument;DOMImplementation.prototype.createHTMLDocument=function(t){return t||(t=""),n.apply(document.implementation,[t])}}};var cf=function(){return cf=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},cf.apply(this,arguments)};Cb();var $p=new xb,Ch=[],Sh=function(a,n){var t=_h(a,$p);return function(e){t?t(e,n||{}):xh(e,a)}},Oh={$:x.default,editors:Ch,plugins:$p,usePlugin:Sh,version:"0.21.12",init:function(a){a===void 0&&(a={});var n=a.headless,t=a.container;if(!t&&!n)throw new Error("'container' is required");var e=cf(cf({autorender:!0,plugins:[],pluginsOpts:{}},a),{grapesjs:this,el:n?void 0:(0,V.isElement)(t)?t:document.querySelector(t)}),r=new bb(e,{$:x.default}),o=r.getModel();return e.plugins.forEach(function(l){var f=_h(l,$p),p=e.pluginsOpts[l]||{};f?f(r,p):xh(r,l)}),o.loadOnStart(),e.autorender&&!n&&r.render(),Ch.push(r),r}};const Sb=Oh})();var uw=Xh.ZP,Jh={exports:{}};/*! grapesjs-blocks-basic - 1.0.2 */(function(V,vt){(function(bt,ct){V.exports=ct()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:Wi,()=>(()=>{var bt={d:(x,M)=>{for(var m in M)bt.o(M,m)&&!bt.o(x,m)&&Object.defineProperty(x,m,{enumerable:!0,get:M[m]})},o:(x,M)=>Object.prototype.hasOwnProperty.call(x,M),r:x=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(x,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(x,"__esModule",{value:!0})}},ct={};bt.r(ct),bt.d(ct,{default:()=>q});var ht=function(){return ht=Object.assign||function(x){for(var M,m=1,E=arguments.length;m<E;m++)for(var w in M=arguments[m])Object.prototype.hasOwnProperty.call(M,w)&&(x[w]=M[w]);return x},ht.apply(this,arguments)},tt=function(){return tt=Object.assign||function(x){for(var M,m=1,E=arguments.length;m<E;m++)for(var w in M=arguments[m])Object.prototype.hasOwnProperty.call(M,w)&&(x[w]=M[w]);return x},tt.apply(this,arguments)};const q=function(x,M){M===void 0&&(M={}),function(m,E){var w=m.BlockManager,C=E.category,O=E.blocks,L=E.stylePrefix,et=E.flexGrid,J=E.rowHeight,U=E.addBasicStyle,R="".concat(L,"row"),D="".concat(L,"cell"),k=et?`
    .`.concat(R,` {
      display: flex;
      justify-content: flex-start;
      align-items: stretch;
      flex-wrap: nowrap;
      padding: 10px;
    }
    @media (max-width: 768px) {
      .`).concat(R,` {
        flex-wrap: wrap;
      }
    }`):`
    .`.concat(R,` {
      display: table;
      padding: 10px;
      width: 100%;
    }
    @media (max-width: 768px) {
      .`).concat(L,"cell, .").concat(L,"cell30, .").concat(L,`cell70 {
        width: 100%;
        display: block;
      }
    }`),Z=et?`
    .`.concat(D,` {
      min-height: `).concat(J,`px;
      flex-grow: 1;
      flex-basis: 100%;
    }`):`
    .`.concat(D,` {
      width: 8%;
      display: table-cell;
      height: `).concat(J,`px;
    }`),ot=`
  .`.concat(L,`cell30 {
    width: 30%;
  }`),Y=`
  .`.concat(L,`cell70 {
    width: 70%;
  }`),it=1,T={tl:0,tc:0,tr:0,cl:0,cr:0,bl:0,br:0,minDim:it},z=ht(ht({},T),{cr:1,bc:0,currentUnit:1,minDim:it,step:.2});et&&(z.keyWidth="flex-basis");var I={class:R,"data-gjs-droppable":".".concat(D),"data-gjs-resizable":T,"data-gjs-name":"Row"},N={class:D,"data-gjs-draggable":".".concat(R),"data-gjs-resizable":z,"data-gjs-name":"Cell"};et&&(N["data-gjs-unstylable"]=["width"],N["data-gjs-stylable-require"]=["flex-basis"]);var G=[".".concat(R),".".concat(D)];m.on("selector:add",function(wt){return G.indexOf(wt.getFullName())>=0&&wt.set("private",1)});var P=function(wt){var Kt=[];for(var Ct in wt){var Ut=wt[Ct];Ut=Ut instanceof Array||Ut instanceof Object?JSON.stringify(Ut):Ut,Kt.push("".concat(Ct,"=").concat("'".concat(Ut,"'")))}return Kt.length?" ".concat(Kt.join(" ")):""},$=function(wt){return O.indexOf(wt)>=0},y=P(I),rt=P(N),X={category:C,select:!0};$("column1")&&w.add("column1",ht(ht({},X),{label:E.labelColumn1,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M2 20h20V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h20a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1Z"/>
      </svg>`,content:"<div ".concat(y,`>
        <div `).concat(rt,`></div>
      </div>
      `).concat(U?`<style>
          `.concat(k,`
          `).concat(Z,`
        </style>`):"")})),$("column2")&&w.add("column2",ht(ht({},X),{label:E.labelColumn2,media:`<svg viewBox="0 0 23 24">
        <path fill="currentColor" d="M2 20h8V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1ZM13 20h8V4h-8v16Zm-1 0V4a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-8a1 1 0 0 1-1-1Z"/>
      </svg>`,content:"<div ".concat(y,`>
        <div `).concat(rt,`></div>
        <div `).concat(rt,`></div>
      </div>
      `).concat(U?`<style>
          `.concat(k,`
          `).concat(Z,`
        </style>`):"")})),$("column3")&&w.add("column3",ht(ht({},X),{label:E.labelColumn3,media:`<svg viewBox="0 0 23 24">
        <path fill="currentColor" d="M2 20h4V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1ZM17 20h4V4h-4v16Zm-1 0V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1ZM9.5 20h4V4h-4v16Zm-1 0V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1Z"/>
      </svg>`,content:"<div ".concat(y,`>
        <div `).concat(rt,`></div>
        <div `).concat(rt,`></div>
        <div `).concat(rt,`></div>
      </div>
      `).concat(U?`<style>
          `.concat(k,`
          `).concat(Z,`
        </style>`):"")})),$("column3-7")&&w.add("column3-7",ht(ht({},X),{label:E.labelColumn37,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M2 20h5V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1ZM10 20h12V4H10v16Zm-1 0V4a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1Z"/>
      </svg>`,content:"<div ".concat(y,`>
        <div `).concat(rt," style='").concat(et?"flex-basis":"width",`: 30%;'></div>
        <div `).concat(rt," style='").concat(et?"flex-basis":"width",`: 70%;'></div>
      </div>
      `).concat(U?`<style>
          `.concat(k,`
          `).concat(Z,`
          `).concat(ot,`
          `).concat(Y,`
        </style>`):"")})),$("text")&&w.add("text",ht(ht({},X),{activate:!0,label:E.labelText,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M18.5,4L19.66,8.35L18.7,8.61C18.25,7.74 17.79,6.87 17.26,6.43C16.73,6 16.11,6 15.5,6H13V16.5C13,17 13,17.5 13.33,17.75C13.67,18 14.33,18 15,18V19H9V18C9.67,18 10.33,18 10.67,17.75C11,17.5 11,17 11,16.5V6H8.5C7.89,6 7.27,6 6.74,6.43C6.21,6.87 5.75,7.74 5.3,8.61L4.34,8.35L5.5,4H18.5Z" />
      </svg>`,content:{type:"text",content:"Insert your text here",style:{padding:"10px"}}})),$("link")&&w.add("link",ht(ht({},X),{label:E.labelLink,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z" />
      </svg>`,content:{type:"link",content:"Link",style:{color:"#d983a6"}}})),$("image")&&w.add("image",ht(ht({},X),{activate:!0,label:E.labelImage,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M21,3H3C2,3 1,4 1,5V19A2,2 0 0,0 3,21H21C22,21 23,20 23,19V5C23,4 22,3 21,3M5,17L8.5,12.5L11,15.5L14.5,11L19,17H5Z" />
      </svg>`,content:{style:{color:"black"},type:"image"}})),$("video")&&w.add("video",ht(ht({},X),{label:E.labelVideo,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M10,15L15.19,12L10,9V15M21.56,7.17C21.69,7.64 21.78,8.27 21.84,9.07C21.91,9.87 21.94,10.56 21.94,11.16L22,12C22,14.19 21.84,15.8 21.56,16.83C21.31,17.73 20.73,18.31 19.83,18.56C19.36,18.69 18.5,18.78 17.18,18.84C15.88,18.91 14.69,18.94 13.59,18.94L12,19C7.81,19 5.2,18.84 4.17,18.56C3.27,18.31 2.69,17.73 2.44,16.83C2.31,16.36 2.22,15.73 2.16,14.93C2.09,14.13 2.06,13.44 2.06,12.84L2,12C2,9.81 2.16,8.2 2.44,7.17C2.69,6.27 3.27,5.69 4.17,5.44C4.64,5.31 5.5,5.22 6.82,5.16C8.12,5.09 9.31,5.06 10.41,5.06L12,5C16.19,5 18.8,5.16 19.83,5.44C20.73,5.69 21.31,6.27 21.56,7.17Z" />
      </svg>`,content:{type:"video",src:"img/video2.webm",style:{height:"350px",width:"615px"}}})),$("map")&&w.add("map",ht(ht({},X),{label:E.labelMap,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M20.5,3L20.34,3.03L15,5.1L9,3L3.36,4.9C3.15,4.97 3,5.15 3,5.38V20.5A0.5,0.5 0 0,0 3.5,21L3.66,20.97L9,18.9L15,21L20.64,19.1C20.85,19.03 21,18.85 21,18.62V3.5A0.5,0.5 0 0,0 20.5,3M10,5.47L14,6.87V18.53L10,17.13V5.47M5,6.46L8,5.45V17.15L5,18.31V6.46M19,17.54L16,18.55V6.86L19,5.7V17.54Z" />
      </svg>`,content:{type:"map",style:{height:"350px"}}}))}(x,tt({blocks:["column1","column2","column3","column3-7","text","link","image","video","map"],flexGrid:!1,stylePrefix:"gjs-",addBasicStyle:!0,category:"Basic",labelColumn1:"1 Column",labelColumn2:"2 Columns",labelColumn3:"3 Columns",labelColumn37:"2 Columns 3/7",labelText:"Text",labelLink:"Link",labelImage:"Image",labelVideo:"Video",labelMap:"Map",rowHeight:75},M))};return ct})())})(Jh);var fw=Jh.exports;const pw=gi(fw);var Qh={exports:{}};/*! grapesjs-plugin-forms - 2.0.6 */(function(V,vt){(function(bt,ct){V.exports=ct()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:Wi,()=>(()=>{var bt={d:(J,U)=>{for(var R in U)bt.o(U,R)&&!bt.o(J,R)&&Object.defineProperty(J,R,{enumerable:!0,get:U[R]})},o:(J,U)=>Object.prototype.hasOwnProperty.call(J,U),r:J=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(J,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(J,"__esModule",{value:!0})}},ct={};bt.r(ct),bt.d(ct,{default:()=>et});var ht="form",tt="input",q="textarea",x="select",M="checkbox",m="radio",E="button",w="label",C="option",O=function(){return O=Object.assign||function(J){for(var U,R=1,D=arguments.length;R<D;R++)for(var k in U=arguments[R])Object.prototype.hasOwnProperty.call(U,k)&&(J[k]=U[k]);return J},O.apply(this,arguments)},L=function(){return L=Object.assign||function(J){for(var U,R=1,D=arguments.length;R<D;R++)for(var k in U=arguments[R])Object.prototype.hasOwnProperty.call(U,k)&&(J[k]=U[k]);return J},L.apply(this,arguments)};const et=function(J,U){U===void 0&&(U={});var R=L({blocks:["form","input","textarea","select","button","label","checkbox","radio"],category:{id:"forms",label:"Forms"},block:function(){return{}}},U);(function(D){var k=D.Components,Z={name:"name"},ot={name:"placeholder"},Y={type:"checkbox",name:"required"},it=function(z,I){return{type:C,content:I,attributes:{value:z}}},T=function(z){D.Commands.isActive("preview")||z.preventDefault()};k.addType(ht,{isComponent:function(z){return z.tagName=="FORM"},model:{defaults:{tagName:"form",droppable:":not(form)",draggable:":not(form)",attributes:{method:"get"},traits:[{type:"select",name:"method",options:[{value:"get",name:"GET"},{value:"post",name:"POST"}]},{name:"action"}]}},view:{events:{submit:function(z){return z.preventDefault()}}}}),k.addType(tt,{isComponent:function(z){return z.tagName=="INPUT"},model:{defaults:{tagName:"input",droppable:!1,highlightable:!1,attributes:{type:"text"},traits:[Z,ot,{type:"select",name:"type",options:[{value:"text"},{value:"email"},{value:"password"},{value:"number"}]},Y]}},extendFnView:["updateAttributes"],view:{updateAttributes:function(){this.el.setAttribute("autocomplete","off")}}}),k.addType(q,{extend:tt,isComponent:function(z){return z.tagName=="TEXTAREA"},model:{defaults:{tagName:"textarea",attributes:{},traits:[Z,ot,Y]}}}),k.addType(C,{isComponent:function(z){return z.tagName=="OPTION"},model:{defaults:{tagName:"option",layerable:!1,droppable:!1,draggable:!1,highlightable:!1}}}),k.addType(x,{isComponent:function(z){return z.tagName=="SELECT"},model:{defaults:{tagName:"select",droppable:!1,highlightable:!1,components:[it("opt1","Option 1"),it("opt2","Option 2")],traits:[Z,{name:"options",type:"select-options"},Y]}},view:{events:{mousedown:T}}}),k.addType(M,{extend:tt,isComponent:function(z){return z.tagName=="INPUT"&&z.type=="checkbox"},model:{defaults:{copyable:!1,attributes:{type:"checkbox"},traits:[{name:"id"},Z,{name:"value"},Y,{type:"checkbox",name:"checked"}]}},view:{events:{click:T},init:function(){this.listenTo(this.model,"change:attributes:checked",this.handleChecked)},handleChecked:function(){var z;this.el.checked=!!(!((z=this.model.get("attributes"))===null||z===void 0)&&z.checked)}}}),k.addType(m,{extend:M,isComponent:function(z){return z.tagName=="INPUT"&&z.type=="radio"},model:{defaults:{attributes:{type:"radio"}}}}),k.addType(E,{extend:tt,isComponent:function(z){return z.tagName=="BUTTON"},model:{defaults:{tagName:"button",attributes:{type:"button"},text:"Send",traits:[{name:"text",changeProp:!0},{type:"select",name:"type",options:[{value:"button"},{value:"submit"},{value:"reset"}]}]},init:function(){var z=this.components(),I=z.length===1&&z.models[0],N=I&&I.is("textnode")&&I.get("content")||"",G=N||this.get("text");this.set("text",G),this.on("change:text",this.__onTextChange),G!==N&&this.__onTextChange()},__onTextChange:function(){this.components(this.get("text"))}},view:{events:{click:T}}}),k.addType(w,{extend:"text",isComponent:function(z){return z.tagName=="LABEL"},model:{defaults:{tagName:"label",components:"Label",traits:[{name:"for"}]}}})})(J),function(D){D.TraitManager.addType("select-options",{events:{keyup:"onChange"},onValueChange:function(){for(var k,Z=this.model,ot=this.target,Y=Z.get("value").trim().split(`
`),it=[],T=0;T<Y.length;T++){var z=Y[T].split("::");it.push({type:C,components:z[1]||z[0],attributes:{value:z[0]}})}ot.components().reset(it),(k=ot.view)===null||k===void 0||k.render()},getInputEl:function(){if(!this.$input){for(var k=[],Z=this.target.components(),ot=0;ot<Z.length;ot++){var Y=Z.models[ot],it=Y.get("attributes"),T=(it==null?void 0:it.value)||"",z=Y.components().models[0],I=z&&z.get("content")||"";k.push("".concat(T,"::").concat(I))}var N=document.createElement("textarea");N.value=k.join(`
`),this.$input=N}return this.$input}})}(J),function(D,k){var Z=k,ot=D.BlockManager,Y=function(it,T){var z;((z=Z.blocks)===null||z===void 0?void 0:z.indexOf(it))>=0&&ot.add(it,O(O(O({},T),{category:Z.category,select:!0}),k.block(it)))};Y(ht,{label:"Form",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 5.5c0-.3-.5-.5-1.3-.5H3.4c-.8 0-1.3.2-1.3.5v3c0 .3.5.5 1.3.5h17.4c.8 0 1.3-.2 1.3-.5v-3zM21 8H3V6h18v2zM22 10.5c0-.3-.5-.5-1.3-.5H3.4c-.8 0-1.3.2-1.3.5v3c0 .3.5.5 1.3.5h17.4c.8 0 1.3-.2 1.3-.5v-3zM21 13H3v-2h18v2z"/><rect width="10" height="3" x="2" y="15" rx=".5"/></svg>',content:{type:ht,components:[{components:[{type:w,components:"Name"},{type:tt}]},{components:[{type:w,components:"Email"},{type:tt,attributes:{type:"email"}}]},{components:[{type:w,components:"Gender"},{type:M,attributes:{value:"M"}},{type:w,components:"M"},{type:M,attributes:{value:"F"}},{type:w,components:"F"}]},{components:[{type:w,components:"Message"},{type:q}]},{components:[{type:E}]}]}}),Y(tt,{label:"Input",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 9c0-.6-.5-1-1.3-1H3.4C2.5 8 2 8.4 2 9v6c0 .6.5 1 1.3 1h17.4c.8 0 1.3-.4 1.3-1V9zm-1 6H3V9h18v6z"/><path d="M4 10h1v4H4z"/></svg>',content:{type:tt}}),Y(q,{label:"Textarea",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 7.5c0-.9-.5-1.5-1.3-1.5H3.4C2.5 6 2 6.6 2 7.5v9c0 .9.5 1.5 1.3 1.5h17.4c.8 0 1.3-.6 1.3-1.5v-9zM21 17H3V7h18v10z"/><path d="M4 8h1v4H4zM19 7h1v10h-1zM20 8h1v1h-1zM20 15h1v1h-1z"/></svg>',content:{type:q}}),Y(x,{label:"Select",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 9c0-.6-.5-1-1.3-1H3.4C2.5 8 2 8.4 2 9v6c0 .6.5 1 1.3 1h17.4c.8 0 1.3-.4 1.3-1V9zm-1 6H3V9h18v6z"/><path d="M18.5 13l1.5-2h-3zM4 11.5h11v1H4z"/></svg>',content:{type:x}}),Y(E,{label:"Button",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 9c0-.6-.5-1-1.3-1H3.4C2.5 8 2 8.4 2 9v6c0 .6.5 1 1.3 1h17.4c.8 0 1.3-.4 1.3-1V9zm-1 6H3V9h18v6z"/><path d="M4 11.5h16v1H4z"/></svg>',content:{type:E}}),Y(w,{label:"Label",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 11.9c0-.6-.5-.9-1.3-.9H3.4c-.8 0-1.3.3-1.3.9V17c0 .5.5.9 1.3.9h17.4c.8 0 1.3-.4 1.3-.9V12zM21 17H3v-5h18v5z"/><rect width="14" height="5" x="2" y="5" rx=".5"/><path d="M4 13h1v3H4z"/></svg>',content:{type:w}}),Y(M,{label:"Checkbox",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 17l-5-5 1.41-1.42L10 14.17l7.59-7.59L19 8m0-5H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2z"></path></svg>',content:{type:M}}),Y(m,{label:"Radio",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8m0-18C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 5c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5z"></path></svg>',content:{type:m}})}(J,R)};return ct})())})(Qh);var dw=Qh.exports;const hw=gi(dw);var tv={exports:{}};/*! grapesjs-tabs - 1.0.6 */(function(V,vt){(function(bt,ct){V.exports=ct()})(window,function(){return function(bt){var ct={};function ht(tt){if(ct[tt])return ct[tt].exports;var q=ct[tt]={i:tt,l:!1,exports:{}};return bt[tt].call(q.exports,q,q.exports,ht),q.l=!0,q.exports}return ht.m=bt,ht.c=ct,ht.d=function(tt,q,x){ht.o(tt,q)||Object.defineProperty(tt,q,{enumerable:!0,get:x})},ht.r=function(tt){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(tt,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(tt,"__esModule",{value:!0})},ht.t=function(tt,q){if(1&q&&(tt=ht(tt)),8&q||4&q&&typeof tt=="object"&&tt&&tt.__esModule)return tt;var x=Object.create(null);if(ht.r(x),Object.defineProperty(x,"default",{enumerable:!0,value:tt}),2&q&&typeof tt!="string")for(var M in tt)ht.d(x,M,(function(m){return tt[m]}).bind(null,M));return x},ht.n=function(tt){var q=tt&&tt.__esModule?function(){return tt.default}:function(){return tt};return ht.d(q,"a",q),q},ht.o=function(tt,q){return Object.prototype.hasOwnProperty.call(tt,q)},ht.p="",ht(ht.s=3)}([function(bt,ct){bt.exports=function(ht,tt,q){return tt in ht?Object.defineProperty(ht,tt,{value:q,enumerable:!0,configurable:!0,writable:!0}):ht[tt]=q,ht}},function(bt,ct,ht){var tt=ht(2);bt.exports=function(q,x){if(q==null)return{};var M,m,E=tt(q,x);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(q);for(m=0;m<w.length;m++)M=w[m],x.indexOf(M)>=0||Object.prototype.propertyIsEnumerable.call(q,M)&&(E[M]=q[M])}return E}},function(bt,ct){bt.exports=function(ht,tt){if(ht==null)return{};var q,x,M={},m=Object.keys(ht);for(x=0;x<m.length;x++)q=m[x],tt.indexOf(q)>=0||(M[q]=ht[q]);return M}},function(bt,ct,ht){ht.r(ct);var tt=ht(0),q=ht.n(tt),x=ht(1),M=ht.n(x);function m(y,rt){var X=Object.keys(y);if(Object.getOwnPropertySymbols){var wt=Object.getOwnPropertySymbols(y);rt&&(wt=wt.filter(function(Kt){return Object.getOwnPropertyDescriptor(y,Kt).enumerable})),X.push.apply(X,wt)}return X}function E(y){for(var rt=1;rt<arguments.length;rt++){var X=arguments[rt]!=null?arguments[rt]:{};rt%2?m(Object(X),!0).forEach(function(wt){q()(y,wt,X[wt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(X)):m(Object(X)).forEach(function(wt){Object.defineProperty(y,wt,Object.getOwnPropertyDescriptor(X,wt))})}return y}var w=function(y,rt){var X=rt.defaultModel,wt=rt.typeTabs,Kt=rt.selectorTab,Ct=(rt.editor,M()(rt,["defaultModel","typeTabs","selectorTab","editor"])),Ut=[{full:1,type:"button",label:!1,text:"Style Active",command:function(zt){var Nt=zt.Panels.getButton("views","open-sm");Nt&&Nt.set("active",1);var Qt=".".concat(Ct.classTab,".").concat(Ct.classTabActive);zt.StyleManager.setTarget(Qt,{targetIsClass:1})}}];y.addType(Ct.typeTab,{model:{defaults:E({name:"Tab",draggable:'[data-gjs-type="'.concat(Ct.typeTabContainer,'"]'),attributes:{role:"tab"},components:Ct.templateTab,classes:Ct.classTab,traits:Ut},Ct.tabProps),init:function(){this.on("removed",this.__onRemove)},__initTab:function(){if(!this.tabContent){var zt=this.getTabContent();if(!zt){var Nt,Qt=(zt=this.getTabsType().getContentsType().append({type:Ct.typeTabContent,components:Ct.templateTabContent(this)})[0]).getId(),Ot=this.getId();zt.addAttributes({id:Qt,"aria-labelledby":Ot,hidden:!0}),this.addAttributes((Nt={},q()(Nt,Kt,Qt),q()(Nt,"id",Ot),Nt)),this.tabContent=zt}this.tabContent=zt}},__onRemove:function(){var zt=this.getTabContent();zt&&zt.remove(),this.getTabsType().trigger("rerender")},getTabsType:function(){return this.closestType(wt)},getTabContent:function(){var zt=this.getAttributes()[Kt],Nt=this.getTabsType();if(Nt&&zt)return Nt.findContents().filter(function(Qt){return Qt.getId()==zt})[0]},clone:function(){var zt=X.prototype.clone.apply(this,arguments);return zt.addAttributes(q()({},Kt,"")),zt}}})};function C(y,rt){var X=Object.keys(y);if(Object.getOwnPropertySymbols){var wt=Object.getOwnPropertySymbols(y);rt&&(wt=wt.filter(function(Kt){return Object.getOwnPropertyDescriptor(y,Kt).enumerable})),X.push.apply(X,wt)}return X}function O(y){for(var rt=1;rt<arguments.length;rt++){var X=arguments[rt]!=null?arguments[rt]:{};rt%2?C(Object(X),!0).forEach(function(wt){q()(y,wt,X[wt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(X)):C(Object(X)).forEach(function(wt){Object.defineProperty(y,wt,Object.getOwnPropertyDescriptor(X,wt))})}return y}var L=function(y,rt){var X=rt.typeTab,wt=rt.typeTabContent,Kt=rt.typeTabContents,Ct=rt.typeTabContainer,Ut=rt.style,zt=M()(rt,["typeTab","typeTabContent","typeTabContents","typeTabContainer","style"]),Nt=zt.typeTabs,Qt=[1,2,3].map(function(Ot){return{type:X}});y.addType(Nt,{model:{defaults:O({name:"Tabs",classactive:zt.classTabActive,selectortab:zt.selectorTab,"script-props":["classactive","selectortab"],script:function(Ot){var Dt,Wt,oe=this,$t=Ot.classactive,Jt=Ot.selectortab,ue=window,Ne=ue.history,tr=ue._isEditor,ir="[role=tab]",rr=document,fe=rr.body,K=rr.location,st=fe.matchesSelector||fe.webkitMatchesSelector||fe.mozMatchesSelector||fe.msMatchesSelector,yt=function(Pe,Se){for(var Ve=Pe||[],Ue=0;Ue<Ve.length;Ue++)Se(Ve[Ue],Ue)},At=function(Pe){return Pe.getAttribute(Jt)},Ht=function(Pe,Se){return Pe.querySelector(Se)},mt=function(){return oe.querySelectorAll(ir)},Vt=function(Pe,Se){return!tr&&(Pe.tabIndex=Se)},Et=function(Pe){yt(mt(),function(Ue){Ue.className=Ue.className.replace($t,"").trim(),Ue.ariaSelected="false",Vt(Ue,"-1")}),yt(oe.querySelectorAll("[role=tabpanel]"),function(Ue){return Ue.hidden=!0}),Pe.className+=" "+$t,Pe.ariaSelected="true",Vt(Pe,"0");var Se=At(Pe),Ve=Se&&Ht(oe,"#".concat(Se));Ve&&(Ve.hidden=!1)},_e=Ht(oe,".".concat($t).concat(ir));(_e=_e||(Wt=(K.hash||"").replace("#",""))&&Ht(oe,(Dt=Jt,"".concat(ir,"[").concat(Dt,"=").concat(Wt,"]")))||Ht(oe,ir))&&Et(_e),oe.addEventListener("click",function(Pe){var Se=Pe.target,Ve=st.call(Se,ir);if(Ve||(Se=function(me){var qe;return yt(mt(),function(Ae){qe||Ae.contains(me)&&(qe=Ae)}),qe}(Se))&&(Ve=1),Ve&&!Pe.__trg&&Se.className.indexOf($t)<0){Pe.preventDefault(),Pe.__trg=1,Et(Se);var Ue=At(Se);try{Ne&&Ne.pushState(null,null,"#".concat(Ue))}catch{}}})},traits:[{full:1,type:"button",label:!1,text:"Add Tab",command:function(Ot){var Dt=Ot.getSelected();Dt&&Dt.addTab()}}],components:[{type:Ct,components:Qt},{type:Kt},Ut&&"<style>".concat(Ut(zt),"</style>")]},zt.tabsProps),init:function(){this.findTabs().map(this.__onTab),this.listenTo(this.getTabContainerType().components(),"add",this.__onTab)},__onTab:function(Ot,Dt){var Wt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};!Wt.avoidStore&&!Wt.temporary&&Ot.__initTab&&Ot.__initTab()},getTabContainerType:function(){return this.findType(Ct)[0]},getContentsType:function(){return this.findType(Kt)[0]||this},findTabs:function(){return this.findType(X)},findContents:function(){return this.findType(wt)},addTab:function(Ot){this.getTabContainerType().append({type:X,components:Ot})}}})};function et(y,rt){var X=Object.keys(y);if(Object.getOwnPropertySymbols){var wt=Object.getOwnPropertySymbols(y);rt&&(wt=wt.filter(function(Kt){return Object.getOwnPropertyDescriptor(y,Kt).enumerable})),X.push.apply(X,wt)}return X}function J(y){for(var rt=1;rt<arguments.length;rt++){var X=arguments[rt]!=null?arguments[rt]:{};rt%2?et(Object(X),!0).forEach(function(wt){q()(y,wt,X[wt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(X)):et(Object(X)).forEach(function(wt){Object.defineProperty(y,wt,Object.getOwnPropertyDescriptor(X,wt))})}return y}var U=function(y,rt){y.addType(rt.typeTabContent,{model:{defaults:J({name:"Tab Content",draggable:!1,copyable:!1,removable:!1,highlightable:!1,attributes:{role:"tabpanel"},classes:rt.classTabContent,traits:[]},rt.tabContentProps)}})};function R(y,rt){var X=Object.keys(y);if(Object.getOwnPropertySymbols){var wt=Object.getOwnPropertySymbols(y);rt&&(wt=wt.filter(function(Kt){return Object.getOwnPropertyDescriptor(y,Kt).enumerable})),X.push.apply(X,wt)}return X}function D(y){for(var rt=1;rt<arguments.length;rt++){var X=arguments[rt]!=null?arguments[rt]:{};rt%2?R(Object(X),!0).forEach(function(wt){q()(y,wt,X[wt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(X)):R(Object(X)).forEach(function(wt){Object.defineProperty(y,wt,Object.getOwnPropertyDescriptor(X,wt))})}return y}var k=function(y,rt){y.addType(rt.typeTabContents,{model:{defaults:D({name:"Tab Contents",draggable:!1,droppable:!1,copyable:!1,removable:!1,classes:rt.classTabContents},rt.tabContentsProps)}})};function Z(y,rt){var X=Object.keys(y);if(Object.getOwnPropertySymbols){var wt=Object.getOwnPropertySymbols(y);rt&&(wt=wt.filter(function(Kt){return Object.getOwnPropertyDescriptor(y,Kt).enumerable})),X.push.apply(X,wt)}return X}function ot(y){for(var rt=1;rt<arguments.length;rt++){var X=arguments[rt]!=null?arguments[rt]:{};rt%2?Z(Object(X),!0).forEach(function(wt){q()(y,wt,X[wt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(X)):Z(Object(X)).forEach(function(wt){Object.defineProperty(y,wt,Object.getOwnPropertyDescriptor(X,wt))})}return y}var Y=function(y,rt){y.addType(rt.typeTabContainer,{model:{defaults:ot({name:"Tab Container",draggable:'[data-gjs-type="'.concat(rt.typeTabs,'"]'),droppable:'[data-gjs-type="'.concat(rt.typeTab,'"]'),copyable:!1,removable:!1,highlightable:!1,attributes:{role:"tablist"},classes:rt.classTabContainer},rt.tabContainerProps)}})};function it(y,rt){var X=Object.keys(y);if(Object.getOwnPropertySymbols){var wt=Object.getOwnPropertySymbols(y);rt&&(wt=wt.filter(function(Kt){return Object.getOwnPropertyDescriptor(y,Kt).enumerable})),X.push.apply(X,wt)}return X}function T(y){for(var rt=1;rt<arguments.length;rt++){var X=arguments[rt]!=null?arguments[rt]:{};rt%2?it(Object(X),!0).forEach(function(wt){q()(y,wt,X[wt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(X)):it(Object(X)).forEach(function(wt){Object.defineProperty(y,wt,Object.getOwnPropertyDescriptor(X,wt))})}return y}var z=function(y){var rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},X=y.DomComponents,wt=T(T({},rt),{},{defaultModel:X.getType("default").model,editor:y});[w,L,U,k,Y].map(function(Kt){return Kt(X,wt)})};function I(y,rt){var X=Object.keys(y);if(Object.getOwnPropertySymbols){var wt=Object.getOwnPropertySymbols(y);rt&&(wt=wt.filter(function(Kt){return Object.getOwnPropertyDescriptor(y,Kt).enumerable})),X.push.apply(X,wt)}return X}var N=function(y,rt){var X=rt.tabsBlock,wt=rt.typeTabs,Kt=y.BlockManager;X&&Kt.add(wt,function(Ct){for(var Ut=1;Ut<arguments.length;Ut++){var zt=arguments[Ut]!=null?arguments[Ut]:{};Ut%2?I(Object(zt),!0).forEach(function(Nt){q()(Ct,Nt,zt[Nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ct,Object.getOwnPropertyDescriptors(zt)):I(Object(zt)).forEach(function(Nt){Object.defineProperty(Ct,Nt,Object.getOwnPropertyDescriptor(zt,Nt))})}return Ct}({media:`
      <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path d="M22 9.3c0-.8-.5-1.3-1.3-1.3H3.4C2.5 8 2 8.5 2 9.3v7.4c0 .8.5 1.3 1.3 1.3h17.4c.8 0 1.3-.5 1.3-1.3V9.3zM21 17H3V9h18v8z" fill-rule="nonzero"/><rect x="3" y="5" width="4" height="2" rx=".5"/><rect x="8" y="5" width="4" height="2" rx=".5"/><rect x="13" y="5" width="4" height="2" rx=".5"/>
      </svg>
    `,label:"Tabs",content:{type:wt}},X))},G={tabsBlock:{},tabsProps:{},tabContainerProps:{},tabProps:{},tabContentProps:{},tabContentsProps:{},classTab:"tab",classTabContainer:"tab-container",classTabActive:"tab-active",classTabContent:"tab-content",classTabContents:"tab-contents",selectorTab:"aria-controls",typeTabs:"tabs",typeTabContainer:"tab-container",typeTab:"tab",typeTabContent:"tab-content",typeTabContents:"tab-contents",templateTab:function(y){return'<span data-gjs-highlightable="false">Tab</span>'},templateTabContent:function(y){return"<div>Tab Content</div>"},style:function(y){return`
        .`.concat(y.classTab,` {
            padding: 7px 14px;
            display: inline-block;
            border-radius: 3px;
            margin-right: 10px;
        }

        .`).concat(y.classTab,`:focus {
            outline: none;
        }

        .`).concat(y.classTab,".").concat(y.classTabActive,` {
            background-color: #0d94e6;
            color: white;
        }

        .`).concat(y.classTabContainer,` {
            display: inline-block;
        }

        .`).concat(y.classTabContent,` {
            animation: fadeEffect 1s;
        }

        .`).concat(y.classTabContents,` {
            min-height: 100px;
            padding: 10px;
        }

        @keyframes fadeEffect {
            from {opacity: 0;}
            to {opacity: 1;}
        }
    `)}};function P(y,rt){var X=Object.keys(y);if(Object.getOwnPropertySymbols){var wt=Object.getOwnPropertySymbols(y);rt&&(wt=wt.filter(function(Kt){return Object.getOwnPropertyDescriptor(y,Kt).enumerable})),X.push.apply(X,wt)}return X}function $(y){for(var rt=1;rt<arguments.length;rt++){var X=arguments[rt]!=null?arguments[rt]:{};rt%2?P(Object(X),!0).forEach(function(wt){q()(y,wt,X[wt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(X)):P(Object(X)).forEach(function(wt){Object.defineProperty(y,wt,Object.getOwnPropertyDescriptor(X,wt))})}return y}ct.default=function(y){var rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},X=$($({},G),rt);z(y,X),N(y,X)}}])})})(tv);var ev=tv.exports;const vw=gi(ev),gw=lw({__proto__:null,default:vw},[ev]);var rv={exports:{}};/*! grapesjs-custom-code - 1.0.2 */(function(V,vt){(function(bt,ct){V.exports=ct()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:Wi,()=>(()=>{var bt={d:(C,O)=>{for(var L in O)bt.o(O,L)&&!bt.o(C,L)&&Object.defineProperty(C,L,{enumerable:!0,get:O[L]})},o:(C,O)=>Object.prototype.hasOwnProperty.call(C,O),r:C=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(C,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(C,"__esModule",{value:!0})}},ct={};bt.r(ct),bt.d(ct,{default:()=>w});var ht="custom-code-plugin__code",tt="custom-code",q="custom-code:open-modal",x=function(){return x=Object.assign||function(C){for(var O,L=1,et=arguments.length;L<et;L++)for(var J in O=arguments[L])Object.prototype.hasOwnProperty.call(O,J)&&(C[J]=O[J]);return C},x.apply(this,arguments)},M=function(){return M=Object.assign||function(C){for(var O,L=1,et=arguments.length;L<et;L++)for(var J in O=arguments[L])Object.prototype.hasOwnProperty.call(O,J)&&(C[J]=O[J]);return C},M.apply(this,arguments)},m=function(){return m=Object.assign||function(C){for(var O,L=1,et=arguments.length;L<et;L++)for(var J in O=arguments[L])Object.prototype.hasOwnProperty.call(O,J)&&(C[J]=O[J]);return C},m.apply(this,arguments)},E=function(){return E=Object.assign||function(C){for(var O,L=1,et=arguments.length;L<et;L++)for(var J in O=arguments[L])Object.prototype.hasOwnProperty.call(O,J)&&(C[J]=O[J]);return C},E.apply(this,arguments)};const w=function(C,O){O===void 0&&(O={});var L=E({blockCustomCode:{},propsCustomCode:{},toolbarBtnCustomCode:{},placeholderScript:`<div style="pointer-events: none; padding: 10px;">
      <svg viewBox="0 0 24 24" style="height: 30px; vertical-align: middle;">
        <path d="M13 14h-2v-4h2m0 8h-2v-2h2M1 21h22L12 2 1 21z"></path>
        </svg>
      Custom code with <i>&lt;script&gt;</i> can't be rendered on the canvas
    </div>`,modalTitle:"Insert your code",codeViewOptions:{},buttonLabel:"Save",commandCustomCode:{}},O);(function(et,J){J===void 0&&(J={});var U,R=et.Components,D=J.toolbarBtnCustomCode;R.addType("script",{view:{onRender:function(){var k=this.model,Z=this.el;k.closestType(tt)&&(Z.innerHTML="")}}}),R.addType(tt,{model:{defaults:m({name:"Custom Code",editable:!0,components:{tagName:"span",components:{type:"textnode",content:"Insert here your custom code"}}},J.propsCustomCode),init:function(){this.on("change:".concat(ht),this.onCustomCodeChange);var k=this.get(ht);!this.components().length&&this.components(k);var Z=this.get("toolbar"),ot="custom-code";D&&!Z.filter(function(Y){return Y.id===ot}).length&&Z.unshift(m({id:ot,command:q,label:`<svg viewBox="0 0 24 24">
              <path d="M14.6 16.6l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4m-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4z"></path>
            </svg>`},D))},onCustomCodeChange:function(){this.components(this.get(ht))}},view:{events:{dblclick:"onActive"},init:function(){this.listenTo(this.model.components(),"add remove reset",this.onComponentsChange),this.onComponentsChange()},onComponentsChange:function(){var k=this;U&&clearInterval(U),U=setTimeout(function(){var Z=k,ot=Z.model,Y=Z.el,it=!0;(ot.get(ht)||"").indexOf("<script")>=0&&J.placeholderScript&&(Y.innerHTML=J.placeholderScript,it=!1),ot.set({droppable:it})},0)},onActive:function(){var k=this.model;this.em.get("Commands").run(q,{target:k})}}})})(C,L),function(et,J){var U=(J===void 0?{}:J).blockCustomCode,R=et.Blocks;U&&R.add(tt,x({label:"Custom Code",media:`
      <svg viewBox="0 0 24 24">
        <path d="M14.6 16.6l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4m-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4z"></path>
      </svg>
    `,category:"Extra",activate:!0,select:!0,content:{type:tt}},U))}(C,L),function(et,J){J===void 0&&(J={});var U=J.modalTitle,R=J.codeViewOptions,D=J.commandCustomCode,k=function(Z,ot){ot instanceof HTMLElement?Z.appendChild(ot):ot&&Z.insertAdjacentHTML("beforeend",ot)};et.Commands.add(q,M({keyCustomCode:ht,target:null,codeViewer:null,run:function(Z,ot,Y){Y===void 0&&(Y={});var it=Y.target||Z.getSelected();this.target=it,it!=null&&it.get("editable")&&this.showCustomCode(it,Y)},stop:function(Z){Z.Modal.close()},showCustomCode:function(Z,ot){var Y=ot.title||U,it=Z.get(ht)||"",T=this.getContent();et.Modal.open({title:Y,content:T}).onceClose(function(){return et.stopCommand(q)}),this.getCodeViewer().setContent(it)},getPreContent:function(){},getPostContent:function(){},getContent:function(){var Z=this.getCodeViewer(),ot=document.createElement("div"),Y=et.getConfig("stylePrefix");return ot.className="".concat(Y,"custom-code"),k(ot,this.getPreContent()),ot.appendChild(Z.getElement()),k(ot,this.getPostContent()),k(ot,this.getContentActions()),Z.refresh(),setTimeout(function(){return Z.focus()},0),ot},getContentActions:function(){var Z=this,ot=document.createElement("button");ot.setAttribute("type","button");var Y=et.getConfig("stylePrefix");return ot.innerHTML=J.buttonLabel,ot.className="".concat(Y,"btn-prim ").concat(Y,"btn-import__custom-code"),ot.onclick=function(){return Z.handleSave()},ot},handleSave:function(){var Z=this.target,ot=this.getCodeViewer().getContent();Z==null||Z.set(ht,ot),et.Modal.close()},getCodeViewer:function(){return this.codeViewer||(this.codeViewer=et.CodeManager.createViewer(M({codeName:"htmlmixed",theme:"hopscotch",readOnly:0},R))),this.codeViewer}},D))}(C,L)};return ct})())})(rv);var mw=rv.exports;const yw=gi(mw);var nv={exports:{}};/*! grapesjs-component-countdown - 1.0.2 */(function(V,vt){(function(bt,ct){V.exports=ct()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:Wi,()=>(()=>{var bt={d:(q,x)=>{for(var M in x)bt.o(x,M)&&!bt.o(q,M)&&Object.defineProperty(q,M,{enumerable:!0,get:x[M]})},o:(q,x)=>Object.prototype.hasOwnProperty.call(q,x),r:q=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(q,"__esModule",{value:!0})}},ct={};bt.r(ct),bt.d(ct,{default:()=>tt});var ht=function(){return ht=Object.assign||function(q){for(var x,M=1,m=arguments.length;M<m;M++)for(var E in x=arguments[M])Object.prototype.hasOwnProperty.call(x,E)&&(q[E]=x[E]);return q},ht.apply(this,arguments)};const tt=function(q,x){x===void 0&&(x={});var M=ht({id:"countdown",label:"Countdown",block:{},props:{},style:"",styleAdditional:"",startTime:"",endText:"EXPIRED",dateInputType:"date",labelDays:"days",labelHours:"hours",labelMinutes:"minutes",labelSeconds:"seconds",classPrefix:"countdown"},x),m=M.block,E=M.props,w=M.style,C=M.id,O=M.label,L=M.classPrefix;m&&q.Blocks.add(C,ht({media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M12 20C16.4 20 20 16.4 20 12S16.4 4 12 4 4 7.6 4 12 7.6 20 12 20M12 2C17.5 2 22 6.5 22 12S17.5 22 12 22C6.5 22 2 17.5 2 12C2 6.5 6.5 2 12 2M17 11.5V13H11V7H12.5V11.5H17Z" />
      </svg>`,label:O,category:"Extra",select:!0,content:{type:C}},m)),q.Components.addType(C,{model:{defaults:ht({startfrom:M.startTime,classes:[L],endText:M.endText,droppable:!1,script:function(et){var J=et.startfrom,U=et.endText,R=this,D=new Date(J).getTime(),k=R.querySelector("[data-js=countdown]"),Z=R.querySelector("[data-js=countdown-endtext]"),ot=R.querySelector("[data-js=countdown-day]"),Y=R.querySelector("[data-js=countdown-hour]"),it=R.querySelector("[data-js=countdown-minute]"),T=R.querySelector("[data-js=countdown-second]"),z=R.__gjsCountdownInterval;z&&clearInterval(z);var I=window.__gjsCountdownIntervals||[],N=[];I.forEach(function($){$.isConnected||(clearInterval($.__gjsCountdownInterval),N.push($))}),I.indexOf(R)<0&&I.push(R),window.__gjsCountdownIntervals=I.filter(function($){return N.indexOf($)<0});var G=function($,y,rt,X){ot.innerHTML="".concat($<10?"0"+$:$),Y.innerHTML="".concat(y<10?"0"+y:y),it.innerHTML="".concat(rt<10?"0"+rt:rt),T.innerHTML="".concat(X<10?"0"+X:X)},P=function(){var $=new Date().getTime(),y=D-$,rt=Math.floor(y/864e5),X=Math.floor(y%864e5/36e5),wt=Math.floor(y%36e5/6e4),Kt=Math.floor(y%6e4/1e3);G(rt,X,wt,Kt),y<0&&(clearInterval(R.__gjsCountdownInterval),Z.innerHTML=U,k.style.display="none",Z.style.display="")};D?(R.__gjsCountdownInterval=setInterval(P,1e3),Z.style.display="none",k.style.display="",P()):G(0,0,0,0)},"script-props":["startfrom","endText"],traits:[{label:"Start",name:"startfrom",changeProp:!0,type:M.dateInputType},{label:"End text",name:"endText",changeProp:!0}],components:`
          <span data-js="countdown" class="`.concat(L,`-cont">
            <div class="`).concat(L,`-block">
              <div data-js="countdown-day" class="`).concat(L,`-digit"></div>
              <div class="`).concat(L,'-label">').concat(M.labelDays,`</div>
            </div>
            <div class="`).concat(L,`-block">
              <div data-js="countdown-hour" class="`).concat(L,`-digit"></div>
              <div class="`).concat(L,'-label">').concat(M.labelHours,`</div>
            </div>
            <div class="`).concat(L,`-block">
              <div data-js="countdown-minute" class="`).concat(L,`-digit"></div>
              <div class="`).concat(L,'-label">').concat(M.labelMinutes,`</div>
            </div>
            <div class="`).concat(L,`-block">
              <div data-js="countdown-second" class="`).concat(L,`-digit"></div>
              <div class="`).concat(L,'-label">').concat(M.labelSeconds,`</div>
            </div>
          </span>
          <span data-js="countdown-endtext" class="`).concat(L,`-endtext"></span>
        `),styles:(w||`
          .`.concat(L,` {
            text-align: center;
          }

          .`).concat(L,`-block {
            display: inline-block;
            margin: 0 10px;
            padding: 10px;
          }

          .`).concat(L,`-digit {
            font-size: 5rem;
          }

          .`).concat(L,`-endtext {
            font-size: 5rem;
          }

          .`).concat(L,`-cont {
            display: inline-block;
          }
        `))+M.styleAdditional},E)}})};return ct})())})(nv);var bw=nv.exports;const ww=gi(bw);var ov={exports:{}};(function(V,vt){var bt={};/*! grapesjs-parser-postcss - 1.0.3 */(function(ct,ht){V.exports=ht()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:Wi,()=>(()=>{var ct={241:x=>{var M=String,m=function(){return{isColorSupported:!1,reset:M,bold:M,dim:M,italic:M,underline:M,inverse:M,hidden:M,strikethrough:M,black:M,red:M,green:M,yellow:M,blue:M,magenta:M,cyan:M,white:M,gray:M,bgBlack:M,bgRed:M,bgGreen:M,bgYellow:M,bgBlue:M,bgMagenta:M,bgCyan:M,bgWhite:M}};x.exports=m(),x.exports.createColors=m},353:(x,M,m)=>{let E=m(19);class w extends E{constructor(O){super(O),this.type="atrule"}append(...O){return this.proxyOf.nodes||(this.nodes=[]),super.append(...O)}prepend(...O){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...O)}}x.exports=w,w.default=w,E.registerAtRule(w)},932:(x,M,m)=>{let E=m(631);class w extends E{constructor(O){super(O),this.type="comment"}}x.exports=w,w.default=w},19:(x,M,m)=>{let E,w,C,O,{isClean:L,my:et}=m(513),J=m(258),U=m(932),R=m(631);function D(ot){return ot.map(Y=>(Y.nodes&&(Y.nodes=D(Y.nodes)),delete Y.source,Y))}function k(ot){if(ot[L]=!1,ot.proxyOf.nodes)for(let Y of ot.proxyOf.nodes)k(Y)}class Z extends R{append(...Y){for(let it of Y){let T=this.normalize(it,this.last);for(let z of T)this.proxyOf.nodes.push(z)}return this.markDirty(),this}cleanRaws(Y){if(super.cleanRaws(Y),this.nodes)for(let it of this.nodes)it.cleanRaws(Y)}each(Y){if(!this.proxyOf.nodes)return;let it,T,z=this.getIterator();for(;this.indexes[z]<this.proxyOf.nodes.length&&(it=this.indexes[z],T=Y(this.proxyOf.nodes[it],it),T!==!1);)this.indexes[z]+=1;return delete this.indexes[z],T}every(Y){return this.nodes.every(Y)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let Y=this.lastEach;return this.indexes[Y]=0,Y}getProxyProcessor(){return{get:(Y,it)=>it==="proxyOf"?Y:Y[it]?it==="each"||typeof it=="string"&&it.startsWith("walk")?(...T)=>Y[it](...T.map(z=>typeof z=="function"?(I,N)=>z(I.toProxy(),N):z)):it==="every"||it==="some"?T=>Y[it]((z,...I)=>T(z.toProxy(),...I)):it==="root"?()=>Y.root().toProxy():it==="nodes"?Y.nodes.map(T=>T.toProxy()):it==="first"||it==="last"?Y[it].toProxy():Y[it]:Y[it],set:(Y,it,T)=>(Y[it]===T||(Y[it]=T,it!=="name"&&it!=="params"&&it!=="selector"||Y.markDirty()),!0)}}index(Y){return typeof Y=="number"?Y:(Y.proxyOf&&(Y=Y.proxyOf),this.proxyOf.nodes.indexOf(Y))}insertAfter(Y,it){let T,z=this.index(Y),I=this.normalize(it,this.proxyOf.nodes[z]).reverse();z=this.index(Y);for(let N of I)this.proxyOf.nodes.splice(z+1,0,N);for(let N in this.indexes)T=this.indexes[N],z<T&&(this.indexes[N]=T+I.length);return this.markDirty(),this}insertBefore(Y,it){let T,z=this.index(Y),I=z===0&&"prepend",N=this.normalize(it,this.proxyOf.nodes[z],I).reverse();z=this.index(Y);for(let G of N)this.proxyOf.nodes.splice(z,0,G);for(let G in this.indexes)T=this.indexes[G],z<=T&&(this.indexes[G]=T+N.length);return this.markDirty(),this}normalize(Y,it){if(typeof Y=="string")Y=D(E(Y).nodes);else if(Array.isArray(Y)){Y=Y.slice(0);for(let T of Y)T.parent&&T.parent.removeChild(T,"ignore")}else if(Y.type==="root"&&this.type!=="document"){Y=Y.nodes.slice(0);for(let T of Y)T.parent&&T.parent.removeChild(T,"ignore")}else if(Y.type)Y=[Y];else if(Y.prop){if(Y.value===void 0)throw new Error("Value field is missed in node creation");typeof Y.value!="string"&&(Y.value=String(Y.value)),Y=[new J(Y)]}else if(Y.selector)Y=[new w(Y)];else if(Y.name)Y=[new C(Y)];else{if(!Y.text)throw new Error("Unknown node type in node creation");Y=[new U(Y)]}return Y.map(T=>(T[et]||Z.rebuild(T),(T=T.proxyOf).parent&&T.parent.removeChild(T),T[L]&&k(T),T.raws.before===void 0&&it&&it.raws.before!==void 0&&(T.raws.before=it.raws.before.replace(/\S/g,"")),T.parent=this.proxyOf,T))}prepend(...Y){Y=Y.reverse();for(let it of Y){let T=this.normalize(it,this.first,"prepend").reverse();for(let z of T)this.proxyOf.nodes.unshift(z);for(let z in this.indexes)this.indexes[z]=this.indexes[z]+T.length}return this.markDirty(),this}push(Y){return Y.parent=this,this.proxyOf.nodes.push(Y),this}removeAll(){for(let Y of this.proxyOf.nodes)Y.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(Y){let it;Y=this.index(Y),this.proxyOf.nodes[Y].parent=void 0,this.proxyOf.nodes.splice(Y,1);for(let T in this.indexes)it=this.indexes[T],it>=Y&&(this.indexes[T]=it-1);return this.markDirty(),this}replaceValues(Y,it,T){return T||(T=it,it={}),this.walkDecls(z=>{it.props&&!it.props.includes(z.prop)||it.fast&&!z.value.includes(it.fast)||(z.value=z.value.replace(Y,T))}),this.markDirty(),this}some(Y){return this.nodes.some(Y)}walk(Y){return this.each((it,T)=>{let z;try{z=Y(it,T)}catch(I){throw it.addToError(I)}return z!==!1&&it.walk&&(z=it.walk(Y)),z})}walkAtRules(Y,it){return it?Y instanceof RegExp?this.walk((T,z)=>{if(T.type==="atrule"&&Y.test(T.name))return it(T,z)}):this.walk((T,z)=>{if(T.type==="atrule"&&T.name===Y)return it(T,z)}):(it=Y,this.walk((T,z)=>{if(T.type==="atrule")return it(T,z)}))}walkComments(Y){return this.walk((it,T)=>{if(it.type==="comment")return Y(it,T)})}walkDecls(Y,it){return it?Y instanceof RegExp?this.walk((T,z)=>{if(T.type==="decl"&&Y.test(T.prop))return it(T,z)}):this.walk((T,z)=>{if(T.type==="decl"&&T.prop===Y)return it(T,z)}):(it=Y,this.walk((T,z)=>{if(T.type==="decl")return it(T,z)}))}walkRules(Y,it){return it?Y instanceof RegExp?this.walk((T,z)=>{if(T.type==="rule"&&Y.test(T.selector))return it(T,z)}):this.walk((T,z)=>{if(T.type==="rule"&&T.selector===Y)return it(T,z)}):(it=Y,this.walk((T,z)=>{if(T.type==="rule")return it(T,z)}))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}}Z.registerParse=ot=>{E=ot},Z.registerRule=ot=>{w=ot},Z.registerAtRule=ot=>{C=ot},Z.registerRoot=ot=>{O=ot},x.exports=Z,Z.default=Z,Z.rebuild=ot=>{ot.type==="atrule"?Object.setPrototypeOf(ot,C.prototype):ot.type==="rule"?Object.setPrototypeOf(ot,w.prototype):ot.type==="decl"?Object.setPrototypeOf(ot,J.prototype):ot.type==="comment"?Object.setPrototypeOf(ot,U.prototype):ot.type==="root"&&Object.setPrototypeOf(ot,O.prototype),ot[et]=!0,ot.nodes&&ot.nodes.forEach(Y=>{Z.rebuild(Y)})}},671:(x,M,m)=>{let E=m(241),w=m(868);class C extends Error{constructor(L,et,J,U,R,D){super(L),this.name="CssSyntaxError",this.reason=L,R&&(this.file=R),U&&(this.source=U),D&&(this.plugin=D),et!==void 0&&J!==void 0&&(typeof et=="number"?(this.line=et,this.column=J):(this.line=et.line,this.column=et.column,this.endLine=J.line,this.endColumn=J.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,C)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",this.line!==void 0&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(L){if(!this.source)return"";let et=this.source;L==null&&(L=E.isColorSupported),w&&L&&(et=w(et));let J,U,R=et.split(/\r?\n/),D=Math.max(this.line-3,0),k=Math.min(this.line+2,R.length),Z=String(k).length;if(L){let{bold:ot,gray:Y,red:it}=E.createColors(!0);J=T=>ot(it(T)),U=T=>Y(T)}else J=U=ot=>ot;return R.slice(D,k).map((ot,Y)=>{let it=D+1+Y,T=" "+(" "+it).slice(-Z)+" | ";if(it===this.line){let z=U(T.replace(/\d/g," "))+ot.slice(0,this.column-1).replace(/[^\t]/g," ");return J(">")+U(T)+ot+`
 `+z+J("^")}return" "+U(T)+ot}).join(`
`)}toString(){let L=this.showSourceCode();return L&&(L=`

`+L+`
`),this.name+": "+this.message+L}}x.exports=C,C.default=C},258:(x,M,m)=>{let E=m(631);class w extends E{constructor(O){O&&O.value!==void 0&&typeof O.value!="string"&&(O={...O,value:String(O.value)}),super(O),this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}}x.exports=w,w.default=w},461:(x,M,m)=>{let E,w,C=m(19);class O extends C{constructor(et){super({type:"document",...et}),this.nodes||(this.nodes=[])}toResult(et={}){return new E(new w,this,et).stringify()}}O.registerLazyResult=L=>{E=L},O.registerProcessor=L=>{w=L},x.exports=O,O.default=O},250:(x,M,m)=>{let E=m(258),w=m(981),C=m(932),O=m(353),L=m(995),et=m(25),J=m(675);function U(R,D){if(Array.isArray(R))return R.map(ot=>U(ot));let{inputs:k,...Z}=R;if(k){D=[];for(let ot of k){let Y={...ot,__proto__:L.prototype};Y.map&&(Y.map={...Y.map,__proto__:w.prototype}),D.push(Y)}}if(Z.nodes&&(Z.nodes=R.nodes.map(ot=>U(ot,D))),Z.source){let{inputId:ot,...Y}=Z.source;Z.source=Y,ot!=null&&(Z.source.input=D[ot])}if(Z.type==="root")return new et(Z);if(Z.type==="decl")return new E(Z);if(Z.type==="rule")return new J(Z);if(Z.type==="comment")return new C(Z);if(Z.type==="atrule")return new O(Z);throw new Error("Unknown node type: "+R.type)}x.exports=U,U.default=U},995:(x,M,m)=>{let{SourceMapConsumer:E,SourceMapGenerator:w}=m(209),{fileURLToPath:C,pathToFileURL:O}=m(414),{isAbsolute:L,resolve:et}=m(830),{nanoid:J}=m(961),U=m(868),R=m(671),D=m(981),k=Symbol("fromOffsetCache"),Z=!!(E&&w),ot=!!(et&&L);class Y{constructor(T,z={}){if(T==null||typeof T=="object"&&!T.toString)throw new Error(`PostCSS received ${T} instead of CSS string`);if(this.css=T.toString(),this.css[0]==="\uFEFF"||this.css[0]==="￾"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,z.from&&(!ot||/^\w+:\/\//.test(z.from)||L(z.from)?this.file=z.from:this.file=et(z.from)),ot&&Z){let I=new D(this.css,z);if(I.text){this.map=I;let N=I.consumer().file;!this.file&&N&&(this.file=this.mapResolve(N))}}this.file||(this.id="<input css "+J(6)+">"),this.map&&(this.map.file=this.from)}error(T,z,I,N={}){let G,P,$;if(z&&typeof z=="object"){let rt=z,X=I;if(typeof rt.offset=="number"){let wt=this.fromOffset(rt.offset);z=wt.line,I=wt.col}else z=rt.line,I=rt.column;if(typeof X.offset=="number"){let wt=this.fromOffset(X.offset);P=wt.line,$=wt.col}else P=X.line,$=X.column}else if(!I){let rt=this.fromOffset(z);z=rt.line,I=rt.col}let y=this.origin(z,I,P,$);return G=y?new R(T,y.endLine===void 0?y.line:{column:y.column,line:y.line},y.endLine===void 0?y.column:{column:y.endColumn,line:y.endLine},y.source,y.file,N.plugin):new R(T,P===void 0?z:{column:I,line:z},P===void 0?I:{column:$,line:P},this.css,this.file,N.plugin),G.input={column:I,endColumn:$,endLine:P,line:z,source:this.css},this.file&&(O&&(G.input.url=O(this.file).toString()),G.input.file=this.file),G}fromOffset(T){let z,I;if(this[k])I=this[k];else{let G=this.css.split(`
`);I=new Array(G.length);let P=0;for(let $=0,y=G.length;$<y;$++)I[$]=P,P+=G[$].length+1;this[k]=I}z=I[I.length-1];let N=0;if(T>=z)N=I.length-1;else{let G,P=I.length-2;for(;N<P;)if(G=N+(P-N>>1),T<I[G])P=G-1;else{if(!(T>=I[G+1])){N=G;break}N=G+1}}return{col:T-I[N]+1,line:N+1}}mapResolve(T){return/^\w+:\/\//.test(T)?T:et(this.map.consumer().sourceRoot||this.map.root||".",T)}origin(T,z,I,N){if(!this.map)return!1;let G,P,$=this.map.consumer(),y=$.originalPositionFor({column:z,line:T});if(!y.source)return!1;typeof I=="number"&&(G=$.originalPositionFor({column:N,line:I})),P=L(y.source)?O(y.source):new URL(y.source,this.map.consumer().sourceRoot||O(this.map.mapFile));let rt={column:y.column,endColumn:G&&G.column,endLine:G&&G.line,line:y.line,url:P.toString()};if(P.protocol==="file:"){if(!C)throw new Error("file: protocol is not available in this PostCSS build");rt.file=C(P)}let X=$.sourceContentFor(y.source);return X&&(rt.source=X),rt}toJSON(){let T={};for(let z of["hasBOM","css","file","id"])this[z]!=null&&(T[z]=this[z]);return this.map&&(T.map={...this.map},T.map.consumerCache&&(T.map.consumerCache=void 0)),T}get from(){return this.file||this.id}}x.exports=Y,Y.default=Y,U&&U.registerInput&&U.registerInput(Y)},939:(x,M,m)=>{let{isClean:E,my:w}=m(513),C=m(505),O=m(88),L=m(19),et=m(461),J=(m(448),m(632)),U=m(964),R=m(25);const D={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},k={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},Z={Once:!0,postcssPlugin:!0,prepare:!0},ot=0;function Y(G){return typeof G=="object"&&typeof G.then=="function"}function it(G){let P=!1,$=D[G.type];return G.type==="decl"?P=G.prop.toLowerCase():G.type==="atrule"&&(P=G.name.toLowerCase()),P&&G.append?[$,$+"-"+P,ot,$+"Exit",$+"Exit-"+P]:P?[$,$+"-"+P,$+"Exit",$+"Exit-"+P]:G.append?[$,ot,$+"Exit"]:[$,$+"Exit"]}function T(G){let P;return P=G.type==="document"?["Document",ot,"DocumentExit"]:G.type==="root"?["Root",ot,"RootExit"]:it(G),{eventIndex:0,events:P,iterator:0,node:G,visitorIndex:0,visitors:[]}}function z(G){return G[E]=!1,G.nodes&&G.nodes.forEach(P=>z(P)),G}let I={};class N{constructor(P,$,y){let rt;if(this.stringified=!1,this.processed=!1,typeof $!="object"||$===null||$.type!=="root"&&$.type!=="document")if($ instanceof N||$ instanceof J)rt=z($.root),$.map&&(y.map===void 0&&(y.map={}),y.map.inline||(y.map.inline=!1),y.map.prev=$.map);else{let X=U;y.syntax&&(X=y.syntax.parse),y.parser&&(X=y.parser),X.parse&&(X=X.parse);try{rt=X($,y)}catch(wt){this.processed=!0,this.error=wt}rt&&!rt[w]&&L.rebuild(rt)}else rt=z($);this.result=new J(P,rt,y),this.helpers={...I,postcss:I,result:this.result},this.plugins=this.processor.plugins.map(X=>typeof X=="object"&&X.prepare?{...X,...X.prepare(this.result)}:X)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(P){return this.async().catch(P)}finally(P){return this.async().then(P,P)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(P,$){let y=this.result.lastPlugin;try{$&&$.addToError(P),this.error=P,P.name!=="CssSyntaxError"||P.plugin?y.postcssVersion:(P.plugin=y.postcssPlugin,P.setMessage())}catch(rt){console&&console.error&&console.error(rt)}return P}prepareVisitors(){this.listeners={};let P=($,y,rt)=>{this.listeners[y]||(this.listeners[y]=[]),this.listeners[y].push([$,rt])};for(let $ of this.plugins)if(typeof $=="object")for(let y in $){if(!k[y]&&/^[A-Z]/.test(y))throw new Error(`Unknown event ${y} in ${$.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!Z[y])if(typeof $[y]=="object")for(let rt in $[y])P($,rt==="*"?y:y+"-"+rt.toLowerCase(),$[y][rt]);else typeof $[y]=="function"&&P($,y,$[y])}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let P=0;P<this.plugins.length;P++){let $=this.plugins[P],y=this.runOnRoot($);if(Y(y))try{await y}catch(rt){throw this.handleError(rt)}}if(this.prepareVisitors(),this.hasListener){let P=this.result.root;for(;!P[E];){P[E]=!0;let $=[T(P)];for(;$.length>0;){let y=this.visitTick($);if(Y(y))try{await y}catch(rt){let X=$[$.length-1].node;throw this.handleError(rt,X)}}}if(this.listeners.OnceExit)for(let[$,y]of this.listeners.OnceExit){this.result.lastPlugin=$;try{if(P.type==="document"){let rt=P.nodes.map(X=>y(X,this.helpers));await Promise.all(rt)}else await y(P,this.helpers)}catch(rt){throw this.handleError(rt)}}}return this.processed=!0,this.stringify()}runOnRoot(P){this.result.lastPlugin=P;try{if(typeof P=="object"&&P.Once){if(this.result.root.type==="document"){let $=this.result.root.nodes.map(y=>P.Once(y,this.helpers));return Y($[0])?Promise.all($):$}return P.Once(this.result.root,this.helpers)}if(typeof P=="function")return P(this.result.root,this.result)}catch($){throw this.handleError($)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let P=this.result.opts,$=O;P.syntax&&($=P.syntax.stringify),P.stringifier&&($=P.stringifier),$.stringify&&($=$.stringify);let y=new C($,this.result.root,this.result.opts).generate();return this.result.css=y[0],this.result.map=y[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let P of this.plugins)if(Y(this.runOnRoot(P)))throw this.getAsyncError();if(this.prepareVisitors(),this.hasListener){let P=this.result.root;for(;!P[E];)P[E]=!0,this.walkSync(P);if(this.listeners.OnceExit)if(P.type==="document")for(let $ of P.nodes)this.visitSync(this.listeners.OnceExit,$);else this.visitSync(this.listeners.OnceExit,P)}return this.result}then(P,$){return this.async().then(P,$)}toString(){return this.css}visitSync(P,$){for(let[y,rt]of P){let X;this.result.lastPlugin=y;try{X=rt($,this.helpers)}catch(wt){throw this.handleError(wt,$.proxyOf)}if($.type!=="root"&&$.type!=="document"&&!$.parent)return!0;if(Y(X))throw this.getAsyncError()}}visitTick(P){let $=P[P.length-1],{node:y,visitors:rt}=$;if(y.type!=="root"&&y.type!=="document"&&!y.parent)return void P.pop();if(rt.length>0&&$.visitorIndex<rt.length){let[wt,Kt]=rt[$.visitorIndex];$.visitorIndex+=1,$.visitorIndex===rt.length&&($.visitors=[],$.visitorIndex=0),this.result.lastPlugin=wt;try{return Kt(y.toProxy(),this.helpers)}catch(Ct){throw this.handleError(Ct,y)}}if($.iterator!==0){let wt,Kt=$.iterator;for(;wt=y.nodes[y.indexes[Kt]];)if(y.indexes[Kt]+=1,!wt[E])return wt[E]=!0,void P.push(T(wt));$.iterator=0,delete y.indexes[Kt]}let X=$.events;for(;$.eventIndex<X.length;){let wt=X[$.eventIndex];if($.eventIndex+=1,wt===ot)return void(y.nodes&&y.nodes.length&&(y[E]=!0,$.iterator=y.getIterator()));if(this.listeners[wt])return void($.visitors=this.listeners[wt])}P.pop()}walkSync(P){P[E]=!0;let $=it(P);for(let y of $)if(y===ot)P.nodes&&P.each(rt=>{rt[E]||this.walkSync(rt)});else{let rt=this.listeners[y];if(rt&&this.visitSync(rt,P.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}}N.registerPostcss=G=>{I=G},x.exports=N,N.default=N,R.registerLazyResult(N),et.registerLazyResult(N)},715:x=>{let M={comma:m=>M.split(m,[","],!0),space:m=>M.split(m,[" ",`
`,"	"]),split(m,E,w){let C=[],O="",L=!1,et=0,J=!1,U="",R=!1;for(let D of m)R?R=!1:D==="\\"?R=!0:J?D===U&&(J=!1):D==='"'||D==="'"?(J=!0,U=D):D==="("?et+=1:D===")"?et>0&&(et-=1):et===0&&E.includes(D)&&(L=!0),L?(O!==""&&C.push(O.trim()),O="",L=!1):O+=D;return(w||O!=="")&&C.push(O.trim()),C}};x.exports=M,M.default=M},505:(x,M,m)=>{let{SourceMapConsumer:E,SourceMapGenerator:w}=m(209),{dirname:C,relative:O,resolve:L,sep:et}=m(830),{pathToFileURL:J}=m(414),U=m(995),R=!!(E&&w),D=!!(C&&L&&O&&et);x.exports=class{constructor(k,Z,ot,Y){this.stringify=k,this.mapOpts=ot.map||{},this.root=Z,this.opts=ot,this.css=Y,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let k;k=this.isInline()?"data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?this.mapOpts.annotation(this.opts.to,this.root):this.outputFile()+".map";let Z=`
`;this.css.includes(`\r
`)&&(Z=`\r
`),this.css+=Z+"/*# sourceMappingURL="+k+" */"}applyPrevMaps(){for(let k of this.previous()){let Z,ot=this.toUrl(this.path(k.file)),Y=k.root||C(k.file);this.mapOpts.sourcesContent===!1?(Z=new E(k.text),Z.sourcesContent&&(Z.sourcesContent=Z.sourcesContent.map(()=>null))):Z=k.consumer(),this.map.applySourceMap(Z,ot,this.toUrl(this.path(Y)))}}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let k;for(let Z=this.root.nodes.length-1;Z>=0;Z--)k=this.root.nodes[Z],k.type==="comment"&&k.text.indexOf("# sourceMappingURL=")===0&&this.root.removeChild(Z)}else this.css&&(this.css=this.css.replace(/(\n)?\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),D&&R&&this.isMap())return this.generateMap();{let k="";return this.stringify(this.root,Z=>{k+=Z}),[k]}}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let k=this.previous()[0].consumer();k.file=this.outputFile(),this.map=w.fromSourceMap(k)}else this.map=new w({file:this.outputFile()}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new w({file:this.outputFile()});let k,Z,ot=1,Y=1,it="<no source>",T={generated:{column:0,line:0},original:{column:0,line:0},source:""};this.stringify(this.root,(z,I,N)=>{if(this.css+=z,I&&N!=="end"&&(T.generated.line=ot,T.generated.column=Y-1,I.source&&I.source.start?(T.source=this.sourcePath(I),T.original.line=I.source.start.line,T.original.column=I.source.start.column-1,this.map.addMapping(T)):(T.source=it,T.original.line=1,T.original.column=0,this.map.addMapping(T))),k=z.match(/\n/g),k?(ot+=k.length,Z=z.lastIndexOf(`
`),Y=z.length-Z):Y+=z.length,I&&N!=="start"){let G=I.parent||{raws:{}};(I.type==="decl"||I.type==="atrule"&&!I.nodes)&&I===G.last&&!G.raws.semicolon||(I.source&&I.source.end?(T.source=this.sourcePath(I),T.original.line=I.source.end.line,T.original.column=I.source.end.column-1,T.generated.line=ot,T.generated.column=Y-2,this.map.addMapping(T)):(T.source=it,T.original.line=1,T.original.column=0,T.generated.line=ot,T.generated.column=Y-1,this.map.addMapping(T)))}})}isAnnotation(){return!!this.isInline()||(this.mapOpts.annotation!==void 0?this.mapOpts.annotation:!this.previous().length||this.previous().some(k=>k.annotation))}isInline(){if(this.mapOpts.inline!==void 0)return this.mapOpts.inline;let k=this.mapOpts.annotation;return(k===void 0||k===!0)&&(!this.previous().length||this.previous().some(Z=>Z.inline))}isMap(){return this.opts.map!==void 0?!!this.opts.map:this.previous().length>0}isSourcesContent(){return this.mapOpts.sourcesContent!==void 0?this.mapOpts.sourcesContent:!this.previous().length||this.previous().some(k=>k.withContent())}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(k){if(this.mapOpts.absolute||k.charCodeAt(0)===60||/^\w+:\/\//.test(k))return k;let Z=this.memoizedPaths.get(k);if(Z)return Z;let ot=this.opts.to?C(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(ot=C(L(ot,this.mapOpts.annotation)));let Y=O(ot,k);return this.memoizedPaths.set(k,Y),Y}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(k=>{if(k.source&&k.source.input.map){let Z=k.source.input.map;this.previousMaps.includes(Z)||this.previousMaps.push(Z)}});else{let k=new U(this.css,this.opts);k.map&&this.previousMaps.push(k.map)}return this.previousMaps}setSourcesContent(){let k={};if(this.root)this.root.walk(Z=>{if(Z.source){let ot=Z.source.input.from;if(ot&&!k[ot]){k[ot]=!0;let Y=this.usesFileUrls?this.toFileUrl(ot):this.toUrl(this.path(ot));this.map.setSourceContent(Y,Z.source.input.css)}}});else if(this.css){let Z=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(Z,this.css)}}sourcePath(k){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(k.source.input.from):this.toUrl(this.path(k.source.input.from))}toBase64(k){return Buffer?Buffer.from(k).toString("base64"):window.btoa(unescape(encodeURIComponent(k)))}toFileUrl(k){let Z=this.memoizedFileURLs.get(k);if(Z)return Z;if(J){let ot=J(k).toString();return this.memoizedFileURLs.set(k,ot),ot}throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(k){let Z=this.memoizedURLs.get(k);if(Z)return Z;et==="\\"&&(k=k.replace(/\\/g,"/"));let ot=encodeURI(k).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(k,ot),ot}}},647:(x,M,m)=>{let E=m(505),w=m(88),C=(m(448),m(964));const O=m(632);class L{constructor(J,U,R){let D;U=U.toString(),this.stringified=!1,this._processor=J,this._css=U,this._opts=R,this._map=void 0;let k=w;this.result=new O(this._processor,D,this._opts),this.result.css=U;let Z=this;Object.defineProperty(this.result,"root",{get:()=>Z.root});let ot=new E(k,D,this._opts,U);if(ot.isMap()){let[Y,it]=ot.generate();Y&&(this.result.css=Y),it&&(this.result.map=it)}}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(J){return this.async().catch(J)}finally(J){return this.async().then(J,J)}sync(){if(this.error)throw this.error;return this.result}then(J,U){return this.async().then(J,U)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let J,U=C;try{J=U(this._css,this._opts)}catch(R){this.error=R}if(this.error)throw this.error;return this._root=J,J}get[Symbol.toStringTag](){return"NoWorkResult"}}x.exports=L,L.default=L},631:(x,M,m)=>{let{isClean:E,my:w}=m(513),C=m(671),O=m(62),L=m(88);function et(U,R){let D=new U.constructor;for(let k in U){if(!Object.prototype.hasOwnProperty.call(U,k)||k==="proxyCache")continue;let Z=U[k],ot=typeof Z;k==="parent"&&ot==="object"?R&&(D[k]=R):k==="source"?D[k]=Z:Array.isArray(Z)?D[k]=Z.map(Y=>et(Y,D)):(ot==="object"&&Z!==null&&(Z=et(Z)),D[k]=Z)}return D}class J{constructor(R={}){this.raws={},this[E]=!1,this[w]=!0;for(let D in R)if(D==="nodes"){this.nodes=[];for(let k of R[D])typeof k.clone=="function"?this.append(k.clone()):this.append(k)}else this[D]=R[D]}addToError(R){if(R.postcssNode=this,R.stack&&this.source&&/\n\s{4}at /.test(R.stack)){let D=this.source;R.stack=R.stack.replace(/\n\s{4}at /,`$&${D.input.from}:${D.start.line}:${D.start.column}$&`)}return R}after(R){return this.parent.insertAfter(this,R),this}assign(R={}){for(let D in R)this[D]=R[D];return this}before(R){return this.parent.insertBefore(this,R),this}cleanRaws(R){delete this.raws.before,delete this.raws.after,R||delete this.raws.between}clone(R={}){let D=et(this);for(let k in R)D[k]=R[k];return D}cloneAfter(R={}){let D=this.clone(R);return this.parent.insertAfter(this,D),D}cloneBefore(R={}){let D=this.clone(R);return this.parent.insertBefore(this,D),D}error(R,D={}){if(this.source){let{end:k,start:Z}=this.rangeBy(D);return this.source.input.error(R,{column:Z.column,line:Z.line},{column:k.column,line:k.line},D)}return new C(R)}getProxyProcessor(){return{get:(R,D)=>D==="proxyOf"?R:D==="root"?()=>R.root().toProxy():R[D],set:(R,D,k)=>(R[D]===k||(R[D]=k,D!=="prop"&&D!=="value"&&D!=="name"&&D!=="params"&&D!=="important"&&D!=="text"||R.markDirty()),!0)}}markDirty(){if(this[E]){this[E]=!1;let R=this;for(;R=R.parent;)R[E]=!1}}next(){if(!this.parent)return;let R=this.parent.index(this);return this.parent.nodes[R+1]}positionBy(R,D){let k=this.source.start;if(R.index)k=this.positionInside(R.index,D);else if(R.word){let Z=(D=this.toString()).indexOf(R.word);Z!==-1&&(k=this.positionInside(Z,D))}return k}positionInside(R,D){let k=D||this.toString(),Z=this.source.start.column,ot=this.source.start.line;for(let Y=0;Y<R;Y++)k[Y]===`
`?(Z=1,ot+=1):Z+=1;return{column:Z,line:ot}}prev(){if(!this.parent)return;let R=this.parent.index(this);return this.parent.nodes[R-1]}rangeBy(R){let D={column:this.source.start.column,line:this.source.start.line},k=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:D.column+1,line:D.line};if(R.word){let Z=this.toString(),ot=Z.indexOf(R.word);ot!==-1&&(D=this.positionInside(ot,Z),k=this.positionInside(ot+R.word.length,Z))}else R.start?D={column:R.start.column,line:R.start.line}:R.index&&(D=this.positionInside(R.index)),R.end?k={column:R.end.column,line:R.end.line}:R.endIndex?k=this.positionInside(R.endIndex):R.index&&(k=this.positionInside(R.index+1));return(k.line<D.line||k.line===D.line&&k.column<=D.column)&&(k={column:D.column+1,line:D.line}),{end:k,start:D}}raw(R,D){return new O().raw(this,R,D)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...R){if(this.parent){let D=this,k=!1;for(let Z of R)Z===this?k=!0:k?(this.parent.insertAfter(D,Z),D=Z):this.parent.insertBefore(D,Z);k||this.remove()}return this}root(){let R=this;for(;R.parent&&R.parent.type!=="document";)R=R.parent;return R}toJSON(R,D){let k={},Z=D==null;D=D||new Map;let ot=0;for(let Y in this){if(!Object.prototype.hasOwnProperty.call(this,Y)||Y==="parent"||Y==="proxyCache")continue;let it=this[Y];if(Array.isArray(it))k[Y]=it.map(T=>typeof T=="object"&&T.toJSON?T.toJSON(null,D):T);else if(typeof it=="object"&&it.toJSON)k[Y]=it.toJSON(null,D);else if(Y==="source"){let T=D.get(it.input);T==null&&(T=ot,D.set(it.input,ot),ot++),k[Y]={end:it.end,inputId:T,start:it.start}}else k[Y]=it}return Z&&(k.inputs=[...D.keys()].map(Y=>Y.toJSON())),k}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(R=L){R.stringify&&(R=R.stringify);let D="";return R(this,k=>{D+=k}),D}warn(R,D,k){let Z={node:this};for(let ot in k)Z[ot]=k[ot];return R.warn(D,Z)}get proxyOf(){return this}}x.exports=J,J.default=J},964:(x,M,m)=>{let E=m(19),w=m(867),C=m(995);function O(L,et){let J=new C(L,et),U=new w(J);try{U.parse()}catch(R){throw R}return U.root}x.exports=O,O.default=O,E.registerParse(O)},867:(x,M,m)=>{let E=m(258),w=m(852),C=m(932),O=m(353),L=m(25),et=m(675);const J={empty:!0,space:!0};x.exports=class{constructor(U){this.input=U,this.root=new L,this.current=this.root,this.spaces="",this.semicolon=!1,this.customProperty=!1,this.createTokenizer(),this.root.source={input:U,start:{column:1,line:1,offset:0}}}atrule(U){let R,D,k,Z=new O;Z.name=U[1].slice(1),Z.name===""&&this.unnamedAtrule(Z,U),this.init(Z,U[2]);let ot=!1,Y=!1,it=[],T=[];for(;!this.tokenizer.endOfFile();){if(R=(U=this.tokenizer.nextToken())[0],R==="("||R==="["?T.push(R==="("?")":"]"):R==="{"&&T.length>0?T.push("}"):R===T[T.length-1]&&T.pop(),T.length===0){if(R===";"){Z.source.end=this.getPosition(U[2]),Z.source.end.offset++,this.semicolon=!0;break}if(R==="{"){Y=!0;break}if(R==="}"){if(it.length>0){for(k=it.length-1,D=it[k];D&&D[0]==="space";)D=it[--k];D&&(Z.source.end=this.getPosition(D[3]||D[2]),Z.source.end.offset++)}this.end(U);break}it.push(U)}else it.push(U);if(this.tokenizer.endOfFile()){ot=!0;break}}Z.raws.between=this.spacesAndCommentsFromEnd(it),it.length?(Z.raws.afterName=this.spacesAndCommentsFromStart(it),this.raw(Z,"params",it),ot&&(U=it[it.length-1],Z.source.end=this.getPosition(U[3]||U[2]),Z.source.end.offset++,this.spaces=Z.raws.between,Z.raws.between="")):(Z.raws.afterName="",Z.params=""),Y&&(Z.nodes=[],this.current=Z)}checkMissedSemicolon(U){let R=this.colon(U);if(R===!1)return;let D,k=0;for(let Z=R-1;Z>=0&&(D=U[Z],D[0]==="space"||(k+=1,k!==2));Z--);throw this.input.error("Missed semicolon",D[0]==="word"?D[3]+1:D[2])}colon(U){let R,D,k,Z=0;for(let[ot,Y]of U.entries()){if(R=Y,D=R[0],D==="("&&(Z+=1),D===")"&&(Z-=1),Z===0&&D===":"){if(k){if(k[0]==="word"&&k[1]==="progid")continue;return ot}this.doubleColon(R)}k=R}return!1}comment(U){let R=new C;this.init(R,U[2]),R.source.end=this.getPosition(U[3]||U[2]),R.source.end.offset++;let D=U[1].slice(2,-2);if(/^\s*$/.test(D))R.text="",R.raws.left=D,R.raws.right="";else{let k=D.match(/^(\s*)([^]*\S)(\s*)$/);R.text=k[2],R.raws.left=k[1],R.raws.right=k[3]}}createTokenizer(){this.tokenizer=w(this.input)}decl(U,R){let D=new E;this.init(D,U[0][2]);let k,Z=U[U.length-1];for(Z[0]===";"&&(this.semicolon=!0,U.pop()),D.source.end=this.getPosition(Z[3]||Z[2]||function(it){for(let T=it.length-1;T>=0;T--){let z=it[T],I=z[3]||z[2];if(I)return I}}(U)),D.source.end.offset++;U[0][0]!=="word";)U.length===1&&this.unknownWord(U),D.raws.before+=U.shift()[1];for(D.source.start=this.getPosition(U[0][2]),D.prop="";U.length;){let it=U[0][0];if(it===":"||it==="space"||it==="comment")break;D.prop+=U.shift()[1]}for(D.raws.between="";U.length;){if(k=U.shift(),k[0]===":"){D.raws.between+=k[1];break}k[0]==="word"&&/\w/.test(k[1])&&this.unknownWord([k]),D.raws.between+=k[1]}D.prop[0]!=="_"&&D.prop[0]!=="*"||(D.raws.before+=D.prop[0],D.prop=D.prop.slice(1));let ot,Y=[];for(;U.length&&(ot=U[0][0],ot==="space"||ot==="comment");)Y.push(U.shift());this.precheckMissedSemicolon(U);for(let it=U.length-1;it>=0;it--){if(k=U[it],k[1].toLowerCase()==="!important"){D.important=!0;let T=this.stringFrom(U,it);T=this.spacesFromEnd(U)+T,T!==" !important"&&(D.raws.important=T);break}if(k[1].toLowerCase()==="important"){let T=U.slice(0),z="";for(let I=it;I>0;I--){let N=T[I][0];if(z.trim().indexOf("!")===0&&N!=="space")break;z=T.pop()[1]+z}z.trim().indexOf("!")===0&&(D.important=!0,D.raws.important=z,U=T)}if(k[0]!=="space"&&k[0]!=="comment")break}U.some(it=>it[0]!=="space"&&it[0]!=="comment")&&(D.raws.between+=Y.map(it=>it[1]).join(""),Y=[]),this.raw(D,"value",Y.concat(U),R),D.value.includes(":")&&!R&&this.checkMissedSemicolon(U)}doubleColon(U){throw this.input.error("Double colon",{offset:U[2]},{offset:U[2]+U[1].length})}emptyRule(U){let R=new et;this.init(R,U[2]),R.selector="",R.raws.between="",this.current=R}end(U){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(U[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(U)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(U){if(this.spaces+=U[1],this.current.nodes){let R=this.current.nodes[this.current.nodes.length-1];R&&R.type==="rule"&&!R.raws.ownSemicolon&&(R.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(U){let R=this.input.fromOffset(U);return{column:R.col,line:R.line,offset:U}}init(U,R){this.current.push(U),U.source={input:this.input,start:this.getPosition(R)},U.raws.before=this.spaces,this.spaces="",U.type!=="comment"&&(this.semicolon=!1)}other(U){let R=!1,D=null,k=!1,Z=null,ot=[],Y=U[1].startsWith("--"),it=[],T=U;for(;T;){if(D=T[0],it.push(T),D==="("||D==="[")Z||(Z=T),ot.push(D==="("?")":"]");else if(Y&&k&&D==="{")Z||(Z=T),ot.push("}");else if(ot.length===0){if(D===";"){if(k)return void this.decl(it,Y);break}if(D==="{")return void this.rule(it);if(D==="}"){this.tokenizer.back(it.pop()),R=!0;break}D===":"&&(k=!0)}else D===ot[ot.length-1]&&(ot.pop(),ot.length===0&&(Z=null));T=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(R=!0),ot.length>0&&this.unclosedBracket(Z),R&&k){if(!Y)for(;it.length&&(T=it[it.length-1][0],T==="space"||T==="comment");)this.tokenizer.back(it.pop());this.decl(it,Y)}else this.unknownWord(it)}parse(){let U;for(;!this.tokenizer.endOfFile();)switch(U=this.tokenizer.nextToken(),U[0]){case"space":this.spaces+=U[1];break;case";":this.freeSemicolon(U);break;case"}":this.end(U);break;case"comment":this.comment(U);break;case"at-word":this.atrule(U);break;case"{":this.emptyRule(U);break;default:this.other(U)}this.endFile()}precheckMissedSemicolon(){}raw(U,R,D,k){let Z,ot,Y,it,T=D.length,z="",I=!0;for(let N=0;N<T;N+=1)Z=D[N],ot=Z[0],ot!=="space"||N!==T-1||k?ot==="comment"?(it=D[N-1]?D[N-1][0]:"empty",Y=D[N+1]?D[N+1][0]:"empty",J[it]||J[Y]||z.slice(-1)===","?I=!1:z+=Z[1]):z+=Z[1]:I=!1;if(!I){let N=D.reduce((G,P)=>G+P[1],"");U.raws[R]={raw:N,value:z}}U[R]=z}rule(U){U.pop();let R=new et;this.init(R,U[0][2]),R.raws.between=this.spacesAndCommentsFromEnd(U),this.raw(R,"selector",U),this.current=R}spacesAndCommentsFromEnd(U){let R,D="";for(;U.length&&(R=U[U.length-1][0],R==="space"||R==="comment");)D=U.pop()[1]+D;return D}spacesAndCommentsFromStart(U){let R,D="";for(;U.length&&(R=U[0][0],R==="space"||R==="comment");)D+=U.shift()[1];return D}spacesFromEnd(U){let R,D="";for(;U.length&&(R=U[U.length-1][0],R==="space");)D=U.pop()[1]+D;return D}stringFrom(U,R){let D="";for(let k=R;k<U.length;k++)D+=U[k][1];return U.splice(R,U.length-R),D}unclosedBlock(){let U=this.current.source.start;throw this.input.error("Unclosed block",U.line,U.column)}unclosedBracket(U){throw this.input.error("Unclosed bracket",{offset:U[2]},{offset:U[2]+1})}unexpectedClose(U){throw this.input.error("Unexpected }",{offset:U[2]},{offset:U[2]+1})}unknownWord(U){throw this.input.error("Unknown word",{offset:U[0][2]},{offset:U[0][2]+U[0][1].length})}unnamedAtrule(U,R){throw this.input.error("At-rule without name",{offset:R[2]},{offset:R[2]+R[1].length})}}},20:(x,M,m)=>{let E=m(671),w=m(258),C=m(939),O=m(19),L=m(723),et=m(88),J=m(250),U=m(461),R=m(728),D=m(932),k=m(353),Z=m(632),ot=m(995),Y=m(964),it=m(715),T=m(675),z=m(25),I=m(631);function N(...G){return G.length===1&&Array.isArray(G[0])&&(G=G[0]),new L(G)}N.plugin=function(G,P){let $,y=!1;function rt(...X){console&&console.warn&&!y&&(y=!0,console.warn(G+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),bt.LANG&&bt.LANG.startsWith("cn")&&console.warn(G+`: 里面 postcss.plugin 被弃用. 迁移指南:
https://www.w3ctech.com/topic/2226`));let wt=P(...X);return wt.postcssPlugin=G,wt.postcssVersion=new L().version,wt}return Object.defineProperty(rt,"postcss",{get:()=>($||($=rt()),$)}),rt.process=function(X,wt,Kt){return N([rt(Kt)]).process(X,wt)},rt},N.stringify=et,N.parse=Y,N.fromJSON=J,N.list=it,N.comment=G=>new D(G),N.atRule=G=>new k(G),N.decl=G=>new w(G),N.rule=G=>new T(G),N.root=G=>new z(G),N.document=G=>new U(G),N.CssSyntaxError=E,N.Declaration=w,N.Container=O,N.Processor=L,N.Document=U,N.Comment=D,N.Warning=R,N.AtRule=k,N.Result=Z,N.Input=ot,N.Rule=T,N.Root=z,N.Node=I,C.registerPostcss(N),x.exports=N,N.default=N},981:(x,M,m)=>{let{SourceMapConsumer:E,SourceMapGenerator:w}=m(209),{existsSync:C,readFileSync:O}=m(777),{dirname:L,join:et}=m(830);class J{constructor(R,D){if(D.map===!1)return;this.loadAnnotation(R),this.inline=this.startWith(this.annotation,"data:");let k=D.map?D.map.prev:void 0,Z=this.loadMap(D.from,k);!this.mapFile&&D.from&&(this.mapFile=D.from),this.mapFile&&(this.root=L(this.mapFile)),Z&&(this.text=Z)}consumer(){return this.consumerCache||(this.consumerCache=new E(this.text)),this.consumerCache}decodeInline(R){if(/^data:application\/json;charset=utf-?8,/.test(R)||/^data:application\/json,/.test(R))return decodeURIComponent(R.substr(RegExp.lastMatch.length));if(/^data:application\/json;charset=utf-?8;base64,/.test(R)||/^data:application\/json;base64,/.test(R))return D=R.substr(RegExp.lastMatch.length),Buffer?Buffer.from(D,"base64").toString():window.atob(D);var D;let k=R.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+k)}getAnnotationURL(R){return R.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(R){return typeof R=="object"&&(typeof R.mappings=="string"||typeof R._mappings=="string"||Array.isArray(R.sections))}loadAnnotation(R){let D=R.match(/\/\*\s*# sourceMappingURL=/gm);if(!D)return;let k=R.lastIndexOf(D.pop()),Z=R.indexOf("*/",k);k>-1&&Z>-1&&(this.annotation=this.getAnnotationURL(R.substring(k,Z)))}loadFile(R){if(this.root=L(R),C(R))return this.mapFile=R,O(R,"utf-8").toString().trim()}loadMap(R,D){if(D===!1)return!1;if(D){if(typeof D=="string")return D;if(typeof D!="function"){if(D instanceof E)return w.fromSourceMap(D).toString();if(D instanceof w)return D.toString();if(this.isMap(D))return JSON.stringify(D);throw new Error("Unsupported previous source map format: "+D.toString())}{let k=D(R);if(k){let Z=this.loadFile(k);if(!Z)throw new Error("Unable to load previous source map: "+k.toString());return Z}}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let k=this.annotation;return R&&(k=et(L(R),k)),this.loadFile(k)}}}startWith(R,D){return!!R&&R.substr(0,D.length)===D}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}}x.exports=J,J.default=J},723:(x,M,m)=>{let E=m(647),w=m(939),C=m(461),O=m(25);class L{constructor(J=[]){this.version="8.4.31",this.plugins=this.normalize(J)}normalize(J){let U=[];for(let R of J)if(R.postcss===!0?R=R():R.postcss&&(R=R.postcss),typeof R=="object"&&Array.isArray(R.plugins))U=U.concat(R.plugins);else if(typeof R=="object"&&R.postcssPlugin)U.push(R);else if(typeof R=="function")U.push(R);else if(typeof R!="object"||!R.parse&&!R.stringify)throw new Error(R+" is not a PostCSS plugin");return U}process(J,U={}){return this.plugins.length===0&&U.parser===void 0&&U.stringifier===void 0&&U.syntax===void 0?new E(this,J,U):new w(this,J,U)}use(J){return this.plugins=this.plugins.concat(this.normalize([J])),this}}x.exports=L,L.default=L,O.registerProcessor(L),C.registerProcessor(L)},632:(x,M,m)=>{let E=m(728);class w{constructor(O,L,et){this.processor=O,this.messages=[],this.root=L,this.opts=et,this.css=void 0,this.map=void 0}toString(){return this.css}warn(O,L={}){L.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(L.plugin=this.lastPlugin.postcssPlugin);let et=new E(O,L);return this.messages.push(et),et}warnings(){return this.messages.filter(O=>O.type==="warning")}get content(){return this.css}}x.exports=w,w.default=w},25:(x,M,m)=>{let E,w,C=m(19);class O extends C{constructor(et){super(et),this.type="root",this.nodes||(this.nodes=[])}normalize(et,J,U){let R=super.normalize(et);if(J){if(U==="prepend")this.nodes.length>1?J.raws.before=this.nodes[1].raws.before:delete J.raws.before;else if(this.first!==J)for(let D of R)D.raws.before=J.raws.before}return R}removeChild(et,J){let U=this.index(et);return!J&&U===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[U].raws.before),super.removeChild(et)}toResult(et={}){return new E(new w,this,et).stringify()}}O.registerLazyResult=L=>{E=L},O.registerProcessor=L=>{w=L},x.exports=O,O.default=O,C.registerRoot(O)},675:(x,M,m)=>{let E=m(19),w=m(715);class C extends E{constructor(L){super(L),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return w.comma(this.selector)}set selectors(L){let et=this.selector?this.selector.match(/,\s*/):null,J=et?et[0]:","+this.raw("between","beforeOpen");this.selector=L.join(J)}}x.exports=C,C.default=C,E.registerRule(C)},62:x=>{const M={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};class m{constructor(w){this.builder=w}atrule(w,C){let O="@"+w.name,L=w.params?this.rawValue(w,"params"):"";if(w.raws.afterName!==void 0?O+=w.raws.afterName:L&&(O+=" "),w.nodes)this.block(w,O+L);else{let et=(w.raws.between||"")+(C?";":"");this.builder(O+L+et,w)}}beforeAfter(w,C){let O;O=w.type==="decl"?this.raw(w,null,"beforeDecl"):w.type==="comment"?this.raw(w,null,"beforeComment"):C==="before"?this.raw(w,null,"beforeRule"):this.raw(w,null,"beforeClose");let L=w.parent,et=0;for(;L&&L.type!=="root";)et+=1,L=L.parent;if(O.includes(`
`)){let J=this.raw(w,null,"indent");if(J.length)for(let U=0;U<et;U++)O+=J}return O}block(w,C){let O,L=this.raw(w,"between","beforeOpen");this.builder(C+L+"{",w,"start"),w.nodes&&w.nodes.length?(this.body(w),O=this.raw(w,"after")):O=this.raw(w,"after","emptyBody"),O&&this.builder(O),this.builder("}",w,"end")}body(w){let C=w.nodes.length-1;for(;C>0&&w.nodes[C].type==="comment";)C-=1;let O=this.raw(w,"semicolon");for(let L=0;L<w.nodes.length;L++){let et=w.nodes[L],J=this.raw(et,"before");J&&this.builder(J),this.stringify(et,C!==L||O)}}comment(w){let C=this.raw(w,"left","commentLeft"),O=this.raw(w,"right","commentRight");this.builder("/*"+C+w.text+O+"*/",w)}decl(w,C){let O=this.raw(w,"between","colon"),L=w.prop+O+this.rawValue(w,"value");w.important&&(L+=w.raws.important||" !important"),C&&(L+=";"),this.builder(L,w)}document(w){this.body(w)}raw(w,C,O){let L;if(O||(O=C),C&&(L=w.raws[C],L!==void 0))return L;let et=w.parent;if(O==="before"&&(!et||et.type==="root"&&et.first===w||et&&et.type==="document"))return"";if(!et)return M[O];let J=w.root();if(J.rawCache||(J.rawCache={}),J.rawCache[O]!==void 0)return J.rawCache[O];if(O==="before"||O==="after")return this.beforeAfter(w,O);{let R="raw"+((U=O)[0].toUpperCase()+U.slice(1));this[R]?L=this[R](J,w):J.walk(D=>{if(L=D.raws[C],L!==void 0)return!1})}var U;return L===void 0&&(L=M[O]),J.rawCache[O]=L,L}rawBeforeClose(w){let C;return w.walk(O=>{if(O.nodes&&O.nodes.length>0&&O.raws.after!==void 0)return C=O.raws.after,C.includes(`
`)&&(C=C.replace(/[^\n]+$/,"")),!1}),C&&(C=C.replace(/\S/g,"")),C}rawBeforeComment(w,C){let O;return w.walkComments(L=>{if(L.raws.before!==void 0)return O=L.raws.before,O.includes(`
`)&&(O=O.replace(/[^\n]+$/,"")),!1}),O===void 0?O=this.raw(C,null,"beforeDecl"):O&&(O=O.replace(/\S/g,"")),O}rawBeforeDecl(w,C){let O;return w.walkDecls(L=>{if(L.raws.before!==void 0)return O=L.raws.before,O.includes(`
`)&&(O=O.replace(/[^\n]+$/,"")),!1}),O===void 0?O=this.raw(C,null,"beforeRule"):O&&(O=O.replace(/\S/g,"")),O}rawBeforeOpen(w){let C;return w.walk(O=>{if(O.type!=="decl"&&(C=O.raws.between,C!==void 0))return!1}),C}rawBeforeRule(w){let C;return w.walk(O=>{if(O.nodes&&(O.parent!==w||w.first!==O)&&O.raws.before!==void 0)return C=O.raws.before,C.includes(`
`)&&(C=C.replace(/[^\n]+$/,"")),!1}),C&&(C=C.replace(/\S/g,"")),C}rawColon(w){let C;return w.walkDecls(O=>{if(O.raws.between!==void 0)return C=O.raws.between.replace(/[^\s:]/g,""),!1}),C}rawEmptyBody(w){let C;return w.walk(O=>{if(O.nodes&&O.nodes.length===0&&(C=O.raws.after,C!==void 0))return!1}),C}rawIndent(w){if(w.raws.indent)return w.raws.indent;let C;return w.walk(O=>{let L=O.parent;if(L&&L!==w&&L.parent&&L.parent===w&&O.raws.before!==void 0){let et=O.raws.before.split(`
`);return C=et[et.length-1],C=C.replace(/\S/g,""),!1}}),C}rawSemicolon(w){let C;return w.walk(O=>{if(O.nodes&&O.nodes.length&&O.last.type==="decl"&&(C=O.raws.semicolon,C!==void 0))return!1}),C}rawValue(w,C){let O=w[C],L=w.raws[C];return L&&L.value===O?L.raw:O}root(w){this.body(w),w.raws.after&&this.builder(w.raws.after)}rule(w){this.block(w,this.rawValue(w,"selector")),w.raws.ownSemicolon&&this.builder(w.raws.ownSemicolon,w,"end")}stringify(w,C){if(!this[w.type])throw new Error("Unknown AST node type "+w.type+". Maybe you need to change PostCSS stringifier.");this[w.type](w,C)}}x.exports=m,m.default=m},88:(x,M,m)=>{let E=m(62);function w(C,O){new E(O).stringify(C)}x.exports=w,w.default=w},513:x=>{x.exports.isClean=Symbol("isClean"),x.exports.my=Symbol("my")},852:x=>{const I=/[\t\n\f\r "#'()/;[\\\]{}]/g,N=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,G=/.[\r\n"'(/\\]/,P=/[\da-f]/i;x.exports=function($,y={}){let rt,X,wt,Kt,Ct,Ut,zt,Nt,Qt,Ot,Dt=$.css.valueOf(),Wt=y.ignoreErrors,oe=Dt.length,$t=0,Jt=[],ue=[];function Ne(tr){throw $.error("Unclosed "+tr,$t)}return{back:function(tr){ue.push(tr)},endOfFile:function(){return ue.length===0&&$t>=oe},nextToken:function(tr){if(ue.length)return ue.pop();if($t>=oe)return;let ir=!!tr&&tr.ignoreUnclosed;switch(rt=Dt.charCodeAt($t),rt){case 10:case 32:case 9:case 13:case 12:X=$t;do X+=1,rt=Dt.charCodeAt(X);while(rt===32||rt===10||rt===9||rt===13||rt===12);Ot=["space",Dt.slice($t,X)],$t=X-1;break;case 91:case 93:case 123:case 125:case 58:case 59:case 41:{let rr=String.fromCharCode(rt);Ot=[rr,rr,$t];break}case 40:if(Nt=Jt.length?Jt.pop()[1]:"",Qt=Dt.charCodeAt($t+1),Nt==="url"&&Qt!==39&&Qt!==34&&Qt!==32&&Qt!==10&&Qt!==9&&Qt!==12&&Qt!==13){X=$t;do{if(Ut=!1,X=Dt.indexOf(")",X+1),X===-1){if(Wt||ir){X=$t;break}Ne("bracket")}for(zt=X;Dt.charCodeAt(zt-1)===92;)zt-=1,Ut=!Ut}while(Ut);Ot=["brackets",Dt.slice($t,X+1),$t,X],$t=X}else X=Dt.indexOf(")",$t+1),Kt=Dt.slice($t,X+1),X===-1||G.test(Kt)?Ot=["(","(",$t]:(Ot=["brackets",Kt,$t,X],$t=X);break;case 39:case 34:wt=rt===39?"'":'"',X=$t;do{if(Ut=!1,X=Dt.indexOf(wt,X+1),X===-1){if(Wt||ir){X=$t+1;break}Ne("string")}for(zt=X;Dt.charCodeAt(zt-1)===92;)zt-=1,Ut=!Ut}while(Ut);Ot=["string",Dt.slice($t,X+1),$t,X],$t=X;break;case 64:I.lastIndex=$t+1,I.test(Dt),X=I.lastIndex===0?Dt.length-1:I.lastIndex-2,Ot=["at-word",Dt.slice($t,X+1),$t,X],$t=X;break;case 92:for(X=$t,Ct=!0;Dt.charCodeAt(X+1)===92;)X+=1,Ct=!Ct;if(rt=Dt.charCodeAt(X+1),Ct&&rt!==47&&rt!==32&&rt!==10&&rt!==9&&rt!==13&&rt!==12&&(X+=1,P.test(Dt.charAt(X)))){for(;P.test(Dt.charAt(X+1));)X+=1;Dt.charCodeAt(X+1)===32&&(X+=1)}Ot=["word",Dt.slice($t,X+1),$t,X],$t=X;break;default:rt===47&&Dt.charCodeAt($t+1)===42?(X=Dt.indexOf("*/",$t+2)+1,X===0&&(Wt||ir?X=Dt.length:Ne("comment")),Ot=["comment",Dt.slice($t,X+1),$t,X],$t=X):(N.lastIndex=$t+1,N.test(Dt),X=N.lastIndex===0?Dt.length-1:N.lastIndex-2,Ot=["word",Dt.slice($t,X+1),$t,X],Jt.push(Ot),$t=X)}return $t++,Ot},position:function(){return $t}}}},448:x=>{let M={};x.exports=function(m){M[m]||(M[m]=!0,typeof console<"u"&&console.warn&&console.warn(m))}},728:x=>{class M{constructor(E,w={}){if(this.type="warning",this.text=E,w.node&&w.node.source){let C=w.node.rangeBy(w);this.line=C.start.line,this.column=C.start.column,this.endLine=C.end.line,this.endColumn=C.end.column}for(let C in w)this[C]=w[C]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}x.exports=M,M.default=M},868:()=>{},777:()=>{},830:()=>{},209:()=>{},414:()=>{},961:x=>{let M="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";x.exports={nanoid:(m=21)=>{let E="",w=m;for(;w--;)E+=M[64*Math.random()|0];return E},customAlphabet:(m,E=21)=>(w=E)=>{let C="",O=w;for(;O--;)C+=m[Math.random()*m.length|0];return C}}}},ht={};function tt(x){var M=ht[x];if(M!==void 0)return M.exports;var m=ht[x]={exports:{}};return ct[x](m,m.exports,tt),m.exports}tt.d=(x,M)=>{for(var m in M)tt.o(M,m)&&!tt.o(x,m)&&Object.defineProperty(x,m,{enumerable:!0,get:M[m]})},tt.o=(x,M)=>Object.prototype.hasOwnProperty.call(x,M),tt.r=x=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(x,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(x,"__esModule",{value:!0})};var q={};return(()=>{tt.r(q),tt.d(q,{default:()=>O});var x=tt(20);const M=x;x.stringify,x.fromJSON,x.plugin,x.parse,x.list,x.document,x.comment,x.atRule,x.rule,x.decl,x.root,x.CssSyntaxError,x.Declaration,x.Container,x.Processor,x.Document,x.Comment,x.Warning,x.AtRule,x.Result,x.Input,x.Rule,x.Root,x.Node;var m=function(){return m=Object.assign||function(L){for(var et,J=1,U=arguments.length;J<U;J++)for(var R in et=arguments[J])Object.prototype.hasOwnProperty.call(et,R)&&(L[R]=et[R]);return L},m.apply(this,arguments)},E=function(L,et){return L&&L.log(et,{ns:"parser-poscss"})},w=function(L){var et=L.nodes||[],J={};return et.forEach(function(U){var R=U.prop,D=U.value,k=U.important;J[R]=D+(k?" !important":"")}),{selectors:L.selector||"",style:J}};const C=function(L,et){var J=[];E(et,["Input CSS",L]);var U=M().process(L).sync().root;return E(et,["PostCSS AST",U]),U.nodes.forEach(function(R){switch(R.type){case"rule":J.push(w(R));break;case"atrule":(function(D,k){var Z=D.name,ot=D.params;["media","keyframes"].indexOf(Z)>=0?D.nodes.forEach(function(Y){k.push(m(m({},w(Y)),{atRule:Z,params:ot}))}):k.push(m(m({},w(D)),{atRule:Z}))})(R,J)}}),E(et,["Output",J]),J},O=function(L){L.setCustomParserCss(C)}})(),q})())})(ov);var _w=ov.exports;const xw=gi(_w);var iv={exports:{}};/*! grapesjs-preset-webpage - 1.0.3 */(function(V,vt){(function(bt,ct){V.exports=ct()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:Wi,()=>(()=>{var bt={d:(L,et)=>{for(var J in et)bt.o(et,J)&&!bt.o(L,J)&&Object.defineProperty(L,J,{enumerable:!0,get:et[J]})},o:(L,et)=>Object.prototype.hasOwnProperty.call(L,et),r:L=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(L,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(L,"__esModule",{value:!0})}},ct={};bt.r(ct),bt.d(ct,{default:()=>O});var ht=function(){return ht=Object.assign||function(L){for(var et,J=1,U=arguments.length;J<U;J++)for(var R in et=arguments[J])Object.prototype.hasOwnProperty.call(et,R)&&(L[R]=et[R]);return L},ht.apply(this,arguments)},tt="gjs-open-import-webpage",q="set-device-desktop",x="set-device-tablet",M="set-device-mobile",m="canvas-clear",E=function(){return E=Object.assign||function(L){for(var et,J=1,U=arguments.length;J<U;J++)for(var R in et=arguments[J])Object.prototype.hasOwnProperty.call(et,R)&&(L[R]=et[R]);return L},E.apply(this,arguments)};const w=function(L,et){var J=L.Commands,U=et.textCleanCanvas;(function(R,D){var k=R.getConfig("stylePrefix"),Z=D.modalImportLabel,ot=D.modalImportContent;R.Commands.add(tt,{codeViewer:null,container:null,run:function(Y){var it=typeof ot=="function"?ot(Y):ot,T=this.getCodeViewer();Y.Modal.open({title:D.modalImportTitle,content:this.getContainer()}).onceClose(function(){return Y.stopCommand(tt)}),T.setContent(it??""),T.refresh(),setTimeout(function(){return T.focus()},0)},stop:function(){R.Modal.close()},getContainer:function(){if(!this.container){var Y=this.getCodeViewer(),it=document.createElement("div");if(it.className="".concat(k,"import-container"),Z){var T=document.createElement("div");T.className="".concat(k,"import-label"),T.innerHTML=Z,it.appendChild(T)}it.appendChild(Y.getElement());var z=document.createElement("button");z.type="button",z.innerHTML=D.modalImportButton,z.className="".concat(k,"btn-prim ").concat(k,"btn-import"),z.onclick=function(){R.Css.clear(),R.setComponents(Y.getContent().trim()),R.Modal.close()},it.appendChild(z),this.container=it}return this.container},getCodeViewer:function(){return this.codeViewer||(this.codeViewer=R.CodeManager.createViewer(E({codeName:"htmlmixed",theme:"hopscotch",readOnly:!1},D.importViewerOptions))),this.codeViewer}})})(L,et),J.add(q,{run:function(R){return R.setDevice("Desktop")},stop:function(){}}),J.add(x,{run:function(R){return R.setDevice("Tablet")},stop:function(){}}),J.add(M,{run:function(R){return R.setDevice("Mobile portrait")},stop:function(){}}),J.add(m,function(R){return confirm(U)&&R.runCommand("core:canvas-clear")})};var C=function(){return C=Object.assign||function(L){for(var et,J=1,U=arguments.length;J<U;J++)for(var R in et=arguments[J])Object.prototype.hasOwnProperty.call(et,R)&&(L[R]=et[R]);return L},C.apply(this,arguments)};const O=function(L,et){et===void 0&&(et={});var J=C({blocks:["link-block","quote","text-basic"],block:function(){return{}},modalImportTitle:"Import",modalImportButton:"Import",modalImportLabel:"",modalImportContent:"",importViewerOptions:{},textCleanCanvas:"Are you sure you want to clear the canvas?",showStylesOnChange:!0,useCustomTheme:!0},et);if(J.useCustomTheme&&typeof window<"u"){var U="gjs-",R="";[["one","#463a3c"],["two","#b9a5a6"],["three","#804f7b"],["four","#d97aa6"]].forEach(function(k){var Z=k[0],ot=k[1];R+=`
        .`.concat(U).concat(Z,`-bg {
          background-color: `).concat(ot,`;
        }

        .`).concat(U).concat(Z,`-color {
          color: `).concat(ot,`;
        }

        .`).concat(U).concat(Z,`-color-h:hover {
          color: `).concat(ot,`;
        }
      `)});var D=document.createElement("style");D.innerText=R,document.head.appendChild(D)}(function(k,Z){var ot=function(Y,it){Z.blocks.indexOf(Y)>=0&&k.Blocks.add(Y,ht(ht({select:!0,category:"Basic"},it),Z.block(Y)))};ot("link-block",{label:"Link Block",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z"></path>
    </svg>`,content:{type:"link",editable:!1,droppable:!0,style:{display:"inline-block",padding:"5px","min-height":"50px","min-width":"50px"}}}),ot("quote",{label:"Quote",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M14,17H17L19,13V7H13V13H16M6,17H9L11,13V7H5V13H8L6,17Z" />
    </svg>`,content:`<blockquote class="quote">
        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore ipsum dolor sit
      </blockquote>`}),ot("text-basic",{label:"Text section",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M21,6V8H3V6H21M3,18H12V16H3V18M3,13H21V11H3V13Z" />
    </svg>`,content:`<section class="bdg-sect">
      <h1 class="heading">Insert title here</h1>
      <p class="paragraph">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua</p>
      </section>`})})(L,J),w(L,J),function(k,Z){var ot=k.Panels,Y=k.getConfig(),it="sw-visibility",T="export-template",z="open-sm",I="open-tm",N="open-layers",G="open-blocks",P="fullscreen",$="preview",y='style="display: block; max-width:22px"';Y.showDevices=!1,ot.getPanels().reset([{id:"commands",buttons:[{}]},{id:"devices-c",buttons:[{id:q,command:q,active:!0,label:"<svg ".concat(y,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M21,16H3V4H21M21,2H3C1.89,2 1,2.89 1,4V16A2,2 0 0,0 3,18H10V20H8V22H16V20H14V18H21A2,2 0 0,0 23,16V4C23,2.89 22.1,2 21,2Z" />
        </svg>`)},{id:x,command:x,label:"<svg ".concat(y,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M19,18H5V6H19M21,4H3C1.89,4 1,4.89 1,6V18A2,2 0 0,0 3,20H21A2,2 0 0,0 23,18V6C23,4.89 22.1,4 21,4Z" />
        </svg>`)},{id:M,command:M,label:"<svg ".concat(y,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M17,19H7V5H17M17,1H7C5.89,1 5,1.89 5,3V21A2,2 0 0,0 7,23H17A2,2 0 0,0 19,21V3C19,1.89 18.1,1 17,1Z" />
        </svg>`)}]},{id:"options",buttons:[{id:it,command:it,context:it,label:"<svg ".concat(y,` viewBox="0 0 24 24">
        <path fill="currentColor" d="M15,5H17V3H15M15,21H17V19H15M11,5H13V3H11M19,5H21V3H19M19,9H21V7H19M19,21H21V19H19M19,13H21V11H19M19,17H21V15H19M3,5H5V3H3M3,9H5V7H3M3,13H5V11H3M3,17H5V15H3M3,21H5V19H3M11,21H13V19H11M7,21H9V19H7M7,5H9V3H7V5Z" />
    </svg>`)},{id:$,context:$,command:function(){return k.runCommand($)},label:"<svg ".concat(y,' viewBox="0 0 24 24"><path fill="currentColor" d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z"></path></svg>')},{id:P,command:P,context:P,label:"<svg ".concat(y,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M5,5H10V7H7V10H5V5M14,5H19V10H17V7H14V5M17,14H19V19H14V17H17V14M10,17V19H5V14H7V17H10Z" />
        </svg>`)},{id:T,command:function(){return k.runCommand(T)},label:"<svg ".concat(y,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M12.89,3L14.85,3.4L11.11,21L9.15,20.6L12.89,3M19.59,12L16,8.41V5.58L22.42,12L16,18.41V15.58L19.59,12M1.58,12L8,5.58V8.41L4.41,12L8,15.58V18.41L1.58,12Z" />
        </svg>`)},{id:"undo",command:function(){return k.runCommand("core:undo")},label:"<svg ".concat(y,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M20 13.5C20 17.09 17.09 20 13.5 20H6V18H13.5C16 18 18 16 18 13.5S16 9 13.5 9H7.83L10.91 12.09L9.5 13.5L4 8L9.5 2.5L10.92 3.91L7.83 7H13.5C17.09 7 20 9.91 20 13.5Z" />
        </svg>`)},{id:"redo",command:function(){return k.runCommand("core:redo")},label:"<svg ".concat(y,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M10.5 18H18V20H10.5C6.91 20 4 17.09 4 13.5S6.91 7 10.5 7H16.17L13.08 3.91L14.5 2.5L20 8L14.5 13.5L13.09 12.09L16.17 9H10.5C8 9 6 11 6 13.5S8 18 10.5 18Z" />
        </svg>`)},{id:tt,command:function(){return k.runCommand(tt)},label:"<svg ".concat(y,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z" />
        </svg>`)},{id:m,command:function(){return k.runCommand(m)},label:"<svg ".concat(y,` viewBox="0 0 24 24">
              <path fill="currentColor" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" />
          </svg>`)}]},{id:"views",buttons:[{id:z,command:z,active:!0,label:"<svg ".concat(y,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M20.71,4.63L19.37,3.29C19,2.9 18.35,2.9 17.96,3.29L9,12.25L11.75,15L20.71,6.04C21.1,5.65 21.1,5 20.71,4.63M7,14A3,3 0 0,0 4,17C4,18.31 2.84,19 2,19C2.92,20.22 4.5,21 6,21A4,4 0 0,0 10,17A3,3 0 0,0 7,14Z" />
        </svg>`)},{id:I,command:I,label:"<svg ".concat(y,` viewBox="0 0 24 24">
          <path fill="currentColor" d="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z" />
      </svg>`)},{id:N,command:N,label:"<svg ".concat(y,` viewBox="0 0 24 24">
          <path fill="currentColor" d="M12,16L19.36,10.27L21,9L12,2L3,9L4.63,10.27M12,18.54L4.62,12.81L3,14.07L12,21.07L21,14.07L19.37,12.8L12,18.54Z" />
      </svg>`)},{id:G,command:G,label:"<svg ".concat(y,` viewBox="0 0 24 24">
          <path fill="currentColor" d="M17,13H13V17H11V13H7V11H11V7H13V11H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z" />
      </svg>`)}]}]);var rt=ot.getButton("views",G);k.on("load",function(){return rt==null?void 0:rt.set("active",!0)}),Z.showStylesOnChange&&k.on("component:selected",function(){var X=ot.getButton("views",z),wt=ot.getButton("views",N);wt&&wt.get("active")||!k.getSelected()||X==null||X.set("active",!0)})}(L,J)};return ct})())})(iv);var Cw=iv.exports;const Sw=gi(Cw);var av={exports:{}};/*! grapesjs-tooltip - 0.1.8 */(function(V,vt){(function(bt,ct){V.exports=ct()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:Wi,()=>(()=>{var bt={d:(q,x)=>{for(var M in x)bt.o(x,M)&&!bt.o(q,M)&&Object.defineProperty(q,M,{enumerable:!0,get:x[M]})},o:(q,x)=>Object.prototype.hasOwnProperty.call(q,x),r:q=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(q,"__esModule",{value:!0})}},ct={};bt.r(ct),bt.d(ct,{default:()=>tt});var ht=function(){return ht=Object.assign||function(q){for(var x,M=1,m=arguments.length;M<m;M++)for(var E in x=arguments[M])Object.prototype.hasOwnProperty.call(x,E)&&(q[E]=x[E]);return q},ht.apply(this,arguments)};const tt=function(q,x){var M;x===void 0&&(x={});var m=ht({id:"tooltip",labelTooltip:"Tooltip",blockTooltip:{},propsTooltip:{},extendTraits:function(I){return I},attrTooltip:"data-tooltip",classTooltip:"tooltip-component",style:"",styleAdditional:"",privateClasses:!0,stylableTooltip:["background-color","padding","padding-top","padding-right","padding-bottom","padding-left","font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","border-radius","border-top-left-radius","border-top-right-radius","border-bottom-left-radius","border-bottom-right-radius","border","border-width","border-style","border-color"],showTooltipOnStyle:!0},x),E=m.propsTooltip,w=m.classTooltip,C=m.style,O=m.styleAdditional,L=m.privateClasses,et=m.stylableTooltip,J=m.showTooltipOnStyle,U=m.blockTooltip,R=m.extendTraits,D=m.id,k=m.labelTooltip,Z=m.attrTooltip;U&&q.BlockManager.add(D,ht({media:`<svg viewBox="0 0 24 24">
          <path d="M4 2h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2h-4l-4 4-4-4H4c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2m0 2v12h4.83L12 19.17 15.17 16H20V4H4z"></path>
        </svg>`,label:k,category:"Extra",select:!0,content:{type:D}},U));var ot="".concat(w,"__body"),Y="".concat(w,"--empty"),it="".concat(Z,"-visible"),T="".concat(Z,"-pos"),z="".concat(Z,"-length");L&&q.SelectorManager.getAll().add([{private:1,name:w},{private:1,name:ot},{private:1,name:Y}]),q.Components.addType(D,{isComponent:function(I){var N;return(N=I.hasAttribute)===null||N===void 0?void 0:N.call(I,Z)},model:{defaults:ht({name:k,classes:[w],attributes:(M={},M[Z]=k,M),styles:(C||`
          .`.concat(w,` {
            position: relative;
            display: inline-block;
            vertical-align: top;
          }

          .`).concat(Y,` {
            width: 50px;
            height: 50px;
          }

          .`).concat(ot,`,
          [`).concat(Z,`]::after {
            font-family: Helvetica, sans-serif;
            background: rgba(55, 61, 73, 0.95);
            border-radius: 3px;
            bottom: 100%;
            color: #fff;
            content: attr(`).concat(Z,`);
            display: block;
            font-size: 12px;
            left: 50%;
            line-height: normal;
            max-width: 32rem;
            opacity: 0;
            overflow: hidden;
            padding: 8px 16px;
            pointer-events: none;
            position: absolute;
            text-overflow: ellipsis;
            transform: translate(-50%, 0);
            transition: opacity 0.25s, transform 0.25s;
            white-space: nowrap;
            box-sizing: border-box;
            z-index: 10;
          }

          [`).concat(it,`=true]::after,
          [`).concat(Z,`]:focus::after,
          [`).concat(Z,`]:hover::after {
            opacity: 1;
            transform: translate(-50%, -0.5rem);
          }

          [`).concat(T,`=right]::after {
            bottom: 50%;
            left: 100%;
            transform: translate(0, 50%);
          }

          [`).concat(T,`=right]:focus::after,
          [`).concat(T,`=right]:hover::after,
          [`).concat(it,"=true][").concat(T,`=right]::after {
            transform: translate(0.5rem, 50%);
          }

          [`).concat(T,`=bottom]::after {
            bottom: auto;
            top: 100%;
            transform: translate(-50%, 0);
          }

          [`).concat(T,`=bottom]:focus::after,
          [`).concat(T,`=bottom]:hover::after,
          [`).concat(it,"=true][").concat(T,`=bottom]::after {
            transform: translate(-50%, 0.5rem);
          }

          [`).concat(T,`=left]::after {
            bottom: 50%;
            left: auto;
            right: 100%;
            transform: translate(0, 50%);
          }

          [`).concat(T,`=left]:focus::after,
          [`).concat(T,`=left]:hover::after,
          [`).concat(it,"=true][").concat(T,`=left]::after {
            transform: translate(-0.5rem, 50%);
          }

          [`).concat(z,`=small]::after {
            white-space: normal;
            width: 80px;
          }

          [`).concat(z,`=medium]::after {
            white-space: normal;
            width: 150px;
          }

          [`).concat(z,`=large]::after {
            white-space: normal;
            width: 300px;
          }

          [`).concat(z,`=fit]::after {
            white-space: normal;
            width: 100%;
          }

          // IE 11 bugfix
          button[`).concat(Z,`] {
            overflow: visible;
          }
        `))+O,traits:R([{name:Z,label:"Text"},{name:T,label:"Position",type:"select",options:[{value:"top",name:"Top"},{value:"right",name:"Right"},{value:"bottom",name:"Bottom"},{value:"left",name:"Left"}]},{name:z,label:"Length",type:"select",options:[{value:"",name:"One line"},{value:"small",name:"Small"},{value:"medium",name:"Medium"},{value:"large",name:"Large"},{value:"fit",name:"Fit"}]},{name:it,label:"Visible",type:"checkbox",valueTrue:"true"},{name:"style-tooltip",labelButton:"Style tooltip",type:"button",full:!0,command:function(I){var N,G=I.Panels.getButton("views","open-sm");G==null||G.set("active",!0);var P=I.Css.getRules(".".concat(ot))[0];if(P.set("stylable",et),I.StyleManager.select(P),J){var $=I.getSelected();$!=null&&$.is(D)&&($.addAttributes(((N={})[it]="true",N)),I.once("style:target",function(){var y;$.addAttributes(((y={})[it]="false",y))}))}}}])},E),init:function(){this.listenTo(this.components(),"add remove",this.checkEmpty),this.checkEmpty()},checkEmpty:function(){this[this.components().length?"removeClass":"addClass"]("".concat(Y))}}})};return ct})())})(av);var Ow=av.exports;const Tw=gi(Ow);var sv={exports:{}};/*! grapesjs-tui-image-editor - 1.0.2 */(function(V,vt){(function(bt,ct){V.exports=ct()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:Wi,()=>(()=>{var bt={d:(x,M)=>{for(var m in M)bt.o(M,m)&&!bt.o(x,m)&&Object.defineProperty(x,m,{enumerable:!0,get:M[m]})},o:(x,M)=>Object.prototype.hasOwnProperty.call(x,M),r:x=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(x,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(x,"__esModule",{value:!0})}},ct={};bt.r(ct),bt.d(ct,{default:()=>q});var ht=function(){return ht=Object.assign||function(x){for(var M,m=1,E=arguments.length;m<E;m++)for(var w in M=arguments[m])Object.prototype.hasOwnProperty.call(M,w)&&(x[w]=M[w]);return x},ht.apply(this,arguments)},tt=function(x,M,m){if(m||arguments.length===2)for(var E,w=0,C=M.length;w<C;w++)!E&&w in M||(E||(E=Array.prototype.slice.call(M,0,w)),E[w]=M[w]);return x.concat(E||Array.prototype.slice.call(M))};const q=function(x,M){M===void 0&&(M={});var m=ht({config:{},constructor:"",labelImageEditor:"Image Editor",labelApply:"Apply",height:"650px",width:"100%",commandId:"tui-image-editor",toolbarIcon:`<svg viewBox="0 0 24 24">
                    <path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z">
                    </path>
                  </svg>`,hideHeader:!0,addToAssets:!0,upload:!1,onApplyButton:function(){},onApply:null,script:["https://uicdn.toast.com/tui.code-snippet/v1.5.2/tui-code-snippet.min.js","https://uicdn.toast.com/tui-color-picker/v2.2.7/tui-color-picker.min.js","https://uicdn.toast.com/tui-image-editor/v3.15.2/tui-image-editor.min.js"],style:["https://uicdn.toast.com/tui-color-picker/v2.2.7/tui-color-picker.min.css","https://uicdn.toast.com/tui-image-editor/v3.15.2/tui-image-editor.min.css"]},M),E=m.script,w=m.style,C=m.height,O=m.width,L=m.hideHeader,et=m.onApply,J=m.upload,U=m.addToAssets,R=m.commandId,D=typeof window<"u",k=function(){var N;return m.constructor||D&&((N=window.tui)===null||N===void 0?void 0:N.ImageEditor)},Z=k();if(!Z&&(E!=null&&E.length)&&D){var ot=document.head,Y=Array.isArray(E)?tt([],E,!0):[E],it=Array.isArray(w)?tt([],w,!0):[w],T=function(N){if(N.length){var G=document.createElement("link");G.href=N.shift(),G.rel="stylesheet",ot.appendChild(G),T(N)}},z=function(N){if(N.length){var G=document.createElement("script");G.src=N.shift(),G.onerror=G.onload=z.bind(null,N),ot.appendChild(G)}else Z=k()};T(it),z(Y)}m.toolbarIcon&&x.Components.addType("image",{extendFn:["initToolbar"],model:{initToolbar:function(){var N=this.get("toolbar");N!=null&&N.some(function(G){return G.command===R})||(N==null||N.unshift({command:R,label:m.toolbarIcon}),this.set("toolbar",N))}}});var I={level:"error",ns:R};x.Commands.add(R,{imageEditor:null,run:function(N,G,P){var $=this;if(P===void 0&&(P={}),!Z)return N.log("TOAST UI Image editor not found",I),N.stopCommand(R);var y=P.target||N.getSelected();if(!y)return N.log("Target not available",I),N.stopCommand(R);var rt=this.createContent(),X=m.labelImageEditor,wt=rt.children[1];N.Modal.open({title:X,content:rt}).onceClose(function(){return N.stopCommand(R)});var Kt=this.getEditorConfig(y.get("src"));this.imageEditor=new Z(rt.children[0],Kt),N.getModel().setEditing(!0),wt.onclick=function(){return $.applyChanges(y)},m.onApplyButton(wt)},stop:function(N){var G;(G=this.imageEditor)===null||G===void 0||G.destroy(),N.getModel().setEditing(!1)},getEditorConfig:function(N){var G=ht({},m.config);return G.includeUI||(G.includeUI={}),G.includeUI=ht(ht({theme:{}},G.includeUI),{loadImage:{path:N,name:"1"},uiSize:{height:C,width:O}}),L&&(G.includeUI.theme["header.display"]="none"),G},createContent:function(){var N=document.createElement("div");return N.style.position="relative",N.innerHTML=`
        <div></div>
        <button class="tui-image-editor__apply-btn" style="
          position: absolute;
          top: 0; right: 0;
          margin: 10px;
          background-color: #fff;
          font-size: 1rem;
          border-radius: 3px;
          border: none;
          padding: 10px 20px;
          cursor: pointer
        ">
          `.concat(m.labelApply,`
        </botton>
      `),N},applyChanges:function(N){var G=this,P=this.imageEditor;et?et(P,N):P.getDrawingMode()==="CROPPER"?P.crop(P.getCropzoneRect()).then(function(){G.uploadImage(P,N)}):this.uploadImage(P,N)},uploadImage:function(N,G){var P=this,$=x.Assets,y=N.toDataURL();if(J){var rt=this.dataUrlToBlob(y);$.FileUploader().uploadFile({dataTransfer:{files:[rt]}},function(X){var wt=X&&X.data&&X.data[0],Kt=wt&&(typeof wt=="string"?wt:wt.src);Kt&&P.applyToTarget(Kt,G)})}else U&&$.add({src:y,name:(G.get("src")||"").split("/").pop()}),this.applyToTarget(y,G)},applyToTarget:function(N,G){G.set("src",N),x.Modal.close()},dataUrlToBlob:function(N){for(var G=N.split(","),P=window.atob(G[1]),$=G[0].split(":")[1].split(";")[0],y=new ArrayBuffer(P.length),rt=new Uint8Array(y),X=0;X<P.length;X++)rt[X]=P.charCodeAt(X);return new Blob([y],{type:$})}})};return ct})())})(sv);var Pw=sv.exports;const Ew=gi(Pw);var lv={exports:{}};/*! grapesjs-style-bg - 2.0.2 */(function(V,vt){(function(bt,ct){V.exports=ct()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:Wi,()=>(()=>{var bt={180:function(q){var x;x=()=>(()=>{var M={9:function(C){C.exports=function(O){function L(J){if(et[J])return et[J].exports;var U=et[J]={i:J,l:!1,exports:{}};return O[J].call(U.exports,U,U.exports,L),U.l=!0,U.exports}var et={};return L.m=O,L.c=et,L.d=function(J,U,R){L.o(J,U)||Object.defineProperty(J,U,{configurable:!1,enumerable:!0,get:R})},L.n=function(J){var U=J&&J.__esModule?function(){return J.default}:function(){return J};return L.d(U,"a",U),U},L.o=function(J,U){return Object.prototype.hasOwnProperty.call(J,U)},L.p="",L(L.s=1)}([function(O,L,et){Object.defineProperty(L,"__esModule",{value:!0}),L.on=function(J,U,R){U=U.split(/\s+/);for(var D=0;D<U.length;++D)J.addEventListener(U[D],R)},L.off=function(J,U,R){U=U.split(/\s+/);for(var D=0;D<U.length;++D)J.removeEventListener(U[D],R)},L.isFunction=function(J){return typeof J=="function"},L.isDef=function(J){return J!==void 0},L.getPointerEvent=function(J){return J.touches&&J.touches[0]||J}},function(O,L,et){var J=function(U){return U&&U.__esModule?U:{default:U}}(et(2));O.exports=function(U){return new J.default(U)}},function(O,L,et){function J(Y){return Y&&Y.__esModule?Y:{default:Y}}Object.defineProperty(L,"__esModule",{value:!0});var U=function(){function Y(it,T){for(var z=0;z<T.length;z++){var I=T[z];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(it,I.key,I)}}return function(it,T,z){return T&&Y(it.prototype,T),z&&Y(it,z),it}}(),R=J(et(3)),D=J(et(4)),k=et(0),Z=function(Y,it){return Y.position-it.position},ot=function(Y){function it(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(function(P,$){if(!(P instanceof $))throw new TypeError("Cannot call a class as a function")})(this,it);var z=function(P,$){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!$||typeof $!="object"&&typeof $!="function"?P:$}(this,(it.__proto__||Object.getPrototypeOf(it)).call(this));T=Object.assign({},T);var I={pfx:"grp",el:".grp",colorEl:"",min:0,max:100,direction:"90deg",type:"linear",height:"30px",width:"100%",emptyColor:"#000",onValuePos:function(P){return parseInt(P)}};for(var N in I)N in T||(T[N]=I[N]);var G=T.el;if(!((G=typeof G=="string"?document.querySelector(G):G)instanceof HTMLElement))throw"Element not found, given "+G;return z.el=G,z.handlers=[],z.options=T,z.on("handler:color:change",function(P,$){return z.change($)}),z.on("handler:position:change",function(P,$){return z.change($)}),z.on("handler:remove",function(P){return z.change(1)}),z.on("handler:add",function(P){return z.change(1)}),z.render(),z}return function(T,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof z);T.prototype=Object.create(z&&z.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),z&&(Object.setPrototypeOf?Object.setPrototypeOf(T,z):T.__proto__=z)}(it,Y),U(it,[{key:"destroy",value:function(){var T=this;this.clear(),this.e={},["el","handlers","options","colorPicker"].forEach(function(z){return T[z]=0}),["previewEl","wrapperEl","sandEl"].forEach(function(z){var I=T[z];I&&I.parentNode&&I.parentNode.removeChild(I),delete T[z]})}},{key:"setColorPicker",value:function(T){this.colorPicker=T}},{key:"getValue",value:function(T,z){var I=this.getColorValue(),N=T||this.getType(),G=["top","left","bottom","right","center"],P=z||this.getDirection();return["linear","repeating-linear"].indexOf(N)>=0&&G.indexOf(P)>=0&&(P=P==="center"?"to right":"to "+P),["radial","repeating-radial"].indexOf(N)>=0&&G.indexOf(P)>=0&&(P="circle at "+P),I?N+"-gradient("+P+", "+I+")":""}},{key:"getSafeValue",value:function(T,z){var I=this.previewEl,N=this.getValue(T,z);if(!this.sandEl&&(this.sandEl=document.createElement("div")),!I||!N)return"";for(var G=this.sandEl.style,P=[N].concat(function(rt){if(Array.isArray(rt)){for(var X=0,wt=Array(rt.length);X<rt.length;X++)wt[X]=rt[X];return wt}return Array.from(rt)}(this.getPrefixedValues(T,z))),$=void 0,y=0;y<P.length&&($=P[y],G.backgroundImage=$,G.backgroundImage!=$);y++);return G.backgroundImage}},{key:"setValue",value:function(){var T=this,z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},N=this.type,G=this.direction,P=z.indexOf("(")+1,$=z.lastIndexOf(")"),y=z.substring(P,$),rt=y.split(/,(?![^(]*\)) /);if(this.clear(I),y){rt.length>2&&(G=rt.shift());var X=void 0;["repeating-linear","repeating-radial","linear","radial"].forEach(function(wt){z.indexOf(function(Kt){return Kt+"-gradient("}(wt))>-1&&!X&&(X=1,N=wt)}),this.setDirection(G,I),this.setType(N,I),rt.forEach(function(wt){var Kt=wt.split(" "),Ct=parseFloat(Kt.pop()),Ut=Kt.join("");T.addHandler(Ct,Ut,0,I)}),this.updatePreview()}else this.updatePreview()}},{key:"getColorValue",value:function(){var T=this.handlers;return T.sort(Z),(T=T.length==1?[T[0],T[0]]:T).map(function(z){return z.getValue()}).join(", ")}},{key:"getPrefixedValues",value:function(T,z){var I=this.getValue(T,z);return["-moz-","-webkit-","-o-","-ms-"].map(function(N){return""+N+I})}},{key:"change",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.updatePreview(),!z.silent&&this.emit("change",T)}},{key:"setDirection",value:function(T){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.options.direction=T;var I=z.complete,N=I===void 0?1:I;this.change(N,z)}},{key:"getDirection",value:function(){return this.options.direction}},{key:"setType",value:function(T){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.options.type=T;var I=z.complete,N=I===void 0?1:I;this.change(N,z)}},{key:"getType",value:function(){return this.options.type}},{key:"addHandler",value:function(T,z){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},G=new D.default(this,T,z,I,N);return!N.silent&&this.emit("handler:add",G),G}},{key:"getHandler",value:function(T){return this.handlers[T]}},{key:"getHandlers",value:function(){return this.handlers}},{key:"clear",value:function(){for(var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},z=this.handlers,I=z.length-1;I>=0;I--)z[I].remove(T)}},{key:"getSelected",value:function(){for(var T=this.getHandlers(),z=0;z<T.length;z++){var I=T[z];if(I.isSelected())return I}return null}},{key:"updatePreview",value:function(){var T=this.previewEl;T&&(T.style.backgroundImage=this.getValue("linear","to right"))}},{key:"initEvents",value:function(){var T=this,z=this.previewEl;z&&(0,k.on)(z,"click",function(I){var N=T.options,G=N.min,P=N.max,$={w:z.clientWidth,h:z.clientHeight},y=I.offsetX-z.clientLeft,rt=I.offsetY-z.clientTop,X=y/$.w*100;if(!(X>P||X<G||rt>$.h||rt<0)){var wt=document.createElement("canvas"),Kt=wt.getContext("2d");wt.width=$.w,wt.height=$.h;var Ct=Kt.createLinearGradient(0,0,$.w,$.h);T.getHandlers().forEach(function(Qt){return Ct.addColorStop(Qt.position/100,Qt.color)}),Kt.fillStyle=Ct,Kt.fillRect(0,0,wt.width,wt.height),wt.style.background="black";var Ut=wt.getContext("2d").getImageData(y,rt,1,1).data,zt="rgba("+Ut[0]+", "+Ut[1]+", "+Ut[2]+", "+Ut[3]+")",Nt=zt=="rgba(0, 0, 0, 0)"?N.emptyColor:zt;T.addHandler(X,Nt)}})}},{key:"render",value:function(){var T=this.options,z=this.el,I=T.pfx,N=T.height,G=T.width;if(z){var P=I+"-wrapper",$=I+"-preview";z.innerHTML=`
      <div class="`+P+`">
        <div class="`+$+`"></div>
      </div>
    `;var y=z.querySelector("."+P),rt=z.querySelector("."+$),X=y.style;X.position="relative",this.wrapperEl=y,this.previewEl=rt,N&&(X.height=N),G&&(X.width=G),this.initEvents(),this.updatePreview()}}}]),it}(R.default);L.default=ot},function(O,L,et){Object.defineProperty(L,"__esModule",{value:!0});var J=function(){function R(D,k){for(var Z=0;Z<k.length;Z++){var ot=k[Z];ot.enumerable=ot.enumerable||!1,ot.configurable=!0,"value"in ot&&(ot.writable=!0),Object.defineProperty(D,ot.key,ot)}}return function(D,k,Z){return k&&R(D.prototype,k),Z&&R(D,Z),D}}(),U=function(){function R(){(function(D,k){if(!(D instanceof k))throw new TypeError("Cannot call a class as a function")})(this,R)}return J(R,[{key:"on",value:function(D,k,Z){var ot=this.e||(this.e={});return(ot[D]||(ot[D]=[])).push({fn:k,ctx:Z}),this}},{key:"once",value:function(D,k,Z){function ot(){Y.off(D,ot),k.apply(Z,arguments)}var Y=this;return ot._=k,this.on(D,ot,Z)}},{key:"emit",value:function(D){for(var k=[].slice.call(arguments,1),Z=((this.e||(this.e={}))[D]||[]).slice(),ot=0,Y=Z.length;ot<Y;ot++)Z[ot].fn.apply(Z[ot].ctx,k);return this}},{key:"off",value:function(D,k){var Z=this.e||(this.e={}),ot=Z[D],Y=[];if(ot&&k)for(var it=0,T=ot.length;it<T;it++)ot[it].fn!==k&&ot[it].fn._!==k&&Y.push(ot[it]);return Y.length?Z[D]=Y:delete Z[D],this}}]),R}();L.default=U},function(O,L,et){Object.defineProperty(L,"__esModule",{value:!0});var J=function(){function D(k,Z){for(var ot=0;ot<Z.length;ot++){var Y=Z[ot];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(k,Y.key,Y)}}return function(k,Z,ot){return Z&&D(k.prototype,Z),ot&&D(k,ot),k}}(),U=et(0),R=function(){function D(k){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,ot=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"black",Y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,it=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};(function(T,z){if(!(T instanceof z))throw new TypeError("Cannot call a class as a function")})(this,D),k.getHandlers().push(this),this.gp=k,this.position=Z,this.color=ot,this.selected=0,this.render(),Y&&this.select(it)}return J(D,[{key:"toJSON",value:function(){return{position:this.position,selected:this.selected,color:this.color}}},{key:"setColor",value:function(k){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.color=k,this.emit("handler:color:change",this,Z)}},{key:"setPosition",value:function(k){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,ot=this.getEl();this.position=k,ot&&(ot.style.left=k+"%"),this.emit("handler:position:change",this,Z)}},{key:"getColor",value:function(){return this.color}},{key:"getPosition",value:function(){var k=this.position,Z=this.gp.options.onValuePos;return(0,U.isFunction)(Z)?Z(k):k}},{key:"isSelected",value:function(){return!!this.selected}},{key:"getValue",value:function(){return this.getColor()+" "+this.getPosition()+"%"}},{key:"select",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Z=this.getEl(),ot=this.gp.getHandlers();!k.keepSelect&&ot.forEach(function(it){return it.deselect()}),this.selected=1;var Y=this.getSelectedCls();Z&&(Z.className+=" "+Y),this.emit("handler:select",this)}},{key:"deselect",value:function(){var k=this.getEl();this.selected=0;var Z=this.getSelectedCls();k&&(k.className=k.className.replace(Z,"").trim()),this.emit("handler:deselect",this)}},{key:"getSelectedCls",value:function(){return this.gp.options.pfx+"-handler-selected"}},{key:"remove",value:function(){var k=this,Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ot=this.cpFn,Y=this.getEl(),it=this.gp.getHandlers(),T=it.splice(it.indexOf(this),1)[0];return Y&&Y.parentNode.removeChild(Y),!Z.silent&&this.emit("handler:remove",T),(0,U.isFunction)(ot)&&ot(this),["el","gp"].forEach(function(z){return k[z]=0}),T}},{key:"getEl",value:function(){return this.el}},{key:"initEvents",value:function(){var k=this,Z=this.getEl(),ot=this.gp.previewEl,Y=this.gp.options,it=Y.min,T=Y.max,z=Z.querySelector("[data-toggle=handler-close]"),I=Z.querySelector("[data-toggle=handler-color-c]"),N=Z.querySelector("[data-toggle=handler-color-wrap]"),G=Z.querySelector("[data-toggle=handler-color]"),P=Z.querySelector("[data-toggle=handler-drag]"),$=function(Nt){var Qt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,Ot=Nt.target.value;k.setColor(Ot,Qt),N&&(N.style.backgroundColor=Ot)};if(I&&(0,U.on)(I,"click",function(Nt){return Nt.stopPropagation()}),z&&(0,U.on)(z,"click",function(Nt){Nt.stopPropagation(),k.remove()}),G&&((0,U.on)(G,"change",$),(0,U.on)(G,"input",function(Nt){return $(Nt,0)})),P){var y=0,rt=0,X=0,wt={},Kt={},Ct={},Ut=function(Nt){var Qt=(0,U.getPointerEvent)(Nt);X=1,Ct.x=Qt.clientX-Kt.x,Ct.y=Qt.clientY-Kt.y,y=100*Ct.x,y/=wt.w,y=(y=(y=rt+y)<it?it:y)>T?T:y,k.setPosition(y,0),k.emit("handler:drag",k,y),(0,U.isDef)(Nt.button)&&Nt.which===0&&zt(Nt)},zt=function Nt(Qt){(0,U.off)(document,"touchmove mousemove",Ut),(0,U.off)(document,"touchend mouseup",Nt),X&&(X=0,k.setPosition(y),k.emit("handler:drag:end",k,y))};(0,U.on)(P,"touchstart mousedown",function(Nt){if(!(0,U.isDef)(Nt.button)||Nt.button===0){k.select();var Qt=(0,U.getPointerEvent)(Nt);rt=k.position,wt.w=ot.clientWidth,wt.h=ot.clientHeight,Kt.x=Qt.clientX,Kt.y=Qt.clientY,(0,U.on)(document,"touchmove mousemove",Ut),(0,U.on)(document,"touchend mouseup",zt),k.emit("handler:drag:start",k)}}),(0,U.on)(P,"click",function(Nt){return Nt.stopPropagation()})}}},{key:"emit",value:function(){var k;(k=this.gp).emit.apply(k,arguments)}},{key:"render",value:function(){var k=this.gp,Z=k.options,ot=k.previewEl,Y=k.colorPicker,it=Z.pfx,T=Z.colorEl,z=this.getColor();if(ot){var I=document.createElement("div"),N=I.style,G=it+"-handler";return I.className=G,I.innerHTML=`
      <div class="`+G+`-close-c">
        <div class="`+G+`-close" data-toggle="handler-close">&Cross;</div>
      </div>
      <div class="`+G+`-drag" data-toggle="handler-drag"></div>
      <div class="`+G+`-cp-c" data-toggle="handler-color-c">
        `+(T||`
          <div class="`+G+'-cp-wrap" data-toggle="handler-color-wrap" style="background-color: '+z+`">
            <input type="color" data-toggle="handler-color" value="`+z+`">
          </div>`)+`
      </div>
    `,N.position="absolute",N.top=0,N.left=this.position+"%",ot.appendChild(I),this.el=I,this.initEvents(),this.cpFn=Y&&Y(this),I}}}]),D}();L.default=R}])}},m={};function E(C){var O=m[C];if(O!==void 0)return O.exports;var L=m[C]={exports:{}};return M[C].call(L.exports,L,L.exports,E),L.exports}E.n=C=>{var O=C&&C.__esModule?()=>C.default:()=>C;return E.d(O,{a:O}),O},E.d=(C,O)=>{for(var L in O)E.o(O,L)&&!E.o(C,L)&&Object.defineProperty(C,L,{enumerable:!0,get:O[L]})},E.o=(C,O)=>Object.prototype.hasOwnProperty.call(C,O),E.r=C=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(C,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(C,"__esModule",{value:!0})};var w={};return(()=>{E.r(w),E.d(w,{GRAD_DIRS:()=>D,GRAD_TYPES:()=>k,default:()=>z,getValidDir:()=>R,parseGradient:()=>J,toGradient:()=>U});var C=E(9),O=E.n(C),L=function(){return L=Object.assign||function(I){for(var N,G=1,P=arguments.length;G<P;G++)for(var $ in N=arguments[G])Object.prototype.hasOwnProperty.call(N,$)&&(I[$]=N[$]);return I},L.apply(this,arguments)},et=function(I,N,G){if(G||arguments.length===2)for(var P,$=0,y=N.length;$<y;$++)!P&&$ in N||(P||(P=Array.prototype.slice.call(N,0,$)),P[$]=N[$]);return I.concat(P||Array.prototype.slice.call(N))},J=function(I){var N=I.indexOf("(")+1,G=I.lastIndexOf(")"),P=I.substring(N,G),$=P.split(/,(?![^(]*\))/),y={direction:"left",type:"linear",content:P,colors:P,stops:[]};if(!P)return y;$.length>2&&(y.direction=$.shift(),y.colors=$.join(",").trim());var rt=!1;return["repeating-linear","repeating-radial","linear","radial"].forEach(function(X){I.indexOf(function(wt){return"".concat(wt,"-gradient(")}(X))>-1&&!rt&&(rt=!0,y.type=X)}),y.stops=$.map(function(X){var wt=X.split(" "),Kt=(wt.length>1?wt.pop():"").trim();return{color:wt.join(" ").trim(),position:Kt}}),y},U=function(I,N,G){var P=et(et([],D,!0),["center"],!1),$=N;return["linear","repeating-linear"].indexOf(I)>=0&&P.indexOf($)>=0&&($=$==="center"?"to right":"to ".concat($)),["radial","repeating-radial"].indexOf(I)>=0&&P.indexOf($)>=0&&($="circle at ".concat($)),G?"".concat(I,"-gradient(").concat($,", ").concat(G,")"):""},R=function(I){return D.filter(function(N){return I.indexOf(N)>-1})[0]},D=["right","bottom","left","top"],k=["linear","radial","repeating-linear","repeating-radial"],Z='[data-toggle="handler-color-wrap"]',ot="background-image-gradient",Y="".concat(ot,"-dir"),it="".concat(ot,"-type"),T=function(){return T=Object.assign||function(I){for(var N,G=1,P=arguments.length;G<P;G++)for(var $ in N=arguments[G])Object.prototype.hasOwnProperty.call(N,$)&&(I[$]=N[$]);return I},T.apply(this,arguments)};const z=function(I,N){N===void 0&&(N={}),function(G,P){P===void 0&&(P={});var $=G.getModel(),y=G.Styles,rt=P.colorPicker,X=P.builtInType,wt=P.styleType,Kt=function(Ct){var Ut=Ct.getEl().querySelector(Z),zt=G.$(Ut);zt.spectrum&&zt.spectrum("destroy")};wt&&y.addType(wt,{create:function(Ct){var Ut=Ct.change,zt=document.createElement("div");zt.className="gp-container",zt.style.width="100%";var Nt=new(O())(L({el:zt},P.grapickOpts));return Nt.on("change",function(Qt){return Ut({value:Nt.getValue(),partial:!Qt})}),this.gp=Nt,rt==="default"&&(rt=function(Qt){var Ot=Qt.getEl(),Dt=Ot.querySelector(Z),Wt=Ot.querySelector("input");Wt==null||Wt.parentNode.removeChild(Wt);var oe=Dt.style;oe.backgroundColor=Qt.getColor();var $t=function(Jt,ue){ue===void 0&&(ue=1);var Ne=function(tr){return(tr.getAlpha()==1?tr.toHexString():tr.toRgbString()).replace(/ /g,"")}(Jt);oe.backgroundColor=Ne,Qt.setColor(Ne,ue)};$.initBaseColorPicker(Dt,{color:Qt.getColor(),change:function(Jt){$t(Jt)},move:function(Jt){$t(Jt,0)}})},Nt.on("handler:remove",Kt)),rt&&Nt.setColorPicker(rt),zt},emit:function(Ct,Ut){var zt=Ct.updateStyle,Nt=Ut.partial;zt(Ut.value,{partial:Nt})},update:function(Ct){var Ut=Ct.value,zt=this.gp;if(zt.getValue()!==Ut){var Nt=zt.getHandlers();Nt.map(Kt),zt.setValue(Ut,{silent:!0}),P.selectEdgeStops&&[Nt[0],Nt[Nt.length-1]].filter(Boolean).map(function(Qt){return Qt.select({keepSelect:!0})})}},destroy:function(){var Ct;(Ct=this.gp)===null||Ct===void 0||Ct.destroy()}}),X&&y.addBuiltIn(X,{type:"composite",fromStyle:function(Ct,Ut){var zt,Nt=Ut.name,Qt=J(Ct[Nt]||""),Ot=Qt.type||k[0],Dt=R(Qt.direction)||D[0];return(zt={})[ot]=U(Ot,Dt,Qt.colors),zt[it]=Ot,zt[Y]=Dt,zt},toStyle:function(Ct,Ut){var zt,Nt=Ut.name,Qt=Ct[ot]||"",Ot=Ct[it]||k[0],Dt=Ct[Y]||D[0],Wt=J(Qt),oe=U(Ot,Dt,Wt.colors);return(zt={})[Nt]=oe,zt},properties:[{name:" ",full:!0,defaults:"none",type:wt,property:ot},{name:"Direction",type:"select",defaults:"right",property:Y,options:D.map(function(Ct){return{value:Ct}})},{name:"Type",type:"select",defaults:"linear",property:it,options:k.map(function(Ct){return{value:Ct}})}]})}(I,T({grapickOpts:{},selectEdgeStops:!0,styleType:"gradient",builtInType:"background-image"},N))}})(),w})(),q.exports=x()}},ct={};function ht(q){var x=ct[q];if(x!==void 0)return x.exports;var M=ct[q]={exports:{}};return bt[q].call(M.exports,M,M.exports,ht),M.exports}ht.n=q=>{var x=q&&q.__esModule?()=>q.default:()=>q;return ht.d(x,{a:x}),x},ht.d=(q,x)=>{for(var M in x)ht.o(x,M)&&!ht.o(q,M)&&Object.defineProperty(q,M,{enumerable:!0,get:x[M]})},ht.o=(q,x)=>Object.prototype.hasOwnProperty.call(q,x),ht.r=q=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(q,"__esModule",{value:!0})};var tt={};return(()=>{ht.r(tt),ht.d(tt,{BackgroundType:()=>q,default:()=>Z});var q,x=ht(180),M=ht.n(x),m=function(){return m=Object.assign||function(ot){for(var Y,it=1,T=arguments.length;it<T;it++)for(var z in Y=arguments[it])Object.prototype.hasOwnProperty.call(Y,z)&&(ot[z]=Y[z]);return ot},m.apply(this,arguments)};(function(ot){ot.Image="image",ot.Color="color",ot.Grad="grad"})(q||(q={}));var E=function(ot){return ot.map(function(Y){return{id:Y}})},w=function(ot){var Y,it=((Y={})[L]=q.Image,Y);if(ot.indexOf("url(")>-1)it[et]=ot;else if(ot.indexOf("gradient(")>-1){var T=(0,x.parseGradient)(ot),z=T.stops;if(z.length===2&&T.type==="linear"&&z[0].color===z[1].color)it[L]=q.Color,it[J]=z[0].color;else{var I=(0,x.getValidDir)(T.direction)||x.GRAD_DIRS[0],N=T.type||x.GRAD_TYPES[0];it[L]=q.Grad,it[U]=(0,x.toGradient)(N,I,T.colors),it[D]=N,it[R]=I}}return it},C='style="max-height: 16px; display: block; margin: 0 auto" viewBox="0 0 24 24"',O="background-image",L="__background-type",et=O,J="".concat(et,"-color"),U="".concat(et,"-gradient"),R="".concat(U,"-dir"),D="".concat(U,"-type"),k="none";const Z=function(ot,Y){Y===void 0&&(Y={});var it=m({styleGradientOpts:{},propExtender:function(T){return T}},Y);M()(ot,m({colorPicker:"default"},it.styleGradientOpts)),ot.Styles.addBuiltIn("background",{type:"stack",layerSeparator:new RegExp("(?<!\\(.*[^)]),(?![^(]*\\))"),layerJoin:", ",detached:!0,layerLabel:function(T,z){var I,N=z.values,G=z.property.getProperty(L).getOption(N[L]);return G!=null&&G.title?"".concat((I=G.title)&&I.charAt(0).toUpperCase()+I.substring(1)):""},fromStyle:function(T,z){var I=z.property,N=z.name,G=I.getLayerSeparator(),P=I.getProperties(),$=[];return T[O]?($=I.__splitStyleName(T,O,G).map(w),P.forEach(function(y){var rt=y.getId(),X=y.getName();X!==O&&I.__splitStyleName(T,X,G).map(function(wt){var Kt;return(Kt={})[rt]=wt||y.getDefaultValue(),Kt}).forEach(function(wt,Kt){$[Kt]=$[Kt]?m(m({},$[Kt]),wt):wt})})):T[N]&&($=I.__splitStyleName(T,N,/(?![^)(]*\([^)(]*?\)\)),(?![^\(]*\))/).map(function(y){return y.substring(0,y.lastIndexOf(")")+1)}).map(w)),$},toStyle:function(T){var z=m({},T),I=z[L],N=z[et];if(I===q.Color){var G=z[J];N=G===k?k:"linear-gradient(".concat(G," 0%, ").concat(G," 100%)")}else if(I===q.Grad){var P=(0,x.parseGradient)(z[U]||"");N=(0,x.toGradient)(z[D]||x.GRAD_TYPES[0],z[R]||x.GRAD_DIRS[0],P.colors)}return delete z[et],delete z[J],delete z[U],delete z[R],delete z[D],m(m({},z),{"background-image":N||k})},properties:[{label:" ",property:L,type:"radio",default:q.Image,onChange:function(T){var z=T.property,I=T.to.value;I&&z.getParent().getProperties().forEach(function(N){var G=N.getName(),P=!1;G!==L&&((I===q.Image&&[J,U,R,D].indexOf(G)<0||I===q.Color&&G===J||I===q.Grad&&[U,R,D].indexOf(G)>=0)&&(P=!0),N.up({visible:P}))})},options:[{id:q.Image,title:"Image",label:"<svg ".concat(C,'><path fill="currentColor" d="M8.5 13.5l2.5 3 3.5-4.5 4.5 6H5m16 1V5a2 2 0 00-2-2H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2z"/></svg>')},{id:q.Color,title:"Color",label:"<svg ".concat(C,'><path fill="currentColor" d="M19 3H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V5a2 2 0 00-2-2z"/></svg>')},{id:q.Grad,title:"Gradient",label:"<svg ".concat(C,'><path fill="currentColor" d="M11 9h2v2h-2V9m-2 2h2v2H9v-2m4 0h2v2h-2v-2m2-2h2v2h-2V9M7 9h2v2H7V9m12-6H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V5a2 2 0 00-2-2M9 18H7v-2h2v2m4 0h-2v-2h2v2m4 0h-2v-2h2v2m2-7h-2v2h2v2h-2v-2h-2v2h-2v-2h-2v2H9v-2H7v2H5v-2h2v-2H5V5h14v6z"/></svg>')}]},{label:"Image",property:et,default:"none",functionName:"url",type:"file",full:!0},{property:"background-repeat",default:"repeat",type:"select",options:[{id:"repeat",label:"Repeat"},{id:"repeat-x",label:"Repeat x"},{id:"repeat-y",label:"Repeat y"},{id:"no-repeat",label:"No repeat"},{id:"space",label:"Space"},{id:"round",label:"Round"}]},{property:"background-position",default:"left top",type:"select",options:E(["left top","left center","left bottom","right top","right center","right bottom","center top","center center","center bottom"])},{property:"background-attachment",default:"scroll",type:"select",options:E(["scroll","fixed","local"])},{type:"select",default:"auto",property:"background-size",options:E(["auto","cover","contain"])},{label:"Color",property:J,default:"none",type:"color",full:!0},{label:"Gradient",property:U,default:"linear-gradient(right, black 0%, white 100%)",type:"gradient",full:!0},{name:"Direction",property:R,type:"select",default:"right",options:E(x.GRAD_DIRS)},{name:"Type",property:D,default:"linear",type:"select",options:E(x.GRAD_TYPES)}].map(function(T){var z;return((z=it.propExtender)===null||z===void 0?void 0:z.call(it,T))||T})})}})(),tt})())})(lv);var kw=lv.exports;const Aw=gi(kw);var ld={};Object.defineProperty(ld,"__esModule",{value:!0});var cv=ld.default=void 0,ad={placeholder:"例子. 输入文字"},Mw={assetManager:{addButton:"添加图片",inputPlh:"http://path/to/the/image.jpg",modalTitle:"选择图片",uploadTitle:"点击或者拖拽图片上传"},domComponents:{names:{"":"Box",wrapper:"Body",text:"文字",comment:"评论",image:"图片",video:"视频",label:"文本",link:"超链接",map:"地图",tfoot:"表格末尾",tbody:"表格主体",thead:"表头",table:"表格",row:"行",cell:"单元格"}},deviceManager:{device:"设备",devices:{desktop:"桌面",tablet:"平板",mobileLandscape:"Mobile Landscape",mobilePortrait:"Mobile Portrait"}},panels:{buttons:{titles:{preview:"预览",fullscreen:"全屏","sw-visibility":"查看组件","export-template":"查看代码","open-sm":"打开样式管理器","open-tm":"设置","open-layers":"打开布局管理器","open-blocks":"打开块"}}},selectorManager:{label:"Classes",selected:"Selected",emptyState:"- State -",states:{hover:"Hover",active:"Click","nth-of-type(2n)":"Even/Odd"}},styleManager:{empty:"设置样式前选择请一个元素",layer:"层级",fileButton:"图片",sectors:{general:"常规",layout:"布局",typography:"版式",decorations:"装饰",extra:"扩展",flex:"盒子模型",dimension:"尺寸"},properties:{}},traitManager:{empty:"用设置项前选择一个组件",label:"组件设置",traits:{attributes:{id:ad,alt:ad,title:ad,href:{placeholder:"eg. https://google.com"}},options:{target:{false:"本窗口",_blank:"新窗口"}}}}};cv=ld.default=Mw;const sd={attributes:{"Link Block":"链接块",Quote:"引用","Text section":"文本部分","1 Column":"一列","2 Columns":"两列","3 Columns":"三列","2 Columns 3/7":"两列 3/7",Text:"文本",Link:"链接",Image:"图片",Video:"视频",Map:"地图",Faq:"常见问题",Heading:"标题",Paragraph:"段落",List:"列表",Divider:"分隔线",Button:"按钮",Slider:"滑块","Progress Bar":"进度条",Checkbox:"复选框",Radio:"单选框",Input:"输入框",Select:"下拉框",Textarea:"文本区域"},changed:{Basic:"基础",Text:"文本",Custom:"自定义",Media:"媒体",Form:"表单"}},Lw=V=>{V.forEach(vt=>{var bt,ct,ht,tt,q,x,M;if((bt=vt.attributes.label)!=null&&bt.includes("gjs-block-label")){const m=(ct=vt.attributes.label)==null?void 0:ct.match(/<div class="gjs-block-label">\s*(.*?)\s*<\/div>/);vt.attributes.label=(ht=vt.attributes.label)==null?void 0:ht.replace(new RegExp(m[1],"g"),sd.attributes[m[1]])}else vt.attributes.label=sd.attributes[vt.attributes.label]??vt.attributes.label;(x=(q=(tt=vt.changed)==null?void 0:tt.category)==null?void 0:q.attributes)!=null&&x.label&&(vt.changed.category.attributes.label=((M=sd.changed)==null?void 0:M[vt.changed.category.attributes.label])??vt.changed.category.attributes.label)})},jw=`
<body>
<style type="text/css">
* {

    margin: 0;
    padding: 0;
  }

  .nav {
    position: fixed;
    top: 0;
    left: 0;
    z-index: 3;
    width: 100%;
    height: 4rem;
    background-color: #fff;
    border-bottom: 1px solid #ebebeb;

  }

  .top-nav {
    display: flex;
    align-items: center;
    justify-content: space-between;
    color: #0f0f0f;
    padding: 0 11.25rem 0 11.25rem;
    height: 100%;
  }
  .top-nav p {
    font-weight: bold;
  }

  .button-div button {
   width: 5.3125rem;
   cursor: pointer;
    height: 2.25rem;
    color: #fff;
    background: #409eff;
    border: 1px solid #409eff;
    border-radius: 4px 4px 4px 4px;
  }

  .page1 img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;

    height: 100%;
  }

  .page1 {

    display: flex;
    height: 31.25rem;
    position: relative;
    padding-left: 7.5rem;
    padding-top: 9.0625rem;
  }

  .text_36 {

    color: rgba(51, 51, 51, 1);
    font-size: 3rem;
    font-family: Source Han Sans CN-Bold;
    font-weight: 700;
    z-index: 9999;
    white-space: nowrap;

  }

  .text {
    z-index: 9999;
  }

  .flex-col {
    display: flex;
    flex-direction: column;
  }

  .justify-between {
    display: flex;
    justify-content: space-between;
  }

  .text-group-1 {
    padding-top: 4rem;
    margin-bottom: 4rem;
  }

  .box_5 {
    background-color: rgba(248, 249, 251, 1);
    width: 100%;
    text-align: center;
    padding-bottom: 4rem;
  }

  .group_2 {
    display: flex;
    justify-content: center;
    margin: 1.707rem 0 0 11.147rem;
  }

  .text_8 {

    overflow-wrap: break-word;
    color: rgba(51, 51, 51, 1);
    font-size: 3rem;
    font-family: Source Han Sans CN-Medium;
    font-weight: 500;
    text-align: left;
    white-space: nowrap;

  }



  .box_6 {
    background-color: rgba(255, 255, 255, 1);
    border-radius: 8px;
    width: 21.25rem;
    height: 16.25rem;
    padding: 2.25rem 1.5rem 2.625rem 1.5rem;
  }

  .box-margin {
    margin: 0 2rem;
  }

  .image_5 {
    width: 7.5rem;
    height: 7.5rem;
  }



  .text_9 {

    overflow-wrap: break-word;
    color: rgba(51, 51, 51, 1);
    font-size: 1.5rem;
    font-family: Source Han Sans CN-Medium;
    font-weight: 500;
    text-align: center;
    white-space: nowrap;
    margin: 1.5rem 0 1.5rem 0;

  }

  .text_10 {

    height: 1.28rem;
    overflow-wrap: break-word;
    color: rgba(51, 51, 51, 1);
    font-size: 1rem;
    font-family: Source Han Sans CN-Regular;
    font-weight: 500;
    text-align: left;
    margin-top: 0.427rem;
  }


  .group_5 {
    position: absolute;
    left: 0;
    top: -0.533rem;
    width: 51.2rem;
    height: 21.334rem;
  }

  .group_1 {
    width: 100%;
    background-color: white;
  }


  .b2b3 {
    margin: 7.5rem 11.25rem;
    background-color: #F8F9FB;
  }

  .image_1 {
    width: 41.125rem;
    height: 27.375rem;
  }

  .text-group_1 {
    margin-top: 5.375rem;
    margin-left: 5rem;
  }

  .text_1 {

    overflow-wrap: break-word;
    color: rgba(51, 51, 51, 1);
    font-size: 3rem;
    font-family: Source Han Sans CN-Medium;
    font-weight: 500;
    text-align: left;
    white-space: nowrap;

  }


  .box_2 {

    margin: 7.5rem 11.25rem;
  }

  .text-group_2 {
    margin-top: 5.375rem;
    margin-right: 5rem;
  }

  .text_2 {

    overflow-wrap: break-word;
    color: rgba(51, 51, 51, 1);
    font-size: 3rem;
    font-family: Source Han Sans CN-Medium;
    font-weight: 500;
    text-align: left;
    white-space: nowrap;
  }


  .image_2 {
    width: 41.125rem;
    height: 27.375rem;
  }

  .box_3 {
    margin: 4rem 1.5rem;
  }

  .image_3 {
    width: 41.125rem;
    height: 27.375rem;
  }

  .text-group_3 {
    margin-top: 5.375rem;
    margin-left: 5rem;
  }

  .text_3 {

    overflow-wrap: break-word;
    color: rgba(51, 51, 51, 1);
    font-size: 3rem;
    font-family: Source Han Sans CN-Medium;
    font-weight: 500;
    text-align: left;
    white-space: nowrap;
  }

  .text_4 {
    overflow-wrap: break-word;
    color: rgba(119, 119, 119, 1);
    font-size: 1.5rem;
    font-family: Source Han Sans CN-Regular;
    font-weight: 400;
    text-align: left;
    margin-top: 1rem;
  }
  .box_4 {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 100%;
    height: 31.25rem;
    position: relative;
  }
  .box_4 img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
  .text_5 {
    overflow-wrap: break-word;
    color: rgba(51, 51, 51, 1);
    font-size: 3rem;
    font-family: Source Han Sans CN-Medium;
    font-weight: 500;
    white-space: nowrap;
    z-index: 9999;
  }
    .margin-left {
  margin-left: 15px;
}
</style>
 <div class="page flex-col">
    <div class="nav">
      <div class="top-nav">
        <p >租户官网</p>
        <div class="button-div">
         <button  id="my-button">供应商登录</button>
          <button  class="margin-left" id="my-button2">会员登录</button>
        </div>

      </div>
    </div>
    <div class="page1">
      <img src="">
      <div class="text">
        <div class="text_36">海量调查项目待承接·开启</div>

        <div class="text_36">共赢新篇章</div>
      </div>

    </div>
    <div class="box-5-margin">
      <div class="box_5">
        <div class="text-group_4 text-group-1">
          <span class="text_8">简单三步即可成为供应商</span>

        </div>

        <div class="group_2">
          <div class="box_6">

            <img class="image_5" referrerpolicy="no-referrer" src="" />
            <div class="text-group_5 flex-col justify-between">
              <span class="text_9">注册</span>
              <span class="text_10">
                任何人都可以参加，注册步骤简单只需要30秒
              </span>

            </div>
          </div>
          <div class="box_6 box-margin">
            <img class="image_5" referrerpolicy="no-referrer" src="" />
            <div class="text-group_5 flex-col justify-between">
              <span class="text_9">会员</span>
              <span class="text_10">
                将您的会员进行录入系统，形成会员系统管控，会员操作尽在掌握之中
              </span>

            </div>

          </div>
          <div class="box_6">
            <img class="image_5" referrerpolicy="no-referrer" src="" />
            <div class="text-group_5 flex-col justify-between">
              <span class="text_9">项目</span>
              <span class="text_10">
                自动获取源源不断的调查项目，可自由分配给旗下的会员
              </span>

            </div>
          </div>
        </div>

      </div>
    </div>
    <div class="group_1 flex-row">
      <div class="flex-col">
        <div class="b2b3">
          <div class="box_3 flex-row justify-between">
            <img class="image_1" referrerpolicy="no-referrer" src="" />
            <div class="text-group_1 flex-col">
              <span class="text_3">项目管理</span>
              <span class="text_4">

                您不需要创建项目，我们的客户会根据系统的数据匹配，给您分配
                <br />
                最适配的问卷项目。问卷项目关联性高，也就意味着可获得更多专
                <br />
                属项目。您也可以在次分配项目，支持自定义分配给指定的部门，
                <br />
                进行项目的细分，让样本的质量越来越高，赚取的佣金就会越来越多。

              </span>
            </div>
          </div>
          <div class="box_3 flex-row justify-between">
            <div class="text-group_2 flex-col ">
              <span class="text_2">会员管理&nbsp;&nbsp;提升业绩与用户忠诚度的<br />核心驱动力</span>
              <span class="text_4">
                通过会员的专属服务通道、优先响应机制，实时查看会员完成的调<br />
                查质量、定制的功能开关，给予指定会员的特权、会员佣金的财务<br />
                跟踪，保证财务对账的数据确定性。促进会员与您的黏性，从而达<br />
                成长期稳定的合作关系，提高会员数据的透明度。

              </span>
            </div>
            <img class="image_2" referrerpolicy="no-referrer" src="" />
          </div>
          <div class="box_3 flex-row justify-between">
            <img class="image_3" referrerpolicy="no-referrer" src="" />
            <div class="text-group_3 flex-col ">
              <span class="text_3">数据中心</span>
              <span class="text_4">

                调查数据中心，展示多维度数据管理，支持查看您的收益以及会员<br />
                的收益，对每个项目的成本进行管控。根据会员的排行榜，了解部 <br />
                门与会员的绩效评估，明确工作成果和激励员工提高工作绩效

              </span>
            </div>
          </div>

        </div>
      </div>
    </div>
    <div class="box_4 flex-col">
      <img src="">
      <span class="text_5">诚邀供应商·开启合作新篇章</span>
    </div>
  </div>
</body>
`,Dw=`
<body>
<style type="text/css">
* {

    margin: 0;
    padding: 0;
  }
.margin-left {
  margin-left: 15px;
}
  .flex-col {
    display: flex;
    flex-direction: column;
  }

  .flex-row {
    display: flex;
    flex-direction: row;
  }

  .justify-between {
    display: flex;
    justify-content: space-around;
  }

  .nav {
    position: fixed;
    top: 0;
    left: 0;
    z-index: 3;
    width: 100%;
    height: 4rem;
    background-color: #fff;
    border-bottom: 1px solid #ebebeb;

  }

  .top-nav {
    display: flex;
    align-items: center;
    justify-content: space-between;
    color: #0f0f0f;
    padding: 0 11.25rem 0 11.25rem;
    height: 100%;
  }

  .top-nav p {
    font-weight: bold;
  }

  .button-div button {
    width: 4rem;
    height: 2.25rem;
    cursor: pointer;
    color: #fff;
    background: #409eff;
    border: 1px solid #409eff;
    border-radius: 4px 4px 4px 4px;
  }

  .group_5 {

    width: 100%;

    background-image: linear-gradient(180deg,
        rgba(237, 244, 255, 1) 0,
        rgba(255, 255, 255, 1) 100%);
  }

  .block_4 {

    margin-top: 198px;
    margin-left: 11.25rem;
  }

  .box_10 {
    height: 5.494rem;
    margin-top: 1.92rem;
  }

  .text_36 {

    color: rgba(51, 51, 51, 1);
    font-size: 3rem;
    font-family: Source Han Sans CN-Bold;
    font-weight: 700;

    white-space: nowrap;

  }

  .text_37 {
    width: 21.227rem;

    color: rgba(119, 119, 119, 1);
    font-size: 1.5rem;
    font-family: Source Han Sans CN-Medium;
    font-weight: 500;

    margin-top: 1rem;
  }


  .image_11 {
    width: 32.5rem;
    height: 32.5rem;
  }

  .text-group-1 {
    padding-top: 4rem;
    margin-bottom: 4rem;
  }




  .box_5 {
    background-color: rgba(248, 249, 251, 1);
    width: 100%;
    text-align: center;
    padding-bottom: 4rem;
  }

  .box-5-margin {
    margin-bottom: 7.5rem;
  }



  .text_8 {

    overflow-wrap: break-word;
    color: rgba(51, 51, 51, 1);
    font-size: 3rem;
    font-family: Source Han Sans CN-Medium;
    font-weight: 500;
    text-align: left;
    white-space: nowrap;

  }



  .box_6 {
    background-color: rgba(255, 255, 255, 1);
    border-radius: 8px;
    width: 21.25rem;
    height: 16.25rem;
    padding: 2.25rem 1.5rem 2.625rem 1.5rem;
  }

  .box-margin {
    margin: 0 2rem;
  }

  .image_5 {
    width: 7.5rem;
    height: 7.5rem;
  }



  .text_9 {

    overflow-wrap: break-word;
    color: rgba(51, 51, 51, 1);
    font-size: 1.5rem;
    font-family: Source Han Sans CN-Medium;
    font-weight: 500;
    text-align: center;
    white-space: nowrap;
    margin: 1.5rem 0 1.5rem 0;

  }

  .text_10 {

    height: 1.28rem;
    overflow-wrap: break-word;
    color: rgba(51, 51, 51, 1);
    font-size: 1rem;
    font-family: Source Han Sans CN-Regular;
    font-weight: 500;
    text-align: left;
    margin-top: 0.427rem;
  }





  .group_1 {
    width: 100%;
    background-color: white;
  }

  .block_1 {
    background-color: white;
    width: 100%;
  }


  .image_1 {
    width: 41.125rem;
    height: 27.375rem;
  }

  .text-group_1 {
    margin-top: 5.375rem;
    margin-left: 5rem;
  }


  .box_2 {

    margin: 7.5rem 11.25rem;
  }

  .text-group_2 {
    margin-top: 5.375rem;
    margin-right: 5rem;
  }

  .text_2 {

    overflow-wrap: break-word;
    color: rgba(51, 51, 51, 1);
    font-size: 3rem;
    font-family: Source Han Sans CN-Medium;
    font-weight: 500;
    text-align: left;
    white-space: nowrap;
  }

  .image_2 {
    width: 41.125rem;
    height: 27.375rem;
  }

  .box_3 {
    margin: 0 11.25rem 7.5rem 11.25rem;
  }

  .image_3 {
    width: 41.125rem;
    height: 27.375rem;
  }

  .text-group_3 {
    margin-top: 5.375rem;
    margin-left: 5rem;
  }

  .text_3 {

    overflow-wrap: break-word;
    color: rgba(51, 51, 51, 1);
    font-size: 3rem;
    font-family: Source Han Sans CN-Medium;
    font-weight: 500;
    text-align: left;
    white-space: nowrap;
  }

  .text_4 {
    overflow-wrap: break-word;
    color: rgba(119, 119, 119, 1);
    font-size: 1.5rem;
    font-family: Source Han Sans CN-Regular;
    font-weight: 400;
    text-align: left;
    margin-top: 1rem;
  }






  .group_2 {
    display: flex;
    justify-content: center;
    margin: 1.707rem 0 0 11.147rem;
  }

  .box_4 {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 100%;
    height: 31.25rem;
    position: relative;
  }

  .box_4 img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .text_5 {
    overflow-wrap: break-word;
    color: rgba(51, 51, 51, 1);
    font-size: 3rem;
    font-family: Source Han Sans CN-Medium;
    font-weight: 500;
    white-space: nowrap;
    z-index: 9999;
  }
</style>
<div class="page flex-col">
    <div class="nav">
      <div class="top-nav">
        <p>供应商官网</p>
        <div class="button-div">
          <button  id="my-button">登录</button>
          <button   class="margin-left" id="my-button2">注册</button>
        </div>

      </div>
    </div>

    <div class="group_5 flex-col">
      <div class="block_4 flex-row justify-between">
        <div class="box_10 flex-col">
          <span class="text_36">有偿问卷在家远程办公也能</span>
          <span class="text_36">轻松赚钱</span>
          <span class="text_37">做完问卷即得奖励</span>



        </div>
        <img class="image_11" referrerpolicy="no-referrer" src=""/>
      </div>
    </div>
    <div class="box-5-margin">
      <div class="box_5 ">
        <div class="text-group_4 text-group-1">
          <span class="text_8">简单三步即可填问卷赚钱</span>

        </div>

        <div class="group_2">
          <div class="box_6">

            <img class="image_5" referrerpolicy="no-referrer" src="" />
            <div class="text-group_5 flex-col justify-between">
              <span class="text_9">注册</span>
              <span class="text_10">
                任何人都可以参加，注册步骤简单只需要30秒
              </span>

            </div>
          </div>
          <div class="box_6 box-margin">
            <img class="image_5" referrerpolicy="no-referrer" src="" />
            <div class="text-group_5 flex-col justify-between">
              <span class="text_9">问卷</span>
              <span class="text_10">
                将在问卷列表中收到问卷，请如实认真回答，并且您所回答内容是匿名的，请放心
              </span>

            </div>

          </div>
          <div class="box_6">
            <img class="image_5" referrerpolicy="no-referrer" src="" />
            <div class="text-group_5 flex-col justify-between">
              <span class="text_9">佣金</span>
              <span class="text_10">
                将在问卷列表中收到问卷，请如实认真回答，操作完成，佣金会在第一时间进入账号明细并且您所回答内容是匿名的，请放心
              </span>

            </div>
          </div>
        </div>

      </div>
    </div>
    <div class="group_1 flex-row">
      <div class="block_1 flex-col">

        <div class="box_3 flex-row justify-between">
          <img class="image_1" referrerpolicy="no-referrer" src="" />
          <div class="text-group_1 flex-col">
            <span class="text_3">在线赚钱</span>
            <span class="text_4">
              在该网站填写问卷就可轻松在线赚钱
              <br />
              我们已经优化系统来匹配最适配的问卷。问卷相关性越高，意味着可获奖金也更多。
              当我们为您匹配到完美问卷后，请及时进行参与，每一份问卷的配额是有限的。
              在该网站上赚钱趣味十足。公司参考您的意见来改善产品开发设计，这意味着您的意见非常宝贵。
            </span>
          </div>
        </div>
        <div class="box_2 flex-row justify-between">
          <div class="text-group_2 flex-col ">
            <span class="text_2">填问卷，在家办公</span>
            <span class="text_4">
              通过您的手机或电脑就可轻松参与问卷填写，您随时随地都可以在线填问卷，所以这是在家工作的理想选择。
              <br />
              这不需要花太多时间，您随时可以参与问卷，任何人都可以通过参与问卷的方式在家赚钱，您甚至可以在填写问卷的同时边做其他事。这是简单、有弹性的快速赚钱方法。
              <br />
              在家填写问卷是一件非常有意义的事，您的意见有助于公司设计更优质的产品和服务，问卷仅作为公司的产品调研使用。
            </span>
          </div>
          <img class="image_2" referrerpolicy="no-referrer" src="" />
        </div>
        <div class="box_3 flex-row justify-between">
          <img class="image_3" referrerpolicy="no-referrer" src="" />
          <div class="text-group_3 flex-col ">
            <span class="text_3">在家工作您能赚多少?</span>
            <span class="text_4">
              您填写的每一份问卷都会获得奖金。这是一份有保障的兼职收入。让您轻松在家填问卷赚钱。我们提供最详细的市场问卷内容，您还可以在问卷邀请上查看每份问卷能赚到的奖金金额。
            </span>
          </div>
        </div>



      </div>

    </div>
    <div class="box_4 flex-col">
      <img
        src=""
        alt="Background Image">
      <span class="text_5">立即注册并体验功能</span>
    </div>
  </div>
</body>
`,Iw=[{id:"B2b-Html",label:"B2B模版",content:jw,category:"Custom"},{id:"B2C-Html",label:"B2C模版",content:Dw,category:"Custom"}],Vw=()=>{alert("这是一个色块")},Rw=[{id:"color-blocks",model:{defaults:{script:Vw,style:{width:"100px",height:"100px",background:"red"}}}}],Bw=nw({__name:"index",emits:["fetch-data"],setup(V,{expose:vt,emit:bt}){const ct=bt,ht=ow({title:"",dialogFormVisible:!1,form:{}}),tt=Uh(null),q=Uh(null);function x(w,C="设计模板"){ht.title=C,ht.form=w,ht.dialogFormVisible=!0}async function M(){await sw(),tt.value=uw.init({fromElement:!0,showOffsets:!0,container:"#gjs",height:"900px",width:"100%",selectorManager:{componentFirst:!0},plugins:[Sw,pw,hw,ww,gw,yw,xw,Tw,Ew,Aw],pluginsOpts:{basic:{flexGrid:!0},presetWebpage:{modalImportTitle:"Import Template",modalImportLabel:'<div style="margin-bottom: 10px; font-size: 13px;">Paste here your HTML/CSS and click Import</div>',modalImportContent(w){return`${w.getHtml()}<style>${w.getCss()}</style>`}}},i18n:{locale:"zh",messages:{zh:cv}},projectData:JSON.parse(ht.form.rawData||"{}"),storageManager:!1,assetManager:{uploadFile:async w=>{const C=w.target.files[0];if(C)try{if(Number(C.size)>2097152)qh.warning({message:"文件大小不能超过 2mb",center:!0});else{const L=new FormData;L.append("file",C),L.append("id",ht.form.id),Zh.uploadHomePageTemplateImage(L).then(et=>{tt.value.AssetManager.add(et.data)})}}catch(O){console.error("Image upload failed",O)}}}}),tt.value.on("block:custom",w=>{Lw(w.blocks)}),tt.value.on("asset:remove",w=>{tt.value.AssetManager.getAll().find(O=>O.get("src")===w.id)&&tt.value.AssetManager.remove(w)}),Iw.forEach(w=>{tt.value.Blocks.add(w.id,w)}),Rw.forEach(w=>{tt.value.Components.addType(w.id,w)})}async function m(){if(ht.title==="设计模板"){const w=tt.value.getHtml(),C=tt.value.getCss(),O=JSON.stringify(tt.value.getProjectData());ht.form={...ht.form,html:w,css:C,rawData:O};const{status:L}=await Zh.edit(ht.form);L===1&&qh.success({message:"编辑成功",center:!0}),ct("fetch-data"),E()}}function E(){tt.value&&(tt.value.destroy(),tt.value=null),ht.form={},ht.dialogFormVisible=!1}return vt({showEdit:x}),(w,C)=>{const O=zh("el-button"),L=zh("el-drawer");return Ac(ht).dialogFormVisible?(Wh(),Gh(L,{key:0,modelValue:Ac(ht).dialogFormVisible,"onUpdate:modelValue":C[0]||(C[0]=et=>Ac(ht).dialogFormVisible=et),title:Ac(ht).title,size:"100%",onOpened:M,onClose:E},{footer:xf(()=>[iw(O,{onClick:E},{default:xf(()=>[Kh(" 取 消 ")]),_:1}),Ac(ht).title==="设计模板"?(Wh(),Gh(O,{key:0,type:"primary",onClick:m},{default:xf(()=>[Kh(" 确 定 ")]),_:1})):$h("",!0)]),default:xf(()=>[aw("div",{id:"gjs",ref_key:"formRef",ref:q},null,512)]),_:1},8,["modelValue","title"])):$h("",!0)}}});export{Bw as _};
