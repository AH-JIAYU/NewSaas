
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{d as ve,aO as ye,r as v,a5 as he,l as ke,b as p,q as Ie,o as r,e as R,g as t,w as l,az as se,F as ie,v as re,f as c,j as m,h as o,H as i,s as ue,aN as pe,t as _,k as b,S as we,N as je,aQ as Se,aR as Ne,ap as Ce,aI as ze,aJ as Le,R as Ve}from"./index-CfmU-pu3.js";import{_ as De}from"./index-DogEUXOi.js";import{_ as Ue}from"./index.vue_vue_type_style_index_0_lang-CGnh8dKB.js";import{_ as xe}from"./index.vue_vue_type_script_setup_true_lang-CHTqDO9P.js";import{u as Be,o as $e,a as de}from"./index-Tp2qjjs4.js";import"./index-ocDIEdH9.js";const ce=D=>(ze("data-v-68c445a5"),D=D(),Le(),D),Ee=ce(()=>_("div",{class:"i-grommet-icons:power-reset h-1em w-1em"},null,-1)),He={class:"tableBig"},Ae={class:"tableBig"},Re={class:"copyId tableSmall"},Fe={class:"id oneLine"},Pe={class:"tableBig"},Me={class:"copyId tableSmall"},Qe={class:"id oneLine"},Oe=ce(()=>_("div",{class:"i-grommet-icons:power-reset h-1em w-1em"},null,-1)),Ke={class:"tableBig"},Te={class:"tableBig"},qe={class:"copyId tableSmall"},Je={class:"id oneLine"},Ge={class:"tableBig"},We={class:"copyId tableSmall"},Xe={class:"id oneLine"},Ye=ve({name:"outsource",__name:"list",setup(D){const U=Be(),{pagination:g,getParams:me,onSizeChange:_e,onCurrentChange:fe}=ye(),F=v(""),C=v(!0),k=v(!0),P=v(),z=v(!1),u=v([]),I=v("default"),w=v(!1),L=v([{sotrtable:!0,checked:!0,label:"租户ID",prop:"tenantId"},{sotrtable:!0,checked:!0,label:"租户名称",prop:"tenantName"},{sotrtable:!0,checked:!0,label:"项目id",prop:"projectId"},{sotrtable:!0,checked:!0,label:"项目名称",prop:"projectName"},{sotrtable:!0,checked:!0,label:"参与/完成/配额/限量",prop:"participationNumber"},{sotrtable:!0,checked:!0,label:"状态",prop:"projectStatus"}]),n=he({tenantId:"",tenantName:"",projectStatus:"",type:2}),x=v([]);function M(f){P.value.showEdit(f,n.type===2?1:0)}function Q(f){_e(f).then(()=>j())}function y(f=1){fe(f).then(()=>j())}function O(){Object.assign(n,{tenantId:"",tenantName:"",projectStatus:"",type:2}),j()}async function j(){try{C.value=!0;const f={...me(),...n};if(n.type===1){const a=await de.list(f);x.value=a.data.projectAllocationInfoList,g.value.total=a.data.total}else{const a=await de.meList(f);x.value=a.data.projectMeAllocationInfoList,g.value.total=a.data.total}C.value=!1}catch{}finally{C.value=!1}}return ke(()=>{L.value.forEach(f=>{f.checked&&u.value.push(f.prop)}),j()}),(f,a)=>{const B=p("el-input"),S=p("el-form-item"),K=p("el-option"),T=p("el-select"),$=je,N=p("ElButton"),q=p("ElFormItem"),J=p("el-form"),G=xe,W=p("ElDivider"),X=Ue,E=p("el-button"),Y=Se,Z=Ne,ee=p("el-row"),d=p("el-table-column"),H=De,h=p("el-text"),te=p("el-empty"),le=p("el-table"),ae=p("ElPagination"),oe=p("el-tab-pane"),ge=p("el-tabs"),be=Ce,ne=Ie("loading");return r(),R("div",{class:we({"absolute-container":z.value})},[t(be,null,{default:l(()=>[t(ge,{modelValue:n.type,"onUpdate:modelValue":a[25]||(a[25]=e=>n.type=e),onTabChange:j},{default:l(()=>[t(oe,{label:"外包项目",name:2},{default:l(()=>[t(G,{"show-toggle":!1},{default:l(({fold:e,toggle:V})=>[t(J,{model:n.select,size:"default","label-width":"100px","inline-message":"",inline:"",class:"search-form"},{default:l(()=>[t(S,{label:""},{default:l(()=>[t(B,{modelValue:n.tenantId,"onUpdate:modelValue":a[0]||(a[0]=s=>n.tenantId=s),clearable:"",placeholder:"租户id",onKeydown:a[1]||(a[1]=se(s=>y(),["enter"]))},null,8,["modelValue"])]),_:1}),t(S,{label:""},{default:l(()=>[t(B,{modelValue:n.tenantName,"onUpdate:modelValue":a[2]||(a[2]=s=>n.tenantName=s),clearable:"",placeholder:"租户名称",onKeydown:a[3]||(a[3]=se(s=>y(),["enter"]))},null,8,["modelValue"])]),_:1}),t(S,{label:""},{default:l(()=>[t(T,{modelValue:n.projectStatus,"onUpdate:modelValue":a[4]||(a[4]=s=>n.projectStatus=s),clearable:"",placeholder:"项目状态",onChange:a[5]||(a[5]=s=>y())},{default:l(()=>[(r(!0),R(ie,null,re(m(U).projectStatusList,(s,A)=>(r(),c(K,{label:s,value:A+1},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:1}),t(q,null,{default:l(()=>[t(N,{type:"primary",onClick:a[6]||(a[6]=s=>y())},{icon:l(()=>[t($,{name:"i-ep:search"})]),default:l(()=>[o(" 筛选 ")]),_:1}),t(N,{onClick:O},{icon:l(()=>[Ee]),default:l(()=>[o(" 重置 ")]),_:1}),t(N,{disabled:"",link:"",onClick:V},{icon:l(()=>[t($,{name:e?"i-ep:caret-bottom":"i-ep:caret-top"},null,8,["name"])]),default:l(()=>[o(" "+i(e?"展开":"收起"),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1032,["model"])]),_:1}),t(W,{"border-style":"dashed"}),t(ee,{gutter:24},{default:l(()=>[t(X),t(Z,null,{default:l(()=>[t(E,{size:"default",onClick:a[7]||(a[7]=()=>{})},{default:l(()=>[o(" 导出 ")]),_:1}),t(Y,{border:k.value,"onUpdate:border":a[8]||(a[8]=e=>k.value=e),tableAutoHeight:z.value,"onUpdate:tableAutoHeight":a[9]||(a[9]=e=>z.value=e),checkList:u.value,"onUpdate:checkList":a[10]||(a[10]=e=>u.value=e),columns:L.value,"onUpdate:columns":a[11]||(a[11]=e=>L.value=e),"line-height":I.value,"onUpdate:lineHeight":a[12]||(a[12]=e=>I.value=e),stripe:w.value,"onUpdate:stripe":a[13]||(a[13]=e=>w.value=e),style:{"margin-left":"12px"},onQueryData:y},null,8,["border","tableAutoHeight","checkList","columns","line-height","stripe"])]),_:1})]),_:1}),ue((r(),c(le,{ref_key:"tableSortRef",ref:F,style:{"margin-top":"10px"},"row-key":"id",data:x.value,border:k.value,size:I.value,stripe:w.value},{empty:l(()=>[t(te,{image:m(pe),"image-size":300},null,8,["image"])]),default:l(()=>[t(d,{align:"center",type:"selection"}),u.value.includes("projectStatus")?(r(),c(d,{key:0,"show-overflow-tooltip":"",prop:"projectStatus",align:"center",label:"状态"},{default:l(({row:e})=>[_("span",He,i(m(U).projectStatusList[e.projectStatus-1]),1)]),_:1})):b("",!0),u.value.includes("tenantName")?(r(),c(d,{key:1,"show-overflow-tooltip":"",prop:"tenantName",align:"center",label:"租户名称"},{default:l(({row:e})=>[_("div",Ae,i(e.tenantName),1)]),_:1})):b("",!0),u.value.includes("tenantId")?(r(),c(d,{key:2,"show-overflow-tooltip":"",prop:"tenantId",align:"center",label:"租户ID"},{default:l(({row:e})=>[_("div",Re,[_("div",Fe,"ID: "+i(e.tenantId),1),t(H,{class:"copy",content:e.tenantId},null,8,["content"])])]),_:1})):b("",!0),u.value.includes("projectName")?(r(),c(d,{key:3,"show-overflow-tooltip":"",prop:"projectName",align:"center",label:"项目名称"},{default:l(({row:e})=>[_("div",Pe,i(e.projectName),1)]),_:1})):b("",!0),u.value.includes("projectId")?(r(),c(d,{key:4,"show-overflow-tooltip":"",prop:"projectId",align:"center",width:"180",label:"项目ID"},{default:l(({row:e})=>[_("div",Me,[_("div",Qe,"ID: "+i(e.projectId),1),t(H,{class:"copy",content:e.projectId},null,8,["content"])])]),_:1})):b("",!0),u.value.includes("participationNumber")?(r(),c(d,{key:5,"show-overflow-tooltip":"",prop:"participationNumber",align:"center",label:"参数",width:"300"},{default:l(({row:e})=>[t(h,{class:"oneLine",type:"danger"},{default:l(()=>[o("参与: "+i(e.participationNumber||0),1)]),_:2},1024),o("   "),t(h,{class:"oneLine",type:"success"},{default:l(()=>[o("完成: "+i(e.doneNumber||0),1)]),_:2},1024),o("   "),t(h,{class:"oneLine",type:"warning"},{default:l(()=>[o("配额: "+i(e.num||0),1)]),_:2},1024),o("   "),t(h,{class:"oneLine",type:"info"},{default:l(()=>[o("限量: "+i(e.limitedQuantity||"-"),1)]),_:2},1024)]),_:1})):b("",!0),t(d,{align:"center",fixed:"right",label:"操作",width:"170"},{default:l(({row:e})=>[t(E,{type:"primary",plain:"",size:"small",onClick:V=>M(e)},{default:l(()=>[o(" 详情 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data","border","size","stripe"])),[[ne,C.value]]),t(ae,{"current-page":m(g).page,total:m(g).total,"page-size":m(g).size,"page-sizes":m(g).sizes,layout:m(g).layout,"hide-on-single-page":!1,class:"pagination",background:"",onSizeChange:Q,onCurrentChange:y},null,8,["current-page","total","page-size","page-sizes","layout"])]),_:1}),t(oe,{label:"接收项目",name:1},{default:l(()=>[t(G,{"show-toggle":!1},{default:l(({fold:e,toggle:V})=>[t(J,{model:n.select,size:"default","label-width":"100px","inline-message":"",inline:"",class:"search-form"},{default:l(()=>[t(S,{label:""},{default:l(()=>[t(B,{modelValue:n.tenantId,"onUpdate:modelValue":a[14]||(a[14]=s=>n.tenantId=s),clearable:"",placeholder:"租户ID"},null,8,["modelValue"])]),_:1}),t(S,{label:""},{default:l(()=>[t(B,{modelValue:n.tenantName,"onUpdate:modelValue":a[15]||(a[15]=s=>n.tenantName=s),clearable:"",placeholder:"租户名称"},null,8,["modelValue"])]),_:1}),t(S,{label:""},{default:l(()=>[t(T,{modelValue:n.projectStatus,"onUpdate:modelValue":a[16]||(a[16]=s=>n.projectStatus=s),clearable:"",placeholder:"项目状态"},{default:l(()=>[(r(!0),R(ie,null,re(m(U).projectStatusList,(s,A)=>(r(),c(K,{label:s,value:A+1},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:1}),t(q,null,{default:l(()=>[t(N,{type:"primary",onClick:a[17]||(a[17]=s=>y())},{icon:l(()=>[t($,{name:"i-ep:search"})]),default:l(()=>[o(" 筛选 ")]),_:1}),t(N,{onClick:O},{icon:l(()=>[Oe]),default:l(()=>[o(" 重置 ")]),_:1}),t(N,{disabled:"",link:"",onClick:V},{icon:l(()=>[t($,{name:e?"i-ep:caret-bottom":"i-ep:caret-top"},null,8,["name"])]),default:l(()=>[o(" "+i(e?"展开":"收起"),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1032,["model"])]),_:1}),t(W,{"border-style":"dashed"}),t(ee,{gutter:24},{default:l(()=>[t(X),t(Z,null,{default:l(()=>[t(E,{size:"default",onClick:a[18]||(a[18]=()=>{})},{default:l(()=>[o(" 导出 ")]),_:1}),t(Y,{border:k.value,"onUpdate:border":a[19]||(a[19]=e=>k.value=e),tableAutoHeight:z.value,"onUpdate:tableAutoHeight":a[20]||(a[20]=e=>z.value=e),checkList:u.value,"onUpdate:checkList":a[21]||(a[21]=e=>u.value=e),columns:L.value,"onUpdate:columns":a[22]||(a[22]=e=>L.value=e),"line-height":I.value,"onUpdate:lineHeight":a[23]||(a[23]=e=>I.value=e),stripe:w.value,"onUpdate:stripe":a[24]||(a[24]=e=>w.value=e),style:{"margin-left":"12px"},onQueryData:y},null,8,["border","tableAutoHeight","checkList","columns","line-height","stripe"])]),_:1})]),_:1}),ue((r(),c(le,{ref_key:"tableSortRef",ref:F,style:{"margin-top":"10px"},"row-key":"id",data:x.value,border:k.value,size:I.value,stripe:w.value},{empty:l(()=>[t(te,{image:m(pe),"image-size":300},null,8,["image"])]),default:l(()=>[t(d,{align:"center",type:"selection"}),u.value.includes("projectStatus")?(r(),c(d,{key:0,"show-overflow-tooltip":"",prop:"projectStatus",align:"center",label:"状态"},{default:l(({row:e})=>[_("span",Ke,i(m(U).projectStatusList[e.projectStatus-1]),1)]),_:1})):b("",!0),u.value.includes("tenantName")?(r(),c(d,{key:1,"show-overflow-tooltip":"",prop:"tenantName",align:"center",label:"租户名称"},{default:l(({row:e})=>[_("div",Te,i(e.tenantName),1)]),_:1})):b("",!0),u.value.includes("tenantId")?(r(),c(d,{key:2,"show-overflow-tooltip":"",prop:"tenantId",align:"center",label:"租户ID"},{default:l(({row:e})=>[_("div",qe,[_("div",Je,"ID: "+i(e.tenantId),1),t(H,{class:"copy",content:e.tenantId},null,8,["content"])])]),_:1})):b("",!0),u.value.includes("projectName")?(r(),c(d,{key:3,"show-overflow-tooltip":"",prop:"projectName",align:"center",label:"项目名称"},{default:l(({row:e})=>[_("div",Ge,i(e.projectName),1)]),_:1})):b("",!0),u.value.includes("projectId")?(r(),c(d,{key:4,"show-overflow-tooltip":"",prop:"projectId",align:"center",width:"180",label:"项目ID"},{default:l(({row:e})=>[_("div",We,[_("div",Xe,"ID: "+i(e.projectId),1),t(H,{class:"copy",content:e.projectId},null,8,["content"])])]),_:1})):b("",!0),u.value.includes("participationNumber")?(r(),c(d,{key:5,"show-overflow-tooltip":"",prop:"participationNumber",align:"center",label:"参数",width:"300"},{default:l(({row:e})=>[t(h,{class:"oneLine",type:"danger"},{default:l(()=>[o("参与: "+i(e.participationNumber||0),1)]),_:2},1024),o("   "),t(h,{class:"oneLine",type:"success"},{default:l(()=>[o("完成: "+i(e.doneNumber||0),1)]),_:2},1024),o("   "),t(h,{class:"oneLine",type:"warning"},{default:l(()=>[o("配额: "+i(e.num||0),1)]),_:2},1024),o("   "),t(h,{class:"oneLine",type:"info"},{default:l(()=>[o("限量: "+i(e.limitedQuantity||"-"),1)]),_:2},1024)]),_:1})):b("",!0),t(d,{align:"center",fixed:"right",label:"操作",width:"170"},{default:l(({row:e})=>[t(E,{type:"primary",plain:"",size:"small",onClick:V=>M(e)},{default:l(()=>[o(" 详情 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data","border","size","stripe"])),[[ne,C.value]]),t(ae,{"current-page":m(g).page,total:m(g).total,"page-size":m(g).size,"page-sizes":m(g).sizes,layout:m(g).layout,"hide-on-single-page":!1,class:"pagination",background:"",onSizeChange:Q,onCurrentChange:y},null,8,["current-page","total","page-size","page-sizes","layout"])]),_:1})]),_:1},8,["modelValue"]),t($e,{ref_key:"editRef",ref:P,onFetchData:j},null,512)]),_:1})],2)}}}),nt=Ve(Ye,[["__scopeId","data-v-68c445a5"]]);export{nt as default};
