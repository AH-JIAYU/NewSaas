
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{k as x,d as W,r as c,D,ak as g,a as s,al as A,am as h,i as a,o as B,b as N,f as e,w as l,l as z,g as m,p as G,_ as $}from"./index-BqEk6xQN.js";import{C as q}from"./clipboard-BZW9Yx02.js";const k={list:()=>x.post("member-config/get/getMemberConfig"),create:b=>x.post("member-config/insert/insertMemberConfig",b),edit:b=>x.post("member-config/update/updateMemberConfig",b)},Q=W({name:"SurveySettingList",__name:"list",setup(b){const y=c("基本设置"),i=c(!1);({VITE_APP_SETTING:"false",VITE_APP_TITLE:"Fantastic-admin 专业版",VITE_APP_API_BASEURL:"http://47.96.98.102:9100",VITE_APP_DEBUG_TOOL:"",VITE_BUILD_MOCK:"false",VITE_BUILD_SOURCEMAP:"false",VITE_BUILD_COMPRESS:"gzip,brotli",VITE_BUILD_ARCHIVE:"",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1,LEGACY:!1}).VITE_APP_WEBSITE;const f=c(),t=c({webName:"",keyWords:"",memberURL:"",registerOffOrOn:!0,registerExamineOffOrOn:!1,priceProportion:null,withdrawalMethod:1,taxPointsProportion:null}),R=c({webName:[{required:!0,message:"请输入网站名称",trigger:"blur"}],memberURL:[{required:!0,message:"请输入供应商网址",trigger:"blur"}]});D(()=>{P()});async function P(){i.value=!0;const{data:u}=await k.list();t.value=u||t.value,i.value=!1}const O=new q(".copy");O.on("success",function(u){g.success({message:"复制成功",center:!0}),u.clearSelection(),O.destroy()}),O.on("error",function(){g.error({message:"复制失败",center:!0})});function I(){t.value.id?f.value&&f.value.validate(u=>{if(u){let{id:o,keyWords:V,registerExamineOffOrOn:n,registerOffOrOn:w,memberURL:E,webName:d,priceProportion:U,withdrawalMethod:p,taxPointsProportion:_}=t.value;const v={id:o,keyWords:V,registerExamineOffOrOn:n,registerOffOrOn:w,memberURL:E,webName:d,priceProportion:U,withdrawalMethod:p,taxPointsProportion:_};i.value=!0,k.edit(v).then(()=>{i.value=!1,P(),g.success({message:"修改成功",center:!0})})}}):f.value&&f.value.validate(u=>{u&&(i.value=!0,k.create(t.value).then(()=>{i.value=!1,P(),g.success({message:"新增成功",center:!0})}))})}return(u,o)=>{const V=s("el-switch"),n=s("el-form-item"),w=s("el-col"),E=s("el-row"),d=s("el-input"),U=s("el-text"),p=s("el-button"),_=s("el-tab-pane"),v=s("el-radio"),T=s("el-radio-group"),L=s("el-form"),M=s("el-tabs"),C=G,S=A("loading");return h((B(),N("div",null,[e(C,null,{default:l(()=>[e(M,{modelValue:a(y),"onUpdate:modelValue":o[12]||(o[12]=r=>z(y)?y.value=r:null)},{default:l(()=>[e(L,{ref_key:"formRef",ref:f,model:a(t),rules:a(R),"label-position":"right","label-width":"130px",style:{width:"500px"}},{default:l(()=>[e(_,{label:"基本设置",name:"基本设置"},{default:l(()=>[e(E,{gutter:20},{default:l(()=>[e(w,{span:7},{default:l(()=>[e(n,{label:"注册开关"},{default:l(()=>[e(V,{modelValue:a(t).registerOffOrOn,"onUpdate:modelValue":o[0]||(o[0]=r=>a(t).registerOffOrOn=r),"active-text":"开启","inline-prompt":"","inactive-text":"关闭","active-value":!0,"inactive-value":!1},null,8,["modelValue"])]),_:1})]),_:1}),e(w,{span:6},{default:l(()=>[e(n,{label:"注册审核"},{default:l(()=>[e(V,{modelValue:a(t).registerExamineOffOrOn,"onUpdate:modelValue":o[1]||(o[1]=r=>a(t).registerExamineOffOrOn=r),"active-text":"开启","inline-prompt":"","inactive-text":"关闭","active-value":!0,"inactive-value":!1},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(n,{prop:"webName",label:"网站名称"},{default:l(()=>[e(d,{modelValue:a(t).webName,"onUpdate:modelValue":o[2]||(o[2]=r=>a(t).webName=r),style:{width:"18rem"}},null,8,["modelValue"])]),_:1}),e(n,{label:"keyWords"},{default:l(()=>[e(d,{modelValue:a(t).keyWords,"onUpdate:modelValue":o[3]||(o[3]=r=>a(t).keyWords=r),style:{width:"18rem"}},null,8,["modelValue"])]),_:1}),e(n,{style:{width:"33rem"},label:"会员网址",prop:"memberURL"},{default:l(()=>[e(d,{modelValue:a(t).memberURL,"onUpdate:modelValue":o[4]||(o[4]=r=>a(t).memberURL=r),style:{width:"8rem"}},null,8,["modelValue"]),e(U,{class:"mx-1"},{default:l(()=>[m(".front-saas-web.surveyssaas.com")]),_:1}),e(p,{class:"copy","data-clipboard-text":`${a(t).memberURL}.front-saas-web.surveyssaas.com`,type:"primary",link:""},{default:l(()=>[m("复制")]),_:1},8,["data-clipboard-text"])]),_:1}),e(n,null,{default:l(()=>[e(p,{type:"primary",onClick:I},{default:l(()=>[m(" 确认 ")]),_:1})]),_:1})]),_:1}),e(_,{label:"高级设置",name:"高级设置"},{default:l(()=>[e(n,{label:"默认会员价格比例",prop:"confirmPassword"},{default:l(()=>[e(d,{modelValue:a(t).priceProportion,"onUpdate:modelValue":o[5]||(o[5]=r=>a(t).priceProportion=r),modelModifiers:{number:!0},style:{width:"18rem"},placeholder:""},null,8,["modelValue"])]),_:1}),e(n,{label:"抵扣税点",prop:"confirmPassword"},{default:l(()=>[e(d,{modelValue:a(t).taxPointsProportion,"onUpdate:modelValue":o[6]||(o[6]=r=>a(t).taxPointsProportion=r),modelModifiers:{number:!0},style:{width:"18rem"},placeholder:""},null,8,["modelValue"])]),_:1}),e(n,{label:"提现方式",prop:"confirmPassword"},{default:l(()=>[e(T,{modelValue:a(t).withdrawalMethod,"onUpdate:modelValue":o[7]||(o[7]=r=>a(t).withdrawalMethod=r),class:"ml-4"},{default:l(()=>[e(v,{value:1,size:"large"},{default:l(()=>[m(" 手动提现 ")]),_:1}),e(v,{value:2,size:"large"},{default:l(()=>[m(" 生成账单 ")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(n,null,{default:l(()=>[e(p,{type:"primary",onClick:I},{default:l(()=>[m(" 确认 ")]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"]),e(L,{"label-width":"130px"},{default:l(()=>[e(_,{label:"联系我们",name:"联系我们"},{default:l(()=>[e(n,{label:"电子邮箱",prop:"originalPassword"},{default:l(()=>[e(d,{style:{width:"18rem"},modelValue:a(t).keyWords,"onUpdate:modelValue":o[8]||(o[8]=r=>a(t).keyWords=r),placeholder:""},null,8,["modelValue"])]),_:1}),e(n,{label:"手机号码",prop:"newPassword"},{default:l(()=>[e(d,{style:{width:"18rem"},modelValue:a(t).keyWords,"onUpdate:modelValue":o[9]||(o[9]=r=>a(t).keyWords=r),placeholder:""},null,8,["modelValue"])]),_:1}),e(n,{label:"QQ号码",prop:"confirmPassword"},{default:l(()=>[e(d,{style:{width:"18rem"},modelValue:a(t).keyWords,"onUpdate:modelValue":o[10]||(o[10]=r=>a(t).keyWords=r),placeholder:""},null,8,["modelValue"])]),_:1}),e(n,{label:"公司地址",prop:"confirmPassword"},{default:l(()=>[e(d,{style:{width:"18rem"},modelValue:a(t).keyWords,"onUpdate:modelValue":o[11]||(o[11]=r=>a(t).keyWords=r),placeholder:""},null,8,["modelValue"])]),_:1}),e(n,null,{default:l(()=>[e(p,{type:"primary"},{default:l(()=>[m(" 确认 ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})])),[[S,a(i)]])}}}),J=$(Q,[["__scopeId","data-v-06737a96"]]);export{J as default};
