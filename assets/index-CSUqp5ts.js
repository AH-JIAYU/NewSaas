
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{a as N}from"./survey_vipGroup-wWZxV-6c.js";import{o as B}from"./apiLoading-C-p_W3i3.js";import{d as E,aK as S,r as _,a5 as q,a as i,p as R,o as h,e as y,w as o,s as F,f as t,g,q as H,i as a,H as u,I as K,R as M}from"./index-DStosuG6.js";const Q={class:"dialog-footer"},T=E({__name:"index",emits:["fetch-data"],setup(U,{expose:C,emit:A}){const{pagination:n,getParams:w,onSizeChange:z,onCurrentChange:x}=S(),s=_(!1),c=_(!1),f=_([]),v=q({memberGroupId:""});async function I(e){v.memberGroupId=e.memberGroupId,await d(),s.value=!0}async function d(){try{c.value=!0;const e={...w(),...v},{data:r}=await B(N.getProjectList(e));f.value=r.getMemberGroupProjectInfoList,n.value.total=r.total,c.value=!0}catch{}finally{c.value=!0}}function P(e){z(e).then(()=>d())}function V(e=1){x(e).then(()=>d())}function m(){s.value=!1}return C({showEdit:I}),(e,r)=>{const p=i("el-table-column"),k=i("el-empty"),D=i("el-table"),b=i("el-button"),G=i("ElPagination"),j=i("el-dialog"),L=R("loading");return h(),y(j,{modelValue:a(s),"onUpdate:modelValue":r[0]||(r[0]=l=>K(s)?s.value=l:null),title:"承接项目",onClose:m},{footer:o(()=>[F("div",Q,[t(b,{onClick:m},{default:o(()=>[g(" 取消 ")]),_:1}),t(b,{type:"primary",onClick:m},{default:o(()=>[g(" 确定 ")]),_:1})])]),default:o(()=>[H((h(),y(D,{border:"",data:a(f),stripe:""},{empty:o(()=>[t(k,{class:"vab-data-empty",description:"暂无数据"})]),default:o(()=>[t(p,{type:"index",align:"center",label:"序号",width:"55"}),t(p,{align:"center",prop:"projectId","show-overflow-tooltip":"",label:"项目编码"}),t(p,{align:"center",prop:"projectName","show-overflow-tooltip":"",label:"项目名称"}),t(p,{align:"center",prop:"c","show-overflow-tooltip":"",label:"参与/完成/配额/限量"},{default:o(({row:l})=>[g(u(l.participation||0)+"/ "+u(l.complete||0)+"/ "+u(l.num||0)+"/ "+u(l.limitedQuantity||0),1)]),_:1})]),_:1},8,["data"])),[[L,a(c)]]),t(G,{"current-page":a(n).page,total:a(n).total,"page-size":a(n).size,"page-sizes":a(n).sizes,layout:a(n).layout,"hide-on-single-page":!1,class:"pagination",background:"",onSizeChange:P,onCurrentChange:V},null,8,["current-page","total","page-size","page-sizes","layout"])]),_:1},8,["modelValue"])}}}),X=M(T,[["__scopeId","data-v-0c8e9dcc"]]);export{X as default};
