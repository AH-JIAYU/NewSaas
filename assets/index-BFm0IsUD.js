
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{k as pe,d as ce,aj as ue,aM as de,r as d,c as i,n as me,a as h,q as _e,o as l,b as M,f as r,w as o,i as t,g as m,A as _,B as I,s as fe,e as s,aN as he,j as c,v as f,O as C,aP as be,aQ as ge,ao as ye,M as ve}from"./index-CBBxVEK9.js";import{_ as Ie}from"./index-BxlS9xjj.js";import{_ as Ce}from"./index.vue_vue_type_style_index_0_lang-TgOdXadB.js";import{_ as Se}from"./index-C6KJtzhY.js";import"./index-D5y_2O8h.js";import"./clipboard-DI1h4Q1h.js";import"./index.vue_vue_type_script_setup_true_lang-DuHxFTL7.js";import"./sortable.esm-C0-Qcoum.js";const ke={list:P=>pe.post("callback/getProjectTerminationScreenDetail",P)},je={class:"tableBig oneLine"},we={class:"copyId tableSmall"},Ne={class:"id oneLine projectId"},Te={class:"copyId tableSmall"},De={key:0,class:"id oneLine projectId"},xe={class:"copyId tableSmall"},Le={class:"id oneLine projectId"},ze={class:"copyId tableSmall"},Be={class:"id oneLine projectId"},Pe={class:"copyId tableSmall"},Ve={class:"id oneLine projectId"},He={class:"fontC-System oneLine"},Ee=ce({name:"termination",__name:"index",setup(P){const{t:n}=ue(),{getParams:R,pagination:g,onSizeChange:U,onCurrentChange:A}=de(),j=d(!1),V=d([]),$=d(""),u=d([]),w=d(!0),N=d(!0),T=d("default"),D=d(!1),H=d(),F=d("formSearch-termination"),x=d([{label:i(()=>n("termination.vip")),prop:"surveySource",sortable:!0,checked:!0},{label:i(()=>n("termination.vipID")),prop:"memberChildId",sortable:!0,checked:!0},{label:i(()=>n("termination.subVipId")),prop:"supplierMemberChildId",sortable:!0,checked:!0},{label:i(()=>n("termination.supplierID")),prop:"tenantSupplierId",sortable:!0,checked:!0},{label:i(()=>n("termination.projectID")),prop:"projectId",sortable:!0,checked:!0},{label:i(()=>n("termination.projectName")),prop:"projectName",sortable:!0,checked:!0},{label:i(()=>n("termination.ipCountry")),prop:"ipBelong",sortable:!0,checked:!0},{label:i(()=>n("termination.instructions")),prop:"notes",sortable:!0,checked:!0},{label:i(()=>n("termination.endTime")),prop:"terminationTime",sortable:!0,checked:!0}]),O=[{label:i(()=>n("termination.internalVip")),value:1},{label:i(()=>n("termination.externalVip")),value:2}],y=d({time:[],beginTime:"",endTime:"",surveySource:"",projectId:"",tenantSupplierId:"",projectName:"",ipBelong:""});function q(){g.value.page=1,S()}function Q(a){U(a).then(()=>S())}function E(a=1){A(a).then(()=>S())}async function S(){try{j.value=!0;const a={...R(),...y.value};y.value.time&&y.value.time.length&&(a.beginTime=y.value.time[0]||"",a.endTime=y.value.time[1]||""),delete a.time;const p=await ke.list(a);V.value=p.data.projectTerminationScreenDetailInfoList,g.value.total=p.data.total,j.value=!1}catch{}finally{j.value=!1}}function G(){Object.assign(y.value,{beginTime:"",endTime:"",surveySource:"",projectId:"",tenantSupplierId:"",projectName:"",ipBelong:"",time:[]}),S()}function J(a){$.value=a}me(()=>{x.value.forEach(a=>{a.checked&&u.value.push(a.prop)}),S(),H.value=[{index:1,show:!0,type:"input",modelName:"tenantSupplierId",placeholder:i(()=>n("termination.supplierID"))},{index:2,show:!0,type:"input",modelName:"projectId",placeholder:i(()=>n("termination.projectID"))},{index:3,show:!0,type:"select",modelName:"surveySource",placeholder:i(()=>n("termination.vipType")),option:"surveySource",optionLabel:"label",optionValue:"value"},{index:4,show:!0,type:"input",modelName:"projectName",placeholder:i(()=>n("termination.projectName"))},{index:5,show:!0,type:"input",modelName:"ipBelong",placeholder:i(()=>n("termination.ipCountry"))},{index:6,show:!0,type:"datetimerange",modelName:"time",startPlaceHolder:i(()=>n("termination.CreationStartDate")),endPlaceHolder:i(()=>n("termination.CreationEndDate"))}]});const K={surveySource:()=>O},v=d();function W(a){a?v.value=a.id:v.value=""}return(a,p)=>{const X=Se,Y=h("ElDivider"),Z=Ce,B=h("el-button"),ee=be,te=ge,ne=h("el-row"),b=h("el-table-column"),L=h("el-tooltip"),k=Ie,z=h("el-text"),oe=h("el-tag"),le=h("el-empty"),ae=h("el-table"),ie=h("ElPagination"),re=ye,se=_e("loading");return l(),M("div",{class:C({"absolute-container":t(D)})},[r(re,null,{default:o(()=>[r(X,{formSearchList:t(H),formSearchName:t(F),onCurrentChange:E,onOnReset:G,model:t(y),formOption:K},null,8,["formSearchList","formSearchName","model"]),r(Y,{"border-style":"dashed"}),r(ne,null,{default:o(()=>[r(Z),r(te,null,{default:o(()=>[r(B,{size:"default"},{default:o(()=>[m(_(t(n)("termination.export")),1)]),_:1}),r(ee,{border:t(w),"onUpdate:border":p[0]||(p[0]=e=>I(w)?w.value=e:null),tableAutoHeight:t(D),"onUpdate:tableAutoHeight":p[1]||(p[1]=e=>I(D)?D.value=e:null),checkList:t(u),"onUpdate:checkList":p[2]||(p[2]=e=>I(u)?u.value=e:null),columns:t(x),"onUpdate:columns":p[3]||(p[3]=e=>I(x)?x.value=e:null),"line-height":t(T),"onUpdate:lineHeight":p[4]||(p[4]=e=>I(T)?T.value=e:null),stripe:t(N),"onUpdate:stripe":p[5]||(p[5]=e=>I(N)?N.value=e:null),style:{"margin-left":"12px"},onQueryData:q},null,8,["border","tableAutoHeight","checkList","columns","line-height","stripe"])]),_:1})]),_:1}),fe((l(),s(ae,{border:t(w),data:t(V),size:t(T),stripe:t(N),"highlight-current-row":"",onCurrentChange:W,onSelectionChange:J},{empty:o(()=>[r(le,{image:t(he),"image-size":300},null,8,["image"])]),default:o(()=>[t(u).includes("surveySource")?(l(),s(b,{key:0,align:"left",prop:"surveySource","show-overflow-tooltip":"",width:"120",label:t(n)("termination.vip")},{default:o(({row:e})=>[e.surveySource===1?(l(),s(B,{key:0,class:"p-1",size:"small",type:"primary"},{default:o(()=>[m(_(t(n)("termination.internalVip")),1)]),_:1})):c("",!0),e.surveySource===2?(l(),s(B,{key:1,class:"p-1",size:"small",type:"warning"},{default:o(()=>[m(_(t(n)("termination.externalVip")),1)]),_:1})):c("",!0)]),_:1},8,["label"])):c("",!0),t(u).includes("projectName")?(l(),s(b,{key:1,align:"left",prop:"projectName","show-overflow-tooltip":"",label:t(n)("termination.projectName")},{default:o(({row:e})=>[f("div",je,_(e.projectName),1)]),_:1},8,["label"])):c("",!0),t(u).includes("projectId")?(l(),s(b,{key:2,align:"left",prop:"projectId",width:"180",label:t(n)("termination.projectID")},{default:o(({row:e})=>[f("div",we,[f("div",Ne,[r(L,{effect:"dark",content:e.projectId,placement:"top-start"},{default:o(()=>[m(_(e.projectId),1)]),_:2},1032,["content"])]),r(k,{content:e.projectId,class:C({rowCopy:"rowCopy",current:e.id===t(v)})},null,8,["content","class"])])]),_:1},8,["label"])):c("",!0),t(u).includes("memberChildId")?(l(),s(b,{key:3,align:"left",prop:"",width:"180","show-overflow-tooltip":"",label:t(n)("termination.vipID")},{default:o(({row:e})=>[f("div",Te,[e.peopleType===1?(l(),M("div",De,[r(L,{effect:"dark",content:e.memberChildId,placement:"top-start"},{default:o(()=>[m(_(e.memberChildId),1)]),_:2},1032,["content"])])):c("",!0),r(k,{content:e.memberChildId,class:C({rowCopy:"rowCopy",current:e.id===t(v)})},null,8,["content","class"])])]),_:1},8,["label"])):c("",!0),t(u).includes("supplierMemberChildId")?(l(),s(b,{key:4,align:"left",prop:"",width:"180",label:t(n)("termination.subVipId")},{default:o(({row:e})=>[f("div",xe,[f("div",Le,[e.peopleType!==1?(l(),s(z,{key:0},{default:o(()=>[r(L,{effect:"dark",content:e.memberChildId,placement:"top-start"},{default:o(()=>[m(_(e.memberChildId),1)]),_:2},1032,["content"])]),_:2},1024)):(l(),s(z,{key:1},{default:o(()=>[m(" - ")]),_:1}))]),e.peopleType!==1?(l(),s(k,{key:0,content:e.memberChildId,class:C({rowCopy:"rowCopy",current:e.id===t(v)})},null,8,["content","class"])):c("",!0)])]),_:1},8,["label"])):c("",!0),t(u).includes("tenantSupplierId")?(l(),s(b,{key:5,align:"left",prop:"tenantSupplierId",width:"180","show-overflow-tooltip":"",label:t(n)("termination.supplierID")},{default:o(({row:e})=>[f("div",ze,[f("div",Be,[e.tenantSupplierId?(l(),s(z,{key:0},{default:o(()=>[r(L,{effect:"dark",content:e.tenantSupplierId,placement:"top-start"},{default:o(()=>[m(_(e.tenantSupplierId),1)]),_:2},1032,["content"])]),_:2},1024)):(l(),s(z,{key:1},{default:o(()=>[m(" - ")]),_:1}))]),e.tenantSupplierId?(l(),s(k,{key:0,content:e.tenantSupplierId,class:C({rowCopy:"rowCopy",current:e.id===t(v)})},null,8,["content","class"])):c("",!0)])]),_:1},8,["label"])):c("",!0),t(u).includes("ipBelong")?(l(),s(b,{key:6,align:"left",prop:"ipBelong","show-overflow-tooltip":"",label:t(n)("termination.ipCountry"),width:"220"},{default:o(({row:e})=>[f("div",Pe,[f("div",Ve,[r(oe,{type:"primary"},{default:o(()=>[m(_(e.ipBelong.split("/")[1]),1)]),_:2},1024),m(" "+_(e.ipBelong.split("/")[0]),1)]),r(k,{content:e.ipBelong.split("/")[0],class:C({rowCopy:"rowCopy",current:e.id===t(v)})},null,8,["content","class"])])]),_:1},8,["label"])):c("",!0),t(u).includes("terminationTime")?(l(),s(b,{key:7,label:t(n)("termination.endTime"),align:"left",width:"180",prop:"terminationTime","show-overflow-tooltip":""},{default:o(({row:e})=>[m(_(e.terminationTime),1)]),_:1},8,["label"])):c("",!0),t(u).includes("notes")?(l(),s(b,{key:8,align:"left",prop:"notes","show-overflow-tooltip":"",width:"280",label:t(n)("termination.instructions")},{default:o(({row:e})=>[f("div",He,_(e.notes),1)]),_:1},8,["label"])):c("",!0)]),_:1},8,["border","data","size","stripe"])),[[se,t(j)]]),r(ie,{"current-page":t(g).page,total:t(g).total,"page-size":t(g).size,"page-sizes":t(g).sizes,layout:t(g).layout,"hide-on-single-page":!1,class:"pagination",background:"",onSizeChange:Q,onCurrentChange:E},null,8,["current-page","total","page-size","page-sizes","layout"])]),_:1})],2)}}}),Qe=ve(Ee,[["__scopeId","data-v-7dd316bb"]]);export{Qe as default};
