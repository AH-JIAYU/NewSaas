
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{x as _,d as U,aK as H,r as q,k as A,G as O,J as G,a as m,p as T,q as i,o as h,b as u,f as s,w as l,s as e,aq as r,H as o,j as D,S as $,ap as j,aG as z,aH as E,g as w,R as J}from"./index-D8dYCUsd.js";const K={list:n=>_.get("survey/data/list",{params:n,baseURL:"/mock/"}),detail:n=>_.get("survey/data/detail",{params:{id:n},baseURL:"/mock/"}),dataList:n=>_.post("member-dataCenter/getMemberDataCenter",n),create:n=>_.post("survey/data/create",n,{baseURL:"/mock/"}),edit:n=>_.post("survey/data/edit",n,{baseURL:"/mock/"}),delete:n=>_.post("survey/data/delete",{id:n},{baseURL:"/mock/"})},p=n=>(z("data-v-902bcdd5"),n=n(),E(),n),W={class:"showDataRow",gutter:24},X={class:"showDataCol"},Y={class:"showDataP"},Z={class:"showDataP"},ee={class:"showDataP"},ae={class:"showDataCount"},te={class:"showDataSpanLeft"},se={key:0,class:"showDataSpanRight"},oe=p(()=>e("span",{class:"dd"},null,-1)),le={class:"participate"},ne={class:"showDataCol"},ce={class:"showDataP"},ie={class:"showDataP"},re={class:"showDataP"},de={class:"showDataCount"},pe={class:"showDataSpanLeft"},_e={key:0,class:"showDataSpanRight"},me=p(()=>e("span",{class:"dd"},null,-1)),he={class:"participate"},ue={class:"showDataCol"},ve={class:"showDataP"},be={class:"showDataP"},ye={class:"showDataP"},fe={class:"showDataCount"},ge={class:"showDataSpanLeft"},De={key:0,class:"showDataSpanRight"},we=p(()=>e("span",{class:"dd"},null,-1)),Ce={class:"participate"},Le={class:"showDataCol"},Se=p(()=>e("p",{class:"showDataP"},"待审金额",-1)),Ve={class:"showDataCount"},ke={class:"showDataSpanLeft"},Pe={class:"showDataCol"},Fe=p(()=>e("p",{class:"showDataP"},"可用余额",-1)),Ie={class:"showDataCount"},Oe={class:"showDataSpanLeft"},Re={class:"ranking"},Ne={class:"rankingCol"},xe=p(()=>e("p",{class:"rankingColP"},[e("span",{class:"rankingColSpan"}),w("完成排行榜")],-1)),Be={style:{color:"#0F0F0F"}},Qe={style:{color:"#FF2D2D"}},Me={style:{color:"#00C738"}},Ue={class:"rankingCol"},He=p(()=>e("p",{class:"rankingColP"},[e("span",{class:"rankingColSpan"}),w("退款排行榜")],-1)),qe={style:{color:"#0F0F0F"}},Ae={style:{color:"#FF2D2D"}},Ge={style:{color:"#00C738"}},Te={style:{color:"#0F0F0F"}},$e={class:"rankingCol"},je=p(()=>e("p",{class:"rankingColP"},[e("span",{class:"rankingColSpan"}),w("业绩排行榜")],-1)),ze={style:{color:"#0F0F0F"}},Ee={style:{color:"#FF2D2D"}},Je={style:{color:"#00C738"}},Ke=U({name:"surveydata",__name:"list",setup(n){const{pagination:R,getParams:We}=H(),a=q({loading:!1,tableAutoHeight:!1,formMode:"router",formModeProps:{visible:!1,id:""},search:{type:"day"},batch:{enable:!1,selectionDataList:[]},memberDataCenterCompletedVOList:[],memberDataCenterRefundVOList:[],memberDataCenterPriceVOList:[],dataScreening:{participationVolume:"",completedQuantity:"",turnover:"",settlementRatio:"",pendingBalance:"",availableBalance:""}}),N=()=>{v()};A(()=>{v(),a.value.formMode==="router"&&O.on("get-data-list",()=>{v()})}),G(()=>{a.value.formMode==="router"&&O.off("get-data-list")});function v(){try{a.value.loading=!0;const b={clickTime:a.value.search.type};K.dataList(b).then(d=>{a.value.loading=!1,a.value.memberDataCenterCompletedVOList=d.data.memberDataCenterCompletedVOList,a.value.memberDataCenterRefundVOList=d.data.memberDataCenterRefundVOList,a.value.memberDataCenterPriceVOList=d.data.memberDataCenterPriceVOList,a.value.dataScreening=d.data.memberDataCenterOverallOverviewVOList,R.value.total=d.data.total})}catch{}finally{a.value.loading=!1}}return(b,d)=>{const y=m("el-radio-button"),x=m("el-radio-group"),B=m("el-row"),c=m("el-table-column"),f=m("el-empty"),g=m("el-table"),Q=j,M=T("loading");return i((h(),u("div",{class:$({"absolute-container":a.value.tableAutoHeight})},[s(Q,null,{default:l(()=>{var C,L,S,V,k,P,F,I;return[s(B,{style:{margin:"0 0 1rem 0"}},{default:l(()=>[s(x,{modelValue:a.value.search.type,"onUpdate:modelValue":d[0]||(d[0]=t=>a.value.search.type=t),onChange:N},{default:l(()=>[s(y,{label:"日",value:"day"}),s(y,{label:"月",value:"month"}),s(y,{label:"年",value:"year"})]),_:1},8,["modelValue"])]),_:1}),e("div",W,[e("div",X,[i(e("p",Y,"今日参与量",512),[[r,a.value.search.type==="day"]]),i(e("p",Z,"当月参与量",512),[[r,a.value.search.type==="month"]]),i(e("p",ee,"年度参与量",512),[[r,a.value.search.type==="year"]]),e("div",ae,[e("span",te,o(((C=a.value.dataScreening)==null?void 0:C.participationVolume)||0),1),a.value.search.type!=="year"?(h(),u("span",se,[oe,e("span",le,o(a.value.search.type==="month"?"上月":"昨日")+"："+o(((L=a.value.dataScreening)==null?void 0:L.participationVolumeDifference)||0),1)])):D("",!0)])]),e("div",ne,[i(e("p",ce,"今日完成量",512),[[r,a.value.search.type==="day"]]),i(e("p",ie,"当月完成量",512),[[r,a.value.search.type==="month"]]),i(e("p",re,"年度完成量",512),[[r,a.value.search.type==="year"]]),e("div",de,[e("span",pe,o(((S=a.value.dataScreening)==null?void 0:S.completedQuantity)||0),1),a.value.search.type!=="year"?(h(),u("span",_e,[me,e("span",he,o(a.value.search.type==="month"?"上月":"昨日")+"："+o(((V=a.value.dataScreening)==null?void 0:V.completedQuantityDifference)||0),1)])):D("",!0)])]),e("div",ue,[i(e("p",ve,"今日营业额",512),[[r,a.value.search.type==="day"]]),i(e("p",be,"当月营业额",512),[[r,a.value.search.type==="month"]]),i(e("p",ye,"年度营业额",512),[[r,a.value.search.type==="year"]]),e("div",fe,[e("span",ge,o(((k=a.value.dataScreening)==null?void 0:k.turnover)||0),1),a.value.search.type!=="year"?(h(),u("span",De,[we,e("span",Ce,o(a.value.search.type==="month"?"上月":"昨日")+"："+o(((P=a.value.dataScreening)==null?void 0:P.turnoverDifference)||0),1)])):D("",!0)])]),e("div",Le,[Se,e("div",Ve,[e("span",ke,o(((F=a.value.dataScreening)==null?void 0:F.pendingBalance)||0),1)])]),e("div",Pe,[Fe,e("div",Ie,[e("span",Oe,o(((I=a.value.dataScreening)==null?void 0:I.availableBalance)||0),1)])])]),e("div",Re,[e("div",Ne,[xe,s(g,{data:a.value.memberDataCenterCompletedVOList,class:"tabless",style:{"--el-table-border-color":"none"}},{empty:l(()=>[s(f,{description:"暂无数据"})]),default:l(()=>[s(c,{align:"center",type:"index",width:"60",label:"序号"}),s(c,{"show-overflow-tooltip":"",align:"center",prop:"memberId",label:"会员ID"},{default:l(({row:t})=>[e("span",Be,o(t.memberId?t.memberId:"-"),1)]),_:1}),s(c,{"show-overflow-tooltip":"",align:"center",prop:"memberName",label:"会员名称"},{default:l(({row:t})=>[e("span",Qe,o(t.memberName?t.memberName:"-"),1)]),_:1}),s(c,{"show-overflow-tooltip":"",align:"center",prop:"completedQuantity",label:"完成数量"},{default:l(({row:t})=>[e("span",Me,o(t.completedQuantity?t.completedQuantity:"-"),1)]),_:1})]),_:1},8,["data"])]),e("div",Ue,[He,s(g,{data:a.value.memberDataCenterRefundVOList,style:{"--el-table-border-color":"none"}},{empty:l(()=>[s(f,{description:"暂无数据"})]),default:l(()=>[s(c,{align:"center",type:"index",width:"60",label:"序号"}),s(c,{"show-overflow-tooltip":"",align:"center",prop:"memberId",label:"会员ID"},{default:l(({row:t})=>[e("span",qe,o(t.memberId?t.memberId:"-"),1)]),_:1}),s(c,{"show-overflow-tooltip":"",align:"center",prop:"memberName",label:"会员名称"},{default:l(({row:t})=>[e("span",Ae,o(t.memberName?t.memberName:"-"),1)]),_:1}),s(c,{"show-overflow-tooltip":"",align:"center",prop:"completedQuantity",label:"退款数"},{default:l(({row:t})=>[e("span",Ge,o(t.completedQuantity?t.completedQuantity:"-"),1)]),_:1}),s(c,{"show-overflow-tooltip":"",align:"center",prop:"refund",label:"退款金额"},{default:l(({row:t})=>[e("span",Te,o(t.refund?t.refund:0),1)]),_:1})]),_:1},8,["data"])]),e("div",$e,[je,s(g,{data:a.value.memberDataCenterPriceVOList,style:{"--el-table-border-color":"none"}},{empty:l(()=>[s(f,{description:"暂无数据"})]),default:l(()=>[s(c,{align:"center",type:"index",width:"60",label:"序号"}),s(c,{"show-overflow-tooltip":"",align:"center",prop:"memberId",label:"会员ID"},{default:l(({row:t})=>[e("span",ze,o(t.memberId?t.memberId:"-"),1)]),_:1}),s(c,{"show-overflow-tooltip":"",align:"center",prop:"memberName",label:"会员名称"},{default:l(({row:t})=>[e("span",Ee,o(t.memberName?t.memberName:"-"),1)]),_:1}),s(c,{"show-overflow-tooltip":"",align:"center",prop:"price",label:"今日收入"},{default:l(({row:t})=>[e("span",Je,o(t.price?t.price:0),1)]),_:1})]),_:1},8,["data"])])])]}),_:1})],2)),[[M,a.value.loading]])}}}),Ye=J(Ke,[["__scopeId","data-v-902bcdd5"]]);export{Ye as default};
