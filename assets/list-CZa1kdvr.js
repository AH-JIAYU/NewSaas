
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{x as d,d as N,aO as x,r as B,k as Q,G as V,J as M,a as p,p as U,q as H,o as A,b as J,f as s,w as n,s as e,H as o,S as T,ao as $,aJ as q,aK as z,g as b,R as E}from"./index-DdZkINn2.js";const G={list:l=>d.get("survey/data/list",{params:l,baseURL:"/mock/"}),detail:l=>d.get("survey/data/detail",{params:{id:l},baseURL:"/mock/"}),dataList:l=>d.post("member-dataCenter/getMemberDataCenter",l),create:l=>d.post("survey/data/create",l,{baseURL:"/mock/"}),edit:l=>d.post("survey/data/edit",l,{baseURL:"/mock/"}),delete:l=>d.post("survey/data/delete",{id:l},{baseURL:"/mock/"})},c=l=>(q("data-v-538bf8d3"),l=l(),z(),l),K={class:"showDataRow",gutter:24},j={class:"showDataCol"},W=c(()=>e("p",{class:"showDataP"},"今日参与量",-1)),X={class:"showDataCount"},Y={class:"showDataSpanLeft"},Z={class:"showDataSpanRight"},ee=c(()=>e("span",{class:"dd"},null,-1)),ae={class:"participate"},te={class:"showDataCol"},se=c(()=>e("p",{class:"showDataP"},"今日完成量",-1)),oe={class:"showDataCount"},ne={class:"showDataSpanLeft"},le={class:"showDataSpanRight"},ie=c(()=>e("span",{class:"dd"},null,-1)),ce={class:"participate"},re={class:"showDataCol"},de=c(()=>e("p",{class:"showDataP"},"今日营业额",-1)),pe={class:"showDataCount"},_e={class:"showDataSpanLeft"},me={class:"showDataSpanRight"},ue=c(()=>e("span",{class:"dd"},null,-1)),he={class:"participate"},ve={class:"showDataCol"},be=c(()=>e("p",{class:"showDataP"},"待审金额",-1)),fe={class:"showDataCount"},ge={class:"showDataSpanLeft"},De={class:"showDataCol"},ye=c(()=>e("p",{class:"showDataP"},"可用余额",-1)),Ce={class:"showDataCount"},we={class:"showDataSpanLeft"},Le={class:"ranking"},Se={class:"rankingCol"},Ve=c(()=>e("p",{class:"rankingColP"},[e("span",{class:"rankingColSpan"}),b("完成排行榜")],-1)),ke={style:{color:"#0F0F0F"}},Fe={style:{color:"#FF2D2D"}},Ie={style:{color:"#00C738"}},Oe={class:"rankingCol"},Pe=c(()=>e("p",{class:"rankingColP"},[e("span",{class:"rankingColSpan"}),b("退款排行榜")],-1)),Re={style:{color:"#0F0F0F"}},Ne={style:{color:"#FF2D2D"}},xe={style:{color:"#00C738"}},Be={style:{color:"#0F0F0F"}},Qe={class:"rankingCol"},Me=c(()=>e("p",{class:"rankingColP"},[e("span",{class:"rankingColSpan"}),b("业绩排行榜")],-1)),Ue={style:{color:"#0F0F0F"}},He={style:{color:"#FF2D2D"}},Ae={style:{color:"#00C738"}},Je=N({name:"surveydata",__name:"list",setup(l){const{pagination:k,getParams:Te}=x(),t=B({loading:!1,tableAutoHeight:!1,formMode:"router",formModeProps:{visible:!1,id:""},search:{type:"day"},batch:{enable:!1,selectionDataList:[]},memberDataCenterCompletedVOList:[],memberDataCenterRefundVOList:[],memberDataCenterPriceVOList:[],dataScreening:{participationVolume:"",completedQuantity:"",turnover:"",settlementRatio:"",pendingBalance:"",availableBalance:""}}),F=()=>{_()};Q(()=>{_(),t.value.formMode==="router"&&V.on("get-data-list",()=>{_()})}),M(()=>{t.value.formMode==="router"&&V.off("get-data-list")});function _(){try{t.value.loading=!0;const m={clickTime:t.value.search.type};G.dataList(m).then(r=>{t.value.loading=!1,t.value.memberDataCenterCompletedVOList=r.data.memberDataCenterCompletedVOList,t.value.memberDataCenterRefundVOList=r.data.memberDataCenterRefundVOList,t.value.memberDataCenterPriceVOList=r.data.memberDataCenterPriceVOList,t.value.dataScreening=r.data.memberDataCenterOverallOverviewVOList,k.value.total=r.data.total})}catch{}finally{t.value.loading=!1}}return(m,r)=>{const u=p("el-radio-button"),I=p("el-radio-group"),O=p("el-row"),i=p("el-table-column"),h=p("el-empty"),v=p("el-table"),P=$,R=U("loading");return H((A(),J("div",{class:T({"absolute-container":t.value.tableAutoHeight})},[s(P,null,{default:n(()=>{var f,g,D,y,C,w,L,S;return[s(O,{style:{margin:"0 0 1rem 0"}},{default:n(()=>[s(I,{modelValue:t.value.search.type,"onUpdate:modelValue":r[0]||(r[0]=a=>t.value.search.type=a),onChange:F},{default:n(()=>[s(u,{label:"日",value:"day"}),s(u,{label:"月",value:"month"}),s(u,{label:"年",value:"year"})]),_:1},8,["modelValue"])]),_:1}),e("div",K,[e("div",j,[W,e("div",X,[e("span",Y,o(((f=t.value.dataScreening)==null?void 0:f.participationVolume)||0),1),e("span",Z,[ee,e("span",ae,o(t.value.search.type==="month"?"上月":"昨日")+"："+o(((g=t.value.dataScreening)==null?void 0:g.participationVolumeDifference)||0),1)])])]),e("div",te,[se,e("div",oe,[e("span",ne,o(((D=t.value.dataScreening)==null?void 0:D.completedQuantity)||0),1),e("span",le,[ie,e("span",ce,o(t.value.search.type==="month"?"上月":"昨日")+"："+o(((y=t.value.dataScreening)==null?void 0:y.completedQuantityDifference)||0),1)])])]),e("div",re,[de,e("div",pe,[e("span",_e,o(((C=t.value.dataScreening)==null?void 0:C.turnover)||0),1),e("span",me,[ue,e("span",he,o(t.value.search.type==="month"?"上月":"昨日")+"："+o(((w=t.value.dataScreening)==null?void 0:w.turnoverDifference)||0),1)])])]),e("div",ve,[be,e("div",fe,[e("span",ge,o(((L=t.value.dataScreening)==null?void 0:L.pendingBalance)||0),1)])]),e("div",De,[ye,e("div",Ce,[e("span",we,o(((S=t.value.dataScreening)==null?void 0:S.availableBalance)||0),1)])])]),e("div",Le,[e("div",Se,[Ve,s(v,{data:t.value.memberDataCenterCompletedVOList,class:"tabless",style:{"--el-table-border-color":"none"}},{empty:n(()=>[s(h,{description:"暂无数据"})]),default:n(()=>[s(i,{align:"center",type:"index"}),s(i,{"show-overflow-tooltip":"",width:"180",align:"center",prop:"memberId",label:"会员ID"},{default:n(({row:a})=>[e("span",ke,o(a.memberId?a.memberId:"-"),1)]),_:1}),s(i,{"show-overflow-tooltip":"",align:"center",prop:"memberName",label:"会员名称"},{default:n(({row:a})=>[e("span",Fe,o(a.memberName?a.memberName:"-"),1)]),_:1}),s(i,{"show-overflow-tooltip":"",align:"center",prop:"completedQuantity",label:"完成数量"},{default:n(({row:a})=>[e("span",Ie,o(a.completedQuantity?a.completedQuantity:"-"),1)]),_:1})]),_:1},8,["data"])]),e("div",Oe,[Pe,s(v,{data:t.value.memberDataCenterRefundVOList,style:{"--el-table-border-color":"none"}},{empty:n(()=>[s(h,{description:"暂无数据"})]),default:n(()=>[s(i,{align:"center",type:"index"}),s(i,{"show-overflow-tooltip":"",width:"180",align:"center",prop:"memberId",label:"会员ID"},{default:n(({row:a})=>[e("span",Re,o(a.memberId?a.memberId:"-"),1)]),_:1}),s(i,{"show-overflow-tooltip":"",align:"center",prop:"memberName",label:"会员名称"},{default:n(({row:a})=>[e("span",Ne,o(a.memberName?a.memberName:"-"),1)]),_:1}),s(i,{"show-overflow-tooltip":"",align:"center",prop:"completedQuantity",label:"退款数"},{default:n(({row:a})=>[e("span",xe,o(a.completedQuantity?a.completedQuantity:"-"),1)]),_:1}),s(i,{"show-overflow-tooltip":"",align:"center",prop:"refund",label:"退款金额"},{default:n(({row:a})=>[e("span",Be,o(a.refund?a.refund:0),1)]),_:1})]),_:1},8,["data"])]),e("div",Qe,[Me,s(v,{data:t.value.memberDataCenterPriceVOList,style:{"--el-table-border-color":"none"}},{empty:n(()=>[s(h,{description:"暂无数据"})]),default:n(()=>[s(i,{align:"center",type:"index"}),s(i,{"show-overflow-tooltip":"",width:"180",align:"center",prop:"memberId",label:"会员ID"},{default:n(({row:a})=>[e("span",Ue,o(a.memberId?a.memberId:"-"),1)]),_:1}),s(i,{"show-overflow-tooltip":"",align:"center",prop:"memberName",label:"会员名称"},{default:n(({row:a})=>[e("span",He,o(a.memberName?a.memberName:"-"),1)]),_:1}),s(i,{"show-overflow-tooltip":"",align:"center",prop:"price",label:"今日收入"},{default:n(({row:a})=>[e("span",Ae,o(a.price?a.price:0),1)]),_:1})]),_:1},8,["data"])])])]}),_:1})],2)),[[R,t.value.loading]])}}}),qe=E(Je,[["__scopeId","data-v-538bf8d3"]]);export{qe as default};
