
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{v as V}from"./index-BoYtcLNb.js";import{a as j}from"./survey_myProjeck-6FSKubWE.js";import{f as B}from"./file-Dje8A_0M.js";import{D as I}from"./download-C8PHVIy1.js";import{d as z,r as t,a,l as E,n as L,o as n,b as _,f as o,w as r,j as p,e as f,g as T,C as A,O,p as P,i as Q,N as S}from"./index-BdHtZquS.js";const q={key:0,class:"demo-image__preview"},F={class:"radius flex gap-2 p-2"},G=z({__name:"index",setup(H,{expose:g}){const l=t(!1),m=t(""),e=t({}),c=t(),v=t(),d=t(!1);async function w(u){if(l.value=!0,m.value="项目详情",u){d.value=!0;const s=await j.getQuotaProjectInfo({projectId:u.projectId});e.value=s.data;const i=await B.detail({fileName:e.value.descriptionUrl});c.value=i.data.fileUrl,v.value=[i.data.fileUrl],d.value=!1}}async function y(){await I(c.value,e.value.descriptionUrl)}function x(){l.value=!1}return g({showEdit:w}),(u,s)=>{const i=a("el-image"),U=a("el-button"),h=a("el-col"),k=a("el-row"),C=a("el-empty"),b=a("el-dialog"),D=E("loading");return L((n(),_("div",null,[o(b,{modelValue:l.value,"onUpdate:modelValue":s[0]||(s[0]=N=>l.value=N),"append-to-body":"","close-on-click-modal":!1,"destroy-on-close":"",title:m.value,draggable:"",width:"50%",onClose:x},{default:r(()=>[e.value.descriptionUrl?(n(),_("div",q,[o(i,{style:{width:"6.25rem",height:"6.25rem"},src:c.value,"preview-src-list":v.value,"zoom-rate":1.2,"max-scale":7,"min-scale":.2,"initial-index":0,fit:"cover"},null,8,["src","preview-src-list"])])):p("",!0),e.value.descriptionUrl?(n(),f(U,{key:1,style:{padding:"0"},type:"primary",text:"",onClick:y},{default:r(()=>[T(A(e.value.descriptionUrl)+"下载 ",1)]),_:1})):p("",!0),o(k,{gutter:20,class:O({isNone:!e.value.descriptionUrl})},{default:r(()=>[o(h,{span:24},{default:r(()=>[P("div",F,[o(Q(V),{value:e.value.richText},null,8,["value"])])]),_:1})]),_:1},8,["class"]),e.value.descriptionUrl?p("",!0):(n(),f(C,{key:2,description:"暂无数据"}))]),_:1},8,["modelValue","title"])])),[[D,d.value]])}}}),X=S(G,[["__scopeId","data-v-b9218ef4"]]);export{X as default};
