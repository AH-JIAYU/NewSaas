
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{k as h,d as j,aM as E,r as G,n as x,x as U,B as J,a as u,q as K,s as d,o as c,b as i,f as s,w as l,y as e,aq as _,z as o,g as b,j as w,i as C,aL as k,N as W,bp as L,bq as S,br as V,ap as X,aG as Y,aH as Z,L as $}from"./index-BPxxK-md.js";const ee={list:n=>h.get("survey/data/list",{params:n,baseURL:"/mock/"}),detail:n=>h.get("survey/data/detail",{params:{id:n},baseURL:"/mock/"}),dataList:n=>h.post("member-dataCenter/getMemberDataCenter",n),create:n=>h.post("survey/data/create",n,{baseURL:"/mock/"}),edit:n=>h.post("survey/data/edit",n,{baseURL:"/mock/"}),delete:n=>h.post("survey/data/delete",{id:n},{baseURL:"/mock/"})},m=n=>(Y("data-v-6453bb9c"),n=n(),Z(),n),ae={class:"showDataRow",gutter:24},te={class:"showDataCol"},se={class:"showDataP"},oe={class:"showDataP"},le={class:"showDataP"},ne={class:"showDataCount"},ce={class:"showDataSpanLeft number-font"},ie={key:0,class:"showDataSpanRight"},re=m(()=>e("span",{class:"dd"},null,-1)),de={class:"participate"},_e={class:"number-font"},pe={class:"showDataCol"},me={class:"showDataP"},he={class:"showDataP"},ue={class:"showDataP"},be={class:"showDataCount"},fe={class:"showDataSpanLeft number-font"},ve={key:0,class:"showDataSpanRight"},ye=m(()=>e("span",{class:"dd"},null,-1)),ge={class:"participate"},De={class:"number-font"},we={class:"showDataCol"},Ce={class:"showDataP"},ke={class:"showDataP"},Le={class:"showDataP"},Se={class:"showDataCount"},Ve={class:"showDataSpanLeft number-font"},Pe={key:0,class:"showDataSpanRight"},Ie=m(()=>e("span",{class:"dd"},null,-1)),Oe={class:"participate"},Ne={class:"number-font"},Re={class:"showDataCol"},Be=m(()=>e("p",{class:"showDataP"},"待审金额",-1)),Qe={class:"showDataCount"},Me={class:"showDataSpanLeft number-font"},Ue={class:"showDataCol"},ze=m(()=>e("p",{class:"showDataP"},"可用余额",-1)),Fe={class:"showDataCount"},qe={class:"showDataSpanLeft number-font"},He={class:"ranking"},Ae={class:"rankingCol"},Te=m(()=>e("p",{class:"rankingColP"},[e("span",{class:"rankingColSpan"}),b("完成排行榜")],-1)),je={class:"center-image"},Ee={key:0,src:L},Ge={key:1,src:S},xe={key:2,src:V},Je={key:3,class:"number-font"},Ke={style:{color:"#333333"}},We={style:{color:"#FF2D2D"}},Xe={style:{color:"#00C738"},class:"number-font"},Ye={class:"rankingCol"},Ze=m(()=>e("p",{class:"rankingColP"},[e("span",{class:"rankingColSpan"}),b("退款排行榜")],-1)),$e={class:"center-image"},ea={key:0,src:L},aa={key:1,src:S},ta={key:2,src:V},sa={key:3,class:"number-font"},oa={style:{color:"#333333"}},la={style:{color:"#FB6060"}},na={style:{color:"#00C738"},class:"number-font"},ca={style:{color:"#333333"},class:"number-font"},ia={class:"rankingCol"},ra=m(()=>e("p",{class:"rankingColP"},[e("span",{class:"rankingColSpan"}),b("业绩排行榜")],-1)),da={class:"center-image"},_a={key:0,src:L},pa={key:1,src:S},ma={key:2,src:V},ha={key:3,class:"number-font"},ua={style:{color:"#333333"},class:"number-font"},ba={style:{color:"#FB6060"}},fa={style:{color:"#00C738"},class:"number-font"},va=j({name:"surveydata",__name:"list",setup(n){const{pagination:z,getParams:ya}=E(),t=G({loading:!1,tableAutoHeight:!1,formMode:"router",formModeProps:{visible:!1,id:""},search:{type:"day"},batch:{enable:!1,selectionDataList:[]},memberDataCenterCompletedVOList:[],memberDataCenterRefundVOList:[],memberDataCenterPriceVOList:[],dataScreening:{participationVolume:"",completedQuantity:"",turnover:"",settlementRatio:"",pendingBalance:"",availableBalance:""}}),F=()=>{f()};x(()=>{f(),t.value.formMode==="router"&&U.on("get-data-list",()=>{f()})}),J(()=>{t.value.formMode==="router"&&U.off("get-data-list")});function f(){try{t.value.loading=!0;const v={clickTime:t.value.search.type};ee.dataList(v).then(p=>{t.value.loading=!1,t.value.memberDataCenterCompletedVOList=p.data.memberDataCenterCompletedVOList,t.value.memberDataCenterRefundVOList=p.data.memberDataCenterRefundVOList,t.value.memberDataCenterPriceVOList=p.data.memberDataCenterPriceVOList,t.value.dataScreening=p.data.memberDataCenterOverallOverviewVOList,z.value.total=p.data.total})}catch{}finally{t.value.loading=!1}}return(v,p)=>{const y=u("el-radio-button"),q=u("el-radio-group"),H=u("el-row"),r=u("el-table-column"),g=u("el-empty"),D=u("el-table"),A=X,T=K("loading");return d((c(),i("div",{class:W({"absolute-container":t.value.tableAutoHeight})},[s(A,null,{default:l(()=>{var P,I,O,N,R,B,Q,M;return[s(H,{style:{margin:"0 0 1rem 0"}},{default:l(()=>[s(q,{modelValue:t.value.search.type,"onUpdate:modelValue":p[0]||(p[0]=a=>t.value.search.type=a),onChange:F},{default:l(()=>[s(y,{label:"日",value:"day"}),s(y,{label:"月",value:"month"}),s(y,{label:"年",value:"year"})]),_:1},8,["modelValue"])]),_:1}),e("div",ae,[e("div",te,[d(e("p",se,"今日参与量",512),[[_,t.value.search.type==="day"]]),d(e("p",oe,"当月参与量",512),[[_,t.value.search.type==="month"]]),d(e("p",le,"年度参与量",512),[[_,t.value.search.type==="year"]]),e("div",ne,[e("span",ce,o(((P=t.value.dataScreening)==null?void 0:P.participationVolume)||0),1),t.value.search.type!=="year"?(c(),i("span",ie,[re,e("span",de,[b(o(t.value.search.type==="month"?"上月":"昨日")+"：",1),e("span",_e,o(((I=t.value.dataScreening)==null?void 0:I.participationVolumeDifference)||0),1)])])):w("",!0)])]),e("div",pe,[d(e("p",me,"今日完成量",512),[[_,t.value.search.type==="day"]]),d(e("p",he,"当月完成量",512),[[_,t.value.search.type==="month"]]),d(e("p",ue,"年度完成量",512),[[_,t.value.search.type==="year"]]),e("div",be,[e("span",fe,o(((O=t.value.dataScreening)==null?void 0:O.completedQuantity)||0),1),t.value.search.type!=="year"?(c(),i("span",ve,[ye,e("span",ge,[b(o(t.value.search.type==="month"?"上月":"昨日")+"：",1),e("span",De,o(((N=t.value.dataScreening)==null?void 0:N.completedQuantityDifference)||0),1)])])):w("",!0)])]),e("div",we,[d(e("p",Ce,"今日营业额",512),[[_,t.value.search.type==="day"]]),d(e("p",ke,"当月营业额",512),[[_,t.value.search.type==="month"]]),d(e("p",Le,"年度营业额",512),[[_,t.value.search.type==="year"]]),e("div",Se,[e("span",Ve,o(((R=t.value.dataScreening)==null?void 0:R.turnover)||0),1),t.value.search.type!=="year"?(c(),i("span",Pe,[Ie,e("span",Oe,[b(o(t.value.search.type==="month"?"上月":"昨日")+"：",1),e("span",Ne,o(((B=t.value.dataScreening)==null?void 0:B.turnoverDifference)||0),1)])])):w("",!0)])]),e("div",Re,[Be,e("div",Qe,[e("span",Me,o(((Q=t.value.dataScreening)==null?void 0:Q.pendingBalance)||0),1)])]),e("div",Ue,[ze,e("div",Fe,[e("span",qe,o(((M=t.value.dataScreening)==null?void 0:M.availableBalance)||0),1)])])]),e("div",He,[e("div",Ae,[Te,s(D,{data:t.value.memberDataCenterCompletedVOList,class:"tabless",style:{"--el-table-border-color":"none"}},{empty:l(()=>[s(g,{image:C(k),"image-size":300},null,8,["image"])]),default:l(()=>[s(r,{align:"center",type:"index",width:"60",label:"序号"},{default:l(({$index:a})=>[e("div",je,[a==0?(c(),i("img",Ee)):a==1?(c(),i("img",Ge)):a==2?(c(),i("img",xe)):(c(),i("span",Je,o(a+1),1))])]),_:1}),s(r,{"show-overflow-tooltip":"",align:"left",prop:"memberId",label:"会员ID"},{default:l(({row:a})=>[e("span",Ke,o(a.memberId?a.memberId:"-"),1)]),_:1}),s(r,{"show-overflow-tooltip":"",align:"left",prop:"memberName",label:"会员名称"},{default:l(({row:a})=>[e("span",We,o(a.memberName?a.memberName:"-"),1)]),_:1}),s(r,{"show-overflow-tooltip":"",align:"left",prop:"completedQuantity",label:"完成数量"},{default:l(({row:a})=>[e("span",Xe,o(a.completedQuantity?a.completedQuantity:"-"),1)]),_:1})]),_:1},8,["data"])]),e("div",Ye,[Ze,s(D,{data:t.value.memberDataCenterRefundVOList,style:{"--el-table-border-color":"none"}},{empty:l(()=>[s(g,{image:C(k),"image-size":300},null,8,["image"])]),default:l(()=>[s(r,{align:"center",type:"index",width:"60",label:"序号"},{default:l(({$index:a})=>[e("div",$e,[a==0?(c(),i("img",ea)):a==1?(c(),i("img",aa)):a==2?(c(),i("img",ta)):(c(),i("span",sa,o(a+1),1))])]),_:1}),s(r,{"show-overflow-tooltip":"",align:"left",prop:"memberId",label:"会员ID"},{default:l(({row:a})=>[e("span",oa,o(a.memberId?a.memberId:"-"),1)]),_:1}),s(r,{"show-overflow-tooltip":"",align:"left",prop:"memberName",label:"会员名称"},{default:l(({row:a})=>[e("span",la,o(a.memberName?a.memberName:"-"),1)]),_:1}),s(r,{"show-overflow-tooltip":"",align:"left",prop:"completedQuantity",label:"退款数"},{default:l(({row:a})=>[e("span",na,o(a.completedQuantity?a.completedQuantity:"-"),1)]),_:1}),s(r,{"show-overflow-tooltip":"",align:"left",prop:"refund",label:"退款金额"},{default:l(({row:a})=>[e("span",ca,o(a.refund?a.refund:0),1)]),_:1})]),_:1},8,["data"])]),e("div",ia,[ra,s(D,{data:t.value.memberDataCenterPriceVOList,style:{"--el-table-border-color":"none"}},{empty:l(()=>[s(g,{image:C(k),"image-size":300},null,8,["image"])]),default:l(()=>[s(r,{align:"center",type:"index",width:"60",label:"序号"},{default:l(({$index:a})=>[e("div",da,[a==0?(c(),i("img",_a)):a==1?(c(),i("img",pa)):a==2?(c(),i("img",ma)):(c(),i("span",ha,o(a+1),1))])]),_:1}),s(r,{"show-overflow-tooltip":"",align:"left",prop:"memberId",label:"会员ID"},{default:l(({row:a})=>[e("span",ua,o(a.memberId?a.memberId:"-"),1)]),_:1}),s(r,{"show-overflow-tooltip":"",align:"left",prop:"memberName",label:"会员名称"},{default:l(({row:a})=>[e("span",ba,o(a.memberName?a.memberName:"-"),1)]),_:1}),s(r,{"show-overflow-tooltip":"",align:"left",prop:"price",label:"今日收入"},{default:l(({row:a})=>[e("span",fa,o(a.price?a.price:0),1)]),_:1})]),_:1},8,["data"])])])]}),_:1})],2)),[[T,t.value.loading]])}}}),Da=$(va,[["__scopeId","data-v-6453bb9c"]]);export{Da as default};
