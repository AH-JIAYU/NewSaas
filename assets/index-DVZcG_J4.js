
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{d as Qe,r as h,c as Ct,W as De,n as Ne,bn as Vt,o as c,b as L,s as re,a9 as Lt,y as d,i as l,N as Pt,aP as Tt,aH as Me,aI as qe,E as K,L as Ye,aC as Ut,l as St,ab as Ue,Z as Se,$ as Re,a as g,e as y,w as t,f as a,g as m,j as w,t as S,z as B,aG as ge,F as R,A as ie,bA as Rt,ao as $,_ as kt}from"./index-DQy_kPaF.js";import{u as Et}from"./user_customer-BaALLCBs.js";import{a as Bt}from"./user_customer-hmkTO5gL.js";import{f as se}from"./file-D6cv4k7g.js";import{g as Qt,a as Dt}from"./zh_Hans-CrfEz-Jr.js";import"./index-iJRjh0Y-.js";import{a as ee}from"./projectManagement-DfjdHwrR.js";import{u as Nt}from"./projectManagement_list-DsOY2P1W.js";import Mt from"./index-CJtyUeZ5.js";import{a as qt}from"./configuration_site_setting-CMaT41MI.js";import{_ as Yt}from"./index.vue_vue_type_script_setup_true_lang-rEZDVF_2.js";import"./index.vue_vue_type_script_setup_true_lang-ZP_i8AO8.js";import"./index-CnaoKAq5.js";import"./index-C5a2ISpZ.js";import"./index-C5zOBUGW.js";import"./clipboard-DpATq_tc.js";import"./index-CIOHbPtd.js";import"./department-W2McDP5C.js";import"./position_manage-Db2pZ3bp.js";import"./configuration_role-DiQk_Dat.js";import"./tenant_role-D9sfLjfE.js";import"./configuration_manager-BaBuvxkq.js";import"./configuration_siteSetting-B79rQv5p.js";import"./apiLoading-C3dcULy_.js";import"./stagedData-CqH4g5cE.js";import"./otherFunctions_screenLibrary-CCtA_f-8.js";const Ft=["advlist  autolink autosave code codesample colorpicker colorpicker contextmenu directionality  fullscreen hr image  lists  nonbreaking noneditable paste  print save  spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount"],Ot=["fontsizeselect fontselect fontfamily fontsize fontname  bold italic underline strikethrough alignleft aligncenter alignright outdent indent  e undo redo  hr bullist numlist  image      table  forecolor backcolor fullscreen"];let O=[];function Kt(){return window.tinymce}const Xt=(A,X)=>{const C=document.getElementById(A),p=X||function(){};if(!C){const _=document.createElement("script");_.src=A,_.id=A,document.body.appendChild(_),O.push(p),("onload"in _?j:N)(_)}C&&p&&(Kt()?p(null,C):O.push(p));function j(_){_.onload=function(){this.onerror=this.onload=null;for(const k of O)k(null,_);O=null},_.onerror=function(){this.onerror=this.onload=null,p(new Error("Failed to load "+A),_)}}function N(_){_.onreadystatechange=function(){if(!(this.readyState!=="complete"&&this.readyState!=="loaded")){this.onreadystatechange=null;for(const k of O)k(null,_);O=null}}}},zt=A=>(Me("data-v-c1d151e0"),A=A(),qe(),A),Ht=["id"],Gt=zt(()=>d("div",{class:"editor-custom-btn-container"},null,-1)),Jt="https://cdn.jsdelivr.net/npm/tinymce-all-in-one@4.9.3/tinymce.min.js",Zt=Qe({__name:"index",props:{tinymceHtml:{type:String},id:{type:String,default:()=>"vue-tinymce-"+ +new Date+((Math.random()*1e3).toFixed(0)+"")},value:{type:String,default:""},toolbar:{type:Array,default:()=>[]},menubar:{type:String,default:"file edit insert view format table"},height:{type:[Number,String],default:360},width:{type:[Number,String],default:"auto"}},emits:["changeEditorValue"],setup(A,{emit:X}){const C=h(""),p=A;p&&(C.value=p.tinymceHtml);const j=p.id,N=h(!1);h(!1);const _=h(!1),k={en:"en",zh:"zh_CN",es:"es_MX",ja:"ja"},P=Ct(()=>{const I=p.width;return/^[\d]+(\.[\d]+)?$/.test(I)?`${I}px`:I}),M=X,z=()=>{window.tinymce.init({selector:`#${j}`,language:k.zh,height:p.height,body_class:"panel-body ",object_resizing:!1,branding:!1,paste_data_images:!0,toolbar:p.toolbar.length>0?p.toolbar:Ot,menubar:p.menubar,plugins:Ft,end_container_on_empty_block:!0,powerpaste_word_import:"clean",code_dialog_height:450,code_dialog_width:1e3,advlist_bullet_styles:"square",advlist_number_styles:"default",imagetools_cors_hosts:["www.tinymce.com","codepen.io"],default_link_target:"_blank",link_title:!1,nonbreaking_force_tab:!0,fontsize_formats:"12px 14px 16px 18px 24px 36px 48px 56px 72px",font_formats:"微软雅黑=Microsoft YaHei,Helvetica Neue,PingFang SC,sans-serif;苹果苹方=PingFang SC,Microsoft YaHei,sans-serif;宋体=simsun,serif;仿宋体=FangSong,serif;黑体=SimHei,sans-serif;Arial=arial,helvetica,sans-serif;Arial Black=arial black,avant garde;Book Antiqua=book antiqua,palatino;",init_instance_callback(I){p.value&&I.setContent(p.value),_.value=!0,I.on("change",()=>{const e=I.getContent();C.value=e,M("changeEditorValue",e)})},images_upload_handler:(I,e,Y,ye)=>{const Q=I.blob(),F=10*1024*1024;if(Q.size>F)return K({message:"上传文件大小不得超过200M 当前文件10MB ",type:"error",duration:5*1e3}),!1;{const H=new FormData;H.append("file",Q),se.upload(H).then(T=>{var te,b;T&&((te=T.data)!=null&&te.qiNiuUrl)?se.detail({fileName:(b=T.data)==null?void 0:b.qiNiuUrl}).then(ae=>{var ue;ae&&((ue=ae.data)!=null&&ue.fileUrl)&&e(ae.data.fileUrl)}):Y("上传失败")}).catch(T=>{Y("上传失败: "+T.error)})}},setup(I){I.on("FullscreenStateChanged",e=>{N.value=e.state})}})},q=()=>{Xt(Jt,I=>{I||z()})};return De(()=>p.value,I=>{if(I!==C.value&&_.value){const e=window.tinymce.get(j);e&&e.setContent(I)}}),Ne(()=>{q()}),Vt(()=>{_.value||z()}),(I,e)=>(c(),L("div",{class:Pt([{fullscreen:N.value},"tinymce-container"]),style:Tt({width:P.value})},[re(d("textarea",{id:l(j),"onUpdate:modelValue":e[0]||(e[0]=Y=>C.value=Y),class:"tinymce-textarea"},null,8,Ht),[[Lt,C.value]]),Gt],6))}}),Wt=Ye(Zt,[["__scopeId","data-v-c1d151e0"]]),ke="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADEAAAAwCAYAAAC4wJK5AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAL0SURBVHgB7VgxbBNBENy3HYgLgpKS2BWpbChBgQKoCCVNQGlJmQYJtyAhWiKqdKSOwAUlOA0KBUG4JHEVKgeXSJDCDnnb/Nz93l98/2+DZOUS3UjW2+ffvZ2d3b23vcLjgzseZT7SKUWfelsZOgNwJGyBI2ELHAlb4EjYAkfCFjgStsCRsAWOhC3I0SnBm5Xz4rq+5dPmTvfYd4YSq0vn6PPTPD27P2E4wfrdK1m1NpX3xBpehRmPxokbc1nxupg39zFI/G6TCAgGerD4jPWFq9F66ZIn1qbyRPs/+3RSMEg0fvTEtahlFsEydHLl2UxoYxIA8cK0J67DkHTvqPZGT2x/70aOAyLIMAeO9zLzXqAY3ksSuyFxtltdmggUi1xXv/r0qnak1IIPlCDsnmwc0utHk2Lt+bs/tP7Jp9Ksp9bYHvslETKUwEYwAEphpufn5LX2TRJcCPsCm0mbiMSHyqQgAB9f9nrC3+L1nOipwSCgNgeL+xstmaS3K9EafMA+TZHY6dQMNi4HARanpSGUgDMuNUGurpVTS5JevJZT2bv3sqOUA7FioNryrZxQhIHAfrV7dPNFR6mEwYL1ZpCYh2uHygeUS0LsOYGAOdj5y1HJcKlBGWzE2eFy4qZnBQBcWUFWVEdl4+jYUGD1B32kIZaEnnHONghwqaEMuPFBgMvvQpisplZeehDFGXO7wXt5hP7LtIsn0YomFGeG6x4ZggJ8Xuj9cNCW18Ezo6x8jB7YKFOJEUuiGW7G54NounCMbu/J0kCzAfp45e/4TAEKWiJqOz4NQ+Q/q4gMO0hjGxtBo0yQQTjgHgF2Q5XYMX8GqvUuLd+WjYhptC8GREY1KvdGGqp1X02j95XIRxoSv21os5+zI9f7ifeB/IO1jpjrqH8ogmCQBJ40w4B7McFk70kfteBZaTMlAd64/tpH8MggFPifRxK21wdHHPDX/tieYrGxruA47d2PIlvgSNgCR8IWOBK2wJGwBY6ELXAkbMGZIPEXBMhxlcztnOgAAAAASUVORK5CYII=",Ee="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADEAAAAwCAYAAAC4wJK5AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMDSURBVHgB7Zg/aFNRFMZPNZU+QVMjiFAxLUa0Q1tQbBZJO1kXiy6CYBelLm3BwW51slu7tU6CS4ZAHSzJ1CyaoENbHEyEVgzYSAMqGKOCERTq/Y45j/x7Jk2g3Jb7g8t7uefe98537znnvbyWtsjdwa399Ix2L7F9tAcwInTBiNAFI0IXjAhdMCJ0wYjQBSNCF4wIXdBeRHurRdH+MW69hzqqjnE5TX5y7pbjpLl0jOY34rQTuF0WBY76+ByCquH632TvQU9VW7vLIp1w1RoQ/pSkybXFkr5vv/O0XSDc3dqm5v6i3J/K+V7rCB/T+a+0XWqKgMPpfLaif6JzgGa6r1JO2f0vZ3lMwHOKov5xtp95/oD7vJaHHvXcsEMChD8m6U4yxGLK7eibfx+j6dQS1UvNxOawUqskTUJpbiNG8WyK43TKN8R9Ix39fAxmVmwBUf+Y7WDiR4b72w9YtgCx41rhz0keN3X6Mg0f66F6qbkTw8d7uAm42aXlh3w+/W5JOeGjkRP9FFFhhyOcRD+Y6Aywo0B2BshCQDzsED2aCHFfwONjYeNdAVtU0yKwYsU5kFMxXSxoXlWqce8ALZy/bQsTZ2UHZGeKrwn63IXqt4VdvPBPYKECOVXGhkREVPyOJkOO9uDmKotg55RYOCy4Cyue/pmtOlccxQ6iNUpNEbVYUM8TAauIFQ1mVkvGOJVkyZvJtaeqCr6hRmnqiQ2H4QTCSsrwTPc122nkCbipVllyA/Qe7iixoyBIFURzqohOtDh9UMZjvrgsFhPcXOESiASEc0hKhNHbwfv8e06VyMn1RT5fvnjPFhX/kuI+t9qxsyrRcRQ7nIYdXFGF5Pqrx3b1W1fXxZjX3zM0pIpK2XOm8Q/KUllwc8kDqTATXQNcZWDzv5gtSXS8BaDUQoDY8RvXktxIKGfFUeSZvOL0qR08aVW+RbTs1Kd9OIlW7GA1u4RUORKCH1SRKN+JphO7Xpycq9cO8U6Y/xO6YEToghGhC0aELhgRumBE6IIRoQt7QsRfaqZZ/BHgk/MAAAAASUVORK5CYII=",$t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADEAAAAwCAYAAAC4wJK5AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGvSURBVHgB7ZgxSwNBEIVfxMq00VbTiqVgZ2GlRfwBIjYptBJiFwyoEHtJpUIqLaxsUmhlYSdoJ1qKrdrGNt7LutwmuejeksAkzAdHcnfD3Xw7MxtIprW+cYgMDjCqtHA0gTFAJaSgElJQCSmohBRUQgoqIQWVkIJKSGEsJCa9I8slID8bnze/o6MJvL0DjVvg4yu+d37iF0eKm8DSYuIr8fAI1C8xOInsFDAz3Xt9Yd4kUanGCfaLK6wBtTPg7t55bjY53t7zwF/CwgSYCKVYmfKeSaKw2rtqtdNoNZ9M3O5OFJeLPrcj2U/g+bUzlueMd2EVPQifCb6AL7armp/7O65UjpOicBKspHsMXcLCivjAhKwwW2uApG+n9mzkzHfOgh1KDuF/cLjtM7phy1X3O69VjuFDegk3cTc5d1hDoFhghdJLsC3sirb7/cVsnT7YCib1Op9Zv0AI6SXYNtydQlhZNp8U78ZuAAGklwiBrdLeYn9/D3wr58lwJYpb5nAH+eo6eMX7MVwJm7xtlcbNwAVIRv/aF4JKSEElpKASUlAJKaiEFFRCCiohhbGQ+AFSDoR7XtwY3wAAAABJRU5ErkJggg==",x=A=>(Me("data-v-4faa7419"),A=A(),qe(),A),ea={style:{display:"flex","justify-content":"space-between"},class:"card-header"},ta=x(()=>d("div",{style:{height:"32px","line-height":"32px"}},"基础设置",-1)),aa={style:{float:"left"}},la={style:{float:"right",color:"#fb6868","font-size":"13px"}},oa=x(()=>d("div",{class:"i-ic:round-plus w-1.3em h-1.3em"},null,-1)),na={style:{display:"flex","justify-content":"space-between","align-items":"center",padding:"0 1rem"}},ia=x(()=>d("div",{class:"i-ic:round-plus w-1.3em h-1.3em"},null,-1)),ra=x(()=>d("br",null,null,-1)),sa=x(()=>d("div",{style:{"margin-top":"4px"}}," 若链接后缀不是[uid]，那可能无法校验通过呦~ ",-1)),ua=x(()=>d("div",{class:"card-header"},[d("span",null,"其他设置")],-1)),da=x(()=>d("span",{style:{margin:"0 .25rem"}},"-",-1)),ca={style:{display:"flex","justify-content":"space-between"},class:"card-header"},pa=x(()=>d("span",null,"描述配额",-1)),ma={key:0},fa={style:{display:"flex","flex-direction":"column","align-items":"flex-start"}},ga=x(()=>d("div",{class:"el-upload__text"},"上传",-1)),ya={class:"el-upload__tip"},ba=["src"],va=x(()=>d("div",{class:"card-header"},"配置信息",-1)),_a=x(()=>d("div",{class:"card-header"},"安全信息",-1)),Ia=x(()=>d("div",null,[m("小时"),d("span",{class:"red"},"准入"),m("量")],-1)),ha=x(()=>d("div",null,[m("小时"),d("span",{class:"blue"},"完成"),m("量")],-1)),Aa=x(()=>d("div",null,"开启：ip和随机id都可以重复",-1)),wa=x(()=>d("div",null,"关闭：ip和随机id都不可以重复",-1)),xa={class:"right"},ja={class:"dialog-footer"},Be="例：https://www.xxxx.com/8994343?uid=[uid]",Ca=Qe({name:"SurveyTopTabs",__name:"index",props:{leftTab:Object,tabIndex:Number},emits:["sync-project"],setup(A,{expose:X,emit:C}){const p=Ut(),j=h(!1),N=[{label:"美元",value:"USD"},{label:"人民币",value:"CNY"}],_=[{label:"Windows",value:"1"},{label:"Mac OS",value:"2"},{label:"Linux",value:"3"},{label:"Android",value:"4"},{label:"其他",value:"5"}],k=[{label:"Chrome",value:"1"},{label:"Safari",value:"2"},{label:"Flrefox",value:"3"},{label:"Edge",value:"4"},{label:"Opera",value:"5"},{label:"其他",value:"6"}],P=h(null),M=St();Et();const z=Nt(),q=A,I=C,e=h(q.leftTab),Y=Ue("validateTopTabs"),ye=Ue("currentProjectTimeline"),Q=h("basicSettings"),F=h(),H=h(),T=h(!q.tabIndex),te="https://saas-api.surveysaas.com/api/project/uploadQiniu";let b=h({checked:!1,basicSettings:{countryList:[],customerList:[],B2BTypeList:[],B2BTypeProps:{multiple:!0,checkStrictly:!0,emitPath:!1,value:"chineseName",label:"chineseName",lazy:!0,async lazyLoad(i,o){const r=await M.getB2BTypeItemChildren(i.data.id)||[];o(r)}}},editProps:{id:"",countryId:"",visible:!1,row:""}});const Fe=Se({name:[{required:!0,message:"请输入项目名称",trigger:"blur"},{min:2,max:50,message:"内容在2-50个字之间",trigger:"blur"}],projectIdentification:[{max:100,required:!0,message:"请输入项目标识",trigger:"blur"},{min:2,max:100,message:"内容在2-100个字之间",trigger:"blur"}],countryIdList:[{required:!0,message:"请选择所属区域",trigger:"change"}],clientId:[{required:!0,message:"请选择所属客户",trigger:"change"}],currencyType:[{required:!0,message:"请选择币种",trigger:"change"}],uidUrl:[{required:!0,message:"请输入URL",trigger:"blur"},{validator:(i,o,r)=>{/^(((ht|f)tps?):\/\/)?([^!@#$%^&*?.\s-]([^!@#$%^&*?.\s]{0,63}[^!@#$%^&*?.\s])?\.)+[a-z]{2,6}\/?/.test(e.value.uidUrl)||r(new Error("请输入合法网址")),e.value.uidUrl.includes("[uid]")||r(new Error("格式不正确,请查看例子")),r()},trigger:"blur"}],releaseTime:[{validator:(i,o,r)=>{new Date(e.value.releaseTime).getTime()<Date.now()&&r(new Error("发布时间早于当前时间")),r()},trigger:"blur"}],doMoneyPrice:[{required:!0,message:"请输入项目价",trigger:"blur"},{pattern:/^(?!0(\.0+)?$)(\d+(\.\d{1,2})?)$/,message:"请输入大于0的数字，最多保留两位小数",trigger:"blur"}],num:[{required:!0,message:"请输入配额",trigger:"blur"},{pattern:/^[0-9]+$/,message:"请输入0以上的正整数",trigger:"blur"}],minimumDuration:[{required:!0,message:"请输入最小分长",trigger:"blur"},{pattern:/^(?!0(\.0+)?$)(\d+(\.\d{1,2})?)$/,message:"请输入大于0的数字，最多保留两位小数",trigger:"blur"}],ir:[{required:!0,message:"请输入ir",trigger:"blur"},{pattern:/^(100|[1-9]?[0-9])$/,message:"请输入0到100之间的正整数",trigger:"blur"}],exchangeRate:[{required:!0,message:"请输入汇率",trigger:"blur"},{pattern:/^(?!0(\.0+)?$)(\d+(\.\d{1,2})?)$/,message:"请输入大于0的数字，最多保留两位小数",trigger:"blur"}],sex:[{required:!0,message:"请选择性别",trigger:"change"}],startAge:[{required:!0,message:"请输入年龄",trigger:"blur"},{validator:(i,o,r)=>{o?o<18?r(new Error("年龄不能小于18")):o>=99?r(new Error("年龄不能大于或等于99")):r():r(new Error("请输入年龄"))},trigger:"change"}]});e.value.clientId?P.value=1:p.originalExchangeRate&&(P.value=p.originalExchangeRate,e.value.exchangeRate=p.originalExchangeRate),e.value.clientId||p.currencyType&&(e.value.currencyType=p.currencyType===1?"USD":"CNY"),e.value.browser&&(e.value.browser=e.value.browser.split(",")),e.value.operatingSystem&&(e.value.operatingSystem=e.value.operatingSystem.split(","));const le=i=>{i.key==="."&&i.preventDefault()},Oe=i=>i.getTime()<Date.now()-864e5;function Ke(){if(new Date(e.value.releaseTime)*1e3/1e3<Date.now()){const r=new Date,f=r.getFullYear(),v=o(r.getMonth()+1),s=o(r.getDate()),u=o(r.getHours()),U=o(r.getMinutes()),E=o(r.getSeconds());e.value.releaseTime=`${f}-${v}-${s} ${u}:${U}:${E}`}function o(r){return(r<10?"0":"")+r}e.value.releaseTime&&ye(e.value.releaseTime)}const Xe=i=>{const o=b.value.basicSettings.customerList.find(r=>r.tenantCustomerId===i);e.value.isProfile=o.antecedentQuestionnaire===2?1:2},ze=()=>{e.value.countryIdList=[],b.value.checked&&b.value.basicSettings.countryList.map(i=>{e.value.countryIdList.push(i.id)})};h(),Qt({locale:Dt});const He=i=>{e.value.richText=i};function Ge(){I("sync-project")}function Je(){T.value=!T.value}const be=h(""),oe=h(!1),D=h([]),ve=i=>{const o=i.name.substring(i.name.lastIndexOf(".")+1);return["jpg","jpeg","png","gif","doc","xls","pdf","xlsx","docx"].indexOf(o)===-1},Ze=i=>{const o=ve(i);return o&&K.warning({message:"只能上传图片文件JPG，JPEG，PNG，GIF，DOC，XLS，PDF",center:!0}),!o},We=async(i,o)=>{if(e.value.descriptionUrl=o.map(r=>r.name),!ve(i)){const{status:r}=await se.delete({fileName:i.name});r===1&&K.success({message:"删除成功",center:!0})}},_e=i=>{const o={doc:ke,docx:ke,xls:Ee,xlsx:Ee,pdf:$t};i.map(r=>{var v;const f=(v=r.name.split(".").pop())==null?void 0:v.toLowerCase();f&&o[f]&&(r.url=o[f])})},$e=(i,o)=>{_e(D.value),e.value.descriptionUrl.push(i.data.qiNiuUrl)},et=async(i,o)=>{K.warning({message:"最多可上传10个",center:!0})},tt=i=>{be.value=i.url,oe.value=!0},at=async i=>{i.length&&i.forEach(async o=>{if(o){const r=await se.detail({fileName:o});D.value.push({name:o,url:r.data.fileUrl}),_e(D.value)}})},lt=i=>{e.value.isOnline=i===2?2:1},ot=i=>{i===2&&(e.value.projectQuotaInfoList=[])},nt=()=>{e.value.data.configurationInformation.configurationCountryList=null,b.value.checked=e.value.countryIdList.length===M.country.length},it=()=>{e.value.data.configurationInformation.projectCategoryList=null,e.value.data.configurationInformation.initialProblem.projectProblemCategoryId="",de()},de=i=>{e.value.data.configurationInformation.initialProblem.projectProblemId=null,e.value.data.configurationInformation.ProjectProblemInfoList=null,i||(e.value.projectQuotaInfoList=[])},Ie=async(i,o)=>{i==="configurationInformation"&&!e.value.data.configurationInformation.configurationCountryList&&F.value.validateField(["countryIdList"],async r=>{if(r){de(o||!1);const f=await ee.getProjectCountryList({countryIdList:e.value.countryIdList});e.value.data.configurationInformation.configurationCountryList=f.data.getProjectCountryListInfoList,f.data.getProjectCountryListInfoList.length===1&&(e.value.data.configurationInformation.initialProblem.countryId=f.data.getProjectCountryListInfoList[0].countryId),e.value.data.configurationInformation.initialProblem||(e.value.data.configurationInformation.initialProblem=$(z.initialProblem)),e.value.data.configurationInformation.initialProblem.projectQuotaQuestionType=$(f.data.projectQuotaQuestionType)}else Q.value="basicSettings",Re(()=>{setTimeout(()=>{F.value.scrollToField("countryIdList")}),K.warning({message:"请先选择所属区域",center:!0})})})},he=async()=>{if(e.value.data.configurationInformation.initialProblem.countryId){if(!e.value.data.configurationInformation.projectCategoryList){const i={countryId:e.value.data.configurationInformation.initialProblem.countryId,projectQuotaQuestionType:e.value.data.configurationInformation.initialProblem.projectQuotaQuestionType},o=await ee.getProjectCategoryList(i);e.value.data.configurationInformation.projectCategoryList=o.data.getProjectCategoryInfoList.filter(r=>r.status===1)}}else K.warning({message:"请先选择配置信息下的区域",center:!0})},Ae=async(i,o)=>{i?setTimeout(async()=>{const{projectProblemCategoryName:r,...f}=e.value.data.configurationInformation.projectCategoryList.find(s=>s.projectProblemCategoryId===i),v=await ee.getProjectProblemList(f);if(e.value.data.configurationInformation.ProjectProblemInfoList=v.data.getProjectProblemInfoList.map(s=>({...s,getProjectAnswerInfoList:s.getProjectAnswerInfoList.sort((u,U)=>u.answerValue.replace(/^[a-zA-Z]+/,"")-U.answerValue.replace(/^[a-zA-Z]+/,""))})),!o){e.value.projectQuotaInfoList=[];for(let s=0;s<e.value.data.configurationInformation.ProjectProblemInfoList.length;s++){const u=$(e.value.data.configurationInformation.initialProblem);u.projectProblemId=e.value.data.configurationInformation.ProjectProblemInfoList[s].id,u.keyValue=e.value.data.configurationInformation.ProjectProblemInfoList[s].question,u.questionType=e.value.data.configurationInformation.ProjectProblemInfoList[s].questionType,u.projectProblemCategoryId=i,e.value.projectQuotaInfoList.push(u)}}}):de()},rt=(i,o)=>{let r=e.value.projectQuotaInfoList[o].projectAnswerIdList;const v=e.value.data.configurationInformation.ProjectProblemInfoList[o].getProjectAnswerInfoList.filter(s=>r.includes(s.id));e.value.projectQuotaInfoList[o].answerValueList=v.map(s=>s.anotherName)},we=async()=>{const i=await Bt.getCustomerList({});b.value.basicSettings.customerList=i.data.getTenantCustomerAccordInfoList},xe=()=>{H.value.showEdit()},st=async()=>{await we(),b.value.basicSettings.countryList=await M.getCountry(),b.value.basicSettings.B2BTypeList=await M.getB2BType()},ut=async()=>{e.value.projectQuotaInfoList.length&&(e.value.data.configurationInformation.initialProblem.countryId=e.value.projectQuotaInfoList[0].countryId,e.value.data.configurationInformation.initialProblem.projectQuotaQuestionType=e.value.projectQuotaInfoList[0].projectQuotaQuestionType,e.value.data.configurationInformation.initialProblem.projectProblemCategoryId=e.value.projectQuotaInfoList[0].projectProblemCategoryId,await Ie("configurationInformation",!0),await he(),setTimeout(async()=>{await Ae(e.value.data.configurationInformation.initialProblem.projectProblemCategoryId,!0)},100))},je=(i,o)=>({get(){return e.value.projectQuotaInfoList[o].id===i?e.value.projectQuotaInfoList[o].projectAnswerIdList:e.value.projectQuotaInfoList.find(f=>f.projectProblemId===i).projectAnswerIdList},set(r){if(e.value.projectQuotaInfoList[o].id===i)e.value.projectQuotaInfoList[o].projectAnswerIdList=r;else{const f=e.value.projectQuotaInfoList.find(v=>v.projectProblemId===i);f.projectAnswerIdList=r}}}),Ce=h(),G=h({exchangeRate:null}),dt=Se({exchangeRate:[{required:!0,message:"请输入汇率",trigger:"blur"},{pattern:/^(?!0(\.0+)?$)(\d+(\.\d{1,2})?)$/,message:"请输入一个有效的数字，不能小于0，最多保留两位小数",trigger:"blur"}]}),ct=()=>{j.value=!0},pt=async()=>{await Ce.value.validate(),e.value.exchangeRate=G.value.exchangeRate,(await qt.updateWebConfig(G.value)).data.flag&&(await p.getCurrencyType(),P.value=p.originalExchangeRate,e.value.exchangeRate=p.originalExchangeRate,e.value.currencyType=p.currencyType===1?"USD":"CNY",p.currencyType!==1&&(e.value.exchangeRate=Math.floor(1/p.originalExchangeRate*100)/100,P.value=e.value.exchangeRate),j.value=!1)},mt=async i=>{const o={beforeCurrency:"",oldCurrency:i,exchangeRate:""};i==="USD"?o.beforeCurrency="CNY":i==="CNY"&&(o.beforeCurrency="USD"),o.exchangeRate=P.value;const r=await ee.updateExchangeRate(o);r.data&&(P.value=Math.floor(r.data.exchangeRate*100)/100,e.value.exchangeRate=Math.floor(r.data.exchangeRate*100)/100)};De(()=>q.leftTab,(i,o)=>{e.value=i},{deep:!0}),Ne(async()=>{D.value=[],await st(),await ut()}),X({getUpLoad:at}),Re(()=>{Y(F.value)});const ft=()=>{b.value.editProps.id="",b.value.editProps.countryId="",b.value.editProps.row="",b.value.editProps.visible=!0},gt=async()=>{const i=await ee.getProjectCountryList({countryIdList:e.value.countryIdList});e.value.data.configurationInformation.configurationCountryList=i.data.getProjectCountryListInfoList,i.data.getProjectCountryListInfoList.length===1&&(e.value.data.configurationInformation.initialProblem.countryId=i.data.getProjectCountryListInfoList[0].countryId),e.value.data.configurationInformation.initialProblem||(e.value.data.configurationInformation.initialProblem=$(z.initialProblem)),e.value.data.configurationInformation.initialProblem.projectQuotaQuestionType=$(i.data.projectQuotaQuestionType)};return(i,o)=>{const r=g("el-button"),f=g("el-switch"),v=g("el-input"),s=g("el-form-item"),u=g("el-col"),U=g("el-option"),E=g("el-select"),Ve=g("el-checkbox"),Le=g("ElOption"),yt=g("ElSelect"),J=g("el-text"),V=g("el-row"),ne=kt,ce=g("el-tooltip"),Z=g("el-card"),pe=g("el-radio-button"),bt=g("el-radio-group"),vt=g("el-date-picker"),_t=g("el-cascader"),It=g("el-icon"),ht=g("el-upload"),Pe=g("el-dialog"),me=g("el-tab-pane"),At=g("el-checkbox-group"),Te=g("el-input-number"),wt=g("el-tabs"),xt=g("el-form"),jt=g("ElForm");return c(),y(jt,{"label-width":"100px",rules:l(Fe),ref_key:"formRef",ref:F,model:l(e),"label-position":"top"},{default:t(()=>[a(wt,{modelValue:l(Q),"onUpdate:modelValue":o[33]||(o[33]=n=>ie(Q)?Q.value=n:null),onTabChange:Ie},{default:t(()=>[a(me,{label:"基础设置",name:"basicSettings"},{default:t(()=>[a(Z,{"body-style":""},{header:t(()=>[d("div",ea,[ta,d("div",null,[q.tabIndex>0?(c(),y(r,{key:0,size:"small",type:"primary",round:"",plain:"",onClick:Ge},{default:t(()=>[m(" 同步数据 ")]),_:1})):w("",!0),a(f,{modelValue:l(e).required,"onUpdate:modelValue":o[0]||(o[0]=n=>l(e).required=n),"active-value":!0,"inactive-value":!1,class:"ml-2"},null,8,["modelValue"]),m(" 只看必填 ")])])]),default:t(()=>[a(V,{gutter:20},{default:t(()=>[a(u,{span:6},{default:t(()=>[a(s,{label:"项目名称",prop:"name"},{default:t(()=>[a(v,{modelValue:l(e).name,"onUpdate:modelValue":o[1]||(o[1]=n=>l(e).name=n),disabled:l(e).projectType===2,clearable:"",maxlength:50},null,8,["modelValue","disabled"])]),_:1})]),_:1}),l(e).projectType!==2?(c(),y(u,{key:0,span:6},{default:t(()=>[a(s,{label:"项目标识",prop:"projectIdentification"},{default:t(()=>[a(v,{clearable:"",modelValue:l(e).projectIdentification,"onUpdate:modelValue":o[2]||(o[2]=n=>l(e).projectIdentification=n),modelModifiers:{trim:!0},maxlength:100},null,8,["modelValue"])]),_:1})]),_:1})):w("",!0),l(e).projectType!==2?(c(),y(u,{key:1,span:6},{default:t(()=>[a(s,{label:"所属客户",prop:"clientId"},{default:t(()=>[a(E,{class:"placeholderColor",placeholder:"Select",modelValue:l(e).clientId,"onUpdate:modelValue":o[3]||(o[3]=n=>l(e).clientId=n),disabled:l(e).projectType===2,clearable:"",onChange:Xe},{empty:t(()=>[d("div",na,[m(" 暂无数据 "),a(r,{type:"primary",link:"",size:"small",onClick:xe},{default:t(()=>[m(" 快捷新增 "),ia]),_:1})])]),default:t(()=>[(c(!0),L(R,null,S(l(b).basicSettings.customerList,n=>(c(),y(U,{key:n.tenantCustomerId,value:n.tenantCustomerId,label:n.customerAccord,disabled:n.isReveal===1||n.turnover&&n.practiceTurnover&&n.turnover<n.practiceTurnover},{default:t(()=>[d("span",aa,B(n.customerAccord),1),re(d("span",la,[re(d("span",null," 营业额超限 ",512),[[ge,n.practiceTurnover>n.turnover]]),re(d("span",null," 审核率不合格 ",512),[[ge,n.rateAudit>n.practiceRateAudit]])],512),[[ge,n.isReveal===1]])]),_:2},1032,["value","label","disabled"]))),128)),a(r,{size:"small",class:"buttonClass",onClick:xe},{default:t(()=>[m(" 快捷新增 "),oa]),_:1})]),_:1},8,["modelValue","disabled"])]),_:1})]),_:1})):w("",!0),a(u,{span:6},{default:t(()=>[a(s,{label:"所属区域",prop:"countryIdList"},{default:t(()=>[a(yt,{class:"placeholderColor",modelValue:l(e).countryIdList,"onUpdate:modelValue":o[5]||(o[5]=n=>l(e).countryIdList=n),disabled:l(e).projectType===2,placeholder:"区域",clearable:"",filterable:"",multiple:"","collapse-tags":"",onChange:nt},{header:t(()=>[a(Ve,{modelValue:l(b).checked,"onUpdate:modelValue":o[4]||(o[4]=n=>l(b).checked=n),onChange:ze,style:{display:"flex",height:"unset"}},{default:t(()=>[m("全球")]),_:1},8,["modelValue"])]),default:t(()=>[(c(!0),L(R,null,S(l(b).basicSettings.countryList,n=>(c(),y(Le,{label:n.chineseName,value:n.id},null,8,["label","value"]))),256))]),_:1},8,["modelValue","disabled"])]),_:1})]),_:1}),a(u,{span:6},{default:t(()=>[a(s,{label:"币种",prop:"currencyType"},{default:t(()=>[l(p).originalExchangeRate?(c(),y(E,{key:1,modelValue:l(e).currencyType,"onUpdate:modelValue":o[6]||(o[6]=n=>l(e).currencyType=n),disabled:!!l(e).projectId,"value-key":"",style:{width:"22.4375rem"},placeholder:"请选择币种",filterable:"",onChange:mt},{default:t(()=>[(c(),L(R,null,S(N,n=>a(U,{key:n.value,label:n.label,value:n.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","disabled"])):(c(),y(r,{key:0,type:"primary",link:"",onClick:ct},{default:t(()=>[m("未设置汇率，点击设置>>")]),_:1}))]),_:1})]),_:1}),a(u,{span:6},{default:t(()=>[a(s,{label:"汇率",prop:""},{default:t(()=>[l(P)!==null?(c(),y(J,{key:0},{default:t(()=>[m(B(l(e).currencyType==="USD"?"1美元":"1人民币")+" = "+B(l(e).exchangeRate?l(e).exchangeRate:l(P))+B(l(e).currencyType==="USD"?"人民币":"美元"),1)]),_:1})):w("",!0)]),_:1})]),_:1})]),_:1}),a(V,{gutter:20},{default:t(()=>[a(u,{span:6},{default:t(()=>[a(s,{label:"项目价",prop:"doMoneyPrice"},{default:t(()=>[a(v,{style:{height:"2rem"},modelValue:l(e).doMoneyPrice,"onUpdate:modelValue":o[7]||(o[7]=n=>l(e).doMoneyPrice=n),"controls-position":"right",size:"large"},null,8,["modelValue"])]),_:1})]),_:1}),a(u,{span:6},{default:t(()=>[a(s,{label:"配额",prop:"num"},{default:t(()=>[a(v,{style:{height:"2rem"},modelValue:l(e).num,"onUpdate:modelValue":o[8]||(o[8]=n=>l(e).num=n),size:"large",onKeydown:le},null,8,["modelValue"])]),_:1})]),_:1}),a(u,{style:{position:"relative"},span:6},{default:t(()=>[a(s,{prop:"minimumDuration"},{label:t(()=>[d("div",null,[m(" 最小分长"),a(ce,{class:"tooltips",content:"该问卷最少要做多少分钟才被识别为合格",placement:"top"},{default:t(()=>[a(ne,{class:"SvgIcon1",name:"i-ri:question-line"})]),_:1})])]),default:t(()=>[a(v,{style:{height:"2rem",width:"100%"},modelValue:l(e).minimumDuration,"onUpdate:modelValue":o[9]||(o[9]=n=>l(e).minimumDuration=n),modelModifiers:{number:!0},min:1,step:1,"step-strictly":"","controls-position":"right",size:"large",onKeydown:le},{append:t(()=>[m(" min ")]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(u,{span:6},{default:t(()=>[a(s,{label:"IR",prop:"ir"},{default:t(()=>[a(v,{modelValue:l(e).ir,"onUpdate:modelValue":o[10]||(o[10]=n=>l(e).ir=n)},{append:t(()=>[m(" % ")]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),a(V,{gutter:20},{default:t(()=>[a(u,{span:12},{default:t(()=>[a(s,{prop:"uidUrl"},{label:t(()=>[d("div",null,[m(" URL"),a(ce,{class:"tooltips",placement:"top"},{content:t(()=>[d("div",null,[d("div",null,[m("请参考如下链接"),ra,m(B(Be))]),sa])]),default:t(()=>[a(ne,{class:"SvgIcon2",name:"i-ri:question-line"})]),_:1})])]),default:t(()=>[l(e).projectType===2?(c(),y(v,{key:0,clearable:"",value:"**************************************",disabled:l(e).projectType===2},null,8,["disabled"])):(c(),y(v,{key:1,clearable:"",modelValue:l(e).uidUrl,"onUpdate:modelValue":o[11]||(o[11]=n=>l(e).uidUrl=n),modelModifiers:{trim:!0},disabled:l(e).projectType===2},null,8,["modelValue","disabled"])),a(J,{class:"mx-1"},{default:t(()=>[m(B(Be))]),_:1})]),_:1})]),_:1}),l(e).mutualExclusion===1&&!l(e).required?(c(),y(u,{key:0,span:12},{default:t(()=>[a(s,{label:"互斥ID"},{default:t(()=>[a(v,{clearable:"",modelValue:l(e).mutualExclusionId,"onUpdate:modelValue":o[12]||(o[12]=n=>l(e).mutualExclusionId=n),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1})]),_:1})):w("",!0)]),_:1})]),_:1}),l(e).required?w("",!0):(c(),y(Z,{key:0},{header:t(()=>[ua]),default:t(()=>[a(V,{gutter:20},{default:t(()=>[a(u,{span:5},{default:t(()=>[a(s,{label:"性别",class:"flex",prop:"sex"},{default:t(()=>[a(bt,{modelValue:l(e).sex,"onUpdate:modelValue":o[13]||(o[13]=n=>l(e).sex=n),disabled:l(e).projectType===2},{default:t(()=>[a(pe,{value:1,label:"不限"}),a(pe,{value:2,label:"男"}),a(pe,{value:3,label:"女"})]),_:1},8,["modelValue","disabled"])]),_:1})]),_:1}),a(u,{span:4},{default:t(()=>[a(s,{label:"年龄",class:"flex",prop:"startAge"},{default:t(()=>[a(v,{modelValue:l(e).startAge,"onUpdate:modelValue":o[14]||(o[14]=n=>l(e).startAge=n),modelModifiers:{trim:!0},disabled:l(e).projectType===2,style:{width:"3rem !important"}},null,8,["modelValue","disabled"]),da,a(v,{modelValue:l(e).endAge,"onUpdate:modelValue":o[15]||(o[15]=n=>l(e).endAge=n),modelModifiers:{trim:!0},disabled:l(e).projectType===2,style:{width:"3rem !important"}},null,8,["modelValue","disabled"])]),_:1})]),_:1}),a(u,{span:6},{default:t(()=>[a(s,{label:"操作系统",class:"flex"},{default:t(()=>[a(E,{modelValue:l(e).operatingSystem,"onUpdate:modelValue":o[16]||(o[16]=n=>l(e).operatingSystem=n),modelModifiers:{trim:!0},placeholder:"请选择操作系统",disabled:l(e).projectType===2,multiple:"",clearable:"",filterable:"","collapse-tags":"","collapse-tags-tooltip":"","max-collapse-tags":1},{default:t(()=>[(c(),L(R,null,S(_,n=>a(U,{key:n.value,label:n.label,value:n.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","disabled"])]),_:1})]),_:1}),a(u,{span:1}),a(u,{span:6},{default:t(()=>[a(s,{label:"浏览器",class:"flex"},{default:t(()=>[a(E,{modelValue:l(e).browser,"onUpdate:modelValue":o[17]||(o[17]=n=>l(e).browser=n),modelModifiers:{trim:!0},placeholder:"请选择浏览器",disabled:l(e).projectType===2,multiple:"",clearable:"",filterable:"","collapse-tags":"","collapse-tags-tooltip":"","max-collapse-tags":1},{default:t(()=>[(c(),L(R,null,S(k,n=>a(U,{key:n.value,label:n.label,value:n.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","disabled"])]),_:1})]),_:1})]),_:1}),a(V,{gutter:20},{default:t(()=>[a(u,{span:5},{default:t(()=>[a(s,{label:"定时发布",class:"flex"},{default:t(()=>[a(f,{"active-value":2,"inactive-value":1,modelValue:l(e).isTimeReleases,"onUpdate:modelValue":o[18]||(o[18]=n=>l(e).isTimeReleases=n),disabled:l(e).projectType===2,onChange:lt},null,8,["modelValue","disabled"])]),_:1})]),_:1}),a(u,{span:5},{default:t(()=>[a(s,{label:"B2B",class:"flex"},{default:t(()=>[a(f,{"active-value":2,"inactive-value":1,modelValue:l(e).isB2b,"onUpdate:modelValue":o[19]||(o[19]=n=>l(e).isB2b=n),disabled:l(e).projectType===2},null,8,["modelValue","disabled"])]),_:1})]),_:1}),a(u,{span:5},{default:t(()=>[a(s,{label:"在线",class:"flex"},{default:t(()=>[a(f,{"active-value":1,"inactive-value":2,disabled:l(e).isTimeReleases===2||l(e).projectType===2,modelValue:l(e).isOnline,"onUpdate:modelValue":o[20]||(o[20]=n=>l(e).isOnline=n)},null,8,["disabled","modelValue"])]),_:1})]),_:1}),a(u,{span:5},{default:t(()=>[a(s,{label:"前置问卷",class:"flex"},{default:t(()=>[a(f,{"active-value":1,"inactive-value":2,modelValue:l(e).isProfile,"onUpdate:modelValue":o[21]||(o[21]=n=>l(e).isProfile=n),disabled:l(e).projectType===2,onChange:ot},null,8,["modelValue","disabled"])]),_:1})]),_:1}),a(u,{span:4},{default:t(()=>[a(s,{label:"置顶",class:"flex"},{default:t(()=>[a(f,{"active-value":1,"inactive-value":2,modelValue:l(e).isPinned,"onUpdate:modelValue":o[22]||(o[22]=n=>l(e).isPinned=n),disabled:l(e).projectType===2},null,8,["modelValue","disabled"])]),_:1})]),_:1})]),_:1}),a(V,{gutter:20},{default:t(()=>[l(e).isTimeReleases===2?(c(),y(u,{key:0,span:5},{default:t(()=>[a(s,{label:"发布时间",prop:"releaseTime"},{default:t(()=>[a(vt,{type:"datetime","value-format":"YYYY-MM-DD HH:mm:ss",modelValue:l(e).releaseTime,"onUpdate:modelValue":o[23]||(o[23]=n=>l(e).releaseTime=n),placeholder:"请选择时间",disabledDate:Oe,onChange:Ke},null,8,["modelValue"])]),_:1})]),_:1})):w("",!0),l(e).isB2b===2&&l(e).projectType!==2?(c(),y(u,{key:1,span:5},{default:t(()=>[a(s,{label:"项目类型"},{default:t(()=>[a(_t,{"show-all-levels":!1,modelValue:l(e).projectType,"onUpdate:modelValue":o[24]||(o[24]=n=>l(e).projectType=n),props:l(b).basicSettings.B2BTypeProps,options:l(b).basicSettings.B2BTypeList,"collapse-tags":!0,filterable:"",clearable:""},null,8,["modelValue","props","options"])]),_:1})]),_:1})):w("",!0)]),_:1}),a(V,null,{default:t(()=>[a(u,{span:24},{default:t(()=>[a(s,{label:"备注"},{default:t(()=>[a(v,{maxlength:"200","show-word-limit":"",type:"textarea",rows:5,modelValue:l(e).remark,"onUpdate:modelValue":o[25]||(o[25]=n=>l(e).remark=n)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})),l(e).required?w("",!0):(c(),y(Z,{key:1},{header:t(()=>[d("div",ca,[pa,a(r,{type:"primary",link:"",size:"default",onClick:Je},{default:t(()=>[m(B(l(T)?"收起":"展开"),1)]),_:1})])]),default:t(()=>[l(T)?(c(),L("div",ma,[a(s,{label:"上传图片/文件"},{default:t(()=>[d("div",fa,[a(ht,{"file-list":l(D),"onUpdate:fileList":o[26]||(o[26]=n=>ie(D)?D.value=n:null),action:te,"list-type":"picture-card",drag:!0,limit:10,accept:".png, .jpg, .jpeg, .gif","before-upload":Ze,"on-preview":tt,"on-remove":We,"on-success":$e,"on-exceed":et},{tip:t(()=>[d("div",ya,[a(J,{type:"primary",size:"small"},{default:t(()=>[m(" 支持上传JPG/JPEG/PNG图片DOC/XLS/PDF文件，小于10MB ")]),_:1})])]),default:t(()=>[a(It,{style:{"margin-bottom":"none"},class:"el-icon--upload"},{default:t(()=>[a(l(Rt))]),_:1}),ga]),_:1},8,["file-list"]),a(Pe,{modelValue:l(oe),"onUpdate:modelValue":o[27]||(o[27]=n=>ie(oe)?oe.value=n:null),style:{"z-index":"1000",transform:"translate(0)",position:"relative"}},{default:t(()=>[d("img",{"w-full":"",src:l(be),alt:"Preview Image"},null,8,ba)]),_:1},8,["modelValue"])])]),_:1}),a(V,null,{default:t(()=>[a(u,{span:24},{default:t(()=>[a(s,{label:"项目描述"},{default:t(()=>[a(Wt,{style:{width:"100%"},tinymceHtml:l(e).richText,onChangeEditorValue:He},null,8,["tinymceHtml"])]),_:1})]),_:1})]),_:1})])):w("",!0)]),_:1}))]),_:1}),l(e).isProfile===1&&!l(e).required&&l(e).projectType!==2?(c(),y(me,{key:0,label:"配置信息",name:"configurationInformation"},{default:t(()=>[l(e).data?(c(),y(Z,{key:0},{header:t(()=>[va]),default:t(()=>[a(V,{gutter:20},{default:t(()=>[a(u,{span:6},{default:t(()=>[a(s,{label:"选择区域"},{default:t(()=>[a(E,{modelValue:l(e).data.configurationInformation.initialProblem.countryId,"onUpdate:modelValue":o[28]||(o[28]=n=>l(e).data.configurationInformation.initialProblem.countryId=n),filterable:"",clearable:"",placeholder:"Select",disabled:l(e).projectType===2,onChange:it},{empty:t(()=>[d("div",null,[a(r,{type:"primary",link:"",class:"buttonClass",size:"small",onClick:ft},{default:t(()=>[m(" 快捷新增 "),a(ne,{name:"ant-design:plus-outlined",color:"#fff",style:{"background-color":"var(--el-color-primary)","border-radius":"50%",padding:"0.125rem",margin:"0 0.125rem"}})]),_:1})])]),default:t(()=>[(c(!0),L(R,null,S(l(e).data.configurationInformation.configurationCountryList,n=>(c(),y(Le,{label:n.countryName,value:n.countryId},null,8,["label","value"]))),256))]),_:1},8,["modelValue","disabled"])]),_:1})]),_:1}),l(e).data.configurationInformation.initialProblem.countryId?(c(),y(u,{key:0,span:6},{default:t(()=>[a(s,{label:"问卷名称"},{default:t(()=>[a(E,{modelValue:l(e).data.configurationInformation.initialProblem.projectProblemCategoryId,"onUpdate:modelValue":o[29]||(o[29]=n=>l(e).data.configurationInformation.initialProblem.projectProblemCategoryId=n),clearable:"",placeholder:"Select",disabled:l(e).projectType===2,onFocus:he,onChange:Ae},{default:t(()=>[(c(!0),L(R,null,S(l(e).data.configurationInformation.projectCategoryList,n=>(c(),y(U,{key:n.projectProblemCategoryId,label:n.projectProblemCategoryName,value:n.projectProblemCategoryId},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"])]),_:1})]),_:1})):w("",!0)]),_:1}),l(e).data.configurationInformation.ProjectProblemInfoList&&l(e).data.configurationInformation.ProjectProblemInfoList.length&&l(e).projectQuotaInfoList.length?(c(!0),L(R,{key:0},S(l(e).data.configurationInformation.ProjectProblemInfoList,(n,fe)=>(c(),y(V,{class:"allocation",gutter:20},{default:t(()=>[a(u,{span:20},{default:t(()=>[m(" 问题："+B(n.question),1)]),_:2},1024),a(u,{span:20},{default:t(()=>[a(s,null,{default:t(()=>[n.questionType===1?(c(),y(v,{key:0,disabled:"",placeholder:"输入框无法设置"})):(c(),y(At,{key:1,modelValue:je(n.id,fe).get(),"onUpdate:modelValue":W=>je(n.id,fe).set(W),onChange:W=>rt(3,fe)},{default:t(()=>[(c(!0),L(R,null,S(n.getProjectAnswerInfoList,W=>(c(),y(Ve,{label:W.anotherName,value:W.id},null,8,["label","value"]))),256))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"]))]),_:2},1024)]),_:2},1024)]),_:2},1024))),256)):w("",!0)]),_:1})):w("",!0)]),_:1})):w("",!0),l(e).required?w("",!0):(c(),y(me,{key:1,label:"安全信息",name:"securityInformation"},{default:t(()=>[a(Z,null,{header:t(()=>[_a]),default:t(()=>[a(V,{gutter:20},{default:t(()=>[a(u,{span:6},{default:t(()=>[a(s,null,{label:t(()=>[Ia]),default:t(()=>[a(Te,{style:{height:"2rem"},modelValue:l(e).preNum,"onUpdate:modelValue":o[30]||(o[30]=n=>l(e).preNum=n),min:1,step:1,"step-strictly":"","controls-position":"right",size:"large",onKeydown:le},null,8,["modelValue"])]),_:1})]),_:1}),a(u,{span:1}),a(u,{span:6},{default:t(()=>[a(s,null,{label:t(()=>[ha]),default:t(()=>[a(Te,{style:{height:"2rem"},modelValue:l(e).limitedQuantity,"onUpdate:modelValue":o[31]||(o[31]=n=>l(e).limitedQuantity=n),min:1,step:1,"step-strictly":"","controls-position":"right",size:"large",onKeydown:le},null,8,["modelValue"])]),_:1})]),_:1}),a(u,{span:1}),a(u,{span:4,class:"flex"},{default:t(()=>[a(s,{label:"",class:"flex m-0"},{label:t(()=>[d("div",null,[m(" 允许重复参与"),a(ce,{class:"tooltips",placement:"top"},{content:t(()=>[Aa,wa]),default:t(()=>[a(ne,{class:"SvgIcon2",name:"i-ri:question-line"})]),_:1})])]),default:t(()=>[a(f,{modelValue:l(e).ipDifferenceDetection,"onUpdate:modelValue":o[32]||(o[32]=n=>l(e).ipDifferenceDetection=n),"active-value":1,"inactive-value":2},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))]),_:1},8,["modelValue"]),a(Pe,{modelValue:l(j),"onUpdate:modelValue":o[36]||(o[36]=n=>ie(j)?j.value=n:null),title:"设置汇率",width:"500"},{footer:t(()=>[d("div",ja,[a(r,{type:"primary",onClick:pt},{default:t(()=>[m(" 确认 ")]),_:1}),a(r,{onClick:o[35]||(o[35]=n=>j.value=!1)},{default:t(()=>[m(" 关闭 ")]),_:1})])]),default:t(()=>[a(xt,{model:l(G),ref_key:"exchangeRateRef",ref:Ce,rules:l(dt),"label-width":"90px",inline:!1},{default:t(()=>[a(s,{label:"美元汇率",prop:"exchangeRate"},{default:t(()=>[d("div",xa,[a(v,{modelValue:l(G).exchangeRate,"onUpdate:modelValue":o[34]||(o[34]=n=>l(G).exchangeRate=n),placeholder:"请输入数值",clearable:""},{prefix:t(()=>[a(J,{style:{color:"#333"}},{default:t(()=>[m(" 1 美元 (USD)     = ")]),_:1})]),suffix:t(()=>[a(J,{style:{color:"#333"}},{default:t(()=>[m(" 人民币 (CNY) ")]),_:1})]),_:1},8,["modelValue"])])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"]),a(Mt,{ref_key:"editRef",ref:H,onFetchData:we},null,512),l(b).editProps.visible?(c(),y(Yt,{key:0,id:l(b).editProps.id,countryId:l(b).editProps.countryId,modelValue:l(b).editProps.visible,"onUpdate:modelValue":o[37]||(o[37]=n=>l(b).editProps.visible=n),row:l(b).editProps.row,onSuccess:gt},null,8,["id","countryId","modelValue","row"])):w("",!0)]),_:1},8,["rules","model"])}}}),$a=Ye(Ca,[["__scopeId","data-v-4faa7419"]]);export{$a as default};
