
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{d as de,aM as ce,r as m,l as me,a as d,al as fe,o as r,b as be,f as e,w as t,g as f,D as te,am as oe,e as s,j as u,i as v,Q as ve,L as ge,aO as _e,aP as he,ak as ke,aK as Ce,aL as ye,C as ae,P as Ie}from"./index-DgKsYSiF.js";import{_ as we}from"./index.vue_vue_type_style_index_0_lang-C4yIjx6v.js";import{_ as ze}from"./index.vue_vue_type_script_setup_true_lang-DDrnDOdv.js";import{_ as je}from"./index.vue_vue_type_script_setup_true_lang-DAvlsyeQ.js";import{_ as De,a as Ve}from"./index.vue_vue_type_script_setup_true_lang-BnzKC2fn.js";import"./file-ByFOsq7I.js";import"./download-C8PHVIy1.js";const ne=N=>(Ce("data-v-c98b9897"),N=N(),ye(),N),Ne=ne(()=>ae("div",{class:"i-grommet-icons:power-reset h-1em w-1em"},null,-1)),Ue=ne(()=>ae("div",{class:"i-grommet-icons:power-reset h-1em w-1em"},null,-1)),Se=de({name:"ProjectManagementMaterialsIndex",__name:"list",setup(N){const{getParams:re,pagination:b,onSizeChange:ie,onCurrentChange:se}=ce(),E=m(""),$=m(!0),_=m(!0),x=m(),L=m(),D=m(!1),a=m([]),h=m("default"),k=m(!1),R=m([]),V=m([{label:"会员ID",prop:"memberChildId",sotrtable:!0,checked:!0},{label:"会员名称",prop:"memberChildName",sotrtable:!0,checked:!0},{label:"会员组ID",prop:"memberChildGroupId",sotrtable:!0,checked:!0},{label:"项目ID",prop:"projectId",sotrtable:!0,checked:!0},{label:"项目名称",prop:"projectName",sotrtable:!0,checked:!0},{label:"客户简称/标识",prop:"customerIdentification",sotrtable:!0,checked:!0},{label:"说明",prop:"instructions",sotrtable:!0,checked:!0},{label:"创建时间",prop:"createTime",sotrtable:!0,checked:!0}]),i=m({type:1,memberChildId:"",supplierId:"",projectId:"",projectName:""}),S=m([]);function H(p){R.value.length||L.value.showEdit(p)}function P(p){x.value.showEdit(p)}function T(p){R.value=p}function A(p){ie(p).then(()=>y())}function C(p=1){se(p).then(()=>y())}function B(){Object.assign(i.value,{memberChildId:"",supplierId:"",projectId:"",projectName:""}),y()}async function y(){$.value=!0;const p={...re(),...i.value},l=await Ve.list(p);S.value=l.data.projectMaterialInfoList,b.value.total=l.data.total,$.value=!1}return me(()=>{V.value.forEach(p=>{p.checked&&a.value.push(p.prop)}),y()}),(p,l)=>{const I=d("el-input"),w=d("el-form-item"),U=ge,z=d("ElButton"),F=d("ElFormItem"),M=d("el-form"),G=ze,Q=d("ElDivider"),O=we,j=d("el-button"),q=_e,K=he,J=d("el-row"),n=d("el-table-column"),W=d("ElSpace"),X=d("el-empty"),Y=d("el-table"),Z=d("ElPagination"),ee=d("el-tab-pane"),ue=d("el-tabs"),pe=ke,le=fe("loading");return r(),be("div",{class:ve({"absolute-container":D.value})},[e(pe,null,{default:t(()=>[e(ue,{modelValue:i.value.type,"onUpdate:modelValue":l[22]||(l[22]=o=>i.value.type=o),class:"demo-tabs",type:"border-card",onTabChange:y},{default:t(()=>[e(ee,{label:"子会员素材",name:1},{default:t(()=>[e(G,{"show-toggle":!1},{default:t(({fold:o,toggle:g})=>[e(M,{model:i.value.select,size:"default","label-width":"100px","inline-message":"",inline:"",class:"search-form"},{default:t(()=>[e(w,{label:""},{default:t(()=>[e(I,{modelValue:i.value.memberChildId,"onUpdate:modelValue":l[0]||(l[0]=c=>i.value.memberChildId=c),clearable:"",placeholder:"会员ID"},null,8,["modelValue"])]),_:1}),e(w,{label:""},{default:t(()=>[e(I,{modelValue:i.value.projectId,"onUpdate:modelValue":l[1]||(l[1]=c=>i.value.projectId=c),clearable:"",placeholder:"项目ID"},null,8,["modelValue"])]),_:1}),e(w,{label:""},{default:t(()=>[e(I,{modelValue:i.value.projectName,"onUpdate:modelValue":l[2]||(l[2]=c=>i.value.projectName=c),clearable:"",placeholder:"项目名称"},null,8,["modelValue"])]),_:1}),e(F,null,{default:t(()=>[e(z,{type:"primary",onClick:l[3]||(l[3]=c=>C())},{icon:t(()=>[e(U,{name:"i-ep:search"})]),default:t(()=>[f(" 筛选 ")]),_:1}),e(z,{onClick:B},{icon:t(()=>[Ne]),default:t(()=>[f(" 重置 ")]),_:1}),e(z,{link:"",onClick:g,disabled:""},{icon:t(()=>[e(U,{name:o?"i-ep:caret-bottom":"i-ep:caret-top"},null,8,["name"])]),default:t(()=>[f(" "+te(o?"展开":"收起"),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1032,["model"])]),_:1}),e(Q,{"border-style":"dashed"}),e(J,{gutter:24},{default:t(()=>[e(O),e(K,null,{default:t(()=>[e(j,{size:"default",onClick:l[4]||(l[4]=()=>{})},{default:t(()=>[f(" 导出 ")]),_:1}),e(q,{border:_.value,"onUpdate:border":l[5]||(l[5]=o=>_.value=o),tableAutoHeight:D.value,"onUpdate:tableAutoHeight":l[6]||(l[6]=o=>D.value=o),checkList:a.value,"onUpdate:checkList":l[7]||(l[7]=o=>a.value=o),columns:V.value,"onUpdate:columns":l[8]||(l[8]=o=>V.value=o),"line-height":h.value,"onUpdate:lineHeight":l[9]||(l[9]=o=>h.value=o),stripe:k.value,"onUpdate:stripe":l[10]||(l[10]=o=>k.value=o),style:{"margin-left":"12px"},onQueryData:C},null,8,["border","tableAutoHeight","checkList","columns","line-height","stripe"])]),_:1})]),_:1}),oe((r(),s(Y,{ref_key:"tableSortRef",ref:E,style:{"margin-top":"10px"},"row-key":"id",data:S.value,border:_.value,size:h.value,stripe:k.value,onSelectionChange:T},{empty:t(()=>[e(X,{description:"暂无数据"})]),default:t(()=>[e(n,{align:"center",type:"selection"}),a.value.includes("memberChildId")?(r(),s(n,{key:0,"show-overflow-tooltip":"",prop:"memberChildId",align:"center",label:"会员ID"})):u("",!0),a.value.includes("memberChildName")?(r(),s(n,{key:1,"show-overflow-tooltip":"",prop:"memberChildName",align:"center",label:"会员名称"})):u("",!0),a.value.includes("memberChildGroupId")?(r(),s(n,{key:2,"show-overflow-tooltip":"",prop:"memberChildGroupId",align:"center",label:"会员组ID"})):u("",!0),a.value.includes("projectId")?(r(),s(n,{key:3,"show-overflow-tooltip":"",prop:"projectId",align:"center",label:"项目ID"})):u("",!0),a.value.includes("projectName")?(r(),s(n,{key:4,"show-overflow-tooltip":"",prop:"projectName",align:"center",label:"项目名称"})):u("",!0),a.value.includes("customerIdentification")?(r(),s(n,{key:5,"show-overflow-tooltip":"",prop:"customerIdentification",align:"center",label:"客户简称/标识"})):u("",!0),a.value.includes("instructions")?(r(),s(n,{key:6,"show-overflow-tooltip":"",prop:"instructions",align:"center",label:"说明"})):u("",!0),a.value.includes("createTime")?(r(),s(n,{key:7,"show-overflow-tooltip":"",prop:"createTime",align:"center",label:"创建时间"})):u("",!0),e(n,{align:"center",label:"操作",width:"240"},{default:t(({row:o})=>[e(W,null,{default:t(()=>[e(j,{type:"primary",plain:"",size:"small",onClick:g=>H(o)},{default:t(()=>[f(" 查看 ")]),_:2},1032,["onClick"]),e(j,{type:"danger",plain:"",size:"small",onClick:g=>P(o)},{default:t(()=>[f(" 删除 ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data","border","size","stripe"])),[[le,!1]]),e(Z,{"current-page":v(b).page,total:v(b).total,"page-size":v(b).size,"page-sizes":v(b).sizes,layout:v(b).layout,"hide-on-single-page":!1,class:"pagination",background:"",onSizeChange:A,onCurrentChange:C},null,8,["current-page","total","page-size","page-sizes","layout"])]),_:1}),e(ee,{label:"会员素材",name:2},{default:t(()=>[e(G,{"show-toggle":!1},{default:t(({fold:o,toggle:g})=>[e(M,{model:i.value.select,size:"default","label-width":"100px","inline-message":"",inline:"",class:"search-form"},{default:t(()=>[e(w,{label:""},{default:t(()=>[e(I,{modelValue:i.value.memberChildId,"onUpdate:modelValue":l[11]||(l[11]=c=>i.value.memberChildId=c),clearable:"",placeholder:"会员ID"},null,8,["modelValue"])]),_:1}),e(w,{label:""},{default:t(()=>[e(I,{modelValue:i.value.projectId,"onUpdate:modelValue":l[12]||(l[12]=c=>i.value.projectId=c),clearable:"",placeholder:"项目ID"},null,8,["modelValue"])]),_:1}),e(w,{label:""},{default:t(()=>[e(I,{modelValue:i.value.projectName,"onUpdate:modelValue":l[13]||(l[13]=c=>i.value.projectName=c),clearable:"",placeholder:"项目名称"},null,8,["modelValue"])]),_:1}),e(F,null,{default:t(()=>[e(z,{type:"primary",onClick:l[14]||(l[14]=c=>C())},{icon:t(()=>[e(U,{name:"i-ep:search"})]),default:t(()=>[f(" 筛选 ")]),_:1}),e(z,{onClick:B},{icon:t(()=>[Ue]),default:t(()=>[f(" 重置 ")]),_:1}),e(z,{link:"",onClick:g,disabled:""},{icon:t(()=>[e(U,{name:o?"i-ep:caret-bottom":"i-ep:caret-top"},null,8,["name"])]),default:t(()=>[f(" "+te(o?"展开":"收起"),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1032,["model"])]),_:1}),e(Q,{"border-style":"dashed"}),e(J,{gutter:24},{default:t(()=>[e(O),e(K,null,{default:t(()=>[e(j,{size:"default",onClick:l[15]||(l[15]=()=>{})},{default:t(()=>[f(" 导出 ")]),_:1}),e(q,{border:_.value,"onUpdate:border":l[16]||(l[16]=o=>_.value=o),tableAutoHeight:D.value,"onUpdate:tableAutoHeight":l[17]||(l[17]=o=>D.value=o),checkList:a.value,"onUpdate:checkList":l[18]||(l[18]=o=>a.value=o),columns:V.value,"onUpdate:columns":l[19]||(l[19]=o=>V.value=o),"line-height":h.value,"onUpdate:lineHeight":l[20]||(l[20]=o=>h.value=o),stripe:k.value,"onUpdate:stripe":l[21]||(l[21]=o=>k.value=o),style:{"margin-left":"12px"},onQueryData:C},null,8,["border","tableAutoHeight","checkList","columns","line-height","stripe"])]),_:1})]),_:1}),oe((r(),s(Y,{ref_key:"tableSortRef",ref:E,style:{"margin-top":"10px"},"row-key":"id",data:S.value,border:_.value,size:h.value,stripe:k.value,onSelectionChange:T},{empty:t(()=>[e(X,{description:"暂无数据"})]),default:t(()=>[e(n,{type:"selection"}),a.value.includes("memberChildId")?(r(),s(n,{key:0,"show-overflow-tooltip":"",prop:"memberChildId",align:"center",label:"会员ID"})):u("",!0),a.value.includes("memberChildName")?(r(),s(n,{key:1,"show-overflow-tooltip":"",prop:"memberChildName",align:"center",label:"会员名称"})):u("",!0),a.value.includes("memberChildGroupId")?(r(),s(n,{key:2,"show-overflow-tooltip":"",prop:"memberChildGroupId",align:"center",label:"会员组ID"})):u("",!0),a.value.includes("projectId")?(r(),s(n,{key:3,"show-overflow-tooltip":"",prop:"projectId",align:"center",label:"项目ID"})):u("",!0),a.value.includes("projectName")?(r(),s(n,{key:4,"show-overflow-tooltip":"",prop:"projectName",align:"center",label:"项目名称"})):u("",!0),a.value.includes("customerIdentification")?(r(),s(n,{key:5,"show-overflow-tooltip":"",prop:"customerIdentification",align:"center",label:"客户简称/标识"})):u("",!0),a.value.includes("instructions")?(r(),s(n,{key:6,"show-overflow-tooltip":"",prop:"instructions",align:"center",label:"说明"})):u("",!0),a.value.includes("createTime")?(r(),s(n,{key:7,"show-overflow-tooltip":"",prop:"createTime",align:"center",label:"创建时间"})):u("",!0),e(n,{align:"center",label:"操作",width:"240"},{default:t(({row:o})=>[e(W,null,{default:t(()=>[e(j,{type:"primary",plain:"",size:"small",onClick:g=>H(o)},{default:t(()=>[f(" 查看 ")]),_:2},1032,["onClick"]),e(j,{type:"danger",plain:"",size:"small",onClick:g=>P(o)},{default:t(()=>[f(" 删除 ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data","border","size","stripe"])),[[le,!1]]),e(Z,{"current-page":v(b).page,total:v(b).total,"page-size":v(b).size,"page-sizes":v(b).sizes,layout:v(b).layout,"hide-on-single-page":!1,class:"pagination",background:"",onSizeChange:A,onCurrentChange:C},null,8,["current-page","total","page-size","page-sizes","layout"])]),_:1})]),_:1},8,["modelValue"]),e(je,{ref_key:"deleteRef",ref:x},null,512),e(De,{ref_key:"detailsRef",ref:L,onFetchData:y},null,512)]),_:1})],2)}}}),Te=Ie(Se,[["__scopeId","data-v-c98b9897"]]);export{Te as default};
