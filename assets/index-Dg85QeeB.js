
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{_ as S}from"./HTooltip.vue_vue_type_script_setup_true_lang-DVb5VBpJ.js";import $ from"./index-rKI2bg_x.js";import{_ as j}from"./index.vue_vue_type_script_setup_true_lang-CNC_xmuL.js";import{d as z,r as o,a0 as A,a as m,o as i,b as T,f as r,w as c,g as x,F as h,n as F,e as f,l as d,j as g,ak as k,aC as H,aD as M,_ as P}from"./index-BgZmKZlu.js";import"./index-C_oCk9B4.js";import"./index-DFJLODe7.js";const U=n=>(H("data-v-38509433"),n=n(),M(),n),q={style:{position:"absolute",left:"185px",top:"41px","z-index":"999",display:"flex","justify-content":"center","align-items":"center"}},G=U(()=>d("div",{class:"i-bi:exclamation-circle h-1em w-1em"},null,-1)),J=z({__name:"index",props:{leftTabsData:Array,validateTopTabs:Array},setup(n){const v=n,_=o(),b=o(),e=o(v.leftTabsData),C=o(v.validateTopTabs);e.value.forEach((t,l)=>{const u=o(null);A(`formRef${l}`,u)});const y=o(0),a=o(0),w={name:"新建项目",platform:{},screen:{},security:{}};function V(){b.value.showEdit()}function D(){const t=k(e.value[0]);e.value[a.value]=t}function L(){const t=k(e.value[0]);a.value=++y.value,e.value.push({...w,client:_.value,await:t.await,multi:t.multi})}function R(t){e.value.splice(t,1),C.value.splice(t,1),a.value>=e.value.length&&(a.value=Math.max(0,e.value.length-1),y.value=Math.max(0,e.value.length-1))}function B(t){e.value.forEach(l=>{l.client=t}),_.value=t}return(t,l)=>{const u=m("el-button"),E=S,I=m("el-tab-pane"),N=m("el-tabs");return i(),T(h,null,[r(u,{onClick:l[0]||(l[0]=s=>L())},{default:c(()=>[x(" 添加子项目 ")]),_:1}),r(N,{modelValue:a.value,"onUpdate:modelValue":l[1]||(l[1]=s=>a.value=s),"tab-position":"left",onTabRemove:R},{default:c(()=>[(i(!0),T(h,null,F(e.value,(s,p)=>(i(),f(I,{style:{position:"relative"},key:p,closable:e.value.length!==1,label:s.name,name:p},{default:c(()=>[d("div",q,[a.value>0?(i(),f(u,{key:0,size:"small",type:"primary",round:"",plain:"",onClick:D},{default:c(()=>[x(" 同步数据 ")]),_:1})):g("",!0),a.value>0?(i(),f(E,{key:1,style:{"z-index":"9",color:"#48a2ff","margin-left":"5px"},text:"注意噢！"},{default:c(()=>[G]),_:1})):g("",!0)]),d("div",{style:{"margin-left":"10px"},class:"i-solar:settings-line-duotone w-2em h-2em",onClick:V}),r($,{"left-tab":s,"tab-index":p,onSetClient:B},null,8,["left-tab","tab-index"])]),_:2},1032,["closable","label","name"]))),128)),r(j,{ref_key:"settingsRef",ref:b},null,512)]),_:1},8,["modelValue"])],64)}}}),Z=P(J,[["__scopeId","data-v-38509433"]]);export{Z as default};
