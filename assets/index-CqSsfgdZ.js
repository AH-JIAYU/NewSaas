
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{a as E}from"./user_customer-CyrLwou2.js";import{d as D,t as M,a2 as Q,r as V,ba as R,a5 as W,a as i,o as s,b as p,f as e,w as a,e as f,j as d,g as c,a3 as b,a4 as T,F as m,i as K,ao as z,aK as O,aL as G,_ as H}from"./index-13Balsai.js";const v=C=>(O("data-v-8a37b214"),C=C(),G(),C),J=v(()=>m("div",{class:"card-header"},[m("span",null,"基本信息")],-1)),X=v(()=>m("div",{class:"card-header"},[m("span",null,"权限信息")],-1)),Y=v(()=>m("div",{class:"card-header"},[m("span",null,"服务端回调配置")],-1)),Z=v(()=>m("span",null," http:47.96.98.102:9100/callback/serviceCallback?uid={{$uid}}&status=c ",-1)),ee={key:0},ae=v(()=>m("span",null," http:47.96.98.102:9100/callback/serviceCallback?uid={{$uid}}&status=q ",-1)),te={key:0},le=v(()=>m("span",null," http:47.96.98.102:9100/callback/serviceCallback?uid={{$uid}}&status=s ",-1)),ne={key:0},oe=v(()=>m("span",null," http:47.96.98.102:9100/callback/serviceCallback?uid={{$uid}}&status=t ",-1)),ue={key:0},se={class:"card-header"},de=v(()=>m("span",null,"重定向配置",-1)),re=D({__name:"index",props:{leftTab:Object,tabIndex:Number},setup(C){const A=C,$=M("validateTopTabs"),B=Q({customerAccord:[{required:!0,message:"请输入客户名称",trigger:"blur"},{min:2,max:50,message:"内容在2-50个字之间",trigger:"blur"}],customerShortName:[{required:!0,message:"请输入客户简称",trigger:"blur"},{min:2,max:50,message:"内容在2-50个字之间",trigger:"blur"}]}),U=V("basicSettings"),L=V(!1),y=V([]),q=_=>{if(_)t.value.tenantCustomerConfigInfoList.push({callbackWay:2,isEncryption:2,encryptionId:"",secretKey:""});else{const l=t.value.tenantCustomerConfigInfoList.findIndex(r=>r.callbackWay===2);l!==-1&&t.value.tenantCustomerConfigInfoList.splice(l,1)}},N=async(_,l)=>{if(_){const r=y.value.find(u=>u.id===_),o=await E.generateKey({type:r.name});t.value.tenantCustomerConfigInfoList[l].secretKey=o.data}};R(async()=>{L.value=t.value.tenantCustomerConfigInfoList.length===2;const _=await E.getTenantSecretKeyConfigList();y.value=_.data});const w=V(null),t=V(A.leftTab);return W(()=>{$(w.value)}),(_,l)=>{const r=i("el-input"),o=i("el-form-item"),u=i("el-col"),I=i("el-option"),x=i("el-select"),h=i("el-row"),k=i("el-card"),g=i("el-switch"),j=i("el-input-number"),S=i("el-tab-pane"),F=i("el-checkbox"),P=i("el-tabs");return s(),p("div",null,[e(K(z),{ref_key:"formRef",ref:w,rules:K(B),model:t.value,"label-width":"100px"},{default:a(()=>[e(P,{modelValue:U.value,"onUpdate:modelValue":l[22]||(l[22]=n=>U.value=n)},{default:a(()=>[e(S,{label:"基础设置",name:"basicSettings"},{default:a(()=>[e(k,{class:"box-card"},{header:a(()=>[J]),default:a(()=>[e(h,{gutter:24},{default:a(()=>[e(u,{span:12},{default:a(()=>[e(o,{label:"客户名称",prop:"customerAccord"},{default:a(()=>[e(r,{modelValue:t.value.customerAccord,"onUpdate:modelValue":l[0]||(l[0]=n=>t.value.customerAccord=n),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:a(()=>[e(o,{label:"客户简称",prop:"customerShortName"},{default:a(()=>[e(r,{modelValue:t.value.customerShortName,"onUpdate:modelValue":l[1]||(l[1]=n=>t.value.customerShortName=n),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:a(()=>[e(o,{label:"公司名称",prop:"companyName"},{default:a(()=>[e(r,{modelValue:t.value.companyName,"onUpdate:modelValue":l[2]||(l[2]=n=>t.value.companyName=n),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:a(()=>[e(o,{label:"客户姓名",prop:"customerName"},{default:a(()=>[e(r,{modelValue:t.value.customerName,"onUpdate:modelValue":l[3]||(l[3]=n=>t.value.customerName=n),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:a(()=>[e(o,{label:"手机号码",prop:"customerPhone"},{default:a(()=>[e(r,{modelValue:t.value.customerPhone,"onUpdate:modelValue":l[4]||(l[4]=n=>t.value.customerPhone=n),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:a(()=>[e(o,{label:"电子邮箱",prop:"emailAddress"},{default:a(()=>[e(r,{modelValue:t.value.emailAddress,"onUpdate:modelValue":l[5]||(l[5]=n=>t.value.emailAddress=n),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:a(()=>[e(o,{label:"负责人",prop:"chargeName"},{default:a(()=>[e(r,{modelValue:t.value.chargeName,"onUpdate:modelValue":l[6]||(l[6]=n=>t.value.chargeName=n)},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:a(()=>[e(o,{label:"结算周期",prop:"settlementCycle"},{default:a(()=>[e(x,{modelValue:t.value.settlementCycle,"onUpdate:modelValue":l[7]||(l[7]=n=>t.value.settlementCycle=n)},{default:a(()=>[e(I,{label:"30天",value:30}),e(I,{label:"60天",value:60})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(k,{class:"box-card"},{header:a(()=>[X]),default:a(()=>[e(h,{gutter:24},{default:a(()=>[e(u,{span:3},{default:a(()=>[e(o,{label:"客户状态"},{default:a(()=>[e(g,{modelValue:t.value.customerStatus,"onUpdate:modelValue":l[8]||(l[8]=n=>t.value.customerStatus=n),"active-value":2,"inactive-value":1,"inline-prompt":"","active-text":"开启","inactive-text":"关闭"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:3},{default:a(()=>[e(o,{label:"前置问卷"},{default:a(()=>[e(g,{modelValue:t.value.antecedentQuestionnaire,"onUpdate:modelValue":l[9]||(l[9]=n=>t.value.antecedentQuestionnaire=n),"active-value":2,"inactive-value":1,"inline-prompt":"","active-text":"开启","inactive-text":"关闭"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:18},{default:a(()=>[e(o,{label:"风险控制"},{default:a(()=>[e(g,{modelValue:t.value.riskControl,"onUpdate:modelValue":l[10]||(l[10]=n=>t.value.riskControl=n),"active-value":2,"inactive-value":1,"inline-prompt":"","active-text":"开启","inactive-text":"关闭"},null,8,["modelValue"])]),_:1})]),_:1}),t.value.riskControl===2?(s(),f(u,{key:0,span:12},{default:a(()=>[e(o,{label:"营业限额/月"},{default:a(()=>[e(j,{modelValue:t.value.turnover,"onUpdate:modelValue":l[11]||(l[11]=n=>t.value.turnover=n),"controls-position":"right",min:0},null,8,["modelValue"])]),_:1})]),_:1})):d("",!0),t.value.riskControl===2?(s(),f(u,{key:1,span:12},{default:a(()=>[e(o,{label:"审核率Min值"},{default:a(()=>[e(r,{modelValue:t.value.rateAudit,"onUpdate:modelValue":l[12]||(l[12]=n=>t.value.rateAudit=n),"controls-position":"right",min:1,type:"number"},{append:a(()=>[c(" % ")]),_:1},8,["modelValue"])]),_:1})]),_:1})):d("",!0)]),_:1})]),_:1})]),_:1}),e(S,{label:"端口设置",name:"portSettings"},{default:a(()=>[e(k,{class:"box-card"},{header:a(()=>[Y]),default:a(()=>[e(h,{gutter:24},{default:a(()=>[e(u,{span:24},{default:a(()=>[e(o,{label:"加密"},{default:a(()=>[e(g,{modelValue:t.value.tenantCustomerConfigInfoList[0].isEncryption,"onUpdate:modelValue":l[13]||(l[13]=n=>t.value.tenantCustomerConfigInfoList[0].isEncryption=n),"active-value":1,"inactive-value":2,"inline-prompt":"","active-text":"加密","inactive-text":"不加密"},null,8,["modelValue"])]),_:1})]),_:1}),t.value.tenantCustomerConfigInfoList[0].isEncryption===1?(s(),f(u,{key:0,span:24},{default:a(()=>[e(o,{label:"加密方式"},{default:a(()=>[e(x,{onChange:l[14]||(l[14]=n=>N(n,0)),clearable:"",modelValue:t.value.tenantCustomerConfigInfoList[0].encryptionId,"onUpdate:modelValue":l[15]||(l[15]=n=>t.value.tenantCustomerConfigInfoList[0].encryptionId=n)},{default:a(()=>[(s(!0),p(b,null,T(y.value,n=>(s(),f(I,{label:n.name,value:n.id},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:1})]),_:1})):d("",!0),t.value.tenantCustomerConfigInfoList[0].isEncryption===1?(s(),f(u,{key:1,span:24},{default:a(()=>[e(o,{label:"密钥"},{default:a(()=>[e(r,{disabled:"",modelValue:t.value.tenantCustomerConfigInfoList[0].secretKey,"onUpdate:modelValue":l[16]||(l[16]=n=>t.value.tenantCustomerConfigInfoList[0].secretKey=n)},null,8,["modelValue"])]),_:1})]),_:1})):d("",!0),e(u,{span:24},{default:a(()=>[e(o,{label:"成功回调"},{default:a(()=>[Z,t.value.tenantCustomerConfigInfoList[0].encryptionId?(s(),p("span",ee,"&hash ={{$hash}}")):d("",!0)]),_:1})]),_:1}),e(u,{span:24},{default:a(()=>[e(o,{label:"配额满回调"},{default:a(()=>[ae,t.value.tenantCustomerConfigInfoList[0].encryptionId?(s(),p("span",te,"&hash={{$hash}}")):d("",!0)]),_:1})]),_:1}),e(u,{span:24},{default:a(()=>[e(o,{label:"被甄别回调"},{default:a(()=>[le,t.value.tenantCustomerConfigInfoList[0].encryptionId?(s(),p("span",ne,"&hash={{$hash}}")):d("",!0)]),_:1})]),_:1}),e(u,{span:24},{default:a(()=>[e(o,{label:"安全终止回调"},{default:a(()=>[oe,t.value.tenantCustomerConfigInfoList[0].encryptionId?(s(),p("span",ue,"&hash={{$hash}}")):d("",!0)]),_:1})]),_:1})]),_:1})]),_:1}),e(k,{class:"box-card"},{header:a(()=>[m("div",se,[e(F,{modelValue:L.value,"onUpdate:modelValue":l[17]||(l[17]=n=>L.value=n),size:"large",onChange:q},{default:a(()=>[de]),_:1},8,["modelValue"])])]),default:a(()=>[t.value.tenantCustomerConfigInfoList.length===2?(s(),f(h,{key:0,gutter:24},{default:a(()=>[e(u,{span:24},{default:a(()=>[e(o,{label:"加密"},{default:a(()=>[e(g,{modelValue:t.value.tenantCustomerConfigInfoList[1].isEncryption,"onUpdate:modelValue":l[18]||(l[18]=n=>t.value.tenantCustomerConfigInfoList[1].isEncryption=n),"active-value":1,"inactive-value":2,"inline-prompt":"","active-text":"加密","inactive-text":"不加密"},null,8,["modelValue"])]),_:1})]),_:1}),t.value.tenantCustomerConfigInfoList[1].isEncryption===1?(s(),f(u,{key:0,span:24},{default:a(()=>[e(o,{label:"加密方式"},{default:a(()=>[e(x,{onChange:l[19]||(l[19]=n=>N(n,1)),clearable:"",modelValue:t.value.tenantCustomerConfigInfoList[1].encryptionId,"onUpdate:modelValue":l[20]||(l[20]=n=>t.value.tenantCustomerConfigInfoList[1].encryptionId=n)},{default:a(()=>[(s(!0),p(b,null,T(y.value,n=>(s(),f(I,{label:n.name,value:n.id},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:1})]),_:1})):d("",!0),t.value.tenantCustomerConfigInfoList[1].isEncryption===1?(s(),f(u,{key:1,span:24},{default:a(()=>[e(o,{label:"密钥"},{default:a(()=>[e(r,{disabled:"",modelValue:t.value.tenantCustomerConfigInfoList[1].secretKey,"onUpdate:modelValue":l[21]||(l[21]=n=>t.value.tenantCustomerConfigInfoList[1].secretKey=n)},null,8,["modelValue"])]),_:1})]),_:1})):d("",!0),e(u,{span:24},{default:a(()=>[e(o,{label:"成功回调"},{default:a(()=>[c(" http://369.front-saas-web.surveyssaas.com/#/redirect?uid=[uid]&status=c"),t.value.tenantCustomerConfigInfoList[1].encryptionId?(s(),p(b,{key:0},[c("&hash=[hash]")],64)):d("",!0)]),_:1})]),_:1}),e(u,{span:24},{default:a(()=>[e(o,{label:"配额满回调"},{default:a(()=>[c(" http://369.front-saas-web.surveyssaas.com/#/redirect?uid=[uid]&status=q"),t.value.tenantCustomerConfigInfoList[1].encryptionId?(s(),p(b,{key:0},[c("&hash=[hash]")],64)):d("",!0)]),_:1})]),_:1}),e(u,{span:24},{default:a(()=>[e(o,{label:"被甄别回调"},{default:a(()=>[c(" http://369.front-saas-web.surveyssaas.com/#/redirect?uid=[uid]&status=s"),t.value.tenantCustomerConfigInfoList[1].encryptionId?(s(),p(b,{key:0},[c("&hash=[hash]")],64)):d("",!0)]),_:1})]),_:1}),e(u,{span:24},{default:a(()=>[e(o,{label:"安全终止回调"},{default:a(()=>[c(" http://369.front-saas-web.surveyssaas.com/#/redirect?uid=[uid]&status=t"),t.value.tenantCustomerConfigInfoList[1].encryptionId?(s(),p(b,{key:0},[c("&hash=[hash]")],64)):d("",!0)]),_:1})]),_:1})]),_:1})):d("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["rules","model"])])}}}),pe=H(re,[["__scopeId","data-v-8a37b214"]]);export{pe as default};
