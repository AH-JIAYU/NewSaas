
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{a as v}from"./otherFunctions_screenLibrary-BgdPBx3F.js";import{d as D,m as _,u as U,r as m,c as F,a as u,o as M,b as S,f as t,w as s,g as y,i as o,ai as E}from"./index-CRsr9m9e.js";const z=D({__name:"index",props:_(["id","row"],{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:_(["success"],["update:modelValue"]),setup(i,{emit:b}){const n=i,w=b,d=U(i,"modelValue"),I=m(),l=m({id:n.id,status:2,isDefault:2}),x=m({categoryName:[{required:!0,message:"请输入名称",trigger:"blur"}],countryId:[{required:!0,message:"请选择国家",trigger:"blur"}]}),N=F(()=>(l.value={},n.id&&(l.value=JSON.parse(n.row)),n.id===""?"新增":"编辑"));async function k(){if(n.id){const{data:p,status:e}=await v.edit(l.value);e===1&&E.success({message:"编辑成功",center:!0})}else{const{data:p,status:e}=await v.create(l.value);e===1&&E.success({message:"新增成功",center:!0})}c(),w("success")}function c(){d.value=!1}return(p,e)=>{const f=u("ElInput"),r=u("ElFormItem"),V=u("ElSwitch"),C=u("ElForm"),g=u("ElButton"),B=u("ElDialog");return M(),S("div",null,[t(B,{modelValue:d.value,"onUpdate:modelValue":e[4]||(e[4]=a=>d.value=a),title:o(N),width:"50%","close-on-click-modal":!1,"append-to-body":"","destroy-on-close":""},{footer:s(()=>[t(g,{size:"large",onClick:c},{default:s(()=>[y(" 取消 ")]),_:1}),t(g,{type:"primary",size:"large",onClick:k},{default:s(()=>[y(" 确定 ")]),_:1})]),default:s(()=>[t(C,{ref_key:"formRef",ref:I,model:o(l),rules:o(x),"label-width":"120px","label-suffix":"："},{default:s(()=>[t(r,{label:"名称",prop:"categoryName"},{default:s(()=>[t(f,{modelValue:o(l).categoryName,"onUpdate:modelValue":e[0]||(e[0]=a=>o(l).categoryName=a),placeholder:"请输入名称"},null,8,["modelValue"])]),_:1}),t(r,{label:"国家",prop:"countryId"},{default:s(()=>[t(f,{modelValue:o(l).countryId,"onUpdate:modelValue":e[1]||(e[1]=a=>o(l).countryId=a),placeholder:"请输入国家"},null,8,["modelValue"])]),_:1}),t(r,{label:"状态"},{default:s(()=>[t(V,{modelValue:o(l).status,"onUpdate:modelValue":e[2]||(e[2]=a=>o(l).status=a),"active-value":1,"inactive-value":2,placeholder:"请输入状态"},null,8,["modelValue"])]),_:1}),t(r,{label:"默认"},{default:s(()=>[t(V,{modelValue:o(l).isDefault,"onUpdate:modelValue":e[3]||(e[3]=a=>o(l).isDefault=a),"active-value":1,"inactive-value":2,placeholder:"请输入默认"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])])}}});export{z as _};
