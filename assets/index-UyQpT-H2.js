
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{u as B,T as I}from"./index-C3gp8gmz.js";import{_ as M}from"./index.vue_vue_type_script_setup_true_lang-U4yzWR1x.js";import{d as N,r as o,a2 as S,a5 as z,a3 as $,a as f,o as p,b,f as d,w as c,g as _,F as E,n as F,e as T,l as y,I as P,R as U,j as q,an as g,_ as G}from"./index-CK7oE2zh.js";import"./index-DfNHbmXl.js";import"./index-DFJLODe7.js";import"./apiLoading-C_lzfaAz.js";import"./otherFunctions_basicDictionary-DfN-gQED.js";import"./basicDictionary-CJWWopkW.js";import"./user_customer-BHCGkjZM.js";import"./user_customer-Bpp33sSR.js";import"./stagedData-CdllaVJT.js";const H={style:{float:"right",position:"sticky",top:"19px",width:"70%","z-index":"1000",display:"flex","justify-content":"start","align-items":"start"}},J=N({__name:"index",props:{leftTabsData:Array,validateTopTabs:Array,validateAll:Array,title:String},emits:["validate"],setup(x,{expose:h,emit:k}){const R=B(),n=x,j=k;o();const V=o(),e=o(n.leftTabsData),A=o(n.validateTopTabs),C=o(),v=o(0),t=o(0);function L(){const a=g(e.value[0]);e.value.splice(t.value,1,a)}function D(){t.value=++v.value;const a=g(R.initialTopTabsData);e.value.push(a)}function w(a){e.value.splice(a,1),A.value.splice(a,1),t.value>=e.value.length&&(t.value=Math.max(0,e.value.length-1),v.value=Math.max(0,e.value.length-1))}return S(()=>t.value,(a,l)=>{n.validateAll.reduce((u,m,s)=>(m==="rejected"&&u.push(s),u),[]).includes(l)&&j("validate")}),z(()=>{e.value.forEach((a,l)=>{const i=o(null);$(`formRef${l}`,i)})}),h({activeLeftTab:t}),(a,l)=>{const i=f("el-button"),u=f("el-tab-pane"),m=f("el-tabs");return p(),b("div",null,[d(i,{class:"button",disabled:e.value.length>29,onClick:l[0]||(l[0]=s=>D())},{default:c(()=>[_(" 新增 ")]),_:1},8,["disabled"]),d(m,{modelValue:t.value,"onUpdate:modelValue":l[1]||(l[1]=s=>t.value=s),"tab-position":"left",onTabRemove:w},{default:c(()=>[(p(!0),b(E,null,F(e.value,(s,r)=>(p(),T(u,{key:r,style:{position:"relative"},closable:e.value.length!==1,name:r},{label:c(()=>[y("div",{class:U(n.validateAll[r]&&n.validateAll[r]==="rejected"?"validateRejected":"")},P(s.name||"项目名称"),3)]),default:c(()=>[y("div",H,[t.value>0?(p(),T(i,{key:0,size:"small",type:"primary",round:"",plain:"",onClick:L},{default:c(()=>[_(" 同步数据 ")]),_:1})):q("",!0)]),d(I,{ref_for:!0,ref_key:"topTabsRef",ref:C,"left-tab":s,title:n.title,"tab-index":r},null,8,["left-tab","title","tab-index"])]),_:2},1032,["closable","name"]))),128)),d(M,{ref_key:"settingsRef",ref:V},null,512)]),_:1},8,["modelValue"])])}}}),oe=G(J,[["__scopeId","data-v-9ae3c864"]]);export{oe as default};
