
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{d as me,r as l,aL as de,a1 as _e,k as fe,a as i,l as ve,n as H,o as p,b as F,f as e,w as t,a2 as ge,a3 as be,g as u,C as L,e as f,j as b,i as v,O as he,J as Ce,aN as ke,aO as ye,an as Se,aH as we,aI as De,p as Ee,N as ze}from"./index-BdHtZquS.js";import{_ as Ie}from"./index.vue_vue_type_script_setup_true_lang-BC1lkQil.js";import{_ as Ve}from"./index.vue_vue_type_style_index_0_lang-CiWQT7ji.js";import{_ as xe}from"./index.vue_vue_type_script_setup_true_lang-BfuXSoc2.js";import{_ as Le}from"./index.vue_vue_type_script_setup_true_lang-B62Llbwu.js";import{u as Ne}from"./user_customer-DM2QomNY.js";import{a as Ue}from"./finance_invoice-CVZn5pdq.js";import"./user_customer-DSn8-1Cc.js";const $e=g=>(we("data-v-6a40c00d"),g=g(),De(),g),Ae=$e(()=>Ee("div",{class:"i-grommet-icons:power-reset h-1em w-1em"},null,-1)),Re=me({name:"position_manage",__name:"list",setup(g){const O=Ne(),h=l([]),{pagination:m,onSizeChange:P,onCurrentChange:T,onSortChange:Be}=de(),j=l(""),N=l([]),C=l(!0),k=l(),y=l(!1),c=l([]),S=l(!0);l(!1);const w=l("default"),D=l(!1),J=l([]),M=[{lable:"未收款",value:1},{lable:"部分收款",value:2},{lable:"已完结",value:3},{lable:"坏账",value:4}],q=l(null);l([]);const E=l([{label:"职位ID",prop:"tenantCustomerShortName",sortable:!0,disableCheck:!1,checked:!0},{label:"职位名称",prop:"invoiceCode",sortable:!0,disableCheck:!1,checked:!0},{label:"账户数",prop:"invoiceAmount",sortable:!0,disableCheck:!1,checked:!0},{label:"备注",prop:"remark",sortable:!0,disableCheck:!1,checked:!0}]),s=_e({page:1,limit:10,tenantCustomerId:"",invoiceStatus:null,invoiceDateStart:"",invoiceDateEnd:"",paymentDateStart:"",paymentDateEnd:""});function Q(){k.value.showEdit("",h.value)}function G(n){k.value.showEdit(JSON.stringify(n),h.value)}function K(n){J.value=n}function W(){Object.assign(s,{page:1,limit:10,tenantCustomerId:"",invoiceStatus:null,invoiceDateStart:"",invoiceDateEnd:"",paymentDateStart:"",paymentDateEnd:""}),q.value=null,_()}function X(n){P(n).then(()=>_())}function z(n=1){T(n).then(()=>_())}async function _(){C.value=!0,h.value=await O.getCustomerList();const{data:n}=await Ue.list(s);N.value=n.data,m.value.total=parseInt(n.total)||0,C.value=!1}return fe(()=>{E.value.forEach(n=>{n.checked&&c.value.push(n.prop)}),_()}),(n,a)=>{const U=i("el-input"),I=i("el-form-item"),Y=i("ElOption"),Z=i("el-select"),$=Ce,V=i("ElButton"),ee=i("ElFormItem"),te=i("el-form"),ae=xe,oe=i("ElDivider"),x=i("el-button"),le=Ve,ne=ke,ie=ye,se=i("el-row"),d=i("el-table-column"),A=Ie,re=i("el-empty"),ue=i("el-table"),ce=i("ElPagination"),pe=Se,R=ve("loading");return H((p(),F("div",{class:he({"absolute-container":y.value})},[e(pe,null,{default:t(()=>[e(ae,{"show-toggle":!1},{default:t(({fold:o,toggle:B})=>[e(te,{model:s.select,size:"default","label-width":"100px","inline-message":"",inline:"",class:"search-form"},{default:t(()=>[e(I,{label:""},{default:t(()=>[e(U,{modelValue:s.invoiceStatus,"onUpdate:modelValue":a[0]||(a[0]=r=>s.invoiceStatus=r),placeholder:"职位ID",clearable:""},null,8,["modelValue"])]),_:1}),e(I,{label:""},{default:t(()=>[e(U,{modelValue:s.invoiceStatus,"onUpdate:modelValue":a[1]||(a[1]=r=>s.invoiceStatus=r),placeholder:"职位名称",clearable:""},null,8,["modelValue"])]),_:1}),e(I,{label:""},{default:t(()=>[e(Z,{modelValue:s.invoiceStatus,"onUpdate:modelValue":a[2]||(a[2]=r=>s.invoiceStatus=r),placeholder:"状态",clearable:"",filterable:""},{default:t(()=>[(p(),F(ge,null,be(M,r=>e(Y,{label:r.lable,value:r.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),e(ee,null,{default:t(()=>[e(V,{type:"primary",onClick:a[3]||(a[3]=r=>z())},{icon:t(()=>[e($,{name:"i-ep:search"})]),default:t(()=>[u(" 筛选 ")]),_:1}),e(V,{onClick:W},{icon:t(()=>[Ae]),default:t(()=>[u(" 重置 ")]),_:1}),e(V,{disabled:"",link:"",onClick:B},{icon:t(()=>[e($,{name:o?"i-ep:caret-bottom":"i-ep:caret-top"},null,8,["name"])]),default:t(()=>[u(" "+L(o?"展开":"收起"),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1032,["model"])]),_:1}),e(oe,{"border-style":"dashed"}),e(se,{gutter:24},{default:t(()=>[e(le,null,{default:t(()=>[e(x,{style:{"margin-right":"10px"},type:"primary",size:"default",onClick:Q},{default:t(()=>[u(" 新增职位 ")]),_:1})]),_:1}),e(ie,null,{default:t(()=>[e(x,{size:"default",onClick:a[4]||(a[4]=()=>{})},{default:t(()=>[u(" 导出 ")]),_:1}),e(ne,{border:S.value,"onUpdate:border":a[5]||(a[5]=o=>S.value=o),tableAutoHeight:y.value,"onUpdate:tableAutoHeight":a[6]||(a[6]=o=>y.value=o),checkList:c.value,"onUpdate:checkList":a[7]||(a[7]=o=>c.value=o),columns:E.value,"onUpdate:columns":a[8]||(a[8]=o=>E.value=o),"line-height":w.value,"onUpdate:lineHeight":a[9]||(a[9]=o=>w.value=o),stripe:D.value,"onUpdate:stripe":a[10]||(a[10]=o=>D.value=o),style:{"margin-left":"12px"},onQueryData:z},null,8,["border","tableAutoHeight","checkList","columns","line-height","stripe"])]),_:1})]),_:1}),H((p(),f(ue,{ref_key:"tableSortRef",ref:j,style:{"margin-top":"10px"},"row-key":"id",data:N.value,border:S.value,size:w.value,stripe:D.value,onSelectionChange:K},{empty:t(()=>[e(re,{description:"暂无数据"})]),default:t(()=>[e(d,{align:"center",type:"selection"}),c.value.includes("tenantCustomerShortName")?(p(),f(d,{key:0,prop:"tenantCustomerShortName","show-overflow-tooltip":"",align:"center",label:"职位ID"})):b("",!0),c.value.includes("invoiceCode")?(p(),f(d,{key:1,prop:"invoiceCode","show-overflow-tooltip":"",align:"center",label:"职位名称"})):b("",!0),c.value.includes("invoiceAmount")?(p(),f(d,{key:2,prop:"invoiceAmount","show-overflow-tooltip":"",align:"center",label:"账户数"},{default:t(({row:o})=>[e(A),u(L(o.invoiceAmount||0),1)]),_:1})):b("",!0),c.value.includes("remark")?(p(),f(d,{key:3,prop:"invoiceTax","show-overflow-tooltip":"",align:"center",label:"备注"},{default:t(({row:o})=>[e(A),u(L(o.invoiceTax||0),1)]),_:1})):b("",!0),e(d,{align:"center",fixed:"right",label:"操作",width:"170"},{default:t(({row:o})=>[e(x,{size:"small",plain:"",type:"primary",onClick:B=>G(o)},{default:t(()=>[u(" 编辑 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data","border","size","stripe"])),[[R,!1]]),e(ce,{"current-page":v(m).page,total:v(m).total,"page-size":v(m).size,"page-sizes":v(m).sizes,layout:v(m).layout,"hide-on-single-page":!1,class:"pagination",background:"",onCurrentChange:z,onSizeChange:X},null,8,["current-page","total","page-size","page-sizes","layout"]),e(Le,{onSuccess:_,ref_key:"editRef",ref:k},null,512)]),_:1})],2)),[[R,C.value]])}}}),qe=ze(Re,[["__scopeId","data-v-6a40c00d"]]);export{qe as default};
