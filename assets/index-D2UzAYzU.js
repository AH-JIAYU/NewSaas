
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{a as T}from"./position_manage-Be9Wjkpg.js";import{d as C,r as f,a3 as o,b as r,j as E,i as a,c as p,w as t,g as s,h as _,k as b,ak as B,ai as N,z as R}from"./index-CZbucr5m.js";const Q=C({name:"RoleQuicEdit",__name:"index",emits:["fetch-data"],setup(U,{expose:g,emit:v}){const k=v,d=f(),e=f({dialogTableVisible:!1,title:"",type:"",loading:"",formData:{}}),y={remark:"备注"};async function V(i,l){e.value.title=y[l],e.value.type=l;try{e.value.loading=!0,e.value.formData=B(i),e.value.dialogTableVisible=!0,e.value.loading=!1}catch{}finally{e.value.loading=!1}}async function w(){e.value.loading=!0,d.value.validate(async i=>{if(i){const{status:l}=await T.edit(e.value.formData);l===1&&N.success({message:"编辑成功",center:!0}),k("fetch-data"),u()}e.value.loading=!1})}function u(){e.value.dialogTableVisible=!1,e.value.formData={}}return g({showEdit:V}),(i,l)=>{const m=o("el-input"),x=o("el-form-item"),h=o("el-form"),c=o("el-button"),D=o("el-dialog");return r(),E("div",null,[a(e).dialogTableVisible?(r(),p(D,{key:0,modelValue:a(e).dialogTableVisible,"onUpdate:modelValue":l[1]||(l[1]=n=>a(e).dialogTableVisible=n),title:a(e).title+"编辑",draggable:""},{footer:t(()=>[s(c,{onClick:u,disabled:a(e).loading},{default:t(()=>[_(" 取消 ")]),_:1},8,["disabled"]),s(c,{type:"primary",onClick:w,disabled:a(e).loading},{default:t(()=>[_(" 确定 ")]),_:1},8,["disabled"])]),default:t(()=>[s(h,{ref_key:"formRef",ref:d,model:a(e).formData,rules:a(e).rules,"label-width":"100","label-position":"right"},{default:t(()=>[a(e).type==="remark"?(r(),p(x,{key:0,label:"备注"},{default:t(()=>[s(m,{maxlength:"200","show-word-limit":"",style:{width:"100%"},type:"textarea",rows:5,modelValue:a(e).formData.remark,"onUpdate:modelValue":l[0]||(l[0]=n=>a(e).formData.remark=n)},null,8,["modelValue"])]),_:1})):b("",!0)]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])):b("",!0)])}}}),H=R(Q,[["__scopeId","data-v-0081a4e6"]]);export{H as default};
