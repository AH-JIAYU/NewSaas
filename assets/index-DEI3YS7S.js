
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{a as T}from"./configuration_role-CJMWlLLL.js";import{d as C,r as c,a as o,o as r,b as E,i as a,e as p,w as t,f as s,g as _,j as b,an as B,E as N,L as R}from"./index-CLIJ1bkJ.js";const L=C({name:"RoleQuicEdit",__name:"index",emits:["fetch-data"],setup(Q,{expose:g,emit:v}){const y=v,d=c(),e=c({dialogTableVisible:!1,title:"",type:"",loading:"",formData:{}}),V={remark:"备注"};async function k(i,l){e.value.title=V[l],e.value.type=l;try{e.value.loading=!0,e.value.formData=B(i),e.value.dialogTableVisible=!0,e.value.loading=!1}catch{}finally{e.value.loading=!1}}async function w(){e.value.loading=!0,d.value.validate(async i=>{if(i){const{status:l}=await T.edit(e.value.formData);l===1&&N.success({message:"编辑成功",center:!0}),y("fetch-data"),u()}e.value.loading=!1})}function u(){e.value.dialogTableVisible=!1,e.value.formData={}}return g({showEdit:k}),(i,l)=>{const m=o("el-input"),x=o("el-form-item"),D=o("el-form"),f=o("el-button"),h=o("el-dialog");return r(),E("div",null,[a(e).dialogTableVisible?(r(),p(h,{key:0,modelValue:a(e).dialogTableVisible,"onUpdate:modelValue":l[1]||(l[1]=n=>a(e).dialogTableVisible=n),title:a(e).title+"编辑",draggable:""},{footer:t(()=>[s(f,{onClick:u,disabled:a(e).loading},{default:t(()=>[_(" 取消 ")]),_:1},8,["disabled"]),s(f,{type:"primary",onClick:w,disabled:a(e).loading},{default:t(()=>[_(" 确定 ")]),_:1},8,["disabled"])]),default:t(()=>[s(D,{ref_key:"formRef",ref:d,model:a(e).formData,rules:a(e).rules,"label-width":"100","label-position":"right"},{default:t(()=>[a(e).type==="remark"?(r(),p(x,{key:0,label:"备注"},{default:t(()=>[s(m,{maxlength:"200","show-word-limit":"",style:{width:"100%"},type:"textarea",rows:5,modelValue:a(e).formData.remark,"onUpdate:modelValue":l[0]||(l[0]=n=>a(e).formData.remark=n)},null,8,["modelValue"])]),_:1})):b("",!0)]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])):b("",!0)])}}}),H=R(L,[["__scopeId","data-v-bf58a741"]]);export{H as default};
