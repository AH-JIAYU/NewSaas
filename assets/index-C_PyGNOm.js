
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{d as pe,aF as me,r as s,a1 as de,B as _e,a,aj as fe,o as A,b as ve,f as e,w as t,i as o,ak as I,g as r,D as ge,E as m,e as he,O as be,aG as we,K as Ce,aH as ke,aI as ye,q as Se,az as Ee,aA as ze,l as xe,aK as H,_ as De}from"./index-CBZ2Pv-y.js";import{_ as $e}from"./index.vue_vue_type_style_index_0_lang-BP-qhiUX.js";import{_ as Fe}from"./index.vue_vue_type_script_setup_true_lang-5MOQinDl.js";import{_ as Ie,a as Ne}from"./index.vue_vue_type_script_setup_true_lang-bugj_MjX.js";import Be from"./index-CzbFv_Sn.js";import"./index.vue_vue_type_script_setup_true_lang-Cyz8hMul.js";import"./index-DbN-xabA.js";import"./index.vue_vue_type_script_setup_true_lang-B_5jnVyu.js";const Re=f=>(Ee("data-v-a3a6198c"),f=f(),ze(),f),Ue=Re(()=>xe("div",{class:"i-grommet-icons:power-reset h-1em w-1em"},null,-1)),Ve=pe({name:"UserCustomerIndex",__name:"index",setup(f){const{pagination:d,onSizeChange:L,onCurrentChange:P}=me(),y=s(!1),N=s([]),S=s(),B=s(),T=s(),M=s(),v=s(!0),g=s(!1),h=s(!1),b=s("default"),E=s([]),z=s([{label:"等级名称",prop:"name",sortable:!0,disableCheck:!0,checked:!0}]);function q(){S.value.showEdit()}function j(i){S.value.showEdit(i)}function K(i){B.value.showEdit(i)}function O(i){i.id&&we.confirm("您确定要删除当前项吗?","确认信息").then(()=>{}).catch(()=>{})}const c=de({page:1,limit:10,customerShortName:"",customerStatus:null});function Q(){c.pageNo=1,p()}function G(i){L(i).then(()=>p())}function R(i=1){P(i).then(()=>p())}function J(){Object.assign(c,{page:1,limit:10,customerShortName:"",customerStatus:null})}async function p(){y.value=!0;const{data:i}=await Ne.list(c);N.value=i.getTenantCustomerInfoList,T.value=i.total,y.value=!1}function W(i){M.value=i}return _e(()=>{p()}),(i,n)=>{const w=a("el-option"),U=a("el-select"),V=a("el-form-item"),x=Ce,D=a("ElButton"),X=a("ElFormItem"),Y=a("ElForm"),Z=Fe,ee=a("ElDivider"),_=a("el-button"),te=$e,oe=ke,le=ye,ne=a("el-row"),u=a("el-table-column"),$=a("ElSwitch"),F=a("ElTableColumn"),ae=a("ElSpace"),ie=a("el-empty"),se=a("el-table"),ce=a("ElPagination"),re=Se,ue=fe("loading");return A(),ve("div",{class:be({"absolute-container":o(h)})},[e(re,null,{default:t(()=>[e(Z,{"show-toggle":!1},{default:t(({fold:l,toggle:C})=>[e(Y,{model:o(c).select,size:"default","label-width":"100px","inline-message":"",inline:"",class:"search-form"},{default:t(()=>[I(e(V,null,{default:t(()=>[e(U,{modelValue:o(c).customerShortName,"onUpdate:modelValue":n[0]||(n[0]=k=>o(c).customerShortName=k),clearable:"",placeholder:"负责人"},{default:t(()=>[e(w,{label:"name",value:"name"})]),_:1},8,["modelValue"])]),_:2},1536),[[H,!l]]),I(e(V,null,{default:t(()=>[e(U,{modelValue:o(c).customerStatus,"onUpdate:modelValue":n[1]||(n[1]=k=>o(c).customerStatus=k),clearable:"",placeholder:"客户状态"},{default:t(()=>[e(w,{label:"禁用",value:1}),e(w,{label:"启用",value:2}),e(w,{label:"风险暂停",value:3})]),_:1},8,["modelValue"])]),_:2},1536),[[H,!l]]),e(X,null,{default:t(()=>[e(D,{type:"primary",onClick:n[2]||(n[2]=k=>R())},{icon:t(()=>[e(x,{name:"i-ep:search"})]),default:t(()=>[r(" 筛选 ")]),_:1}),e(D,{onClick:J},{icon:t(()=>[Ue]),default:t(()=>[r(" 重置 ")]),_:1}),e(D,{disabled:"",link:"",onClick:C},{icon:t(()=>[e(x,{name:l?"i-ep:caret-bottom":"i-ep:caret-top"},null,8,["name"])]),default:t(()=>[r(" "+ge(l?"展开":"收起"),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1032,["model"])]),_:1}),e(ee,{"border-style":"dashed"}),e(ne,null,{default:t(()=>[e(te,null,{default:t(()=>[e(_,{type:"primary",size:"default",onClick:q},{icon:t(()=>[e(x,{name:"i-ep:plus"})]),default:t(()=>[r(" 新增 ")]),_:1})]),_:1}),e(le,null,{default:t(()=>[e(_,{size:"default"},{default:t(()=>[r(" 导出 ")]),_:1}),e(oe,{border:o(v),"onUpdate:border":n[3]||(n[3]=l=>m(v)?v.value=l:null),tableAutoHeight:o(h),"onUpdate:tableAutoHeight":n[4]||(n[4]=l=>m(h)?h.value=l:null),checkList:o(E),"onUpdate:checkList":n[5]||(n[5]=l=>m(E)?E.value=l:null),columns:o(z),"onUpdate:columns":n[6]||(n[6]=l=>m(z)?z.value=l:null),"line-height":o(b),"onUpdate:lineHeight":n[7]||(n[7]=l=>m(b)?b.value=l:null),stripe:o(g),"onUpdate:stripe":n[8]||(n[8]=l=>m(g)?g.value=l:null),style:{"margin-left":"12px"},onQueryData:Q},null,8,["border","tableAutoHeight","checkList","columns","line-height","stripe"])]),_:1})]),_:1}),I((A(),he(se,{border:o(v),data:o(N),size:o(b),stripe:o(g),onSelectionChange:W},{empty:t(()=>[e(ie,{class:"vab-data-empty",description:"暂无数据"})]),default:t(()=>[e(u,{align:"center",prop:"a","show-overflow-tooltip":"",type:"selection"}),e(u,{align:"center",prop:"customerAccord","show-overflow-tooltip":"",label:"客户名称"}),e(u,{align:"center",prop:"customerShortName","show-overflow-tooltip":"",label:"客户简称"}),e(u,{align:"center",prop:"turnover","show-overflow-tooltip":"",label:"客户营业限额($/月)"}),e(u,{align:"center",prop:"rateAudit","show-overflow-tooltip":"",label:"审核率Min值"}),e(u,{align:"center",prop:"chargeName","show-overflow-tooltip":"",label:"负责人"}),e(F,{align:"center","show-overflow-tooltip":"",prop:"customerStatus",label:"客户状态"},{default:t(()=>[e($,{"inline-prompt":"","inactive-value":1,"active-value":2,"active-text":"启用","inactive-text":"禁用"})]),_:1}),e(F,{align:"center","show-overflow-tooltip":"",prop:"antecedentQuestionnaire",label:"前置问卷"},{default:t(()=>[e($,{"inline-prompt":"","inactive-value":1,"active-value":2,"active-text":"启用","inactive-text":"禁用"})]),_:1}),e(F,{align:"center","show-overflow-tooltip":"",prop:"riskControl",label:"风险控制"},{default:t(()=>[e($,{"inline-prompt":"","inactive-value":1,"active-value":2,"active-text":"启用","inactive-text":"禁用"})]),_:1}),e(u,{align:"center",prop:"i",label:"操作","show-overflow-tooltip":"",width:"200"},{default:t(({row:l})=>[e(ae,null,{default:t(()=>[e(_,{size:"small",plain:"",type:"primary",onClick:C=>j(l)},{default:t(()=>[r(" 编辑 ")]),_:2},1032,["onClick"]),e(_,{type:"primary",plain:"",size:"small",onClick:C=>K(l)},{default:t(()=>[r(" 详情 ")]),_:2},1032,["onClick"]),e(_,{type:"danger",plain:"",size:"small",onClick:C=>O(l)},{default:t(()=>[r(" 删除 ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["border","data","size","stripe"])),[[ue,o(y)]]),e(ce,{"current-page":o(d).page,total:o(d).total,"page-size":o(d).size,"page-sizes":o(d).sizes,layout:o(d).layout,"hide-on-single-page":!1,class:"pagination",background:"",onSizeChange:G,onCurrentChange:R},null,8,["current-page","total","page-size","page-sizes","layout"]),e(Ie,{ref_key:"editRef",ref:S,onFetchData:p},null,512),e(Be,{ref_key:"checkRef",ref:B,onFetchData:p},null,512)]),_:1})],2)}}}),Ke=De(Ve,[["__scopeId","data-v-a3a6198c"]]);export{Ke as default};
