
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{d as H,H as F,v as W,K as V,aD as Y,r as d,W as S,c as R,n as j,a as N,i as e,o as l,b as c,f as u,N as m,y as t,w as E,F as P,t as D,s as w,ao as y,bi as I,g as O,e as T,j as U,_ as q,aH as K,aI as L,$ as z,L as Z}from"./index-BjTEgIZu.js";import{_ as J}from"./member-CB3zcQYN.js";import{b as X}from"./index-Bo6uSq4E.js";import $ from"./index-DGGAdl8U.js";import{_ as ee}from"./index.vue_vue_type_script_setup_true_lang-2A5hJlfO.js";import"./sub.vue_vue_type_script_setup_true_lang-0Zh7nSKI.js";import"./item-CHtMDiz3.js";import"./HTooltip.vue_vue_type_script_setup_true_lang-DlCC9ail.js";import"./HBadge.vue_vue_type_script_setup_true_lang-CKzuxJRa.js";const se="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAmtJREFUOE+dlU9Ik2Ecxz+Pc2YZlCDRIVdjEB20FAqCEF4QPFUYFYtUEheVoFCHyFs7dAg6FLhQiK3ACoeBy+oQHVpdCqGoQyReVtuqRVFtZC1mPfm877b33faG6e/2/n6/5/v7s+f5TGBjml9W04gXQSeSncB6PU2QRPICQYQ44ahfZMuPi3KHFpRdwHkEG+yKWXwp4GS0T4SteUVBvSsXF4GBRYRKw5JREgxG/WLeGCJvWlCOIDixJDEzORDtE4NFQS0kvcD4MsWMY5LuqE/cENpVWYskVlw84KwCbxPscsG7DFx5Bh/nFiknSZLALbSQPAJcs6YfbobeVtMTT8PR28b3xrWQzf2jgKRbaEE5qV8Pi13ogG3GRSnavnEY2AHtHvj9BwLTcG+2outbqkM17iZrqGcr9LSUdjj0AG4eMH2xb3B8qkxQklQd5hBUW0NOB/hajR2qcS9Pw6cfED4Iq2uMzMdv4dyjCsF5W8E6JzStA0eVceDLT5j5DJ568DZDOgtjLyHzy04wJBNgvoo2F5xpgxqHmTzxCqZmYO8WWLPCLDL5Gr6WPr43aocTgL6d+loY218qlvoOp+/DyB5z3EIpFeu/A3O5vEcSUSN3IbiuXO1uozur3Z2F9xk4tr3iF9UdZx/CEzWjYb0iT5aYgkHDKti9GRrqzMPPP0AiDR0eWOksFVW7VKvIX/oUcdz6W7Z2ad/Hf3kPKfKYcAjJ4SWTplBHMhr1iX71WYqvRoaXQZwAcU5V4KtQLE+eS1ZY2A6sYABDijDWeAWx9Z0aBPIu4L5zAfctyPw9FShKP0USIaH/BehQtdpfcz/PTopZYQYAAAAASUVORK5CYII=",te="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAmNJREFUOE+VlT9oU3EQxz/3EqXIc2qGChYNOAgq6GQdhG66CNW8GKUBFRwUW6jgoFs3HQQLRuwg6NCisS9tBoeOBQfbyaIVHIQGGjBDstigYtN35r38e0merflt+eXuc9+73909IeDo5HCYY5EEMIIwBDpQN8tX71aBLJultNxY+t3pLp0XOmeNIvoI5GBQsOadUkCdCbk8n/bbNYGequP9T0DGdgR1KdBpvpTGZXKp4v7VAtqx5yC3eoK15KbEyow3gfo2nsDQN7vDdBmYQaQP1TGQw74SJCVuz4q+HO7DjKwjNAofzBUW+VG8iBk5B5RRWcHQj9UAR2oOmmetFBW1Y9eqkV7tqK4Fe4gw4dk622cJhU6jPG5TqXZsAWTkn8AgmCeIC4geAkn5gLarcL2tFm1kreD8GkT23UE0CRRAhlCmKBcfVNP/gHCy5aJ5F7gFEu5WqF8BU6zMYC0oL3C20sjez5QrBzDDrxHOt/tpJRjopmlUrlIJf0f/nMDY407NTbEyUbVjGyBl4GiACBdobVSj+6dilc3iGcxI/QG8VhlAZQaVZxiOCwzIyCtsTnTOmkOwfHUYQ4wcqu98xW7UbKE7Tb9OzYrOW6M4zPic76HbKxih97X2aj7ALjDP+LrUZ9h96VrayjdUTqHbQyAmP0uLmJH/gFFgsxj1ZrlLJZpDJYWou56SXqvsdsS5IrH5tH85PO1507TqNC1W5rb7s3N9udAeN46mWCvd7VpfjWCaiSdQnfJaZcejeQy5L5fsWb9Z18b2aupuoP39tU8A3mjV+1QKKMuEyPKpmG6o8gP/AgD5+HpwpFaiAAAAAElFTkSuQmCC",B=p=>(K("data-v-46ce6fd1"),p=p(),L(),p),oe={class:"version-info"},ne=B(()=>t("div",{class:"version-info-item",style:{padding:"1rem"}},[t("img",{src:J}),t("span",{class:"version-info-color",style:{"margin-left":"0.5rem"}},"试用版")],-1)),ae=B(()=>t("div",{class:"font-w font-s12 margin-t8 version-info-w",style:{"padding-left":"1rem"}},"到期时间:",-1)),ie={style:{"padding-left":"1rem","padding-right":"1rem",display:"flex","margin-top":"1rem"}},re={class:"version-info-item",style:{"border-top":"1px solid rgba(170,170,170,0.3)"}},le={style:{padding:"1rem"},class:"version-info-flex-1"},ue=["src","onerror"],de=B(()=>t("img",{src:se,style:{width:"20px",height:"20px"}},null,-1)),ce=H({name:"SubSidebar",__name:"index",setup(p){const _=F(),s=W(),n=V(),A=Y(),g=d(),x=d(!1),Q=d(!1);function f(){const o=g.value.scrollTop;x.value=o>0;const a=g.value.clientHeight,r=g.value.scrollHeight;Q.value=Math.ceil(o+a)<r}const b=d(!1);S(()=>A.avatar,()=>{b.value&&(b.value=!1)});const v=R(()=>{var o;return s.mode==="mobile"||["side","head","single"].includes(s.settings.menu.menuMode)&&n.sidebarMenus.length!==0&&!(s.settings.menu.subMenuOnlyOneHide&&n.sidebarMenus.length===1&&(!n.sidebarMenus[0].children||(o=n.sidebarMenus[0])!=null&&o.children.every(a=>{var r;return((r=a.meta)==null?void 0:r.menu)===!1})))});S(v,o=>{o&&z(()=>{f()})},{immediate:!0});const k=d();j(()=>{if(v.value){const{height:o}=X(k);S(()=>o.value,()=>{o.value>0&&f()},{immediate:!0})}});const i=R(()=>s.mode==="pc"?!!(s.settings.menu.subMenuCollapse&&(!s.isHoverSidebar||s.isHoverSidebar&&!s.settings.menu.subMenuAutoCollapse)):s.settings.menu.subMenuCollapse),G=()=>{window.open("https://www.surveysaas.com/","_blank")};return(o,a)=>{const r=N("el-button"),h=q;return e(v)?(l(),c("div",{key:0,class:m(["sub-sidebar-container",{"is-collapse":e(i),"shadow-side":e(s).isHoverSidebar&&e(s).settings.menu.subMenuAutoCollapse&&e(s).settings.menu.subMenuCollapse}])},[u($,{"show-logo":e(s).settings.menu.menuMode==="single",class:m(["sidebar-logo",{"sidebar-logo-bg":e(s).settings.menu.menuMode==="single"}])},null,8,["show-logo","class"]),t("div",{ref_key:"subSidebarRef",ref:g,class:m(["sub-sidebar flex-1 transition-shadow-300",{"shadow-top":e(x),"shadow-bottom":e(Q)}]),onScroll:f},[t("div",{ref_key:"menuRef",ref:k},[u(I,{name:"sub-sidebar"},{default:E(()=>[(l(!0),c(P,null,D(e(n).allMenus,(C,M)=>w((l(),c("div",{key:M},[u(ee,{menu:C.children,value:e(_).meta.activeMenu||e(_).path,"default-openeds":e(n).defaultOpenedPaths,"always-openeds":e(n).alwaysOpenedPaths,accordion:e(s).settings.menu.subMenuUniqueOpened,collapse:e(i),rounded:e(s).settings.menu.isRounded,direction:e(s).settings.app.direction,class:"menu"},null,8,["menu","value","default-openeds","always-openeds","accordion","collapse","rounded","direction"])],512)),[[y,M===e(n).actived]])),128))]),_:1})],512)],34),t("div",oe,[ne,ae,t("div",ie,[u(r,{type:"primary",style:{width:"90%",flex:"1"}},{default:E(()=>[O("立即升级")]),_:1})]),t("div",re,[t("div",le,[e(A).avatar&&!e(b)?(l(),c("img",{key:0,src:e(A).avatar,onerror:()=>b.value=!0,class:"h-[30px] w-[30px] rounded-full"},null,8,ue)):(l(),T(h,{key:1,name:"i-carbon:user-avatar-filled-alt",size:24,class:"text-gray-400"})),t("div",{class:"version-info-flex-2"},[de,t("img",{src:te,style:{width:"20px",height:"20px","margin-left":"1rem",cursor:"pointer"},onClick:G})])])])]),e(s).mode==="pc"?(l(),c("div",{key:0,class:m(["relative flex items-center px-4 py-3",{"justify-center":e(i),"justify-between":!e(i)&&e(s).settings.menu.enableSubMenuCollapseButton,"justify-end":!e(i)&&!e(s).settings.menu.enableSubMenuCollapseButton}])},[w(t("span",{class:"flex-center cursor-pointer rounded bg-stone-1 p-2 transition dark:bg-stone-9 hover:bg-stone-2 dark:hover:bg-stone-8",onClick:a[0]||(a[0]=C=>e(s).toggleSidebarAutoCollapse())},[u(h,{name:e(s).settings.menu.subMenuAutoCollapse?"i-lucide:pin-off":"i-lucide:pin"},null,8,["name"])],512),[[y,!e(i)||e(i)&&!e(s).settings.menu.enableSubMenuCollapseButton]]),w(t("span",{class:m(["flex-center cursor-pointer rounded bg-stone-1 p-2 transition dark:bg-stone-9 hover:bg-stone-2 dark:hover:bg-stone-8",{"-rotate-z-180":e(s).settings.menu.subMenuCollapse}]),onClick:a[1]||(a[1]=C=>e(s).toggleSidebarCollapse())},[u(h,{name:"toolbar-collapse"})],2),[[y,e(s).settings.menu.enableSubMenuCollapseButton]])],2)):U("",!0)],2)):U("",!0)}}}),Se=Z(ce,[["__scopeId","data-v-46ce6fd1"]]);export{Se as default};
