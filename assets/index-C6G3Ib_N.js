
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{k as p,d as D,r as i,a as n,al as N,o as k,b as T,f as e,w as t,C as m,g as r,am as B,e as L,E as g,P as O}from"./index-BRyMcolp.js";const P={list:o=>p.post("tenant-update-record/get/getTenantUpdateRecordList",o),create:o=>p.post("notice/insert/insertNotice",o),edit:o=>p.post("tenant-update-record/update/updateTenantUpdateRecord",o),delete:o=>p.post("notice/delete/deleteNotice",o)},S={class:"shenhe"},q={class:"beizhu"},M={style:{"margin-top":"10px"}},$={style:{flex:"auto"}},F=D({name:"ProjectReview",__name:"index",emits:["success"],setup(o,{expose:x,emit:w}){const z=w,_=i(!1);i();const a=i({type:"",remark:"",projectClickIdList:[],arr:[]}),C=i({type:[{required:!0,message:"请选择审核方式",trigger:"change"}],arr:[{required:!0,message:"请输入至少一个ID",trigger:"blur"}]}),c=i(),d=i(!1);async function j(f){d.value=!0}async function E(){c.value&&c.value.validate(async f=>{if(f){_.value=!0,a.value.projectClickIdList=a.value.arr.split(`
`)||[],delete a.value.arr;const{status:l}=await P.edit(a.value);l===1?(z("success"),_.value=!1,g.success({message:"操作成功",center:!0}),y()):g.error({message:"操作失败，请联系工作人员",center:!0})}else g({message:"请检查必填项",type:"warning"})})}function y(){c.value.resetFields(),Object.assign(a.value,{type:"",remark:"",projectClickIdList:[]}),a.value.arr=[],d.value=!1}return x({showEdit:j}),(f,l)=>{const u=n("el-radio"),I=n("el-radio-group"),v=n("el-form-item"),b=n("el-input"),R=n("el-form"),V=n("el-button"),U=n("el-drawer"),h=N("loading");return k(),T("div",null,[e(U,{modelValue:d.value,"onUpdate:modelValue":l[4]||(l[4]=s=>d.value=s),title:"记录变更",size:"50%","before-close":y},{footer:t(()=>[m("div",$,[e(V,{type:"primary",onClick:E},{default:t(()=>[r(" 确定 ")]),_:1}),e(V,{onClick:l[3]||(l[3]=s=>d.value=!1)},{default:t(()=>[r(" 取消 ")]),_:1})])]),default:t(()=>[B((k(),L(R,{ref_key:"formRef",ref:c,model:a.value,rules:C.value,"label-width":"174px",inline:!1},{default:t(()=>[m("div",S,[e(v,{prop:"type",style:{display:"flex","align-items":"center"},label:"变更状态"},{default:t(()=>[e(I,{modelValue:a.value.type,"onUpdate:modelValue":l[0]||(l[0]=s=>a.value.type=s)},{default:t(()=>[e(u,{value:1,size:"large"},{default:t(()=>[r(" 完成/待审核 ")]),_:1}),e(u,{value:7,size:"large"},{default:t(()=>[r(" 审核通过 ")]),_:1}),e(u,{value:8,size:"large"},{default:t(()=>[r(" 审核失败 ")]),_:1}),e(u,{value:9,size:"large"},{default:t(()=>[r(" 数据冻结 ")]),_:1}),e(u,{value:2,size:"large"},{default:t(()=>[r(" 被甄别 ")]),_:1}),e(u,{value:3,size:"large"},{default:t(()=>[r(" 配额满 ")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),m("div",q,[e(v,{label:"备注"},{default:t(()=>[e(b,{class:"custom-input",modelValue:a.value.remark,"onUpdate:modelValue":l[1]||(l[1]=s=>a.value.remark=s),placeholder:"",clearable:""},null,8,["modelValue"])]),_:1})]),m("div",M,[e(v,{prop:"arr"},{default:t(()=>[e(b,{modelValue:a.value.arr,"onUpdate:modelValue":l[2]||(l[2]=s=>a.value.arr=s),placeholder:"请粘贴ID，每行一个,多个请回车换行",type:"textarea",rows:"15"},null,8,["modelValue"])]),_:1})])]),_:1},8,["model","rules"])),[[h,_.value]])]),_:1},8,["modelValue"])])}}}),H=O(F,[["__scopeId","data-v-45dabdd6"]]),G=Object.freeze(Object.defineProperty({__proto__:null,default:H},Symbol.toStringTag,{value:"Module"}));export{H as E,P as a,G as i};
