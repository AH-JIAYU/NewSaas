
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{_ as v}from"./index-Dx6biv2P.js";import{d as y,a0 as x,r as c,a as r,o as C,b as B,f as e,w as s,i as l,g as F,ak as P,at as q,s as I,q as _}from"./index-W9H6fTsO.js";const R=y({name:"PersonalEditPassword",__name:"edit.password",setup(U){const w=x(),d=c(),o=c({password:"",newpassword:"",checkpassword:""}),i=c({password:[{required:!0,message:"请输入原密码",trigger:"blur"}],newpassword:[{required:!0,message:"请输入新密码",trigger:"blur"},{min:6,max:18,trigger:"blur",message:"密码长度为6到18位"}],checkpassword:[{required:!0,message:"请输入新密码",trigger:"blur"},{validator:(p,a,n)=>{a!==o.value.newpassword?n(new Error("请确认新密码")):n()}}]});function f(){d.value&&d.value.validate(p=>{p&&w.editPassword(o.value).then(()=>{P({type:"success",message:"模拟修改成功，请重新登录"}),w.logout()})})}return(p,a)=>{const n=q,u=r("ElInput"),m=r("ElFormItem"),g=r("ElForm"),E=r("ElCol"),V=r("ElRow"),b=I,k=r("ElButton"),h=v;return C(),B("div",null,[e(n,{title:"修改密码",content:"定期修改密码可以提高帐号安全性噢~"}),e(b,null,{default:s(()=>[e(V,null,{default:s(()=>[e(E,{md:24,lg:12},{default:s(()=>[e(g,{ref_key:"formRef",ref:d,model:l(o),rules:l(i),"label-width":"120px"},{default:s(()=>[e(m,{label:"原密码",prop:"password"},{default:s(()=>[e(u,{modelValue:l(o).password,"onUpdate:modelValue":a[0]||(a[0]=t=>l(o).password=t),type:"password",placeholder:"请输入原密码","show-password":""},null,8,["modelValue"])]),_:1}),e(m,{label:"新密码",prop:"newpassword"},{default:s(()=>[e(u,{modelValue:l(o).newpassword,"onUpdate:modelValue":a[1]||(a[1]=t=>l(o).newpassword=t),type:"password",placeholder:"请输入原密码","show-password":""},null,8,["modelValue"])]),_:1}),e(m,{label:"确认新密码",prop:"checkpassword"},{default:s(()=>[e(u,{modelValue:l(o).checkpassword,"onUpdate:modelValue":a[2]||(a[2]=t=>l(o).checkpassword=t),type:"password",placeholder:"请输入原密码","show-password":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1})]),_:1})]),_:1}),e(h,null,{default:s(()=>[e(k,{type:"primary",size:"large",onClick:f},{default:s(()=>[F(" 提交 ")]),_:1})]),_:1})])}}});typeof _=="function"&&_(R);export{R as default};
