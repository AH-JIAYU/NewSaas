
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import B from"./index-DF_s_LJm.js";import{_ as N}from"./index.vue_vue_type_script_setup_true_lang-ByLL8JHa.js";import{d as z,r as n,a3 as E,a2 as $,a as m,o as d,b as _,f as p,w as c,g as y,F,n as M,e as T,l as h,I as P,R as S,j as Q,an as g,_ as U}from"./index-B5L6_y5W.js";import"./index-BWOq9MfT.js";import"./index-DFJLODe7.js";import"./otherFunctions_basicDictionary-oE1KF9hr.js";import"./basicDictionary-Ccx2D09q.js";import"./user_customer-DYsIPc1k.js";import"./user_customer-C87A-Mia.js";const q={style:{float:"right",position:"sticky",top:"19px",width:"70%","z-index":"1000",display:"flex","justify-content":"start","align-items":"start"}},G=z({__name:"index",props:{leftTabsData:Array,validateTopTabs:Array,validateAll:Array},emits:["validate"],setup(x,{expose:k,emit:A}){const s=x,C=A,f=n(),V=n(),e=n(s.leftTabsData),j=n(s.validateTopTabs);e.value.forEach((a,t)=>{const i=n(null);E(`formRef${t}`,i)});const b=n(0),l=n(0),w={name:"项目名称",addProjectQuotaInfoList:[]};function R(){const a=g(e.value[0]);e.value.splice(l.value,1,a)}function L(){const a=g(e.value[0]);l.value=++b.value,e.value.push({...w,client:f.value,await:a.await,multi:a.multi})}function D(a){e.value.splice(a,1),j.value.splice(a,1),l.value>=e.value.length&&(l.value=Math.max(0,e.value.length-1),b.value=Math.max(0,e.value.length-1))}function I(a){e.value.forEach(t=>{t.client=a}),f.value=a}return $(()=>l.value,(a,t)=>{s.validateAll.reduce((u,v,o)=>(v==="rejected"&&u.push(o),u),[]).includes(t)&&C("validate")}),k({activeLeftTab:l}),(a,t)=>{const i=m("el-button"),u=m("el-tab-pane"),v=m("el-tabs");return d(),_("div",null,[p(i,{class:"button",disabled:e.value.length>29,onClick:t[0]||(t[0]=o=>L())},{default:c(()=>[y(" 新增 ")]),_:1},8,["disabled"]),p(v,{modelValue:l.value,"onUpdate:modelValue":t[1]||(t[1]=o=>l.value=o),"tab-position":"left",onTabRemove:D},{default:c(()=>[(d(!0),_(F,null,M(e.value,(o,r)=>(d(),T(u,{key:r,style:{position:"relative"},closable:e.value.length!==1,name:r},{label:c(()=>[h("div",{class:S(s.validateAll[r]&&s.validateAll[r]==="rejected"?"validateRejected":"")},P(o.customerAccord||"项目名称"),3)]),default:c(()=>[h("div",q,[l.value>0?(d(),T(i,{key:0,size:"small",type:"primary",round:"",plain:"",onClick:R},{default:c(()=>[y(" 同步数据 ")]),_:1})):Q("",!0)]),p(B,{"left-tab":o,"tab-index":r,onSetClient:I},null,8,["left-tab","tab-index"])]),_:2},1032,["closable","name"]))),128)),p(N,{ref_key:"settingsRef",ref:V},null,512)]),_:1},8,["modelValue"])])}}}),ae=U(G,[["__scopeId","data-v-3b6129de"]]);export{ae as default};
