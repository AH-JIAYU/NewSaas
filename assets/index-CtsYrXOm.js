
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{d as $,ae as z,r as x,a2 as i,a as d,c as y,w as e,b as _,f as a,g as c,t as s,h as l,A as w,i as f,O as Q,j,N as U,aR as q,y as G}from"./index-gUKi6LaV.js";import{_ as H}from"./index-DxsrHL06.js";import{_ as J}from"./index.vue_vue_type_script_setup_true_lang-B4Ir8uj4.js";import{a as K}from"./user_customer-CmlHsLyp.js";import{o as W}from"./apiLoading-DdLVbZti.js";import{u as X}from"./configuration_manager-DwCrCgC-.js";import"./index-t31qGJDd.js";import"./clipboard-KYao8Iir.js";const Y={class:"card-header"},Z={class:"leftTitle"},ee={class:"rightStatus"},ae={class:"card-header"},te={key:0,class:"close"},le={key:1,class:"open"},oe={key:0,class:"close"},se={key:1,class:"open"},ne={key:0,class:"close"},ce={key:1,class:"open"},ue={class:"card-header"},re={class:"flex-c"},de=$({__name:"index",emits:["fetch-data"],setup(me,{expose:A,emit:V}){const{t}=z(),L=V,h=x(!1),O=X(),C=x(),o=x(),g=x([]);async function P(p){const b={tenantCustomerId:p.tenantCustomerId};g.value=await O.getStaff();const{status:S,data:n}=await W(K.detail(b));o.value=n,h.value=!0}function N(){L("fetch-data"),h.value=!1}const B=p=>{C.value.showEdit(p)},D=p=>[t("common.new"),t("common.edit"),t("common.enable"),t("common.disable")][p-1];return A({showEdit:P}),(p,b)=>{const S=H,n=i("el-text"),u=i("el-form-item"),r=i("el-col"),T=i("el-row"),k=i("el-card"),E=q,v=i("el-table-column"),I=i("el-button"),F=i("el-table"),M=i("el-form"),R=i("el-drawer");return d(),y(R,{modelValue:h.value,"onUpdate:modelValue":b[0]||(b[0]=m=>h.value=m),"append-to-body":"","close-on-click-modal":!1,"destroy-on-close":"",draggable:"",size:"60%",title:l(t)("customer.detail.detail"),onClose:N},{footer:e(()=>[_("div",re,[a(I,{type:"primary",onClick:N},{default:e(()=>[c(s(l(t)("common.off")),1)]),_:1})])]),default:e(()=>[a(M,{"label-position":"right"},{default:e(()=>[a(k,{class:"box-card"},{header:e(()=>[_("div",Y,[_("div",Z,s(l(t)("customer.detail.basicInformation")),1),_("div",ee,[_("span",{class:w(o.value.customerStatus===1?"isOnlineSpanFalse":"isOnlineSpanTrue")},null,2),_("div",{class:w(o.value.customerStatus===1?"isOnlineFalse":"isOnlineTrue")},s(o.value.customerStatus===1?l(t)("customer.detail.disable"):l(t)("customer.detail.enable")),3)])])]),default:e(()=>[a(T,{gutter:24},{default:e(()=>[a(r,{span:8},{default:e(()=>[a(u,{label:l(t)("customer.detail.tenantCustomerId")},{default:e(()=>[a(n,{class:"mx-1 copyId"},{default:e(()=>[c(s(o.value.tenantCustomerId?o.value.tenantCustomerId:"-")+" ",1),a(S,{class:"copy",content:o.value.tenantCustomerId},null,8,["content"])]),_:1})]),_:1},8,["label"])]),_:1}),a(r,{span:8},{default:e(()=>[a(u,{label:l(t)("customer.detail.customerAccord")},{default:e(()=>[a(n,{class:"mx-1"},{default:e(()=>[c(s(o.value.customerAccord?o.value.customerAccord:"-"),1)]),_:1})]),_:1},8,["label"])]),_:1}),a(r,{span:8},{default:e(()=>[a(u,{label:l(t)("customer.detail.customerShortName")},{default:e(()=>[a(n,{class:"mx-1"},{default:e(()=>[c(s(o.value.customerShortName?o.value.customerShortName:"-"),1)]),_:1})]),_:1},8,["label"])]),_:1}),a(r,{span:8},{default:e(()=>[a(u,{label:l(t)("customer.detail.companyName")},{default:e(()=>[a(n,{class:"mx-1"},{default:e(()=>[c(s(o.value.companyName?o.value.companyName:"-"),1)]),_:1})]),_:1},8,["label"])]),_:1}),a(r,{span:8},{default:e(()=>[a(u,{label:l(t)("customer.detail.customerName")},{default:e(()=>[a(n,{class:"mx-1"},{default:e(()=>[c(s(o.value.customerName?o.value.customerName:"-"),1)]),_:1})]),_:1},8,["label"])]),_:1}),a(r,{span:8},{default:e(()=>[a(u,{label:l(t)("customer.detail.customerPhone")},{default:e(()=>[a(n,{class:"mx-1"},{default:e(()=>[c(s(o.value.customerPhone?o.value.customerPhone:"-"),1)]),_:1})]),_:1},8,["label"])]),_:1}),a(r,{span:8},{default:e(()=>[a(u,{label:l(t)("customer.detail.customerPhone")},{default:e(()=>[a(n,{class:"mx-1"},{default:e(()=>[c(s(o.value.emailAddress?o.value.emailAddress:"-"),1)]),_:1})]),_:1},8,["label"])]),_:1}),a(r,{span:8},{default:e(()=>[a(u,{label:l(t)("customer.detail.createName")},{default:e(()=>[a(n,{class:"mx-1"},{default:e(()=>[c(s(o.value.createName?o.value.createName:"-"),1)]),_:1})]),_:1},8,["label"])]),_:1}),a(r,{span:8},{default:e(()=>[a(u,{label:l(t)("customer.detail.createTime")},{default:e(()=>[a(n,{class:"mx-1"},{default:e(()=>[c(s(o.value.createTime?o.value.createTime:"-"),1)]),_:1})]),_:1},8,["label"])]),_:1}),a(r,{span:8},{default:e(()=>[a(u,{label:"PM:"},{default:e(()=>[(d(!0),f(U,null,Q(g.value,m=>(d(),y(n,{key:m.id},{default:e(()=>[o.value.chargeId===m.id?(d(),y(n,{key:0,class:"mx-1"},{default:e(()=>[c(s(m.userName),1)]),_:2},1024)):j("",!0)]),_:2},1024))),128))]),_:1})]),_:1}),a(r,{span:8},{default:e(()=>[a(u,{label:l(t)("customer.detail.settlementCycle")},{default:e(()=>[a(n,{class:"mx-1"},{default:e(()=>[c(s(o.value.settlementCycle?o.value.settlementCycle+l(t)("customer.detail.days"):"-"),1)]),_:1})]),_:1},8,["label"])]),_:1})]),_:1})]),_:1}),a(k,{class:"box-card"},{header:e(()=>[_("div",ae,[_("span",null,s(l(t)("customer.detail.permissionInformation")),1)])]),default:e(()=>[a(T,{gutter:24},{default:e(()=>[a(r,{span:8},{default:e(()=>[a(u,{label:l(t)("customer.detail.customerStatus")},{default:e(()=>[a(n,{class:"mx-1"},{default:e(()=>[o.value.customerStatus===1?(d(),f("div",te,s(l(t)("common.off")),1)):(d(),f("div",le,s(l(t)("common.on")),1))]),_:1})]),_:1},8,["label"])]),_:1}),a(r,{span:8},{default:e(()=>[a(u,{label:l(t)("customer.detail.antecedentQuestionnaire")},{default:e(()=>[a(n,{class:"mx-1"},{default:e(()=>[o.value.antecedentQuestionnaire===1?(d(),f("div",oe,s(l(t)("common.off")),1)):(d(),f("div",se,s(l(t)("common.on")),1))]),_:1})]),_:1},8,["label"])]),_:1}),a(r,{span:8},{default:e(()=>[a(u,{label:l(t)("customer.detail.riskControl")},{default:e(()=>[a(n,{class:"mx-1"},{default:e(()=>[o.value.riskControl===1?(d(),f("div",ne,s(l(t)("common.off")),1)):(d(),f("div",ce,s(l(t)("common.on")),1))]),_:1})]),_:1},8,["label"])]),_:1}),a(r,{span:8},{default:e(()=>[a(u,{label:l(t)("customer.detail.businessLimit")},{default:e(()=>[a(n,{class:"mx-1"},{default:e(()=>[a(E),c(s(o.value.turnover||0),1)]),_:1})]),_:1},8,["label"])]),_:1}),a(r,{span:8},{default:e(()=>[a(u,{label:l(t)("customer.detail.rateMinValue")},{default:e(()=>[a(n,{class:"mx-1"},{default:e(()=>[c(s(o.value.turnover?o.value.turnover+"%":"-"),1)]),_:1})]),_:1},8,["label"])]),_:1})]),_:1})]),_:1}),a(k,{class:"box-card"},{header:e(()=>[_("div",ue,[_("span",null,s(l(t)("customer.detail.operationLog")),1)])]),default:e(()=>[a(F,{data:o.value.getTenantCustomerOperationInfoList},{default:e(()=>[a(v,{align:"left",type:"index",label:l(t)("customer.detail.serialNumber"),width:"80"},null,8,["label"]),a(v,{align:"left",prop:"createTime",label:l(t)("customer.detail.operatingTime")},null,8,["label"]),a(v,{align:"left",prop:"createName",label:l(t)("customer.detail.operator")},null,8,["label"]),a(v,{align:"left",label:l(t)("customer.detail.operationalMatters")},{default:e(({row:m})=>[c(s(D(m.operationType)),1)]),_:1},8,["label"]),a(v,{align:"left",label:l(t)("customer.detail.detail")},{default:e(({row:m})=>[m.operationType===2?(d(),y(I,{key:0,type:"primary",link:"",onClick:ie=>B(m)},{default:e(()=>[c(s(l(t)("customer.detail.detail")),1)]),_:2},1032,["onClick"])):(d(),y(n,{key:1},{default:e(()=>[c("-")]),_:1}))]),_:1},8,["label"])]),_:1},8,["data"])]),_:1})]),_:1}),a(J,{ref_key:"checkRef",ref:C},null,512)]),_:1},8,["modelValue","title"])}}}),ke=G(de,[["__scopeId","data-v-543fcd6f"]]);export{ke as default};
