
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{d as H,aM as B,r as m,z as M,c as g,k as P,a as v,o as d,b as c,f as u,w as _,s as a,i as e,S as f,H as l,ah as I,F as L,t as T,j as p,e as y,q as z,ap as F,n as N,ao as j,R as O,an as $}from"./index-UMFAIpvB.js";import U from"./notification-news-D2DRmzHK.js";import G from"./notification-cooperation-DQXyZelf.js";const J={class:"absolute-container"},K={class:"flex-c"},Q={class:"left"},W={class:"buttons"},X=["onClick"],Y={class:"info"},Z={class:"time"},ee={key:0,class:"new"},te={class:"auditType"},se={class:"time"},ae={class:"data"},oe={class:"buttons"},ne=["onClick"],ie={class:"info"},de={class:"time"},le={key:0,class:"new"},ce={class:"auditType"},re={class:"time"},ue={class:"data"},_e={key:0,class:"right"},q=H({name:"PersonalNotification",__name:"notification",setup(fe){const i=B(),b=m(),k=m(),r=M(),t=m({tabs:"",selectId:"",ReadAlready:1});function h(n){t.value.selectId=n.id,N(()=>{var o;(o=k.value)==null||o.showEdit(n)})}function R(n){t.value.selectId=n.id,N(()=>{b.value.showEdit(n)})}function A(){t.value.selectId="",t.value.ReadAlready=1}const D=g(()=>i.messageList.filter(n=>n.isReadAlready===t.value.ReadAlready)),S=g(()=>i.todoList.filter(n=>n.isReadAlready===t.value.ReadAlready));return P(()=>{if(t.value.tabs=r.query.type==2?"cooperation":"news",r.query.id){if(Number(r.query.type)===1){const n=i.messageList.find(o=>o.id===r.query.id);h(n)}else if(Number(r.query.type)===2){const n=i.todoList.find(o=>o.id===r.query.id);R(n)}}}),(n,o)=>{const C=v("el-empty"),w=v("el-tab-pane"),x=v("el-tabs"),E=j;return d(),c("div",J,[u(E,null,{default:_(()=>[a("div",K,[a("div",Q,[u(x,{modelValue:e(t).tabs,"onUpdate:modelValue":o[4]||(o[4]=s=>e(t).tabs=s),onTabChange:A},{default:_(()=>[u(w,{label:"消息",name:"news"},{default:_(()=>[a("div",W,[a("button",{class:f(e(t).ReadAlready===1?"unread":""),onClick:o[0]||(o[0]=s=>e(t).ReadAlready=1)},"未读"+l(e(i).message<100?`(${e(i).message})`:"99+"),3),a("button",{class:f(e(t).ReadAlready===2?"read":""),read:"",onClick:o[1]||(o[1]=s=>e(t).ReadAlready=2)},"已读",2)]),u(e(I),{options:{scrollbars:{autoHide:"leave",autoHideDelay:300}},defer:"",class:"list"},{default:_(()=>[e(i).messageList.length?(d(!0),c(L,{key:0},T(e(D),s=>(d(),c("div",{class:f({item:"item",select:s.id===e(t).selectId}),onClick:V=>h(s)},[a("div",Y,[a("div",Z,[s.isReadAlready===1?(d(),c("span",ee)):p("",!0),a("span",te,l(e(i).auditTypeList[s.auditType-1]||""),1),a("span",se,l(s.createTime),1)]),a("div",ae,l(s.messageContent),1)])],10,X))),256)):(d(),y(C,{key:1,description:"暂无数据"}))]),_:1})]),_:1}),u(w,{label:"代办",name:"cooperation"},{default:_(()=>[a("div",oe,[a("button",{class:f(e(t).ReadAlready===1?"unread":""),onClick:o[2]||(o[2]=s=>e(t).ReadAlready=1)},"未读"+l(e(i).todo<100?`(${e(i).todo})`:"99+"),3),a("button",{class:f(e(t).ReadAlready===2?"read":""),read:"",onClick:o[3]||(o[3]=s=>e(t).ReadAlready=2)},"已读",2)]),u(e(I),{options:{scrollbars:{autoHide:"leave",autoHideDelay:300}},defer:"",class:"list"},{default:_(()=>[e(i).todoList.length?(d(!0),c(L,{key:0},T(e(S),s=>(d(),c("div",{class:f({item:"item",select:s.id===e(t).selectId}),onClick:V=>R(s)},[a("div",ie,[a("div",de,[s.isReadAlready===1?(d(),c("span",le)):p("",!0),a("span",ce,l(e(i).auditTypeList[s.auditType-1]||""),1),a("span",re,l(s.createTime),1)]),a("div",ue," 您好，我是"+l(s.invitationName||"-")+"诚挚邀请您与我们一同协作共赢！若有疑问请联系"+l(s.phoneOrEmail)+"。 ",1)])],10,ne))),256)):(d(),y(C,{key:1,description:"暂无数据"}))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),e(t).selectId?z((d(),c("div",_e,[e(t).tabs==="news"?(d(),y(U,{key:0,ref_key:"newsRef",ref:k,onDelSelectId:A},null,512)):p("",!0),e(t).tabs==="cooperation"?(d(),y(G,{key:1,ref_key:"cooperationRef",ref:b},null,512)):p("",!0)],512)),[[F,e(t).selectId]]):p("",!0)])]),_:1})])}}});typeof $=="function"&&$(q);const ve=O(q,[["__scopeId","data-v-dd12a814"]]);export{ve as default};
