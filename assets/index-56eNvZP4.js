
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{_ as P}from"./index.vue_vue_type_script_setup_true_lang-DhdOp4ID.js";import{d as H,aN as K,r as v,a as l,l as L,o as p,e as c,w as t,f as a,aB as $,n as M,g as o,G as u,j as C,i as m,aJ as U,aK as G,p as J,Q as O}from"./index-CIFOFIw0.js";const Q=g=>(U("data-v-f62bea73"),g=g(),G(),g),q=Q(()=>J("p",null,"业绩:",-1)),R=H({__name:"index",emits:["fetch-data"],setup(g,{expose:w,emit:I}){const E=I,{pagination:f,getParams:W,onSizeChange:X,onCurrentChange:Y,onSortChange:Z}=K(),r=v({loading:!1,activeName:"myFinancial",tableAutoHeight:!1,border:!0,stripe:!1,lineHeight:"default",checkList:[],search:{title:""}}),_=v(!1);v();const k=v();async function z(s){console.log("row",s),s.tenantCustomerId,_.value=!0}function S(){E("fetch-data"),_.value=!1}return w({showEdit:z}),(s,n)=>{const D=l("ElDivider"),T=l("ElInput"),y=l("ElFormItem"),V=l("ElForm"),i=l("el-text"),d=l("ElTableColumn"),h=P,B=l("el-tag"),x=l("el-empty"),N=l("ElTable"),F=l("ElPagination"),j=l("el-drawer"),A=L("loading");return p(),c(j,{modelValue:_.value,"onUpdate:modelValue":n[4]||(n[4]=b=>_.value=b),"append-to-body":"","close-on-click-modal":!1,"destroy-on-close":"",draggable:"",size:"60%",title:"详情",onClose:S},{default:t(()=>{var b;return[a(D,{"border-style":"dashed"}),a(V,{model:r.value.search,size:"default","label-width":"100px","inline-message":"",inline:"",class:"search-form"},{default:t(()=>[a(y,null,{default:t(()=>[a(T,{modelValue:r.value.search.title,"onUpdate:modelValue":n[0]||(n[0]=e=>r.value.search.title=e),placeholder:"月份",clearable:"",onKeydown:n[1]||(n[1]=$(e=>s.currentChange(),["enter"])),onClear:n[2]||(n[2]=e=>s.currentChange())},null,8,["modelValue"])]),_:1}),a(y,null,{default:t(()=>[q]),_:1})]),_:1},8,["model"]),M((p(),c(N,{border:r.value.border,size:r.value.lineHeight,stripe:r.value.stripe,class:"my-4",data:(b=k.value)==null?void 0:b.getTenantCustomerOperationInfoList,"highlight-current-row":"",height:"100%",onSortChange:s.sortChange,onSelectionChange:n[3]||(n[3]=e=>r.value.batch.selectionDataList=e)},{empty:t(()=>[a(x,{class:"vab-data-empty",description:"暂无数据"})]),default:t(()=>[a(d,{"show-overflow-tooltip":"",align:"center",prop:"",label:"点击ID"},{default:t(({row:e})=>[e.typeId==1?(p(),c(i,{key:0},{default:t(()=>[o("内部调查站")]),_:1})):(p(),c(i,{key:1},{default:t(()=>[o(u(e.typeId?e.typeId:"-"),1)]),_:2},1024))]),_:1}),a(d,{"show-overflow-tooltip":"",align:"center",prop:"projectId",label:"项目ID"},{default:t(({row:e})=>[a(i,null,{default:t(()=>[o(u(e.projectId?e.projectId:"-"),1)]),_:2},1024)]),_:1}),a(d,{"show-overflow-tooltip":"",align:"center",prop:"",label:"类型"},{default:t(({row:e})=>[e.type==1?(p(),c(i,{key:0},{default:t(()=>[o("待审金额")]),_:1})):C("",!0),e.type==2?(p(),c(i,{key:1},{default:t(()=>[o("可用金额")]),_:1})):C("",!0)]),_:1}),a(d,{"show-overflow-tooltip":"",align:"center",prop:"remark",label:"说明"},{default:t(({row:e})=>[a(i,{class:"mx-1"},{default:t(()=>[o(u(e.remark?e.remark:"-"),1)]),_:2},1024)]),_:1}),a(d,{"show-overflow-tooltip":"",align:"center",prop:"beforeBalance",width:"150",label:"变动前"},{default:t(({row:e})=>[a(h),o(u(e.beforeBalance||0),1)]),_:1}),a(d,{"show-overflow-tooltip":"",align:"center",prop:"addAndSubtraction",width:"150",label:"加减款"},{default:t(({row:e})=>[e.operationType===2?(p(),c(i,{key:0,type:"danger",class:"mx-1"},{default:t(()=>[o("-"),a(h),o(u(Math.abs(e.addAndSubtraction)),1)]),_:2},1024)):(p(),c(i,{key:1,type:"success",class:"mx-1"},{default:t(()=>[o(" +"),a(h),o(u(Math.abs(e.addAndSubtraction)),1)]),_:2},1024))]),_:1}),a(d,{"show-overflow-tooltip":"",align:"center",prop:"afterBalance",width:"150",label:"变动后"},{default:t(({row:e})=>[a(h),o(u(e.afterBalance||0),1)]),_:1}),a(d,{"show-overflow-tooltip":"",align:"center",prop:"createTime",label:"时间"},{default:t(({row:e})=>[a(B,{effect:"plain",type:"info"},{default:t(()=>[o(u(s.format(e.createTime)),1)]),_:2},1024)]),_:1})]),_:1},8,["border","size","stripe","data","onSortChange"])),[[A,r.value.loading]]),a(F,{"current-page":m(f).page,total:m(f).total,"page-size":m(f).size,"page-sizes":m(f).sizes,layout:m(f).layout,"hide-on-single-page":!1,class:"pagination",background:"",onSizeChange:s.sizeChange,onCurrentChange:s.currentChange},null,8,["current-page","total","page-size","page-sizes","layout","onSizeChange","onCurrentChange"])]}),_:1},8,["modelValue"])}}}),ae=O(R,[["__scopeId","data-v-f62bea73"]]);export{ae as default};
