
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{e as ie}from"./index-BWOq9MfT.js";import{g as re,z as pe,a as fe}from"./index-DFJLODe7.js";import{k as L,d as me,x as ce,r as b,a4 as _e,G as be,a5 as Ve,a as d,o as r,e as V,w as l,f as e,i as s,b as j,n as B,F,j as U,l as p,g,I as ve,ba as Te,p as N,ak as A,aF as ge,aG as ye,_ as Ue}from"./index-B5L6_y5W.js";import{u as Ie}from"./otherFunctions_basicDictionary-oE1KF9hr.js";import{u as xe}from"./user_customer-DYsIPc1k.js";import"./basicDictionary-Ccx2D09q.js";import"./user_customer-C87A-Mia.js";const ke={upload:f=>L.post("project/uploadQiniu",f),detail:f=>L.post("project/getQiniuFileUrl",f),delete:f=>L.post("project/deleteQiniu",f)},v=f=>(ge("data-v-48207fea"),f=f(),ye(),f),we=v(()=>p("div",{class:"card-header"},[p("span",null,"基本信息")],-1)),je={style:{display:"flex","justify-content":"space-between"},class:"card-header"},Pe=v(()=>p("span",null,"描述配额",-1)),Ce={key:0},De=v(()=>p("div",{class:"el-upload__text"},"上传",-1)),Se=v(()=>p("div",{class:"el-upload__tip"},"jpg/png单文件大小小于10 mb",-1)),ze=["src"],Le=v(()=>p("div",{class:"card-header"},[p("span",null,"其他设置")],-1)),Be=v(()=>p("br",null,null,-1)),Fe=v(()=>p("div",{class:"card-header"},"配置信息",-1)),Ne=v(()=>p("div",{class:"card-header"},"安全信息",-1)),Qe=me({name:"SurveyTopTabs",__name:"index",props:{leftTab:Object,tabIndex:Number},setup(f){const M=Ie(),h=xe(),O=ce("validateTopTabs"),t=f,P=b("basicSettings"),Q=b(),I=b(!1),C=_e({countryList:[],customerList:[]}),G=b({customerAccord:[{required:!0,message:"请输入项目名称"}],projectIdentification:[{required:!0,message:"请输入项目标识"}],countryId:[{required:!0,message:"请选择所属国家"}],clientId:[{required:!0,message:"请选择所属客户"}],uidUrl:[{required:!0,message:"请输入UidUrl"}],doMoneyPrice:[{required:!0,message:"请输入原价(美元)"}],num:[{required:!0,message:"请输入配额"}]}),q=b([{value:"终端",label:"终端"},{value:"性别",label:"性别"},{value:"年龄",label:"年龄"}]),D=b([4,8]),H=[re({locale:fe})];function J(m){t.leftTab.richText=m}function K(){I.value=!I.value}const E=b(""),x=b(!1),W=async(m,o)=>{const{status:c}=await ke.delete({fileName:t.leftTab.descriptionUrl});c===1&&A.success({message:"删除成功",center:!0})},X=(m,o)=>{t.leftTab.descriptionUrl=m.data.qiNiuUrl},Y=async(m,o)=>{A.warning({message:"只能上传一个,删除原文件后重新上传",center:!0})},Z=m=>{E.value=m.url,x.value=!0};return be(async()=>{C.customerList=await h.getCustomerList(),C.countryList=await M.getCountry()}),Ve(()=>{O(Q.value)}),(m,o)=>{const c=d("el-input"),n=d("el-form-item"),u=d("el-col"),S=d("el-option"),k=d("el-select"),i=d("el-row"),T=d("el-input-number"),w=d("el-checkbox"),y=d("el-card"),$=d("el-button"),ee=d("el-icon"),le=d("el-upload"),ae=d("el-dialog"),_=d("el-switch"),te=d("el-date-picker"),oe=d("ElForm"),z=d("el-tab-pane"),R=d("el-radio"),ue=d("el-radio-group"),ne=d("el-checkbox-group"),de=d("el-slider"),se=d("el-tabs");return r(),V(se,{modelValue:s(P),"onUpdate:modelValue":o[27]||(o[27]=a=>N(P)?P.value=a:null)},{default:l(()=>[e(z,{label:"基础设置",name:"basicSettings"},{default:l(()=>[e(oe,{"label-width":"100px",rules:s(G),ref_key:"formRef",ref:Q,model:t.leftTab},{default:l(()=>[e(y,{"body-style":""},{header:l(()=>[we]),default:l(()=>[e(i,{gutter:20},{default:l(()=>[e(u,{span:6},{default:l(()=>[e(n,{label:"项目名称",prop:"customerAccord"},{default:l(()=>[e(c,{modelValue:t.leftTab.customerAccord,"onUpdate:modelValue":o[0]||(o[0]=a=>t.leftTab.customerAccord=a),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:6},{default:l(()=>[e(n,{label:"项目标识",prop:"projectIdentification"},{default:l(()=>[e(c,{clearable:"",modelValue:t.leftTab.projectIdentification,"onUpdate:modelValue":o[1]||(o[1]=a=>t.leftTab.projectIdentification=a)},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:6},{default:l(()=>[e(n,{label:"所属客户",prop:"clientId"},{default:l(()=>[e(k,{placeholder:"Select",modelValue:t.leftTab.clientId,"onUpdate:modelValue":o[2]||(o[2]=a=>t.leftTab.clientId=a)},{default:l(()=>[(r(!0),j(F,null,B(s(C).customerList,a=>(r(),V(S,{key:a.tenantCustomerId,value:a.tenantCustomerId,label:a.customerAccord},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(u,{span:6},{default:l(()=>[e(n,{label:"所属国家",prop:"countryId"},{default:l(()=>[e(c,{clearable:"",filterable:"",modelValue:t.leftTab.countryId,"onUpdate:modelValue":o[3]||(o[3]=a=>t.leftTab.countryId=a)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(i,{gutter:20},{default:l(()=>[e(u,{span:6},{default:l(()=>[e(n,{label:"原价(美元)",prop:"doMoneyPrice"},{default:l(()=>[e(T,{modelValue:t.leftTab.doMoneyPrice,"onUpdate:modelValue":o[4]||(o[4]=a=>t.leftTab.doMoneyPrice=a),min:1,"controls-position":"right",size:"large"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:6},{default:l(()=>[e(n,{label:"配额",prop:"num"},{default:l(()=>[e(T,{modelValue:t.leftTab.num,"onUpdate:modelValue":o[5]||(o[5]=a=>t.leftTab.num=a),step:1,"step-strictly":"",min:1,"controls-position":"right",size:"large"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:6},{default:l(()=>[e(n,{label:"最小分长"},{default:l(()=>[e(T,{modelValue:t.leftTab.minimumDuration,"onUpdate:modelValue":o[6]||(o[6]=a=>t.leftTab.minimumDuration=a),min:1,step:1,"step-strictly":"","controls-position":"right",size:"large"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:6},{default:l(()=>[e(n,{label:"IR"},{default:l(()=>[e(T,{modelValue:t.leftTab.ir,"onUpdate:modelValue":o[7]||(o[7]=a=>t.leftTab.ir=a),min:1,"controls-position":"right",size:"large"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(i,{gutter:20},{default:l(()=>[e(u,{span:12},{default:l(()=>[e(n,{label:"UidUrl",prop:"uidUrl"},{default:l(()=>[e(c,{clearable:"",modelValue:t.leftTab.uidUrl,"onUpdate:modelValue":o[8]||(o[8]=a=>t.leftTab.uidUrl=a)},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:3},{default:l(()=>[e(n,{label:"填写互斥ID"},{default:l(()=>[e(w,{modelValue:t.leftTab.mutualExclusion,"onUpdate:modelValue":o[9]||(o[9]=a=>t.leftTab.mutualExclusion=a),style:{top:"-4px"},size:"large","true-value":1,"false-value":2},null,8,["modelValue"])]),_:1})]),_:1}),t.leftTab.mutualExclusion===1?(r(),V(u,{key:0,span:12},{default:l(()=>[e(n,{label:"互斥ID"},{default:l(()=>[e(c,{clearable:""})]),_:1})]),_:1})):U("",!0)]),_:1})]),_:1}),e(y,null,{header:l(()=>[p("div",je,[Pe,e($,{type:"primary",link:"",size:"default",onClick:K},{default:l(()=>[g(ve(s(I)?"收起":"展开"),1)]),_:1})])]),default:l(()=>[s(I)?(r(),j("div",Ce,[e(n,{label:"上传图片"},{default:l(()=>[e(le,{action:"http://saas-api.surveysaas.com/project/uploadQiniu","list-type":"picture-card",limit:1,"on-preview":Z,"on-remove":W,"on-success":X,"on-exceed":Y},{tip:l(()=>[Se]),default:l(()=>[e(ee,{class:"el-icon--upload"},{default:l(()=>[e(s(Te))]),_:1}),De]),_:1}),e(ae,{modelValue:s(x),"onUpdate:modelValue":o[10]||(o[10]=a=>N(x)?x.value=a:null),style:{"z-index":"1000",transform:"translate(0)",position:"relative"}},{default:l(()=>[p("img",{"w-full":"",src:s(E),alt:"Preview Image"},null,8,ze)]),_:1},8,["modelValue"])]),_:1}),e(i,{gutter:20},{default:l(()=>[e(u,{span:24},{default:l(()=>[e(n,{label:"项目描述"},{default:l(()=>[e(s(ie),{class:"editor",value:t.leftTab.richText,plugins:H,locale:s(pe),onChange:J},null,8,["value","locale"])]),_:1})]),_:1})]),_:1})])):U("",!0)]),_:1}),e(y,null,{header:l(()=>[Le]),default:l(()=>[e(i,{gutter:20},{default:l(()=>[e(u,{span:3},{default:l(()=>[e(n,{label:"置顶"},{default:l(()=>[e(_,{"active-value":1,"inactive-value":2,modelValue:t.leftTab.isPinned,"onUpdate:modelValue":o[11]||(o[11]=a=>t.leftTab.isPinned=a)},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:3},{default:l(()=>[e(n,{label:"在线"},{default:l(()=>[e(_,{"active-value":1,"inactive-value":2,modelValue:t.leftTab.isOnline,"onUpdate:modelValue":o[12]||(o[12]=a=>t.leftTab.isOnline=a)},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:3},{default:l(()=>[e(n,{label:"资料"},{default:l(()=>[e(_,{"active-value":1,"inactive-value":2,modelValue:t.leftTab.isProfile,"onUpdate:modelValue":o[13]||(o[13]=a=>t.leftTab.isProfile=a)},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:3},{default:l(()=>[e(n,{label:"B2B"},{default:l(()=>[e(_,{"active-value":1,"inactive-value":2,modelValue:t.leftTab.isB2b,"onUpdate:modelValue":o[14]||(o[14]=a=>t.leftTab.isB2b=a)},null,8,["modelValue"])]),_:1})]),_:1}),t.leftTab.isB2b===1?(r(),V(u,{key:0,span:6},{default:l(()=>[e(n,{label:"项目类型"},{default:l(()=>[e(k,{modelValue:t.leftTab.projectType,"onUpdate:modelValue":o[15]||(o[15]=a=>t.leftTab.projectType=a)},null,8,["modelValue"])]),_:1})]),_:1})):U("",!0),e(u,{span:3},{default:l(()=>[e(n,{label:"定时发布"},{default:l(()=>[e(_,{"active-value":1,"inactive-value":2,modelValue:t.leftTab.isTimeReleases,"onUpdate:modelValue":o[16]||(o[16]=a=>t.leftTab.isTimeReleases=a)},null,8,["modelValue"])]),_:1})]),_:1}),t.leftTab.isTimeReleases===1?(r(),V(u,{key:1,span:6},{default:l(()=>[e(n,{label:"发布时间"},{default:l(()=>[e(te,{type:"datetime",modelValue:t.leftTab.releaseTime,"onUpdate:modelValue":o[17]||(o[17]=a=>t.leftTab.releaseTime=a),placeholder:"请选择时间"},null,8,["modelValue"])]),_:1})]),_:1})):U("",!0),Be]),_:1}),e(i,{gutter:20},{default:l(()=>[e(u,{span:15},{default:l(()=>[e(n,{label:"备注"},{default:l(()=>[e(c,{maxlength:"200","show-word-limit":"",style:{width:"29rem"},type:"textarea",rows:5,modelValue:t.leftTab.remark,"onUpdate:modelValue":o[18]||(o[18]=a=>t.leftTab.remark=a)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["rules","model"])]),_:1}),t.leftTab.isProfile===1?(r(),V(z,{key:0,label:"配置信息"},{default:l(()=>[e(y,null,{header:l(()=>[Fe]),default:l(()=>[e(i,{gutter:20},{default:l(()=>[e(u,{span:6},{default:l(()=>[e(n,{label:"选择国家"},{default:l(()=>[e(k,{modelValue:t.leftTab.addProjectQuotaInfoList.country,"onUpdate:modelValue":o[19]||(o[19]=a=>t.leftTab.addProjectQuotaInfoList.country=a),multiple:"","collapse-tags":"","collapse-tags-tooltip":"",placeholder:"Select"},{default:l(()=>[(r(!0),j(F,null,B(s(q),a=>(r(),V(S,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(u,{span:6},{default:l(()=>[e(n,{label:"问卷名称"},{default:l(()=>[e(k,{modelValue:t.leftTab.addProjectQuotaInfoList.projectProblemId,"onUpdate:modelValue":o[20]||(o[20]=a=>t.leftTab.addProjectQuotaInfoList.projectProblemId=a),multiple:"","collapse-tags":"","collapse-tags-tooltip":"",placeholder:"Select"},{default:l(()=>[(r(!0),j(F,null,B(s(q),a=>(r(),V(S,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(i,{class:"allocation",gutter:20},{default:l(()=>[e(u,{span:20},{default:l(()=>[g(" 问题：性别 ")]),_:1}),e(u,{span:20},{default:l(()=>[e(n,null,{default:l(()=>[e(ue,null,{default:l(()=>[e(R,{value:"1",size:"large"},{default:l(()=>[g(" 男 ")]),_:1}),e(R,{value:"2",size:"large"},{default:l(()=>[g(" 女 ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(i,{class:"allocation",gutter:20},{default:l(()=>[e(u,{span:20},{default:l(()=>[g(" 问题：支持终端 ")]),_:1}),e(u,{span:20},{default:l(()=>[e(n,null,{default:l(()=>[e(ne,null,{default:l(()=>[e(w,{label:"PC",value:"Value A"}),e(w,{label:"平板",value:"Value B"}),e(w,{label:"Mobile",value:"Value C"})]),_:1})]),_:1})]),_:1})]),_:1}),e(i,{class:"allocation",gutter:20},{default:l(()=>[e(u,{span:20},{default:l(()=>[g(" 问题：年龄 ")]),_:1}),e(u,{span:20},{default:l(()=>[e(n,null,{default:l(()=>[e(n,{style:{width:"30rem"},label:"年龄"},{default:l(()=>[e(de,{modelValue:s(D),"onUpdate:modelValue":o[21]||(o[21]=a=>N(D)?D.value=a:null),range:"","show-stops":"",max:100},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):U("",!0),e(z,{label:"安全信息"},{default:l(()=>[e(y,null,{header:l(()=>[Ne]),default:l(()=>[e(i,{gutter:20},{default:l(()=>[e(u,{span:6},{default:l(()=>[e(n,{label:"小时准入量"},{default:l(()=>[e(T,{modelValue:t.leftTab.preNum,"onUpdate:modelValue":o[22]||(o[22]=a=>t.leftTab.preNum=a),min:1,step:1,"step-strictly":"","controls-position":"right",size:"large"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:6},{default:l(()=>[e(n,{label:"小时完成量"},{default:l(()=>[e(T,{modelValue:t.leftTab.limitedQuantity,"onUpdate:modelValue":o[23]||(o[23]=a=>t.leftTab.limitedQuantity=a),min:1,step:1,"step-strictly":"","controls-position":"right",size:"large"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(i,{gutter:20},{default:l(()=>[e(u,{span:4},{default:l(()=>[e(n,{label:"时差检测"},{default:l(()=>[e(_,{modelValue:t.leftTab.timeDifferenceDetection,"onUpdate:modelValue":o[24]||(o[24]=a=>t.leftTab.timeDifferenceDetection=a),"active-value":1,"inactive-value":2},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:4},{default:l(()=>[e(n,{label:"重复IP检测"},{default:l(()=>[e(_,{modelValue:t.leftTab.ipDifferenceDetection,"onUpdate:modelValue":o[25]||(o[25]=a=>t.leftTab.ipDifferenceDetection=a),"active-value":1,"inactive-value":2},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:4},{default:l(()=>[e(n,{label:"IP一致性检测"},{default:l(()=>[e(_,{modelValue:t.leftTab.ipConsistency,"onUpdate:modelValue":o[26]||(o[26]=a=>t.leftTab.ipConsistency=a),"active-value":1,"inactive-value":2},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),Ge=Ue(Qe,[["__scopeId","data-v-48207fea"]]);export{Ge as default};
