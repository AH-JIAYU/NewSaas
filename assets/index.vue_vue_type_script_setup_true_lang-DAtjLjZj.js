
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{a as v}from"./otherFunctions_screenLibrary-PGsyi3_E.js";import{d as U,m as y,u as F,r as m,c as M,a as u,o as _,b as S,f as o,w as s,g as E,i as t,e as R,j,ai as b}from"./index-C5nmrkzE.js";const J=U({__name:"index",props:y(["id","row"],{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:y(["success"],["update:modelValue"]),setup(i,{emit:w}){const n=i,I=w,d=F(i,"modelValue"),k=m(),e=m({status:2,isDefault:2}),C=m({categoryName:[{required:!0,message:"请输入名称",trigger:"blur"}],countryId:[{required:!0,message:"请选择国家",trigger:"blur"}]}),N=M(()=>(e.value={},n.id&&(e.value=JSON.parse(n.row)),n.id===""?"新增":"编辑"));async function x(){if(n.id){const{data:p,status:l}=await v.edit(e.value);l===1&&b.success({message:"编辑成功",center:!0})}else{const{data:p,status:l}=await v.create(e.value);l===1&&b.success({message:"新增成功",center:!0})}c(),I("success")}function c(){d.value=!1,e.value={}}return(p,l)=>{const f=u("ElInput"),r=u("ElFormItem"),V=u("ElSwitch"),B=u("ElForm"),g=u("ElButton"),D=u("ElDialog");return _(),S("div",null,[o(D,{modelValue:d.value,"onUpdate:modelValue":l[4]||(l[4]=a=>d.value=a),title:t(N),width:"50%","close-on-click-modal":!1,"append-to-body":"","destroy-on-close":""},{footer:s(()=>[o(g,{size:"large",onClick:c},{default:s(()=>[E(" 取消 ")]),_:1}),o(g,{type:"primary",size:"large",onClick:x},{default:s(()=>[E(" 确定 ")]),_:1})]),default:s(()=>[o(B,{ref_key:"formRef",ref:k,model:t(e),rules:t(C),"label-width":"120px","label-suffix":"："},{default:s(()=>[o(r,{label:"名称",prop:"categoryName"},{default:s(()=>[o(f,{modelValue:t(e).categoryName,"onUpdate:modelValue":l[0]||(l[0]=a=>t(e).categoryName=a),placeholder:"请输入名称"},null,8,["modelValue"])]),_:1}),o(r,{label:"国家",prop:"countryId"},{default:s(()=>[o(f,{modelValue:t(e).countryId,"onUpdate:modelValue":l[1]||(l[1]=a=>t(e).countryId=a),placeholder:"请输入国家"},null,8,["modelValue"])]),_:1}),o(r,{label:"状态"},{default:s(()=>[o(V,{modelValue:t(e).status,"onUpdate:modelValue":l[2]||(l[2]=a=>t(e).status=a),"active-value":1,"inactive-value":2,placeholder:"请输入状态"},null,8,["modelValue"])]),_:1}),t(e).projectProblemCategoryId?j("",!0):(_(),R(r,{key:0,label:"默认"},{default:s(()=>[o(V,{modelValue:t(e).isDefault,"onUpdate:modelValue":l[3]||(l[3]=a=>t(e).isDefault=a),"active-value":1,"inactive-value":2,placeholder:"请输入默认"},null,8,["modelValue"])]),_:1}))]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])])}}});export{J as _};
